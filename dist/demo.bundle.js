(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KnockoutComponents = (function () {
    function KnockoutComponents(appvm) {
        ko.components.register('chart-component', {
            viewModel: {
                createViewModel: function (params, componentInfo) {
                    // - 'params' is an object whose key/value pairs are the parameters
                    //   passed from the component binding or custom element
                    // - 'componentInfo.element' is the element the component is being
                    //   injected into. When createViewModel is called, the template has
                    //   already been injected into this element, but isn't yet bound.
                    // - 'componentInfo.templateNodes' is an array containing any DOM
                    //   nodes that have been supplied to the component. See below.
                    return appvm.insertChart(params.index, params, componentInfo ? componentInfo.element : undefined);
                }
            },
            template: { element: 'chart-component-template' }
        });
    }
    return KnockoutComponents;
}());
exports.KnockoutComponents = KnockoutComponents;
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Main module
 */
var KnockoutComponents_1 = require("./KnockoutComponents");
var KnockoutExtenions_1 = require("./plugins/KnockoutExtenions");
var AppViewModel_1 = require("./vm/AppViewModel");
var appModel = new AppViewModel_1.AppViewModel();
// init knockout extensions and components
//
var ext = new KnockoutExtenions_1.KnockoutExtenions();
var components = new KnockoutComponents_1.KnockoutComponents(appModel);
// bind view model
ko.applyBindings(appModel);
// init application
appModel
    .init()
    .then(function () {
    // hide splash screen
    $('#page-splash').hide();
})
    .catch(function (reason) {
    $('#page-splash').hide();
});
},{"./KnockoutComponents":1,"./plugins/KnockoutExtenions":3,"./vm/AppViewModel":7}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Custom knockout bindings
 */
var KnockoutExtenions = (function () {
    function KnockoutExtenions() {
        ko.bindingHandlers.winsize = {
            init: function (element, valueAccessor) {
                $(window).resize(function () {
                    var value = valueAccessor();
                    value({ width: $(window).width(), height: $(window).height() });
                });
            }
        };
        ko.bindingHandlers.domready = {
            init: function (element, valueAccessor) {
                $(document).ready(function () {
                    var value = valueAccessor();
                    value();
                });
            }
        };
        ko.virtualElements.allowedBindings.updateListviewOnChange = true;
        ko.bindingHandlers.updateListviewOnChange = {
            update: function (element, valueAccessor) {
                ko.utils.unwrapObservable(valueAccessor()); //grab dependency
                $('.list-component').listview({ refresh: true, mini: true, icon: '' });
                $('.collapsible-component').collapsible({ refresh: true, mini: true });
            }
        };
    }
    return KnockoutExtenions;
}());
exports.KnockoutExtenions = KnockoutExtenions;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var lychart = require("../../../src/lychart");
var DateUtils = lychart.utils.DateUtils;
var Uid = lychart.model.Uid;
var Utils_1 = require("./Utils");
var AssetService = (function () {
    function AssetService() {
    }
    AssetService.getAssets = function () {
        var self = this;
        if (this._assets) {
            return new Promise(function (resolve, reject) {
                resolve(self._assets);
            });
        }
        return new Promise(function (resolve, reject) {
            $.support.cors = true; // Otherwise "no transport" in IE 11.
            $.ajax({
                method: 'GET',
                dataType: 'json',
                url: settings.assetsUrl,
                contentType: 'application/json'
            })
                .then(function (data) {
                // save data and resolve
                self._assets = data;
                resolve(data);
            }, reject);
        });
    };
    return AssetService;
}());
exports.AssetService = AssetService;
function sendRequest(asset, timeStart, timeEnd, interval) {
    $.support.cors = true;
    var sets = {
        method: 'POST',
        crossDomain: true,
        dataType: 'json',
        url: settings.candlesUrl + asset,
        contentType: 'application/json',
        data: JSON.stringify({
            period: Utils_1.Utils.INTERVAL2PERIOD(interval),
            type: 'Bid',
            dateFrom: timeStart.toISOString(),
            dateTo: timeEnd.toISOString()
        })
    };
    return $.ajax(sets);
}
var DataService = (function () {
    function DataService() {
        this.readData = function (asset, timeStart, timeEnd, interval) {
            return sendRequest(asset, timeStart, timeEnd, interval);
        };
    }
    DataService.prototype.getCandle = function (asset, date, interval) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.readData(asset, date, DateUtils.addInterval(date, interval), interval)
                .then(function (response) { return DataService.resolveData(response); })
                .then(function (resolved) {
                resolve(resolved.data.length > 0 ? resolved.data[0] : undefined);
            });
        });
    };
    DataService.prototype.createDataSource = function (assetPairId, timeInterval) {
        var dataSource = new lychart.data.HttpDataSource(lychart.model.Candlestick, {
            url: '',
            autoupdate: false,
            readData: this.createDataReader(assetPairId),
            resolveData: DataService.resolveData,
            timeInterval: timeInterval,
            precision: 3
        });
        dataSource.asset = assetPairId;
        return dataSource;
    };
    DataService.prototype.createDataReader = function (asset) {
        return function (timeStart, timeEnd, interval) {
            return sendRequest(asset, timeStart, timeEnd, interval);
        };
    };
    return DataService;
}());
/**
 * Converts json from server to model.
 */
DataService.resolveData = function (response) {
    if (response) {
        var data = response.data
            .map(function (item) {
            var date = new Date(item.t);
            var stick = new lychart.model.Candlestick(date, item.c, item.o, item.h, item.l);
            // init uid
            stick.uid = new Uid(date);
            return stick;
        });
        return {
            dateFrom: new Date(response.dateFrom),
            dateTo: new Date(response.dateTo),
            interval: Utils_1.Utils.PERIOD2INTERVAL(response.period),
            data: data
        };
    }
    return {
        dateFrom: new Date(),
        dateTo: new Date(),
        interval: lychart.core.TimeInterval.notSet,
        data: []
    };
};
exports.DataService = DataService;
},{"../../../src/lychart":176,"./Utils":6}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Storage = (function () {
    function Storage() {
    }
    Storage.prototype.getItem = function (key) {
        if (localStorage) {
            return localStorage.getItem(key);
        }
        else {
            throw new Error('Local storage is not available.');
        }
    };
    Storage.prototype.setItem = function (key, value) {
        if (localStorage) {
            localStorage.setItem(key, value);
        }
        else {
            throw new Error('Local storage is not available.');
        }
    };
    return Storage;
}());
exports.Storage = Storage;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utils class.
 */
var lychart = require("../../../src/lychart");
var TimeInterval = lychart.core.TimeInterval;
var Utils = (function () {
    function Utils() {
    }
    Utils.INTERVAL2PERIOD = function (interval) {
        switch (interval) {
            case TimeInterval.sec: return 'Sec';
            case TimeInterval.min: return 'Minute';
            case TimeInterval.hour: return 'Hour';
            case TimeInterval.day: return 'Day';
            case TimeInterval.month: return 'Month';
            default: throw new Error('Unexpected interval.');
        }
    };
    Utils.PERIOD2INTERVAL = function (period) {
        switch (period) {
            case 'Sec': return TimeInterval.sec;
            case 'Minute': return TimeInterval.min;
            case 'Hour': return TimeInterval.hour;
            case 'Day': return TimeInterval.day;
            case 'Month': return TimeInterval.month;
            default: throw new Error('Unexpected period.');
        }
    };
    return Utils;
}());
exports.Utils = Utils;
},{"../../../src/lychart":176}],7:[function(require,module,exports){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var DataService_1 = require("../services/DataService");
var ChartViewModel_1 = require("./ChartViewModel");
var AppViewModel = (function () {
    function AppViewModel() {
        var _this = this;
        this.frameSize = { width: 0, height: 0 };
        this.mode = 1;
        this.charts = [];
        this.initialized = [];
        this.assets = [];
        this.dataService = new DataService_1.DataService();
        this.figures = ko.observableArray([
            { name: 'line', text: 'Line' },
            { name: 'hline', text: 'H-Line' },
            { name: 'vline', text: 'V-Line' },
            { name: 'rect', text: 'Rect' },
            { name: 'triangle', text: 'Triangle' },
            { name: 'path', text: 'Path' },
            { name: 'pitchfork', text: 'Pitchfork' },
            { name: 'text', text: 'Text' },
            { name: 'ellipse', text: 'Ellipse' },
            { name: 'trendchannel', text: 'Trend Channel' },
            { name: 'curve', text: 'Curve' },
            { name: 'daterange', text: 'Date Range' },
            { name: 'fibofan', text: 'Fibo Fan' },
            { name: 'fibolevel', text: 'Fibo Level' },
            { name: 'fiboprojection', text: 'Fibo Projection' },
            { name: 'fibotimeprojection', text: 'Fibo Time Projection' },
            { name: 'gannfan', text: 'Gann Fan' },
            { name: 'ohlcproj', text: 'OHLC Proj' }
        ]);
        this.onComponentLoaded = function (chartComponent) {
            // let index = -1;
            // this.charts.forEach((cvm, i) => {
            //     index = i;
            //     return cvm === chartComponent;
            // });
            // console.log(`avm: onComponentLoaded. index=${index} initialized= ${this.initialized[index]}`);
            // if (!this.initialized[index]) {
            //     const layout = this.getChartLayout(index);
            //     this.initialized[index] = chartComponent.init(layout.w, layout.h, layout.v);
            // }
        };
        this.onready = function () {
            _this.updateChildComponents();
        };
        this.onresize = function (size) {
            _this.resizeFrame(size.width, size.height);
            _this.updateChildComponents();
        };
    }
    AppViewModel.prototype.cmdAddFigure = function (figureName) {
        // close popup
        $('#popupMenu').popup('close');
        // start drawing
        if (this.selectedChart) {
            this.selectedChart.cmdAddFigure(figureName);
        }
    };
    AppViewModel.prototype.cmdSetCurrentChart = function (vm) {
        this.selectedChart = vm;
    };
    AppViewModel.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _i, _b, chart, e_1;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.$frame = $('#frame');
                        this.resizeFrame($(window).width(), $(window).height());
                        console.log('Loading assets.');
                        _c.label = 1;
                    case 1:
                        _c.trys.push([1, 3, , 4]);
                        _a = this;
                        return [4 /*yield*/, DataService_1.AssetService.getAssets()];
                    case 2:
                        _a.assets = _c.sent();
                        console.log('Assets are loaded.');
                        for (_i = 0, _b = this.charts; _i < _b.length; _i++) {
                            chart = _b[_i];
                            chart.assets(this.assets);
                        }
                        this.initChildComponents();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _c.sent();
                        console.error('Error during loading: ' + e_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    AppViewModel.prototype.insertChart = function (index, params, node) {
        if (!node) {
            throw new Error('Node must be specified.');
        }
        if (this.charts[index] === undefined) {
            this.charts[index] = new ChartViewModel_1.ChartViewModel(params, node, this.assets, this.dataService);
            this.initialized[index] = false;
            return this.charts[index];
        }
        else {
            throw new Error("Chart is already created at index = " + index + ".");
        }
    };
    AppViewModel.prototype.setMode = function (n) {
        this.mode = n;
        this.updateChildComponents();
    };
    AppViewModel.prototype.resizeFrame = function (w, h) {
        this.frameSize = { width: w, height: h };
        this.$frame.height(h - 2);
    };
    AppViewModel.prototype.initChildComponents = function () {
        var _this = this;
        this.charts.forEach(function (chart, index) {
            if (!_this.initialized[index]) {
                var layout = _this.getChartLayout(index);
                _this.initialized[index] = chart.init(layout.w, layout.h, layout.v);
            }
        });
    };
    AppViewModel.prototype.updateChildComponents = function () {
        var _this = this;
        this.charts.forEach(function (c, i) {
            var layout = _this.getChartLayout(i);
            c.setVisible(layout.v);
            c.resize(layout.w, layout.h);
        });
    };
    AppViewModel.prototype.getChartLayout = function (chartIndex) {
        var frameHeight = this.frameSize.height - 50;
        var frameWidth = this.frameSize.width - 6;
        if (chartIndex === 0) {
            return this.mode === 1
                ? { w: this.frameSize.width, h: frameHeight - 2, v: true }
                : { w: frameWidth / 2, h: frameHeight / 2 - 2, v: true };
        }
        else {
            return this.mode === 1
                ? { w: frameWidth / 2, h: frameHeight / 2 - 2, v: false }
                : { w: frameWidth / 2, h: frameHeight / 2 - 2, v: true };
        }
    };
    return AppViewModel;
}());
exports.AppViewModel = AppViewModel;
},{"../services/DataService":4,"./ChartViewModel":8}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var ChartBoard = lychart.ChartBoard;
var Storage_1 = require("../services/Storage");
var PropsViewModel_1 = require("./PropsViewModel");
var TreeViewModel_1 = require("./TreeViewModel");
var PANEL_WIDTH = 200;
var ChartViewModel = (function () {
    function ChartViewModel(params, node, assets, dataService) {
        var _this = this;
        this.actualIndicators = [];
        this.editPropertiesMode = ko.observable(false);
        this.visible = ko.observable(false);
        this.width = ko.observable(0);
        this.height = ko.observable(0);
        this.assets = ko.observableArray([]);
        this.selectedAsset = ko.observable('BTCCHF');
        this.selectedInterval = ko.observable('hour');
        this.selectedChartType = ko.observable('candle');
        this.selectedCompareAsset = ko.observable('BTCCHF');
        this.selectedIndicators = ko.observableArray([]);
        this.panelVisible = ko.observable(false);
        this.panelWidth = ko.observable(44);
        this.panelHeight = ko.observable(0);
        /*
         * Event handlers
        */
        this.onAssetChanged = function () {
            console.log('cvm: event "asset changed"');
            _this.resetChart();
        };
        this.onIntervalChanged = function () {
            console.log('cvm: event "interval changed"');
            _this.resetChart();
        };
        this.onChartTypeChanged = function () {
            _this.board.setChartType(_this.selectedChartType());
            _this.treeVM.update();
            // this.board.render();
        };
        this.onIndicatorsChanged = function () {
            var selected = _this.selectedIndicators();
            var added = selected ? selected.filter(function (item) { return !_this.actualIndicators.some(function (existing) { return existing === item; }); }) : [];
            var removed = selected ? _this.actualIndicators.filter(function (existing) { return !selected.some(function (sel) { return sel === existing; }); }) : _this.actualIndicators;
            added.forEach(function (indicator) {
                var splits = indicator.split('_');
                _this.changeIndicator(splits[0], splits[0], parseInt(splits[1], 10), true);
            });
            removed.forEach(function (indicator) {
                var splits = indicator.split('_');
                _this.changeIndicator(splits[0], splits[0], parseInt(splits[1], 10), false);
            });
            _this.actualIndicators = selected ? selected : [];
            _this.treeVM.update();
            _this.board.render();
        };
        this.tree_onItemSelected = function (arg) {
            _this.propsVM.rebuild(arg.object);
            _this.editPropertiesMode(true);
        };
        this.props_onClosing = function () {
            _this.editPropertiesMode(false);
        };
        this.props_onApplied = function () {
            _this.board.render();
        };
        this.board_onObjectSelected = function (arg) {
            _this.tree_onItemSelected(new TreeViewModel_1.ItemSelectedArg('', arg.obj));
        };
        this.board_onObjectTreeChanged = function (arg) {
            _this.treeVM.update();
        };
        this.changeIndicator = function (uid, indicatorType, index, state) {
            if (state) {
                _this.board.addIndicator(uid, indicatorType, index);
            }
            else {
                _this.board.removeIndicator(uid);
            }
        };
        this.assets(assets);
        this.node = node;
        this.params = params;
        this.dataService = dataService;
        this.selectedAsset.subscribe(this.onAssetChanged);
        this.selectedInterval.subscribe(this.onIntervalChanged);
        this.selectedChartType.subscribe(this.onChartTypeChanged);
        this.selectedIndicators.subscribe(this.onIndicatorsChanged);
        this.$chartContainer = $('.chart-container', this.node);
        // Init chart board
        //
        var offset = this.$chartContainer.offset();
        this.board = new ChartBoard(this.$chartContainer[0], offset.left, offset.top, 200, 200, lychart.core.TimeInterval.min, new Storage_1.Storage(), this.dataService);
        this.board.objectSelected.on(this.board_onObjectSelected);
        this.board.objectTreeChanged.on(this.board_onObjectTreeChanged);
        console.log('cvm: chart board created.');
        // Init tree vm
        //
        this.treeVM = new TreeViewModel_1.TreeViewModel(this.board);
        this.treeVM.itemSelected.on(this.tree_onItemSelected);
        // Init props vm
        //
        this.propsVM = new PropsViewModel_1.PropsViewModel($('.properties', this.node)[0], this.board);
        this.propsVM.propsClosingEvent.on(this.props_onClosing);
        this.propsVM.propsAppliedEvent.on(this.props_onApplied);
    }
    ChartViewModel.prototype.afterLoad = function () {
        if (this.params.loaded) {
            this.params.loaded(this);
        }
    };
    ChartViewModel.prototype.cmdAddFigure = function (figureType) {
        if (figureType) {
            this.board.drawing.start(figureType);
        }
    };
    ChartViewModel.prototype.cmdCompare = function () {
        var asset = this.selectedCompareAsset();
        var ds = this.dataService.createDataSource(asset, str2interval(this.selectedInterval()));
        this.board.addChart(lychart.utils.UidUtils.NEWUID(), asset, lychart.core.ChartType.candle, ds);
    };
    ChartViewModel.prototype.cmdShowPanel = function (visible) {
        this.panelVisible(visible);
        this.panelWidth(visible ? PANEL_WIDTH : 44);
        this.resizeChartContainer();
        this.board.render();
    };
    ChartViewModel.prototype.init = function (w, h, visible) {
        console.log('cvm: initializing...');
        this.width(w);
        this.height(h);
        this.visible(visible);
        var initialized = this.resetChart();
        this.treeVM.update();
        if (initialized) {
            console.log('Initialized');
        }
        else {
            console.log('Not initialized');
        }
        return initialized;
    };
    ChartViewModel.prototype.resize = function (w, h) {
        this.width(w);
        this.height(h);
        this.resizeChartContainer();
        this.board.render();
    };
    ChartViewModel.prototype.setVisible = function (value) {
        this.visible(value);
    };
    ChartViewModel.prototype.resizeChartContainer = function () {
        // Compute size of chart based on component size and panels size
        //
        var w = this.width();
        var h = this.height();
        var $chartToolbar = $('.chart-toolbar', this.node);
        var chartH = Math.max(h - $chartToolbar.height(), 0);
        var chartW = Math.max(this.panelVisible() ? w - PANEL_WIDTH : w - 44, 0);
        // resize container
        //
        this.$chartContainer.height(chartH);
        this.$chartContainer.width(chartW);
        // resize board
        //
        this.board.resize(chartW, chartH);
        var offset = this.$chartContainer.offset();
        this.board.offset = new lychart.shared.Point(offset.left, offset.top);
        // resize panel
        this.panelHeight(chartH - 2);
    };
    /**
     * Changes chart to the selected asset pair and time interval.
     * @param assetPairId
     * @param timeInterval
     */
    ChartViewModel.prototype.setChart = function (assetPairId, timeInterval) {
        if (!assetPairId || !timeInterval) {
            return false;
        }
        if (this.dataSource) {
            this.dataSource.dispose();
        }
        console.log('cvm: creating data source...');
        // recreate data source
        this.dataSource = this.dataService.createDataSource(assetPairId, timeInterval);
        this.board.setTimeInterval(timeInterval);
        this.board.setDataSource(assetPairId, // uid
        assetPairId, // name
        (timeInterval === lychart.core.TimeInterval.sec) ? lychart.core.ChartType.line : lychart.core.ChartType.candle, this.dataSource);
        return true;
    };
    ChartViewModel.prototype.resetChart = function () {
        return this.setChart(this.selectedAsset(), str2interval(this.selectedInterval()));
    };
    return ChartViewModel;
}());
exports.ChartViewModel = ChartViewModel;
function str2interval(value) {
    var timeinterval = value;
    return lychart.core.TimeInterval[timeinterval];
}
},{"../../../src/lychart":176,"../services/Storage":5,"./PropsViewModel":9,"./TreeViewModel":10}],9:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * PropsViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var Event = lychart.shared.Event;
var SettingSet = lychart.core.SettingSet;
var SettingType = lychart.core.SettingType;
var PropsEvent = (function (_super) {
    __extends(PropsEvent, _super);
    function PropsEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return PropsEvent;
}(Event));
exports.PropsEvent = PropsEvent;
var PropsViewModel = (function () {
    //private $propsContainer: JQuery;
    function PropsViewModel(container, board) {
        this.container = container;
        this.board = board;
        this.propsClosingEvent = new PropsEvent();
        this.propsAppliedEvent = new PropsEvent();
        this.title = ko.observable('');
    }
    PropsViewModel.prototype.cmdApply = function () {
        if (this.obj && typeof this.obj.setSettings === 'function') {
            var settings = this.collectSettings();
            this.obj.setSettings(settings);
        }
        this.propsAppliedEvent.trigger();
    };
    PropsViewModel.prototype.cmdCancel = function () {
        this.propsClosingEvent.trigger();
    };
    PropsViewModel.prototype.rebuild = function (obj) {
        if (!obj) {
            throw new Error('Object is not specified');
        }
        this.obj = obj;
        // set title
        this.title(obj.name || '');
        // clear controls
        //this.$propsContainer = $('.properties', this.container);
        $(this.container).empty();
        // load settings
        if (typeof obj.getSettings === 'function') {
            var settings = obj.getSettings();
            this.settingName = settings.name;
            this.iterate(settings, '', this.title());
        }
        else {
            this.settingName = '';
        }
    };
    PropsViewModel.prototype.iterate = function (ss, path, title) {
        path = path ? path + '.' + ss.name : ss.name;
        for (var _i = 0, _a = Object.keys(ss.settings); _i < _a.length; _i++) {
            var s = _a[_i];
            var setting = ss.settings[s];
            // Set group's name
            if (setting.group && setting.dispalyName) {
                var $div = $('<h4 />')
                    .text(setting.dispalyName)
                    .addClass('subtitle')
                    .appendTo(this.container);
            }
            this.populateSetting(setting, path + '.' + setting.name);
            this.iterate(setting, path, '');
        }
    };
    PropsViewModel.prototype.populateSetting = function (ss, fullPath) {
        if (ss.group) {
            return;
        }
        var $div = $('<div />')
            .addClass('field-contain')
            .appendTo(this.container);
        $('<label />')
            .text(ss.dispalyName)
            .addClass('field-title')
            .appendTo($div);
        switch (ss.settingType) {
            case SettingType.check:
                $('<input />', {
                    type: 'checkbox',
                    name: fullPath,
                    checked: ss.value === 'true',
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.color:
                $('<input />', {
                    type: 'color',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.numeric:
                $('<input />', {
                    type: 'text',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.date:
                $('<input />', {
                    type: 'date',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.select:
                var sel_1 = $('<select />', {
                    name: fullPath
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                ss.options.forEach(function (option) {
                    $('<option />', {
                        value: option.value,
                        text: option.text,
                        selected: (option.value === ss.value) ? 'selected' : false
                    })
                        .appendTo(sel_1);
                });
                break;
            default:
        }
    };
    PropsViewModel.prototype.collectSettings = function () {
        var s = new SettingSet(this.settingName);
        var elements = $('.field-input', this.container).get();
        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {
            var element = elements_1[_i];
            var attrType = element.getAttribute('type');
            var path = element.getAttribute('name');
            if (path) {
                var parts = path.split('.');
                var name_1 = parts.length > 0 ? parts[parts.length - 1] : '';
                var ss = new SettingSet(name_1);
                ss.settingType = element.getAttribute('data-type') || '';
                if (attrType === 'checkbox') {
                    ss.value = element.checked.toString();
                }
                else if (attrType === 'color') {
                    ss.value = element.value;
                }
                else if (attrType === 'text') {
                    ss.value = element.value;
                }
                else if (attrType === 'date') {
                    ss.value = element.value;
                }
                else if (element instanceof HTMLSelectElement) {
                    var options = element.options;
                    ss.value = options[options.selectedIndex].value;
                }
                s.setSetting(path, ss);
            }
        }
        return s;
    };
    return PropsViewModel;
}());
exports.PropsViewModel = PropsViewModel;
},{"../../../src/lychart":176}],10:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TreeViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var Event = lychart.shared.Event;
var ItemSelectedArg = (function () {
    function ItemSelectedArg(uid, object) {
        this.uid = uid;
        this.object = object;
    }
    return ItemSelectedArg;
}());
exports.ItemSelectedArg = ItemSelectedArg;
var ItemSelectedEvent = (function (_super) {
    __extends(ItemSelectedEvent, _super);
    function ItemSelectedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ItemSelectedEvent;
}(Event));
exports.ItemSelectedEvent = ItemSelectedEvent;
var TreeViewModel = (function () {
    function TreeViewModel(board) {
        this.board = board;
        this.itemSelected = new ItemSelectedEvent();
        this.stacks = ko.observableArray();
        this.rebuild();
    }
    TreeViewModel.prototype.cmdSelectChart = function (chart) {
        if (chart && chart.uid) {
            this.selectObjectByUid(chart.uid);
        }
    };
    TreeViewModel.prototype.cmdSelectFigure = function (figure) {
        if (figure && figure.uid) {
            this.selectObjectByUid(figure.uid);
        }
    };
    TreeViewModel.prototype.selectObjectByUid = function (uid) {
        if (uid) {
            var obj = this.board.getObjectById(uid);
            if (obj) {
                this.itemSelected.trigger(new ItemSelectedArg(uid, obj));
            }
            else {
                console.error('Object is not found, uid = ' + uid);
            }
        }
    };
    TreeViewModel.prototype.update = function () {
        this.rebuild();
        //$('[data-role="collapsible"]').collapsible({ refresh: true });
        //$('[data-role="collapsible"]').collapsible({ mini: true });
        $('[data-role="collapsible"]').trigger('create');
    };
    TreeViewModel.prototype.rebuild = function () {
        this.stacks.removeAll();
        var self = this;
        this.board.stacks.forEach(function (stack) {
            var charts = stack.charts.map(function (s) {
                return { uid: s.uid, name: s.name };
            });
            var figures = stack.figures.map(function (f) {
                return { uid: f.uid, name: f.name };
            });
            self.stacks.push({
                uid: stack.uid,
                name: 'Chart',
                charts: charts,
                figures: figures
            });
        });
    };
    return TreeViewModel;
}());
exports.TreeViewModel = TreeViewModel;
},{"../../../src/lychart":176}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes related to grid calculation.
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var Scale = (function () {
    function Scale(step, precision) {
        this.step = step;
        this.precision = precision;
    }
    return Scale;
}());
var NumberAutoGrid = (function () {
    function NumberAutoGrid(length, minInterval, range) {
        if (!length || length <= 0) {
            throw new Error("Argument \"length\" " + length + " is out of range.");
        }
        if (!minInterval || minInterval <= 0) {
            throw new Error("Argument \"minInterval\" " + minInterval + " is out of range.");
        }
        if (!range || range.end === undefined || range.start === undefined) {
            throw new Error('Argument "range" is not specified.');
        }
        this.length = length;
        this.minInterval = minInterval;
        this.range = range;
    }
    NumberAutoGrid.prototype.getGrid = function () {
        var grid = new index_1.Grid();
        // 1. Define how many bars can be fitted
        var _a = [1, Math.floor(this.length / 20)], minBars = _a[0], maxBars = _a[1];
        // 2. Choose fitting scale
        var rangeAbs = Math.abs(this.range.end - this.range.start);
        var selectedScale = undefined;
        for (var _i = 0, _b = NumberAutoGrid.scales; _i < _b.length; _i++) {
            var scale = _b[_i];
            if (scale.step < this.minInterval) {
                continue;
            }
            // how many bars does this scale require:
            var barsRequired = Math.floor(rangeAbs / scale.step) + 1;
            if (barsRequired >= minBars && barsRequired <= maxBars) {
                selectedScale = scale;
                break;
            }
        }
        if (selectedScale === undefined) {
            return grid;
        }
        // 3. Calculate first bar
        //
        // ... if start time is placed on bar use it, otherwise calculate where first bar lies
        var bar = 0;
        if (this.range.start % selectedScale.step === 0) {
            bar = this.range.start;
        }
        else {
            // ... add scale value and truncate 
            var num = this.range.start + (this.range.start >= 0 ? selectedScale.step : -selectedScale.step);
            bar = num - (num % selectedScale.step);
        }
        // 4. Calculate remaining bars
        var t = bar;
        while (t <= this.range.end + selectedScale.step) {
            grid.bars.push(t);
            t += selectedScale.step;
        }
        grid.precision = selectedScale.precision;
        return grid;
    };
    return NumberAutoGrid;
}());
NumberAutoGrid.scales = [
    new Scale(0.0001, 0),
    new Scale(0.0005, 0),
    new Scale(0.0010, 0),
    new Scale(0.0025, 0),
    new Scale(0.0050, 0),
    new Scale(0.0100, 0),
    new Scale(0.0250, 0),
    new Scale(0.0500, 0),
    new Scale(0.1000, 0),
    new Scale(0.2500, 0),
    new Scale(0.5000, 0),
    new Scale(1.0000, 0),
    new Scale(5.0000, 0),
    new Scale(10.0000, 0),
    new Scale(25.0000, 0),
    new Scale(50.0000, 0),
    new Scale(100, 0),
    new Scale(250, 0),
    new Scale(500, 0),
    new Scale(1000, 0),
    new Scale(2500, 0),
    new Scale(5000, 0),
    new Scale(10000, 0),
    new Scale(25000, 0),
    new Scale(50000, 0),
    new Scale(100000, 0),
    new Scale(250000, 0),
    new Scale(500000, 0)
];
exports.NumberAutoGrid = NumberAutoGrid;
var TimeAutoGrid = (function () {
    function TimeAutoGrid(width, minInterval, time, range) {
        if (!width || width <= 0) {
            throw new Error("Argument \"width\" " + width + " is out of range.");
        }
        if (!minInterval || minInterval < 0) {
            throw new Error("Argument \"minInterval\" " + minInterval + " is out of range.");
        }
        this.width = width;
        this.minInterval = minInterval;
        this.range = range;
        this.time = time;
        this.scale = TimeAutoGrid.selectScale(this.width, this.minInterval, this.range);
    }
    TimeAutoGrid.selectScale = function (width, minInterval, range) {
        var grid = [];
        // 1. Define how many bars can be fitted
        var _a = [1, Math.floor(width / 75)], minBars = _a[0], maxBars = _a[1];
        // 2. Choose fitting scale
        var rangeInMs = Math.abs(range.end.t.getTime() - range.start.t.getTime());
        var selectedScale = 0;
        for (var _i = 0, _b = TimeAutoGrid.scales; _i < _b.length; _i++) {
            var scale = _b[_i];
            if (scale < minInterval) {
                continue;
            }
            // how many bars does this scale require:
            var barsRequired = Math.floor(rangeInMs / scale) + 1;
            if (barsRequired >= minBars && barsRequired <= maxBars) {
                selectedScale = scale;
                break;
            }
        }
        return selectedScale;
    };
    Object.defineProperty(TimeAutoGrid.prototype, "current", {
        get: function () {
            return this.time.current;
        },
        enumerable: true,
        configurable: true
    });
    TimeAutoGrid.prototype.reset = function () {
        this.time.reset();
    };
    TimeAutoGrid.prototype.moveNext = function () {
        var found = false;
        while (this.time.moveNext()) {
            if (index_2.DateUtils.isRound(this.time.current.uid.t, this.scale)) {
                found = true;
                break;
            }
        }
        return found;
    };
    return TimeAutoGrid;
}());
TimeAutoGrid.scales = [
    index_1.TimeInterval.sec,
    index_1.TimeInterval.min,
    index_1.TimeInterval.min5,
    index_1.TimeInterval.min15,
    index_1.TimeInterval.min30,
    index_1.TimeInterval.hour,
    index_1.TimeInterval.hour4,
    index_1.TimeInterval.hour6,
    index_1.TimeInterval.hour12,
    index_1.TimeInterval.day,
    index_1.TimeInterval.day3,
    index_1.TimeInterval.week,
    index_1.TimeInterval.day10,
    index_1.TimeInterval.month
];
exports.TimeAutoGrid = TimeAutoGrid;
},{"../core/index":53,"../utils/index":175}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AutoGrid_1 = require("./AutoGrid");
var NumberAxis = (function () {
    function NumberAxis(length, interval, // Defines maximum zoom
        initialRange) {
        this._length = length;
        this._interval = interval;
        this._range = initialRange ? initialRange : { start: 0, end: 0 };
    }
    Object.defineProperty(NumberAxis.prototype, "length", {
        set: function (value) {
            this._length = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberAxis.prototype, "range", {
        get: function () {
            return this._range;
        },
        set: function (newRange) {
            this._range = newRange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        enumerable: true,
        configurable: true
    });
    NumberAxis.prototype.getGrid = function () {
        var autoGrid = new AutoGrid_1.NumberAutoGrid(this._length, this.interval, this.range);
        return autoGrid.getGrid();
    };
    NumberAxis.prototype.getValuesRange = function (fromX, toX) {
        if (fromX > 0 && toX > 0 && fromX < this._length && toX < this._length) {
            return {
                start: this.toValue(Math.max(fromX, toX)),
                end: this.toValue(Math.min(fromX, toX))
            };
        }
        else {
            return { start: undefined, end: undefined };
        }
    };
    NumberAxis.prototype.toValue = function (x) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = x / this._length;
        return max - d * range;
    };
    NumberAxis.prototype.toX = function (value) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = (max - value) / range; // inverted Y
        return d * this._length;
    };
    NumberAxis.prototype.toIndex = function (x) {
        return this.toValue(x);
    };
    NumberAxis.prototype.move = function (direction) {
    };
    NumberAxis.prototype.scale = function (direction) {
    };
    return NumberAxis;
}());
exports.NumberAxis = NumberAxis;
},{"./AutoGrid":11}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AutoGrid_1 = require("./AutoGrid");
var PriceAxis = (function () {
    function PriceAxis(length, interval, // defines maximum zoom
        initialRange) {
        this._length = length;
        this._interval = interval;
        this._range = initialRange ? initialRange : { start: 0, end: 0 };
    }
    Object.defineProperty(PriceAxis.prototype, "range", {
        get: function () {
            return this._range;
        },
        set: function (newRange) {
            this._range = newRange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PriceAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PriceAxis.prototype, "length", {
        set: function (value) {
            this._length = value;
        },
        enumerable: true,
        configurable: true
    });
    PriceAxis.prototype.getGrid = function () {
        var autoGrid = new AutoGrid_1.NumberAutoGrid(this._length, this.interval, this.range);
        return autoGrid.getGrid();
    };
    PriceAxis.prototype.getValuesRange = function (fromX, toX) {
        if (fromX > 0 && toX > 0 && fromX < this._length && toX < this._length) {
            return {
                start: this.toValue(Math.max(fromX, toX)),
                end: this.toValue(Math.min(fromX, toX))
            };
        }
        else {
            return { start: undefined, end: undefined };
        }
    };
    PriceAxis.prototype.toValue = function (x) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = x / this._length;
        return max - d * range;
    };
    PriceAxis.prototype.toX = function (value) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = (max - value) / range; // inverted Y
        return d * this._length;
    };
    PriceAxis.prototype.toIndex = function (x) {
        return this.toValue(x);
    };
    PriceAxis.prototype.move = function (direction) {
    };
    PriceAxis.prototype.scale = function (direction) {
    };
    return PriceAxis;
}());
exports.PriceAxis = PriceAxis;
},{"./AutoGrid":11}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var AutoGrid_1 = require("./AutoGrid");
exports.TimeAutoGrid = AutoGrid_1.TimeAutoGrid;
var NumberAxis_1 = require("./NumberAxis");
exports.NumberAxis = NumberAxis_1.NumberAxis;
var PriceAxis_1 = require("./PriceAxis");
exports.PriceAxis = PriceAxis_1.PriceAxis;
},{"./AutoGrid":11,"./NumberAxis":12,"./PriceAxis":13}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
* CanvasWrapper class.
*
* @classdesc Incapsulates usage of canvas.
*/
var Enums_1 = require("./Enums");
var CanvasWrapper = (function () {
    function CanvasWrapper(context, width, height) {
        this.adj = 0.5; // Adjusment to remove blury lines. Default value for line width = 1.
        this.ctx = context;
        var dpr = window.devicePixelRatio || 1;
        var bsr = this.ctx.webkitBackingStorePixelRatio ||
            this.ctx.mozBackingStorePixelRatio ||
            this.ctx.msBackingStorePixelRatio ||
            this.ctx.oBackingStorePixelRatio ||
            this.ctx.backingStorePixelRatio || 1;
        this.ratio = dpr / bsr;
        this.w = width;
        this.h = height;
        this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
    }
    Object.defineProperty(CanvasWrapper.prototype, "font", {
        get: function () {
            return this.ctx.font;
        },
        set: function (font) {
            this.ctx.font = font;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "fillStyle", {
        set: function (fillStyle) {
            this.ctx.fillStyle = fillStyle;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "globalAlpha", {
        get: function () {
            return this.ctx.globalAlpha;
        },
        set: function (alpha) {
            this.ctx.globalAlpha = alpha;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "lineWidth", {
        get: function () {
            return this.ctx.lineWidth;
        },
        set: function (w) {
            this.adj = (w % 2) / 2; // If line is width 1, 3, 5... then adjust coords to remove blur.
            this.ctx.lineWidth = w;
        },
        enumerable: true,
        configurable: true
    });
    CanvasWrapper.prototype.clear = function () {
        this.ctx.clearRect(0, 0, this.round(this.w), this.round(this.h));
    };
    CanvasWrapper.prototype.getLineDash = function () {
        return this.ctx.getLineDash();
    };
    CanvasWrapper.prototype.setLineDash = function (segments) {
        this.ctx.setLineDash(segments);
    };
    CanvasWrapper.prototype.moveTo = function (x, y) {
        this.ctx.moveTo(this.round(x) + this.adj, this.round(y) + this.adj);
    };
    CanvasWrapper.prototype.lineTo = function (x, y) {
        this.ctx.lineTo(this.round(x) + this.adj, this.round(y) + this.adj);
    };
    CanvasWrapper.prototype.fill = function (fillRule) {
        this.ctx.fill(fillRule);
    };
    CanvasWrapper.prototype.fillRect = function (x, y, w, h) {
        this.ctx.fillRect(this.round(x), this.round(y), this.round(w), this.round(h));
    };
    CanvasWrapper.prototype.strokeRect = function (x, y, w, h) {
        this.ctx.strokeRect(this.round(x) + this.adj, this.round(y) + this.adj, this.round(w) - this.adj * 2, this.round(h) - this.adj * 2);
    };
    // Used with beginPath() / stroke() / strokeStyle / fill()
    CanvasWrapper.prototype.rect = function (x, y, w, h) {
        this.ctx.rect(this.round(x) + this.adj, this.round(y) + this.adj, this.round(w) - this.adj * 2, this.round(h) - this.adj * 2);
    };
    CanvasWrapper.prototype.arc = function (x, y, radius, startAngle, endAngle, anticlockwise) {
        this.ctx.arc(this.round(x), this.round(y), radius, startAngle, endAngle, anticlockwise);
    };
    CanvasWrapper.prototype.ellipse = function (x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {
        this.ctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);
    };
    CanvasWrapper.prototype.quadraticCurveTo = function (cpx, cpy, x, y) {
        this.ctx.quadraticCurveTo(cpx, cpy, x, y);
    };
    CanvasWrapper.prototype.fillText = function (s, x, y) {
        this.ctx.fillText(s, this.round(x), this.round(y));
    };
    CanvasWrapper.prototype.drawImage = function (canvas, offsetX, offsetY, width, height) {
        this.ctx.drawImage(canvas, offsetX, offsetY, width, height);
    };
    CanvasWrapper.prototype.resize = function (w, h) {
        this.w = w;
        this.h = h;
        // restore transformation
        this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
    };
    CanvasWrapper.prototype.beginPath = function () {
        this.ctx.beginPath();
    };
    CanvasWrapper.prototype.stroke = function () {
        this.ctx.stroke();
    };
    CanvasWrapper.prototype.closePath = function () {
        this.ctx.closePath();
    };
    CanvasWrapper.prototype.setStrokeStyle = function (style) {
        this.ctx.strokeStyle = style;
    };
    CanvasWrapper.prototype.setFillStyle = function (style) {
        this.ctx.fillStyle = style;
    };
    CanvasWrapper.prototype.setTextAlign = function (v) {
        this.ctx.textAlign = Enums_1.CanvasTextBaseLine[v].toLowerCase();
    };
    CanvasWrapper.prototype.setTextBaseLine = function (v) {
        this.ctx.textBaseline = Enums_1.CanvasTextBaseLine[v].toLowerCase();
    };
    CanvasWrapper.prototype.measureText = function (text) {
        return this.ctx.measureText(text);
    };
    CanvasWrapper.prototype.strokeText = function (text, x, y, maxWidth) {
        this.ctx.strokeText(text, this.round(x), this.round(y), maxWidth);
    };
    CanvasWrapper.prototype.save = function () {
        this.ctx.save();
    };
    CanvasWrapper.prototype.restore = function () {
        this.ctx.restore();
    };
    CanvasWrapper.prototype.clip = function (fillRule) {
        this.ctx.clip(fillRule);
    };
    CanvasWrapper.prototype.round = function (n) {
        return (0.5 + n) | 0;
    };
    return CanvasWrapper;
}());
exports.CanvasWrapper = CanvasWrapper;
},{"./Enums":16}],16:[function(require,module,exports){
/**
* Canvas related enumerations.
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CanvasTextAlign;
(function (CanvasTextAlign) {
    CanvasTextAlign[CanvasTextAlign["Left"] = 0] = "Left";
    CanvasTextAlign[CanvasTextAlign["Center"] = 1] = "Center";
    CanvasTextAlign[CanvasTextAlign["Right"] = 2] = "Right";
})(CanvasTextAlign = exports.CanvasTextAlign || (exports.CanvasTextAlign = {}));
var CanvasTextBaseLine;
(function (CanvasTextBaseLine) {
    CanvasTextBaseLine[CanvasTextBaseLine["Top"] = 0] = "Top";
    CanvasTextBaseLine[CanvasTextBaseLine["Middle"] = 1] = "Middle";
    CanvasTextBaseLine[CanvasTextBaseLine["Bottom"] = 2] = "Bottom";
})(CanvasTextBaseLine = exports.CanvasTextBaseLine || (exports.CanvasTextBaseLine = {}));
var LinePattern;
(function (LinePattern) {
    LinePattern[LinePattern["Solid"] = 0] = "Solid";
    LinePattern[LinePattern["Dashed"] = 1] = "Dashed";
    LinePattern[LinePattern["Pointed"] = 2] = "Pointed";
})(LinePattern = exports.LinePattern || (exports.LinePattern = {}));
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CanvasWrapper_1 = require("./CanvasWrapper");
exports.CanvasWrapper = CanvasWrapper_1.CanvasWrapper;
var Enums_1 = require("./Enums");
exports.CanvasTextAlign = Enums_1.CanvasTextAlign;
exports.CanvasTextBaseLine = Enums_1.CanvasTextBaseLine;
exports.LinePattern = Enums_1.LinePattern;
},{"./CanvasWrapper":15,"./Enums":16}],18:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Chart class.
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var Chart = (function (_super) {
    __extends(Chart, _super);
    function Chart(uid, name, chartType, chartArea, tAxis, offset, size, dataSource, yAxis, qtip) {
        var _this = _super.call(this, offset, size) || this;
        _this.chartType = chartType;
        _this.dataSource = dataSource;
        _this.yAxis = yAxis;
        _this.qtip = qtip;
        _this.isMouseOver = false;
        _this._uid = uid;
        _this._name = name;
        _this.area = chartArea;
        _this.tAxis = tAxis;
        // this.popup = new ChartPopup<T>(chartType, this.area, { x: 0, y: 0 }, size, dataSource, timeAxis, yAxis);
        // this.addChild(this.popup);
        //this.qtip.addTextBlock('title', 'CHART ' + uid);
        _this.renderer = index_3.RenderLocator.Instance.getChartRender(index_2.Candlestick, _this.chartType);
        return _this;
        // // Subscribe to events
        // Events.instance.mouseMove.on(this.onMouseMove);
    }
    Object.defineProperty(Chart.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Chart.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Chart.prototype, "precision", {
        get: function () {
            return this.dataSource.precision;
        },
        enumerable: true,
        configurable: true
    });
    Chart.prototype.getValuesRange = function (range) {
        return this.dataSource.getValuesRange(range);
    };
    Chart.prototype.handeMouse = function (relX, relY) {
        var iterator = this.dataSource.getIterator();
        this.qtip.removeTextBlock('name');
        this.qtip.removeTextBlock('value');
        this.qtip.addTextBlock('name', this.dataSource.name);
        var uid = this.tAxis.toValue(relX);
        if (uid !== undefined && iterator.goTo(function (item) { return item.uid.compare(uid) === 0; })) {
            var c = iterator.current;
            var text = c.toString(this.precision);
            this.qtip.addTextBlock('value', text);
        }
        _super.prototype.handeMouse.call(this, relX, relY);
    };
    Chart.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            var iterator = this.dataSource.getIterator();
            this.renderer.render(this.area.baseCanvas, iterator, { x: 0, y: 0, w: this.size.width, h: this.size.height }, this.tAxis, this.yAxis);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    Chart.prototype.isHit = function (p) {
        // if (mouseX > 0 && mouseX < this.size.width
        //     && mouseY > 0 && mouseY < this.size.height) {
        //     const renderLocator = RenderLocator.Instance;
        //     // 1. Get approximate range
        //     // 2. Get data in that range            
        //     // 3. Test hit area
        //     //
        //     const indexRange = this.frame.getIndexesRange(mouseX - 10, mouseX + 10);
        //     if (indexRange && indexRange.start && indexRange.end) {
        //         const data = this.frame.getDataBetween(this._uid, indexRange.start, indexRange.end);
        //         //const dataIterator = this.dataSource.getData(dateRange, this.timeAxis.interval);
        //         const dataRender = <IChartRender<Candlestick>>renderLocator.getChartRender(Candlestick, this.chartType);
        //         const item = dataRender.testHitArea(
        //             { x: mouseX, y: mouseY },
        //             data,
        //             {x: 0, y: 0, w: this.size.width, h: this.size.height },
        //             this.frame.xAxis,
        //             this.yAxis);
        //         if (item) {
        //             // TODO: uncomment
        //             //this.popup.item = item;
        //             return true;
        //         }
        //     }
        // }
        return this.isMouseOver;
    };
    Chart.prototype.setHovered = function (visible) {
        // TODO: uncomment
        //this.popup.visible = visible;
    };
    Chart.prototype.getSettings = function () {
        var merged = new index_1.SettingSet('chartsettings');
        merged.setSetting('datasource', this.dataSource.getSettings());
        merged.setSetting('visual', this.renderer.getSettings());
        return merged;
    };
    Chart.prototype.setSettings = function (settings) {
        var renderSettings = settings.getSetting('chartsettings.visual');
        if (renderSettings) {
            this.renderer.setSettings(renderSettings);
        }
        var dsSettings = settings.getSetting('chartsettings.datasource');
        if (dsSettings) {
            this.dataSource.setSettings(dsSettings);
        }
    };
    return Chart;
}(index_1.VisualComponent));
exports.Chart = Chart;
},{"../core/index":53,"../model/index":142,"../render/index":162}],19:[function(require,module,exports){
(function (global){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartBoard class.
 *
 * @classdesc Facade for the chart library.
 */
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../indicator/index");
var index_4 = require("../layout/index");
var index_5 = require("../render/index");
var index_6 = require("../shared/index");
var index_7 = require("../utils/index");
var ChartStack_1 = require("./ChartStack");
var Interfaces_1 = require("./Interfaces");
var StateFabric_1 = require("./StateFabric");
var States_1 = require("./States");
var TimeAxis_1 = require("./TimeAxis");
var TimeAxisComponent_1 = require("./TimeAxisComponent");
var $ = (typeof window !== "undefined" ? window['$'] : typeof global !== "undefined" ? global['$'] : null);
var IndicatorDescription = (function () {
    function IndicatorDescription(uid, indicatorType) {
        this.uid = uid;
        this.indicatorType = indicatorType;
    }
    return IndicatorDescription;
}());
var ChartBoard = (function (_super) {
    __extends(ChartBoard, _super);
    // -- End of "Public Events" --
    function ChartBoard(container, offsetLeft, offsetTop, w, h, interval, storage, dataService) {
        var _this = _super.call(this, { x: offsetLeft, y: offsetTop }, { width: Math.max(w, 100), height: Math.max(h, 50) }) || this;
        _this.container = container;
        _this.chartStacks = [];
        _this.originalUid = '';
        _this.originalName = '';
        _this.dataSources = {};
        _this.indicators = {};
        _this.indicatorDescriptions = [];
        _this.dataSourceRegister = new index_2.DataSourceRegister();
        _this.addInterval = function (date, times) {
            return index_7.DateUtils.addInterval(date, _this.timeAxis.interval, times);
        };
        _this.onDataChanged = function (arg) {
            // Check if need to automove time range
            // if (arg.lastDateBefore && arg.lastDateAfter
            //     && this.frame.contains(arg.lastDateBefore)
            //     && !this.frame.contains(arg.lastDateAfter)) {
            //     //this.frame.moveTo(arg.lastDateAfter);
            // }
            //this.frame.automove(arg);
            _this.render();
        };
        _this.onLoadingRange = function (arg) {
            for (var _i = 0, _a = Object.keys(_this.dataSources); _i < _a.length; _i++) {
                var key = _a[_i];
                if (key !== 'primary-data-source') {
                    var ds = _this.dataSources[key];
                    if (arg.end) {
                        ds.loadRange(arg.start, arg.end);
                    }
                    else if (arg.count) {
                        ds.load(arg.start, arg.count);
                    }
                }
            }
        };
        _this.mouse = new index_1.Mouse();
        _this.ignoreNextMove = false;
        _this.onMouseWheel = function (event) {
            if (false == !!event) {
                event = window.event;
            }
            _this.state.onMouseWheel(_this, event);
            var direction = ((event.wheelDelta) ? event.wheelDelta / 120 : event.detail / -3) || 0;
            if (direction) {
                _this.timeAxis.scale(direction);
                _this.render();
            }
        };
        _this.onMouseMove = function (event) {
            // handle chrome behavior: click = down + move + up
            if (_this.ignoreNextMove) {
                _this.ignoreNextMove = false;
                return;
            }
            _a = [event.pageX, event.pageY], _this.mouse.pos.x = _a[0], _this.mouse.pos.y = _a[1];
            _this.state.onMouseMove(_this, _this.mouse);
            _super.prototype.handeMouse.call(_this, _this.mouse.pos.x - _this.offset.x, _this.mouse.pos.y - _this.offset.y);
            //Events.instance.mouseMove.trigger(new MouseEventArgument(this.mouse));
            if (_this.mouse.isEntered && _this.mouse.isDown) {
                _this.renderLayers(true, true);
            }
            else if (_this.mouse.isEntered) {
                _this.renderLayers(false, true);
            }
            var _a;
        };
        _this.onMouseEnter = function (event) {
            _this.mouse.isEntered = true;
            _this.state.onMouseEnter(_this, _this.mouse);
        };
        _this.onMouseLeave = function (event) {
            _this.mouse.isEntered = false;
            _this.mouse.isDown = false;
            _this.state.onMouseLeave(_this, _this.mouse);
        };
        _this.onMouseUp = function (event) {
            _this.ignoreNextMove = true;
            _this.mouse.isDown = false;
            _this.state.onMouseUp(_this, _this.mouse);
            _this.renderLayers(false, true);
        };
        _this.onMouseDown = function (event) {
            _this.mouse.isDown = true;
            var hitStack = _this.getHitStack();
            _this.state.onMouseDown(_this, _this.mouse, hitStack);
        };
        var N = 5;
        _this.storageMgr = new index_1.StorageManager(storage);
        _this.dataService = dataService;
        _this.area = new index_4.BoardArea(container, _this._size);
        var start = new Date();
        start.setUTCHours(start.getUTCHours() - 2);
        var now = new Date();
        _this.timeRange = { start: start, end: now };
        _this.timeAxis = new TimeAxis_1.TimeAxis(interval, now, N, _this.area.chartLength);
        _this.timeAxis.loadingRange.on(_this.onLoadingRange);
        _this.timeAxisComponent = new TimeAxisComponent_1.TimeAxisComponent(_this.area, _this.timeAxis);
        _this.addChild(_this.timeAxisComponent);
        // Create main chart area.
        // Create empty store container as the asset pair is not set yet.
        var chartStack = new ChartStack_1.ChartStack(index_7.UidUtils.NEWUID(), _this.area, _this.timeAxis, true, new index_1.StoreContainer(), _this);
        _this.chartStacks.push(chartStack);
        _this.addChild(chartStack);
        // Hook up event handlers
        //
        _this.container.addEventListener('DOMMouseScroll', _this.onMouseWheel, false);
        _this.container.addEventListener('mousewheel', _this.onMouseWheel, false);
        _this.container.addEventListener('mouseup', _this.onMouseUp, false);
        _this.container.addEventListener('mousedown', _this.onMouseDown, false);
        _this.container.addEventListener('mouseenter', _this.onMouseEnter, false);
        _this.container.addEventListener('mouseleave', _this.onMouseLeave, false);
        $(_this.container).mousemove(index_6.throttle(_this.onMouseMove, 10));
        // Go to default state
        _this.state = States_1.HoverState.instance;
        return _this;
    }
    Object.defineProperty(ChartBoard.prototype, "objectSelected", {
        // Public Events
        get: function () {
            return index_1.Events.instance.objectSelected;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "objectTreeChanged", {
        get: function () {
            return index_1.Events.instance.objectTreeChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "stacks", {
        get: function () {
            return this.chartStacks.slice();
        },
        enumerable: true,
        configurable: true
    });
    ChartBoard.prototype.getObjectById = function (uid) {
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var stack = _a[_i];
            if (stack.uid === uid) {
                return stack;
            }
            for (var _b = 0, _c = stack.charts; _b < _c.length; _b++) {
                var chart = _c[_b];
                if (chart.uid === uid) {
                    return chart;
                }
            }
            for (var _d = 0, _e = stack.figures; _d < _e.length; _d++) {
                var figure = _e[_d];
                if (figure.uid === uid) {
                    return figure;
                }
            }
        }
    };
    ChartBoard.prototype.addChart = function (uid, name, chartType, dataSource) {
        // Preload data range
        dataSource.loadRange(this.timeAxis.range.start, this.timeAxis.range.end);
        // TODO: Store original datasource
        var ctx = this.createContext(this.dataService);
        dataSource = index_2.DataSourceFactory.CREATE(chartType, dataSource, this.timeRange, ctx);
        this.dataSourceRegister.register(uid, dataSource);
        this.insertChart(uid, name, chartType, dataSource);
        // re-render charts
        this.render();
    };
    ChartBoard.prototype.insertChart = function (uid, name, chartType, dataSource) {
        this.dataSources[uid] = dataSource;
        // add event handlers
        dataSource.dataChanged.on(this.onDataChanged);
        this.chartStacks[0].addChart(uid, name, chartType, dataSource);
    };
    ChartBoard.prototype.deleteChart = function (uid) {
        // get data source
        var dataSource = this.dataSources[uid];
        if (dataSource) {
            dataSource.dataChanged.off(this.onDataChanged);
            // TODO: Chart can be not only on first stack
            this.chartStacks[0].removeChart(uid);
        }
        // // re-render charts
        // this.render();
    };
    ChartBoard.prototype.setDataSource = function (uid, name, chartType, dataSource) {
        var _this = this;
        this.originalDataSource = dataSource;
        this.originalUid = uid;
        this.originalName = name;
        var ctx = this.createContext(this.dataService);
        dataSource = index_2.DataSourceFactory.CREATE(chartType, dataSource, this.timeRange, ctx);
        this.timeAxis.setDataSource(dataSource);
        var stackStorage = this.getStackStorage(uid, 0);
        this.chartStacks[0].setStore(stackStorage);
        // replace primary data source
        this.deleteChart('primary-data-source');
        this.insertChart('primary-data-source', name, chartType, dataSource);
        this.primaryDataSource = dataSource;
        // remove existing indicators and recreate on base of new data source.
        this.indicatorDescriptions.forEach(function (array, stackIndex) {
            array.forEach(function (desc, index) {
                _this.deleteIndicator(desc.uid);
                _this.insertIndicator(desc.uid, desc.indicatorType, stackIndex);
            });
        });
        // re-render charts
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.setChartType = function (chartType) {
        if (this.originalDataSource) {
            this.setDataSource(this.originalUid, this.originalName, chartType, this.originalDataSource); // keep figures
            // this.removeChart('primary-data-source');
            // this.addChart<Candlestick>('primary-data-source', chartType, this.primaryDataSource);
        }
        // TODO: Remove existing indicators and recreate on base of new data source.
    };
    ChartBoard.prototype.setTimeRange = function (range) {
        this.timeRange = range;
        this.primaryDataSource.setTimeRange(range);
        // for (const uid of Object.keys(this.dataSources)) {
        //     const ext = this.extensions[uid];
    };
    ChartBoard.prototype.addIndicator = function (uid, indicatorType, index) {
        if (!this.primaryDataSource) {
            throw new Error('Primary data source is not set');
        }
        this.insertIndicator(uid, indicatorType, index);
        // Update indicator's description
        var arr = this.indicatorDescriptions[index];
        if (!arr) {
            this.indicatorDescriptions[index] = [];
        }
        this.indicatorDescriptions[index].push(new IndicatorDescription(uid, indicatorType));
        // recalculate size of all elements
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.removeIndicator = function (uid) {
        if (!uid || !this.indicators[uid]) {
            return;
        }
        this.deleteIndicator(uid);
        // remove indicator's description
        this.indicatorDescriptions.some(function (value, index, array) {
            return value.some(function (v, i, a) {
                if (v.uid === uid) {
                    a.splice(i, 1);
                    return true;
                }
                return false;
            });
        });
        // recalculate size of all elements
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.insertIndicator = function (uid, indicatorType, index) {
        // Create indicator
        //
        var ctx = this.createContext(this.dataService);
        var indicatorDataSource = index_3.IndicatorFabric.instance.instantiate(indicatorType, this.primaryDataSource, ctx);
        this.indicators[uid] = indicatorDataSource;
        indicatorDataSource.dataChanged.on(this.onDataChanged);
        // Update stack. Use existing or add new one.
        //
        var chartStack;
        if (index >= 0 && index < this.chartStacks.length) {
            chartStack = this.chartStacks[index];
        }
        else {
            index = this.chartStacks.length;
            var stackStorage = this.getStackStorage(this.originalUid, index);
            chartStack = new ChartStack_1.ChartStack(index_7.UidUtils.NEWUID(), this.area, this.timeAxis, true, stackStorage);
            this.chartStacks.push(chartStack);
            this.addChild(chartStack);
        }
        chartStack.addChart(uid, indicatorType, indicatorType, indicatorDataSource);
    };
    ChartBoard.prototype.deleteIndicator = function (uid) {
        var _this = this;
        // remove indicator from board
        // ... find stack
        this.chartStacks.some(function (cs, stackIndex) {
            if (cs.chartIds.indexOf(uid) !== -1) {
                cs.removeChart(uid);
                // If chart stack is empty remove it. Do not remove first stack.
                if (stackIndex !== 0 && cs.chartIds.length === 0) {
                    cs.dispose();
                    _this.chartStacks.splice(stackIndex, 1);
                    _this.removeChild(cs);
                }
                return true;
            }
            return false;
        });
        // remove indicator
        //
        var indicator = this.indicators[uid];
        // ... unsubscribe from events
        indicator.dataChanged.off(this.onDataChanged);
        // ... dispose indicator
        indicator.dispose();
        //this.indicators[uid] = undefined;
    };
    ChartBoard.prototype.getStackStorage = function (assetId, stackIndex) {
        var assets = this.storageMgr.root().getObjectProperty('assets');
        var asset = assets.getObjectProperty(assetId);
        var stacks = asset.getArrayProperty('stacks');
        var arrayStacks = stacks.asArray();
        return arrayStacks.length > 0 ? arrayStacks[0] : stacks.addItem();
    };
    ChartBoard.prototype.render = function () {
        this.renderLayers(true, true);
    };
    ChartBoard.prototype.renderLayers = function (renderBase, renderFront) {
        renderBase = renderBase === undefined ? true : renderBase;
        renderFront = renderFront === undefined ? true : renderFront;
        if (renderBase) {
            this.area.clearBase();
        }
        if (renderFront) {
            this.area.clearFront();
        }
        // Mouse position
        var relMouse = this.mouse.isEntered ? this.mouse.pos.sub(this.offset) : undefined;
        // Render stacks
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var cStack = _a[_i];
            // Prepare rendering objects: locator and context.
            var context_1 = new index_1.VisualContext(renderBase, renderFront);
            cStack.render(context_1, index_5.RenderLocator.Instance);
        }
        // Render time axis
        var context = new index_1.VisualContext(renderBase, renderFront);
        this.timeAxisComponent.render(context, index_5.RenderLocator.Instance);
        // Swap render layers
        this.area.render();
    };
    ChartBoard.prototype.resize = function (w, h) {
        w = Math.max(w, 100);
        h = Math.max(h, 50);
        this._size = { width: w, height: h };
        this.area.resize(w, h);
        this.timeAxis.width = this.area.chartLength;
    };
    ChartBoard.prototype.setTimeInterval = function (interval) {
        if (interval) {
            this.timeAxis.interval = interval;
        }
    };
    ChartBoard.prototype.createContext = function (dataService) {
        var _this = this;
        var self = this;
        return {
            addInterval: this.addInterval,
            interval: function () { return _this.timeAxis.interval; },
            getCandle: function (asset, date, interval) {
                if (dataService) {
                    return dataService.getCandle(asset, date, interval);
                }
                return new Promise(function (resolve) {
                    resolve(undefined);
                });
            },
            render: function () { self.render(); },
            register: this.dataSourceRegister
        };
    };
    ChartBoard.prototype.moveX = function (diffX) {
        this.timeAxis.move(diffX);
    };
    ChartBoard.prototype.getHitStack = function () {
        var localX = this.mouse.pos.x - this.offset.x;
        var localY = this.mouse.pos.y - this.offset.y;
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var cStack = _a[_i];
            var relativeX = localX - cStack.offset.x;
            var relativeY = localY - cStack.offset.y;
            if (relativeX >= 0 && relativeX < cStack.size.width
                && relativeY >= 0 && relativeY < cStack.size.height) {
                return cStack;
            }
        }
    };
    ChartBoard.prototype.setCursor = function (style) {
        //this.area.setCursor(style);
        this.container.style.setProperty('cursor', style);
    };
    Object.defineProperty(ChartBoard.prototype, "drawing", {
        get: function () {
            return this;
        },
        enumerable: true,
        configurable: true
    });
    ChartBoard.prototype.start = function (figureId) {
        this.changeState(figureId);
    };
    ChartBoard.prototype.cancel = function () {
        this.changeState('hover');
    };
    ChartBoard.prototype.changeState = function (state, activationParameters) {
        var stateInstance;
        if (Interfaces_1.isStateController(state)) {
            stateInstance = state;
        }
        else if (typeof state === 'string') {
            stateInstance = StateFabric_1.StateFabric.instance.getState(state);
        }
        if (!stateInstance) {
            throw new Error("State is not defined for the specified stateId '" + state + "'");
        }
        var hitStack = this.getHitStack();
        this.state.deactivate(this, this.mouse);
        this.state = stateInstance;
        this.state.activate(this, this.mouse, hitStack, activationParameters);
        this.ignoreNextMove = false;
    };
    /**
     * "ISource" implementation. Works with primary data source.
     */
    ChartBoard.prototype.getHHLL = function (uidFrom, uidTo) {
        if (this.primaryDataSource) {
            return this.primaryDataSource.getHHLL(uidFrom, uidTo);
        }
    };
    ChartBoard.prototype.getLastCandle = function () {
        if (this.primaryDataSource) {
            return this.primaryDataSource.getLastCandle();
        }
    };
    return ChartBoard;
}(index_1.VisualComponent));
exports.ChartBoard = ChartBoard;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/index":53,"../data/index":71,"../indicator/index":134,"../layout/index":139,"../render/index":162,"../shared/index":166,"../utils/index":175,"./ChartStack":20,"./Interfaces":25,"./StateFabric":32,"./States":33,"./TimeAxis":34,"./TimeAxisComponent":35}],20:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartStack class.
 */
var index_1 = require("../axes/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var Chart_1 = require("./Chart");
var Crosshair_1 = require("./Crosshair");
var FigureComponent_1 = require("./FigureComponent");
var FigureFactory_1 = require("./FigureFactory");
var Grid_1 = require("./Grid");
var NumberAxisComponent_1 = require("./NumberAxisComponent");
var PriceAxisComponent_1 = require("./PriceAxisComponent");
var Quicktip_1 = require("./Quicktip");
var ChartStack = (function (_super) {
    __extends(ChartStack, _super);
    function ChartStack(uid, boardArea, timeAxis, yIsPrice, store, source) {
        var _this = _super.call(this) || this;
        _this._charts = [];
        _this._figures = [];
        _this._precision = 0;
        _this.onresize = function (arg) {
            _a = [_this.area.offset.x, _this.area.offset.y], _this._offset.x = _a[0], _this._offset.y = _a[1];
            var w = _this.area.size.width;
            var h = _this.area.size.height;
            // Instead of default resize using custom resizing
            _this._size = { width: w, height: h };
            var axisSize = _this.getAxisSize(_this._size);
            _this.yAxis.length = axisSize.height;
            _this.yAxisComponent.resize(axisSize.width, axisSize.height);
            for (var _i = 0, _b = _this._children; _i < _b.length; _i++) {
                var vc = _b[_i];
                vc.resize(w, h);
            }
            _this.crosshair.resize(w, h);
            _this.grid.resize(w, h);
            var _a;
            // resize self and all children
            //super.resize(w, h);
        };
        _this.settings = new ChartStackSettings();
        _this._uid = uid;
        _this.boardArea = boardArea;
        _this.tAxis = timeAxis;
        _this.store = store;
        _this.source = source;
        _this.area = boardArea.addChart();
        _this.area.sizeChanged.on(_this.onresize);
        _this._offset = new index_3.Point(_this.area.offset.x, _this.area.offset.y);
        _this._size = _this.area.size;
        _this.qtBuilder = new Quicktip_1.QuicktipBuilder(_this.area.qtipContainer);
        // create Y axis
        //
        var p = { x: 0, y: 0 };
        var size = _this.getAxisSize(_this._size);
        if (yIsPrice) {
            _this.yAxis = new index_1.PriceAxis(size.height, 0.0001);
            _this.yAxisComponent = new PriceAxisComponent_1.PriceAxisComponent(_this.area, _this.yAxis, p, size, _this);
        }
        else {
            _this.yAxis = new index_1.NumberAxis(size.height, 0.0001);
            _this.yAxisComponent = new NumberAxisComponent_1.NumberAxisComponent(_this.area, _this.yAxis, p, size, _this);
        }
        _this.addChild(_this.yAxisComponent);
        // create crosshair
        // TODO: this._size = chart size + YAxis.size
        _this.crosshair = new Crosshair_1.Crosshair(_this.area, { x: 0, y: 0 }, _this._size, _this.tAxis);
        _this.addChild(_this.crosshair);
        // add grid
        // TODO: this._size = chart size + YAxis.size
        _this.grid = new Grid_1.Grid(_this.area, { x: 0, y: 0 }, _this._size, _this.tAxis, _this.yAxis);
        _this.addChild(_this.grid);
        _this.applySettings();
        return _this;
    }
    Object.defineProperty(ChartStack.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        enumerable: true,
        configurable: true
    });
    ChartStack.prototype.getAxisSize = function (size) {
        return { width: size.width, height: size.height > 20 ? size.height - 20 : size.height };
    };
    /**
     * Removes chart area
     */
    ChartStack.prototype.dispose = function () {
        this.area.sizeChanged.off(this.onresize);
        this.boardArea.remove(this.area);
    };
    Object.defineProperty(ChartStack.prototype, "chartIds", {
        /**
         * Returns contained charts' identifiers.
         */
        get: function () {
            return this._charts.map(function (c) { return c.uid; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartStack.prototype, "charts", {
        get: function () {
            return this._charts.slice();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartStack.prototype, "figures", {
        get: function () {
            return this._figures.slice();
        },
        enumerable: true,
        configurable: true
    });
    ChartStack.prototype.addChart = function (uid, name, chartType, dataSource) {
        var qtip = this.qtBuilder.addQuicktip(uid);
        var newChart = new Chart_1.Chart(uid, name, chartType, this.area, this.tAxis, new index_3.Point(0, 0), this.size, dataSource, this.yAxis, qtip);
        this._charts.push(newChart);
        this.addChild(newChart);
        this.updateChartingSettings();
    };
    ChartStack.prototype.removeChart = function (uid) {
        for (var i = 0; i < this._charts.length; i += 1) {
            if (this._charts[i].uid === uid) {
                this.removeChild(this._charts[i]);
                this._charts.splice(i, 1);
            }
        }
        this.qtBuilder.removeQuicktip(uid);
        this.updateChartingSettings();
    };
    ChartStack.prototype.addFigure = function (figureType) {
        var figures = this.store.getArrayProperty('figures');
        var figureDesc = figures.addItem();
        figureDesc.setProperty('type', figureType);
        //figureDesc.setProperty('uid', uid);
        var figureContainer = figureDesc.getObjectProperty('figure');
        var figure = this.createFigure(figureType, figureContainer);
        index_2.Events.instance.objectTreeChanged.trigger();
        return figure;
    };
    ChartStack.prototype.removeFigures = function () {
        this._children = this._children.filter(function (value, index, array) {
            return !(value instanceof FigureComponent_1.FigureComponent);
        });
    };
    ChartStack.prototype.setStore = function (store) {
        this.store = store;
        this.reloadFigures();
    };
    ChartStack.prototype.createFigure = function (figureType, container) {
        var figure = FigureFactory_1.FigureFactory.instance
            .instantiate(figureType, this.area, { x: 0, y: 0 }, this.size, this, this.tAxis, this.yAxis, container, this.source);
        this._figures.push(figure);
        this.addChild(figure); // to the end
        return figure;
    };
    ChartStack.prototype.reloadFigures = function () {
        this.removeFigures();
        var figures = this.store.getArrayProperty('figures');
        for (var _i = 0, _a = figures.asArray(); _i < _a.length; _i++) {
            var figureDesc = _a[_i];
            // add figure
            var figureType = figureDesc.getProperty('type');
            var figureContainer = figureDesc.getObjectProperty('figure');
            //const uid = figureDesc.getProperty('uid');
            this.createFigure(figureType, figureContainer);
        }
    };
    ChartStack.prototype.precision = function () {
        return this._precision;
    };
    // TODO: Rename
    ChartStack.prototype.mouseToCoords = function (localX, localY) {
        throw new Error('Not implemented');
    };
    ChartStack.prototype.toX = function (value) {
        return this.tAxis.toX(value);
    };
    ChartStack.prototype.xToValue = function (x) {
        return this.tAxis.toValue(x);
    };
    ChartStack.prototype.toY = function (value) {
        return this.yAxis.toX(value);
    };
    ChartStack.prototype.yToValue = function (y) {
        return this.yAxis.toValue(y);
    };
    ChartStack.prototype.toXY = function (point) {
        if (point.uid && point.v !== undefined) {
            var x = this.toX(point.uid);
            var y = this.toY(point.v);
            return x !== undefined ? { x: x, y: y } : undefined;
        }
    };
    ChartStack.prototype.xyToValue = function (point) {
        return {
            uid: this.xToValue(point.x),
            v: this.yToValue(point.y)
        };
    };
    ChartStack.prototype.setFixedRange = function (range) {
        this._fixedRange = range;
    };
    ChartStack.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            // 1. Update y axis before rendering charts
            if (this._fixedRange) {
                this.yAxis.range = this._fixedRange;
            }
            else {
                //
                // TODO: Make DataSource.DefaultYRange or take last known data:
                var yRange = { start: Number.MAX_VALUE, end: Number.MIN_VALUE };
                for (var _i = 0, _a = this._charts; _i < _a.length; _i++) {
                    var chart = _a[_i];
                    var valuesRange = chart.getValuesRange(this.tAxis.range); //this.tAxis.range, this.tAxis.interval);
                    if (valuesRange.end > yRange.end) {
                        yRange.end = valuesRange.end;
                    }
                    if (valuesRange.start < yRange.start) {
                        yRange.start = valuesRange.start;
                    }
                }
                if (this._charts.length > 0) {
                    this.yAxis.range = yRange;
                }
                else {
                    this.yAxis.range = { start: 0, end: 100 }; // default values
                }
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    ChartStack.prototype.getSettings = function () {
        var settings = new index_2.SettingSet({ name: 'stacksettings', group: true });
        settings.setSetting('showGrid', new index_2.SettingSet({
            name: 'showGrid',
            displayName: 'Show grid',
            settingType: index_2.SettingType.check,
            value: this.settings.showGrid.toString()
        }));
        return settings;
    };
    ChartStack.prototype.setSettings = function (value) {
        var showGrid = value.getSetting('stacksettings.showGrid');
        if (showGrid) {
            this.settings.showGrid = (showGrid.value === 'true');
        }
        this.applySettings();
    };
    ChartStack.prototype.applySettings = function () {
        this.grid.visible = this.settings.showGrid;
    };
    ChartStack.prototype.updateChartingSettings = function () {
        // select maximum precision among data sources
        this._precision = 0;
        for (var _i = 0, _a = this._charts; _i < _a.length; _i++) {
            var chart = _a[_i];
            this._precision = Math.max(this._precision, chart.precision);
        }
    };
    return ChartStack;
}(index_2.VisualComponent));
exports.ChartStack = ChartStack;
var ChartStackSettings = (function () {
    function ChartStackSettings() {
        this.showGrid = true;
    }
    return ChartStackSettings;
}());
},{"../axes/index":14,"../core/index":53,"../shared/index":166,"./Chart":18,"./Crosshair":21,"./FigureComponent":22,"./FigureFactory":23,"./Grid":24,"./NumberAxisComponent":26,"./PriceAxisComponent":29,"./Quicktip":31}],21:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Crosshair class.
 */
var index_1 = require("../core/index");
var Crosshair = (function (_super) {
    __extends(Crosshair, _super);
    function Crosshair(area, offset, size, axis) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.onMouseMove = function (evt) {
            _this.mouse = evt.mouse;
        };
        _this.axis = axis;
        index_1.Events.instance.mouseMove.on(_this.onMouseMove);
        return _this;
    }
    Crosshair.prototype.render = function (context, renderLocator) {
        if (!context.renderFront) {
            // only render on front
            return;
        }
        if (this.mouse) {
            // ... calculate mouse position related to this element
            var mouseX = this.mouse.pos.x;
            var mouseY = this.mouse.pos.y;
            var uid = this.axis.toValue(mouseX);
            if (uid !== undefined) {
                var newX = this.axis.toX(uid);
                var render = renderLocator.getCrosshairRender();
                render.render(this.area.frontCanvas, { x: newX, y: mouseY }, this.size);
            }
        }
    };
    return Crosshair;
}(index_1.VisualComponent));
exports.Crosshair = Crosshair;
},{"../core/index":53}],22:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Figures
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var FigureComponent = (function (_super) {
    __extends(FigureComponent, _super);
    function FigureComponent(name, offset, size, container) {
        var _this = _super.call(this, offset, size) || this;
        _this.isHovered = false;
        _this.isSelected = false;
        _this._uid = index_2.UidUtils.NEWUID();
        _this._name = name;
        return _this;
    }
    Object.defineProperty(FigureComponent.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FigureComponent.prototype, "name", {
        get: function () {
            return this._name;
        },
        enumerable: true,
        configurable: true
    });
    FigureComponent.prototype.setHovered = function (hovered) {
        this.isHovered = hovered;
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var vc = _a[_i];
            if (vc instanceof FigureComponent) {
                vc.setHovered(hovered);
            }
        }
    };
    FigureComponent.prototype.setSelected = function (selected) {
        this.isSelected = selected;
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var vc = _a[_i];
            if (vc instanceof FigureComponent) {
                vc.setSelected(selected);
            }
        }
    };
    return FigureComponent;
}(index_1.VisualComponent));
exports.FigureComponent = FigureComponent;
},{"../core/index":53,"../utils/index":175}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FigureType = (function () {
    function FigureType() {
    }
    return FigureType;
}());
FigureType.curve = 'curve';
FigureType.line = 'line';
FigureType.hline = 'hline';
FigureType.vline = 'vline';
FigureType.rect = 'rect';
FigureType.triangle = 'triangle';
FigureType.path = 'path';
FigureType.pitchfork = 'pitchfork';
FigureType.text = 'text';
FigureType.ellipse = 'ellipse';
FigureType.trendchannel = 'trendchannel';
FigureType.daterange = 'daterange';
FigureType.fibofan = 'fibofan';
FigureType.fibolevel = 'fibolevel';
FigureType.fiboprojection = 'fiboprojection';
FigureType.fibotimeprojection = 'fibotimeprojection';
FigureType.gannfan = 'gannfan';
FigureType.ohlcproj = 'ohlcproj';
exports.FigureType = FigureType;
var FigureFactory = (function () {
    function FigureFactory() {
        this.ctors = {};
    }
    Object.defineProperty(FigureFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new FigureFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    FigureFactory.prototype.register = function (indicatorId, creator) {
        this.ctors[indicatorId] = creator;
    };
    FigureFactory.prototype.instantiate = function (figureType, area, offset, size, settings, tcoord, vcoord, container, source) {
        var ctor = this.ctors[figureType];
        if (ctor) {
            return new ctor(area, offset, size, settings, tcoord, vcoord, container, source);
        }
        else {
            throw new Error("Indicator with id=" + figureType + " is not registered.");
        }
    };
    return FigureFactory;
}());
exports.FigureFactory = FigureFactory;
},{}],24:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Grid class.
 */
var index_1 = require("../core/index");
var Grid = (function (_super) {
    __extends(Grid, _super);
    function Grid(area, offset, size, timeAxis, yAxis) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.timeAxis = timeAxis;
        _this.yAxis = yAxis;
        return _this;
    }
    Grid.prototype.render = function (context, renderLocator) {
        if (context.renderBase && this.visible) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getGridRender();
            render.render(this.area.baseCanvas, { x: 0, y: 0, w: this.size.width, h: this.size.height }, this.timeAxis, this.yAxis);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    return Grid;
}(index_1.VisualComponent));
exports.Grid = Grid;
},{"../core/index":53}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function isSelectable(obj) {
    return obj.setSelected !== undefined;
}
exports.isSelectable = isSelectable;
function isHoverable(obj) {
    return obj.isHit !== undefined
        && obj.setHovered !== undefined;
}
exports.isHoverable = isHoverable;
function isEditable(obj) {
    return obj.getEditState !== undefined;
}
exports.isEditable = isEditable;
function isStateController(obj) {
    return obj.activate !== undefined
        && obj.deactivate !== undefined;
}
exports.isStateController = isStateController;
},{}],26:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var NumberMarker_1 = require("./NumberMarker");
var NumberAxisComponent = (function (_super) {
    __extends(NumberAxisComponent, _super);
    function NumberAxisComponent(chartArea, numberAxis, offset, size, settings) {
        var _this = _super.call(this, offset, size) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
        };
        _this.axis = numberAxis;
        _this.area = chartArea.getYArea();
        _this.area.sizeChanged.on(_this.onresize);
        var priceMarker = new NumberMarker_1.NumberMarker(_this.area, { x: 0, y: 0 }, size, numberAxis, settings, _this.getMarkPos);
        _this.addChild(priceMarker);
        return _this;
    }
    NumberAxisComponent.prototype.handeMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handeMouse.call(this, relX, relY);
    };
    NumberAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getAxesRender('number');
            render.render(this.area.baseCanvas, this.axis, { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height });
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    NumberAxisComponent.prototype.getMarkPos = function (ctx, size) {
        if (this.mouse) {
            return (this.mouse.y > 0 && this.mouse.y < this.size.height) ? this.axis.toValue(this.mouse.y) : undefined;
        }
    };
    return NumberAxisComponent;
}(index_1.VisualComponent));
exports.NumberAxisComponent = NumberAxisComponent;
},{"../core/index":53,"../shared/index":166,"./NumberMarker":27}],27:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var NumberMarker = (function (_super) {
    __extends(NumberMarker, _super);
    function NumberMarker(area, offset, size, yaxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.yaxis = yaxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    NumberMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var render = renderLocator.getMarkRender('number');
            var y = this.yaxis.toX(value);
            render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision());
        }
    };
    return NumberMarker;
}(index_1.VisualComponent));
exports.NumberMarker = NumberMarker;
},{"../core/index":53}],28:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var NumberRegionMarker = (function (_super) {
    __extends(NumberRegionMarker, _super);
    function NumberRegionMarker(area, offset, size, yaxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.yaxis = yaxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    NumberRegionMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            //const render = <IMarkRender<number>>renderLocator.getMarkRender('number');
            var y1 = this.yaxis.toX(value.start);
            var y2 = this.yaxis.toX(value.end);
            //render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision());
            var canvas = this.area.frontCanvas;
            canvas.fillStyle = 'rgba(190, 230, 255, 0.3)';
            canvas.fillRect(0, Math.min(y1, y2), this.size.width, Math.abs(y2 - y1));
        }
    };
    return NumberRegionMarker;
}(index_1.VisualComponent));
exports.NumberRegionMarker = NumberRegionMarker;
},{"../core/index":53}],29:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var PriceMarker_1 = require("./PriceMarker");
var PriceAxisComponent = (function (_super) {
    __extends(PriceAxisComponent, _super);
    function PriceAxisComponent(chartArea, priceAxis, offset, size, settings) {
        var _this = _super.call(this, offset, size) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
        };
        _this.axis = priceAxis;
        _this.area = chartArea.getYArea();
        _this.area.sizeChanged.on(_this.onresize);
        var priceMarker = new PriceMarker_1.PriceMarker(_this.area, { x: 0, y: 0 }, size, priceAxis, settings, _this.getMarkPos);
        _this.addChild(priceMarker);
        return _this;
    }
    PriceAxisComponent.prototype.handeMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handeMouse.call(this, relX, relY);
    };
    PriceAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            var render = renderLocator.getAxesRender('price');
            render.render(this.area.baseCanvas, this.axis, { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height });
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    PriceAxisComponent.prototype.getMarkPos = function (ctx, size) {
        if (this.mouse) {
            return (this.mouse.y > 0 && this.mouse.y < this.size.height) ? this.axis.toValue(this.mouse.y) : undefined;
        }
    };
    return PriceAxisComponent;
}(index_1.VisualComponent));
exports.PriceAxisComponent = PriceAxisComponent;
},{"../core/index":53,"../shared/index":166,"./PriceMarker":30}],30:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var PriceMarker = (function (_super) {
    __extends(PriceMarker, _super);
    function PriceMarker(area, offset, size, axis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.axis = axis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    PriceMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var render = renderLocator.getMarkRender('number');
            var y = this.axis.toX(value);
            render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision());
        }
    };
    return PriceMarker;
}(index_1.VisualComponent));
exports.PriceMarker = PriceMarker;
},{"../core/index":53}],31:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var QuicktipBuilder = (function () {
    function QuicktipBuilder(container) {
        this.items = {};
        this.container = container;
    }
    QuicktipBuilder.prototype.addQuicktip = function (uid) {
        var div = document.createElement('div');
        //div.style.setProperty('data-uid', 'uid');
        this.container.appendChild(div);
        var qt = new Quicktip(div);
        this.items[uid] = qt;
        return qt;
    };
    QuicktipBuilder.prototype.removeQuicktip = function (uid) {
        var removedElement = this.items[uid];
        if (removedElement) {
            this.items[uid] = undefined;
            this.container.removeChild(removedElement.container);
        }
    };
    return QuicktipBuilder;
}());
exports.QuicktipBuilder = QuicktipBuilder;
var Quicktip = (function () {
    function Quicktip(container) {
        this._container = container;
    }
    Object.defineProperty(Quicktip.prototype, "container", {
        get: function () {
            return this._container;
        },
        enumerable: true,
        configurable: true
    });
    Quicktip.prototype.addTextBlock = function (uid, text) {
        var div = document.createElement('div');
        div.setAttribute('data-uid', uid);
        div.style.setProperty('display', 'inline');
        div.style.setProperty('margin-right', '5px');
        div.innerText = text;
        this._container.appendChild(div);
    };
    Quicktip.prototype.removeTextBlock = function (uid) {
        var nodes = this.container.getElementsByTagName('div');
        for (var i = 0; i < nodes.length; i += 1) {
            var el = nodes[i];
            var attr = el.getAttribute('data-uid');
            if (attr && attr === uid) {
                this.container.removeChild(el);
                break;
            }
        }
    };
    Quicktip.prototype.addButton = function (uid, click) {
        //-----------------
    };
    return Quicktip;
}());
exports.Quicktip = Quicktip;
},{}],32:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StateFabric = (function () {
    function StateFabric() {
        this.states = {};
    }
    Object.defineProperty(StateFabric, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new StateFabric();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    StateFabric.prototype.setState = function (stateId, obj) {
        this.states[stateId] = obj;
    };
    StateFabric.prototype.getState = function (stateId) {
        return this.states[stateId];
    };
    return StateFabric;
}());
exports.StateFabric = StateFabric;
},{}],33:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var Interfaces_1 = require("./Interfaces");
var HoverState = (function () {
    function HoverState() {
        this.selectionMode = false;
    }
    Object.defineProperty(HoverState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new HoverState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    HoverState.prototype.onMouseDown = function (board, mouse) {
        this.selectionMode = true;
        this.hitComponent = this.getHitComponent(board, mouse);
    };
    HoverState.prototype.onMouseUp = function (board, mouse) {
        if (this.selectionMode) {
            // clear current selection
            board.forEach(function (component) {
                if (Interfaces_1.isSelectable(component)) {
                    component.setSelected(false);
                }
                return true; // continue
            });
        }
        // If mouse was moved do not select
        if (this.hitComponent) {
            if (Interfaces_1.isSelectable(this.hitComponent)) {
                // select component
                this.hitComponent.setSelected(true);
                index_1.Events.instance.objectSelected.trigger(new index_1.ObjectEventArgument(this.hitComponent));
            }
        }
    };
    HoverState.prototype.onMouseMove = function (board, mouse) {
        if (mouse.isDown && this.hitComponent) {
            if (Interfaces_1.isHoverable(this.hitComponent)) {
                this.hitComponent.setHovered(false);
            }
            if (Interfaces_1.isSelectable(this.hitComponent)) {
                this.hitComponent.setSelected(true);
            }
            // change state
            if (Interfaces_1.isEditable(this.hitComponent)) {
                var editState = this.hitComponent.getEditState();
                board.changeState(editState, { component: this.hitComponent });
            }
        }
        else if (mouse.isDown && !this.hitComponent) {
            board.changeState('movechart');
        }
        else if (!mouse.isDown) {
            var hitComponent = this.getHitComponent(board, mouse);
            if (hitComponent) {
                hitComponent.setHovered(true);
                board.setCursor('pointer');
            }
            else {
                board.setCursor('crosshair');
            }
        }
        this.selectionMode = false;
        this.hitComponent = undefined;
    };
    HoverState.prototype.onMouseEnter = function (board, mouse) { };
    HoverState.prototype.onMouseLeave = function (board, mouse) { };
    HoverState.prototype.onMouseWheel = function (board, mouse) { };
    HoverState.prototype.activate = function (board, mouse) {
        this.selectionMode = false;
        this.hitComponent = undefined;
        board.setCursor('crosshair');
    };
    HoverState.prototype.deactivate = function (board, mouse) {
        board.forEach(function (component) {
            if (Interfaces_1.isHoverable(component)) {
                component.setHovered(false);
            }
            return true; // continue
        });
    };
    HoverState.prototype.getHitComponent = function (board, mouse) {
        var hitComponent;
        // traverse all hoverable components, clear all popups and find hit component.
        board.forEach(function (component, aggregatedOffset) {
            if (Interfaces_1.isHoverable(component)) {
                var p = new index_2.Point(mouse.pos.x - aggregatedOffset.x, mouse.pos.y - aggregatedOffset.y);
                if (component.isHit(p) && !hitComponent) {
                    hitComponent = component;
                    //component.setPopupVisibility(true);
                    //return false; // do not continue
                }
                else {
                    component.setHovered(false);
                }
            }
            return true; // continue
        }, true, // check children first
        false); // iterating in reverse order so that rendered last charts will be asked first.
        return hitComponent;
    };
    return HoverState;
}());
exports.HoverState = HoverState;
var MoveChartState = (function () {
    function MoveChartState() {
        this.last = new index_2.Point();
    }
    Object.defineProperty(MoveChartState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new MoveChartState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    MoveChartState.prototype.onMouseWheel = function (board, mouse) { };
    MoveChartState.prototype.onMouseMove = function (board, mouse) {
        var diffX = mouse.pos.x - this.last.x;
        board.moveX(diffX);
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        var _a;
    };
    MoveChartState.prototype.onMouseEnter = function (board, mouse) { };
    MoveChartState.prototype.onMouseLeave = function (board, mouse) {
        this.exit(board);
    };
    MoveChartState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board);
    };
    MoveChartState.prototype.onMouseDown = function (board, mouse) { };
    MoveChartState.prototype.activate = function (board, mouse) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        var _a;
    };
    MoveChartState.prototype.deactivate = function (board, mouse) {
        // TODO: stop mouse handling
    };
    MoveChartState.prototype.exit = function (board) {
        board.changeState('hover');
    };
    return MoveChartState;
}());
exports.MoveChartState = MoveChartState;
},{"../core/index":53,"../shared/index":166,"./Interfaces":25}],34:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeAxis class.
 */
var index_1 = require("../axes/index");
var index_2 = require("../model/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var LoadRangeEvent = (function (_super) {
    __extends(LoadRangeEvent, _super);
    function LoadRangeEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return LoadRangeEvent;
}(index_3.Event));
exports.LoadRangeEvent = LoadRangeEvent;
var LoadRangeArgument = (function () {
    function LoadRangeArgument(start, end, count) {
        this.start = start;
        this.end = end;
        this.count = count;
    }
    return LoadRangeArgument;
}());
exports.LoadRangeArgument = LoadRangeArgument;
var TimeAxis = (function () {
    function TimeAxis(interval, initialDate, N, width) {
        this.loadRangeEvent = new LoadRangeEvent();
        this.iteratorCounter = 0;
        this.g = 0;
        if (N <= 0) {
            throw new Error('Argument "N" must be positive.');
        }
        if (width <= 0) {
            throw new Error('Argument "width" must be positive.');
        }
        // Round initial date to interval
        initialDate = index_4.DateUtils.truncateToInterval(initialDate, interval);
        this._interval = interval;
        this.N = N;
        this.w = width;
        var dateStart = index_4.DateUtils.addInterval(initialDate, interval, -N);
        this.frameStart = new index_2.Uid(initialDate);
    }
    Object.defineProperty(TimeAxis.prototype, "loadingRange", {
        get: function () {
            return this.loadRangeEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        set: function (value) {
            this._interval = value;
            // truncate frame start to interval
            this.frameStart.t = index_4.DateUtils.truncateToInterval(this.frameStart.t, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "width", {
        get: function () {
            return this.w;
        },
        set: function (value) {
            this.w = value;
        },
        enumerable: true,
        configurable: true
    });
    //ondatachanged - не нужен. не надо менять frameStart и count. Но нужно dispose добавить.
    TimeAxis.prototype.setDataSource = function (dataSource) {
        // frameStart and count remain the same.
        // clear n
        this.frameStart.n = 0;
        this.dataSource = dataSource;
        this.iter = dataSource.getIterator();
        this.tempIter = dataSource.getIterator();
        // load 3 screens
        this.load(this.frameStart, 2 * this.N);
        this.load(this.frameStart, -this.N);
    };
    TimeAxis.prototype.load = function (uid, count) {
        if (this.dataSource) {
            this.dataSource.load(uid, count);
            this.loadRangeEvent.trigger(new LoadRangeArgument(uid, undefined, count));
        }
    };
    TimeAxis.prototype.loadRange = function (start, end) {
        if (this.dataSource) {
            this.dataSource.loadRange(start, end);
            this.loadRangeEvent.trigger(new LoadRangeArgument(start, end));
        }
    };
    Object.defineProperty(TimeAxis.prototype, "current", {
        get: function () {
            if (this.iteratorPointer === undefined) {
                throw new Error('Iterator is not initialized.');
            }
            return { uid: this.iteratorPointer, x: this.index2x(this.iteratorCounter) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "count", {
        get: function () {
            return this.N;
        },
        enumerable: true,
        configurable: true
    });
    TimeAxis.prototype.reset = function () {
        // go to frameStart
        this.iteratorPointer = undefined;
        this.iteratorCounter = -1;
        this.found = false;
    };
    TimeAxis.prototype.moveNext = function () {
        if (this.iteratorPointer === undefined) {
            this.iteratorPointer = new index_2.Uid(this.frameStart.t, this.frameStart.n);
            this.iteratorCounter = 0;
            var time_1 = this.iteratorPointer.t.getTime();
            var n_1 = this.iteratorPointer.n;
            if (this.iter) {
                this.found = this.iter.goTo(function (item) { return item.uid.t.getTime() === time_1 && item.uid.n === n_1; });
            }
            else {
                this.found = false;
            }
            return true;
        }
        else if (this.iteratorCounter < (this.N - 1)) {
            var res = this.shiftNext(this.iter, this.found, this.iteratorPointer);
            this.found = res.f;
            this.iteratorPointer = res.uid;
            this.iteratorCounter += 1;
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Should search most nearest Uid to the specified Uid, as interval can be changed
     * @param uid
     */
    TimeAxis.prototype.toX = function (uid) {
        // ensure that require uid is loaded
        if (this.dataSource) {
            this.loadRange(this.frameStart, uid);
        }
        // Compute distance b/w frame start и uid
        var dist = this.getDistance(this.frameStart, uid);
        return dist !== undefined ? this.index2x(dist) : undefined;
    };
    TimeAxis.prototype.toValue = function (x) {
        var wi = this.w / this.N;
        var index = Math.floor((x - this.g) / wi);
        return this.shiftBy(this.tempIter, index, this.frameStart);
    };
    TimeAxis.prototype.move = function (direction) {
        if (!direction || direction === 0) {
            return;
        }
        //let gnext = this.g + (direction > 0 ? 1 : -1);
        var gnext = this.g + direction;
        var wi = this.w / this.N;
        var count = Math.floor(gnext / wi);
        gnext = gnext - (count * wi);
        if (count !== 0) {
            direction = count;
            if (this.dataSource) {
                this.load(this.frameStart, direction > 0 ? (direction + 2 * this.N) : (direction - this.N));
            }
            this.frameStart = this.shiftBy(this.tempIter, -direction, this.frameStart);
        }
        this.g = gnext;
    };
    TimeAxis.prototype.scale = function (direction) {
        this.g = 0;
        var newN = this.N;
        if (direction > 0) {
            newN = Math.floor(this.N * 0.9);
        }
        else if (direction < 0) {
            newN = Math.ceil(this.N * 1.1);
            this.load(this.frameStart, -2 * newN);
        }
        else {
            return;
        }
        if (newN >= 1 && newN <= 2000) {
            this.frameStart = this.shiftBy(this.tempIter, this.N - newN, this.frameStart);
            this.N = newN;
        }
    };
    Object.defineProperty(TimeAxis.prototype, "range", {
        /**
         * Visible range
         */
        get: function () {
            var start = new index_2.Uid();
            start.t = this.frameStart.t;
            start.n = this.frameStart.n;
            var end = this.shiftBy(this.tempIter, this.N, this.frameStart);
            return { start: start, end: end };
        },
        enumerable: true,
        configurable: true
    });
    TimeAxis.prototype.lock = function (uid) {
        if (this.dataSource) {
            this.dataSource.lock(uid);
        }
    };
    /**
     * For rendering grid
     */
    TimeAxis.prototype.getGrid = function () {
        return new index_1.TimeAutoGrid(this.w, this._interval, this, this.range);
    };
    TimeAxis.prototype.dist = function (uidFrom, uidTo) {
        return this.getDistance(uidFrom, uidTo);
    };
    TimeAxis.prototype.add = function (uid, amount) {
        return this.shiftBy(this.tempIter, amount, uid);
    };
    TimeAxis.prototype.getDistance = function (uidFrom, uidTo) {
        var counter = 0;
        var curUid = uidFrom.compare(uidTo) <= 0 ? uidFrom : uidTo;
        var lastUid = uidFrom.compare(uidTo) <= 0 ? uidTo : uidFrom;
        var curTime = curUid.t.getTime();
        var lastTime = lastUid.t.getTime();
        var fo = this.tempIter ? this.tempIter.goTo(function (item) { return item.uid.compare(curUid) > 0; }) : false;
        if (fo && this.tempIter && this.tempIter.current.uid.compare(lastUid) < 0) {
            counter = index_4.DateUtils.diffIntervals(curUid.t, this.tempIter.current.uid.t, this.interval);
            var outOfRange = false;
            while (this.tempIter.moveNext()) {
                curUid = this.tempIter.current.uid;
                if (curUid.compare(lastUid) > 0) {
                    outOfRange = true;
                    break;
                }
                counter += 1;
            }
            if (!outOfRange) {
                counter += index_4.DateUtils.diffIntervals(curUid.t, lastUid.t, this.interval);
            }
        }
        else {
            counter = index_4.DateUtils.diffIntervals(curUid.t, lastUid.t, this.interval);
        }
        // Compute coordinate by index
        return (uidFrom.t < uidTo.t) ? counter : -counter;
    };
    /**
     * Basically searches Uid at "shift" from current. Also adds fake values if needed
     * @param iterator
     * @param shift Can be positive and negative
     * @param curPosition
     */
    TimeAxis.prototype.shiftBy = function (iterator, shift, curPosition) {
        var cur = new index_2.Uid();
        cur.t = curPosition.t;
        cur.n = curPosition.n;
        if (shift === 0) {
            return cur;
        }
        // 1. Find first candle before or after current position
        //
        var found = false;
        if (iterator) {
            found = (shift > 0)
                ? iterator.goTo(function (item) { return item.uid.compare(cur) > 0; })
                : iterator.goWhile(function (item) { return item.uid.compare(cur) < 0; });
        }
        //let remains: number = shift; // - counter;
        if (iterator && found) {
            // Define distance b/w frame start and first found item
            var diff = index_4.DateUtils.diffIntervals(cur.t, iterator.current.uid.t, this.interval); // diff is positive
            if ((shift > 0 && diff > shift) || (shift < 0 && -diff < shift)) {
                cur.t = index_4.DateUtils.addInterval(cur.t, this._interval, shift);
                cur.n = 0;
                return cur;
            }
            shift = shift - ((shift > 0) ? diff : -diff);
            // Shift over the data items
            var actualMoved = iterator.moveTimes(shift);
            cur.t = iterator.current.uid.t;
            cur.n = iterator.current.uid.n;
            shift = shift - actualMoved;
        }
        if (shift !== 0) {
            cur.t = index_4.DateUtils.addInterval(cur.t, this._interval, shift);
            cur.n = 0;
        }
        return cur;
    };
    TimeAxis.prototype.shiftNext = function (iterator, found, curPosition) {
        var newPosition = new index_2.Uid();
        var f = found;
        if (found) {
            f = (iterator !== undefined) ? iterator.moveNext() : false;
            if (f && iterator !== undefined) {
                var cur = iterator.current;
                newPosition.t = cur.uid.t;
                newPosition.n = cur.uid.n;
            }
            else {
                // generate fake
                // do not try to move
                newPosition.t = index_4.DateUtils.addInterval(curPosition.t, this._interval);
                newPosition.n = 0;
            }
        }
        else {
            // generate fake time
            // try move pointer
            newPosition.t = index_4.DateUtils.addInterval(curPosition.t, this._interval);
            newPosition.n = 0;
        }
        return { f: f, uid: newPosition };
    };
    TimeAxis.prototype.index2x = function (index) {
        var wi = this.w / this.N;
        return (wi * index) + (wi / 2) + this.g;
    };
    return TimeAxis;
}());
exports.TimeAxis = TimeAxis;
},{"../axes/index":14,"../model/index":142,"../shared/index":166,"../utils/index":175}],35:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeAxisComponent class.
 */
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var TimeMarker_1 = require("./TimeMarker");
var TimeAxisComponent = (function (_super) {
    __extends(TimeAxisComponent, _super);
    function TimeAxisComponent(area, timeAxis) {
        var _this = _super.call(this) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
            _this.marker.resize(arg.size.width, arg.size.height);
        };
        _this.tAxis = timeAxis;
        _this.area = area.getXArea();
        _this.area.sizeChanged.on(_this.onresize);
        _this._size = _this.area.size;
        _this.marker = new TimeMarker_1.TimeMarker(_this.area, _this.offset, _this.size, timeAxis, _this.getMarkPos);
        _this.addChild(_this.marker);
        return _this;
    }
    TimeAxisComponent.prototype.handeMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handeMouse.call(this, relX, relY);
    };
    TimeAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getAxesRender('date');
            render.render(this.area.baseCanvas, this.tAxis, { x: 0, y: 0, w: this.size.width, h: this.size.height });
        }
        // const childContext = new VisualContext(context.renderBase, context.renderFront,
        //                                        context.getCanvas('base'), context.getCanvas('front'), context.mousePosition);
        _super.prototype.render.call(this, context, renderLocator);
    };
    TimeAxisComponent.prototype.getMarkPos = function (ctx, size) {
        if (this.mouse) {
            return (this.mouse.x > 0 && this.mouse.x < size.width) ? this.tAxis.toValue(this.mouse.x) : undefined;
        }
    };
    return TimeAxisComponent;
}(index_1.VisualComponent));
exports.TimeAxisComponent = TimeAxisComponent;
},{"../core/index":53,"../shared/index":166,"./TimeMarker":36}],36:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeMarker class.
 */
var index_1 = require("../core/index");
var TimeMarker = (function (_super) {
    __extends(TimeMarker, _super);
    function TimeMarker(area, offset, size, taxis, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.getter = getter;
        return _this;
    }
    TimeMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var uid = this.getter(context, this.size);
        if (uid) {
            var x = this.taxis.toX(uid);
            var render = renderLocator.getMarkRender('date');
            render.render(this.area.frontCanvas, uid.t, { x: x, y: 0 }, this.size);
        }
    };
    return TimeMarker;
}(index_1.VisualComponent));
exports.TimeMarker = TimeMarker;
},{"../core/index":53}],37:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var TimeRegionMarker = (function (_super) {
    __extends(TimeRegionMarker, _super);
    function TimeRegionMarker(area, offset, size, taxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    TimeRegionMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var x1 = this.taxis.toX(value.start);
            var x2 = this.taxis.toX(value.end);
            // Render
            if (x1 !== undefined && x2 !== undefined) {
                var canvas = this.area.frontCanvas;
                canvas.fillStyle = 'rgba(190, 230, 255, 0.3)';
                canvas.fillRect(Math.min(x1, x2), 0, Math.abs(x2 - x1), this.size.height);
            }
        }
    };
    return TimeRegionMarker;
}(index_1.VisualComponent));
exports.TimeRegionMarker = TimeRegionMarker;
},{"../core/index":53}],38:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var Chart_1 = require("./Chart");
exports.Chart = Chart_1.Chart;
var ChartBoard_1 = require("./ChartBoard");
exports.ChartBoard = ChartBoard_1.ChartBoard;
var ChartStack_1 = require("./ChartStack");
exports.ChartStack = ChartStack_1.ChartStack;
var FigureComponent_1 = require("./FigureComponent");
exports.FigureComponent = FigureComponent_1.FigureComponent;
var FigureFactory_1 = require("./FigureFactory");
exports.FigureFactory = FigureFactory_1.FigureFactory;
exports.FigureType = FigureFactory_1.FigureType;
var Interfaces_1 = require("./Interfaces");
exports.isEditable = Interfaces_1.isEditable;
exports.isHoverable = Interfaces_1.isHoverable;
exports.isSelectable = Interfaces_1.isSelectable;
exports.isStateController = Interfaces_1.isStateController;
var NumberAxisComponent_1 = require("./NumberAxisComponent");
exports.NumberAxisComponent = NumberAxisComponent_1.NumberAxisComponent;
var NumberMarker_1 = require("./NumberMarker");
exports.NumberMarker = NumberMarker_1.NumberMarker;
var NumberRegionMarker_1 = require("./NumberRegionMarker");
exports.NumberRegionMarker = NumberRegionMarker_1.NumberRegionMarker;
var PriceAxisComponent_1 = require("./PriceAxisComponent");
exports.PriceAxisComponent = PriceAxisComponent_1.PriceAxisComponent;
var StateFabric_1 = require("./StateFabric");
exports.StateFabric = StateFabric_1.StateFabric;
var States_1 = require("./States");
exports.HoverState = States_1.HoverState;
exports.MoveChartState = States_1.MoveChartState;
var TimeAxisComponent_1 = require("./TimeAxisComponent");
exports.TimeAxisComponent = TimeAxisComponent_1.TimeAxisComponent;
var TimeMarker_1 = require("./TimeMarker");
exports.TimeMarker = TimeMarker_1.TimeMarker;
var TimeRegionMarker_1 = require("./TimeRegionMarker");
exports.TimeRegionMarker = TimeRegionMarker_1.TimeRegionMarker;
},{"./Chart":18,"./ChartBoard":19,"./ChartStack":20,"./FigureComponent":22,"./FigureFactory":23,"./Interfaces":25,"./NumberAxisComponent":26,"./NumberMarker":27,"./NumberRegionMarker":28,"./PriceAxisComponent":29,"./StateFabric":32,"./States":33,"./TimeAxisComponent":35,"./TimeMarker":36,"./TimeRegionMarker":37}],39:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../utils/index");
var IndicatorExtension = (function () {
    function IndicatorExtension() {
    }
    return IndicatorExtension;
}());
exports.IndicatorExtension = IndicatorExtension;
/**
 * TR = max(H - L, |H - C prev|, |L - C prev|)
 */
var TrueRangeExtension = (function (_super) {
    __extends(TrueRangeExtension, _super);
    function TrueRangeExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(TrueRangeExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    TrueRangeExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.c !== undefined) {
            current.ext['tr'] = Math.max(current.h, prev.c) - Math.min(current.l, prev.c);
        }
    };
    return TrueRangeExtension;
}(IndicatorExtension));
TrueRangeExtension.uname = 'truerange';
exports.TrueRangeExtension = TrueRangeExtension;
/**
 * +DM
 */
var UpDirectionalMovementExtension = (function (_super) {
    __extends(UpDirectionalMovementExtension, _super);
    function UpDirectionalMovementExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(UpDirectionalMovementExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    UpDirectionalMovementExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.h !== undefined && prev.l !== undefined) {
            // UpMove = Current High - Previous High
            // DownMove = Previous Low - Current Low
            var upmove = current.h - prev.h;
            var downmove = prev.l - current.l;
            // If UpMove > DownMove and UpMove > 0, then +DM = UpMove, else +DM = 0
            current.ext['pdm'] = (upmove > downmove && upmove > 0) ? upmove : 0;
        }
    };
    return UpDirectionalMovementExtension;
}(IndicatorExtension));
UpDirectionalMovementExtension.uname = 'pdm';
exports.UpDirectionalMovementExtension = UpDirectionalMovementExtension;
/**
 * -DM
 */
var DownDirectionalMovementExtension = (function (_super) {
    __extends(DownDirectionalMovementExtension, _super);
    function DownDirectionalMovementExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(DownDirectionalMovementExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    DownDirectionalMovementExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.h !== undefined && prev.l !== undefined) {
            // UpMove = Current High - Previous High
            // DownMove = Previous Low - Current Low            
            var upmove = current.h - prev.h;
            var downmove = prev.l - current.l;
            // If DownMove > Upmove and Downmove > 0, then -DM = DownMove, else -DM = 0 
            current.ext['mdm'] = (downmove > upmove && downmove > 0) ? downmove : 0;
        }
    };
    return DownDirectionalMovementExtension;
}(IndicatorExtension));
DownDirectionalMovementExtension.uname = 'mdm';
exports.DownDirectionalMovementExtension = DownDirectionalMovementExtension;
/**
 * ATR
 */
var AvgTrueRangeExtension = (function (_super) {
    __extends(AvgTrueRangeExtension, _super);
    function AvgTrueRangeExtension(period) {
        var _this = _super.call(this) || this;
        // ATR requires TR
        _this.trExt = new TrueRangeExtension();
        if (period !== undefined && period < 1) {
            throw new Error('Period less then 1 is not supported.');
        }
        _this.period = period || 14;
        if (_this.period < _this.trExt.amountRequires) {
            throw new Error('Period can not be less then True Range period.');
        }
        return _this;
    }
    Object.defineProperty(AvgTrueRangeExtension.prototype, "amountRequires", {
        get: function () {
            return this.period;
        },
        enumerable: true,
        configurable: true
    });
    AvgTrueRangeExtension.prototype.extend = function (line) {
        // Calculate True Range before calculating ATR
        this.trExt.extend(line);
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        // If there is previous ATR, than use it, otherwise - use average
        //
        if (current && prev) {
            var prevATR = prev.ext['atr'];
            var curTR = current.ext['tr'];
            if (prevATR !== undefined && curTR !== undefined) {
                current.ext['atr'] = (prevATR * (this.period - 1) + curTR) / this.period;
                return;
            }
        }
        // Using TR values to calculate ATR
        var sum = 0;
        var counter = 0;
        for (var i = line.length - 1; i >= 0 && counter <= this.period; i -= 1) {
            var tr = current.ext['tr'];
            if (tr !== undefined) {
                sum += tr;
                counter += 1;
            }
        }
        // If amount of TR is enough, calculate ATR
        if (counter === this.period) {
            current.ext['atr'] = sum / this.period;
        }
    };
    return AvgTrueRangeExtension;
}(IndicatorExtension));
AvgTrueRangeExtension.uname = 'avgtruerange';
exports.AvgTrueRangeExtension = AvgTrueRangeExtension;
/**
 * Gain/Loss
 */
var GainLossExtension = (function (_super) {
    __extends(GainLossExtension, _super);
    /**
     * Creates extension
     * @param fieldName Name of the field to use
     */
    function GainLossExtension(accessor) {
        var _this = _super.call(this) || this;
        _this.accessor = accessor;
        _this.uid = index_1.UidUtils.NEWUID();
        return _this;
    }
    Object.defineProperty(GainLossExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GainLossExtension.prototype, "uname", {
        get: function () {
            return 'gainloss' + this.uid;
        },
        enumerable: true,
        configurable: true
    });
    GainLossExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        var curValue = this.accessor(current);
        var prevValue = this.accessor(prev);
        if (curValue && prevValue) {
            var gain = 0;
            var loss = 0;
            if (curValue > prevValue) {
                gain = curValue - prevValue;
            }
            else if (curValue < prevValue) {
                loss = prevValue - curValue;
            }
            current.ext['gain_' + this.uid] = gain;
            current.ext['loss_' + this.uid] = loss;
        }
    };
    GainLossExtension.prototype.value = function (c) {
        return {
            gain: c && c.ext ? c.ext['gain_' + this.uid] : undefined,
            loss: c && c.ext ? c.ext['loss_' + this.uid] : undefined
        };
    };
    return GainLossExtension;
}(IndicatorExtension));
exports.GainLossExtension = GainLossExtension;
/**
 * Log Return extension. R(i) = log(Pi / P(i-1))
 */
var LogReturnExtension = (function (_super) {
    __extends(LogReturnExtension, _super);
    /**
     * Creates extension
     * @param fieldName Name of the field to use
     */
    function LogReturnExtension(accessor) {
        var _this = _super.call(this) || this;
        _this.accessor = accessor;
        _this.uid = index_1.UidUtils.NEWUID();
        return _this;
    }
    Object.defineProperty(LogReturnExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LogReturnExtension.prototype, "uname", {
        get: function () {
            return 'logreturn' + this.uid;
        },
        enumerable: true,
        configurable: true
    });
    LogReturnExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        var curValue = this.accessor(current);
        var prevValue = this.accessor(prev);
        if (curValue && prevValue) {
            current.ext['logreturn_' + this.uid] = Math.log(curValue / prevValue);
            //current.ext['logreturn_' + this.uid] = (curValue - prevValue) / prevValue;
        }
    };
    LogReturnExtension.prototype.value = function (c) {
        return (c && c.ext) ? c.ext['logreturn_' + this.uid] : undefined;
    };
    return LogReturnExtension;
}(IndicatorExtension));
exports.LogReturnExtension = LogReturnExtension;
},{"../utils/index":175}],40:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var IndicatorExtension_1 = require("./IndicatorExtension");
exports.AvgTrueRangeExtension = IndicatorExtension_1.AvgTrueRangeExtension;
exports.DownDirectionalMovementExtension = IndicatorExtension_1.DownDirectionalMovementExtension;
exports.GainLossExtension = IndicatorExtension_1.GainLossExtension;
exports.LogReturnExtension = IndicatorExtension_1.LogReturnExtension;
exports.TrueRangeExtension = IndicatorExtension_1.TrueRangeExtension;
exports.UpDirectionalMovementExtension = IndicatorExtension_1.UpDirectionalMovementExtension;
},{"./IndicatorExtension":39}],41:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AmountRange = (function () {
    function AmountRange(uidStart, uidEnd, count) {
        this.uidStart = uidStart;
        this.uidEnd = uidEnd;
        this.count = count;
    }
    AmountRange.prototype.isEqual = function (other) {
        return (other
            && this.uidStart.compare(other.uidStart) === 0
            && (this.uidEnd === other.uidEnd || (this.uidEnd && other.uidEnd && this.uidEnd.compare(other.uidEnd) === 0))
            && (this.count === other.count));
    };
    return AmountRange;
}());
exports.AmountRange = AmountRange;
var AmountRangeOps = (function () {
    function AmountRangeOps() {
    }
    AmountRangeOps.difference = function (minuend, subtrahend) {
        var M = minuend;
        var S = subtrahend;
        if (M.uidEnd && S.uidEnd) {
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            var S1 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidEnd : S.uidStart;
            var S2 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidStart : S.uidEnd;
            if (M1.compare(S1) < 0 && M2.compare(S1) <= 0) {
                return [new AmountRange(M1, M2)]; // { M1, M2 };
            }
            else if (M1.compare(S2) >= 0 && M2.compare(S2) > 0) {
                return [new AmountRange(M1, M2)]; //{ M1, M2};
            }
            else if (M1.compare(S1) >= 0 && M2.compare(S2) <= 0) {
                return undefined;
            }
            else if (M1.compare(S1) < 0 && M2.compare(S2) > 0) {
                return [
                    new AmountRange(M1, S1),
                    new AmountRange(S2, M2)
                ]; //{M1, S1} + {S2, M2};
            }
            else if (M1.compare(S1) <= 0) {
                return [new AmountRange(M1, S1)]; // { M1, S1 };
            }
            else if (M2.compare(S2) >= 0) {
                return [new AmountRange(S2, M2)]; // { S2, M2 };
            }
            else {
                throw new Error('Operation exception.');
            }
        }
        else if (M.count !== undefined && S.uidEnd) {
            if (S.count === undefined) {
                throw new Error('When range has uidEnd it must define count.');
            }
            var M1 = M.uidStart;
            var S1 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidEnd : S.uidStart;
            var S2 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidStart : S.uidEnd;
            if ((M.count < 0 && M1.compare(S1) <= 0) || (M.count > 0 && M1.compare(S2) >= 0)) {
                return [new AmountRange(M1, undefined, M.count)]; // { M1, M.count };
            }
            else if (M.count < 0 && M1.compare(S2) > 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(S2, M1),
                        new AmountRange(S1, undefined, M.count)
                    ];
                    //{ S2, M1 } + { S1, M.count };
                }
                else {
                    return [new AmountRange(S2, M1)]; // { S2, M1 };
                }
            }
            else if (M.count > 0 && M1.compare(S1) < 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(M1, S1),
                        new AmountRange(S2, undefined, M.count)
                    ];
                    // { M1, S1 } + { S2, M.count };
                }
                else {
                    return [new AmountRange(M1, S1)]; // { M1, S1 };
                }
            }
            else if (M1.compare(S1) >= 0 && M1.compare(S2) <= 0) {
                throw new Error('Subtrahend must not start in minuend.');
            }
            else {
                throw new Error('Operation exception');
            }
        }
        else if (M.uidEnd && S.count !== undefined) {
            if (M.count === undefined) {
                throw new Error('When range has uidEnd it must define count.');
            }
            var S1 = S.uidStart;
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            if ((S.count < 0 && S1.compare(M1) <= 0) || (S.count > 0 && S1.compare(M2) >= 0)) {
                return [M];
            }
            else if (S1.compare(M1) >= 0 && S1.compare(M2) <= 0 && S.count < 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(S1, M2),
                        new AmountRange(M1, undefined, S.count)
                    ];
                    // { S1, M2 } + { M1, S.count };
                }
                else {
                    return [new AmountRange(S1, M2)]; // { S1, M2 };
                }
            }
            else if (S1.compare(M1) >= 0 && S1.compare(M2) <= 0 && S.count > 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(M1, S1),
                        new AmountRange(M2, undefined, S.count)
                    ];
                    // { M1, S1 } + { M2, S.count };
                }
                else {
                    return [new AmountRange(M1, S1)]; // { M1, S1 };
                }
            }
            throw new Error('Operation exception');
        }
        else if (M.count !== undefined && S.count !== undefined) {
            throw new Error('Invalid operation');
        }
        else {
            throw new Error('Operation exception');
        }
    };
    AmountRangeOps.isIntersected = function (lhs, rhs) {
        var M = lhs.uidEnd ? lhs : rhs;
        var S = lhs.uidEnd ? rhs : lhs;
        if (!M.uidEnd) {
            throw new Error('One of ranges must have specified uidEnd.');
        }
        if (M.uidEnd && S.uidEnd) {
            var diff = AmountRangeOps.difference(M, S);
            if (diff && diff.length === 1) {
                return !M.isEqual(diff[0]); // if range is the same, that means that they are not intersected.
            }
            return true;
        }
        else {
            var S1 = S.uidStart;
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            if (S.count === undefined) {
                throw new Error('Count and uidEnd not defined.');
            }
            if ((S1.compare(M1) <= 0 && S.count < 0) || (S1.compare(M2) >= 0 && S.count > 0)) {
                return false; // Not intersected
            }
            else {
                return true; // Any other case assume intersected.
            }
        }
    };
    return AmountRangeOps;
}());
exports.AmountRangeOps = AmountRangeOps;
},{}],42:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CObject = (function () {
    function CObject(uid, name) {
        this._uid = uid;
        this._name = name;
    }
    Object.defineProperty(CObject.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CObject.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (value) {
            this._name = value;
        },
        enumerable: true,
        configurable: true
    });
    return CObject;
}());
exports.CObject = CObject;
},{}],43:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ChartType = (function () {
    function ChartType() {
    }
    return ChartType;
}());
ChartType.candle = 'candle';
ChartType.heikinashi = 'heikinashi';
ChartType.hollow = 'hollow';
ChartType.line = 'line';
ChartType.linebreak = 'linebreak';
ChartType.mountain = 'mountain';
ChartType.ohlc = 'ohlc';
ChartType.rangebar = 'rangebar';
ChartType.renko = 'renko';
exports.ChartType = ChartType;
},{}],44:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Core constants.
 */
var Constants = (function () {
    function Constants() {
    }
    Object.defineProperty(Constants, "FIBO_PERCENTAGE", {
        get: function () {
            return this._fiboPercantage;
        },
        enumerable: true,
        configurable: true
    });
    return Constants;
}());
Constants._fiboPercantage = [
    0.236,
    0.382,
    0.5,
    0.618,
    0.764,
    0.786,
    1,
    1.272,
    1.382,
    1.618,
    2,
    2.618,
    4.236
];
exports.Constants = Constants;
},{}],45:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
* Core enumerations.
*/
var TimeInterval;
(function (TimeInterval) {
    TimeInterval[TimeInterval["notSet"] = 0] = "notSet";
    TimeInterval[TimeInterval["sec"] = 1000] = "sec";
    TimeInterval[TimeInterval["min"] = 60000] = "min";
    TimeInterval[TimeInterval["min5"] = 300000] = "min5";
    TimeInterval[TimeInterval["min15"] = 900000] = "min15";
    TimeInterval[TimeInterval["min30"] = 1800000] = "min30";
    TimeInterval[TimeInterval["hour"] = 3600000] = "hour";
    TimeInterval[TimeInterval["hour4"] = 14400000] = "hour4";
    TimeInterval[TimeInterval["hour6"] = 21600000] = "hour6";
    TimeInterval[TimeInterval["hour12"] = 43200000] = "hour12";
    TimeInterval[TimeInterval["day"] = 86400000] = "day";
    TimeInterval[TimeInterval["day3"] = 259200000] = "day3";
    TimeInterval[TimeInterval["week"] = 604800000] = "week";
    TimeInterval[TimeInterval["day10"] = 864000000] = "day10";
    TimeInterval[TimeInterval["month"] = 2678400000] = "month"; // 31 days
})(TimeInterval = exports.TimeInterval || (exports.TimeInterval = {}));
},{}],46:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../shared/index");
var EventArgument = (function () {
    function EventArgument() {
    }
    return EventArgument;
}());
exports.EventArgument = EventArgument;
var ObjectEventArgument = (function (_super) {
    __extends(ObjectEventArgument, _super);
    function ObjectEventArgument(obj) {
        var _this = _super.call(this) || this;
        _this.obj = obj;
        return _this;
    }
    return ObjectEventArgument;
}(EventArgument));
exports.ObjectEventArgument = ObjectEventArgument;
var MouseEventArgument = (function (_super) {
    __extends(MouseEventArgument, _super);
    function MouseEventArgument(mouse) {
        var _this = _super.call(this) || this;
        _this.mouse = mouse;
        return _this;
    }
    return MouseEventArgument;
}(EventArgument));
exports.MouseEventArgument = MouseEventArgument;
var Events = (function () {
    function Events() {
        this._objectSelected = new index_1.Event();
        this._objectTreeChanged = new index_1.Event();
        this._mouseMove = new index_1.Event();
    }
    Object.defineProperty(Events, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new Events();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "objectSelected", {
        get: function () {
            return this._objectSelected;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "objectTreeChanged", {
        get: function () {
            return this._objectTreeChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "mouseMove", {
        get: function () {
            return this._mouseMove;
        },
        enumerable: true,
        configurable: true
    });
    return Events;
}());
exports.Events = Events;
},{"../shared/index":166}],47:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var TimeBar = (function () {
    function TimeBar() {
    }
    return TimeBar;
}());
exports.TimeBar = TimeBar;
var Grid = (function () {
    function Grid() {
        this.bars = [];
        this.precision = 0;
    }
    return Grid;
}());
exports.Grid = Grid;
},{}],48:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var ChartPoint = (function () {
    function ChartPoint(uid, value) {
        this.uid = uid;
        this.v = value;
    }
    ChartPoint.prototype.equals = function (other) {
        if (other) {
            if (other === this) {
                return true;
            }
            if (((this.uid && other.uid && this.uid.equals(other.uid)) || (this.uid === other.uid))
                && (this.v === other.v)) {
                return true;
            }
        }
        return false;
    };
    return ChartPoint;
}());
exports.ChartPoint = ChartPoint;
var Mouse = (function () {
    function Mouse() {
        this.pos = new index_1.Point();
        this.isDown = false;
        this.isEntered = false;
    }
    return Mouse;
}());
exports.Mouse = Mouse;
},{"../shared/index":166}],49:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../utils/index");
var SettingType = (function () {
    function SettingType() {
    }
    return SettingType;
}());
SettingType.check = 'check';
SettingType.color = 'color';
SettingType.numeric = 'numeric';
SettingType.select = 'select';
SettingType.date = 'date';
exports.SettingType = SettingType;
var SettingSet = (function () {
    function SettingSet(param) {
        this.name = '';
        this.value = '';
        this.dispalyName = '';
        this.settingType = '';
        this.visible = true;
        this.group = false;
        this.options = [];
        this.settings = {};
        if (typeof param === 'string') {
            this.name = param;
        }
        else {
            SettingSet.init(this, param);
        }
    }
    SettingSet.prototype.setSetting = function (path, setting) {
        var parts = path.split('.');
        var dest = this.settings;
        for (var i = 0; i < parts.length; i += 1) {
            var part = parts[i];
            if (i === 0 && part === this.name) {
                // Ignore root name if it points to this setting
                continue;
            }
            if (!dest[part]) {
                dest[part] = new SettingSet(part);
            }
            if (i === parts.length - 1) {
                dest[part] = setting;
            }
            dest = dest[part].settings;
        }
    };
    SettingSet.prototype.getValueOrDefault = function (path, defaultValue) {
        var setting = this.getSetting(path);
        if (setting && !setting.settingType) {
            throw new Error("Setting type is unspecified for setting " + setting.name);
        }
        if (setting && setting.settingType && setting.value) {
            switch (setting.settingType) {
                case SettingType.check:
                    return (setting.value === 'true');
                case SettingType.color:
                    return setting.value;
                case SettingType.numeric:
                    return parseInt(setting.value, 10);
                case SettingType.select:
                    return parseInt(setting.value, 10);
                case SettingType.date:
                    return index_1.DateUtils.parseISODate(setting.value);
                default: throw new Error("Unexpected setting type " + setting.settingType);
            }
        }
        return defaultValue;
    };
    SettingSet.prototype.getSetting = function (path) {
        return this.getSettingImpl(path, '', this);
    };
    SettingSet.prototype.getSettingImpl = function (path, counter, ss) {
        counter = counter ? counter + '.' + ss.name : ss.name;
        if (counter === path) {
            return ss;
        }
        for (var _i = 0, _a = Object.keys(ss.settings); _i < _a.length; _i++) {
            var s = _a[_i];
            var res = this.getSettingImpl(path, counter, ss.settings[s]);
            if (res) {
                return res;
            }
        }
    };
    SettingSet.init = function (obj, values) {
        obj.name = values.name;
        obj.value = values.value || '';
        obj.settingType = values.settingType || '';
        obj.dispalyName = values.displayName || '';
        obj.visible = values.visible !== undefined ? values.visible : true;
        obj.group = values.group || false;
        obj.options = values.options || [];
        if (values.settings) {
            for (var _i = 0, _a = values.settings; _i < _a.length; _i++) {
                var s = _a[_i];
                var nested = new SettingSet(s.name);
                SettingSet.init(nested, s);
                obj.setSetting(s.name, nested);
            }
        }
    };
    return SettingSet;
}());
exports.SettingSet = SettingSet;
},{"../utils/index":175}],50:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Storage classes.
 */
var index_1 = require("../shared/index");
var index_2 = require("../utils/index");
/**
 * Loads and saves storage tree from/to external storage.
 */
var StorageManager = (function () {
    function StorageManager(storage) {
        var _this = this;
        this._root = new StoreContainer();
        this.onChanged = function () {
            _this.save();
        };
        this.storage = storage;
        this._root.changed.on(this.onChanged);
        this.load();
    }
    StorageManager.prototype.root = function () {
        return this._root;
    };
    StorageManager.prototype.load = function () {
        if (this.storage) {
            var serialized = this.storage.getItem('__chartboard_storage__');
            if (serialized) {
                // unsubscribe
                if (this._root) {
                    this._root.changed.off(this.onChanged);
                }
                // initialize new container
                var obj = JSON.parse(serialized, index_2.JsonUtils.DATEPARSER); // Parsing dates as Date()
                this._root = new StoreContainer(obj);
                // subscribe
                this._root.changed.on(this.onChanged);
            }
        }
    };
    StorageManager.prototype.save = function () {
        if (this.storage) {
            var obj = this._root.serialize();
            var serialized = JSON.stringify(obj);
            this.storage.setItem('__chartboard_storage__', serialized);
        }
    };
    return StorageManager;
}());
exports.StorageManager = StorageManager;
/**
 * Represents a node from storage tree.
 */
var StoreContainer = (function () {
    function StoreContainer(obj, root) {
        this._changedEvt = new index_1.Event();
        this.obj = obj || new Object();
        this.root = root;
    }
    Object.defineProperty(StoreContainer.prototype, "changed", {
        get: function () {
            return this._changedEvt;
        },
        enumerable: true,
        configurable: true
    });
    StoreContainer.prototype.getProperty = function (propertyName) {
        return this.obj[propertyName];
    };
    StoreContainer.prototype.setProperty = function (propertyName, value) {
        this.obj[propertyName] = value;
        this.setChanged();
    };
    StoreContainer.prototype.getObjectProperty = function (propName) {
        var o = this.obj[propName];
        if (o === undefined) {
            o = new Object();
            this.obj[propName] = o;
        }
        return new StoreContainer(o, this.root || this);
    };
    StoreContainer.prototype.getArrayProperty = function (propName) {
        var o = this.obj[propName];
        if (o === undefined) {
            o = new Array();
            this.obj[propName] = o;
        }
        return new StoreArray(o, this.root || this);
    };
    StoreContainer.prototype.serialize = function () {
        return this.obj;
    };
    StoreContainer.prototype.setChanged = function () {
        if (this.root) {
            this.root.setChanged();
        }
        else {
            this._changedEvt.trigger();
        }
    };
    return StoreContainer;
}());
exports.StoreContainer = StoreContainer;
/**
 * Represents array of nodes from storage tree.
 */
var StoreArray = (function () {
    function StoreArray(a, root) {
        this.array = [];
        this.containers = [];
        this.count = 0;
        this.array = a;
        this.root = root;
        this.containers = a.map(function (el) {
            return new StoreContainer(el, root);
        });
    }
    StoreArray.prototype.addItem = function () {
        var o = new Object();
        this.array.push(o);
        var container = new StoreContainer(o, this.root);
        this.containers.push(container);
        this.root.setChanged();
        return container;
    };
    StoreArray.prototype.removeItem = function (index) {
        this.array.splice(index, 1);
        this.containers.splice(index, 1);
        this.root.setChanged();
    };
    StoreArray.prototype.asArray = function () {
        return this.containers;
    };
    return StoreArray;
}());
exports.StoreArray = StoreArray;
},{"../shared/index":166,"../utils/index":175}],51:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var VisualComponent = (function () {
    function VisualComponent(offset, size) {
        this._children = [];
        this._visible = true;
        this._offset = offset ? new index_1.Point(offset.x, offset.y) : new index_1.Point(0, 0);
        this._size = size ? new index_1.Size(size.width, size.height) : new index_1.Size(0, 0);
    }
    Object.defineProperty(VisualComponent.prototype, "offset", {
        get: function () {
            return this._offset;
        },
        set: function (value) {
            this._offset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "children", {
        get: function () {
            return this._children.slice();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "visible", {
        get: function () {
            return this._visible;
        },
        set: function (value) {
            this._visible = value;
        },
        enumerable: true,
        configurable: true
    });
    VisualComponent.prototype.addChild = function (child) {
        this._children.push(child);
    };
    VisualComponent.prototype.removeChild = function (child) {
        this._children = this._children.filter(function (value) { return value !== child; });
    };
    VisualComponent.prototype.handeMouse = function (relX, relY) {
        // Default behavior: just passing message to children
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.handeMouse(relX - child.offset.x, relY - child.offset.y);
        }
    };
    VisualComponent.prototype.render = function (context, renderLocator) {
        // Default behavior: just passing message to children
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.render(context, renderLocator);
        }
    };
    VisualComponent.prototype.resize = function (w, h) {
        // Default behavior: set size and pass message to children
        this._size = { width: w, height: h };
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.resize(w, h);
        }
    };
    VisualComponent.prototype.forEach = function (delegate, childrenFirst, directOrder) {
        if (childrenFirst === void 0) { childrenFirst = false; }
        if (directOrder === void 0) { directOrder = true; }
        this.forEachAggregator(delegate, childrenFirst, directOrder, new index_1.Point(0, 0));
    };
    // public getGlobalOffset(): IPoint {
    //     //if (!this.globalOffset) {
    //         if (this.parent) {
    //             this.globalOffset = this._offset.add(this.parent.getGlobalOffset());
    //         } else {
    //             this.globalOffset = new Point(this._offset.x, this._offset.y);
    //         }
    //     //}
    //     return this.globalOffset;
    // }
    VisualComponent.prototype.forEachAggregator = function (delegate, childrenFirst, directOrder, initialOffset) {
        // 1. Execute for this component
        var offset = new index_1.Point(initialOffset.x + this.offset.x, initialOffset.y + this.offset.y);
        if (!childrenFirst && !delegate(this, offset)) {
            return false; // stop iterating
        }
        // 2. Iterating through children in direct or reverse order
        var index = directOrder ? 0 : this._children.length - 1;
        while ((directOrder && index < this._children.length)
            || (!directOrder && index >= 0)) {
            if (!this._children[index].forEachAggregator(delegate, childrenFirst, directOrder, offset)) {
                return false; // stop iterating through children
            }
            index = directOrder ? index + 1 : index - 1;
        }
        if (childrenFirst && !delegate(this, offset)) {
            return false; // stop iterating
        }
        return true; // continue
    };
    return VisualComponent;
}());
exports.VisualComponent = VisualComponent;
},{"../shared/index":166}],52:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var VisualContext = (function () {
    function VisualContext(renderBase, renderFront) {
        this._renderBase = renderBase;
        this._renderFront = renderFront;
    }
    Object.defineProperty(VisualContext.prototype, "renderBase", {
        get: function () {
            return this._renderBase;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualContext.prototype, "renderFront", {
        get: function () {
            return this._renderFront;
        },
        enumerable: true,
        configurable: true
    });
    return VisualContext;
}());
exports.VisualContext = VisualContext;
},{}],53:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var AmountRange_1 = require("./AmountRange");
exports.AmountRange = AmountRange_1.AmountRange;
exports.AmountRangeOps = AmountRange_1.AmountRangeOps;
var ChartType_1 = require("./ChartType");
exports.ChartType = ChartType_1.ChartType;
var CObject_1 = require("./CObject");
exports.CObject = CObject_1.CObject;
var Constants_1 = require("./Constants");
exports.Constants = Constants_1.Constants;
var Enums_1 = require("./Enums");
exports.TimeInterval = Enums_1.TimeInterval;
var Events_1 = require("./Events");
exports.EventArgument = Events_1.EventArgument;
exports.Events = Events_1.Events;
exports.MouseEventArgument = Events_1.MouseEventArgument;
exports.ObjectEventArgument = Events_1.ObjectEventArgument;
var Interfaces_1 = require("./Interfaces");
exports.Grid = Interfaces_1.Grid;
exports.TimeBar = Interfaces_1.TimeBar;
var Model_1 = require("./Model");
exports.ChartPoint = Model_1.ChartPoint;
exports.Mouse = Model_1.Mouse;
var SettingSet_1 = require("./SettingSet");
exports.SettingSet = SettingSet_1.SettingSet;
exports.SettingType = SettingSet_1.SettingType;
var StorageManager_1 = require("./StorageManager");
exports.StorageManager = StorageManager_1.StorageManager;
exports.StoreArray = StorageManager_1.StoreArray;
exports.StoreContainer = StorageManager_1.StoreContainer;
var VisualComponent_1 = require("./VisualComponent");
exports.VisualComponent = VisualComponent_1.VisualComponent;
var VisualContext_1 = require("./VisualContext");
exports.VisualContext = VisualContext_1.VisualContext;
},{"./AmountRange":41,"./CObject":42,"./ChartType":43,"./Constants":44,"./Enums":45,"./Events":46,"./Interfaces":47,"./Model":48,"./SettingSet":49,"./StorageManager":50,"./VisualComponent":51,"./VisualContext":52}],54:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var ArrayDataSource = (function (_super) {
    __extends(ArrayDataSource, _super);
    //    protected readonly comparer = (item1: IUidValue, item2: IUidValue) => { return item1.date.getTime() - item2.date.getTime(); };
    function ArrayDataSource(dataType, config, data, comparer) {
        var _this = _super.call(this, dataType, config) || this;
        // private readonly defaultMinValue = 0;
        // private readonly defaultMaxValue = 100;
        _this.comparer = function (item1, item2) { return item1.uid.compare(item2.uid); };
        if (comparer) {
            _this.comparer = comparer;
        }
        var initData = data.slice();
        initData.sort(_this.comparer);
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer, initData);
        return _this;
    }
    ArrayDataSource.prototype.load = function (uid, count) {
    };
    ArrayDataSource.prototype.loadRange = function (uidFirst, uidLast) {
    };
    ArrayDataSource.prototype.getIterator = function (filter) {
        // return everything
        return this.dataStorage.getIterator(filter);
    };
    ArrayDataSource.prototype.lock = function (uid) { };
    ArrayDataSource.prototype.dispose = function () { };
    return ArrayDataSource;
}(DataSource_1.DataSource));
exports.ArrayDataSource = ArrayDataSource;
},{"./ArrayDataStorage":55,"./DataSource":59}],55:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ArrayDataStorage class.
 */
var index_1 = require("../utils/index");
var ArrayIterator_1 = require("./ArrayIterator");
/**
 * Stores items in sorted array.
 */
var ArrayDataStorage = (function () {
    function ArrayDataStorage(comparer, initArray) {
        if (!comparer) {
            throw new Error('Argument \'comparer\' is null.');
        }
        this.comparer = comparer;
        this.dataSnapshot = {
            data: initArray ? initArray.slice() : [],
            timestamp: 0
        };
        // sort initial array
        this.dataSnapshot.data.sort(this.comparer);
    }
    Object.defineProperty(ArrayDataStorage.prototype, "length", {
        get: function () {
            return this.dataSnapshot.data.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "first", {
        get: function () {
            var data = this.dataSnapshot.data;
            return (data.length > 0) ? data[0] : undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "last", {
        get: function () {
            var data = this.dataSnapshot.data;
            var length = data.length;
            return (length > 0) ? data[length - 1] : undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "isEmpty", {
        get: function () {
            return this.dataSnapshot.data.length === 0;
        },
        enumerable: true,
        configurable: true
    });
    ArrayDataStorage.prototype.clear = function () {
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
        this.dataSnapshot.data = [];
    };
    ArrayDataStorage.prototype.merge = function (update, updateFunction) {
        if (update && update.length) {
            // Sort incoming array
            update.sort(this.comparer);
            // Update current timestamp
            this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
            // Import incoming data to the array
            this.dataSnapshot.data = index_1.ArrayUtils.merge(this.dataSnapshot.data, update, this.comparer, updateFunction);
        }
    };
    /**
     * Finds first element that matches the condition and removes all follwing items the element.
     * @param predicate
     */
    ArrayDataStorage.prototype.removeAfterInclusive = function (predicate) {
        var itemIndex = -1;
        this.dataSnapshot.data.some(function (e, i, array) {
            if (predicate(e)) {
                itemIndex = i;
                return true;
            }
            return false;
        });
        if (itemIndex === -1) {
            //throw new Error('Element is not found.');
            return;
        }
        // Update current timestamp
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
        // Import incoming data to the array
        this.dataSnapshot.data.length = itemIndex;
        //this.dataSnapshot.data = this.dataSnapshot.data.slice(0, itemIndex + 1);
    };
    /**
     * Removes items from the start.
     * Iteratest through items from beginning, finds first item that is not fit to condition and removes all preceding.
     * @param predicate
     */
    ArrayDataStorage.prototype.trimLeft = function (predicate) {
        var index = -1;
        this.dataSnapshot.data.some(function (e, i) {
            if (!predicate(e)) {
                index = i;
                return true;
            }
            return false;
        });
        if (index === -1) {
            // If no elements in array or all elements fit the condition.
            this.dataSnapshot.data = [];
        }
        else {
            this.dataSnapshot.data.splice(0, index);
        }
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
    };
    /**
     * Removes items from the end.
     * Iteratest through items from end, finds first item that is not fit to condition and removes all following.
     * @param predicate
     */
    ArrayDataStorage.prototype.trimRight = function (predicate) {
        var l = this.dataSnapshot.data.length;
        var index = -1;
        for (var i = l - 1; i >= 0; i -= 1) {
            if (!predicate(this.dataSnapshot.data[i])) {
                index = i;
                break;
            }
        }
        if (index === -1) {
            // If no elements in array or all elements fit the condition.
            this.dataSnapshot.data = [];
        }
        else if ((index + 1) < l) {
            this.dataSnapshot.data.splice(index + 1); // remove all items after specified index (inclusive)
        }
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
    };
    // public filter(filter?: (item: T) => boolean): IDataIterator<T> {
    //     return new ArrayIterator<T>(this.dataSnapshot, this.dataSnapshot.timestamp, filter);
    // }
    ArrayDataStorage.prototype.getIterator = function (filter) {
        return new ArrayIterator_1.ArrayIterator(this.dataSnapshot, this.dataSnapshot.timestamp, filter);
        // // Find the element
        // const itemIndex = this.findIndex(predicate);
        // if (itemIndex !== -1) {
        //     const imin = Math.min(itemIndex, itemIndex + count);
        //     const imax = Math.max(itemIndex, itemIndex + count);
        //     return new ArrayIterator(this.dataSnapshot, this.dataSnapshot.timestamp,
        //                              (e: T, i: number) => { return (i >= imin && i <= imax); });
        // } else {
        //     return new ArrayIterator(
        //         this.dataSnapshot, this.dataSnapshot.timestamp, (e: T, i: number) => false); // Do not return anything               
        // }
    };
    return ArrayDataStorage;
}());
exports.ArrayDataStorage = ArrayDataStorage;
},{"../utils/index":175,"./ArrayIterator":56}],56:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayIterator = (function () {
    function ArrayIterator(dataSnapshot, timestamp, filter) {
        this.dataSnapshot = dataSnapshot;
        this.timestamp = timestamp;
        this.currentIndex = 0;
        this.currentIndex = -1;
        this.filter = filter;
    }
    ArrayIterator.prototype.reset = function () {
        this.currentIndex = -1;
        this.timestamp = this.dataSnapshot.timestamp;
    };
    /**
     * Starts from the beginning of data.
     */
    ArrayIterator.prototype.goTo = function (predicate) {
        this.reset();
        while (this.moveNext()) {
            if (predicate(this.current)) {
                return true;
            }
        }
        return false;
    };
    /**
     * Moves iterator while condition is met. Stays on the last element that satisfy condition.
     * Starts from beginning.
     * @param predicate
     */
    ArrayIterator.prototype.goWhile = function (predicate) {
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        this.reset();
        var nextIndex = 0;
        while (nextIndex < this.dataSnapshot.data.length
            && predicate(this.dataSnapshot.data[nextIndex])) {
            this.currentIndex = nextIndex;
            nextIndex += 1;
        }
        return (this.currentIndex >= 0 && this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Moves pointer from current position untill condition is met.
     * Returns count of moves done. Or -1 if could not find element.
     */
    ArrayIterator.prototype.moveTo = function (predicate) {
        var countMoves = 0;
        // First check current element:
        do {
            if (predicate(this.current)) {
                return countMoves;
            }
            countMoves += 1;
        } while (this.moveNext());
        return -1;
    };
    // public find(predicate: (item: T) => boolean): T | undefined {
    //     // Should not change state
    //     let index = -1;
    //     while (index < this.dataSnapshot.data.length) {
    //         index = this.skipFilteredForward(index);
    //         if (index < this.dataSnapshot.data.length && predicate(this.dataSnapshot.data[index])) {
    //             return this.dataSnapshot.data[index];
    //         }
    //     }
    // }
    // public count(): number {
    //     // Should not change state
    //     let count = 0;
    //     let index = -1;
    //     while (index < this.dataSnapshot.data.length) {
    //         index = this.skipFilteredForward(index);
    //         if (index < this.dataSnapshot.data.length) {
    //             count += 1;
    //         }
    //     }
    //     return count;
    // }
    ArrayIterator.prototype.skipFilteredForward = function (index) {
        if (this.filter) {
            do {
                index += 1;
            } while (index < this.dataSnapshot.data.length && !this.filter(this.dataSnapshot.data[index]));
        }
        else {
            index += 1;
        }
        return index;
    };
    ArrayIterator.prototype.skipFilteredBackward = function (index) {
        if (this.filter) {
            do {
                index -= 1;
            } while (index >= 0 && !this.filter(this.dataSnapshot.data[index]));
        }
        else {
            index -= 1;
        }
        return index;
    };
    /**
     * Moves pointer forward n times.
     * Returns actual count of moves done.
     */
    ArrayIterator.prototype.moveNextTimes = function (n) {
        var i = 0;
        while (i < n && this.moveNext()) {
            i += 1;
        }
        return i; //(i === n);
    };
    /**
     * Moves pointer forward/backward n times.
     * Returns actual count of moves done (positive or negative).
     * Current can not become undefined.
     */
    ArrayIterator.prototype.moveTimes = function (n) {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0 || n === 0) {
            return 0;
        }
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        var shift;
        if (n < 0) {
            shift = Math.max(-this.currentIndex, n);
        }
        else {
            shift = Math.min(this.dataSnapshot.data.length - (this.currentIndex + 1), n);
        }
        this.currentIndex += shift;
        return shift;
    };
    /**
     * Moves pointer on 1 item forward.
     * Returns false if can not move.
     */
    ArrayIterator.prototype.moveNext = function () {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0) {
            return false;
        }
        // Current index must not get greater then length
        if (this.currentIndex === this.dataSnapshot.data.length) {
            return false;
        }
        do {
            this.currentIndex += 1;
        } while (this.currentIndex < this.dataSnapshot.data.length
            && this.filter && !this.filter(this.dataSnapshot.data[this.currentIndex])); // If filter is defined use it.
        return (this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Moves pointer on 1 item backwards.
     * Returns false if can not move.
     */
    ArrayIterator.prototype.movePrev = function () {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0) {
            return false;
        }
        // Current index must not get less then -1
        if (this.currentIndex === -1) {
            return false;
        }
        // Using filter to skip some elements
        do {
            this.currentIndex -= 1;
        } while (this.currentIndex >= 0
            && this.filter && !this.filter(this.dataSnapshot.data[this.currentIndex])); // If filter is defined use it.
        return (this.currentIndex >= 0 && this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Iterates backwards starting from the current position.
     * Iterats till @func returns "true" and begginning of storage is not reached.
     * Counter: [
     *   0 - current element,
     *   1 - previous element,
     *   ...
     * ]
     * @param func
     */
    ArrayIterator.prototype.somebackward = function (func) {
        this.checkTimestamp();
        if (this.currentIndex < 0 || this.currentIndex >= this.dataSnapshot.data.length) {
            return;
        }
        var counter = 0;
        do {
            if (!func(this.current, counter)) {
                break;
            }
            counter += 1;
        } while (this.movePrev());
    };
    Object.defineProperty(ArrayIterator.prototype, "current", {
        get: function () {
            this.checkTimestamp();
            return this.dataSnapshot.data[this.currentIndex];
        },
        enumerable: true,
        configurable: true
    });
    ArrayIterator.prototype.goToLast = function () {
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        this.reset();
        if (this.dataSnapshot.data.length > 0) {
            this.currentIndex = this.dataSnapshot.data.length - 1;
            return true;
        }
        return false;
    };
    Object.defineProperty(ArrayIterator.prototype, "last", {
        get: function () {
            if (this.filter) {
                throw new Error('Not implemented.');
            }
            this.checkTimestamp();
            if (this.dataSnapshot.data.length > 0) {
                return this.dataSnapshot.data[this.dataSnapshot.data.length - 1];
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayIterator.prototype, "previous", {
        get: function () {
            if (this.filter) {
                throw new Error('Not implemented.');
            }
            this.checkTimestamp();
            if (this.currentIndex >= 1) {
                return this.dataSnapshot.data[this.currentIndex - 1];
            }
        },
        enumerable: true,
        configurable: true
    });
    ArrayIterator.prototype.checkTimestamp = function () {
        if (this.dataSnapshot.timestamp !== this.timestamp) {
            // TODO: Check behavior
            throw new Error('Data iterator is expired.');
        }
    };
    return ArrayIterator;
}());
exports.ArrayIterator = ArrayIterator;
},{}],57:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var DataSourceConfig_1 = require("./DataSourceConfig");
var TaskParams = (function () {
    function TaskParams(cuid, cuidLast, count) {
        this.cuid = cuid;
        this.cuidLast = cuidLast;
        this.count = count;
    }
    return TaskParams;
}());
var Request = (function () {
    function Request(uid, uidlast, count) {
        this.suid = uid;
        this.uidlast = uidlast;
        this.count = count;
    }
    Request.prototype.isEqual = function (other) {
        // return (other
        // && this.suid.compare(other.suid) === 0
        // && this.count === other.count);
        return (other !== undefined
            && this.suid.compare(other.suid) === 0
            && (this.uidlast === other.uidlast
                || (this.uidlast !== undefined && other.uidlast !== undefined && this.uidlast.compare(other.uidlast) === 0))
            && (this.count === other.count));
    };
    return Request;
}());
var ComputeTask = (function () {
    function ComputeTask(storage, params, datachanged, sendrequest, compute, next) {
        this.requests = [];
        this.isFinished = false;
        this.storage = storage;
        this.iterator = storage.getIterator();
        this.triggerDataChanged = datachanged;
        this.sendrequest = sendrequest;
        this.compute = compute;
        this.startTime = new Date();
        this.next = next;
        this.params = params;
        console.log("new ComputeTask( " + params.cuid.t.toISOString() + " " + (params.cuidLast ? params.cuidLast.t.toISOString() : "") + " " + params.count + " )");
        if (!params.count && !params.cuidLast) {
            throw new Error('Arguments "count" and "cuidLast" not defined.');
        }
    }
    Object.defineProperty(ComputeTask.prototype, "isOutdated", {
        get: function () {
            return ((new Date().getTime()) - this.startTime.getTime()) > (60 * 1000); // 1 min
        },
        enumerable: true,
        configurable: true
    });
    ComputeTask.prototype.start = function () {
        var _this = this;
        // clear timer
        this.startTime = new Date();
        console.log('----- Task.start -----');
        // Narrow load range
        if (this.params.count !== undefined && this.storage.first && this.storage.last) {
            if (this.params.cuid.compare(this.storage.first.uid) >= 0 && this.params.cuid.compare(this.storage.last.uid) <= 0) {
                var shift = void 0;
                if (this.storage.last.uid.compare(this.params.cuid) <= 0) {
                    shift = this.storage.length;
                }
                else {
                    this.iterator.goTo(function (item) { return true; }); // go to first element
                    shift = this.iterator.moveTo(function (item) { return item.uid.compare(_this.params.cuid) >= 0; });
                    if (shift === -1) {
                        shift = 0;
                    }
                }
                if (this.params.count > 0) {
                    this.params.cuid = this.storage.last.uid;
                    // Get distance b/w UID-LAST
                    this.params.count -= (this.storage.length - shift);
                    console.log("Narrowing range: " + this.storage.last.uid.t.toISOString() + " " + this.params.count);
                    if (this.params.count <= 0) {
                        this.params.count = 0;
                        this.isFinished = true;
                        return;
                    }
                }
                else {
                    this.params.cuid = this.storage.first.uid;
                    // Get distance b/w FIRST-UID
                    this.params.count += shift;
                    console.log("Narrowing range: " + this.storage.first.uid.t.toISOString() + " " + this.params.count);
                    if (this.params.count >= 0) {
                        this.params.count = 0;
                        this.isFinished = true;
                        return;
                    }
                }
            }
        }
        var newReqs = this.makeRequests();
        var _loop_1 = function (newReq) {
            // Check that requests are not repeated
            var some = this_1.requests.some(function (req) { return req.isEqual(newReq); });
            if (!some) {
                this_1.requests.push(newReq);
                // Send request
                this_1.sendrequest(newReq.suid, newReq.uidlast, newReq.count);
            }
        };
        var this_1 = this;
        for (var _i = 0, newReqs_1 = newReqs; _i < newReqs_1.length; _i++) {
            var newReq = newReqs_1[_i];
            _loop_1(newReq);
        }
    };
    ComputeTask.prototype.makeRequests = function () {
        var REQ_COUNT = 500;
        if (this.storage.first && this.storage.last) {
            var M = new index_1.AmountRange(this.params.cuid, this.params.cuidLast, this.params.count);
            var S = new index_1.AmountRange(this.storage.first.uid, this.storage.last.uid, this.storage.length);
            var diff = index_1.AmountRangeOps.difference(M, S);
            if (diff) {
                return diff.map(function (d) {
                    //-----------------------------------------------
                    var count = d.count;
                    if (d.count !== undefined) {
                        count = d.count > 0 ? REQ_COUNT : -REQ_COUNT; // extending to REQ_COUNT
                    }
                    //-----------------------------------------------
                    return new Request(d.uidStart, d.uidEnd, count);
                });
            }
            else {
                return [];
            }
        }
        else {
            return [
                new Request(this.params.cuid, undefined, REQ_COUNT)
            ];
        }
        // // Make request
        // let cuidRequest: Uid;
        // let countRequest: number;
        // if (this.params.count !== undefined) {
        //     if (this.params.count > 0) {
        //         cuidRequest = (this.storage.last !== undefined) ? this.storage.last.uid : this.params.cuid;
        //         countRequest = REQ_COUNT;
        //     } else if (this.params.count < 0) {
        //         cuidRequest = (this.storage.first !== undefined) ? this.storage.first.uid : this.params.cuid;
        //         countRequest = -REQ_COUNT;
        //     } else {
        //         this.isFinished = true;
        //         return;
        //     }
        // } else if (this.params.cuidLast !== undefined) {
        //     // get last uid
        //     cuidRequest = (this.storage.last !== undefined) ? this.storage.last.uid : this.params.cuid;
        //     countRequest = REQ_COUNT;
        // } else {
        //     throw new Error('Arguments "count" and "cuidLast" not defined.');
        // }
    };
    ComputeTask.prototype.computeAndTriggerEvent = function (arg) {
        var argres = this.compute(arg);
        if (argres) {
            this.triggerDataChanged(argres);
        }
    };
    ComputeTask.prototype.isArgRelated = function (arg) {
        var M = new index_1.AmountRange(arg.uidFirst, arg.uidLast, arg.count);
        var S = new index_1.AmountRange(this.params.cuid, this.params.cuidLast, this.params.count);
        return index_1.AmountRangeOps.isIntersected(M, S);
        // const argFirstTime = arg.uidFirst.t.getTime();
        // const argLastTime = arg.uidLast.t.getTime();
        // const cuidTime = this.params.cuid.t.getTime();
        // if (this.params.cuidLast !== undefined) {
        //     // Checking if at least one time is inside interval
        //     const cuidLastTime = this.params.cuidLast.t.getTime();
        //     return ((argFirstTime >= cuidTime && argFirstTime <= cuidLastTime)
        //     || (argLastTime >= cuidTime && argLastTime <= cuidLastTime));
        // } else if (this.params.count !== undefined) {
        //     // Check if one of incoming Uid is on the right side
        //     if (this.params.count > 0) {
        //         return argLastTime >= cuidTime;
        //     } else if (this.params.count < 0) {
        //         return argFirstTime <= cuidTime;
        //     }
        // } else {
        //     throw new Error('Arguments "count" and "cuidLast" not defined.');
        // }
        // return false;
    };
    ComputeTask.prototype.checkIfDataEnough = function (params) {
        var _this = this;
        // TODO: There can be no exact Uid. Use gt/lt comparing
        if (this.iterator.goTo(function (item) { return item.uid.compare(_this.params.cuid) === 0; })) {
            if (this.params.count !== undefined) {
                return (this.iterator.moveTimes(this.params.count) === this.params.count);
            }
            else if (this.params.cuidLast !== undefined) {
                // There can be no exact Uid
                return this.iterator.moveTo(function (item) { return item.uid.compare(_this.params.cuid) >= 0; });
            }
            else {
                throw new Error('Arguments "count" and "cuidLast" not defined.');
            }
        }
    };
    ComputeTask.prototype.handleEvent = function (arg, sourceIterator) {
        // if (this.isFinished) {
        //     if (this.next) {
        //         this.next.handleEvent(arg, sourceIterator);
        //     }
        //     return;
        // }
        // Check if data is related to this task
        var related = this.isArgRelated(arg);
        console.log('----- Task.handleEvent -----');
        console.log("arg " + arg.uidFirst.t.toISOString() + " - " + arg.uidLast.t.toISOString() + " ");
        console.log("params " + this.params.cuid.t.toISOString() + " - " + (this.params.cuidLast ? this.params.cuidLast.t.toISOString() : "N/A") + " / " + this.params.count + " ");
        console.log('Related: ' + related);
        if (!related && this.next) {
            // If not - pass it further
            this.next.handleEvent(arg, sourceIterator);
            return;
        }
        // If yes
        // Compute values
        this.computeAndTriggerEvent(arg);
        if (!related) {
            // do not send requests
            return;
        }
        // Recheck data.
        if (this.checkIfDataEnough(this.params)) {
            console.log('task is finished');
            // If data is enough, finish.
            this.isFinished = true;
        }
        else {
            // If data is not enough
            // send one more request
            // clear timer
            this.startTime = new Date();
            this.start();
        }
    };
    return ComputeTask;
}());
var ComputedDataSource = (function (_super) {
    __extends(ComputedDataSource, _super);
    function ComputedDataSource(source) {
        var _this = _super.call(this, index_2.Candlestick, new DataSourceConfig_1.DataSourceConfig(source.precision)) || this;
        _this.comparer = function (lhs, rhs) { return lhs.uid.compare(rhs.uid); };
        _this.triggerDataChanged = function (arg) {
            _this.dateChangedEvent.trigger(arg);
        };
        _this.sendDataRequest = function (uid, uidLast, count) {
            console.log("Sending request: " + uid.t.toISOString() + " " + count);
            if (uidLast) {
                _this.source.loadRange(uid, uidLast);
            }
            else if (count) {
                _this.source.load(uid, count);
            }
            else {
                throw new Error('uid or count must be defined.');
            }
        };
        _this.onDataSourceChanged = function (arg) {
            console.log('============ STARTING TASKS CHAIN ============================');
            // Pass result to the tasks
            if (_this.task) {
                _this.task.handleEvent(arg, _this.sourceIterator);
                // Remove "outdated" tasks
                if (_this.task.isOutdated) {
                    _this.task = undefined;
                }
                else {
                    var current = _this.task;
                    while (current.next && !current.next.isOutdated) {
                        current = current.next;
                    }
                    current.next = undefined;
                }
            }
            else {
                // If not current task then create a new task
                _this.task = _this.createTask(arg.uidFirst, arg.uidLast, arg.count);
                _this.task.handleEvent(arg, _this.sourceIterator);
                //this.task.start();
            }
        };
        _this.computeDelegate = function (arg) {
            return _this.compute(arg);
        };
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer);
        _this.iterator = _this.dataStorage.getIterator();
        _this.source = source;
        _this.source.dataChanged.on(_this.onDataSourceChanged);
        _this.sourceIterator = source.getIterator();
        return _this;
    }
    ComputedDataSource.prototype.getIterator = function () {
        return this.dataStorage.getIterator();
    };
    ComputedDataSource.prototype.load = function (uid, count) {
        if (!uid || count === 0) {
            return;
        }
        console.log("CDS.load " + uid.t.toISOString() + " / " + count + " ");
        if (this.iterator.goTo(function (item) { return item.uid.compare(uid) === 0; })) {
            if (this.iterator.moveTimes(count) === count) {
                // data already loaded
                return;
            }
        }
        var params = new TaskParams(uid, undefined, count);
        this.task = new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, this.computeDelegate, this.task);
        this.task.start();
    };
    ComputedDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        if (!uidFirst || !uidLast || uidFirst.compare(uidLast) === 0) {
            return;
        }
        console.log("CDS.load " + uidFirst.t.toISOString() + " / " + uidLast.t.toISOString() + " ");
        // sort arguments
        if (uidFirst.compare(uidLast) > 0) {
            var temp = uidFirst;
            uidFirst = uidLast;
            uidLast = temp;
        }
        // TODO: There can be no exact Uid. Use gt/lt comparing
        if (this.iterator.goTo(function (item) { return item.uid.compare(uidFirst) === 0; })) {
            if (this.iterator.moveTo(function (item) { return item.uid.compare(uidLast) >= 0; })) {
                // data already loaded
                return;
            }
        }
        // const params = new TaskParams(uidFirst, uidLast);
        // this.task = new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, 
        //                             this.computeDelegate, this.task);
        this.task = this.createTask(uidFirst, uidLast, undefined, this.task);
        this.task.start();
    };
    ComputedDataSource.prototype.createTask = function (uidFirst, uidLast, count, nextTask) {
        var params = new TaskParams(uidFirst, uidLast, count);
        return new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, this.computeDelegate, nextTask);
    };
    ComputedDataSource.prototype.lock = function (uid) { };
    ComputedDataSource.prototype.dispose = function () {
        this.source.dataChanged.off(this.onDataSourceChanged);
    };
    return ComputedDataSource;
}(DataSource_1.DataSource));
exports.ComputedDataSource = ComputedDataSource;
},{"../core/index":53,"../model/index":142,"./ArrayDataStorage":55,"./DataSource":59,"./DataSourceConfig":60}],58:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var DataChangedEvent = (function (_super) {
    __extends(DataChangedEvent, _super);
    function DataChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return DataChangedEvent;
}(index_1.Event));
exports.DataChangedEvent = DataChangedEvent;
var DataChangedArgument = (function () {
    function DataChangedArgument(uidFirst, // uid of first element that changed
        uidLast, // uid of last element that changed
        count // count of elements that changed
    ) {
        this.uidFirst = uidFirst;
        this.uidLast = uidLast;
        this.count = count; // count of elements that changed
        if (count < 0) {
            throw new Error('DataChangedArgument property "count" must be positive.');
        }
    }
    return DataChangedArgument;
}());
exports.DataChangedArgument = DataChangedArgument;
// export class DataChangedArgument {
//     private readonly _range: IRange<Date>;
//     private readonly _interval: TimeInterval;
//     private readonly _lastDateBefore?: Date;
//     private readonly _lastDateAfter?: Date;
//     constructor(range: IRange<Date>, interval: TimeInterval, lastDateBefore?: Date, lastDateAfter?: Date) {
//         this._range = range;
//         this._interval = interval;
//         this._lastDateBefore = lastDateBefore;
//         this._lastDateAfter = lastDateAfter;
//     }
//     /**
//      * Range of updated data
//      */
//     public get range() {
//         return this._range;
//     }
//     public get interval() {
//         return this._interval;
//     }
//     /** 
//      * Date of the last item before data is changed 
//      */
//     public get lastDateBefore() {
//         return this._lastDateBefore;
//     }
//     /** 
//      * Date of the last item after data is changed 
//      */
//     public get lastDateAfter() {
//         return this._lastDateAfter;
//     }
// }
},{"../shared/index":166}],59:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../shared/index");
var DataChangedEvent_1 = require("./DataChangedEvent");
var DataSource = (function () {
    function DataSource(dataType, config) {
        this.dateChangedEvent = new DataChangedEvent_1.DataChangedEvent();
        this._asset = '';
        this._name = '';
        this.defaultMinValue = 0;
        this.defaultMaxValue = 100;
        this.extensions = {};
        this._dataType = dataType;
        this._config = config;
    }
    Object.defineProperty(DataSource.prototype, "config", {
        // TODO: Derived classes have their own settings.
        get: function () {
            return this._config;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "dataChanged", {
        get: function () {
            return this.dateChangedEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "dataType", {
        get: function () {
            return this._dataType;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "asset", {
        get: function () {
            return this._asset;
        },
        set: function (value) {
            this._asset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (value) {
            this._name = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "precision", {
        get: function () {
            return this._config.precision;
        },
        set: function (value) {
            this.config.precision = value;
        },
        enumerable: true,
        configurable: true
    });
    DataSource.prototype.getValuesRange = function (range) {
        this.validateRange(range);
        if (this.dataStorage.isEmpty) {
            return { start: this.defaultMinValue, end: this.defaultMaxValue };
        }
        var minValue = Number.MAX_VALUE;
        var maxValue = Number.MIN_VALUE;
        var iterator = this.dataStorage.getIterator();
        if (iterator.goTo(function (item) { return item.uid.compare(range.start) >= 0; })) {
            do {
                var h = iterator.current.h;
                var l = iterator.current.l;
                if (l !== undefined && l < minValue) {
                    minValue = l;
                }
                if (h !== undefined && h > maxValue) {
                    maxValue = h;
                }
            } while (iterator.moveNext() && iterator.current.uid.compare(range.end) <= 0);
        }
        return { start: minValue, end: maxValue };
    };
    DataSource.prototype.getHHLL = function (uidFrom, uidTo) {
        var start = uidFrom.compare(uidTo) <= 0 ? uidFrom : uidTo;
        var end = uidFrom.compare(uidTo) <= 0 ? uidTo : uidFrom;
        var o = undefined;
        var c = undefined;
        var ll = undefined;
        var hh = undefined;
        var uid = undefined;
        var iterator = this.dataStorage.getIterator();
        if (iterator.goTo(function (item) { return item.uid.compare(start) >= 0; })) {
            o = iterator.current.o;
            do {
                var h = iterator.current.h;
                var l = iterator.current.l;
                ll = ll === undefined ? l : Math.min(ll, l !== undefined ? l : +Infinity);
                hh = hh === undefined ? h : Math.max(hh, h !== undefined ? h : -Infinity);
                c = iterator.current.c;
                uid = iterator.current.uid;
            } while (iterator.moveNext() && iterator.current.uid.compare(end) <= 0);
        }
        return uid !== undefined ? new index_2.Candlestick(uid.t, c, o, hh, ll) : undefined;
    };
    DataSource.prototype.getLastCandle = function () {
        return this.dataStorage.last;
    };
    DataSource.prototype.addExtension = function (name, ext) {
        this.extensions[name] = ext;
        // recompute only new extension over whole extension
        this.computeExtensions(undefined, name);
    };
    DataSource.prototype.removeExtension = function (name) {
        // replace
        this.extensions[name] = undefined;
    };
    /**
     * Computes extension values over specified range.
     * @param arg Specified range. If not specified, recompute all data.
     * @param extUid If undefined, calculates for all extensions.
     */
    DataSource.prototype.computeExtensions = function (arg, extName) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        // 1. Determine required amount of previous values. Select max of all extensions. 
        //    Check if there any extension.
        //
        var requiredLength = -1;
        var extCount = 0;
        for (var _i = 0, _a = Object.keys(this.extensions); _i < _a.length; _i++) {
            var uid = _a[_i];
            var ext = this.extensions[uid];
            if (ext && extName && uid === extName) {
                requiredLength = ext.amountRequires;
                extCount = 1;
            }
            else if (ext && !extName) {
                requiredLength = Math.max(requiredLength, ext.amountRequires);
                extCount += 1;
            }
        }
        if (requiredLength === -1 || extCount === 0) {
            return arg;
        }
        // 2. Load previous values (if range is constrained). Init fixed size array
        //
        var line = new index_3.FixedSizeArray(requiredLength, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var iterator = this.dataStorage.getIterator();
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            // Fill fixed sized array
            var array = [];
            var counter = 0;
            while (counter < requiredLength && iterator.movePrev()) {
                array[counter] = iterator.current;
                counter += 1;
            }
            // Put in back order
            for (var i = array.length - 1; i >= 0; i -= 1) {
                line.push(array[i]);
            }
            // Return to first element
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            // go to first element
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
            // Fixed size array can not be filled
        }
        // 3. Compute (if range is constrained - till the end of array)
        //
        do {
            // Add current element
            line.push(iterator.current);
            for (var _b = 0, _c = Object.keys(this.extensions); _b < _c.length; _b++) {
                var uid = _c[_b];
                var ext = this.extensions[uid];
                if (ext && extName && uid === extName) {
                    ext.extend(line);
                }
                else if (ext && !extName) {
                    ext.extend(line);
                }
            }
        } while (iterator.moveNext());
        // 4. Return __original__ range.
        return arg;
    };
    DataSource.prototype.setTimeRange = function (range) {
        this.timeRange = range;
    };
    DataSource.prototype.getSettings = function () {
        return new index_1.SettingSet('datasource');
    };
    DataSource.prototype.setSettings = function (settings) {
        return;
    };
    DataSource.prototype.validateDateRange = function (range) {
        if (!range) {
            throw new Error('Argument "range" is not defined.');
        }
        if (!range.start || !range.end) {
            throw new Error('Range is not defined.');
        }
        if (range.start > range.end) {
            throw new Error('Start of specified range should not be less then end.');
        }
    };
    DataSource.prototype.validateRange = function (range) {
        if (!range) {
            throw new Error('Argument "range" is not defined.');
        }
        if (!range.start || !range.end) {
            throw new Error('Range is not defined.');
        }
        if (range.start.t > range.end.t) {
            throw new Error('Start of specified range should not be less then end.');
        }
        else if (range.start.t.getTime() === range.end.t.getTime() && range.start.n > range.end.n) {
            throw new Error('Start of specified range should not be less then end.');
        }
    };
    DataSource.prototype.validateInterval = function (interval) {
        if (!interval) {
            throw new Error('Argument "interval" is not defined.');
        }
    };
    return DataSource;
}());
exports.DataSource = DataSource;
},{"../core/index":53,"../model/index":142,"../shared/index":166,"./DataChangedEvent":58}],60:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DataSourceConfig = (function () {
    function DataSourceConfig(precision) {
        this.precision = precision;
    }
    return DataSourceConfig;
}());
exports.DataSourceConfig = DataSourceConfig;
},{}],61:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * DataSourceFactory class.
 */
var index_1 = require("../core/index");
var LineBreakDataSource_1 = require("./LineBreakDataSource");
var RangeBarDataSource_1 = require("./RangeBarDataSource");
var RenkoDataSource_1 = require("./RenkoDataSource");
var HeikinAshiDataSource_1 = require("./HeikinAshiDataSource");
var DataSourceFactory = (function () {
    function DataSourceFactory() {
    }
    DataSourceFactory.CREATE = function (chartType, source, timeRange, context) {
        switch (chartType) {
            case index_1.ChartType.candle:
                return source;
            case index_1.ChartType.heikinashi:
                return new HeikinAshiDataSource_1.HeikinAshiDataSource(source, context);
            case index_1.ChartType.hollow:
                return source;
            case index_1.ChartType.line:
                return source;
            case index_1.ChartType.mountain:
                return source;
            case index_1.ChartType.ohlc:
                return source;
            case index_1.ChartType.rangebar:
                return new RangeBarDataSource_1.RangeBarDataSource(source, timeRange);
            case index_1.ChartType.renko:
                return new RenkoDataSource_1.RenkoDataSource(source, timeRange);
            case index_1.ChartType.linebreak:
                return new LineBreakDataSource_1.LineBreakDataSource(source, timeRange);
            default:
                throw new Error("Unexpected chart type=" + chartType);
        }
    };
    return DataSourceFactory;
}());
exports.DataSourceFactory = DataSourceFactory;
},{"../core/index":53,"./HeikinAshiDataSource":64,"./LineBreakDataSource":68,"./RangeBarDataSource":69,"./RenkoDataSource":70}],62:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var DataSourceRegister = (function () {
    //private static instance: DataSourceLocator;
    // public static get Instance() {
    //     return this.instance || (this.instance = new this());
    // }
    function DataSourceRegister() {
        this.sources = {};
    }
    DataSourceRegister.prototype.register = function (uid, ds) {
        this.sources[uid] = ds;
    };
    DataSourceRegister.prototype.list = function () {
        var ar = [];
        for (var _i = 0, _a = Object.keys(this.sources); _i < _a.length; _i++) {
            var id = _a[_i];
            var ds = this.sources[id];
            ar.push(new index_1.IdValue(id, ds.asset));
        }
        return ar;
    };
    DataSourceRegister.prototype.getItem = function (uid) {
        var ds = this.sources[uid];
        if (ds) {
            return ds;
        }
        else {
            throw new Error("Can not find data source with id='" + uid + "'.");
        }
    };
    return DataSourceRegister;
}());
exports.DataSourceRegister = DataSourceRegister;
},{"../shared/index":166}],63:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DataType = (function () {
    function DataType() {
    }
    return DataType;
}());
DataType.point = 'point';
DataType.candle = 'candle';
exports.DataType = DataType;
},{}],64:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../data/index");
var index_2 = require("../model/index");
var IndicatorDataSource_1 = require("./IndicatorDataSource");
var HeikinAshiDataSource = (function (_super) {
    __extends(HeikinAshiDataSource, _super);
    function HeikinAshiDataSource(source, context) {
        return _super.call(this, index_2.Candlestick, source, context) || this;
    }
    HeikinAshiDataSource.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        // Get source data without loading
        var iterator = this.source.getIterator();
        var move;
        move = arg ? iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; }) : iterator.moveNext();
        if (!move) {
            return; // Finish if no data
        }
        // Calculations
        // 
        var computedArray = [];
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var computed = this.computeCandle(iterator.current, iterator.previous);
            computedArray.push(computed);
        } while (iterator.moveNext());
        // Merge
        this.dataStorage.merge(computedArray);
        // Merge new data and notify subscribers
        return new index_1.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    HeikinAshiDataSource.prototype.computeCandle = function (current, previous) {
        var computed = new index_2.Candlestick(current.date);
        computed.uid.t = current.uid.t;
        computed.uid.n = current.uid.n;
        if (current.c !== undefined && current.o !== undefined && current.h !== undefined && current.l !== undefined
            && previous && previous.c !== undefined && previous.o !== undefined) {
            // HA-Close = (Open(0) + High(0) + Low(0) + Close(0)) / 4
            var hac = (current.o + current.h + current.l + current.c) / 4;
            computed.c = hac;
            // HA-Open = (HA-Open(-1) + HA-Close(-1)) / 2
            var hao = (previous.o + previous.c) / 2;
            computed.o = hao;
            // HA-High = Maximum of the High(0), HA-Open(0) or HA-Close(0) 
            computed.h = Math.max(current.h, hao, hac);
            // HA-Low = Minimum of the Low(0), HA-Open(0) or HA-Close(0)
            computed.l = Math.max(current.l, hao, hac);
        }
        else if (current.c !== undefined && current.o !== undefined && current.h !== undefined && current.l !== undefined) {
            computed.c = (current.o + current.h + current.l + current.c) / 4;
            computed.o = (current.o + current.c) / 2;
            computed.h = current.h;
            computed.l = current.l;
        }
        return computed;
    };
    HeikinAshiDataSource.prototype.load = function (uid, count) {
        this.source.load(uid, count);
    };
    HeikinAshiDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        this.source.loadRange(uidFirst, uidLast);
    };
    HeikinAshiDataSource.prototype.lock = function (uid) {
        this.source.lock(uid);
    };
    return HeikinAshiDataSource;
}(IndicatorDataSource_1.IndicatorDataSource));
exports.HeikinAshiDataSource = HeikinAshiDataSource;
},{"../data/index":71,"../model/index":142,"./IndicatorDataSource":67}],65:[function(require,module,exports){
(function (global){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * HttpDataSource class.
 *
 * @classdesc Data source with dynamic data loading.
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataChangedEvent_1 = require("./DataChangedEvent");
var DataSource_1 = require("./DataSource");
var $ = (typeof window !== "undefined" ? window['$'] : typeof global !== "undefined" ? global['$'] : null);
var HttpDataSource = (function (_super) {
    __extends(HttpDataSource, _super);
    function HttpDataSource(dataType, config) {
        var _this = _super.call(this, dataType, config) || this;
        //private readonly defaultMinDate = new Date(2000, 0, 1);
        //private readonly defaultMaxItemsRequested = 100;
        _this.autoUpdatePeriodSec = 10;
        //protected borderTime: Date|undefined;
        _this.comparer = function (item1, item2) { return item1.uid.compare(item2.uid); };
        _this.isDisposed = false;
        _this.autoUpdate = function () {
            console.debug("auto update, interval=" + index_1.TimeInterval[_this.config.timeInterval]);
            // Define now and time of last candle
            var now = new Date();
            var lastT = new Date();
            lastT.setDate(lastT.getDate() - 1); // default value is now minus 1 day
            var lastItem = _this.dataStorage.last;
            if (lastItem) {
                // Last candle should be also updated
                lastT = index_2.DateUtils.substractInterval(lastItem.uid.t, _this.config.timeInterval);
            }
            // make request
            _this.makeRequest({ start: lastT, end: now }, _this.config.timeInterval);
            // schedule next autoupdate
            _this.scheduleAutoupdate();
        };
        _this.onResolved = function (response) {
            if (_this.isDisposed) {
                console.debug('Ignoring response to the disposed data source.');
                return;
            }
            if (response && response.data && response.data.length > 0) {
                var timeInterval = response.interval; //this.stringToTimeInterval(response.interval);
                if (timeInterval !== _this.config.timeInterval) {
                    // if timeinterval changed ignore response
                    console.debug("Ignoring request with wrong time interval " + timeInterval);
                    return;
                }
                // Update data
                //
                var lastBefore = _this.dataStorage.last !== undefined ? _this.dataStorage.last.uid : undefined;
                _this.merge(response.data);
                var lastAfter = _this.dataStorage.last !== undefined ? _this.dataStorage.last.uid : undefined;
                // TODO: Remove conversion
                var uidFirst = response.data[0].uid; // first (new Date(response.startDateTime));
                var uidLast = response.data[response.data.length - 1].uid; // last
                var count = response.data.length;
                var arg = new DataChangedEvent_1.DataChangedArgument(uidFirst, uidLast, count);
                arg.lastUidBefore = lastBefore;
                arg.lastUidAfter = lastAfter;
                // Update borderTime. It can only increase.
                //this.borderTime = (this.borderTime === undefined || this.borderTime < uidLast.t) ? uidLast.t : this.borderTime;
                _this.computeExtensions(arg);
                console.debug("HTTP: triggering event " + uidFirst.t.toISOString() + "-" + uidLast.t.toISOString());
                // Notify subscribers:
                _this.dateChangedEvent.trigger(arg);
            }
        };
        if (!config || (!config.url && !config.readData)) {
            throw new Error('Url and readData are not initialized.');
        }
        if (config.timeInterval === undefined) {
            throw new Error('Time interval is not set.');
        }
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer);
        _this.config.readData = config.readData || _this.makeDefaultReader();
        _this.config.resolveData = config.resolveData || _this.makeDefaultResolver();
        _this.config.autoupdate = (config.autoupdate !== undefined) ? config.autoupdate : false;
        _this.requestManager = new HttpRequestManager(_this.config.readData, _this.config.resolveData);
        if (_this.config.autoupdate) {
            // start autoupdate
            _this.scheduleAutoupdate();
        }
        return _this;
    }
    Object.defineProperty(HttpDataSource.prototype, "config", {
        get: function () {
            return this._config;
        },
        enumerable: true,
        configurable: true
    });
    HttpDataSource.prototype.scheduleAutoupdate = function () {
        this.timer = setTimeout(this.autoUpdate, this.autoUpdatePeriodSec * 1000);
        console.debug("scheduled autoupdate, timer=" + this.timer);
    };
    HttpDataSource.prototype.getIterator = function (filter) {
        // return everything
        return this.dataStorage.getIterator(filter);
    };
    HttpDataSource.prototype.lock = function (uid) {
        // TODO: When unloading data from memory do not unload specified range.
    };
    HttpDataSource.prototype.load = function (uid, count) {
        // HttpDataSource ignores uid.n
        var dateStart = uid.t;
        var dateEnd = index_2.DateUtils.addInterval(dateStart, this.config.timeInterval, count);
        var range = (count > 0) ? { start: dateStart, end: dateEnd } : { start: dateEnd, end: dateStart };
        return this.getDataInRange(range, this.config.timeInterval);
    };
    // Both UID are inclusive.
    HttpDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        var dateFirst = uidFirst.t;
        var dateLast = uidLast.t;
        var range = (dateLast > dateFirst) ? { start: dateFirst, end: dateLast } : { start: dateLast, end: dateFirst };
        return this.getDataInRange(range, this.config.timeInterval);
    };
    HttpDataSource.prototype.getDataInRange = function (range, interval) {
        this.validateDateRange(range);
        this.validateInterval(interval);
        this.makeRequest(range, interval);
    };
    HttpDataSource.prototype.setTimeInterval = function (interval) {
        // set interval and clear storage
        //
        this.config.timeInterval = interval;
        this.dataStorage.clear();
        this.requestManager.clear();
    };
    HttpDataSource.prototype.makeRequest = function (range, interval) {
        if (this.isDisposed) {
            console.debug('Ignoring request from the disposed data source.');
            return;
        }
        // Make request
        var promises = this.requestManager.makeRequest(range, this.config.timeInterval);
        var self = this;
        for (var _i = 0, promises_1 = promises; _i < promises_1.length; _i++) {
            var promise = promises_1[_i];
            promise
                .then(this.onResolved);
        }
    };
    HttpDataSource.prototype.makeDefaultReader = function () {
        var url = this.config.url;
        var timeIntervalToString = this.timeIntervalToString;
        return function (timeStart, timeEnd, interval) {
            var settings = {
                method: 'GET',
                dataType: 'jsonp',
                url: url,
                data: {
                    interval: timeIntervalToString(interval),
                    startDateTime: timeStart.toISOString(),
                    endDateTime: timeEnd.toISOString()
                }
            };
            return $.ajax(settings);
        };
    };
    HttpDataSource.prototype.makeDefaultResolver = function () {
        var _this = this;
        return function (response) {
            // Map incoming data to model
            //
            var objects = response.data
                .filter(function (el) { return el && el.date; })
                .map(function (el) {
                var date = new Date(el.date);
                var obj = new _this.dataType(date);
                obj.deserialize(el);
                //obj.uid = this.dateToUid(el.date);
                return obj;
            });
            return {
                data: objects,
                interval: response.interval,
                dateFrom: new Date(response.startDateTime),
                dateTo: new Date(response.endDateTime)
            };
        };
    };
    HttpDataSource.prototype.merge = function (data) {
        this.dataStorage.merge(data);
    };
    HttpDataSource.prototype.timeIntervalToString = function (interval) {
        return index_1.TimeInterval[interval];
    };
    HttpDataSource.prototype.stringToTimeInterval = function (interval) {
        return index_1.TimeInterval[interval];
    };
    HttpDataSource.prototype.dispose = function () {
        if (this.timer) {
            console.debug("dispose, timer=" + this.timer);
            clearTimeout(this.timer);
        }
        this.isDisposed = true;
    };
    return HttpDataSource;
}(DataSource_1.DataSource));
exports.HttpDataSource = HttpDataSource;
/**
 *
 */
var HttpRequestManager = (function () {
    function HttpRequestManager(reader, resolver) {
        var _this = this;
        this.total = new CompositeRange();
        this.queue = [];
        this.isRunningRequest = false;
        this.throttle = 100; // milliseconds
        this.sendRequest = function () {
            // Send first request in queue and schedule next one
            var promise = _this.queue.shift();
            if (promise) {
                _this.isRunningRequest = true;
                // start request
                if (promise.resolve) {
                    promise.resolve();
                }
                else {
                    throw new Error('Resolve function is not initialized.');
                }
                // schedule next request
                setTimeout(_this.sendRequest, _this.throttle);
            }
            else {
                _this.isRunningRequest = false;
            }
        };
        this.onSucceeded = function (response) {
            // If no errors append range
            _this.total.append({ start: response.dateFrom, end: response.dateTo });
        };
        this.onFailed = function (jqXhr, textStatus, errorThrown) {
            console.error("Request failed: " + textStatus + " " + errorThrown);
        };
        this.reader = reader;
        this.resolver = resolver;
    }
    HttpRequestManager.prototype.clear = function () {
        this.total.clear();
    };
    HttpRequestManager.prototype.makeRequest = function (range, interval, force) {
        var _this = this;
        if (force === void 0) { force = false; }
        var ranges = [range];
        if (!force) {
            // Check loaded range
            ranges = this.total.diff(range);
            if (ranges.length === 0) {
                return [];
            }
        }
        // 2. Check the queue; filter out intersections with pending requests.
        var filteredRanges = [];
        for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {
            var requestedRange = ranges_1[_i];
            var reqStartTime = requestedRange.start.getTime();
            var reqEndTime = requestedRange.end.getTime();
            // If there are pending requests, compare new request to them and exclude overlapping ranges.
            for (var _a = 0, _b = this.queue; _a < _b.length; _a++) {
                var req = _b[_a];
                var pendingStart = req.range.start.getTime();
                var pendingEnd = req.range.end.getTime();
                if (reqStartTime >= pendingStart && reqEndTime <= pendingEnd) {
                    // Pending requests includes new request. Just ignore new request.
                    return [];
                }
                else if (reqStartTime < pendingStart && reqEndTime > pendingStart && reqEndTime <= pendingEnd) {
                    reqEndTime = pendingStart; // exclude overlapping end
                }
                else if (reqEndTime > pendingEnd && reqStartTime >= pendingStart && reqStartTime < pendingEnd) {
                    reqStartTime = pendingEnd; // exclude overlapping start
                }
            }
            filteredRanges.push({ start: new Date(reqStartTime), end: new Date(reqEndTime) });
        }
        if (filteredRanges.length === 0) {
            return [];
        }
        // 3. Push requested ranges to queue
        var promises = [];
        var self = this;
        var _loop_1 = function (req) {
            var queuedPromise = new Promise(function (resolved, rejected) {
                _this.queue.push({ resolve: resolved, range: req });
            });
            var promise = new Promise(function (resolved, rejected) {
                // Add new request to collection of pending requests
                queuedPromise.then(function () {
                    var request = _this.reader(req.start, req.end, interval);
                    request
                        .then(_this.resolver)
                        .then(function (resp) { self.onSucceeded(resp); resolved(resp); })
                        .fail(function (jqXhr, textStatus, errorThrown) { self.onFailed(jqXhr, textStatus, errorThrown); rejected(errorThrown); });
                });
            });
            promises.push(promise);
        };
        for (var _c = 0, filteredRanges_1 = filteredRanges; _c < filteredRanges_1.length; _c++) {
            var req = filteredRanges_1[_c];
            _loop_1(req);
        }
        // 4. Kick off requests if they are not kicked off yet
        if (!this.isRunningRequest) {
            this.sendRequest();
        }
        return promises;
    };
    return HttpRequestManager;
}());
exports.HttpRequestManager = HttpRequestManager;
var Node = (function () {
    function Node(data, start, prev, next) {
        this.data = data;
        this.start = start;
        this.prev = prev;
        this.next = next;
    }
    return Node;
}());
var CompositeRange = (function () {
    function CompositeRange() {
        this.start = new Node(new Date(1900, 0), false);
    }
    /**
     * Appends specified range.
     * @param range
     */
    CompositeRange.prototype.append = function (range) {
        var S = range.start.getTime();
        var E = range.end.getTime();
        var prev = undefined;
        var cur = this.start;
        // 1. Insert range.start
        //
        var handledS = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (cur.start) {
                var Rs = cur.data.getTime();
                if (S < Rs) {
                    // Insert S, move to next point, go to insert E
                    var node = new Node(new Date(S), true, prev, cur);
                    prev.next = node;
                    cur.prev = node;
                    cur = node;
                    // prev = node;    // go to next
                    // cur = node.next;
                    handledS = true;
                    break;
                }
                else if (S === Rs) {
                    // Do not insert S, move to next point go to insert E
                    // prev = cur;    // go to next
                    // cur = cur.next;
                    handledS = true;
                    break;
                }
                else {
                    continue;
                }
            }
            else {
                var Re = cur.data.getTime();
                if (S < Re) {
                    // Do not insert anything, go to insert E
                    cur = prev; // step back
                    // prev = cur;    // go to next
                    // cur = cur.next;
                    handledS = true;
                    break;
                }
                else if (S === Re) {
                    // Remove Re, go to insert E, stay on current point
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                    handledS = true;
                    break;
                }
                else {
                    continue;
                }
            }
        }
        // 2. Insert range.end
        //
        var handledE = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (cur.start) {
                var Rs = cur.data.getTime();
                if (E < Rs) {
                    // Insert E, finish
                    var node = new Node(new Date(E), false, prev, cur);
                    prev.next = node;
                    cur.prev = node;
                    handledE = true;
                    break;
                }
                else if (E === Rs) {
                    // Remove Rs and finish
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    handledE = true;
                    break;
                }
                else {
                    // Remove Rs and continue
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                }
            }
            else {
                var Re = cur.data.getTime();
                if (E <= Re) {
                    // Do nothing, finish
                    handledE = true;
                    break;
                }
                else {
                    // Remove Re and continue
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                    // if (cur.next === undefined) {
                    //     insert E;
                    // }
                    // handledE = false;
                }
            }
        }
        // Case 1: If no ranges yet  => insert S and E
        // Case 2: S > all     => insert S and E
        // Case 3: E > last    => insert E
        if (!handledS) {
            // insert S
            var node = new Node(new Date(S), true, cur, cur.next);
            cur.next = node;
            if (cur.next) {
                cur.next.prev = node;
            }
            cur = node;
        }
        if (!handledE) {
            // insert E
            var node = new Node(new Date(E), false, cur, cur.next);
            cur.next = node;
            if (cur.next) {
                cur.next.prev = node;
            }
        }
    };
    CompositeRange.prototype.clear = function () {
        this.start.next = undefined;
    };
    /**
     * Checks if the specified range intersects composite range.
     * Returns difference.
     * @param range
     */
    CompositeRange.prototype.diff = function (range) {
        var ranges = [];
        var curRange;
        var mode = true; // start, end
        var S = range.start.getTime();
        var E = range.end.getTime();
        var prev = this.start;
        var cur = this.start;
        var finished = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (mode === true) {
                if (cur.start) {
                    var Rs = cur.data.getTime();
                    if (S < Rs) {
                        // Create new range, go to end mode
                        curRange = new Range(new Date(S), new Date(S));
                        mode = false; // end mode
                        cur = prev; // go back one step
                        continue;
                    }
                    else if (S > Rs) {
                        continue;
                    }
                    else {
                        if (cur.next) {
                            var Re = cur.next.data.getTime();
                            if (E <= Re) {
                                // Return what's there
                                finished = true;
                                break;
                            }
                            else {
                                // S = next Re, continue
                                S = Re;
                                continue;
                            }
                        }
                        else {
                            throw new Error('End time is not found');
                        }
                    }
                }
                else {
                    var Re = cur.data.getTime();
                    if (S < Re) {
                        S = Re;
                        if (E < S) {
                            finished = true;
                        }
                        curRange = new Range(new Date(S), new Date(S));
                        mode = false;
                        continue;
                    }
                    else if (S >= Re) {
                        // Skip
                        continue;
                    }
                }
            }
            else {
                if (cur.start) {
                    var Rs = cur.data.getTime();
                    if (E <= Rs) {
                        if (curRange) {
                            curRange.end = new Date(E);
                            ranges.push(curRange);
                        }
                        else {
                            throw new Error('Range is not created');
                        }
                        finished = true;
                        break;
                    }
                    else {
                        if (curRange) {
                            curRange.end = new Date(Rs);
                            ranges.push(curRange);
                        }
                        else {
                            throw new Error('Range is not created');
                        }
                        S = Rs;
                        mode = true; // start mode
                        cur = prev; // go back one step
                        continue;
                    }
                }
                else {
                    var Re = cur.data.getTime();
                    throw new Error('Unexpected condition.');
                }
            }
        }
        if (!finished) {
            ranges.push({ start: new Date(S), end: new Date(E) });
        }
        return ranges;
    };
    return CompositeRange;
}());
exports.CompositeRange = CompositeRange;
var Range = (function () {
    function Range(start, end) {
        this.start = start;
        this.end = end;
    }
    return Range;
}());
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/index":53,"../utils/index":175,"./ArrayDataStorage":55,"./DataChangedEvent":58,"./DataSource":59}],66:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var DataSourceConfig_1 = require("./DataSourceConfig");
var HttpDataSourceConfig = (function (_super) {
    __extends(HttpDataSourceConfig, _super);
    function HttpDataSourceConfig(url, timeInterval, readData, resolveData, precision, autoupdate) {
        if (autoupdate === void 0) { autoupdate = false; }
        var _this = _super.call(this, precision) || this;
        _this.url = url;
        _this.timeInterval = timeInterval;
        _this.readData = readData;
        _this.resolveData = resolveData;
        _this.precision = precision;
        _this.autoupdate = autoupdate;
        return _this;
    }
    return HttpDataSourceConfig;
}(DataSourceConfig_1.DataSourceConfig));
exports.HttpDataSourceConfig = HttpDataSourceConfig;
},{"./DataSourceConfig":60}],67:[function(require,module,exports){
/**
 * IndicatorDataSource class.
 */
// import {
//     //ArrayDataStorage,
//     ArrayIterator,
//     DataChangedArgument,
//     DataSource,
//     DataSourceConfig,
//     IContext,
//     IDataIterator,
//     IDataSource } from '../data/index';
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var DataSourceConfig_1 = require("./DataSourceConfig");
/**
 * 1-to-1 mapping with source.
 * uid the same as in source.
 */
var IndicatorDataSource = (function (_super) {
    __extends(IndicatorDataSource, _super);
    function IndicatorDataSource(dataType, source, context, comparer) {
        var _this = _super.call(this, dataType, new DataSourceConfig_1.DataSourceConfig(source.precision)) || this;
        _this.isInitialized = false;
        _this.defaultComparer = function (lhs, rhs) { return lhs.uid.compare(rhs.uid); };
        _this.triggerDataChanged = function (arg) {
            _this.dateChangedEvent.trigger(arg);
        };
        _this.onDataSourceChanged = function (arg) {
            var generatedArg = _this.compute(arg);
            if (generatedArg) {
                _this.triggerDataChanged(generatedArg);
            }
        };
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(comparer || _this.defaultComparer);
        _this.source = source;
        _this.source.dataChanged.on(_this.onDataSourceChanged);
        _this.addInterval = context.addInterval; // should be initialized before computing
        _this.context = context;
        return _this;
    }
    IndicatorDataSource.prototype.getIterator = function (filter) {
        if (!this.isInitialized) {
            this.compute();
            this.isInitialized = true;
        }
        return this.dataStorage.getIterator(filter);
    };
    IndicatorDataSource.prototype.dispose = function () {
        this.source.dataChanged.off(this.onDataSourceChanged);
    };
    IndicatorDataSource.prototype.load = function (uid, count) { };
    IndicatorDataSource.prototype.loadRange = function (uidFirst, uidLast) { };
    IndicatorDataSource.prototype.lock = function (uid) { };
    /**
     * Returns last values from source
     */
    IndicatorDataSource.getPreviousValues = function (iterator, N, arg, accessor) {
        if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
            throw new Error('Source does not contain updated data');
        }
        var array = [];
        iterator.somebackward(function (item, counter) {
            if (counter > N) {
                return false;
            }
            if (counter > 0) {
                var val = accessor(item);
                if (val !== undefined) {
                    array.push(val);
                }
                return true;
            }
            return true; // Skip current item
        });
        array.reverse();
        return array;
    };
    IndicatorDataSource.getPreviousItems = function (iterator, N) {
        var array = [];
        iterator.somebackward(function (item, counter) {
            if (counter > N) {
                return false;
            }
            if (counter > 0) {
                array.push(item);
                return true;
            }
            return true; // Skip current item
        });
        array.reverse();
        return array;
    };
    return IndicatorDataSource;
}(DataSource_1.DataSource));
exports.IndicatorDataSource = IndicatorDataSource;
},{"./ArrayDataStorage":55,"./DataSource":59,"./DataSourceConfig":60}],68:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var LineBreakDataSource = (function (_super) {
    __extends(LineBreakDataSource, _super);
    function LineBreakDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new LineBreakSettings();
        _this.timeRange = timeRange;
        // Compute initial data set
        _this.compute();
        return _this;
    }
    LineBreakDataSource.prototype.compute = function (arg) {
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find 2 or 3 last computed item.
            var iter = this.dataStorage.getIterator();
            if (iter.goToLast()) {
                computedData.push(iter.current);
                if (iter.movePrev()) {
                    computedData.push(iter.current);
                }
                if (this.settings.breakType === BreakType.LineBreak3 && iter.movePrev()) {
                    computedData.push(iter.current);
                }
                // invert array
                computedData.reverse();
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    LineBreakDataSource.prototype.computeOne = function (computedArray, source) {
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var computed;
        if (last === undefined) {
            // Generate first item, just copying first candlestick
            computed = new index_2.Candlestick(source.date, source.c, source.o, source.h, source.l);
            computedArray.push(computed);
        }
        else {
            if (!last.c || !last.o) {
                throw new Error('Value of computed candle is undefined.');
            }
            var lastSign = last.c - last.o; // -1 down / +1 up / 0 can go both way
            var reverseValues = this.computeReverseValue(computedArray, this.settings.breakType === BreakType.LineBreak2 ? 2 : 3);
            if ((lastSign >= 0 && (source.c > last.c || source.c < reverseValues.start))
                || (lastSign <= 0 && (source.c < last.c || source.c > reverseValues.end))) {
                computed = new index_2.Candlestick(source.date, source.c, last.c, Math.max(last.c, source.c), Math.min(last.c, source.c));
                computedArray.push(computed);
            }
        }
    };
    LineBreakDataSource.prototype.computeReverseValue = function (lines, count) {
        if (lines.length === 0) {
            throw new Error('Array is empty.');
        }
        var min = Number.MAX_VALUE;
        var max = Number.MIN_VALUE;
        for (var i = lines.length - 1; i >= lines.length - count && i >= 0; i -= 1) {
            var c = lines[i].c;
            var o = lines[i].o;
            if (c > max) {
                max = c;
            }
            if (o > max) {
                max = o;
            }
            if (c < min) {
                min = c;
            }
            if (o < min) {
                min = o;
            }
        }
        return { start: min, end: max };
    };
    LineBreakDataSource.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('breakType', new index_1.SettingSet({
            name: 'breakType',
            displayName: 'Box',
            value: this.settings.breakType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: BreakType.LineBreak2.toString(), text: '2-Line Break' },
                { value: BreakType.LineBreak3.toString(), text: '3-Line Break' }
            ]
        }));
        return group;
    };
    LineBreakDataSource.prototype.setSettings = function (value) {
        var breakType = value.getSetting('datasource.breakType');
        this.settings.breakType = (breakType && breakType.value) ? parseInt(breakType.value, 10) : this.settings.breakType;
        // recompute
        this.compute();
    };
    return LineBreakDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.LineBreakDataSource = LineBreakDataSource;
var BreakType;
(function (BreakType) {
    BreakType[BreakType["LineBreak2"] = 2] = "LineBreak2";
    BreakType[BreakType["LineBreak3"] = 3] = "LineBreak3";
})(BreakType || (BreakType = {}));
var LineBreakSettings = (function () {
    function LineBreakSettings() {
        this.breakType = BreakType.LineBreak2;
    }
    return LineBreakSettings;
}());
},{"../core/index":53,"../model/index":142,"./ComputedDataSource":57,"./DataChangedEvent":58}],69:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * RangeBarDataSource class
 */
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var RangeBarDataSource = (function (_super) {
    __extends(RangeBarDataSource, _super);
    function RangeBarDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new RangeBarSettings();
        _this.timeRange = timeRange;
        // Renco requires ATR to define optimal box size
        _this.source.addExtension(index_1.AvgTrueRangeExtension.uname, new index_1.AvgTrueRangeExtension());
        // Compute initial data set
        _this.compute();
        return _this;
    }
    RangeBarDataSource.prototype.compute = function (arg) {
        // Get ATR from last item in the time range. This will be box size.
        var range = this.settings.range;
        if (this.settings.mode === Mode.ATR && this.timeRange) {
            var endTime_1 = this.timeRange.end.getTime();
            // Find first element that is greater than time range and move back
            if (this.sourceIterator.goTo(function (item) { return item.uid.t.getTime() > endTime_1; })
                && this.sourceIterator.movePrev()
                && this.sourceIterator.current.ext['atr']) {
                range = this.sourceIterator.current.ext['atr'];
            }
            else if (this.sourceIterator.last
                && this.sourceIterator.last.ext['atr']) {
                range = this.sourceIterator.last.ext['atr'];
            }
        }
        console.log("ATR=" + range);
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find last computed item
            if (this.dataStorage.last) {
                computedData.push(this.dataStorage.last);
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current, range);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    RangeBarDataSource.prototype.computeOne = function (computedArray, source, range) {
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var C = source.c;
        if (last === undefined) {
            // Build a new range
            var computed = new index_3.Candlestick(source.date);
            computed.o = source.c;
            computed.h = source.c;
            computed.l = source.c;
            // Close is undefined as the range is not built yet
            computedArray.push(computed);
        }
        else {
            if (last.h === undefined || last.o === undefined || last.l === undefined) {
                throw new Error('Value of computed candle is undefined.');
            }
            var counter = 0;
            //  while can build a new range
            while (last.h !== undefined && last.l !== undefined && (C < (last.h - range) || C > (last.l + range))) {
                // Close previous
                if (C < last.h - range) {
                    last.l = last.h - range;
                    last.c = last.h - range;
                }
                else if (C > last.l + range) {
                    last.h = last.l + range;
                    last.c = last.l + range;
                }
                // update time of previous
                last.uid.t = source.date;
                last.uid.n = counter;
                counter += 1;
                // Start new range
                var computed = new index_3.Candlestick(source.date);
                //computed.uid.n = counter;
                computed.o = last.c;
                computed.h = last.c;
                computed.l = last.c;
                computedArray.push(computed);
                last = computed;
                //counter += 1;
            }
            // Just update H / L
            last.uid.t = source.date;
            last.uid.n = counter;
            last.h = Math.max(last.h !== undefined ? last.h : -Infinity, C);
            last.l = Math.min(last.l !== undefined ? last.l : Infinity, C);
        }
    };
    RangeBarDataSource.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('mode', new index_2.SettingSet({
            name: 'mode',
            displayName: 'Mode',
            value: this.settings.mode.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: Mode.Fixed.toString(), text: 'Fixed' },
                { value: Mode.ATR.toString(), text: 'ATR' }
            ]
        }));
        group.setSetting('range', new index_2.SettingSet({
            name: 'range',
            displayName: 'Range',
            value: this.settings.range.toString(),
            settingType: index_2.SettingType.numeric,
            visible: this.settings.mode === Mode.Fixed
        }));
        return group;
    };
    RangeBarDataSource.prototype.setSettings = function (value) {
        var mode = value.getSetting('datasource.mode');
        this.settings.mode = (mode && mode.value) ? parseInt(mode.value, 10) : this.settings.mode;
        var range = value.getSetting('datasource.range');
        this.settings.range = (range && range.value) ? parseInt(range.value, 10) : this.settings.range;
        // recompute
        this.compute();
    };
    return RangeBarDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.RangeBarDataSource = RangeBarDataSource;
var Mode;
(function (Mode) {
    Mode[Mode["Fixed"] = 1] = "Fixed";
    Mode[Mode["ATR"] = 2] = "ATR";
})(Mode || (Mode = {}));
var RangeBarSettings = (function () {
    function RangeBarSettings() {
        this.mode = Mode.Fixed;
        this.range = 10;
    }
    return RangeBarSettings;
}());
},{"../compute/index":40,"../core/index":53,"../model/index":142,"./ComputedDataSource":57,"./DataChangedEvent":58}],70:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var RenkoCandle = (function (_super) {
    __extends(RenkoCandle, _super);
    function RenkoCandle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.visible = true;
        return _this;
    }
    return RenkoCandle;
}(index_3.Candlestick));
exports.RenkoCandle = RenkoCandle;
var RenkoDataSource = (function (_super) {
    __extends(RenkoDataSource, _super);
    function RenkoDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new RencoSettings();
        _this.timeRange = timeRange;
        // Renco requires ATR to define optimal box size
        _this.source.addExtension(index_1.AvgTrueRangeExtension.uname, new index_1.AvgTrueRangeExtension());
        // Compute initial data set
        _this.compute();
        return _this;
    }
    RenkoDataSource.prototype.compute = function (arg) {
        // Get ATR from last item in the time range. This will be box size.
        var boxSize = this.settings.boxSize;
        if (this.settings.boxType === BoxType.ATR && this.timeRange) {
            var endTime_1 = this.timeRange.end.getTime();
            // Find first element that is greater than time range and move back
            if (this.sourceIterator.goTo(function (item) { return item.uid.t.getTime() > endTime_1; })
                && this.sourceIterator.movePrev()
                && this.sourceIterator.current.ext['atr']) {
                boxSize = this.sourceIterator.current.ext['atr'];
            }
            else if (this.sourceIterator.last
                && this.sourceIterator.last.ext['atr']) {
                boxSize = this.sourceIterator.last.ext['atr'];
            }
        }
        console.log("ATR=" + boxSize);
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find last computed item
            //const last = this.storage.findLast(c => c.uid < first_suid);
            if (this.dataStorage.last) {
                computedData.push(this.dataStorage.last);
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current, boxSize);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    RenkoDataSource.prototype.computeOne = function (computedArray, source, box) {
        // ! if no close price, then ignore item
        // At least one candle should be generated, even 
        // if (source === undefined) {
        //     throw new Error('"source" argument is undefined.');
        // }
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var computed;
        // Generate first item
        if (last === undefined) {
            computed = new RenkoCandle(source.date, source.c, source.o, source.h, source.l);
            computed.visible = false;
            computedArray.push(computed);
        }
        else {
            if (last.c === undefined || last.h === undefined || last.o === undefined || last.l === undefined) {
                throw new Error('Value of computed candle is undefined.');
            }
            var diff = source.c - last.c;
            var change_dir = false;
            if (last.c < last.o && diff > 0) {
                change_dir = true;
            }
            else if (last.c > last.o && diff < 0) {
                change_dir = true;
            }
            var counter = 0;
            while ((!change_dir && Math.abs(diff) >= box) || (change_dir && Math.abs(diff) >= 2 * box)) {
                var addbox = (change_dir && counter === 0) ? 2 * box : box;
                diff = diff + (diff > 0 ? (-addbox) : addbox);
                if (last.visible === false) {
                    last.uid.t = source.uid.t;
                    last.uid.n = counter;
                    last.c = last.c + (diff > 0 ? addbox : (-addbox));
                    last.o = last.c + (diff > 0 ? (-box) : box); // depends on close
                    last.h = Math.max(last.o, last.c); // depends on open, close
                    last.l = Math.min(last.o, last.c); // depends on open, close
                    last.visible = true;
                }
                else {
                    computed = new RenkoCandle(source.date);
                    computed.uid.t = source.uid.t;
                    computed.uid.n = counter;
                    computed.c = last.c + (diff > 0 ? addbox : (-addbox));
                    computed.o = computed.c + (diff > 0 ? (-box) : box); // depends on close
                    computed.h = Math.max(computed.o, computed.c); // depends on open, close
                    computed.l = Math.min(computed.o, computed.c); // depends on open, close
                    computed.visible = true;
                    computedArray.push(computed);
                    last = computed;
                }
                counter += 1;
            }
        }
    };
    RenkoDataSource.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('boxType', new index_2.SettingSet({
            name: 'boxType',
            displayName: 'Box',
            value: this.settings.boxType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: BoxType.Fixed.toString(), text: 'Fixed' },
                { value: BoxType.ATR.toString(), text: 'ATR' }
            ]
        }));
        group.setSetting('boxSize', new index_2.SettingSet({
            name: 'boxSize',
            displayName: 'Box size',
            value: this.settings.boxSize.toString(),
            settingType: index_2.SettingType.numeric,
            visible: this.settings.boxType === BoxType.Fixed
        }));
        return group;
    };
    RenkoDataSource.prototype.setSettings = function (value) {
        var boxType = value.getSetting('datasource.boxType');
        this.settings.boxType = (boxType && boxType.value) ? parseInt(boxType.value, 10) : this.settings.boxType;
        var boxSize = value.getSetting('datasource.boxSize');
        this.settings.boxSize = (boxSize && boxSize.value) ? parseInt(boxSize.value, 10) : this.settings.boxSize;
        // recompute
        this.compute();
    };
    return RenkoDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.RenkoDataSource = RenkoDataSource;
var BoxType;
(function (BoxType) {
    BoxType[BoxType["Fixed"] = 1] = "Fixed";
    BoxType[BoxType["ATR"] = 2] = "ATR";
})(BoxType || (BoxType = {}));
var RencoSettings = (function () {
    function RencoSettings() {
        //public period: number = 20;
        this.boxType = BoxType.Fixed;
        this.boxSize = 10;
    }
    return RencoSettings;
}());
},{"../compute/index":40,"../core/index":53,"../model/index":142,"./ComputedDataSource":57,"./DataChangedEvent":58}],71:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ArrayDataSource_1 = require("./ArrayDataSource");
exports.ArrayDataSource = ArrayDataSource_1.ArrayDataSource;
var ArrayDataStorage_1 = require("./ArrayDataStorage");
exports.ArrayDataStorage = ArrayDataStorage_1.ArrayDataStorage;
var ArrayIterator_1 = require("./ArrayIterator");
exports.ArrayIterator = ArrayIterator_1.ArrayIterator;
var DataChangedEvent_1 = require("./DataChangedEvent");
exports.DataChangedArgument = DataChangedEvent_1.DataChangedArgument;
exports.DataChangedEvent = DataChangedEvent_1.DataChangedEvent;
var DataSource_1 = require("./DataSource");
exports.DataSource = DataSource_1.DataSource;
var DataSourceConfig_1 = require("./DataSourceConfig");
exports.DataSourceConfig = DataSourceConfig_1.DataSourceConfig;
var DataSourceFactory_1 = require("./DataSourceFactory");
exports.DataSourceFactory = DataSourceFactory_1.DataSourceFactory;
var DataSourceRegister_1 = require("./DataSourceRegister");
exports.DataSourceRegister = DataSourceRegister_1.DataSourceRegister;
var DataType_1 = require("./DataType");
exports.DataType = DataType_1.DataType;
var HttpDataSource_1 = require("./HttpDataSource");
exports.CompositeRange = HttpDataSource_1.CompositeRange;
exports.HttpDataSource = HttpDataSource_1.HttpDataSource;
var HeikinAshiDataSource_1 = require("./HeikinAshiDataSource");
exports.HeikinAshiDataSource = HeikinAshiDataSource_1.HeikinAshiDataSource;
var HttpDataSourceConfig_1 = require("./HttpDataSourceConfig");
exports.HttpDataSourceConfig = HttpDataSourceConfig_1.HttpDataSourceConfig;
var IndicatorDataSource_1 = require("./IndicatorDataSource");
exports.IndicatorDataSource = IndicatorDataSource_1.IndicatorDataSource;
},{"./ArrayDataSource":54,"./ArrayDataStorage":55,"./ArrayIterator":56,"./DataChangedEvent":58,"./DataSource":59,"./DataSourceConfig":60,"./DataSourceFactory":61,"./DataSourceRegister":62,"./DataType":63,"./HeikinAshiDataSource":64,"./HttpDataSource":65,"./HttpDataSourceConfig":66,"./IndicatorDataSource":67}],72:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing curve.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var CurveFigureComponent = (function (_super) {
    __extends(CurveFigureComponent, _super);
    function CurveFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Curve', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new CurveSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(CurveFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CurveFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CurveFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    CurveFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c) ? index_5.DrawUtils.IS_POINT_ON_QUADCURVE(p, a, b, c, 5) : false;
    };
    CurveFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    CurveFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    CurveFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.quadraticCurveTo(b.x, b.y, c.x, c.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    CurveFigureComponent.prototype.getEditState = function () {
        return EditCurveState.instance;
    };
    CurveFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    CurveFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return CurveFigureComponent;
}(index_1.FigureComponent));
exports.CurveFigureComponent = CurveFigureComponent;
var CurveSettings = (function () {
    function CurveSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return CurveSettings;
}());
exports.CurveSettings = CurveSettings;
var DrawCurveState = (function (_super) {
    __extends(DrawCurveState, _super);
    function DrawCurveState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawCurveState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawCurveState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawCurveState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawCurveState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.curve);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
            this.figure.pointC = { uid: coordX, v: coordY };
            this.firstXY = this.stack.toXY({ uid: coordX, v: coordY });
        }
        else if (this.count === 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawCurveState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointC = { uid: coordX, v: coordY };
                // recompute B
                var a = this.stack.toXY({ uid: coordX, v: coordY });
                if (a && this.firstXY) {
                    var mid = index_5.DrawUtils.MID(a, this.firstXY);
                    this.figure.pointB = this.stack.xyToValue(mid);
                }
            }
        }
    };
    DrawCurveState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawCurveState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawCurveState = DrawCurveState;
var EditCurveState = (function () {
    function EditCurveState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditCurveState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditCurveState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditCurveState.prototype.onMouseWheel = function (board, mouse) { };
    EditCurveState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditCurveState.prototype.onMouseEnter = function (board, mouse) { };
    EditCurveState.prototype.onMouseLeave = function (board, mouse) { };
    EditCurveState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditCurveState.prototype.onMouseDown = function (board, mouse) { };
    EditCurveState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditCurveState.prototype.deactivate = function (board, mouse) { };
    EditCurveState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditCurveState;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],73:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing date ranges.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var DateRangeFigureComponent = (function (_super) {
    __extends(DateRangeFigureComponent, _super);
    function DateRangeFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Date Range', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new DateRangeSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(DateRangeFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateRangeFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (v) {
            this.pb.point = v;
        },
        enumerable: true,
        configurable: true
    });
    DateRangeFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            var arrow1 = index_4.DrawUtils.MID(a, c);
            var arrow2 = index_4.DrawUtils.MID(b, d);
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, a, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, arrow1, arrow2, 5);
        }
        return false;
    };
    DateRangeFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    DateRangeFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    DateRangeFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            var arrow1 = index_4.DrawUtils.MID(a, c);
            var arrow2 = index_4.DrawUtils.MID(b, d);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.setFillStyle('rgba(190, 230, 255, 0.3)');
            canvas.fillRect(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.abs(b.x - a.x), Math.abs(b.y - a.y));
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(c.x, c.y);
            canvas.moveTo(d.x, d.y);
            canvas.lineTo(b.x, b.y);
            canvas.moveTo(arrow1.x, arrow1.y);
            canvas.lineTo(arrow2.x, arrow2.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    DateRangeFigureComponent.prototype.getEditState = function () {
        return EditDateRangeState.instance;
    };
    DateRangeFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    DateRangeFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return DateRangeFigureComponent;
}(index_1.FigureComponent));
exports.DateRangeFigureComponent = DateRangeFigureComponent;
var DateRangeSettings = (function () {
    function DateRangeSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return DateRangeSettings;
}());
exports.DateRangeSettings = DateRangeSettings;
var DrawDateRangeState = (function (_super) {
    __extends(DrawDateRangeState, _super);
    function DrawDateRangeState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawDateRangeState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawDateRangeState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawDateRangeState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawDateRangeState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.daterange);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawDateRangeState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawDateRangeState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawDateRangeState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawDateRangeState = DrawDateRangeState;
var EditDateRangeState = (function () {
    function EditDateRangeState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditDateRangeState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditDateRangeState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditDateRangeState.prototype.onMouseWheel = function (board, mouse) { };
    EditDateRangeState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditDateRangeState.prototype.onMouseEnter = function (board, mouse) { };
    EditDateRangeState.prototype.onMouseLeave = function (board, mouse) { };
    EditDateRangeState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditDateRangeState.prototype.onMouseDown = function (board, mouse) { };
    EditDateRangeState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditDateRangeState.prototype.deactivate = function (board, mouse) { };
    EditDateRangeState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditDateRangeState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],74:[function(require,module,exports){
/**
 * Classes for drawing ellipses.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var EllipseFigureComponent = (function (_super) {
    __extends(EllipseFigureComponent, _super);
    function EllipseFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Ellipse', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new EllipseSettings();
        _this.r1 = 0;
        //private r2: number = 0;
        _this.angle = 0;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined && _this.pd.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid, _this.pd.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid, _this.pd.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined && _this.pd.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v, _this.pd.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v, _this.pd.point.v)
                };
            }
        };
        _this.onPointChanged = function () {
            _this.updatePoints();
        };
        _this.onP3changed = function () {
            var updRadius = _this.computeRadius(_this.pc.pixel);
            _this.store.radiusB = updRadius || _this.store.radiusB;
            _this.updatePoints();
        };
        _this.onP4changed = function () {
            var updRadius = _this.computeRadius(_this.pd.pixel);
            _this.store.radiusB = updRadius || _this.store.radiusB;
            _this.updatePoints();
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.pd = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        _this.addChild(_this.pd);
        _this.store = new EllipseStore(container);
        // recompute points after loading figure
        _this.updatePoints();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(EllipseFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EllipseFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EllipseFigureComponent.prototype, "radiusB", {
        get: function () {
            return this.store.radiusB;
        },
        set: function (value) {
            this.store.radiusB = value;
            this.updatePoints();
        },
        enumerable: true,
        configurable: true
    });
    EllipseFigureComponent.prototype.isHit = function (p) {
        var point = p;
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var angle = index_5.DrawUtils.ANGLE(a, b);
            var mid = index_5.DrawUtils.MID(a, b);
            var r1 = index_5.DrawUtils.DIST(a, b) / 2;
            var r2 = this.store.radiusB;
            // transfer to (0,0)
            point = { x: p.x - mid.x, y: p.y - mid.y };
            // rotate
            point = { x: point.x * Math.cos(angle) + point.y * Math.sin(angle),
                y: -point.x * Math.sin(angle) + point.y * Math.cos(angle) };
            var res = (r1 !== 0 && r2 !== 0)
                ? (point.x * point.x) / (r1 * r1) + (point.y * point.y) / (r2 * r2)
                : 0;
            return res > 0.7 && res < 1.3;
        }
        return false;
    };
    EllipseFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    EllipseFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        this.updatePoints();
        // const c = this.pc.shift(dx, dy);
        // const d = this.pd.shift(dx, dy);
        return a || b;
    };
    EllipseFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var r2 = this.store.radiusB;
        var canvas = this.area.frontCanvas;
        if (a && b && r2) {
            // update computed points' coordinates
            this.updatePoints();
            var angle = index_5.DrawUtils.ANGLE(a, b);
            var dist = index_5.DrawUtils.DIST(a, b);
            var mid = index_5.DrawUtils.MID(a, b);
            canvas.beginPath();
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.ellipse(mid.x, mid.y, dist / 2, r2, angle, 0, 2 * Math.PI);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    EllipseFigureComponent.prototype.getEditState = function () {
        return EditEllipseState.instance;
    };
    EllipseFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    EllipseFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    EllipseFigureComponent.prototype.computeRadius = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            return index_5.DrawUtils.DIST_TO_LINE(p, a, b);
        }
    };
    EllipseFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
            this.pc.changed.on(this.onP3changed);
            this.pd.changed.on(this.onP4changed);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
            this.pc.changed.off(this.onP3changed);
            this.pd.changed.off(this.onP4changed);
        }
    };
    EllipseFigureComponent.prototype.updatePoints = function () {
        this.subscribe(false); // prevent change events while recomputing
        // Update p3, p4
        var r2 = this.store.radiusB;
        var y1 = r2;
        var y2 = -r2;
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var angle = index_5.DrawUtils.ANGLE(a, b);
            var mid = index_5.DrawUtils.MID(a, b);
            // rotate
            var rotp1 = { x: y1 * Math.sin(-angle),
                y: y1 * Math.cos(-angle) };
            var rotp2 = { x: y2 * Math.sin(-angle),
                y: y2 * Math.cos(-angle) };
            // transfer
            var tp1 = { x: rotp1.x + mid.x, y: rotp1.y + mid.y };
            var tp2 = { x: rotp2.x + mid.x, y: rotp2.y + mid.y };
            this.pc.pixel = { x: tp1.x, y: tp1.y };
            this.pd.pixel = { x: tp2.x, y: tp2.y };
        }
        this.subscribe();
    };
    return EllipseFigureComponent;
}(index_1.FigureComponent));
exports.EllipseFigureComponent = EllipseFigureComponent;
var EllipseSettings = (function () {
    function EllipseSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return EllipseSettings;
}());
exports.EllipseSettings = EllipseSettings;
var DrawEllipseState = (function (_super) {
    __extends(DrawEllipseState, _super);
    function DrawEllipseState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawEllipseState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawEllipseState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawEllipseState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawEllipseState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.ellipse);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.pa = { x: relX, y: relY };
        }
        else if (this.count === 1) {
            if (this.figure) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.pb = { x: relX, y: relY };
        }
        else if (this.count === 2 && this.pa && this.pb) {
            var dist = index_5.DrawUtils.DIST_TO_LINE({ x: relX, y: relY }, this.pa, this.pb);
            if (this.figure) {
                this.figure.radiusB = dist;
                // this.figure.pointB.uid = coordX;
                // this.figure.pointB.v = coordY;
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawEllipseState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 2) {
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
                this.pb = { x: relX, y: relY };
            }
        }
        else if (this.count === 3 && this.pa && this.pb) {
            var dist = index_5.DrawUtils.DIST_TO_LINE({ x: relX, y: relY }, this.pa, this.pb);
            if (this.figure) {
                this.figure.radiusB = dist;
            }
        }
    };
    DrawEllipseState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawEllipseState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawEllipseState = DrawEllipseState;
var EditEllipseState = (function () {
    function EditEllipseState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditEllipseState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditEllipseState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditEllipseState.prototype.onMouseWheel = function (board, mouse) { };
    EditEllipseState.prototype.onMouseMove = function (board, mouse) {
        if (this.figure && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.figure.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditEllipseState.prototype.onMouseEnter = function (board, mouse) { };
    EditEllipseState.prototype.onMouseLeave = function (board, mouse) { };
    EditEllipseState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditEllipseState.prototype.onMouseDown = function (board, mouse) { };
    EditEllipseState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditEllipseState.prototype.deactivate = function (board, mouse) { };
    EditEllipseState.prototype.exit = function (board, mouse) {
        this.figure = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditEllipseState;
}());
var EllipseStore = (function () {
    function EllipseStore(container) {
        this.container = container;
    }
    Object.defineProperty(EllipseStore.prototype, "radiusB", {
        get: function () {
            return this.container.getProperty('point') || 0;
        },
        set: function (value) {
            this.container.setProperty('point', value);
        },
        enumerable: true,
        configurable: true
    });
    return EllipseStore;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],75:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci fan.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboFanFigureComponent = (function (_super) {
    __extends(FiboFanFigureComponent, _super);
    function FiboFanFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Fan', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new FiboFanSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(FiboFanFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboFanFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboFanFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboFanFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboFanFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboFanFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var p1 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = index_4.DrawUtils.EXTEND(a, p1, frame);
            var extP2 = index_4.DrawUtils.EXTEND(a, p2, frame);
            var extP3 = index_4.DrawUtils.EXTEND(a, p3, frame);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
            }
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP3.x, extP3.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboFanFigureComponent.prototype.getEditState = function () {
        return EditFiboFanState.instance;
    };
    FiboFanFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboFanFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return FiboFanFigureComponent;
}(index_1.FigureComponent));
exports.FiboFanFigureComponent = FiboFanFigureComponent;
var FiboFanSettings = (function () {
    function FiboFanSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return FiboFanSettings;
}());
exports.FiboFanSettings = FiboFanSettings;
var DrawFiboFanState = (function (_super) {
    __extends(DrawFiboFanState, _super);
    function DrawFiboFanState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawFiboFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawFiboFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawFiboFanState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboFanState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.fibofan);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawFiboFanState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboFanState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboFanState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboFanState = DrawFiboFanState;
var EditFiboFanState = (function () {
    function EditFiboFanState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditFiboFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboFanState.prototype.onMouseWheel = function (board, mouse) { };
    EditFiboFanState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditFiboFanState.prototype.onMouseEnter = function (board, mouse) { };
    EditFiboFanState.prototype.onMouseLeave = function (board, mouse) { };
    EditFiboFanState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditFiboFanState.prototype.onMouseDown = function (board, mouse) { };
    EditFiboFanState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditFiboFanState.prototype.deactivate = function (board, mouse) { };
    EditFiboFanState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditFiboFanState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],76:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci levels.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboLevelFigureComponent = (function (_super) {
    __extends(FiboLevelFigureComponent, _super);
    function FiboLevelFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Level', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new FiboLevelSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(FiboLevelFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboLevelFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboLevelFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboLevelFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboLevelFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboLevelFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var minx = Math.min(b.x, a.x);
            var maxx = frame.x + frame.w;
            var p1 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = { x: maxx, y: p1.y };
            var extP2 = { x: maxx, y: p2.y };
            var extP3 = { x: maxx, y: p3.y };
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
            }
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(maxx, a.y); // level 0
            canvas.moveTo(p1.x, p1.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(p2.x, p2.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(p3.x, p3.y);
            canvas.lineTo(extP3.x, extP3.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboLevelFigureComponent.prototype.getEditState = function () {
        return EditFiboLevelState.instance;
    };
    FiboLevelFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboLevelFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return FiboLevelFigureComponent;
}(index_1.FigureComponent));
exports.FiboLevelFigureComponent = FiboLevelFigureComponent;
var FiboLevelSettings = (function () {
    function FiboLevelSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return FiboLevelSettings;
}());
exports.FiboLevelSettings = FiboLevelSettings;
var DrawFiboLevelState = (function (_super) {
    __extends(DrawFiboLevelState, _super);
    function DrawFiboLevelState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawFiboLevelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawFiboLevelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawFiboLevelState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboLevelState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.fibolevel);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawFiboLevelState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboLevelState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboLevelState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboLevelState = DrawFiboLevelState;
var EditFiboLevelState = (function () {
    function EditFiboLevelState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditFiboLevelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboLevelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboLevelState.prototype.onMouseWheel = function (board, mouse) { };
    EditFiboLevelState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditFiboLevelState.prototype.onMouseEnter = function (board, mouse) { };
    EditFiboLevelState.prototype.onMouseLeave = function (board, mouse) { };
    EditFiboLevelState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditFiboLevelState.prototype.onMouseDown = function (board, mouse) { };
    EditFiboLevelState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditFiboLevelState.prototype.deactivate = function (board, mouse) { };
    EditFiboLevelState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditFiboLevelState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],77:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci projection.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboProjectionFigureComponent = (function (_super) {
    __extends(FiboProjectionFigureComponent, _super);
    function FiboProjectionFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new FiboProjectionSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboProjectionFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            return index_5.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5);
        }
        return false;
    };
    FiboProjectionFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboProjectionFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    FiboProjectionFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        canvas.beginPath();
        if (a && b && !c) {
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
        }
        else if (a && b && c) {
            var length100 = b.y - a.y;
            var x = c.x;
            var maxx = frame.x + frame.w;
            var basey = c.y;
            var p1 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = { x: maxx, y: p1.y };
            var extP2 = { x: maxx, y: p2.y };
            var extP3 = { x: maxx, y: p3.y };
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
                canvas.lineTo(c.x, c.y);
            }
            canvas.moveTo(c.x, c.y);
            canvas.lineTo(maxx, c.y); // level 0
            canvas.moveTo(p1.x, p1.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(p2.x, p2.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(p3.x, p3.y);
            canvas.lineTo(extP3.x, extP3.y);
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboProjectionFigureComponent.prototype.getEditState = function () {
        return EditPitchforkState.instance;
    };
    FiboProjectionFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboProjectionFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return FiboProjectionFigureComponent;
}(index_1.FigureComponent));
exports.FiboProjectionFigureComponent = FiboProjectionFigureComponent;
var FiboProjectionSettings = (function () {
    function FiboProjectionSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return FiboProjectionSettings;
}());
exports.FiboProjectionSettings = FiboProjectionSettings;
var DrawFiboProjectionState = (function (_super) {
    __extends(DrawFiboProjectionState, _super);
    function DrawFiboProjectionState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawFiboProjectionState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawFiboProjectionState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawFiboProjectionState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboProjectionState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.fiboprojection);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2) {
            if (this.figure) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawFiboProjectionState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboProjectionState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboProjectionState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboProjectionState = DrawFiboProjectionState;
var EditPitchforkState = (function () {
    function EditPitchforkState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditPitchforkState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPitchforkState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPitchforkState.prototype.onMouseWheel = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditPitchforkState.prototype.onMouseEnter = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseLeave = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditPitchforkState.prototype.onMouseDown = function (board, mouse) { };
    EditPitchforkState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditPitchforkState.prototype.deactivate = function (board, mouse) { };
    EditPitchforkState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditPitchforkState;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],78:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci time projection.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var Line = (function () {
    function Line(uid, percentage) {
        this.uid = uid;
        this.percentage = percentage;
    }
    return Line;
}());
var FiboTimeProjectionFigureComponent = (function (_super) {
    __extends(FiboTimeProjectionFigureComponent, _super);
    function FiboTimeProjectionFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Time Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new FiboTimeProjectionSettings();
        _this.lines = [];
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.onPointChanged = function () {
            _this.updateLines();
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(FiboTimeProjectionFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboTimeProjectionFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboTimeProjectionFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboTimeProjectionFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboTimeProjectionFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboTimeProjectionFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var minx = Math.min(a.x, b.x);
            var maxx = Math.min(a.x, b.x);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            for (var _i = 0, _a = this.lines; _i < _a.length; _i++) {
                var line = _a[_i];
                var x = this.taxis.toX(line.uid);
                if (x) {
                    canvas.moveTo(x, frame.y);
                    canvas.lineTo(x, frame.y + frame.h);
                }
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboTimeProjectionFigureComponent.prototype.getEditState = function () {
        return EditFiboTimeProjectionState.instance;
    };
    FiboTimeProjectionFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboTimeProjectionFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    FiboTimeProjectionFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
        }
    };
    FiboTimeProjectionFigureComponent.prototype.updateLines = function () {
        this.subscribe(false); // prevent change events while recomputing
        this.lines = [];
        if (this.pa.point.uid && this.pb.point.uid) {
            var uidStart = this.pa.point.uid.compare(this.pb.point.uid) <= 0 ? this.pa.point.uid : this.pb.point.uid;
            var uidEnd = this.pa.point.uid.compare(this.pb.point.uid) <= 0 ? this.pb.point.uid : this.pa.point.uid;
            var dist100 = this.taxis.dist(this.pa.point.uid, this.pb.point.uid);
            if (dist100 !== undefined) {
                dist100 = Math.abs(dist100);
                var percantage = [
                    0,
                    index_2.Constants.FIBO_PERCENTAGE[1],
                    index_2.Constants.FIBO_PERCENTAGE[2],
                    index_2.Constants.FIBO_PERCENTAGE[3],
                    index_2.Constants.FIBO_PERCENTAGE[6]
                ];
                for (var _i = 0, percantage_1 = percantage; _i < percantage_1.length; _i++) {
                    var perc = percantage_1[_i];
                    var shift = Math.floor(dist100 * perc);
                    var uid = this.taxis.add(uidStart, shift);
                    if (uid) {
                        this.lines.push(new Line(uid, perc));
                    }
                }
            }
        }
        this.subscribe();
    };
    return FiboTimeProjectionFigureComponent;
}(index_1.FigureComponent));
exports.FiboTimeProjectionFigureComponent = FiboTimeProjectionFigureComponent;
var FiboTimeProjectionSettings = (function () {
    function FiboTimeProjectionSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return FiboTimeProjectionSettings;
}());
exports.FiboTimeProjectionSettings = FiboTimeProjectionSettings;
var DrawFiboTimeProjectionState = (function (_super) {
    __extends(DrawFiboTimeProjectionState, _super);
    function DrawFiboTimeProjectionState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawFiboTimeProjectionState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawFiboTimeProjectionState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawFiboTimeProjectionState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboTimeProjectionState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.fibotimeprojection);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawFiboTimeProjectionState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboTimeProjectionState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboTimeProjectionState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboTimeProjectionState = DrawFiboTimeProjectionState;
var EditFiboTimeProjectionState = (function () {
    function EditFiboTimeProjectionState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditFiboTimeProjectionState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboTimeProjectionState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboTimeProjectionState.prototype.onMouseWheel = function (board, mouse) { };
    EditFiboTimeProjectionState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditFiboTimeProjectionState.prototype.onMouseEnter = function (board, mouse) { };
    EditFiboTimeProjectionState.prototype.onMouseLeave = function (board, mouse) { };
    EditFiboTimeProjectionState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditFiboTimeProjectionState.prototype.onMouseDown = function (board, mouse) { };
    EditFiboTimeProjectionState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditFiboTimeProjectionState.prototype.deactivate = function (board, mouse) { };
    EditFiboTimeProjectionState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditFiboTimeProjectionState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],79:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing Gann fan.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var Line = (function () {
    function Line(coff, text) {
        this.coff = coff;
        this.text = text;
    }
    return Line;
}());
var GannFanFigureComponent = (function (_super) {
    __extends(GannFanFigureComponent, _super);
    function GannFanFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Gann Fan', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new GannFanSettings();
        _this.lines = [
            new Line(0.125, '8/1'),
            new Line(0.25, '4/1'),
            new Line(0.33333, '3/1'),
            new Line(0.5, '2/1'),
            new Line(1, '1/1'),
            new Line(2, '1/2'),
            new Line(3, '1/3'),
            new Line(4, '1/4'),
            new Line(8, '1/8')
        ];
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(GannFanFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GannFanFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    GannFanFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    GannFanFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    GannFanFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    GannFanFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            for (var _i = 0, _a = this.lines; _i < _a.length; _i++) {
                var line = _a[_i];
                var p = { x: b.x, y: a.y + length100 * line.coff };
                var ext = index_4.DrawUtils.EXTEND(a, p, frame);
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(ext.x, ext.y);
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    GannFanFigureComponent.prototype.getEditState = function () {
        return EditGannFanState.instance;
    };
    GannFanFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    GannFanFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return GannFanFigureComponent;
}(index_1.FigureComponent));
exports.GannFanFigureComponent = GannFanFigureComponent;
var GannFanSettings = (function () {
    function GannFanSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return GannFanSettings;
}());
exports.GannFanSettings = GannFanSettings;
var DrawGannFanState = (function (_super) {
    __extends(DrawGannFanState, _super);
    function DrawGannFanState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawGannFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawGannFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawGannFanState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawGannFanState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.gannfan);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawGannFanState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawGannFanState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawGannFanState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawGannFanState = DrawGannFanState;
var EditGannFanState = (function () {
    function EditGannFanState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditGannFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditGannFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditGannFanState.prototype.onMouseWheel = function (board, mouse) { };
    EditGannFanState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditGannFanState.prototype.onMouseEnter = function (board, mouse) { };
    EditGannFanState.prototype.onMouseLeave = function (board, mouse) { };
    EditGannFanState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditGannFanState.prototype.onMouseDown = function (board, mouse) { };
    EditGannFanState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditGannFanState.prototype.deactivate = function (board, mouse) { };
    EditGannFanState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditGannFanState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],80:[function(require,module,exports){
/**
 * Classes for drawing horizontal lines.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var HorizontalLineFigureComponent = (function (_super) {
    __extends(HorizontalLineFigureComponent, _super);
    function HorizontalLineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Horizontal Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('p'));
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(HorizontalLineFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (value) {
            this.p.point = value;
        },
        enumerable: true,
        configurable: true
    });
    HorizontalLineFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        // // TODO: Can be stored when coords are changed
        // const ax = this.coords.toX(this.pa.point.t === undefined ? <string>this.pa.point.uid : this.pa.point.t);
        // const bx = this.coords.toX(this.pb.point.t === undefined ? <string>this.pb.point.uid : this.pb.point.t);
        var pointy = this.yaxis.toX(this.p.point.v);
        // const by = this.coords.toY(this.pb.point.v);
        return p.y >= pointy - 3 && p.y <= pointy + 3;
    };
    HorizontalLineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var y = this.yaxis.toX(this.p.point.v);
            var canvas = this.area.frontCanvas;
            if (this.isHovered) {
                canvas.setStrokeStyle('#FF0000');
            }
            else {
                canvas.setStrokeStyle('#FF0000');
            }
            canvas.lineWidth = 2;
            canvas.beginPath();
            canvas.moveTo(0, y);
            canvas.lineTo(this.size.width, y);
            canvas.stroke();
            canvas.closePath();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    HorizontalLineFigureComponent.prototype.getEditState = function () {
        return EditHorizontalLineState.instance;
    };
    return HorizontalLineFigureComponent;
}(index_1.FigureComponent));
exports.HorizontalLineFigureComponent = HorizontalLineFigureComponent;
var DrawHorizontalLineState = (function (_super) {
    __extends(DrawHorizontalLineState, _super);
    function DrawHorizontalLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawHorizontalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawHorizontalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawHorizontalLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawHorizontalLineState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.hline);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.point = { uid: coordX, v: coordY };
            this.exit();
        }
        this.count += 1;
    };
    DrawHorizontalLineState.prototype.setLastPoint = function (mouse) { };
    DrawHorizontalLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawHorizontalLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawHorizontalLineState = DrawHorizontalLineState;
var EditHorizontalLineState = (function () {
    function EditHorizontalLineState() {
    }
    Object.defineProperty(EditHorizontalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditHorizontalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditHorizontalLineState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            var coordY = this.chartStack.yToValue(mouse.pos.y - board.offset.y - this.chartStack.offset.y);
            this.line.point = { uid: this.line.point.uid, v: coordY };
        }
        else {
            console.debug('Edit state: line or chartStack is not found.');
        }
    };
    EditHorizontalLineState.prototype.onMouseEnter = function (board, mouse) { };
    EditHorizontalLineState.prototype.onMouseLeave = function (board, mouse) { };
    EditHorizontalLineState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditHorizontalLineState.prototype.onMouseDown = function (board, mouse) { };
    EditHorizontalLineState.prototype.onMouseWheel = function (board, mouse) { };
    EditHorizontalLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditHorizontalLineState.prototype.deactivate = function (board, mouse) { };
    EditHorizontalLineState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditHorizontalLineState;
}());
},{"../component/index":38,"./FigureStateBase":90,"./PointFigureComponent":91}],81:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing lines.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var LineFigureComponent = (function (_super) {
    __extends(LineFigureComponent, _super);
    function LineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Trend Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new LineSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(LineFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LineFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    LineFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    LineFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    LineFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    LineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    LineFigureComponent.prototype.getEditState = function () {
        return EditLineState.instance;
    };
    LineFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    LineFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return LineFigureComponent;
}(index_1.FigureComponent));
exports.LineFigureComponent = LineFigureComponent;
var LineSettings = (function () {
    function LineSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return LineSettings;
}());
exports.LineSettings = LineSettings;
var DrawLineState = (function (_super) {
    __extends(DrawLineState, _super);
    function DrawLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawLineState.prototype.setChartStack = function (stack) {
        this.stack = stack;
    };
    DrawLineState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.line);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawLineState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawLineState = DrawLineState;
var EditLineState = (function () {
    function EditLineState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditLineState.prototype.onMouseWheel = function (board, mouse) { };
    EditLineState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditLineState.prototype.onMouseEnter = function (board, mouse) { };
    EditLineState.prototype.onMouseLeave = function (board, mouse) { };
    EditLineState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditLineState.prototype.onMouseDown = function (board, mouse) { };
    EditLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditLineState.prototype.deactivate = function (board, mouse) { };
    EditLineState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditLineState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],82:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var OhlcProjFigureComponent = (function (_super) {
    __extends(OhlcProjFigureComponent, _super);
    function OhlcProjFigureComponent(area, offset, size, settings, taxis, yaxis, container, source) {
        var _this = _super.call(this, 'OHLC Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.source = source;
        _this.settings = new OhlcProjSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.onPointAChanged = function () {
            _this.subscribe(false);
            _this.constraintPointLast(_this.pa);
            _this.constraintPoint(_this.pa, undefined, _this.pb.point);
            _this.updateHHLL();
            _this.subscribe();
        };
        _this.onPointBChanged = function () {
            _this.subscribe(false);
            _this.constraintPointLast(_this.pb);
            _this.constraintPoint(_this.pb, _this.pa.point, _this.pc.point);
            _this.updateHHLL();
            _this.subscribe();
        };
        _this.onPointCChanged = function () {
            _this.subscribe(false);
            _this.constraintPoint(_this.pc, _this.pb.point, undefined);
            _this.subscribe();
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        // update values after loading figures
        _this.updateHHLL();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    OhlcProjFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c)
            ? (index_5.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, c, a, 5))
            : false;
    };
    OhlcProjFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    OhlcProjFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    OhlcProjFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.moveTo(a.x, frame.y);
            canvas.lineTo(a.x, frame.y + frame.h);
            canvas.moveTo(b.x, frame.y);
            canvas.lineTo(b.x, frame.y + frame.h);
            if (c) {
                canvas.moveTo(c.x, frame.y);
                canvas.lineTo(c.x, frame.y + frame.h);
            }
            var minx = Math.min(a.x, b.x);
            var maxx = Math.max(a.x, b.x, c ? c.x : -Infinity);
            if (this.hhll) {
                if (this.hhll.o) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.o), maxx - minx);
                }
                if (this.hhll.c) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.c), maxx - minx);
                }
                if (this.hhll.h) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.h), maxx - minx);
                }
                if (this.hhll.l) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.l), maxx - minx);
                }
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    OhlcProjFigureComponent.prototype.hline = function (canvas, x, y, l) {
        canvas.moveTo(x, y);
        canvas.lineTo(x + l, y);
    };
    OhlcProjFigureComponent.prototype.getEditState = function () {
        return EditOhlcProjState.instance;
    };
    OhlcProjFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    OhlcProjFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    OhlcProjFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointAChanged);
            this.pb.changed.on(this.onPointBChanged);
            this.pc.changed.on(this.onPointCChanged);
        }
        else {
            this.pa.changed.off(this.onPointAChanged);
            this.pb.changed.off(this.onPointBChanged);
            this.pc.changed.off(this.onPointCChanged);
        }
    };
    OhlcProjFigureComponent.prototype.constraintPoint = function (p, pfrom, pto) {
        if (pfrom && p.point.uid && pfrom.uid && p.point.uid.compare(pfrom.uid) < 0) {
            p.point = { uid: pfrom.uid, v: p.point.v };
        }
        if (pto && p.point.uid && pto.uid && p.point.uid.compare(pto.uid) > 0) {
            p.point = { uid: pto.uid, v: p.point.v };
        }
    };
    OhlcProjFigureComponent.prototype.constraintPointLast = function (p) {
        if (this.source) {
            var last = this.source.getLastCandle();
            if (last && p.point.uid && p.point.uid.compare(last.uid) > 0) {
                p.point = { uid: last.uid, v: p.point.v };
            }
        }
    };
    OhlcProjFigureComponent.prototype.updateHHLL = function () {
        this.hhll = undefined;
        if (this.source && this.pa.point.uid && this.pb.point.uid) {
            this.hhll = this.source.getHHLL(this.pa.point.uid, this.pb.point.uid);
        }
    };
    return OhlcProjFigureComponent;
}(index_1.FigureComponent));
exports.OhlcProjFigureComponent = OhlcProjFigureComponent;
var OhlcProjSettings = (function () {
    function OhlcProjSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return OhlcProjSettings;
}());
exports.OhlcProjSettings = OhlcProjSettings;
var DrawOhlcProjState = (function (_super) {
    __extends(DrawOhlcProjState, _super);
    function DrawOhlcProjState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawOhlcProjState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawOhlcProjState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawOhlcProjState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawOhlcProjState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.ohlcproj);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2) {
            if (this.figure) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawOhlcProjState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawOhlcProjState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawOhlcProjState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawOhlcProjState = DrawOhlcProjState;
var EditOhlcProjState = (function () {
    function EditOhlcProjState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditOhlcProjState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditOhlcProjState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditOhlcProjState.prototype.onMouseWheel = function (board, mouse) { };
    EditOhlcProjState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditOhlcProjState.prototype.onMouseEnter = function (board, mouse) { };
    EditOhlcProjState.prototype.onMouseLeave = function (board, mouse) { };
    EditOhlcProjState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditOhlcProjState.prototype.onMouseDown = function (board, mouse) { };
    EditOhlcProjState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditOhlcProjState.prototype.deactivate = function (board, mouse) { };
    EditOhlcProjState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditOhlcProjState;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],83:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing path.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var PathFigureComponent = (function (_super) {
    __extends(PathFigureComponent, _super);
    function PathFigureComponent(area, offset, size, chartSettings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Path', offset, size, container) || this;
        _this.area = area;
        _this.chartSettings = chartSettings;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new PathSettings();
        _this.p = [];
        _this._closed = false;
        _this.getTimeRange = function (ctx, size) {
            if (_this.p.length > 0) {
                var min_1;
                var max_1;
                _this.p.forEach(function (value) {
                    var uid = value.point.uid;
                    if (uid) {
                        min_1 = min_1 ? (min_1.compare(uid) <= 0 ? min_1 : uid) : uid;
                        max_1 = max_1 ? (max_1.compare(uid) >= 0 ? max_1 : uid) : uid;
                    }
                });
                return (min_1 && max_1) ? { start: min_1, end: max_1 } : undefined;
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.p.length > 0) {
                var min_2;
                var max_2;
                _this.p.forEach(function (value) {
                    var v = value.point.v;
                    if (v) {
                        min_2 = min_2 ? (min_2 <= v ? min_2 : v) : v;
                        max_2 = max_2 ? (max_2 >= v ? max_2 : v) : v;
                    }
                });
                return (min_2 && max_2) ? { start: min_2, end: max_2 } : undefined;
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, chartSettings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, chartSettings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        // restore points
        _this.pointsStore = container.getArrayProperty('points');
        for (var _i = 0, _a = _this.pointsStore.asArray(); _i < _a.length; _i++) {
            var pStore = _a[_i];
            _this.insertPoint(pStore);
            _this.closed = true; // for loaded figure set close
        }
        return _this;
    }
    Object.defineProperty(PathFigureComponent.prototype, "closed", {
        get: function () {
            return this._closed;
        },
        set: function (value) {
            this._closed = value;
        },
        enumerable: true,
        configurable: true
    });
    PathFigureComponent.prototype.addPoint = function (uid, v) {
        var pointContainer = this.pointsStore.addItem();
        var pf = this.insertPoint(pointContainer);
        pf.point = { uid: uid, v: v };
    };
    PathFigureComponent.prototype.insertPoint = function (container) {
        var pf = new PointFigureComponent_1.PointFigureComponent(this.area, this.offset, this.size, this.chartSettings, this.taxis, this.yaxis, container);
        this.p.push(pf);
        this.addChild(pf);
        return pf;
    };
    PathFigureComponent.prototype.getPoint = function (index) {
        if (index >= 0 && index < this.p.length) {
            return this.p[index].point;
        }
        else {
            throw new Error("Index out of ranges " + index + ". Length = " + this.p.length);
        }
    };
    PathFigureComponent.prototype.setPoint = function (index, v) {
        if (index >= 0 && index < this.p.length) {
            this.p[index].point = v;
        }
        else {
            throw new Error("Index out of ranges " + index + ". Length = " + this.p.length);
        }
    };
    PathFigureComponent.prototype.removePoint = function (index) {
        if (index >= 0 && index < this.p.length) {
            // remove from store and from ponts array
            this.pointsStore.removeItem(index);
            var removed = this.p.splice(index, 1);
            this.removeChild(removed[0]);
        }
    };
    Object.defineProperty(PathFigureComponent.prototype, "count", {
        get: function () {
            return this.p.length;
        },
        enumerable: true,
        configurable: true
    });
    PathFigureComponent.prototype.isHit = function (p) {
        var cur = undefined;
        var prev = undefined;
        // Check first last
        var hit = this.p.some(function (value) {
            cur = value.getXY();
            if (cur && prev) {
                if (index_4.DrawUtils.IS_POINT_ON_LINE(p, cur, prev, 5)) {
                    return true;
                }
            }
            prev = cur;
            return false;
        });
        // check last line
        if (!hit) {
            if (this.p.length > 1) {
                var first = this.p[0].getXY();
                if (cur && first) {
                    return index_4.DrawUtils.IS_POINT_ON_LINE(p, first, cur, 5);
                }
            }
        }
        return hit;
    };
    PathFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    PathFigureComponent.prototype.shift = function (dx, dy) {
        var result = false;
        this.p.forEach(function (point) {
            result = point.shift(dx, dy) || result;
        });
        return result;
    };
    PathFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        canvas.beginPath();
        var prev = undefined;
        this.p.forEach(function (value) {
            var cur = value.getXY();
            if (cur && prev) {
                canvas.lineTo(cur.x, cur.y);
            }
            else if (cur) {
                canvas.moveTo(cur.x, cur.y);
            }
            prev = cur;
            //return false;
        });
        if (this._closed) {
            canvas.closePath();
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    PathFigureComponent.prototype.getEditState = function () {
        return EditPathState.instance;
    };
    PathFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    PathFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return PathFigureComponent;
}(index_1.FigureComponent));
exports.PathFigureComponent = PathFigureComponent;
var PathSettings = (function () {
    function PathSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return PathSettings;
}());
exports.PathSettings = PathSettings;
var DrawPathState = (function (_super) {
    __extends(DrawPathState, _super);
    function DrawPathState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawPathState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawPathState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawPathState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawPathState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (!coordX || coordY === undefined) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.path);
            this.figure.addPoint(coordX, coordY);
            this.firstXY = new index_3.Point(relX, relY);
        }
        else {
            if (this.figure) {
                this.figure.addPoint(coordX, coordY);
                this.lastXY = new index_3.Point(relX, relY);
            }
        }
        this.count += 1;
    };
    DrawPathState.prototype.fixPoint = function (mouse) {
        if (this.firstXY && this.lastXY && index_4.DrawUtils.IS_POINT_OVER(this.firstXY, this.lastXY, 10)) {
            // remove last point
            if (this.figure) {
                this.figure.removePoint(this.figure.count - 1);
                this.figure.closed = true;
            }
            this.exit();
            return;
        }
    };
    DrawPathState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        this.lastXY = new index_3.Point(relX, relY);
        if (coordX && coordY && this.figure.count > 0) {
            this.figure.setPoint(this.figure.count - 1, { uid: coordX, v: coordY });
        }
    };
    DrawPathState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        this.lastXY = undefined;
        this.firstXY = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawPathState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawPathState = DrawPathState;
var EditPathState = (function () {
    function EditPathState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditPathState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPathState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPathState.prototype.onMouseWheel = function (board, mouse) { };
    EditPathState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditPathState.prototype.onMouseEnter = function (board, mouse) { };
    EditPathState.prototype.onMouseLeave = function (board, mouse) { };
    EditPathState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditPathState.prototype.onMouseDown = function (board, mouse) { };
    EditPathState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditPathState.prototype.deactivate = function (board, mouse) { };
    EditPathState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditPathState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],84:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing pitchfork.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var PitchforkFigureComponent = (function (_super) {
    __extends(PitchforkFigureComponent, _super);
    function PitchforkFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Pitchfork', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new PitchforkSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    PitchforkFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            var mid = index_5.DrawUtils.MID(b, c);
            return index_5.DrawUtils.IS_POINT_ON_LINE(p, a, mid, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5);
        }
        return false;
    };
    PitchforkFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    PitchforkFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    PitchforkFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        var extA = undefined;
        var mid = undefined;
        if (a && b) {
            if (c) {
                mid = index_5.DrawUtils.MID(b, c);
                extA = index_5.DrawUtils.EXTEND(a, mid, frame);
            }
            else {
                extA = index_5.DrawUtils.EXTEND(a, b, frame);
            }
        }
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        canvas.beginPath();
        if (a && b && !c && extA) {
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extA.x, extA.y);
        }
        else if (a && b && c && extA && mid) {
            // find left and right extensions
            var midAC = index_5.DrawUtils.MID(a, c);
            var midAB = index_5.DrawUtils.MID(a, b);
            // find 4th vertex of parallelogram
            var a1 = {
                x: 2 * midAC.x - mid.x,
                y: 2 * midAC.y - mid.y
            };
            var a2 = {
                x: 2 * midAB.x - mid.x,
                y: 2 * midAB.y - mid.y
            };
            // extend side lines
            var ext1 = index_5.DrawUtils.EXTEND(a1, c, frame);
            var ext2 = index_5.DrawUtils.EXTEND(a2, b, frame);
            canvas.moveTo(b.x, b.y);
            canvas.lineTo(c.x, c.y);
            // extensions
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extA.x, extA.y);
            canvas.moveTo(c.x, c.y);
            canvas.lineTo(ext1.x, ext1.y);
            canvas.moveTo(b.x, b.y);
            canvas.lineTo(ext2.x, ext2.y);
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    PitchforkFigureComponent.prototype.getEditState = function () {
        return EditPitchforkState.instance;
    };
    PitchforkFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    PitchforkFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return PitchforkFigureComponent;
}(index_1.FigureComponent));
exports.PitchforkFigureComponent = PitchforkFigureComponent;
var PitchforkSettings = (function () {
    function PitchforkSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return PitchforkSettings;
}());
exports.PitchforkSettings = PitchforkSettings;
var DrawPitchforkState = (function (_super) {
    __extends(DrawPitchforkState, _super);
    function DrawPitchforkState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawPitchforkState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawPitchforkState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawPitchforkState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawPitchforkState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.pitchfork);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2) {
            if (this.figure) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawPitchforkState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawPitchforkState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawPitchforkState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawPitchforkState = DrawPitchforkState;
var EditPitchforkState = (function () {
    function EditPitchforkState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditPitchforkState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPitchforkState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPitchforkState.prototype.onMouseWheel = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditPitchforkState.prototype.onMouseEnter = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseLeave = function (board, mouse) { };
    EditPitchforkState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditPitchforkState.prototype.onMouseDown = function (board, mouse) { };
    EditPitchforkState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditPitchforkState.prototype.deactivate = function (board, mouse) { };
    EditPitchforkState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditPitchforkState;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],85:[function(require,module,exports){
/**
 * Classes for drawing rectangles.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var RectFigureComponent = (function (_super) {
    __extends(RectFigureComponent, _super);
    function RectFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Rectangle', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new RectSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(RectFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RectFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (v) {
            this.pb.point = v;
        },
        enumerable: true,
        configurable: true
    });
    RectFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, a, d, 5);
        }
        return false;
    };
    RectFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    RectFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    RectFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var ca = this.pa.getXY();
        var cb = this.pb.getXY();
        if (ca && cb) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.strokeRect(ca.x, ca.y, cb.x - ca.x, cb.y - ca.y);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    RectFigureComponent.prototype.getEditState = function () {
        return EditRectState.instance;
    };
    RectFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    RectFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return RectFigureComponent;
}(index_1.FigureComponent));
exports.RectFigureComponent = RectFigureComponent;
var RectSettings = (function () {
    function RectSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return RectSettings;
}());
exports.RectSettings = RectSettings;
var DrawRectState = (function (_super) {
    __extends(DrawRectState, _super);
    function DrawRectState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawRectState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawRectState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawRectState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawRectState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.rect);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count > 1) {
            this.exit();
        }
        this.count += 1;
    };
    DrawRectState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawRectState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawRectState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawRectState = DrawRectState;
var EditRectState = (function () {
    function EditRectState() {
        this.last = new index_3.Point();
    }
    Object.defineProperty(EditRectState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditRectState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditRectState.prototype.onMouseWheel = function (board, mouse) { };
    EditRectState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditRectState.prototype.onMouseEnter = function (board, mouse) { };
    EditRectState.prototype.onMouseLeave = function (board, mouse) { };
    EditRectState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditRectState.prototype.onMouseDown = function (board, mouse) { };
    EditRectState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditRectState.prototype.deactivate = function (board, mouse) { };
    EditRectState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditRectState;
}());
},{"../component/index":38,"../core/index":53,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],86:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing text.
 */
var index_1 = require("../canvas/index");
var index_2 = require("../component/index");
var index_3 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TextFigureComponent = (function (_super) {
    __extends(TextFigureComponent, _super);
    function TextFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Text', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new TextSettings();
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis);
        _this.p.visible = false;
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(TextFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (v) {
            this.p.point = v;
        },
        enumerable: true,
        configurable: true
    });
    TextFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        var x = this.taxis.toX(this.p.point.uid);
        var y = this.yaxis.toX(this.p.point.v);
        if (x !== undefined && this.rect) {
            return index_3.DrawUtils.IS_POINT_OVER_RECT(p, this.rect, 5);
        }
        return false;
    };
    TextFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var x = this.taxis.toX(this.p.point.uid);
            var y = this.yaxis.toX(this.p.point.v);
            if (x !== undefined) {
                var canvas = this.area.frontCanvas;
                canvas.setStrokeStyle('#FF0000');
                canvas.font = '15pt Arial';
                canvas.setTextAlign(index_1.CanvasTextAlign.Center);
                canvas.setFillStyle('#FF0000');
                var metrics = canvas.measureText(this.settings.text);
                canvas.fillText(this.settings.text, x, y);
                this.rect = { x: x, y: y, w: metrics.width, h: 15 }; // Height in px is equal to font size in pts
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TextFigureComponent.prototype.getEditState = function () {
        return EditTextState.instance;
    };
    return TextFigureComponent;
}(index_2.FigureComponent));
exports.TextFigureComponent = TextFigureComponent;
var TextSettings = (function () {
    function TextSettings() {
        this.color = '#FF0000';
        this.text = 'Text';
    }
    return TextSettings;
}());
exports.TextSettings = TextSettings;
var DrawTextState = (function (_super) {
    __extends(DrawTextState, _super);
    function DrawTextState() {
        return _super.call(this) || this;
    }
    Object.defineProperty(DrawTextState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawTextState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawTextState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTextState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        this.figure = this.stack.addFigure(index_2.FigureType.text);
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        this.figure.point = { uid: coordX, v: coordY };
        this.exit();
    };
    DrawTextState.prototype.setLastPoint = function (mouse) { };
    DrawTextState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTextState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTextState = DrawTextState;
var EditTextState = (function () {
    function EditTextState() {
    }
    Object.defineProperty(EditTextState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTextState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTextState.prototype.onMouseMove = function (board, mouse) {
        if (this.figure && this.chartStack) {
            var coordX = this.chartStack.xToValue(mouse.pos.x - board.offset.x - this.chartStack.offset.x);
            var coordY = this.chartStack.yToValue(mouse.pos.y - board.offset.y - this.chartStack.offset.y);
            this.figure.point = { uid: coordX, v: coordY };
        }
        else {
            console.debug('Edit state: line or chartStack is not found.');
        }
    };
    EditTextState.prototype.onMouseEnter = function (board, mouse) { };
    EditTextState.prototype.onMouseLeave = function (board, mouse) { };
    EditTextState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditTextState.prototype.onMouseDown = function (board, mouse) { };
    EditTextState.prototype.onMouseWheel = function (board, mouse) { };
    EditTextState.prototype.activate = function (board, mouse, stack, activationParameters) {
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditTextState.prototype.deactivate = function (board, mouse) { };
    EditTextState.prototype.exit = function (board, mouse) {
        this.figure = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditTextState;
}());
},{"../canvas/index":17,"../component/index":38,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],87:[function(require,module,exports){
/**
 * Classes for drawing trend channels.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TrendChannelFigureComponent = (function (_super) {
    __extends(TrendChannelFigureComponent, _super);
    function TrendChannelFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Trend channel', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new TrendChannelSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v)
                };
            }
        };
        _this.onPointChanged = function () {
            _this.updatePoints();
        };
        _this.onP3changed = function () {
            var updSpread = _this.computeSpread(_this.pc.pixel);
            _this.store.spread = updSpread || _this.store.spread;
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        _this.store = new ChannelStore(container);
        // recompute point after loading figure
        _this.updatePoints();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(TrendChannelFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TrendChannelFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TrendChannelFigureComponent.prototype, "spread", {
        get: function () {
            return this.store.spread;
        },
        set: function (value) {
            this.store.spread = value;
            this.updatePoints();
        },
        enumerable: true,
        configurable: true
    });
    TrendChannelFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var hit = false;
        if (a && b) {
            var spread = this.store.spread;
            hit = index_5.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, { x: a.x, y: a.y + spread }, { x: b.x, y: b.y + spread }, 5);
        }
        return hit;
    };
    TrendChannelFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    TrendChannelFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        this.updatePoints();
        return a || b;
    };
    TrendChannelFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        if (a && b) {
            // update computed points' coordinates
            this.updatePoints();
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            canvas.stroke();
            var spread = this.store.spread;
            if (spread) {
                canvas.beginPath();
                canvas.moveTo(a.x, a.y + spread);
                canvas.lineTo(b.x, b.y + spread);
                canvas.stroke();
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TrendChannelFigureComponent.prototype.getEditState = function () {
        return EditTrendChannelState.instance;
    };
    TrendChannelFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    TrendChannelFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    TrendChannelFigureComponent.prototype.computeSpread = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var y = index_5.DrawUtils.LINEAR(a, b, p.x);
            return y !== undefined ? p.y - y : 0;
        }
    };
    TrendChannelFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
            this.pc.changed.on(this.onP3changed);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
            this.pc.changed.off(this.onP3changed);
        }
    };
    TrendChannelFigureComponent.prototype.updatePoints = function () {
        this.subscribe(false); // prevent change events while recomputing
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var mid = index_5.DrawUtils.MID(a, b);
            this.pc.pixel = { x: mid.x, y: mid.y + this.store.spread };
        }
        this.subscribe();
    };
    return TrendChannelFigureComponent;
}(index_1.FigureComponent));
exports.TrendChannelFigureComponent = TrendChannelFigureComponent;
var TrendChannelSettings = (function () {
    function TrendChannelSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return TrendChannelSettings;
}());
exports.TrendChannelSettings = TrendChannelSettings;
var DrawTrendChannelState = (function (_super) {
    __extends(DrawTrendChannelState, _super);
    function DrawTrendChannelState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawTrendChannelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawTrendChannelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawTrendChannelState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTrendChannelState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.trendchannel);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.pa = { x: relX, y: relY };
        }
        else if (this.count === 1) {
            if (this.figure) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.pb = { x: relX, y: relY };
        }
        else if (this.count === 3) {
            this.exit();
        }
        this.count += 1;
    };
    DrawTrendChannelState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = mouse.pos.x - this.board.offset.x - this.stack.offset.x;
        var relY = mouse.pos.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 2) {
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
                this.pb = { x: relX, y: relY };
            }
        }
        else if (this.count === 3 && this.pa && this.pb) {
            var y = index_5.DrawUtils.LINEAR(this.pa, this.pb, relX);
            if (this.figure) {
                this.figure.spread = y !== undefined ? relY - y : 0;
            }
        }
    };
    DrawTrendChannelState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTrendChannelState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTrendChannelState = DrawTrendChannelState;
var EditTrendChannelState = (function () {
    function EditTrendChannelState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditTrendChannelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTrendChannelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTrendChannelState.prototype.onMouseWheel = function (board, mouse) { };
    EditTrendChannelState.prototype.onMouseMove = function (board, mouse) {
        if (this.figure && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.figure.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditTrendChannelState.prototype.onMouseEnter = function (board, mouse) { };
    EditTrendChannelState.prototype.onMouseLeave = function (board, mouse) { };
    EditTrendChannelState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditTrendChannelState.prototype.onMouseDown = function (board, mouse) { };
    EditTrendChannelState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditTrendChannelState.prototype.deactivate = function (board, mouse) { };
    EditTrendChannelState.prototype.exit = function (board, mouse) {
        this.figure = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditTrendChannelState;
}());
var ChannelStore = (function () {
    function ChannelStore(container) {
        this.container = container;
    }
    Object.defineProperty(ChannelStore.prototype, "spread", {
        get: function () {
            return this.container.getProperty('spread') || 0;
        },
        set: function (value) {
            this.container.setProperty('spread', value);
        },
        enumerable: true,
        configurable: true
    });
    return ChannelStore;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],88:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing triangle.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var index_5 = require("../utils/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TriangleFigureComponent = (function (_super) {
    __extends(TriangleFigureComponent, _super);
    function TriangleFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Triangle', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.settings = new TriangleSettings();
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(TriangleFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TriangleFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TriangleFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    TriangleFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c)
            ? (index_5.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5)
                || index_5.DrawUtils.IS_POINT_ON_LINE(p, c, a, 5))
            : false;
    };
    TriangleFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    TriangleFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    TriangleFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.settings.color);
            canvas.lineWidth = this.settings.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            if (c) {
                canvas.lineTo(c.x, c.y);
                canvas.lineTo(a.x, a.y);
            }
            //canvas.closePath();
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TriangleFigureComponent.prototype.getEditState = function () {
        return EditTriangleState.instance;
    };
    TriangleFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.settings.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.settings.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    TriangleFigureComponent.prototype.setSettings = function (value) {
        this.settings.color = value.getValueOrDefault('line.color', this.settings.color);
        this.settings.width = value.getValueOrDefault('line.width', this.settings.width);
        // rerender
        //this.context.render();
    };
    return TriangleFigureComponent;
}(index_1.FigureComponent));
exports.TriangleFigureComponent = TriangleFigureComponent;
var TriangleSettings = (function () {
    function TriangleSettings() {
        this.color = '#FF0000';
        this.width = 1;
    }
    return TriangleSettings;
}());
exports.TriangleSettings = TriangleSettings;
var DrawTriangleState = (function (_super) {
    __extends(DrawTriangleState, _super);
    function DrawTriangleState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawTriangleState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawTriangleState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawTriangleState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTriangleState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.triangle);
            this.figure.pointA = { uid: coordX, v: coordY };
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2) {
            if (this.figure) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawTriangleState.prototype.setLastPoint = function (mouse) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawTriangleState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTriangleState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTriangleState = DrawTriangleState;
var EditTriangleState = (function () {
    function EditTriangleState() {
        this.last = new index_4.Point();
    }
    Object.defineProperty(EditTriangleState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTriangleState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTriangleState.prototype.onMouseWheel = function (board, mouse) { };
    EditTriangleState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.line.shift(mouse.pos.x - this.last.x, mouse.pos.y - this.last.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.last.x = _b[0], this.last.y = _b[1];
            console.debug('Edit state: line or chartStack is not found.');
        }
        var _a, _b;
    };
    EditTriangleState.prototype.onMouseEnter = function (board, mouse) { };
    EditTriangleState.prototype.onMouseLeave = function (board, mouse) { };
    EditTriangleState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditTriangleState.prototype.onMouseDown = function (board, mouse) { };
    EditTriangleState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.last.x = _a[0], this.last.y = _a[1];
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
        var _a;
    };
    EditTriangleState.prototype.deactivate = function (board, mouse) { };
    EditTriangleState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditTriangleState;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166,"../utils/index":175,"./FigureStateBase":90,"./PointFigureComponent":91}],89:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing vertical lines.
 */
var index_1 = require("../component/index");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var VerticalLineFigureComponent = (function (_super) {
    __extends(VerticalLineFigureComponent, _super);
    function VerticalLineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Vertical Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('p'));
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(VerticalLineFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (value) {
            this.p.point = value;
        },
        enumerable: true,
        configurable: true
    });
    VerticalLineFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        var pointx = this.taxis.toX(this.p.point.uid);
        return pointx ? (p.x >= pointx - 3 && p.x <= pointx + 3) : false;
    };
    VerticalLineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var x = this.taxis.toX(this.p.point.uid);
            if (x !== undefined) {
                var canvas = this.area.frontCanvas;
                if (this.isHovered) {
                    canvas.setStrokeStyle('#FF0000');
                }
                else {
                    canvas.setStrokeStyle('#FF0000');
                }
                canvas.lineWidth = 2;
                canvas.beginPath();
                canvas.moveTo(x, 0);
                canvas.lineTo(x, this.size.height);
                canvas.stroke();
                canvas.closePath();
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    VerticalLineFigureComponent.prototype.getEditState = function () {
        return EditVerticalLineState.instance;
    };
    return VerticalLineFigureComponent;
}(index_1.FigureComponent));
exports.VerticalLineFigureComponent = VerticalLineFigureComponent;
var DrawVerticalLineState = (function (_super) {
    __extends(DrawVerticalLineState, _super);
    function DrawVerticalLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    Object.defineProperty(DrawVerticalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new DrawVerticalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    DrawVerticalLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawVerticalLineState.prototype.addPoint = function (mouse) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            this.figure = this.stack.addFigure(index_1.FigureType.vline);
            var coordX = this.stack.xToValue(mouse.pos.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(mouse.pos.y - this.board.offset.y - this.stack.offset.y);
            this.figure.point = { uid: coordX, v: coordY };
            this.exit();
        }
        this.count += 1;
    };
    DrawVerticalLineState.prototype.setLastPoint = function (mouse) { };
    DrawVerticalLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawVerticalLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawVerticalLineState = DrawVerticalLineState;
var EditVerticalLineState = (function () {
    function EditVerticalLineState() {
    }
    Object.defineProperty(EditVerticalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditVerticalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditVerticalLineState.prototype.onMouseMove = function (board, mouse) {
        if (this.line && this.chartStack) {
            var coordX = this.chartStack.xToValue(mouse.pos.x - board.offset.x - this.chartStack.offset.x);
            this.line.point = { uid: coordX, v: this.line.point.v };
        }
        else {
            console.debug('Edit state: line or chartStack is not found.');
        }
    };
    EditVerticalLineState.prototype.onMouseEnter = function (board, mouse) { };
    EditVerticalLineState.prototype.onMouseLeave = function (board, mouse) { };
    EditVerticalLineState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditVerticalLineState.prototype.onMouseDown = function (board, mouse) { };
    EditVerticalLineState.prototype.onMouseWheel = function (board, mouse) { };
    EditVerticalLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.line = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditVerticalLineState.prototype.deactivate = function (board, mouse) { };
    EditVerticalLineState.prototype.exit = function (board, mouse) {
        this.line = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditVerticalLineState;
}());
},{"../component/index":38,"./FigureStateBase":90,"./PointFigureComponent":91}],90:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FigureStateBase = (function () {
    function FigureStateBase() {
        this.state = 0; // current state
    }
    FigureStateBase.prototype.onMouseDown = function (board, mouse, stack) {
        if (!stack) {
            throw new Error('Stack is not specified');
        }
        if (!this.stack) {
            //this.setChartStack(stack);
            this.stack = stack;
        }
        if (this.state === 0) {
            // add first point and fix it
            this.addPoint(mouse);
            this.fixPoint(mouse);
            this.state = 1;
        }
        else if (this.state === 1) {
            // ignore
        }
        else if (this.state === 2) {
            // fix last point = finish line
            this.fixPoint(mouse);
            this.state = 1;
        }
    };
    FigureStateBase.prototype.onMouseMove = function (board, mouse) {
        if (this.state === 0) {
            // hovering
        }
        else if (this.state === 1) {
            // fix last point
            this.fixPoint(mouse);
            // add new point = start drawing line
            this.addPoint(mouse);
            this.state = 2;
        }
        else if (this.state === 2) {
            // change last point
            this.setLastPoint(mouse);
        }
    };
    FigureStateBase.prototype.onMouseUp = function (board, mouse) {
        if (this.state === 0) {
            // ignore
        }
        else if (this.state === 1) {
            // point is selected
            // fix last point
            this.fixPoint(mouse);
        }
        else if (this.state === 2) {
            // line is drawn. Add new point and go
            // fix last point
            this.fixPoint(mouse);
            // add new point = start drawing line
            this.state = 1; // start another line
        }
    };
    FigureStateBase.prototype.onMouseWheel = function (board, mouse) { };
    FigureStateBase.prototype.onMouseEnter = function (board, mouse) { };
    FigureStateBase.prototype.onMouseLeave = function (board, mouse) { };
    FigureStateBase.prototype.activate = function (board, mouse, stack, parameters) {
        this.state = 0;
        //this.stackIsSet = false;
        this.stack = undefined;
    };
    FigureStateBase.prototype.deactivate = function () { };
    FigureStateBase.prototype.fixPoint = function (mouse) { };
    ;
    return FigureStateBase;
}());
exports.FigureStateBase = FigureStateBase;
},{}],91:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * PointFigureComponent class
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var PointChangedEvent = (function (_super) {
    __extends(PointChangedEvent, _super);
    function PointChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return PointChangedEvent;
}(index_4.Event));
exports.PointChangedEvent = PointChangedEvent;
var PointChangedArgument = (function () {
    function PointChangedArgument(p) {
        this.p = p;
    }
    Object.defineProperty(PointChangedArgument.prototype, "point", {
        get: function () {
            return this.p;
        },
        enumerable: true,
        configurable: true
    });
    return PointChangedArgument;
}());
exports.PointChangedArgument = PointChangedArgument;
var PointFigureComponent = (function (_super) {
    __extends(PointFigureComponent, _super);
    function PointFigureComponent(area, offset, size, settings, taxis, yaxis, container, pixelMode) {
        if (pixelMode === void 0) { pixelMode = false; }
        var _this = _super.call(this, 'Point', offset, size, container || new index_2.StoreContainer()) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.container = container;
        _this.changedEvent = new PointChangedEvent();
        _this.getUid = function (ctx, size) {
            return _this.pixelMode ? _this.taxis.toValue(_this.pixel.x) : _this.point.uid;
        };
        _this.getValue = function (ctx, size) {
            return _this.pixelMode ? _this.yaxis.toValue(_this.pixel.y) : _this.point.v;
        };
        _this.store = new PointStore(container || new index_2.StoreContainer());
        _this.store.pixelMode = pixelMode;
        _this.valueMarker = new index_1.NumberMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValue);
        _this.addChild(_this.valueMarker);
        _this.timeMarker = new index_1.TimeMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, _this.getUid);
        _this.addChild(_this.timeMarker);
        return _this;
    }
    Object.defineProperty(PointFigureComponent.prototype, "point", {
        get: function () {
            return this.store.point;
        },
        set: function (value) {
            this.store.point.uid = value.uid;
            this.store.point.v = value.v;
            this.store.setChanged();
            this.changedEvent.trigger();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "pixel", {
        get: function () {
            return this.store.pixel;
        },
        set: function (value) {
            this.store.pixel.x = value.x;
            this.store.pixel.y = value.y;
            this.changedEvent.trigger();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "pixelMode", {
        get: function () {
            return this.store.pixelMode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "changed", {
        get: function () {
            return this.changedEvent;
        },
        enumerable: true,
        configurable: true
    });
    PointFigureComponent.prototype.isHit = function (p) {
        if (!this.visible) {
            return false;
        }
        if (this.pixelMode) {
            var diff = Math.sqrt((this.pixel.x - p.x) * (this.pixel.x - p.x) + (this.pixel.y - p.y) * (this.pixel.y - p.y));
            return diff < 5;
        }
        else if (this.point.uid && this.point.v) {
            var px = this.taxis.toX(this.point.uid);
            var py = this.yaxis.toX(this.point.v);
            if (px) {
                var diff = Math.sqrt((px - p.x) * (px - p.x) + (py - p.y) * (py - p.y));
                return diff < 5;
            }
        }
        return false;
    };
    PointFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.timeMarker.visible = selected;
        this.valueMarker.visible = selected;
    };
    PointFigureComponent.prototype.getXY = function () {
        if (this.pixelMode) {
            return this.pixel;
        }
        if (this.point.uid && this.point.v) {
            var x = this.taxis.toX(this.point.uid);
            var y = this.yaxis.toX(this.point.v);
            if (x !== undefined) {
                return { x: x, y: y };
            }
        }
    };
    PointFigureComponent.prototype.shift = function (dx, dy) {
        if (this.pixelMode) {
            this.pixel = { x: this.pixel.x + dx, y: this.pixel.y + dy };
        }
        else if (this.point.uid && this.point.v) {
            var origPoint = new index_2.ChartPoint(this.point.uid, this.point.v);
            var px = this.taxis.toX(this.point.uid);
            var py = this.yaxis.toX(this.point.v);
            if (px) {
                this.point = { uid: this.taxis.toValue(px + dx), v: this.yaxis.toValue(py + dy) };
            }
            return !this.store.point.equals(origPoint);
        }
        return false;
    };
    PointFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var coord;
        if (this.pixelMode) {
            coord = this.pixel;
        }
        else if (this.point.uid && this.point.v) {
            coord = this.getXY();
        }
        if (coord) {
            var canvas = this.area.frontCanvas;
            canvas.lineWidth = 2;
            canvas.beginPath();
            if (this.isHovered || this.isSelected) {
                canvas.arc(coord.x, coord.y, 5, 0, 2 * Math.PI, false);
                canvas.setFillStyle('#FFFFFF');
                canvas.setStrokeStyle('#606060');
                canvas.fill();
            }
            else {
                canvas.setStrokeStyle('#C9001D');
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    PointFigureComponent.prototype.getCreateState = function () {
        throw new Error('Operation is not supported');
    };
    PointFigureComponent.prototype.getEditState = function () {
        return EditPointState.instance;
    };
    return PointFigureComponent;
}(index_1.FigureComponent));
exports.PointFigureComponent = PointFigureComponent;
var EditPointState = (function () {
    function EditPointState() {
    }
    Object.defineProperty(EditPointState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPointState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPointState.prototype.onMouseMove = function (board, mouse) {
        if (this.point && this.chartStack) {
            var relX = mouse.pos.x - board.offset.x - this.chartStack.offset.x;
            var relY = mouse.pos.y - board.offset.y - this.chartStack.offset.y;
            if (this.point.pixelMode) {
                this.point.pixel = { x: relX, y: relY };
            }
            else {
                var coordX = this.chartStack.xToValue(relX);
                var coordY = this.chartStack.yToValue(relY);
                this.point.point = { uid: coordX, v: coordY };
            }
        }
        else {
            console.debug('Edit state: line or chartStack is not found.');
        }
    };
    EditPointState.prototype.onMouseEnter = function (board, mouse) { };
    EditPointState.prototype.onMouseLeave = function (board, mouse) { };
    EditPointState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board, mouse);
    };
    EditPointState.prototype.onMouseDown = function (board, mouse) { };
    EditPointState.prototype.onMouseWheel = function (board, mouse) { };
    EditPointState.prototype.activate = function (board, mouse, stack, activationParameters) {
        this.chartStack = stack;
        if (activationParameters && activationParameters['component']) {
            this.point = activationParameters['component'];
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditPointState.prototype.deactivate = function (board, mouse) { };
    EditPointState.prototype.exit = function (board, mouse) {
        this.point = undefined;
        this.chartStack = undefined;
        board.changeState('hover');
    };
    return EditPointState;
}());
var PointStore = (function () {
    function PointStore(container) {
        this.container = container;
        // ensure values are initialized
        var dto = container.getObjectProperty('point');
        var uid = dto.getObjectProperty('uid');
        var modelUid = new index_3.Uid(uid.getProperty('t'), uid.getProperty('n'));
        var model = dto ? new index_2.ChartPoint(modelUid, dto.getProperty('v')) : new index_2.ChartPoint();
        container.setProperty('point', model);
        container.setProperty('pixel', new index_4.Point());
    }
    Object.defineProperty(PointStore.prototype, "point", {
        get: function () {
            return this.container.getProperty('point');
        },
        set: function (value) {
            this.container.setProperty('point', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointStore.prototype, "pixel", {
        get: function () {
            return this.container.getProperty('pixel');
        },
        set: function (value) {
            this.container.setProperty('pixel', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointStore.prototype, "pixelMode", {
        get: function () {
            return this.container.getProperty('pixelmode');
        },
        set: function (value) {
            this.container.setProperty('pixelmode', value);
        },
        enumerable: true,
        configurable: true
    });
    PointStore.prototype.setChanged = function () {
        this.container.setChanged();
    };
    return PointStore;
}());
},{"../component/index":38,"../core/index":53,"../model/index":142,"../shared/index":166}],92:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DrawCurveState_1 = require("./DrawCurveState");
exports.CurveFigureComponent = DrawCurveState_1.CurveFigureComponent;
exports.DrawCurveState = DrawCurveState_1.DrawCurveState;
var DrawDateRangeState_1 = require("./DrawDateRangeState");
exports.DateRangeFigureComponent = DrawDateRangeState_1.DateRangeFigureComponent;
exports.DrawDateRangeState = DrawDateRangeState_1.DrawDateRangeState;
var DrawEllipseState_1 = require("./DrawEllipseState");
exports.DrawEllipseState = DrawEllipseState_1.DrawEllipseState;
exports.EllipseFigureComponent = DrawEllipseState_1.EllipseFigureComponent;
var DrawFiboFanState_1 = require("./DrawFiboFanState");
exports.DrawFiboFanState = DrawFiboFanState_1.DrawFiboFanState;
exports.FiboFanFigureComponent = DrawFiboFanState_1.FiboFanFigureComponent;
var DrawFiboLevelState_1 = require("./DrawFiboLevelState");
exports.DrawFiboLevelState = DrawFiboLevelState_1.DrawFiboLevelState;
exports.FiboLevelFigureComponent = DrawFiboLevelState_1.FiboLevelFigureComponent;
var DrawFiboProjectionState_1 = require("./DrawFiboProjectionState");
exports.DrawFiboProjectionState = DrawFiboProjectionState_1.DrawFiboProjectionState;
exports.FiboProjectionFigureComponent = DrawFiboProjectionState_1.FiboProjectionFigureComponent;
var DrawFiboTimeProjectionState_1 = require("./DrawFiboTimeProjectionState");
exports.DrawFiboTimeProjectionState = DrawFiboTimeProjectionState_1.DrawFiboTimeProjectionState;
exports.FiboTimeProjectionFigureComponent = DrawFiboTimeProjectionState_1.FiboTimeProjectionFigureComponent;
var DrawGannFanState_1 = require("./DrawGannFanState");
exports.DrawGannFanState = DrawGannFanState_1.DrawGannFanState;
exports.GannFanFigureComponent = DrawGannFanState_1.GannFanFigureComponent;
var DrawHorizontalLineState_1 = require("./DrawHorizontalLineState");
exports.DrawHorizontalLineState = DrawHorizontalLineState_1.DrawHorizontalLineState;
exports.HorizontalLineFigureComponent = DrawHorizontalLineState_1.HorizontalLineFigureComponent;
var DrawLineState_1 = require("./DrawLineState");
exports.DrawLineState = DrawLineState_1.DrawLineState;
exports.LineFigureComponent = DrawLineState_1.LineFigureComponent;
var DrawOhlcProjState_1 = require("./DrawOhlcProjState");
exports.DrawOhlcProjState = DrawOhlcProjState_1.DrawOhlcProjState;
exports.OhlcProjFigureComponent = DrawOhlcProjState_1.OhlcProjFigureComponent;
var DrawPathState_1 = require("./DrawPathState");
exports.DrawPathState = DrawPathState_1.DrawPathState;
exports.PathFigureComponent = DrawPathState_1.PathFigureComponent;
var DrawPitchforkState_1 = require("./DrawPitchforkState");
exports.DrawPitchforkState = DrawPitchforkState_1.DrawPitchforkState;
exports.PitchforkFigureComponent = DrawPitchforkState_1.PitchforkFigureComponent;
var DrawRectState_1 = require("./DrawRectState");
exports.DrawRectState = DrawRectState_1.DrawRectState;
exports.RectFigureComponent = DrawRectState_1.RectFigureComponent;
var DrawTextState_1 = require("./DrawTextState");
exports.DrawTextState = DrawTextState_1.DrawTextState;
exports.TextFigureComponent = DrawTextState_1.TextFigureComponent;
var DrawTrendChannelState_1 = require("./DrawTrendChannelState");
exports.DrawTrendChannelState = DrawTrendChannelState_1.DrawTrendChannelState;
exports.TrendChannelFigureComponent = DrawTrendChannelState_1.TrendChannelFigureComponent;
var DrawTriangleState_1 = require("./DrawTriangleState");
exports.DrawTriangleState = DrawTriangleState_1.DrawTriangleState;
exports.TriangleFigureComponent = DrawTriangleState_1.TriangleFigureComponent;
var DrawVerticalLineState_1 = require("./DrawVerticalLineState");
exports.DrawVerticalLineState = DrawVerticalLineState_1.DrawVerticalLineState;
exports.VerticalLineFigureComponent = DrawVerticalLineState_1.VerticalLineFigureComponent;
var PointFigureComponent_1 = require("./PointFigureComponent");
exports.PointFigureComponent = PointFigureComponent_1.PointFigureComponent;
},{"./DrawCurveState":72,"./DrawDateRangeState":73,"./DrawEllipseState":74,"./DrawFiboFanState":75,"./DrawFiboLevelState":76,"./DrawFiboProjectionState":77,"./DrawFiboTimeProjectionState":78,"./DrawGannFanState":79,"./DrawHorizontalLineState":80,"./DrawLineState":81,"./DrawOhlcProjState":82,"./DrawPathState":83,"./DrawPitchforkState":84,"./DrawRectState":85,"./DrawTextState":86,"./DrawTrendChannelState":87,"./DrawTriangleState":88,"./DrawVerticalLineState":89,"./PointFigureComponent":91}],93:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var DMIIndicator_1 = require("./DMIIndicator");
var MovingAverage_1 = require("./MovingAverage");
// export class ADXCandlestick extends CandlestickExt {
//     /** 
//      * Smoothed TR
//      */
//     public TRA: number | undefined;
//     /**
//      * Smoothed +DM
//      */
//     public pDMA: number | undefined;
//     /**
//      * Smoothed -DM
//      */
//     public mDMA: number | undefined;
//     public DX: number | undefined;
// }
var ADXCandlestick = (function (_super) {
    __extends(ADXCandlestick, _super);
    function ADXCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ADXCandlestick.prototype.toString = function (precision) {
        return 'ADX: '
            + ("" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'));
    };
    return ADXCandlestick;
}(DMIIndicator_1.DMICandlestick));
exports.ADXCandlestick = ADXCandlestick;
var ADXIndicator = (function (_super) {
    __extends(ADXIndicator, _super);
    function ADXIndicator(source, context) {
        var _this = _super.call(this, source, context) || this;
        _this.name = 'ADX';
        _this.adxma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // ADX requires TR, +DM, -DM
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        _this.source.addExtension(index_1.UpDirectionalMovementExtension.uname, new index_1.UpDirectionalMovementExtension());
        _this.source.addExtension(index_1.DownDirectionalMovementExtension.uname, new index_1.DownDirectionalMovementExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    ADXIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var lastComputed = computedArray.lastOrDefault();
        var computedDMI = _super.prototype.computeOne.call(this, sourceItems, computedArray, accessor);
        // Copy values from computed DMI
        var computed = new ADXCandlestick(computedDMI.date);
        computed.uidOrig.t = computedDMI.uid.t;
        computed.uidOrig.n = computedDMI.uid.n;
        computed.TRA = computedDMI.TRA;
        computed.pDMA = computedDMI.pDMA;
        computed.mDMA = computedDMI.mDMA;
        computed.DX = computedDMI.c;
        // Compute ADX
        var lastComputedADX = lastComputed !== undefined ? lastComputed.c : undefined;
        computed.c = this.adxma.compute(N, computedArray, function (item) { return item.DX; }, computed, lastComputedADX);
        computed.h = computed.c;
        computed.l = computed.c;
        return computed;
    };
    ADXIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    ADXIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return ADXIndicator;
}(DMIIndicator_1.DMIIndicator));
exports.ADXIndicator = ADXIndicator;
},{"../compute/index":40,"../core/index":53,"./DMIIndicator":103,"./MovingAverage":112}],94:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// ATR = (ATR prev x (n - 1) + TR) / n
var ATRIndicator = (function (_super) {
    __extends(ATRIndicator, _super);
    function ATRIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'ATR';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // ADX requires TR
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    ATRIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // const value = this.accessor(source);
        // if (value !== undefined) {
        var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
        computed.c = this.ma.compute(N, sourceItems, function (c) { return c.ext['tr']; }, undefined, lastComputedValue);
        computed.h = computed.c;
        computed.l = computed.c;
        //}
        return computed;
    };
    ATRIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    ATRIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return ATRIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.ATRIndicator = ATRIndicator;
},{"../compute/index":40,"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],95:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../render/index");
var index_5 = require("../shared/index");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
var TripleCandlestick = (function (_super) {
    __extends(TripleCandlestick, _super);
    function TripleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.jaw = new index_3.Candlestick(date);
        _this.teeth = new index_3.Candlestick(date);
        _this.lips = new index_3.Candlestick(date);
        return _this;
    }
    TripleCandlestick.prototype.toString = function (precision) {
        return "" + (this.jaw && this.jaw.c !== undefined ? this.jaw.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.teeth && this.teeth.c !== undefined ? this.teeth.c.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.lips && this.lips.c !== undefined ? this.lips.c.toFixed(precision) : 'n/a'));
    };
    return TripleCandlestick;
}(index_3.Candlestick));
exports.TripleCandlestick = TripleCandlestick;
var AlligatorIndicator = (function (_super) {
    __extends(AlligatorIndicator, _super);
    function AlligatorIndicator(source, context) {
        var _this = _super.call(this, TripleCandlestick, source, context) || this;
        _this.name = 'alligator';
        return _this;
    }
    AlligatorIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the unde (update data from current place to end)
        // Generate future time when shift indicator values
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(ValueAccessor_1.ValueAccessorType.close);
        var N = 13;
        var fsarray = new index_5.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source values
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            fsarray.pushRange(prev);
        }
        var prevJaw;
        var prevTeeth;
        var prevLips;
        // Get latest moving average from storage. As result will be shifted the last MA we are taking is also shifted.
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                if (iter.moveTimes(3) === 3) {
                    prevLips = iter.current.lips.c;
                    if (iter.moveTimes(2) === 2) {
                        prevTeeth = iter.current.teeth.c;
                        if (iter.moveTimes(3) === 3) {
                            prevJaw = iter.current.jaw.c;
                        }
                    }
                }
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // generate jaw: array[]
        // generate teeth: array[]
        // generate lips: array[]
        // 
        var jaw = [];
        var teeth = [];
        var lips = [];
        var ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            fsarray.push(source);
            var j = new index_3.Candlestick(source.date);
            j.uid.t = source.uid.t;
            j.uid.n = source.uid.n;
            var t = new index_3.Candlestick(source.date);
            t.uid.t = source.uid.t;
            t.uid.n = source.uid.n;
            var l = new index_3.Candlestick(source.date);
            l.uid.t = source.uid.t;
            l.uid.n = source.uid.n;
            if (source.c !== undefined) {
                j.c = ma.compute(13, fsarray, accessor, undefined, prevJaw);
                prevJaw = j.c;
                t.c = ma.compute(8, fsarray, accessor, undefined, prevTeeth);
                prevTeeth = t.c;
                l.c = ma.compute(5, fsarray, accessor, undefined, prevLips);
                prevLips = l.c;
                j.h = j.c;
                j.l = j.c;
                t.h = t.c;
                t.l = t.c;
                l.h = l.c;
                l.l = l.c;
            }
            jaw.push(j);
            teeth.push(t);
            lips.push(l);
        } while (iterator.moveNext());
        // Shift all / Shift UID AND TIME. Merging will be done with UID, so UID should stay on the same place.
        // ... Add X bars in the future
        // ... copy data to right
        // ... 
        // jaw shift by 8 bars  
        // teeth shift by 5 bars
        // lips shift by 3 bars
        // Make fake candles on the right side.
        var lastDate = jaw[jaw.length - 1].date;
        for (var i = 0; i < 8; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid.t = lastDate.getTime().toString();
            jaw.push(fake);
        }
        lastDate = teeth[teeth.length - 1].date;
        for (var i = 0; i < 5; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid = lastDate.getTime().toString();
            teeth.push(fake);
        }
        lastDate = lips[lips.length - 1].date;
        for (var i = 0; i < 3; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid = lastDate.getTime().toString();
            lips.push(fake);
        }
        // Shift values
        this.shift(jaw, 8);
        this.shift(teeth, 5);
        this.shift(lips, 3);
        // Remove first items as they are empty
        jaw.splice(0, 8);
        teeth.splice(0, 5);
        lips.splice(0, 3);
        // merge all 3 to one. Custom merge one by one, not all 3 together. Because of their different relative shift.
        this.mergeLine(jaw, 0);
        this.mergeLine(teeth, 1);
        this.mergeLine(lips, 2);
        // Merge new data and notify subscribers
        return new index_2.DataChangedArgument(firstUid, lastUid, jaw.length);
    };
    AlligatorIndicator.prototype.mergeLine = function (array, line) {
        // Prepare TripleCandlestick array
        var triple = [];
        for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {
            var item = array_1[_i];
            var t = new TripleCandlestick(item.date);
            switch (line) {
                case 0:
                    t.jaw = item;
                    break;
                case 1:
                    t.teeth = item;
                    break;
                case 2:
                    t.lips = item;
                    break;
                default: throw new Error('unexpected type');
            }
            t.uid.t = item.uid.t;
            t.uid.n = item.uid.n;
            //t.c = item.c;
            t.h = item.h;
            t.l = item.l;
            triple.push(t);
        }
        // Merge each part separately
        this.dataStorage.merge(triple, function (target, update) {
            switch (line) {
                case 0:
                    target.jaw = update.jaw;
                    break;
                case 1:
                    target.teeth = update.teeth;
                    break;
                case 2:
                    target.lips = update.lips;
                    break;
                default: throw new Error('unexpected type');
            }
            if ((target.h !== undefined && update.h !== undefined && target.h < update.h)
                || (target.h === undefined && update.h !== undefined)) {
                target.h = update.h;
            }
            if ((target.l !== undefined && update.l !== undefined && target.l > update.l)
                || (target.l === undefined && update.l !== undefined)) {
                target.l = update.l;
            }
            return target;
        });
    };
    AlligatorIndicator.prototype.shift = function (array, n) {
        for (var i = array.length - 1; i >= n; i -= 1) {
            array[i].c = array[i - n].c;
            array[i].o = array[i - n].o;
            array[i].h = array[i - n].h;
            array[i].l = array[i - n].l;
        }
    };
    return AlligatorIndicator;
}(index_2.IndicatorDataSource));
exports.AlligatorIndicator = AlligatorIndicator;
var AlligatorIndicatorRenderer = (function () {
    //private static inst?: AlligatorIndicatorRenderer;
    function AlligatorIndicatorRenderer() {
    }
    // public static get instance(): AlligatorIndicatorRenderer {
    //     if (!this.inst) {
    //         this.inst = new AlligatorIndicatorRenderer();
    //     }
    //     return this.inst;
    // }
    AlligatorIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        // Jaw
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.jaw && triple.jaw.c !== undefined) {
                    var value = triple.jaw.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        // Teeth
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.teeth && triple.teeth.c !== undefined) {
                    var value = triple.teeth.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        // Lips
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.lips && triple.lips.c !== undefined) {
                    var value = triple.lips.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    AlligatorIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    AlligatorIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    AlligatorIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return AlligatorIndicatorRenderer;
}());
exports.AlligatorIndicatorRenderer = AlligatorIndicatorRenderer;
},{"../core/index":53,"../data/index":71,"../model/index":142,"../render/index":162,"../shared/index":166,"./MovingAverage":112,"./ValueAccessor":132}],96:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.up = new index_2.Candlestick(date);
        _this.down = new index_2.Candlestick(date);
        return _this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.up && this.up.c !== undefined ? this.up.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.down && this.down.c !== undefined ? this.down.c.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var AroonIndicator = (function (_super) {
    __extends(AroonIndicator, _super);
    function AroonIndicator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'ARO';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    AroonIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        return computeAroon(sourceItems, this.settings.period);
    };
    AroonIndicator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    AroonIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('upperthreshold', new index_1.SettingSet({
            name: 'upperthreshold',
            value: this.settings.upperThreshold.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Upper threshold'
        }));
        group.setSetting('lowerthreshold', new index_1.SettingSet({
            name: 'lowerthreshold',
            value: this.settings.lowerThreshold.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Lower threshold'
        }));
        return group;
    };
    AroonIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var upperthreshold = value.getSetting('datasource.upperthreshold');
        this.settings.upperThreshold =
            (upperthreshold && upperthreshold.value) ? parseInt(upperthreshold.value, 10) : this.settings.upperThreshold;
        var lowerthreshold = value.getSetting('datasource.lowerthreshold');
        this.settings.lowerThreshold =
            (lowerthreshold && lowerthreshold.value) ? parseInt(lowerthreshold.value, 10) : this.settings.lowerThreshold;
        // recompute
        this.compute();
    };
    return AroonIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.AroonIndicator = AroonIndicator;
var AroonOscillator = (function (_super) {
    __extends(AroonOscillator, _super);
    function AroonOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'AOS';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    AroonOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        return computeAroon(sourceItems, this.settings.period);
    };
    AroonOscillator.prototype.getValuesRange = function (range) {
        return { start: -100, end: 100 };
    };
    AroonOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    AroonOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return AroonOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.AroonOscillator = AroonOscillator;
var AroonIndicatorRenderer = (function (_super) {
    __extends(AroonIndicatorRenderer, _super);
    function AroonIndicatorRenderer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AroonIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var zonevisible = this.settings.zone.visible;
        var fill = this.settings.zone.fill;
        var fillcolor = this.settings.zone.fillcolor;
        var showthreshold = this.settings.zone.showthreshold;
        var upthreshold = this.settings.zone.upthreshold;
        var lowthreshold = this.settings.zone.lowthreshold;
        var upper = yAxis.toX(upthreshold);
        var lower = yAxis.toX(lowthreshold);
        // Fill area b/w top and bottom zone lines
        if (zonevisible && fill) {
            canvas.setFillStyle(fillcolor);
            canvas.fillRect(frame.x, Math.min(upper, lower), frame.x + frame.w, Math.abs(upper - lower));
        }
        // Draw zone lines
        if (zonevisible && showthreshold) {
            canvas.beginPath();
            canvas.setStrokeStyle(this.settings.zone.tlinecolor);
            canvas.setLineDash(index_3.RenderUtils.PATTERN2SEG(this.settings.zone.tlinepattern));
            canvas.lineWidth = this.settings.zone.tlinewidth;
            canvas.moveTo(frame.x, upper);
            canvas.lineTo(frame.x + frame.w, upper);
            canvas.stroke();
            canvas.beginPath();
            canvas.setStrokeStyle(this.settings.zone.blinecolor);
            canvas.setLineDash(index_3.RenderUtils.PATTERN2SEG(this.settings.zone.blinepattern));
            canvas.lineWidth = this.settings.zone.blinewidth;
            canvas.moveTo(frame.x, lower);
            canvas.lineTo(frame.x + frame.w, lower);
            canvas.stroke();
        }
        canvas.beginPath();
        canvas.setStrokeStyle('#FF5900');
        canvas.setLineDash([]);
        canvas.lineWidth = 1;
        // Up
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.up && d.up.c !== undefined) {
                    var value = d.up.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#3D5AFF');
        // Down
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.down && d.down.c !== undefined) {
                    var value = d.down.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    AroonIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    AroonIndicatorRenderer.prototype.getSettings = function () {
        var zone = _super.prototype.getZonesSettings.call(this);
        var visual = new index_1.SettingSet('visual');
        visual.setSetting('zones', zone);
        return visual;
    };
    AroonIndicatorRenderer.prototype.setSettings = function (settings) {
        var zone = settings.getSetting('visual.zones');
        if (zone) {
            _super.prototype.setZonesSettings.call(this, zone);
        }
    };
    return AroonIndicatorRenderer;
}(index_3.ChartRenderer));
exports.AroonIndicatorRenderer = AroonIndicatorRenderer;
function computeAroon(sourceItems, period) {
    var N = period;
    var source = sourceItems.last();
    var computed = new DoubleCandlestick(source.date);
    computed.uidOrig.t = source.uid.t;
    computed.uidOrig.n = source.uid.n;
    var indexOfHighest = sourceItems.maxIndex(function (item) { return item.h; });
    var indexOfLowest = sourceItems.minIndex(function (item) { return item.l; });
    if (indexOfHighest >= 0) {
        var daySince = sourceItems.length - (indexOfHighest + 1);
        var indicator = 100 * (N - daySince) / N;
        computed.up.c = indicator;
        computed.up.h = indicator;
        computed.up.l = indicator;
    }
    if (indexOfLowest >= 0) {
        var daySince = sourceItems.length - (indexOfLowest + 1);
        var indicator = 100 * (N - daySince) / N;
        computed.down.c = indicator;
        computed.down.h = indicator;
        computed.down.l = indicator;
    }
    // Aroon oscillator = Aroon-Up - Aroon-Down
    if (computed.up.c !== undefined && computed.down.c !== undefined) {
        computed.c = computed.up.c - computed.down.c;
        computed.h = computed.c;
        computed.l = computed.c;
    }
    return computed;
}
},{"../core/index":53,"../model/index":142,"../render/index":162,"./CandlestickExt":100,"./SimpleIndicator":125}],97:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../render/index");
var index_5 = require("../shared/index");
var MovingAverage_1 = require("./MovingAverage");
var Utils_1 = require("./Utils");
var ValueAccessor_1 = require("./ValueAccessor");
var TripleCandlestick = (function (_super) {
    __extends(TripleCandlestick, _super);
    function TripleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.top = new index_3.Candlestick(date);
        _this.middle = new index_3.Candlestick(date);
        _this.bottom = new index_3.Candlestick(date);
        return _this;
    }
    TripleCandlestick.prototype.toString = function (precision) {
        return "" + (this.top && this.top.c !== undefined ? this.top.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.middle && this.middle.c !== undefined ? this.middle.c.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.bottom && this.bottom.c !== undefined ? this.bottom.c.toFixed(precision) : 'n/a'));
    };
    return TripleCandlestick;
}(index_3.Candlestick));
exports.TripleCandlestick = TripleCandlestick;
var BollingerIndicator = (function (_super) {
    __extends(BollingerIndicator, _super);
    function BollingerIndicator(source, context) {
        var _this = _super.call(this, TripleCandlestick, source, context) || this;
        _this.name = 'bollinger';
        return _this;
    }
    BollingerIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(ValueAccessor_1.ValueAccessorType.close);
        var N = 20;
        var K = 2;
        var fsarray = new index_5.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source values
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            fsarray.pushRange(prev);
        }
        // Get latest moving average from storage
        var prevMA;
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; }) && iter.movePrev()) {
                prevMA = iter.current.middle.c;
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var computedArray = [];
        var ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            var value = accessor(source);
            var computed = new TripleCandlestick(source.date);
            computed.uid.t = source.uid.t;
            computed.uid.n = source.uid.n;
            fsarray.push(source);
            if (value !== undefined) {
                computed.middle.c = ma.compute(N, fsarray, accessor, undefined, prevMA);
                computed.middle.h = computed.middle.c;
                computed.middle.l = computed.middle.c;
                if (computed.middle.c !== undefined) {
                    // After moving avg is computed, current value can be pushed to array, to calculate std deviation.
                    var standardDeviation = Utils_1.Utils.STDDEV(fsarray, accessor, computed.middle.c);
                    if (standardDeviation !== undefined) {
                        computed.top.c = computed.middle.c + K * standardDeviation;
                        computed.top.h = computed.top.c;
                        computed.top.l = computed.middle.c;
                        computed.bottom.c = computed.middle.c - K * standardDeviation;
                        computed.bottom.h = computed.bottom.c;
                        computed.bottom.l = computed.bottom.c;
                        computed.h = Math.max(computed.top.h, computed.bottom.h, computed.middle.h !== undefined ? computed.middle.h : Number.NEGATIVE_INFINITY);
                        computed.l = Math.min(computed.top.l, computed.bottom.l, computed.middle.l || Number.POSITIVE_INFINITY);
                        prevMA = computed.middle.c;
                    }
                }
            }
            computedArray.push(computed);
        } while (iterator.moveNext());
        // Merge
        this.dataStorage.merge(computedArray);
        // Merge new data and notify subscribers
        return new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    return BollingerIndicator;
}(index_2.IndicatorDataSource));
exports.BollingerIndicator = BollingerIndicator;
var BollingerIndicatorRenderer = (function () {
    function BollingerIndicatorRenderer() {
    }
    BollingerIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Collect charts points
        //
        var top = [];
        top.length = timeAxis.count; // preallocate memory
        var i = 0;
        index_4.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof TripleCandlestick) {
                var t = item;
                if (t && t.top && t.top.c !== undefined) {
                    var y = yAxis.toX(t.top.c);
                    top[i] = { x: x, y: y };
                    i += 1;
                }
            }
        });
        var bottom = [];
        bottom.length = timeAxis.count; // preallocate memory
        var j = 0;
        index_4.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof TripleCandlestick) {
                var t = item;
                if (t && t.bottom && t.bottom.c !== undefined) {
                    var y = yAxis.toX(t.bottom.c);
                    bottom[j] = { x: x, y: y };
                    j += 1;
                }
            }
        });
        // Fill area between lines
        canvas.beginPath();
        top.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        for (var k = bottom.length - 1; k >= 0; k -= 1) {
            var p = bottom[k];
            if (p) {
                canvas.lineTo(p.x, p.y);
            }
        }
        canvas.closePath();
        canvas.setFillStyle('rgba(0, 100, 150, 0.3)');
        canvas.fill();
        // Lines
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // Middle
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.middle && triple.middle.c !== undefined) {
                    var value = triple.middle.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Top
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0400FF');
        top.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        canvas.stroke();
        // Bottom
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0400FF');
        bottom.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        canvas.stroke();
    };
    BollingerIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    BollingerIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    BollingerIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return BollingerIndicatorRenderer;
}());
exports.BollingerIndicatorRenderer = BollingerIndicatorRenderer;
},{"../core/index":53,"../data/index":71,"../model/index":142,"../render/index":162,"../shared/index":166,"./MovingAverage":112,"./Utils":130,"./ValueAccessor":132}],98:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var Utils_1 = require("./Utils");
var ValueAccessor_1 = require("./ValueAccessor");
// CCI = (1/0.015) * (Pt - SMA(Pt)) / Deviation(Pt),
//    Pt - typical price
//    Deviation - Mean absolute deviation
var CCICandlestick = (function (_super) {
    __extends(CCICandlestick, _super);
    function CCICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return CCICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.CCICandlestick = CCICandlestick;
var CCIOscillator = (function (_super) {
    __extends(CCIOscillator, _super);
    function CCIOscillator(source, context) {
        var _this = _super.call(this, CCICandlestick, source, context) || this;
        _this.name = 'CCI';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Set default settings
        _this.settings.period = 20;
        _this.settings.valueType = ValueAccessor_1.ValueAccessorType.hlc3;
        return _this;
    }
    CCIOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CCICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Compute SMA
            var lastComputedSMA = lastComputed !== undefined ? lastComputed.SMA : undefined;
            computed.SMA = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedSMA);
            if (computed.SMA !== undefined) {
                // Compute deviation around SMA.
                var mad = Utils_1.Utils.MAD(N, sourceItems, accessor, computed.SMA);
                if (mad !== undefined) {
                    // Compute CCI
                    computed.c = (value - computed.SMA) / (0.015 * mad);
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    CCIOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    CCIOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return CCIOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.CCIOscillator = CCIOscillator;
},{"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./Utils":130,"./ValueAccessor":132}],99:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
// Variance(P) = AVG(P2) - AVG(P) * AVG(P)
// Variance(S) = AVG(S2) - AVG(S) * AVG(S)
// Covariance(P,S) = AVG(P x S) - AVG(P) x AVG(S)
// Correlation(P,S) = Covariance(P,S) / SQRT(Variance(P) x Variance(S))
var CORCandlestick = (function (_super) {
    __extends(CORCandlestick, _super);
    function CORCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CORCandlestick.prototype.toString = function (precision) {
        return "" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a');
    };
    return CORCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.CORCandlestick = CORCandlestick;
var CORIndicator = (function (_super) {
    __extends(CORIndicator, _super);
    function CORIndicator(source, context) {
        var _this = _super.call(this, CORCandlestick, source, context) || this;
        _this.extsettings = new CORSettings();
        _this.name = 'COR';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    CORIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.extsettings.valueType);
        var computedArray = [];
        var N = this.extsettings.period;
        var sourceItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var compareItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var computedItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get compare data souce
        var compareIter;
        if (this.extsettings.uid) {
            var compareDataSource = this.context.register.getItem(this.extsettings.uid);
            if (compareDataSource) {
                compareIter = compareDataSource.getIterator();
            }
        }
        // If can't get compare data source return
        if (!compareIter) {
            return;
        }
        // Get source data without loading
        var sourceIter = this.source.getIterator();
        // Select last source items and compare items
        if (arg) {
            if (!sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            //--------------------------------------------------
            var prev_1 = [];
            var prevCompare_1 = [];
            sourceIter.somebackward(function (item, counter) {
                if (counter > N) {
                    return false;
                }
                if (counter > 0) {
                    prev_1.push(item);
                    if (compareIter && compareIter.goTo(function (citem) { return item.uid.compare(citem.uid) === 0; })) {
                        prevCompare_1.push(compareIter.current);
                    }
                    return true;
                }
                return true; // Skip current item
            });
            prev_1.reverse();
            prevCompare_1.reverse();
            //--------------------------------------------------
            //const prev = IndicatorDataSource.getPreviousItems(sourceIter, N - 1);
            sourceItems.pushRange(prev_1);
            compareItems.pushRange(prevCompare_1);
        }
        // Get last computed items
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
                computedArray = index_2.IndicatorDataSource.getPreviousItems(iter, N - 1);
                computedItems.pushRange(computedArray);
            }
        }
        // Go to first element
        if (arg) {
            sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!sourceIter.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var found = false;
        var firstUid = sourceIter.current.uid;
        var lastUid;
        var _loop_1 = function () {
            var source = sourceIter.current;
            lastUid = source.uid;
            sourceItems.push(source);
            if (found) {
                found = compareIter.moveTo(function (citem) { return source.uid.compare(citem.uid) === 0; }) !== -1;
            }
            else {
                found = compareIter.goTo(function (citem) { return source.uid.compare(citem.uid) === 0; });
            }
            if (!found) {
                return "continue";
            }
            compareItems.push(found ? compareIter.current : new index_3.Candlestick(source.date));
            var computed = this_1.computeOne(sourceItems, compareItems, computedItems, accessor);
            computedArray.push(computed);
            computedItems.push(computed);
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (sourceIter.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        return new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    CORIndicator.prototype.computeOne = function (sourceItems, compareItems, computedArray, accessor) {
        var N = this.extsettings.period;
        var source = sourceItems.last();
        var compare = compareItems.lastOrDefault();
        var lastComputed = computedArray.lastOrDefault();
        var p = accessor(source);
        var s = compare ? accessor(compare) : undefined;
        var computed = new CORCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // Both values should present
        computed.p = (p !== undefined && s !== undefined) ? p : undefined;
        computed.s = (p !== undefined && s !== undefined) ? s : undefined;
        computed.p2 = (p !== undefined && s !== undefined) ? p * p : undefined;
        computed.s2 = (p !== undefined && s !== undefined) ? s * s : undefined;
        computed.pxs = (p !== undefined && s !== undefined) ? p * s : undefined; // P x S
        // AVG of source
        var lastAvgP = lastComputed !== undefined ? lastComputed.avgp : undefined;
        computed.avgp = this.ma.compute(N, computedArray, function (item) { return item.p; }, computed, lastAvgP);
        // AVG of compare
        var lastAvgS = lastComputed !== undefined ? lastComputed.avgs : undefined;
        computed.avgs = this.ma.compute(N, computedArray, function (item) { return item.s; }, computed, lastAvgS);
        // AVG of squared source
        var lastAvgP2 = lastComputed !== undefined ? lastComputed.avgp2 : undefined;
        computed.avgp2 = this.ma.compute(N, computedArray, function (item) { return item.p2; }, computed, lastAvgP2);
        // AVG of squared compare
        var lastAvgS2 = lastComputed !== undefined ? lastComputed.avgs2 : undefined;
        computed.avgs2 = this.ma.compute(N, computedArray, function (item) { return item.s2; }, computed, lastAvgS2);
        // Compute P x S average
        var lastAvgPxS = lastComputed !== undefined ? lastComputed.avgpxs : undefined;
        computed.avgpxs = this.ma.compute(N, computedArray, function (item) { return item.pxs; }, computed, lastAvgPxS);
        // Compute correlation
        if (computed.avgp !== undefined && computed.avgs !== undefined && computed.avgp2 !== undefined && computed.avgs2 !== undefined
            && computed.avgpxs !== undefined) {
            var varianceP = computed.avgp2 - (computed.avgp * computed.avgp);
            var varianceS = computed.avgs2 - (computed.avgs * computed.avgs);
            var covariance = computed.avgpxs - (computed.avgp * computed.avgs);
            if (varianceP !== 0 && varianceS !== 0) {
                var correlation = covariance / Math.sqrt(varianceP * varianceS);
                computed.c = isNaN(correlation) ? undefined : correlation;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    CORIndicator.prototype.getValuesRange = function (range) {
        return { start: -1, end: 1 };
    };
    CORIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.extsettings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        var sources = this.context.register.list();
        sources.push(new index_4.IdValue('', ''));
        group.setSetting('uid', new index_1.SettingSet({
            name: 'uid',
            displayName: 'Compare',
            value: this.extsettings.uid,
            settingType: index_1.SettingType.select,
            options: sources.map(function (item) { return { value: item.id, text: item.value }; })
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.extsettings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    CORIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.extsettings.period = (period && period.value) ? parseInt(period.value, 10) : this.extsettings.period;
        var uid = value.getSetting('datasource.uid');
        this.extsettings.uid = (uid && uid.value) ? uid.value : this.extsettings.uid;
        var valueType = value.getSetting('datasource.valueType');
        this.extsettings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.extsettings.valueType;
        // recompute
        this.compute();
    };
    return CORIndicator;
}(index_2.IndicatorDataSource));
exports.CORIndicator = CORIndicator;
var CORSettings = (function () {
    function CORSettings() {
        this.period = 10;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return CORSettings;
}());
},{"../core/index":53,"../data/index":71,"../model/index":142,"../shared/index":166,"./CandlestickExt":100,"./MovingAverage":112,"./ValueAccessor":132}],100:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../model/index");
var CandlestickExt = (function (_super) {
    __extends(CandlestickExt, _super);
    function CandlestickExt() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.uidOrig = new index_1.Uid();
        _this.isFake = false;
        return _this;
    }
    return CandlestickExt;
}(index_1.Candlestick));
exports.CandlestickExt = CandlestickExt;
},{"../model/index":142}],101:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DEMACandlestick = (function (_super) {
    __extends(DEMACandlestick, _super);
    function DEMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return DEMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DEMACandlestick = DEMACandlestick;
var DEMAIndicator = (function (_super) {
    __extends(DEMAIndicator, _super);
    function DEMAIndicator(source, context) {
        var _this = _super.call(this, DEMACandlestick, source, context) || this;
        _this.name = 'DEMA';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    DEMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new DEMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA = lastComputed !== undefined ? lastComputed.EMA : undefined;
            // 1. Compute EMA
            computed.EMA = this.ema.compute(N, sourceItems, accessor, undefined, lastComputedEMA);
            if (computed.EMA !== undefined) {
                // 2. Compute DEMA. On base of computed EMA
                var lastComputedDEMA = lastComputed !== undefined ? lastComputed.DEMA : undefined;
                // Adding last computed EMA to calculate DEMA
                computed.DEMA = this.ema.compute(N, computedArray, function (item) { return item.EMA; }, computed, lastComputedDEMA);
                if (computed.DEMA !== undefined) {
                    computed.c = 2 * computed.EMA - computed.DEMA;
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    return DEMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DEMAIndicator = DEMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],102:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// DIX = 100 * (close - MA) / MA
var DIXOscillator = (function (_super) {
    __extends(DIXOscillator, _super);
    function DIXOscillator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'DIX';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    DIXOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            var ma = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            if (ma !== undefined) {
                computed.c = 100 * (value - ma) / ma;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    return DIXOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DIXOscillator = DIXOscillator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],103:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DMICandlestick = (function (_super) {
    __extends(DMICandlestick, _super);
    function DMICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DMICandlestick.prototype.toString = function (precision) {
        return 'DX: '
            + ("" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'))
            + ' +DI: '
            + ("" + (this.pDI !== undefined ? this.pDI.toFixed(precision) : 'n/a'))
            + ' -DI '
            + ("" + (this.mDI !== undefined ? this.mDI.toFixed(precision) : 'n/a'));
    };
    return DMICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DMICandlestick = DMICandlestick;
var DMIIndicator = (function (_super) {
    __extends(DMIIndicator, _super);
    function DMIIndicator(source, context) {
        var _this = _super.call(this, DMICandlestick, source, context) || this;
        _this.name = 'DMI';
        _this.wma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Wilder);
        //this.adxma = MovingAverageFactory.instance.create(MovingAverageType.ADX);
        // DMI requires TR, +DM, -DM
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        _this.source.addExtension(index_1.UpDirectionalMovementExtension.uname, new index_1.UpDirectionalMovementExtension());
        _this.source.addExtension(index_1.DownDirectionalMovementExtension.uname, new index_1.DownDirectionalMovementExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    DMIIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new DMICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Using Wilder for smoothing +DM, -DM, TR
            //
            var lastComputedPDMA = lastComputed !== undefined ? lastComputed.ext['pdm'] : undefined;
            computed.pDMA = this.wma.compute(N, sourceItems, function (item) { return item.ext['pdm']; }, undefined, lastComputedPDMA);
            var lastComputedMDMA = lastComputed !== undefined ? lastComputed.ext['mdm'] : undefined;
            computed.mDMA = this.wma.compute(N, sourceItems, function (item) { return item.ext['mdm']; }, undefined, lastComputedMDMA);
            var lastComputedTRA = lastComputed !== undefined ? lastComputed.ext['tr'] : undefined;
            computed.TRA = this.wma.compute(N, sourceItems, function (item) { return item.ext['tr']; }, undefined, lastComputedTRA);
            if (computed.pDMA !== undefined && computed.mDMA !== undefined && computed.TRA !== undefined) {
                // Compute smoothed +DI, -DI
                var pDI = (computed.pDMA / computed.TRA) * 100;
                var mDI = (computed.mDMA / computed.TRA) * 100;
                computed.pDI = pDI;
                computed.mDI = mDI;
                // Compute DX
                computed.c = 100 * Math.abs(pDI - mDI) / (pDI + mDI);
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    DMIIndicator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    DMIIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    DMIIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return DMIIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DMIIndicator = DMIIndicator;
var DMIIndicatorRenderer = (function () {
    function DMIIndicatorRenderer() {
    }
    DMIIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        // Jaw
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.c !== undefined) {
                    var value = dmi.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        // Teeth
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.mDI !== undefined) {
                    var value = dmi.mDI;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        // Lips
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.pDI !== undefined) {
                    var value = dmi.pDI;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    DMIIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    DMIIndicatorRenderer.prototype.getSettings = function () {
        return new index_2.SettingSet('visual');
    };
    DMIIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return DMIIndicatorRenderer;
}());
exports.DMIIndicatorRenderer = DMIIndicatorRenderer;
},{"../compute/index":40,"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],104:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// DSS = 100 x (EMAy(EMAx(C-L))) / EMAy(EMAx(H - L))
// DSS(slow) = EMA(DSS)
var DSSBRCandlestick = (function (_super) {
    __extends(DSSBRCandlestick, _super);
    function DSSBRCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DSSBRCandlestick.prototype.toString = function (precision) {
        return "" + (this.DSS !== undefined ? this.DSS.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.DSSslow !== undefined ? this.DSSslow.toFixed(precision) : 'n/a'));
    };
    return DSSBRCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DSSBRCandlestick = DSSBRCandlestick;
var DSSBROscillator = (function (_super) {
    __extends(DSSBROscillator, _super);
    function DSSBROscillator(source, context) {
        var _this = _super.call(this, DSSBRCandlestick, source, context) || this;
        _this.extsettings = new DSSBRSettings();
        _this.name = 'DSSBR';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(DSSBROscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodX, this.extsettings.periodZ);
        },
        enumerable: true,
        configurable: true
    });
    DSSBROscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodK = this.extsettings.periodK;
        var periodX = this.extsettings.periodX;
        var periodZ = this.extsettings.periodZ;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new DSSBRCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = source.c; //this.accessor(source);
        if (value !== undefined) {
            // calculating min/max with current value
            var H = sourceItems.max(function (c) { return c.h; }, periodK); // highest high for the period
            var L = sourceItems.min(function (c) { return c.l; }, periodK); // lowest low for the period
            if (H !== undefined && L !== undefined) {
                computed.CL = value - L;
                computed.HL = H - L;
                // Compute first EMAx
                var lastComputedEMA1cl = lastComputed !== undefined ? lastComputed.EMA1ofCL : undefined;
                computed.EMA1ofCL = this.ema.compute(periodX, sourceItems, function (c) { return c.CL; }, computed, lastComputedEMA1cl);
                var lastComputedEMA1hl = lastComputed !== undefined ? lastComputed.EMA1ofHL : undefined;
                computed.EMA1ofHL = this.ema.compute(periodX, sourceItems, function (c) { return c.HL; }, computed, lastComputedEMA1hl);
                // Compute second EMAy
                var lastComputedEMA2cl = lastComputed !== undefined ? lastComputed.EMA2ofCL : undefined;
                computed.EMA2ofCL = this.ema.compute(periodX, sourceItems, function (c) { return c.EMA1ofCL; }, computed, lastComputedEMA2cl);
                var lastComputedEMA2hl = lastComputed !== undefined ? lastComputed.EMA2ofHL : undefined;
                computed.EMA2ofHL = this.ema.compute(periodX, sourceItems, function (c) { return c.EMA1ofHL; }, computed, lastComputedEMA2hl);
                if (computed.EMA2ofCL !== undefined && computed.EMA2ofHL !== undefined && computed.EMA2ofHL !== 0) {
                    // Compute DSS
                    computed.DSS = 100 * computed.EMA2ofCL / computed.EMA2ofHL;
                    // Compute DSS slow
                    var lastComputedDSSslow = lastComputed !== undefined ? lastComputed.DSSslow : undefined;
                    computed.DSSslow = this.ema.compute(periodZ, sourceItems, function (c) { return c.DSS; }, computed, lastComputedDSSslow);
                }
            }
        }
        return computed;
    };
    DSSBROscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    DSSBROscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Stochastic period'
        }));
        group.setSetting('periodX', new index_1.SettingSet({
            name: 'periodX',
            value: this.extsettings.periodX.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Smoothing period'
        }));
        group.setSetting('periodZ', new index_1.SettingSet({
            name: 'periodZ',
            value: this.extsettings.periodZ.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Trigger period'
        }));
        return group;
    };
    DSSBROscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodX = value.getSetting('datasource.periodX');
        this.extsettings.periodX = (periodX && periodX.value) ? parseInt(periodX.value, 10) : this.extsettings.periodX;
        var periodZ = value.getSetting('datasource.periodZ');
        this.extsettings.periodZ = (periodZ && periodZ.value) ? parseInt(periodZ.value, 10) : this.extsettings.periodZ;
        // recompute
        this.compute();
    };
    return DSSBROscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DSSBROscillator = DSSBROscillator;
var DSSBRSettings = (function () {
    function DSSBRSettings() {
        this.periodK = 14; // stochastic period
        this.periodX = 3; // smoothing periods
        //public periodY: number = 3;
        this.periodZ = 3; // Trigger period
    }
    return DSSBRSettings;
}());
var DSSBROscillatorRenderer = (function () {
    function DSSBROscillatorRenderer() {
    }
    DSSBROscillatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#00B730');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DSSBRCandlestick) {
                var double = item;
                if (double.DSS !== undefined) {
                    //const x = timeAxis.toX(index);
                    var value = double.DSS;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#B50021');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DSSBRCandlestick) {
                var double = item;
                if (double.DSSslow !== undefined) {
                    var value = double.DSSslow;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    DSSBROscillatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    DSSBROscillatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    DSSBROscillatorRenderer.prototype.setSettings = function (settings) {
    };
    return DSSBROscillatorRenderer;
}());
exports.DSSBROscillatorRenderer = DSSBROscillatorRenderer;
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],105:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var EMAIndicator = (function (_super) {
    __extends(EMAIndicator, _super);
    function EMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'EMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    EMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return EMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.EMAIndicator = EMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],106:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.hh = new index_2.Candlestick(date);
        _this.ll = new index_2.Candlestick(date);
        return _this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.hh && this.hh.c !== undefined ? this.hh.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.ll && this.ll.c !== undefined ? this.ll.c.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var HHLLIndicator = (function (_super) {
    __extends(HHLLIndicator, _super);
    function HHLLIndicator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'HHLL';
        // Set default settings
        _this.settings.period = 10;
        return _this;
    }
    HHLLIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var computed = new DoubleCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var hh = sourceItems.max(function (item) { return item.h; });
        var ll = sourceItems.min(function (item) { return item.l; });
        computed.hh.c = hh;
        computed.hh.h = hh;
        computed.hh.l = hh;
        computed.ll.c = ll;
        computed.ll.h = ll;
        computed.ll.l = ll;
        return computed;
    };
    HHLLIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    HHLLIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return HHLLIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.HHLLIndicator = HHLLIndicator;
var HHLLIndicatorRenderer = (function () {
    function HHLLIndicatorRenderer() {
    }
    HHLLIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#FF5900');
        // Up
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.hh && d.hh.c !== undefined) {
                    var value = d.hh.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#3D5AFF');
        // Down
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.ll && d.ll.c !== undefined) {
                    var value = d.ll.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    HHLLIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    HHLLIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    HHLLIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return HHLLIndicatorRenderer;
}());
exports.HHLLIndicatorRenderer = HHLLIndicatorRenderer;
},{"../core/index":53,"../model/index":142,"../render/index":162,"./CandlestickExt":100,"./SimpleIndicator":125}],107:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Tenkan-sen (Conversion Line): (9-period high + 9-period low)/2))
// Kijun-sen (Base Line): (26-period high + 26-period low)/2))
// Senkou Span A (Leading Span A): (Conversion Line + Base Line)/2))
// Senkou Span B (Leading Span B): (52-period high + 52-period low)/2))
// Chikou Span (Lagging Span)
var IKHCandlestick = (function (_super) {
    __extends(IKHCandlestick, _super);
    function IKHCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IKHCandlestick.prototype.toString = function (precision) {
        return ''
            + ("" + (this.conversion !== undefined ? this.conversion.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.base !== undefined ? this.base.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.leadingAShifted !== undefined ? this.leadingAShifted.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.leadingBShifted !== undefined ? this.leadingBShifted.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.laggingShifted !== undefined ? this.laggingShifted.toFixed(precision) : 'n/a'));
    };
    return IKHCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.IKHCandlestick = IKHCandlestick;
var IKHIndicator = (function (_super) {
    __extends(IKHIndicator, _super);
    function IKHIndicator(source, context) {
        var _this = _super.call(this, IKHCandlestick, source, context) || this;
        _this.extsettings = new IKHSettings();
        _this.name = 'IKH';
        return _this;
    }
    Object.defineProperty(IKHIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodConversion, this.extsettings.periodBase, this.extsettings.periodSpanB);
        },
        enumerable: true,
        configurable: true
    });
    IKHIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodConversion = this.extsettings.periodConversion;
        var periodBase = this.extsettings.periodBase;
        var periodSpanB = this.extsettings.periodSpanB;
        var ikhDisplacement = this.extsettings.ikhDisplacement;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new IKHCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = source.c; //this.accessor(source);
        if (value !== undefined) {
            // computing Conversion Line
            var H1 = sourceItems.max(function (c) { return c.h; }, periodConversion); // highest high for the period
            var L1 = sourceItems.min(function (c) { return c.l; }, periodConversion); // lowest low for the period
            if (H1 !== undefined && L1 !== undefined) {
                computed.conversion = (H1 + L1) / 2;
            }
            // computing Base Line
            var H2 = sourceItems.max(function (c) { return c.h; }, periodBase); // highest high for the period
            var L2 = sourceItems.min(function (c) { return c.l; }, periodBase); // lowest low for the period
            if (H2 !== undefined && L2 !== undefined) {
                computed.base = (H2 + L2) / 2;
            }
            // computing Leading Span A
            if (computed.base !== undefined && computed.conversion !== undefined) {
                computed.leadingA = (computed.base + computed.conversion) / 2;
            }
            // computing Leading Span B
            var H3 = sourceItems.max(function (c) { return c.h; }, periodSpanB); // highest high for the period
            var L3 = sourceItems.min(function (c) { return c.l; }, periodSpanB); // lowest low for the period
            if (H3 !== undefined && L3 !== undefined) {
                computed.leadingB = (H3 + L3) / 2;
            }
            // computing Lagging Span
            computed.lagging = source.c;
        }
        return computed;
    };
    IKHIndicator.prototype.afterCompute = function (arg) {
        // After compute shift Lagging and Leading lines
        // Leading shifting to right
        this.shiftDataExt(this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.leadingAShifted = source.leadingA;
            }
            else if (dest) {
                dest.leadingAShifted = undefined;
            }
        });
        // Leading shifting to right
        this.shiftDataExt(this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.leadingBShifted = source.leadingB;
            }
            else if (dest) {
                dest.leadingBShifted = undefined;
            }
        });
        // Leading shifting to right
        this.shiftDataExt(-this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.laggingShifted = source.lagging;
            }
            else if (dest) {
                dest.laggingShifted = undefined;
            }
        });
    };
    IKHIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodConversion', new index_1.SettingSet({
            name: 'periodConversion',
            value: this.extsettings.periodConversion.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Tenkan-Sen period'
        }));
        group.setSetting('periodBase', new index_1.SettingSet({
            name: 'periodBase',
            value: this.extsettings.periodBase.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Kijun-Sen period'
        }));
        group.setSetting('periodSpanB', new index_1.SettingSet({
            name: 'periodSpanB',
            value: this.extsettings.periodSpanB.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Senkou Span B period'
        }));
        group.setSetting('ikhDisplacement', new index_1.SettingSet({
            name: 'ikhDisplacement',
            value: this.extsettings.ikhDisplacement.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Displacment'
        }));
        return group;
    };
    IKHIndicator.prototype.setSettings = function (value) {
        var periodConversion = value.getSetting('datasource.periodConversion');
        this.extsettings.periodConversion = (periodConversion && periodConversion.value) ? parseInt(periodConversion.value, 10) : this.extsettings.periodConversion;
        var periodBase = value.getSetting('datasource.periodBase');
        this.extsettings.periodBase = (periodBase && periodBase.value) ? parseInt(periodBase.value, 10) : this.extsettings.periodBase;
        var periodSpanB = value.getSetting('datasource.periodSpanB');
        this.extsettings.periodSpanB = (periodSpanB && periodSpanB.value) ? parseInt(periodSpanB.value, 10) : this.extsettings.periodSpanB;
        var ikhDisplacement = value.getSetting('datasource.ikhDisplacement');
        this.extsettings.ikhDisplacement = (ikhDisplacement && ikhDisplacement.value) ? parseInt(ikhDisplacement.value, 10) : this.extsettings.ikhDisplacement;
        // recompute
        this.compute();
    };
    return IKHIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.IKHIndicator = IKHIndicator;
var IKHSettings = (function () {
    function IKHSettings() {
        this.periodConversion = 9; // Conversion Line period
        this.periodBase = 26; // Base Line period
        this.periodSpanB = 52; // Leading Span B period
        this.ikhDisplacement = 26;
    }
    return IKHSettings;
}());
var IKHIndicatorRenderer = (function () {
    function IKHIndicatorRenderer() {
    }
    IKHIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#267F00');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.conversion !== undefined) {
                    var value = ikh.conversion;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.base !== undefined) {
                    var value = ikh.base;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.leadingAShifted !== undefined) {
                    var value = ikh.leadingAShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.leadingBShifted !== undefined) {
                    var value = ikh.leadingBShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#267F00');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.laggingShifted !== undefined) {
                    var value = ikh.laggingShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    IKHIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    IKHIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    IKHIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return IKHIndicatorRenderer;
}());
exports.IKHIndicatorRenderer = IKHIndicatorRenderer;
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./SimpleIndicator":125}],108:[function(require,module,exports){
/**
 * IndicatorFabric class.
 *
 * @classdesc Creates indicator instances.
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function register(indicatorId, creator) {
    IndicatorFabric.instance.register(indicatorId, creator);
}
exports.register = register;
var IndicatorFabric = (function () {
    function IndicatorFabric() {
        this.ctors = {};
    }
    Object.defineProperty(IndicatorFabric, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new IndicatorFabric();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    IndicatorFabric.prototype.register = function (indicatorId, creator) {
        this.ctors[indicatorId] = creator;
    };
    IndicatorFabric.prototype.instantiate = function (indicatorId, source, context) {
        var ctor = this.ctors[indicatorId];
        if (ctor) {
            return new ctor(source, context);
        }
        else {
            throw new Error("Indicator with id=" + indicatorId + " is not registered.");
        }
    };
    return IndicatorFabric;
}());
exports.IndicatorFabric = IndicatorFabric;
},{}],109:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// MACD Line = EMA 12 - EMA 26
// Signal line = EMA(MACD)
// Historgam = MACD - Signal
var MACDCandlestick = (function (_super) {
    __extends(MACDCandlestick, _super);
    function MACDCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MACDCandlestick.prototype.toString = function (precision) {
        return 'MACD: '
            + ("" + (this.MACD !== undefined ? this.MACD.toFixed(precision) : 'n/a'))
            + ' SIG: '
            + ("" + (this.SIG !== undefined ? this.SIG.toFixed(precision) : 'n/a'))
            + ' HIS: '
            + ("" + (this.HIS !== undefined ? this.HIS.toFixed(precision) : 'n/a'));
    };
    return MACDCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.MACDCandlestick = MACDCandlestick;
var MACDIndicator = (function (_super) {
    __extends(MACDIndicator, _super);
    function MACDIndicator(source, context) {
        var _this = _super.call(this, MACDCandlestick, source, context) || this;
        _this.extsettings = new MACDSettings();
        _this.name = 'MACD';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(MACDIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodFast, this.extsettings.periodSlow, this.extsettings.periodSignal);
        },
        enumerable: true,
        configurable: true
    });
    MACDIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodFast = this.extsettings.periodFast;
        var periodSlow = this.extsettings.periodSlow;
        var periodSig = this.extsettings.periodSignal;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new MACDCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Compute Slow EMA
            var lastComputedEMAslow = lastComputed !== undefined ? lastComputed.EMAslow : undefined;
            computed.EMAslow = this.ema.compute(periodSlow, sourceItems, accessor, undefined, lastComputedEMAslow);
            // Compute Fast EMA
            var lastComputedEMAfast = lastComputed !== undefined ? lastComputed.EMAfast : undefined;
            computed.EMAfast = this.ema.compute(periodFast, sourceItems, accessor, undefined, lastComputedEMAfast);
            if (computed.EMAslow !== undefined && computed.EMAfast !== undefined) {
                // Compute MACD line
                computed.MACD = computed.EMAfast - computed.EMAslow;
                // Compute Signal line
                var lastComputedSig = lastComputed !== undefined ? lastComputed.SIG : undefined;
                computed.SIG = this.ema.compute(periodSig, computedArray, function (c) { return c.MACD; }, computed, lastComputedSig);
                if (computed.SIG !== undefined) {
                    // Computed Histogram
                    computed.HIS = computed.MACD - computed.SIG;
                }
                computed.c = computed.MACD;
                computed.h = Math.max(computed.MACD, computed.SIG !== undefined ? computed.SIG : -Infinity, computed.HIS !== undefined ? computed.HIS : -Infinity);
                computed.l = Math.min(computed.MACD, computed.SIG !== undefined ? computed.SIG : -Infinity, computed.HIS !== undefined ? computed.HIS : -Infinity);
            }
        }
        return computed;
    };
    MACDIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodFast', new index_1.SettingSet({
            name: 'periodFast',
            value: this.extsettings.periodFast.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Fast period'
        }));
        group.setSetting('periodSlow', new index_1.SettingSet({
            name: 'periodSlow',
            value: this.extsettings.periodSlow.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Slow period'
        }));
        group.setSetting('periodSignal', new index_1.SettingSet({
            name: 'periodSignal',
            value: this.extsettings.periodSignal.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Signal period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MACDIndicator.prototype.setSettings = function (value) {
        var periodFast = value.getSetting('datasource.periodFast');
        this.extsettings.periodFast = (periodFast && periodFast.value) ? parseInt(periodFast.value, 10) : this.extsettings.periodFast;
        var periodSlow = value.getSetting('datasource.periodSlow');
        this.extsettings.periodSlow = (periodSlow && periodSlow.value) ? parseInt(periodSlow.value, 10) : this.extsettings.periodSlow;
        var periodSignal = value.getSetting('datasource.periodSignal');
        this.extsettings.periodSignal = (periodSignal && periodSignal.value) ? parseInt(periodSignal.value, 10) : this.extsettings.periodSignal;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MACDIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MACDIndicator = MACDIndicator;
var MACDSettings = (function () {
    function MACDSettings() {
        this.periodFast = 12; // Fast period
        this.periodSlow = 26; // Slow period
        this.periodSignal = 9; // Signal period
    }
    return MACDSettings;
}());
var MACDIndicatorRenderer = (function () {
    function MACDIndicatorRenderer() {
    }
    MACDIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // MACD
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof MACDCandlestick) {
                var c = item;
                if (c && c.MACD !== undefined) {
                    var value = c.MACD;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Signal
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof MACDCandlestick) {
                var c = item;
                if (c && c.SIG !== undefined) {
                    var value = c.SIG;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Histogram
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        var y0 = yAxis.toX(0);
        var wi = frame.w / timeAxis.count;
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof MACDCandlestick) {
                var m = item;
                if (m && m.HIS !== undefined) {
                    var y = yAxis.toX(m.HIS);
                    if (wi >= 2) {
                        canvas.rect(x - wi / 2, Math.min(y, y0), wi, Math.abs(y - y0));
                    }
                    else {
                        canvas.moveTo(x, y0);
                        canvas.lineTo(x, y);
                    }
                }
            }
        });
        canvas.stroke();
    };
    MACDIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    MACDIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    MACDIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return MACDIndicatorRenderer;
}());
exports.MACDIndicatorRenderer = MACDIndicatorRenderer;
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./ValueAccessor":132}],110:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// MD = EMA(EMA(price - EMA(price)))
var MDCandlestick = (function (_super) {
    __extends(MDCandlestick, _super);
    function MDCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return MDCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.MDCandlestick = MDCandlestick;
var MDIndicator = (function (_super) {
    __extends(MDIndicator, _super);
    function MDIndicator(source, context) {
        var _this = _super.call(this, MDCandlestick, source, context) || this;
        _this.extsettings = new MDSettings();
        _this.name = 'MD';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(MDIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.period1, this.extsettings.period2, this.extsettings.period3);
        },
        enumerable: true,
        configurable: true
    });
    MDIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var period1 = this.extsettings.period1;
        var period2 = this.extsettings.period2;
        var period3 = this.extsettings.period3;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new MDCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA1 = lastComputed !== undefined ? lastComputed.EMA1 : undefined;
            // 1. Compute EMA1
            computed.EMA1 = this.ema.compute(period1, sourceItems, accessor, undefined, lastComputedEMA1);
            if (computed.EMA1 !== undefined) {
                computed.dev = value - computed.EMA1;
                // 2. Compute EMA 2 on base of EMA1
                var lastComputedEMA2 = lastComputed !== undefined ? lastComputed.EMA2 : undefined;
                computed.EMA2 = this.ema.compute(period2, computedArray, function (item) { return item.dev; }, computed, lastComputedEMA2);
                if (computed.EMA2 !== undefined) {
                    // Compute EMA3
                    var lastComputedEMA3 = lastComputed !== undefined ? lastComputed.c : undefined;
                    computed.c = this.ema.compute(period3, computedArray, function (item) { return item.EMA2; }, computed, lastComputedEMA3);
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    MDIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period1', new index_1.SettingSet({
            name: 'period1',
            value: this.extsettings.period1.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '1st smoothing period'
        }));
        group.setSetting('period2', new index_1.SettingSet({
            name: 'period2',
            value: this.extsettings.period2.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '2nd smoothing period'
        }));
        group.setSetting('period3', new index_1.SettingSet({
            name: 'period3',
            value: this.extsettings.period3.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '3d smoothing period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MDIndicator.prototype.setSettings = function (value) {
        var period1 = value.getSetting('datasource.period1');
        this.extsettings.period1 = (period1 && period1.value) ? parseInt(period1.value, 10) : this.extsettings.period1;
        var period2 = value.getSetting('datasource.period2');
        this.extsettings.period2 = (period2 && period2.value) ? parseInt(period2.value, 10) : this.extsettings.period2;
        var period3 = value.getSetting('datasource.period3');
        this.extsettings.period3 = (period3 && period3.value) ? parseInt(period3.value, 10) : this.extsettings.period3;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MDIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MDIndicator = MDIndicator;
var MDSettings = (function () {
    function MDSettings() {
        this.period1 = 14; // smoothing period 1
        this.period2 = 3; // smoothing period 2
        this.period3 = 3; // smoothing period 3
    }
    return MDSettings;
}());
},{"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./ValueAccessor":132}],111:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Momentum = Close[t] - Close[t-N]
var MOMIndicator = (function (_super) {
    __extends(MOMIndicator, _super);
    function MOMIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'MOM';
        return _this;
    }
    Object.defineProperty(MOMIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period + 1; // MOM requires one extra item
        },
        enumerable: true,
        configurable: true
    });
    MOMIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var L = sourceItems.length;
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var i = L - (N + 1);
        if (i >= 0 && i < sourceItems.length) {
            var prev = sourceItems.getItem(i);
            var curValue = accessor(source);
            var prevValue = accessor(prev);
            if (curValue !== undefined && prevValue !== undefined) {
                computed.c = curValue - prevValue;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    MOMIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MOMIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MOMIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MOMIndicator = MOMIndicator;
},{"../core/index":53,"./CandlestickExt":100,"./SimpleIndicator":125,"./ValueAccessor":132}],112:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MovingAverageType;
(function (MovingAverageType) {
    MovingAverageType[MovingAverageType["ADX"] = 0] = "ADX";
    MovingAverageType[MovingAverageType["DoubleExponential"] = 1] = "DoubleExponential";
    MovingAverageType[MovingAverageType["Exponential"] = 2] = "Exponential";
    MovingAverageType[MovingAverageType["Simple"] = 3] = "Simple";
    MovingAverageType[MovingAverageType["Smoothed"] = 4] = "Smoothed";
    MovingAverageType[MovingAverageType["Triangular"] = 5] = "Triangular";
    MovingAverageType[MovingAverageType["TripleExponential"] = 6] = "TripleExponential";
    MovingAverageType[MovingAverageType["Weight"] = 7] = "Weight";
    MovingAverageType[MovingAverageType["Wilder"] = 8] = "Wilder";
})(MovingAverageType = exports.MovingAverageType || (exports.MovingAverageType = {}));
var MovingAverageFactory = (function () {
    function MovingAverageFactory() {
        this.adxma = new ADXMovingAverage();
        this.ema = new ExponentialMovingAverage();
        this.sma = new SimpleMovingAverage();
        this.smma = new SmoothedMovingAverage();
        this.tma = new TriangularMovingAverage();
        this.wma = new WeightMovingAverage();
        this.wilderma = new WilderMovingAverage();
    }
    Object.defineProperty(MovingAverageFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new MovingAverageFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    MovingAverageFactory.prototype.create = function (maType) {
        switch (maType) {
            case MovingAverageType.ADX: return this.adxma;
            case MovingAverageType.Exponential: return this.ema;
            case MovingAverageType.Simple: return this.sma;
            case MovingAverageType.Smoothed: return this.smma;
            case MovingAverageType.Triangular: return this.tma;
            case MovingAverageType.Weight: return this.wma;
            case MovingAverageType.Wilder: return this.wilderma;
            default: throw new Error('Unexpected moving average type=' + maType);
        }
    };
    return MovingAverageFactory;
}());
exports.MovingAverageFactory = MovingAverageFactory;
var ExponentialMovingAverage = (function () {
    function ExponentialMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    ExponentialMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // Calculate first 4 MA as Simple MA
        if (precedingMovingAverage !== undefined && haveCount > 4) {
            // St = a * Yt + (1 - a) * St-1;
            var a = 2 / (n + 1);
            var lastValue = accessor(value !== undefined ? value : precedingValues.last());
            return lastValue !== undefined
                ? a * lastValue + (1 - a) * precedingMovingAverage
                : undefined;
        }
        else {
            // If no previous MA value, calculate as simple ma;
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
    };
    return ExponentialMovingAverage;
}());
var SimpleMovingAverage = (function () {
    function SimpleMovingAverage() {
    }
    SimpleMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var takeCount = 0;
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (precedingValues.length === 0 && value === undefined) {
            return undefined;
        }
        else if (precedingValues.length === 1 && value === undefined) {
            // if no previous values, return the only value
            return accessor(precedingValues.last());
        }
        else if (precedingValues.length === 0 && value !== undefined) {
            // if no previous values, return the only value
            return accessor(value);
        }
        else if (n > haveCount) {
            // if not enough values to build moving average use as much as we can get
            takeCount = haveCount;
        }
        else {
            // we have enough values 
            takeCount = n;
        }
        var sum = (value !== undefined ? accessor(value) || 0 : 0);
        var counter = (value !== undefined ? 1 : 0);
        takeCount = takeCount - (value !== undefined ? 1 : 0);
        // Add last values
        for (var i = 0; i < takeCount; i += 1) {
            var v = accessor(precedingValues.getItem(precedingValues.length - (i + 1)));
            if (v !== undefined) {
                sum += v;
                counter += 1;
            }
        }
        return sum / counter;
    };
    return SimpleMovingAverage;
}());
var SmoothedMovingAverage = (function () {
    function SmoothedMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    SmoothedMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount < n) {
            // use Simple Moving Average if not enough data
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        if (precedingMovingAverage === undefined) {
            throw new Error('Previous moving average must be specified.');
        }
        var curValue = accessor(value !== undefined ? value : precedingValues.last());
        return curValue !== undefined
            ? (precedingMovingAverage * (n - 1) + curValue) / n
            : precedingMovingAverage;
    };
    return SmoothedMovingAverage;
}());
var TriangularMovingAverage = (function () {
    function TriangularMovingAverage() {
    }
    TriangularMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        // If amount of items is not enough do not make computation.
        if (n > haveCount) {
            return undefined;
        }
        var mid = Math.round(n / 2);
        var sum = (value !== undefined ? n * (accessor(value) || 0) : 0);
        var divider = 0;
        var startIndex = (value !== undefined ? 2 : 1);
        var triang;
        for (var i = startIndex; i <= n; i += 1) {
            if (i <= mid) {
                triang = i;
            }
            else {
                triang = mid - (i - mid) + ((n + 1) % 2);
            }
            var v = accessor(precedingValues.getItem(precedingValues.length - ((i - startIndex) + 1)));
            if (v !== undefined) {
                sum += triang * v;
                divider += triang;
            }
        }
        return sum / divider;
    };
    return TriangularMovingAverage;
}());
var WeightMovingAverage = (function () {
    function WeightMovingAverage() {
    }
    WeightMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        // If amount of items is not enough then calculate for decreased N value.
        if (n > haveCount) {
            n = haveCount;
        }
        var sum = (value !== undefined ? n * (accessor(value) || 0) : 0);
        var counter = (value !== undefined ? 1 : 0);
        n = n - (value !== undefined ? 1 : 0);
        for (var i = 0; i < n; i += 1) {
            var v = accessor(precedingValues.getItem(precedingValues.length - (i + 1)));
            if (v !== undefined) {
                sum += (n - counter) * v;
                counter += 1;
            }
        }
        return sum / this.divider(counter);
    };
    WeightMovingAverage.prototype.divider = function (n) {
        return n * (n + 1) / 2;
    };
    return WeightMovingAverage;
}());
var WilderMovingAverage = (function () {
    function WilderMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    WilderMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // If there is previous MA then use it
        if (precedingMovingAverage !== undefined) {
            var curValue = accessor(value !== undefined ? value : precedingValues.last());
            return curValue !== undefined
                ? (precedingMovingAverage + (precedingMovingAverage / n) + curValue)
                : precedingMovingAverage;
        }
        if (haveCount >= n) {
            // First average calculate as simple average
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        else {
            // If not enought data do not compute
            return undefined;
        }
    };
    return WilderMovingAverage;
}());
/**
 * First - simple average.
 * Next - (prev avg x (n - 1) + current) / n
 */
var ADXMovingAverage = (function () {
    function ADXMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    ADXMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // If there is previous MA then use it
        if (precedingMovingAverage !== undefined) {
            var curValue = accessor(value !== undefined ? value : precedingValues.last());
            return curValue !== undefined
                ? (precedingMovingAverage * (n - 1) + curValue) / n
                : precedingMovingAverage;
        }
        if (haveCount >= n) {
            // First average calculate as simple average
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        else {
            // If not enought data do not compute
            return undefined;
        }
    };
    return ADXMovingAverage;
}());
},{}],113:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Range: [-100; 0]
// %R = (Highest High - Close)/(Highest High - Lowest Low) * -100
var PCROscillator = (function (_super) {
    __extends(PCROscillator, _super);
    function PCROscillator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'PCR';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    PCROscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        if (source.c !== undefined) {
            var H = sourceItems.max(function (c) { return c.h; }, N); // highest high for the period
            var L = sourceItems.min(function (c) { return c.l; }, N); // lowest low for the period
            if (H !== undefined && L !== undefined) {
                computed.c = H !== L ? (-100) * (H - source.c) / (H - L) : 0;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    PCROscillator.prototype.getValuesRange = function (range) {
        return { start: -100, end: 0 };
    };
    PCROscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%R Period'
        }));
        return group;
    };
    PCROscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return PCROscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.PCROscillator = PCROscillator;
},{"../core/index":53,"./CandlestickExt":100,"./SimpleIndicator":125}],114:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var CandlestickExt_1 = require("./CandlestickExt");
var ValueAccessor_1 = require("./ValueAccessor");
// Pivot Point (P) = (High + Low + Close)/3
// Support 1 (S1) = (P x 2) - High
// Support 2 (S2) = P  -  (High  -  Low)
// Resistance 1 (R1) = (P x 2) - Low
// Resistance 2 (R2) = P + (High  -  Low)
var PPCandlestick = (function (_super) {
    __extends(PPCandlestick, _super);
    function PPCandlestick(dateStart, dateEnd) {
        var _this = _super.call(this, dateStart) || this;
        _this.dateEnd = new index_3.Uid(dateEnd);
        return _this;
    }
    PPCandlestick.prototype.toString = function (precision) {
        return 'PP: '
            + ("" + (this.p !== undefined ? this.p.toFixed(precision) : 'n/a'));
    };
    return PPCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.PPCandlestick = PPCandlestick;
var PPIndicator = (function (_super) {
    __extends(PPIndicator, _super);
    function PPIndicator(source, context) {
        var _this = _super.call(this, PPCandlestick, source, context) || this;
        _this.settings = new PPSettings();
        _this.name = 'PP';
        return _this;
    }
    PPIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var _this = this;
        var computedArray = [];
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var firstUid = iterator.current.uid;
        var lastUid;
        var found;
        var storeIter = this.dataStorage.getIterator();
        var _loop_1 = function () {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            // Compute base time
            // 
            var sourceInterval = this_1.context.interval();
            var extInterval = this_1.extendInterval(sourceInterval);
            // Get candle for previous period
            var computeDate = index_4.DateUtils.truncateToInterval(source.uid.t, extInterval); // Date of current computed candle
            var computeTime = computeDate.getTime();
            var baseDate = index_4.DateUtils.addInterval(computeDate, extInterval, -1); // Date for previous period
            var baseTime = baseDate.getTime();
            // Find existing item
            if (!found) {
                found = storeIter.goTo(function (item) { return item.uid.t.getTime() === computeTime; });
            }
            else {
                found = storeIter.moveTo(function (item) { return item.uid.t.getTime() === computeTime; }) !== -1;
            }
            if (found) {
                // ignore
            }
            if (!found) {
                // Create promise
                //
                var computed_1 = new PPCandlestick(computeDate, index_4.DateUtils.addInterval(computeDate, extInterval, 1));
                // Promise should be in closure
                var promise = this_1.context.getCandle(this_1.source.asset, baseDate, extInterval);
                promise.then(function (candle) {
                    if (candle && candle.h !== undefined && candle.l !== undefined && candle.c !== undefined) {
                        computed_1.p = (candle.h + candle.l + candle.c) / 3;
                        computed_1.s1 = 2 * computed_1.p - candle.h;
                        computed_1.s2 = computed_1.p - (candle.h - candle.l);
                        computed_1.r1 = 2 * computed_1.p - candle.l;
                        computed_1.r2 = computed_1.p + (candle.h - candle.l);
                    }
                    _this.context.render();
                });
                computed_1.promise = promise;
                this_1.dataStorage.merge([computed_1]);
            }
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (iterator.moveNext());
        //const origArg = new DataChangedArgument(firstUid, lastUid, computedArray.length);
        return arg;
    };
    PPIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    PPIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    PPIndicator.prototype.extendInterval = function (interval) {
        switch (interval) {
            case index_1.TimeInterval.sec: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min5: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min15: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min30: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour4: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour6: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour12: return index_1.TimeInterval.month;
            case index_1.TimeInterval.day: return index_1.TimeInterval.month;
            case index_1.TimeInterval.day3: return index_1.TimeInterval.month;
            //case TimeInterval.day10: return TimeInterval.year;
            // case TimeInterval.week: return TimeInterval.year;
            // case TimeInterval.month: return TimeInterval.year;
            default: throw new Error("Unexpected time interval " + interval);
        }
    };
    return PPIndicator;
}(index_2.IndicatorDataSource));
exports.PPIndicator = PPIndicator;
var PPSettings = (function () {
    function PPSettings() {
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return PPSettings;
}());
exports.PPSettings = PPSettings;
var Line = (function () {
    function Line() {
    }
    return Line;
}());
var PPIndicatorRenderer = (function () {
    function PPIndicatorRenderer() {
    }
    PPIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Get first time and last time of visible range
        var timeRange = timeAxis.range;
        // Find candles just before the first, and just after the last time.
        var firstTime = timeRange.start.t.getTime();
        var lastTime = timeRange.end.t.getTime();
        // Go to first candles just before first visible or first
        if (!data.goWhile(function (item) { return item.uid.t.getTime() < firstTime; })) {
            if (!data.goTo(function (item) { return true; })) {
                return;
            }
        }
        // Move next while date is in visible range
        //
        do {
            // Render current candle
            var points = (data.current instanceof PPCandlestick) ? data.current : undefined;
            if (points) {
                var x1 = timeAxis.toX(points.uid);
                var x2 = timeAxis.toX(points.dateEnd);
                // If can not get x coordinates by time axis, draw line to the border
                if (x1 === undefined) {
                    if (points.uid.t.getTime() < firstTime) {
                        x1 = -1;
                    }
                    if (points.uid.t.getTime() < lastTime) {
                        x1 = frame.x + frame.w + 1;
                    }
                }
                if (x2 === undefined) {
                    if (points.dateEnd.t.getTime() < firstTime) {
                        x2 = -1;
                    }
                    if (points.dateEnd.t.getTime() < lastTime) {
                        x2 = frame.x + frame.w + 1;
                    }
                }
                var line = new Line();
                line.x1 = x1;
                line.x2 = x2;
                if (points.p !== undefined && points.r1 !== undefined && points.r2 !== undefined && points.s1 !== undefined && points.s2 !== undefined) {
                    line.y1 = yAxis.toX(points.p);
                    line.y2 = yAxis.toX(points.r1);
                    line.y3 = yAxis.toX(points.r2);
                    line.y4 = yAxis.toX(points.s1);
                    line.y5 = yAxis.toX(points.s2);
                    canvas.beginPath();
                    canvas.setStrokeStyle('#56B50E');
                    this.line(canvas, line.x1, line.y1, line.x2, line.y1);
                    this.line(canvas, line.x1, line.y2, line.x2, line.y2);
                    this.line(canvas, line.x1, line.y3, line.x2, line.y3);
                    this.line(canvas, line.x1, line.y4, line.x2, line.y4);
                    this.line(canvas, line.x1, line.y5, line.x2, line.y5);
                    canvas.stroke();
                }
            }
        } while (data.moveNext() && data.current.uid.t.getTime() <= lastTime);
    };
    PPIndicatorRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        if (x1 !== undefined && x2 !== undefined && y1 !== undefined && y2 !== undefined) {
            canvas.moveTo(x1, y1);
            canvas.lineTo(x2, y2);
        }
    };
    PPIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    PPIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    PPIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return PPIndicatorRenderer;
}());
exports.PPIndicatorRenderer = PPIndicatorRenderer;
},{"../core/index":53,"../data/index":71,"../model/index":142,"../utils/index":175,"./CandlestickExt":100,"./ValueAccessor":132}],115:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// SAR(n+1) = SAR(n) + A x (EP - SAR(n))
var Trend;
(function (Trend) {
    Trend[Trend["None"] = 0] = "None";
    Trend[Trend["Up"] = 1] = "Up";
    Trend[Trend["Down"] = 2] = "Down";
})(Trend = exports.Trend || (exports.Trend = {}));
var PSARCandlestick = (function (_super) {
    __extends(PSARCandlestick, _super);
    function PSARCandlestick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.trend = Trend.None;
        return _this;
    }
    PSARCandlestick.prototype.toString = function (precision) {
        return 'SAR: '
            + ("" + (this.SAR !== undefined ? this.SAR.toFixed(precision) : 'n/a'))
            + ' / EP: '
            + ("" + (this.EP !== undefined ? this.EP.toFixed(precision) : 'n/a'));
    };
    return PSARCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.PSARCandlestick = PSARCandlestick;
var PSARIndicator = (function (_super) {
    __extends(PSARIndicator, _super);
    function PSARIndicator(source, context) {
        var _this = _super.call(this, PSARCandlestick, source, context) || this;
        _this.extsettings = new PSARSettings();
        _this.name = 'PSAR';
        return _this;
    }
    Object.defineProperty(PSARIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return 3;
        },
        enumerable: true,
        configurable: true
    });
    PSARIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var initialFactor = this.extsettings.initialFactor;
        var increment = this.extsettings.increment;
        var maxFactor = this.extsettings.maxFactor;
        var sourceCur = sourceItems.last(); // source must contain at least one item.
        var sourcePrev = sourceItems.length > 1 ? sourceItems.getItem(sourceItems.length - 2) : undefined;
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new PSARCandlestick(sourceCur.date);
        computed.uidOrig.t = sourceCur.uid.t;
        computed.uidOrig.n = sourceCur.uid.n;
        if (sourceCur.h === undefined || sourceCur.l === undefined) {
            if (lastComputed !== undefined) {
                computed.a = lastComputed.a;
                computed.EP = lastComputed.EP;
                computed.SAR = lastComputed.SAR;
                computed.trend = lastComputed.trend;
            }
        }
        else {
            if (lastComputed !== undefined && lastComputed.SAR !== undefined) {
                // 1. Compute SAR
                //
                var SAR = void 0;
                var SARprev = lastComputed.SAR;
                var a = lastComputed.a;
                var EP = lastComputed.EP;
                var trend = lastComputed.trend;
                if (trend === Trend.Up) {
                    SAR = SARprev + a * (EP - SARprev);
                }
                else if (trend === Trend.Down) {
                    SAR = SARprev - a * (SARprev - EP);
                }
                else {
                    throw new Error('Undefined trend.');
                }
                // 2. Correct SAR. SAR can't get inside or beyound previous (2) range.
                //
                if (sourcePrev !== undefined && sourcePrev.h !== undefined && sourcePrev.l !== undefined) {
                    if (trend === Trend.Up && SAR > sourcePrev.l) {
                        // correct SAR
                        SAR = sourcePrev.l;
                    }
                    else if (trend === Trend.Down && SAR < sourcePrev.h) {
                        SAR = sourcePrev.h;
                    }
                }
                // 3. Check if trend changes or continues
                //
                if ((trend === Trend.Up && SAR > sourceCur.l)
                    || (trend === Trend.Down && SAR < sourceCur.h)) {
                    // Trend changes
                    computed.trend = trend === Trend.Up ? Trend.Down : Trend.Up;
                    computed.a = initialFactor;
                    computed.EP = trend === Trend.Up ? sourceCur.l : sourceCur.h;
                    computed.SAR = EP; // New SAR is EP from previous trend
                }
                else {
                    // Trend continues
                    computed.trend = trend;
                    computed.SAR = SAR;
                    computed.EP = trend === Trend.Up ? Math.max(EP, sourceCur.h) : Math.min(EP, sourceCur.l);
                    // Increment "a" if new highest high or lowest low. If HH / LL is not changed, do not increment "a".
                    computed.a = (computed.EP !== EP) ? Math.min(a + increment, maxFactor) : a;
                }
            }
            else {
                // Computing first SAR
                computed.trend = Trend.Up;
                computed.a = initialFactor;
                computed.EP = sourceCur.h;
                computed.SAR = sourceCur.l;
            }
        }
        return computed;
    };
    PSARIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('initialFactor', new index_1.SettingSet({
            name: 'initialFactor',
            value: this.extsettings.initialFactor.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Initial factor'
        }));
        group.setSetting('increment', new index_1.SettingSet({
            name: 'increment',
            value: this.extsettings.increment.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Increment'
        }));
        group.setSetting('maxFactor', new index_1.SettingSet({
            name: 'maxFactor',
            value: this.extsettings.maxFactor.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Maximum factor'
        }));
        return group;
    };
    PSARIndicator.prototype.setSettings = function (value) {
        var initialFactor = value.getSetting('datasource.initialFactor');
        this.extsettings.initialFactor = (initialFactor && initialFactor.value) ? parseInt(initialFactor.value, 10) : this.extsettings.initialFactor;
        var increment = value.getSetting('datasource.increment');
        this.extsettings.increment = (increment && increment.value) ? parseInt(increment.value, 10) : this.extsettings.increment;
        var maxFactor = value.getSetting('datasource.maxFactor');
        this.extsettings.maxFactor = (maxFactor && maxFactor.value) ? parseInt(maxFactor.value, 10) : this.extsettings.maxFactor;
        // recompute
        this.compute();
    };
    return PSARIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.PSARIndicator = PSARIndicator;
var PSARSettings = (function () {
    function PSARSettings() {
        this.initialFactor = 0.02;
        this.increment = 0.02;
        this.maxFactor = 0.2;
    }
    return PSARSettings;
}());
var PSARIndicatorRenderer = (function () {
    function PSARIndicatorRenderer() {
    }
    PSARIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            var curItem = (item instanceof PSARCandlestick) ? item : undefined;
            if (curItem && curItem.SAR !== undefined) {
                var y = yAxis.toX(curItem.SAR);
                canvas.beginPath();
                if (curItem.trend === Trend.Up) {
                    canvas.setStrokeStyle('#56B50E');
                    canvas.setFillStyle('#56B50E');
                }
                else {
                    canvas.setStrokeStyle('#EA0E1C');
                    canvas.setFillStyle('#EA0E1C');
                }
                canvas.arc(x, y, 2, 0, 360);
                canvas.fill();
                canvas.stroke();
            }
        });
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = data.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = data.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const curItem = (data.current instanceof PSARCandlestick) ? <PSARCandlestick>data.current : undefined;
        //         if (curItem && curItem.SAR !== undefined) {
        //             const y = yAxis.toX(curItem.SAR);
        //             canvas.beginPath();
        //             if (curItem.trend === Trend.Up) {
        //                 canvas.setStrokeStyle('#56B50E');
        //                 canvas.setFillStyle('#56B50E');
        //             } else {
        //                 canvas.setStrokeStyle('#EA0E1C');
        //                 canvas.setFillStyle('#EA0E1C');
        //             }
        //             canvas.arc(x, y, 2, 0, 360);
        //             canvas.fill();
        //             canvas.stroke();
        //         }
        //     }
        // }
    };
    PSARIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    PSARIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    PSARIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return PSARIndicatorRenderer;
}());
exports.PSARIndicatorRenderer = PSARIndicatorRenderer;
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./SimpleIndicator":125}],116:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
// RATIOCATOR = 100 * (pa/pb) / (A1/B1)
var RATIOIndicator = (function (_super) {
    __extends(RATIOIndicator, _super);
    function RATIOIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.extsettings = new RATIOSettings();
        _this.handler = function (res) {
            var candleA = res[0], candleB = res[1];
            if (candleA !== undefined && candleB !== undefined) {
                // Compute base koefficient and recompute
                var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(_this.extsettings.valueType);
                var p = accessor(candleA);
                var s = accessor(candleB);
                if (p !== undefined && s !== undefined && s !== 0) {
                    _this.base = p / s;
                    _this.compute();
                    _this.context.render();
                }
            }
        };
        _this.name = 'RATIO';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    RATIOIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.extsettings.valueType);
        // Get compare data souce
        var compareDataSource = this.extsettings.uid ? this.context.register.getItem(this.extsettings.uid) : undefined;
        if (!compareDataSource) {
            return;
        }
        var sourceIter = this.source.getIterator();
        var compareIter = compareDataSource.getIterator();
        // Get base value
        if (this.base === undefined) {
            if (this.extsettings.basedate) {
                // load candles on specified date
                var promiseA = this.context.getCandle(this.source.asset, this.extsettings.basedate, this.context.interval());
                var promiseB = this.context.getCandle(compareDataSource.asset, this.extsettings.basedate, this.context.interval());
                Promise.all([promiseA, promiseB]).then(this.handler);
            }
            return;
        }
        // Go to first element
        if (arg) {
            sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!sourceIter.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var found = false;
        var firstUid = sourceIter.current.uid;
        var lastUid;
        var computedArray = [];
        var _loop_1 = function () {
            var source = sourceIter.current;
            lastUid = source.uid;
            if (found) {
                found = compareIter.moveTo(function (citem) { return source.uid.compare(citem.uid) === 0; }) !== -1;
            }
            else {
                found = compareIter.goTo(function (citem) { return source.uid.compare(citem.uid) === 0; });
            }
            if (found) {
                var computed = this_1.computeOne(source, compareIter.current, this_1.base, accessor);
                computedArray.push(computed);
            }
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (sourceIter.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        var origArg = new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
        return origArg;
    };
    RATIOIndicator.prototype.computeOne = function (sourceItem, compareItem, base, accessor) {
        var p = accessor(sourceItem);
        var s = accessor(compareItem);
        var computed = new CandlestickExt_1.CandlestickExt(sourceItem.date);
        computed.uidOrig.t = sourceItem.uid.t;
        computed.uidOrig.n = sourceItem.uid.n;
        if (p !== undefined && s !== undefined && s !== 0 && base !== 0) {
            computed.c = 100 * (p / s) / base;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    RATIOIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('basedate', new index_1.SettingSet({
            name: 'basedate',
            displayName: 'Base date',
            value: this.extsettings.basedate ? index_4.DateUtils.formatDateISO(this.extsettings.basedate) : '',
            settingType: index_1.SettingType.date
        }));
        var sources = this.context.register.list();
        sources.push(new index_3.IdValue('', ''));
        group.setSetting('uid', new index_1.SettingSet({
            name: 'uid',
            displayName: 'Compare',
            value: this.extsettings.uid,
            settingType: index_1.SettingType.select,
            options: sources.map(function (item) { return { value: item.id, text: item.value }; })
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.extsettings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    RATIOIndicator.prototype.setSettings = function (value) {
        var uid = value.getSetting('datasource.uid');
        this.extsettings.uid = (uid && uid.value) ? uid.value : this.extsettings.uid;
        var d = value.getSetting('datasource.basedate');
        this.extsettings.basedate = (d && d.value) ? index_4.DateUtils.parseISODate(d.value) : undefined;
        var valueType = value.getSetting('datasource.valueType');
        this.extsettings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.extsettings.valueType;
        // cleare stored base value
        this.base = undefined;
        // recompute
        this.compute();
    };
    return RATIOIndicator;
}(index_2.IndicatorDataSource));
exports.RATIOIndicator = RATIOIndicator;
var RATIOSettings = (function () {
    function RATIOSettings() {
        this.period = 10;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return RATIOSettings;
}());
},{"../core/index":53,"../data/index":71,"../shared/index":166,"../utils/index":175,"./CandlestickExt":100,"./MovingAverage":112,"./ValueAccessor":132}],117:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var RainbowCandlestick = (function (_super) {
    __extends(RainbowCandlestick, _super);
    function RainbowCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.line = [];
        return _this;
    }
    RainbowCandlestick.prototype.toString = function () {
        return '';
    };
    return RainbowCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RainbowCandlestick = RainbowCandlestick;
var RBIndicator = (function (_super) {
    __extends(RBIndicator, _super);
    function RBIndicator(source, context) {
        var _this = _super.call(this, RainbowCandlestick, source, context) || this;
        _this.name = 'RB';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        _this.settings.period = Math.max.apply(Math, RBIndicator.periods); // Taking max item as required amount of items
        return _this;
    }
    RBIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RainbowCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            for (var i = 0; i < RBIndicator.K; i += 1) {
                var lastComputedValue = lastComputed !== undefined ? lastComputed.line[i] : undefined;
                computed.line[i] = this.ma.compute(RBIndicator.periods[i], sourceItems, accessor, undefined, lastComputedValue);
            }
        }
        return computed;
    };
    RBIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    RBIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    return RBIndicator;
}(SimpleIndicator_1.SimpleIndicator));
RBIndicator.periods = [9, 12, 15, 18, 21, 24, 27, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 100];
RBIndicator.K = RBIndicator.periods.length; // Amount of periods
exports.RBIndicator = RBIndicator;
var RBIndicatorRenderer = (function () {
    function RBIndicatorRenderer() {
    }
    RBIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var _loop_1 = function (i) {
            var color = this_1.rainbow(RBIndicator.K, i);
            canvas.beginPath();
            canvas.setStrokeStyle(color);
            // Up
            index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
                if (item instanceof RainbowCandlestick) {
                    var d = item;
                    if (d && d.line[i] !== undefined) {
                        var value = d.line[i];
                        return { uid: item.uid, v: value };
                    }
                }
            }, frame, timeAxis, yAxis);
            canvas.stroke();
        };
        var this_1 = this;
        for (var i = 0; i < RBIndicator.K; i += 1) {
            _loop_1(i);
        }
    };
    RBIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    RBIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    RBIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    RBIndicatorRenderer.prototype.rainbow = function (numOfSteps, step) {
        var r = 0.0;
        var g = 0.0;
        var b = 0.0;
        var h = step / numOfSteps;
        var i = Math.floor(h * 6);
        var f = h * 6.0 - i;
        var q = 1 - f;
        switch (i % 6) {
            case 0:
                r = 1;
                g = f;
                b = 0;
                break;
            case 1:
                r = q;
                g = 1;
                b = 0;
                break;
            case 2:
                r = 0;
                g = 1;
                b = f;
                break;
            case 3:
                r = 0;
                g = q;
                b = 1;
                break;
            case 4:
                r = f;
                g = 0;
                b = 1;
                break;
            case 5:
                r = 1;
                g = 0;
                b = q;
                break;
            default:
                throw new Error('Invalid operation');
        }
        return '#'
            + ('00' + (parseInt((r * 255).toString(), 10)).toString(16)).slice(-2)
            + ('00' + (parseInt((g * 255).toString(), 10)).toString(16)).slice(-2)
            + ('00' + (parseInt((b * 255).toString(), 10)).toString(16)).slice(-2);
    };
    return RBIndicatorRenderer;
}());
exports.RBIndicatorRenderer = RBIndicatorRenderer;
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],118:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Roc = 100 x ( Close[t] - Close[t-N] ) / Close[t-N] 
var ROCIndicator = (function (_super) {
    __extends(ROCIndicator, _super);
    function ROCIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'ROC';
        return _this;
    }
    Object.defineProperty(ROCIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period + 1; // ROC requires one extra item
        },
        enumerable: true,
        configurable: true
    });
    ROCIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var L = sourceItems.length;
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var i = L - (N + 1);
        if (i >= 0 && i < sourceItems.length) {
            var prev = sourceItems.getItem(i);
            var curValue = accessor(source);
            var prevValue = accessor(prev);
            if (curValue !== undefined && prevValue !== undefined) {
                computed.c = 100 * (curValue - prevValue) / prevValue;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    ROCIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    ROCIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return ROCIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.ROCIndicator = ROCIndicator;
},{"../core/index":53,"./CandlestickExt":100,"./SimpleIndicator":125,"./ValueAccessor":132}],119:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// RS = AVG (upward) / AVG (downward);  
// RSI = 100 - (100 / (1 + RS));
var RSICandlestick = (function (_super) {
    __extends(RSICandlestick, _super);
    function RSICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSICandlestick = RSICandlestick;
var RSIOscillator = (function (_super) {
    __extends(RSIOscillator, _super);
    function RSIOscillator(source, context) {
        var _this = _super.call(this, RSICandlestick, source, context) || this;
        _this.name = 'RSI';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // RSI requires Gain/Loss
        _this.initExtension();
        // Set default settings
        _this.settings.period = 14;
        _this.settings.valueType = ValueAccessor_1.ValueAccessorType.close;
        return _this;
    }
    RSIOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var _this = this;
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RSICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // Compute average gain/loss
        var lastComputedGain = lastComputed !== undefined ? lastComputed.avgGain : undefined;
        computed.avgGain = this.ma.compute(N, sourceItems, function (candle) { return _this.ext.value(candle).gain; }, undefined, lastComputedGain);
        var lastComputedLoss = lastComputed !== undefined ? lastComputed.avgLoss : undefined;
        computed.avgLoss = this.ma.compute(N, sourceItems, function (candle) { return _this.ext.value(candle).loss; }, undefined, lastComputedLoss);
        if (computed.avgGain !== undefined && computed.avgLoss !== undefined && computed.avgLoss !== 0) {
            var RS = computed.avgGain / computed.avgLoss;
            var RSI = 100 - (100 / (1 + RS));
            computed.c = RSI;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    RSIOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    RSIOscillator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_2.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    RSIOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // re-init extension to new value
        this.initExtension();
        // recompute
        this.compute();
    };
    RSIOscillator.prototype.initExtension = function () {
        // remove old extension and add new one
        //
        if (this.ext) {
            this.source.removeExtension(this.ext.uname);
        }
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        this.ext = new index_1.GainLossExtension(accessor);
        this.source.addExtension(this.ext.uname, this.ext);
    };
    return RSIOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.RSIOscillator = RSIOscillator;
},{"../compute/index":40,"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./ValueAccessor":132}],120:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// RSL = Close / MA
var RSLCandlestick = (function (_super) {
    __extends(RSLCandlestick, _super);
    function RSLCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSLCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSLCandlestick = RSLCandlestick;
var RSLOscillator = (function (_super) {
    __extends(RSLOscillator, _super);
    function RSLOscillator(source, context) {
        var _this = _super.call(this, RSLCandlestick, source, context) || this;
        _this.name = 'RSL';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        // Set default settings
        _this.settings.period = 27;
        return _this;
    }
    RSLOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RSLCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        // Compute average gain/loss
        var lastComputedMA = lastComputed !== undefined ? lastComputed.MA : undefined;
        computed.MA = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedMA);
        if (computed.MA !== undefined && value !== undefined) {
            computed.c = computed.MA !== 0 ? value / computed.MA : undefined;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return RSLOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.RSLOscillator = RSLOscillator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],121:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var SMAIndicator = (function (_super) {
    __extends(SMAIndicator, _super);
    function SMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'SMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    SMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return SMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SMAIndicator = SMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],122:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var SMMAIndicator = (function (_super) {
    __extends(SMMAIndicator, _super);
    function SMMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'SMMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        return _this;
    }
    SMMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return SMMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SMMAIndicator = SMMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],123:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
var STDEVIndicator = (function (_super) {
    __extends(STDEVIndicator, _super);
    function STDEVIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'STDEV';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Weight);
        _this.settings.period = 10;
        return _this;
    }
    STDEVIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var array = [];
        var sum = 0;
        for (var i = sourceItems.length - 1; i >= 0 && array.length < N; i -= 1) {
            var value = accessor(sourceItems.getItem(i));
            if (value !== undefined) {
                array.push(value);
                sum += value;
            }
        }
        if (array.length < N || array.length === 0) {
            return computed;
        }
        var avg = sum / array.length;
        var sumSqrtDev = array.reduce(function (prev, cur) { return prev + Math.pow(cur - avg, 2); }, 0);
        computed.c = Math.sqrt(sumSqrtDev / array.length);
        computed.h = computed.c;
        computed.l = computed.c;
        return computed;
    };
    STDEVIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    STDEVIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return STDEVIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.STDEVIndicator = STDEVIndicator;
},{"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./ValueAccessor":132}],124:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Upper = hl2 + M x ATR (if Close > ST prev on down trend)
// Lower = hl2 - M x ATR (if Close < ST prev on upper trend)
var Type;
(function (Type) {
    Type[Type["Undef"] = 0] = "Undef";
    Type[Type["Up"] = 1] = "Up";
    Type[Type["Down"] = 2] = "Down";
})(Type = exports.Type || (exports.Type = {}));
var STCandlestick = (function (_super) {
    __extends(STCandlestick, _super);
    function STCandlestick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.trend = Type.Undef;
        return _this;
    }
    STCandlestick.prototype.toString = function (precision) {
        return "" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a');
    };
    return STCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.STCandlestick = STCandlestick;
var STIndicator = (function (_super) {
    __extends(STIndicator, _super);
    function STIndicator(source, context) {
        var _this = _super.call(this, STCandlestick, source, context) || this;
        _this.extsettings = new STSettings();
        _this.name = 'ST';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // Adding TR to build ATR
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        // Set default settings
        _this.settings.period = 10;
        return _this;
    }
    STIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var multiplier = this.extsettings.multiplier;
        var current = sourceItems.last();
        var prev = sourceItems.length > 1 ? sourceItems.getItem(sourceItems.length - 1) : undefined;
        var lastComputed = computedArray.lastOrDefault();
        var computed = new STCandlestick(current.date);
        computed.uidOrig.t = current.uid.t;
        computed.uidOrig.n = current.uid.n;
        // Build ATR
        var lastComputedValue = lastComputed !== undefined ? lastComputed.ATR : undefined;
        computed.ATR = this.ma.compute(N, sourceItems, function (c) { return c.ext['tr']; }, undefined, lastComputedValue);
        if (current.c !== undefined && current.h !== undefined && current.l !== undefined && computed.ATR !== undefined) {
            // Defining current trend
            //
            computed.trend = Type.Up; // default trend
            if (lastComputed !== undefined && lastComputed.c !== undefined) {
                if (lastComputed.trend === Type.Up && current.c < lastComputed.c) {
                    computed.trend = Type.Down;
                }
                else if (lastComputed.trend === Type.Down && current.c > lastComputed.c) {
                    computed.trend = Type.Up;
                }
                else if (lastComputed.trend !== Type.Undef) {
                    computed.trend = lastComputed.trend;
                }
            }
            // Computing up/down trend values
            var hl2 = (current.h + current.l) / 2;
            var up = hl2 - multiplier * computed.ATR;
            var down = hl2 + multiplier * computed.ATR;
            //computed.trendUp = ( prev.c > lastComputed.trendUp ) ? Math.max(up, lastComputed.trendUp) : up;
            computed.trendUp = up;
            //computed.trendDown = ( sourceprev.c < lastComputed.trendDown ) ? Math.min(down, lastComputed.trendDown) : down;
            computed.trendDown = down;
            if (prev !== undefined && prev.c !== undefined && lastComputed !== undefined && lastComputed.trendUp !== undefined
                && prev.c > lastComputed.trendUp) {
                computed.trendUp = Math.max(up, lastComputed.trendUp);
            }
            if (prev !== undefined && prev.c !== undefined && lastComputed !== undefined && lastComputed.trendDown !== undefined
                && prev.c < lastComputed.trendDown) {
                computed.trendDown = Math.min(down, lastComputed.trendDown);
            }
            // Computing supertrend
            //
            if (computed.trend === Type.Up) {
                computed.c = computed.trendUp;
            }
            else if (computed.trend === Type.Down) {
                computed.c = computed.trendDown;
            }
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    STIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('multiplier', new index_2.SettingSet({
            name: 'multiplier',
            value: this.extsettings.multiplier.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Factor'
        }));
        return group;
    };
    STIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var multiplier = value.getSetting('datasource.multiplier');
        this.extsettings.multiplier = (multiplier && multiplier.value) ? parseFloat(multiplier.value) : this.extsettings.multiplier;
        // recompute
        this.compute();
    };
    return STIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.STIndicator = STIndicator;
var STSettings = (function () {
    function STSettings() {
        this.multiplier = 3;
    }
    return STSettings;
}());
var STIndicatorRenderer = (function () {
    function STIndicatorRenderer() {
    }
    STIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var found = false;
        var curPoint = undefined;
        var prevPoint = undefined;
        var curItem = undefined;
        var prevItem = undefined;
        index_3.RenderUtils.iterate(timeAxis, data, function (item, x) {
            curItem = (item instanceof STCandlestick) ? item : undefined;
            var cur = undefined;
            if (curItem) {
                var st = curItem;
                if (st && st.c !== undefined) {
                    cur = { uid: curItem.uid, v: st.c };
                    var y = yAxis.toX(cur.v);
                    curPoint = { x: x, y: y };
                    if (prevItem) {
                        if (curItem.trend === Type.Up && prevItem.trend === Type.Up) {
                            canvas.setStrokeStyle('#56B50E');
                        }
                        else if (curItem.trend === Type.Down && prevItem.trend === Type.Down) {
                            canvas.setStrokeStyle('#FF0000');
                        }
                        else {
                            canvas.setStrokeStyle('#606060');
                        }
                    }
                    if (prevPoint) {
                        canvas.beginPath();
                        canvas.moveTo(prevPoint.x, prevPoint.y);
                        canvas.lineTo(curPoint.x, curPoint.y);
                        canvas.stroke();
                    }
                    prevItem = curItem;
                    prevPoint = curPoint;
                }
            }
        });
    };
    STIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    STIndicatorRenderer.prototype.getSettings = function () {
        return new index_2.SettingSet('visual');
    };
    STIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return STIndicatorRenderer;
}());
exports.STIndicatorRenderer = STIndicatorRenderer;
},{"../compute/index":40,"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],125:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var ValueAccessor_1 = require("./ValueAccessor");
var SimpleIndicator = (function (_super) {
    __extends(SimpleIndicator, _super);
    function SimpleIndicator(dataType, source, context) {
        var _this = _super.call(this, dataType, source, context, function (lhs, rhs) { return lhs.uidOrig.compare(rhs.uidOrig); }) || this;
        _this.settings = new SimpleSettings();
        return _this;
    }
    Object.defineProperty(SimpleIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period; // By default loading period number of items
        },
        enumerable: true,
        configurable: true
    });
    SimpleIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        // Remove extended (fake) items
        this.dataStorage.trimRight(function (item) { return item.isFake; });
        this.dataStorage.trimLeft(function (item) { return item.isFake; });
        var computedArray = [];
        var N = this.requiredItemsOnCompute; //this.settings.period;
        var sourceItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var computedItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source items
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            sourceItems.pushRange(prev);
        }
        // Get last computed items
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
                computedArray = index_2.IndicatorDataSource.getPreviousItems(iter, N - 1);
                computedItems.pushRange(computedArray);
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            sourceItems.push(iterator.current);
            var computed = this.computeOne(sourceItems, computedItems, accessor);
            computedArray.push(computed);
            computedItems.push(computed);
            //lastComputed = computed;
        } while (iterator.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        this.afterCompute(arg);
        var origArg = new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
        // Update shift
        var shiftedArg = this.shiftTime(origArg, this.settings.displacement);
        return shiftedArg;
    };
    SimpleIndicator.prototype.afterCompute = function (arg) { };
    SimpleIndicator.prototype.shiftTime = function (arg, shift) {
        // TODO: arg can narrow shift area
        if (shift > 0) {
            this.shiftTimeRight(shift);
        }
        else if (shift < 0) {
            this.shiftTimeLeft(shift);
        }
        else {
            this.noshift();
            return arg;
        }
        // Build new DataChangeArgument
        var shiftedFirstUid;
        var shiftedLastUid;
        var iter = this.dataStorage.getIterator();
        if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
            shiftedFirstUid = iter.current.uid;
        }
        if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidLast) === 0; })) {
            shiftedLastUid = iter.current.uid;
        }
        // TODO: Init lastUidBefore/lastUidAfter.
        return new index_2.DataChangedArgument(shiftedFirstUid || arg.uidFirst, shiftedLastUid || arg.uidLast, arg.count);
    };
    SimpleIndicator.prototype.noshift = function () {
        // Just copy uid
        var iter = this.dataStorage.getIterator();
        while (iter.moveNext()) {
            iter.current.uid = iter.current.uidOrig;
        }
    };
    // TODO: Unite with shiftRight
    SimpleIndicator.prototype.shiftTimeLeft = function (shift) {
        var isFake = false;
        var iterFirst = this.dataStorage.getIterator();
        var iterLast = this.dataStorage.getIterator();
        if (!iterFirst.goToLast() || !iterLast.goToLast()) {
            // no items to shift
            return;
        }
        // Shift first iterator to start position
        //
        var counter = 0;
        var uidFirst = iterFirst.current.uidOrig;
        while (counter < Math.abs(shift)) {
            isFake = !iterFirst.movePrev();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, -1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
            counter += 1;
        }
        // Start copying uid loop 
        //
        do {
            // Move uid
            iterLast.current.uid = new index_3.Uid(uidFirst.t, uidFirst.n);
            // Shift one step
            isFake = !iterFirst.movePrev();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, -1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
        } while (iterLast.movePrev());
    };
    SimpleIndicator.prototype.shiftTimeRight = function (shift) {
        var isFake = false;
        var iterFirst = this.dataStorage.getIterator();
        var iterLast = this.dataStorage.getIterator();
        if (!iterFirst.moveNext() || !iterLast.moveNext()) {
            // no items to shift
            return;
        }
        // Shift first iterator to start position
        //
        var counter = 0;
        var uidFirst = iterFirst.current.uidOrig;
        while (counter < Math.abs(shift)) {
            isFake = !iterFirst.moveNext();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, 1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
            counter += 1;
        }
        // Start copying uid loop 
        //
        do {
            // Move uid
            iterLast.current.uid = new index_3.Uid(uidFirst.t, uidFirst.n);
            // Shift one step
            isFake = !iterFirst.moveNext();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, 1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
        } while (iterLast.moveNext());
    };
    SimpleIndicator.prototype.shiftUid = function (uid, shift) {
        return new index_3.Uid(this.addInterval(uid.t, shift));
    };
    SimpleIndicator.prototype.shiftDataExt = function (shift, replace) {
        var iter = this.dataStorage.getIterator();
        this.extend(shift, iter);
        var iterLead = this.dataStorage.getIterator();
        var iterFollow = this.dataStorage.getIterator();
        if (shift > 0) {
            var lead = false;
            var follow = false;
            // Move lead iterator to the last not fake item
            lead = iterLead.goToLast();
            var counter_1 = 0;
            iterLead.somebackward(function (item) {
                counter_1 += 1;
                return item.isFake;
            });
            // Follow iterator should be "shift" items back from lead
            follow = iterFollow.goToLast();
            counter_1 = counter_1 - (shift + 1);
            while (counter_1 > 0) {
                follow = iterFollow.movePrev();
                counter_1 -= 1;
            }
            while (follow) {
                var source = lead ? iterLead.current : undefined;
                var dest = iterFollow.current;
                replace(dest, source); // source can be undefined
                // Move both iterators left
                lead = iterLead.movePrev();
                follow = iterFollow.movePrev();
            }
        }
        else if (shift < 0) {
            var lead = false;
            var follow = false;
            // Move lead iterator to the first not fake item
            var moves = iterLead.moveNext() ? iterLead.moveTo(function (item) { return !item.isFake; }) : -1; // Before moveTo, moveNext should be called
            lead = moves > 0;
            // Follow iterator should be "shift" items back from lead
            moves = moves - Math.abs(shift);
            while (moves > 0) {
                follow = iterFollow.moveNext();
                moves -= 1;
            }
            while (follow) {
                var source = lead ? iterLead.current : undefined;
                var dest = iterFollow.current;
                replace(dest, source); // source can be undefined
                // Move both iterators left
                lead = iterLead.moveNext();
                follow = iterFollow.moveNext();
            }
        }
        else {
            // Source and dest is the same element
            while (iterLead.moveNext()) {
                replace(iterLead.current, iterLead.current);
            }
        }
    };
    SimpleIndicator.prototype.extend = function (shift, iter) {
        if (shift === 0) {
            return;
        }
        // Add fake items. Working with uid_orig
        // If there are already fake items, they should not be removed.
        var extended = [];
        if (shift < 0) {
            // Get count of fake items
            var moved = iter.moveNext() ? iter.moveTo(function (item) { return !item.isFake; }) : -1; // Before moveTo, moveNext should be called
            var fakeItems = (moved !== -1) ? moved - 1 : 0;
            // Add fake items
            var add = Math.abs(shift) - fakeItems;
            // Get first element
            if (iter.goTo(function (item) { return true; })) {
                var uid = iter.current.uid;
                for (var i = 0; i < add; i += 1) {
                    uid = this.shiftUid(uid, shift < 0 ? -1 : 1);
                    var ext = new this.dataType(uid.t);
                    ext.isFake = true;
                    ext.uidOrig = new index_3.Uid(uid.t);
                    extended.push(ext);
                }
            }
        }
        else if (shift > 0) {
            if (iter.goToLast()) {
                var moved_1 = 0;
                iter.somebackward(function (item, counter) {
                    moved_1 = counter;
                    return item.isFake;
                });
                var fakeItems = moved_1;
                var add = Math.abs(shift) - fakeItems;
                iter.goToLast();
                var uid = iter.current.uid;
                for (var i = 0; i < add; i += 1) {
                    uid = this.shiftUid(uid, shift < 0 ? -1 : 1);
                    var ext = new this.dataType(uid.t);
                    ext.isFake = true;
                    ext.uidOrig = new index_3.Uid(uid.t);
                    extended.push(ext);
                }
            }
        }
        this.dataStorage.merge(extended);
    };
    SimpleIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({
            name: 'datasource',
            group: true,
            settings: [
                {
                    name: 'period',
                    value: this.settings.period.toString(),
                    settingType: index_1.SettingType.numeric,
                    displayName: 'Period'
                }, {
                    name: 'displacement',
                    value: this.settings.displacement.toString(),
                    settingType: index_1.SettingType.numeric,
                    displayName: 'Displacement'
                }, {
                    name: 'valueType',
                    value: this.settings.valueType.toString(),
                    settingType: index_1.SettingType.select,
                    displayName: 'Calculate using',
                    options: [
                        { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                        { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                        { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                        { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                        { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                        { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                        { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                        { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
                    ]
                }
            ]
        });
    };
    SimpleIndicator.prototype.setSettings = function (value) {
        this.settings.period = value.getValueOrDefault('datasource.period', this.settings.period);
        this.settings.displacement = value.getValueOrDefault('datasource.displacement', this.settings.displacement);
        this.settings.valueType = value.getValueOrDefault('datasource.valueType', this.settings.valueType);
        // recompute
        this.compute();
    };
    return SimpleIndicator;
}(index_2.IndicatorDataSource));
exports.SimpleIndicator = SimpleIndicator;
var SimpleSettings = (function () {
    function SimpleSettings() {
        this.period = 20;
        this.displacement = 0;
        this.upperThreshold = 0;
        this.lowerThreshold = 0;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return SimpleSettings;
}());
exports.SimpleSettings = SimpleSettings;
},{"../core/index":53,"../data/index":71,"../model/index":142,"../shared/index":166,"./ValueAccessor":132}],126:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Fast %K = 100 x (C-L) / (H-L) // highest high, lowest low
// Fast %D = SMA (Fast %K, 3)
//
// Slow %K = SMA (Fast %K, 3)
// Slow %D = SMA (Slow %K, 3)
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        return _super.call(this, date, c, o, h, l) || this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.K !== undefined ? this.K.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.D !== undefined ? this.D.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var FastStochasticOscillator = (function (_super) {
    __extends(FastStochasticOscillator, _super);
    function FastStochasticOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.extsettings = new FastStochasticSettings();
        _this.name = 'FSTOC';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.extsettings.periodK = 14;
        _this.extsettings.periodD = 3;
        return _this;
    }
    Object.defineProperty(FastStochasticOscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodD);
        },
        enumerable: true,
        configurable: true
    });
    FastStochasticOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var periodK = this.extsettings.periodK;
        var periodD = this.extsettings.periodD;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        var value = source.c; // this.accessor(source);
        if (value !== undefined) {
            // TODO: Slow %K should start computing only when there is enough values. Not from the start
            var lastComputedFastK = lastComputed !== undefined ? lastComputed.K : undefined;
            computed.fastD = this.ma.compute(periodD, computedArray, function (c) { return c.fastK; }, computed, lastComputedFastK);
            computed.K = computed.fastK;
            computed.D = computed.fastD;
            // computed.c = undefined;
            // computed.h = computed.c;
            // computed.l = computed.c;
        }
        return computed;
    };
    FastStochasticOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    FastStochasticOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%K period'
        }));
        group.setSetting('periodD', new index_1.SettingSet({
            name: 'periodD',
            value: this.extsettings.periodD.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%D period'
        }));
        return group;
    };
    FastStochasticOscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodD = value.getSetting('datasource.period');
        this.extsettings.periodD = (periodD && periodD.value) ? parseInt(periodD.value, 10) : this.extsettings.periodD;
        // recompute
        this.compute();
    };
    return FastStochasticOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.FastStochasticOscillator = FastStochasticOscillator;
var SlowStochasticOscillator = (function (_super) {
    __extends(SlowStochasticOscillator, _super);
    function SlowStochasticOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.extsettings = new SlowStochasticSettings();
        _this.name = 'SSTOC';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.extsettings.periodK = 14;
        _this.extsettings.periodD = 3;
        _this.extsettings.period2D = 3;
        return _this;
    }
    Object.defineProperty(SlowStochasticOscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodD, this.extsettings.period2D);
        },
        enumerable: true,
        configurable: true
    });
    SlowStochasticOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var periodK = this.extsettings.periodK;
        var periodD = this.extsettings.periodD;
        var period2D = this.extsettings.period2D;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        var value = source.c; // this.accessor(source);
        if (value !== undefined) {
            // TODO: Slow %K should start computing only when there is enough values. Not from the start
            var lastComputedSlowK = lastComputed !== undefined ? lastComputed.K : undefined;
            computed.K = this.ma.compute(periodD, computedArray, function (c) { return c.fastK; }, computed, lastComputedSlowK);
            var lastComputedSlowD = lastComputed !== undefined ? lastComputed.D : undefined;
            computed.D = this.ma.compute(period2D, computedArray, function (c) { return c.K; }, computed, lastComputedSlowD);
            // computed.c = undefined;
            // computed.h = computed.c;
            // computed.l = computed.c;
        }
        return computed;
    };
    SlowStochasticOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    SlowStochasticOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%K period'
        }));
        group.setSetting('periodD', new index_1.SettingSet({
            name: 'periodD',
            value: this.extsettings.periodD.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%D period'
        }));
        group.setSetting('period2D', new index_1.SettingSet({
            name: 'period2D',
            value: this.extsettings.period2D.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '2nd %D period'
        }));
        return group;
    };
    SlowStochasticOscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodD = value.getSetting('datasource.period');
        this.extsettings.periodD = (periodD && periodD.value) ? parseInt(periodD.value, 10) : this.extsettings.periodD;
        var period2D = value.getSetting('datasource.period');
        this.extsettings.period2D = (period2D && period2D.value) ? parseInt(period2D.value, 10) : this.extsettings.period2D;
        // recompute
        this.compute();
    };
    return SlowStochasticOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SlowStochasticOscillator = SlowStochasticOscillator;
var OBOSOscillator = (function (_super) {
    __extends(OBOSOscillator, _super);
    function OBOSOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'OBOS';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.settings.period = 14;
        return _this;
    }
    OBOSOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodK = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        if (computed.fastK !== undefined) {
            computed.c = computed.fastK;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    OBOSOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    OBOSOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    OBOSOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return OBOSOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.OBOSOscillator = OBOSOscillator;
var FastStochasticSettings = (function () {
    function FastStochasticSettings() {
        this.periodK = 14;
        this.periodD = 3;
    }
    return FastStochasticSettings;
}());
var SlowStochasticSettings = (function () {
    function SlowStochasticSettings() {
        this.periodK = 14;
        this.periodD = 3;
        this.period2D = 3;
    }
    return SlowStochasticSettings;
}());
var StochasticOscillatorRenderer = (function (_super) {
    __extends(StochasticOscillatorRenderer, _super);
    function StochasticOscillatorRenderer() {
        return _super.call(this) || this;
    }
    StochasticOscillatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var overlapfill = this.settings.zone.overlapfill;
        var upthreshold = this.settings.zone.upthreshold;
        var lowthreshold = this.settings.zone.lowthreshold;
        var upper = yAxis.toX(upthreshold);
        var lower = yAxis.toX(lowthreshold);
        // Collect charts points
        //
        var K = [];
        K.length = timeAxis.count; // preallocate memory
        var i = 0;
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.K !== undefined) {
                    var y = yAxis.toX(d.K);
                    K[i] = { x: x, y: y };
                    i += 1;
                }
            }
        });
        K.length = i;
        if (overlapfill && K.length > 1) {
            index_2.RenderUtils.fillOverlap(canvas, K, upper, true, 'green');
            index_2.RenderUtils.fillOverlap(canvas, K, lower, false, 'red');
        }
        canvas.beginPath();
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var double = item;
                if (double.K !== undefined) {
                    return { uid: item.uid, v: double.K };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.setStrokeStyle('#00B730');
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#B50021');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var double = item;
                if (double.D !== undefined) {
                    var value = double.D;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    StochasticOscillatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    StochasticOscillatorRenderer.prototype.getSettings = function () {
        var zone = _super.prototype.getZonesSettings.call(this);
        var visual = new index_1.SettingSet('visual');
        visual.setSetting('zones', zone);
        return visual;
    };
    StochasticOscillatorRenderer.prototype.setSettings = function (settings) {
        var zone = settings.getSetting('visual.zones');
        if (zone) {
            _super.prototype.setZonesSettings.call(this, zone);
        }
    };
    return StochasticOscillatorRenderer;
}(index_2.ChartRenderer));
exports.StochasticOscillatorRenderer = StochasticOscillatorRenderer;
function computeFastK(sourceItems, periodK) {
    var source = sourceItems.last(); // source must contain at least one item.
    var computed = new DoubleCandlestick(source.date);
    computed.uidOrig.t = source.uid.t;
    computed.uidOrig.n = source.uid.n;
    var value = source.c; // accessor(source)
    if (value !== undefined) {
        // calculating min/max with current value
        var H = sourceItems.max(function (c) { return c.h; }, periodK); // highest high for the period
        var L = sourceItems.min(function (c) { return c.l; }, periodK); // lowest low for the period
        if (H !== undefined && L !== undefined) {
            computed.fastK = (L !== H) ? 100 * (value - L) / (H - L) : 100; // fast %K
        }
    }
    return computed;
}
},{"../core/index":53,"../render/index":162,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],127:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TEMACandlestick = (function (_super) {
    __extends(TEMACandlestick, _super);
    function TEMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return TEMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.TEMACandlestick = TEMACandlestick;
var TEMAIndicator = (function (_super) {
    __extends(TEMAIndicator, _super);
    function TEMAIndicator(source, context) {
        var _this = _super.call(this, TEMACandlestick, source, context) || this;
        _this.name = 'TEMA';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    TEMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new TEMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA = lastComputed !== undefined ? lastComputed.EMA : undefined;
            // 1. Compute EMA
            computed.EMA = this.ema.compute(N, sourceItems, accessor, undefined, lastComputedEMA);
            if (computed.EMA !== undefined) {
                // 2. Compute DEMA. On base of computed EMA
                var lastComputedDEMA = lastComputed !== undefined ? lastComputed.DEMA : undefined;
                // Adding last computed EMA to calculate DEMA
                computed.DEMA = this.ema.compute(N, computedArray, function (item) { return item.EMA; }, computed, lastComputedDEMA);
                if (computed.DEMA !== undefined) {
                    // 3. Compute TEMA. On base of computed DEMA
                    var lastComputedTEMA = lastComputed !== undefined ? lastComputed.TEMA : undefined;
                    computed.TEMA = this.ema.compute(N, computedArray, function (item) { return item.DEMA; }, computed, lastComputedTEMA);
                    if (computed.TEMA !== undefined) {
                        computed.c = 3 * computed.EMA - 3 * computed.DEMA + computed.TEMA;
                        computed.h = computed.c;
                        computed.l = computed.c;
                    }
                }
            }
        }
        return computed;
    };
    return TEMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TEMAIndicator = TEMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],128:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TMACandlestick = (function (_super) {
    __extends(TMACandlestick, _super);
    function TMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return TMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.TMACandlestick = TMACandlestick;
var TMAIndicator = (function (_super) {
    __extends(TMAIndicator, _super);
    function TMAIndicator(source, context) {
        var _this = _super.call(this, TMACandlestick, source, context) || this;
        _this.name = 'TMA';
        _this.sma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        _this.tma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Triangular);
        return _this;
    }
    TMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new TMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedSMA = lastComputed !== undefined ? lastComputed.SMA : undefined;
            // 1. Compute SMA
            computed.SMA = this.sma.compute(N, sourceItems, accessor, undefined, lastComputedSMA);
            if (computed.SMA !== undefined) {
                // 2. Compute TMA. On base of computed TMA
                var lastComputedTMA = lastComputed !== undefined ? lastComputed.c : undefined;
                // Adding last computed EMA to calculate DEMA
                var TMA = this.tma.compute(N, computedArray, function (item) { return item.SMA; }, computed, lastComputedTMA);
                if (TMA !== undefined) {
                    computed.c = TMA;
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    return TMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TMAIndicator = TMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],129:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TPIndicator = (function (_super) {
    __extends(TPIndicator, _super);
    function TPIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'TP';
        return _this;
    }
    TPIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        if (source.h !== undefined && source.l !== undefined && source.c !== undefined) {
            computed.c = (source.h + source.l + source.c) / 3;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    TPIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    TPIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    return TPIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TPIndicator = TPIndicator;
},{"../core/index":53,"./CandlestickExt":100,"./SimpleIndicator":125}],130:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Utils = (function () {
    function Utils() {
    }
    /**
     * Standard deviation
     * @param array
     * @param average
     */
    Utils.STDDEV = function (array, accessor, average) {
        var sum = 0;
        for (var i = 0; i < array.length; i += 1) {
            var value = accessor(array.getItem(i));
            if (value !== undefined) {
                sum += Math.pow(value - average, 2);
            }
        }
        return array.length > 0 ? Math.sqrt(sum / array.length) : undefined;
    };
    // MAD = SUM(|Pi - m|) / N
    /**
     * Mean absolute deviation
     * @param N Number of items to take
     * @param array Source items
     * @param accessor Accessor for a item's value
     * @param mean Mean value
     */
    Utils.MAD = function (N, array, accessor, mean) {
        var sum = 0;
        var counter = 0;
        // Taking N items from end
        for (var i = array.length - 1; i >= 0 && counter < N; i -= 1) {
            var value = accessor(array.getItem(i));
            if (value !== undefined) {
                sum += Math.abs(value - mean);
            }
            counter += 1;
        }
        return counter > 0 ? sum / counter : undefined;
    };
    return Utils;
}());
exports.Utils = Utils;
},{}],131:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Ri = Log (Pi / P(i-1))
// Avg = SUM(Ri) / n     or moving average
// SSD = SUM (Ri - Avg)
// HV = SQRT(SSD / (n - 1)) * SQRT(TP)
// 
// TP is
// Monthly - 12
// Weekly -  52
// Daily - 252
// Intraday - 252 * bars per day
var RSICandlestick = (function (_super) {
    __extends(RSICandlestick, _super);
    function RSICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSICandlestick = RSICandlestick;
var VOLAIndicator = (function (_super) {
    __extends(VOLAIndicator, _super);
    function VOLAIndicator(source, context) {
        var _this = _super.call(this, RSICandlestick, source, context) || this;
        _this.name = 'VOLA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // VOLA requires "Return"
        _this.initExtension();
        return _this;
    }
    VOLAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new RSICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var ext = this.ext;
        // Compute moving average
        var lastComputedMA = lastComputed !== undefined ? lastComputed.MA : undefined;
        computed.MA = this.ma.compute(N, sourceItems, function (candle) { return ext.value(candle); }, undefined, lastComputedMA);
        // Compute diverse
        if (computed.MA !== undefined) {
            var avg_1 = computed.MA;
            var SSD = sourceItems.sum(function (item) {
                var ret = ext.value(item);
                return (ret !== undefined) ? Math.abs(ret - avg_1) : 0;
            }, N);
            var interval = this.getTPByInterval(this.context.interval());
            if (SSD !== undefined && N > 1) {
                // Compute HV
                computed.c = SSD !== 0 ? Math.sqrt(SSD / (N - 1)) * Math.sqrt(interval) : 0;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    /**
     * Returns Trading Period
     * @param interval
     */
    VOLAIndicator.prototype.getTPByInterval = function (interval) {
        switch (interval) {
            case index_2.TimeInterval.month: return 12;
            case index_2.TimeInterval.week: return 52;
            case index_2.TimeInterval.day10: return 25;
            case index_2.TimeInterval.day: return 252;
            case index_2.TimeInterval.hour12: return 252 * 2;
            case index_2.TimeInterval.hour6: return 252 * 4;
            case index_2.TimeInterval.hour4: return 252 * 6;
            case index_2.TimeInterval.hour: return 252 * 24;
            case index_2.TimeInterval.min30: return 252 * 24 * 2;
            case index_2.TimeInterval.min15: return 252 * 24 * 4;
            case index_2.TimeInterval.min5: return 252 * 24 * 12;
            case index_2.TimeInterval.min: return 252 * 24 * 60;
            case index_2.TimeInterval.sec: return 252 * 24 * 60 * 60;
            default:
                throw new Error("Unexpected time interval " + interval);
        }
    };
    VOLAIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_2.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    VOLAIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // re-init extension with new value type
        this.initExtension();
        // recompute
        this.compute();
    };
    VOLAIndicator.prototype.initExtension = function () {
        // remove old extension and add new one
        //
        if (this.ext) {
            this.source.removeExtension(this.ext.uname);
        }
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        this.ext = new index_1.LogReturnExtension(accessor);
        this.source.addExtension(this.ext.uname, this.ext);
    };
    return VOLAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.VOLAIndicator = VOLAIndicator;
},{"../compute/index":40,"../core/index":53,"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125,"./ValueAccessor":132}],132:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ValueAccessorType;
(function (ValueAccessorType) {
    ValueAccessorType[ValueAccessorType["open"] = 0] = "open";
    ValueAccessorType[ValueAccessorType["high"] = 1] = "high";
    ValueAccessorType[ValueAccessorType["low"] = 2] = "low";
    ValueAccessorType[ValueAccessorType["close"] = 3] = "close";
    ValueAccessorType[ValueAccessorType["hl2"] = 4] = "hl2";
    ValueAccessorType[ValueAccessorType["hlc3"] = 5] = "hlc3";
    ValueAccessorType[ValueAccessorType["ohlc4"] = 6] = "ohlc4";
    ValueAccessorType[ValueAccessorType["hlcc4"] = 7] = "hlcc4";
})(ValueAccessorType = exports.ValueAccessorType || (exports.ValueAccessorType = {}));
var ValueAccessorFactory = (function () {
    function ValueAccessorFactory() {
        this.open = function (c) { return c.o; };
        this.high = function (c) { return c.h; };
        this.low = function (c) { return c.l; };
        this.close = function (c) { return c.c; };
        this.hl2 = function (c) {
            return (c.h !== undefined && c.l !== undefined) ? (c.h + c.l) / 2 : undefined;
        };
        this.hlc3 = function (c) {
            return (c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.h + c.l + c.c) / 3 : undefined;
        };
        this.ohlc4 = function (c) {
            return (c.o !== undefined && c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.o + c.h + c.l + c.c) / 4 : undefined;
        };
        this.hlcc4 = function (c) {
            return (c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.h + c.l + c.c + c.c) / 4 : undefined;
        };
    }
    Object.defineProperty(ValueAccessorFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new ValueAccessorFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    ValueAccessorFactory.prototype.create = function (vaType) {
        switch (vaType) {
            case ValueAccessorType.open: return this.open;
            case ValueAccessorType.high: return this.high;
            case ValueAccessorType.low: return this.low;
            case ValueAccessorType.close: return this.close;
            case ValueAccessorType.hl2: return this.hl2;
            case ValueAccessorType.hlc3: return this.hlc3;
            case ValueAccessorType.ohlc4: return this.ohlc4;
            case ValueAccessorType.hlcc4: return this.hlcc4;
            default: throw new Error('Unexpected value accessor type=' + vaType);
        }
    };
    return ValueAccessorFactory;
}());
exports.ValueAccessorFactory = ValueAccessorFactory;
},{}],133:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var WMAIndicator = (function (_super) {
    __extends(WMAIndicator, _super);
    function WMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'WMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Weight);
        return _this;
    }
    WMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return WMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.WMAIndicator = WMAIndicator;
},{"./CandlestickExt":100,"./MovingAverage":112,"./SimpleIndicator":125}],134:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ADXIndicator_1 = require("./ADXIndicator");
exports.ADXIndicator = ADXIndicator_1.ADXIndicator;
var AlligatorIndicator_1 = require("./AlligatorIndicator");
exports.AlligatorIndicator = AlligatorIndicator_1.AlligatorIndicator;
exports.AlligatorIndicatorRenderer = AlligatorIndicator_1.AlligatorIndicatorRenderer;
var AroonIndicator_1 = require("./AroonIndicator");
exports.AroonIndicator = AroonIndicator_1.AroonIndicator;
exports.AroonIndicatorRenderer = AroonIndicator_1.AroonIndicatorRenderer;
exports.AroonOscillator = AroonIndicator_1.AroonOscillator;
var ATRIndicator_1 = require("./ATRIndicator");
exports.ATRIndicator = ATRIndicator_1.ATRIndicator;
var BollingerIndicator_1 = require("./BollingerIndicator");
exports.BollingerIndicator = BollingerIndicator_1.BollingerIndicator;
exports.BollingerIndicatorRenderer = BollingerIndicator_1.BollingerIndicatorRenderer;
var CCIOscillator_1 = require("./CCIOscillator");
exports.CCIOscillator = CCIOscillator_1.CCIOscillator;
var CORIndicator_1 = require("./CORIndicator");
exports.CORIndicator = CORIndicator_1.CORIndicator;
var DEMAIndicator_1 = require("./DEMAIndicator");
exports.DEMAIndicator = DEMAIndicator_1.DEMAIndicator;
var DIXOscillator_1 = require("./DIXOscillator");
exports.DIXOscillator = DIXOscillator_1.DIXOscillator;
var DMIIndicator_1 = require("./DMIIndicator");
exports.DMIIndicator = DMIIndicator_1.DMIIndicator;
exports.DMIIndicatorRenderer = DMIIndicator_1.DMIIndicatorRenderer;
var DSSBROscillator_1 = require("./DSSBROscillator");
exports.DSSBROscillator = DSSBROscillator_1.DSSBROscillator;
exports.DSSBROscillatorRenderer = DSSBROscillator_1.DSSBROscillatorRenderer;
var EMAIndicator_1 = require("./EMAIndicator");
exports.EMAIndicator = EMAIndicator_1.EMAIndicator;
var HHLLIndicator_1 = require("./HHLLIndicator");
exports.HHLLIndicator = HHLLIndicator_1.HHLLIndicator;
exports.HHLLIndicatorRenderer = HHLLIndicator_1.HHLLIndicatorRenderer;
var IKHIndicator_1 = require("./IKHIndicator");
exports.IKHIndicator = IKHIndicator_1.IKHIndicator;
exports.IKHIndicatorRenderer = IKHIndicator_1.IKHIndicatorRenderer;
var IndicatorFabric_1 = require("./IndicatorFabric");
exports.IndicatorFabric = IndicatorFabric_1.IndicatorFabric;
exports.register = IndicatorFabric_1.register;
var MACDIndicator_1 = require("./MACDIndicator");
exports.MACDIndicator = MACDIndicator_1.MACDIndicator;
exports.MACDIndicatorRenderer = MACDIndicator_1.MACDIndicatorRenderer;
var MDIndicator_1 = require("./MDIndicator");
exports.MDIndicator = MDIndicator_1.MDIndicator;
var MOMIndicator_1 = require("./MOMIndicator");
exports.MOMIndicator = MOMIndicator_1.MOMIndicator;
var PCROscillator_1 = require("./PCROscillator");
exports.PCROscillator = PCROscillator_1.PCROscillator;
var PPIndicator_1 = require("./PPIndicator");
exports.PPIndicator = PPIndicator_1.PPIndicator;
exports.PPIndicatorRenderer = PPIndicator_1.PPIndicatorRenderer;
var PSARIndicator_1 = require("./PSARIndicator");
exports.PSARIndicator = PSARIndicator_1.PSARIndicator;
exports.PSARIndicatorRenderer = PSARIndicator_1.PSARIndicatorRenderer;
var RATIOIndicator_1 = require("./RATIOIndicator");
exports.RATIOIndicator = RATIOIndicator_1.RATIOIndicator;
var RBIndicator_1 = require("./RBIndicator");
exports.RBIndicator = RBIndicator_1.RBIndicator;
exports.RBIndicatorRenderer = RBIndicator_1.RBIndicatorRenderer;
var ROCIndicator_1 = require("./ROCIndicator");
exports.ROCIndicator = ROCIndicator_1.ROCIndicator;
var RSIOscillator_1 = require("./RSIOscillator");
exports.RSIOscillator = RSIOscillator_1.RSIOscillator;
var RSLOscillator_1 = require("./RSLOscillator");
exports.RSLOscillator = RSLOscillator_1.RSLOscillator;
var SMAIndicator_1 = require("./SMAIndicator");
exports.SMAIndicator = SMAIndicator_1.SMAIndicator;
var SMMAIndicator_1 = require("./SMMAIndicator");
exports.SMMAIndicator = SMMAIndicator_1.SMMAIndicator;
var STDEVIndicator_1 = require("./STDEVIndicator");
exports.STDEVIndicator = STDEVIndicator_1.STDEVIndicator;
var STIndicator_1 = require("./STIndicator");
exports.STIndicator = STIndicator_1.STIndicator;
exports.STIndicatorRenderer = STIndicator_1.STIndicatorRenderer;
var StochasticOscillator_1 = require("./StochasticOscillator");
exports.FastStochasticOscillator = StochasticOscillator_1.FastStochasticOscillator;
exports.OBOSOscillator = StochasticOscillator_1.OBOSOscillator;
exports.SlowStochasticOscillator = StochasticOscillator_1.SlowStochasticOscillator;
exports.StochasticOscillatorRenderer = StochasticOscillator_1.StochasticOscillatorRenderer;
var TEMAIndicator_1 = require("./TEMAIndicator");
exports.TEMAIndicator = TEMAIndicator_1.TEMAIndicator;
var TMAIndicator_1 = require("./TMAIndicator");
exports.TMAIndicator = TMAIndicator_1.TMAIndicator;
var TPIndicator_1 = require("./TPIndicator");
exports.TPIndicator = TPIndicator_1.TPIndicator;
var VOLAIndicator_1 = require("./VOLAIndicator");
exports.VOLAIndicator = VOLAIndicator_1.VOLAIndicator;
var WMAIndicator_1 = require("./WMAIndicator");
exports.WMAIndicator = WMAIndicator_1.WMAIndicator;
},{"./ADXIndicator":93,"./ATRIndicator":94,"./AlligatorIndicator":95,"./AroonIndicator":96,"./BollingerIndicator":97,"./CCIOscillator":98,"./CORIndicator":99,"./DEMAIndicator":101,"./DIXOscillator":102,"./DMIIndicator":103,"./DSSBROscillator":104,"./EMAIndicator":105,"./HHLLIndicator":106,"./IKHIndicator":107,"./IndicatorFabric":108,"./MACDIndicator":109,"./MDIndicator":110,"./MOMIndicator":111,"./PCROscillator":113,"./PPIndicator":114,"./PSARIndicator":115,"./RATIOIndicator":116,"./RBIndicator":117,"./ROCIndicator":118,"./RSIOscillator":119,"./RSLOscillator":120,"./SMAIndicator":121,"./SMMAIndicator":122,"./STDEVIndicator":123,"./STIndicator":124,"./StochasticOscillator":126,"./TEMAIndicator":127,"./TMAIndicator":128,"./TPIndicator":129,"./VOLAIndicator":131,"./WMAIndicator":133}],135:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Area class
 */
var index_1 = require("../canvas/index");
var SizeChangedEvent_1 = require("./SizeChangedEvent");
var Area = (function () {
    function Area(offset, size) {
        this.sizeChangedEvent = new SizeChangedEvent_1.SizeChangedEvent();
        this.shadow = false;
        this._offset = offset;
        this._size = size;
    }
    Object.defineProperty(Area.prototype, "sizeChanged", {
        get: function () {
            return this.sizeChangedEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "baseCanvas", {
        get: function () {
            return this.shadow ? this._baseCanvasShadow : this._baseCanvas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "frontCanvas", {
        get: function () {
            return this.shadow ? this._frontCanvasShadow : this._frontCanvas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "offset", {
        get: function () {
            return this._offset;
        },
        set: function (value) {
            this._offset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: true,
        configurable: true
    });
    Area.prototype.clearBase = function () {
        this.baseCanvas.clear();
    };
    Area.prototype.clearFront = function () {
        this.frontCanvas.clear();
    };
    Area.prototype.render = function () {
        if (this.shadow) {
            this._baseCanvas.clear();
            this._frontCanvas.clear();
            this._baseCanvas.drawImage(this._baseCanvasElShadow, 0, 0, this._size.width, this._size.height);
            this._frontCanvas.drawImage(this._frontCanvasElShadow, 0, 0, this._size.width, this._size.height);
        }
    };
    Area.prototype.resize = function (w, h) {
        var dpr = window.devicePixelRatio || 1;
        this._baseCanvasEl.width = w * dpr;
        this._baseCanvasEl.height = h * dpr;
        this._baseCanvasEl.style.setProperty('width', w + 'px');
        this._baseCanvasEl.style.setProperty('height', h + 'px');
        this._frontCanvasEl.width = w * dpr;
        this._frontCanvasEl.height = h * dpr;
        this._frontCanvasEl.style.setProperty('width', w + 'px');
        this._frontCanvasEl.style.setProperty('height', h + 'px');
        this._baseCanvas.resize(w, h);
        this._frontCanvas.resize(w, h);
        if (this.shadow) {
            this._baseCanvasElShadow.width = w * dpr;
            this._baseCanvasElShadow.height = h * dpr;
            this._baseCanvasElShadow.style.setProperty('width', w + 'px');
            this._baseCanvasElShadow.style.setProperty('height', h + 'px');
            this._frontCanvasElShadow.width = w * dpr;
            this._frontCanvasElShadow.height = h * dpr;
            this._frontCanvasElShadow.style.setProperty('width', w + 'px');
            this._frontCanvasElShadow.style.setProperty('height', h + 'px');
            this._baseCanvasShadow.resize(w, h);
            this._frontCanvasShadow.resize(w, h);
        }
        this._size = { width: w, height: h };
        this.sizeChangedEvent.trigger(new SizeChangedEvent_1.SizeChangedArgument(this._size));
    };
    Area.prototype.appendCanvases = function (div, w, h) {
        this._div = div;
        var dpr = window.devicePixelRatio || 1;
        var baseCanvas = document.createElement('canvas');
        baseCanvas.width = w * dpr;
        baseCanvas.height = h * dpr;
        baseCanvas.style.setProperty('width', w + 'px');
        baseCanvas.style.setProperty('height', h + 'px');
        baseCanvas.style.setProperty('left', '0');
        baseCanvas.style.setProperty('top', '0');
        baseCanvas.style.setProperty('z-index', '0');
        baseCanvas.style.setProperty('position', 'absolute');
        var frontCanvas = document.createElement('canvas');
        frontCanvas.width = w * dpr;
        frontCanvas.height = h * dpr;
        frontCanvas.style.setProperty('width', w + 'px');
        frontCanvas.style.setProperty('height', h + 'px');
        frontCanvas.style.setProperty('left', '0');
        frontCanvas.style.setProperty('top', '0');
        frontCanvas.style.setProperty('z-index', '1');
        frontCanvas.style.setProperty('position', 'absolute');
        this._baseCanvasEl = baseCanvas;
        this._frontCanvasEl = frontCanvas;
        this._baseCanvas = this.getContext(baseCanvas, w, h);
        this._frontCanvas = this.getContext(frontCanvas, w, h);
        if (this.shadow) {
            var baseCanvasShadow = document.createElement('canvas');
            baseCanvasShadow.width = w * dpr;
            baseCanvasShadow.height = h * dpr;
            var frontCanvasShadow = document.createElement('canvas');
            frontCanvasShadow.width = w * dpr;
            frontCanvasShadow.height = h * dpr;
            this._baseCanvasElShadow = baseCanvasShadow;
            this._frontCanvasElShadow = frontCanvasShadow;
            this._baseCanvasShadow = this.getContext(baseCanvasShadow, w, h);
            this._frontCanvasShadow = this.getContext(frontCanvasShadow, w, h);
        }
        div.appendChild(baseCanvas);
        div.appendChild(frontCanvas);
    };
    Area.prototype.getContext = function (el, w, h) {
        var ctx = el.getContext('2d');
        if (ctx == null) {
            throw new Error('Context is null');
        }
        return new index_1.CanvasWrapper(ctx, w, h);
    };
    return Area;
}());
exports.Area = Area;
},{"../canvas/index":17,"./SizeChangedEvent":138}],136:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ChartArea_1 = require("./ChartArea");
var BoardArea = (function () {
    function BoardArea(container, size) {
        this.container = container;
        this.size = size;
        this.yAxisWidth = 90;
        this.xAxisHeight = 25;
        this.chartAreas = [];
        this.table = document.createElement('table');
        this.table.style.setProperty('position', 'relative');
        this.table.style.setProperty('border-spacing', '0');
        this.table.style.setProperty('border-collapse', 'collapse');
        this.container.appendChild(this.table);
        this.chartWidth = this.size.width - this.yAxisWidth;
        this.chartHeight = this.size.height - this.xAxisHeight;
        // create x axis area
        var xrow = this.table.insertRow(-1); // to end
        this.timeArea = new ChartArea_1.XArea(xrow, { x: 0, y: this.chartHeight }, { width: this.chartWidth, height: this.xAxisHeight }, this.xAxisHeight);
    }
    BoardArea.prototype.addChart = function () {
        var index = this.chartAreas.length;
        var row = this.table.insertRow(index);
        var area = new ChartArea_1.ChartArea(row, { x: 0, y: 0 }, { width: this.chartWidth, height: this.chartHeight }, this.yAxisWidth, this.timeArea);
        this.chartAreas.push(area);
        return area;
    };
    BoardArea.prototype.render = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.render();
        }
        this.timeArea.render();
    };
    BoardArea.prototype.remove = function (area) {
        var index = this.chartAreas.indexOf(area);
        if (index !== -1) {
            this.chartAreas.splice(index, 1);
            this.table.deleteRow(index);
        }
    };
    BoardArea.prototype.getXArea = function () {
        return this.timeArea;
    };
    BoardArea.prototype.clearBase = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.clearBase();
        }
        this.timeArea.clearBase();
    };
    BoardArea.prototype.clearFront = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.clearFront();
        }
        this.timeArea.clearFront();
    };
    Object.defineProperty(BoardArea.prototype, "chartLength", {
        get: function () {
            return this.chartWidth;
        },
        enumerable: true,
        configurable: true
    });
    BoardArea.prototype.resize = function (w, h) {
        // resize inner components
        var dh = Math.floor((h - this.xAxisHeight) / (this.chartAreas.length + 1));
        this.chartWidth = w - this.yAxisWidth;
        //this.chartHeight = this.size.height - this.xAxisHeight;
        var yOffset = 0;
        var i = 0;
        for (; i < this.chartAreas.length; i += 1) {
            // resize charts
            // update vertical and horizontal offset
            this.chartAreas[i].offset = { x: this.chartAreas[i].offset.x, y: yOffset };
            this.chartAreas[i].resize(this.chartWidth, i === 0 ? dh * 2 : dh);
            yOffset += (i === 0 ? dh * 2 : dh);
        }
        // resize time axis
        this.timeArea.offset = { x: this.timeArea.offset.x, y: yOffset };
        this.timeArea.resize(this.chartWidth, this.xAxisHeight);
    };
    BoardArea.prototype.setCursor = function (style) {
        this.table.setAttribute('cursor', style);
    };
    return BoardArea;
}());
exports.BoardArea = BoardArea;
},{"./ChartArea":137}],137:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Area_1 = require("./Area");
var YArea = (function (_super) {
    __extends(YArea, _super);
    function YArea(cell, offset, size) {
        var _this = _super.call(this, offset, size) || this;
        _this.cell = cell;
        cell.style.setProperty('padding', '0');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('width', _this.size.width + 'px');
        div.style.setProperty('height', _this._size.height + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        return _this;
    }
    YArea.prototype.resize = function (w, h) {
        var div = this.cell.getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        _super.prototype.resize.call(this, w, h);
    };
    return YArea;
}(Area_1.Area));
exports.YArea = YArea;
var XArea = (function (_super) {
    __extends(XArea, _super);
    function XArea(row, offset, size, xAxisHeight) {
        var _this = _super.call(this, offset, size) || this;
        _this.row = row;
        _this.xAxisHeight = xAxisHeight;
        var cell = row.insertCell(0);
        cell.style.setProperty('padding', '0');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('width', _this._size.width + 'px');
        div.style.setProperty('height', _this._size.height + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        return _this;
    }
    XArea.prototype.resize = function (w, h) {
        // resize HTML element
        var cellsCount = this.row.cells.length;
        var div = this.row.cells[cellsCount - 1].getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        _super.prototype.resize.call(this, w, h);
    };
    return XArea;
}(Area_1.Area));
exports.XArea = XArea;
var ChartArea = (function (_super) {
    __extends(ChartArea, _super);
    function ChartArea(row, offset, size, yAxisWidth, xArea) {
        var _this = _super.call(this, offset, size) || this;
        _this.row = row;
        _this.yAxisWidth = yAxisWidth;
        _this.xArea = xArea;
        var cell = row.insertCell(0);
        cell.style.setProperty('padding', '0');
        cell.style.setProperty('position', 'relative');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('height', _this._size.height + 'px');
        div.style.setProperty('width', _this._size.width + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        // Create container for quicktips
        _this.qtContater = document.createElement('div');
        _this.qtContater.style.setProperty('position', 'absolute');
        _this.qtContater.style.setProperty('top', '5px');
        _this.qtContater.style.setProperty('left', '5px');
        cell.appendChild(_this.qtContater);
        // create y axis area
        var ycell = _this.row.insertCell(-1);
        _this.yArea = new YArea(ycell, { x: 0, y: 0 }, { width: _this.yAxisWidth, height: _this.size.height });
        return _this;
    }
    Object.defineProperty(ChartArea.prototype, "qtipContainer", {
        get: function () {
            return this.qtContater;
        },
        enumerable: true,
        configurable: true
    });
    ChartArea.prototype.getXArea = function () {
        return this.xArea;
    };
    ChartArea.prototype.getYArea = function () {
        return this.yArea;
    };
    ChartArea.prototype.clearBase = function () {
        if (this.yArea) {
            this.yArea.clearBase();
        }
        _super.prototype.clearBase.call(this);
    };
    ChartArea.prototype.clearFront = function () {
        if (this.yArea) {
            this.yArea.clearFront();
        }
        _super.prototype.clearFront.call(this);
    };
    ChartArea.prototype.render = function () {
        _super.prototype.render.call(this);
        this.yArea.render();
    };
    ChartArea.prototype.resize = function (w, h) {
        // resize HTML elements
        // for (let j = 0; j < 3; j += 1) {
        //     const div = this.table.rows.item(i).cells[j].getElementsByTagName('div')[0];
        //     div.style.setProperty('height', (i === 0 ? dh * 2 : dh) + 'px');
        //     if (j === 1) { div.style.setProperty('width', dw + 'px'); }
        // }
        var div = this.row.cells[0].getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        if (this.yArea) {
            this.yArea.resize(this.yAxisWidth, h);
        }
        _super.prototype.resize.call(this, w, h);
    };
    return ChartArea;
}(Area_1.Area));
exports.ChartArea = ChartArea;
},{"./Area":135}],138:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * SizeChangedEvent class
 */
var index_1 = require("../shared/index");
var SizeChangedEvent = (function (_super) {
    __extends(SizeChangedEvent, _super);
    function SizeChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return SizeChangedEvent;
}(index_1.Event));
exports.SizeChangedEvent = SizeChangedEvent;
var SizeChangedArgument = (function () {
    function SizeChangedArgument(size) {
        this.s = size;
    }
    Object.defineProperty(SizeChangedArgument.prototype, "size", {
        get: function () {
            return this.s;
        },
        enumerable: true,
        configurable: true
    });
    return SizeChangedArgument;
}());
exports.SizeChangedArgument = SizeChangedArgument;
},{"../shared/index":166}],139:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Exports of Layout module.
 */
var Area_1 = require("./Area");
exports.Area = Area_1.Area;
var BoardArea_1 = require("./BoardArea");
exports.BoardArea = BoardArea_1.BoardArea;
var ChartArea_1 = require("./ChartArea");
exports.ChartArea = ChartArea_1.ChartArea;
exports.XArea = ChartArea_1.XArea;
exports.YArea = ChartArea_1.YArea;
var SizeChangedEvent_1 = require("./SizeChangedEvent");
exports.SizeChangedArgument = SizeChangedEvent_1.SizeChangedArgument;
exports.SizeChangedEvent = SizeChangedEvent_1.SizeChangedEvent;
},{"./Area":135,"./BoardArea":136,"./ChartArea":137,"./SizeChangedEvent":138}],140:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Uid = (function () {
    function Uid(t, n) {
        /**
         * Provides uniqueness when t date is repeated.
         */
        this.n = 0;
        this.t = t || new Date();
        this.n = n || 0;
    }
    /**
     * Compares two Uids.
     * Returns -1 if this object is less, 0 - if equal, 1 - if greater than other.
     * @param other Uid to compare with.
     */
    Uid.prototype.compare = function (other) {
        if (other) {
            var thisTime = this.t.getTime();
            var otherTime = other.t.getTime();
            if (thisTime > otherTime || (thisTime === otherTime && this.n > other.n)) {
                return 1;
            }
            else if (thisTime === otherTime && this.n === other.n) {
                return 0;
            }
            else {
                return -1;
            }
        }
        else {
            throw new Error('Argument is not defined');
        }
    };
    Uid.prototype.equals = function (other) {
        if (other) {
            if (other === this) {
                return true;
            }
            if (other.t.getTime() === this.t.getTime() && other.n === this.n) {
                return true;
            }
        }
        return false;
    };
    Uid.min = function () {
        var uids = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            uids[_i] = arguments[_i];
        }
        if (uids.length < 1) {
            throw new Error('Argument is not specified');
        }
        var min = uids[0];
        uids.forEach(function (value) {
            min = min ? (min.compare(value) <= 0 ? min : value) : value;
        });
        return min;
    };
    Uid.max = function () {
        var uids = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            uids[_i] = arguments[_i];
        }
        if (uids.length < 1) {
            throw new Error('Argument is not specified');
        }
        var max = uids[0];
        uids.forEach(function (value) {
            max = max ? (max.compare(value) >= 0 ? max : value) : value;
        });
        return max;
    };
    return Uid;
}());
exports.Uid = Uid;
var Candlestick = (function () {
    function Candlestick(date, c, o, h, l) {
        this.uid = new Uid();
        this.ext = {};
        this.uid.t = date;
        this.c = c;
        this.o = o;
        this.h = h;
        this.l = l;
    }
    Object.defineProperty(Candlestick.prototype, "date", {
        get: function () {
            return this.uid.t;
        },
        set: function (d) {
            this.uid.t = d;
        },
        enumerable: true,
        configurable: true
    });
    Candlestick.prototype.getValues = function () {
        var ar = [];
        if (this.c !== undefined) {
            ar.push(this.c);
        }
        if (this.o !== undefined) {
            ar.push(this.o);
        }
        if (this.h !== undefined) {
            ar.push(this.h);
        }
        if (this.l !== undefined) {
            ar.push(this.l);
        }
        return ar;
    };
    Candlestick.prototype.deserialize = function (data) {
        if (data) {
            if (data.c !== undefined) {
                this.c = data.c;
            }
            if (data.o !== undefined) {
                this.o = data.o;
            }
            if (data.h !== undefined) {
                this.h = data.h;
            }
            if (data.l !== undefined) {
                this.l = data.l;
            }
        }
    };
    Candlestick.prototype.toString = function (precision) {
        return " O:" + (this.o !== undefined ? this.o.toFixed(precision) : 'n/a')
            + (" H:" + (this.h !== undefined ? this.h.toFixed(precision) : 'n/a'))
            + (" L:" + (this.l !== undefined ? this.l.toFixed(precision) : 'n/a'))
            + (" C:" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'));
    };
    return Candlestick;
}());
exports.Candlestick = Candlestick;
},{}],141:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Point = (function () {
    function Point(d, v) {
        this.uid = '0';
        this.date = d;
        this.value = v;
    }
    Point.prototype.getValues = function () {
        if (this.value) {
            return [this.value];
        }
        else {
            return [];
        }
    };
    Point.prototype.deserialize = function (data) {
        if (data && data.value) {
            this.value = data.value;
        }
    };
    return Point;
}());
exports.Point = Point;
},{}],142:[function(require,module,exports){
/**
 *
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Candlestick_1 = require("./Candlestick");
exports.Candlestick = Candlestick_1.Candlestick;
exports.Uid = Candlestick_1.Uid;
var Point_1 = require("./Point");
exports.Point = Point_1.Point;
},{"./Candlestick":140,"./Point":141}],143:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var CandlestickChartRenderer = (function () {
    function CandlestickChartRenderer() {
        this.settings = new CandleRenderSettings();
        this.minCandleWidth = 1;
        this.maxCandleWidth = 21;
    }
    CandlestickChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        // Render
        //
        var _this = this;
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        var colorDown = this.settings.colorDown;
        var colorUp = this.settings.colorUp;
        var colorBorder = this.settings.colorBorder;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        canvas.lineWidth = 1;
        // Separate rendering of lines with different colors
        // to minimize state changes.
        //
        if (candleW > 2) {
            canvas.beginPath();
            canvas.setStrokeStyle(colorBorder);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderShadows(canvas, timeAxis, yAxis, candle, frame, candleW, x);
            });
            canvas.stroke();
            // up bodies
            canvas.setFillStyle(colorUp);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderBody(canvas, timeAxis, yAxis, candle, frame, candleW, x, true);
            });
            // down bodies
            canvas.setFillStyle(colorDown);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderBody(canvas, timeAxis, yAxis, candle, frame, candleW, x, false);
            });
        }
        else {
            // render down lines
            canvas.beginPath();
            canvas.setStrokeStyle(colorDown);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderLine(canvas, timeAxis, yAxis, candle, frame, candleW, x, colorDown, false);
            });
            canvas.stroke();
            // render up lines
            canvas.beginPath();
            canvas.setStrokeStyle(colorUp);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderLine(canvas, timeAxis, yAxis, candle, frame, candleW, x, colorUp, true);
            });
            canvas.stroke();
        }
    };
    CandlestickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    CandlestickChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        var x = timeAxis.toX(candle.uid);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    CandlestickChartRenderer.prototype.renderShadows = function (canvas, timeAxis, yAxis, candle, frame, candleW, x) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        this.line(canvas, x, l, x, h);
    };
    CandlestickChartRenderer.prototype.renderBody = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, up) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        if ((up && candle.c > candle.o) || (!up && candle.c <= candle.o)) {
            canvas.fillRect(body.x, body.y, body.w, body.h);
        }
    };
    CandlestickChartRenderer.prototype.renderLine = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, color, up) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        if ((up && candle.c > candle.o) || (!up && candle.c <= candle.o)) {
            this.line(canvas, x, body.y, x, body.y + body.h);
        }
    };
    CandlestickChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    CandlestickChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count; //  range / timeAxis.interval;
        var w = frameWidth / (3 * candlesCount);
        if (w < 1.3) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    CandlestickChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    CandlestickChartRenderer.prototype.getSettings = function () {
        var settings = new index_1.SettingSet({ name: 'visual', group: true, displayName: 'visual' });
        settings.setSetting('colorUp', new index_1.SettingSet({
            name: 'colorUp',
            displayName: 'Rising color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorUp.toString()
        }));
        settings.setSetting('colorDown', new index_1.SettingSet({
            name: 'colorDown',
            displayName: 'Falling color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorDown.toString()
        }));
        settings.setSetting('colorBorder', new index_1.SettingSet({
            name: 'colorBorder',
            displayName: 'Border color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorBorder.toString()
        }));
        return settings;
    };
    CandlestickChartRenderer.prototype.setSettings = function (value) {
        var colorUp = value.getSetting('visual.colorUp');
        this.settings.colorUp = (colorUp && colorUp.value) ? colorUp.value : this.settings.colorUp;
        var colorDown = value.getSetting('visual.colorDown');
        this.settings.colorDown = (colorDown && colorDown.value) ? colorDown.value : this.settings.colorDown;
        var colorBorder = value.getSetting('visual.colorBorder');
        this.settings.colorBorder = (colorBorder && colorBorder.value) ? colorBorder.value : this.settings.colorBorder;
    };
    return CandlestickChartRenderer;
}());
exports.CandlestickChartRenderer = CandlestickChartRenderer;
var CandleRenderSettings = (function () {
    function CandleRenderSettings() {
        this.colorUp = '#59E459';
        this.colorDown = '#F03A3D';
        this.colorBorder = '#333333';
    }
    return CandleRenderSettings;
}());
},{"../core/index":53,"./RenderUtils":158}],144:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * CandlestickPopupRenderer class.
 */
var index_1 = require("../canvas/index");
var CandlestickPopupRenderer = (function () {
    function CandlestickPopupRenderer() {
        this.paddingLeft = 5;
        this.paddingTop = 5;
    }
    CandlestickPopupRenderer.prototype.render = function (canvas, model, point, frameSize, precision) {
        var lineHeight = 20;
        var w = 90;
        var h = lineHeight * 4 + this.paddingTop * 2;
        var x = Math.max(0, Math.min(point.x, frameSize.width - w));
        var y = Math.max(0, Math.min(point.y, frameSize.height - h));
        var alpha = canvas.globalAlpha;
        canvas.globalAlpha = 0.8;
        // border
        canvas.setStrokeStyle('#C0C0C0');
        canvas.strokeRect(x, y, w, h);
        // fill
        canvas.setFillStyle('#F2F2F2');
        canvas.fillRect(x, y, w, h);
        // text
        canvas.font = '10px Arial';
        canvas.fillStyle = 'black';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
        canvas.fillText("O: " + this.formatValue(model.o, precision), x + this.paddingLeft, y + this.paddingTop);
        canvas.fillText("C: " + this.formatValue(model.c, precision), x + this.paddingLeft, y + this.paddingTop + lineHeight);
        canvas.fillText("H: " + this.formatValue(model.h, precision), x + this.paddingLeft, y + this.paddingTop + 2 * lineHeight);
        canvas.fillText("L: " + this.formatValue(model.l, precision), x + this.paddingLeft, y + this.paddingTop + 3 * lineHeight);
        // restore global value
        canvas.globalAlpha = alpha;
    };
    CandlestickPopupRenderer.prototype.formatValue = function (n, precision) {
        return (n !== undefined) ? n.toFixed(precision) : '';
    };
    return CandlestickPopupRenderer;
}());
exports.CandlestickPopupRenderer = CandlestickPopupRenderer;
},{"../canvas/index":17}],145:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../canvas/index");
var index_2 = require("../core/index");
var ChartRenderer = (function () {
    function ChartRenderer() {
        this.settings = new RenderSettings();
    }
    ChartRenderer.prototype.getZonesSettings = function () {
        var toplineGroup = new index_2.SettingSet({ name: 'topline', group: true, displayName: 'Top line' });
        toplineGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.tlinecolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        toplineGroup.setSetting('pattern', new index_2.SettingSet({
            name: 'pattern',
            value: this.settings.zone.tlinepattern.toString(),
            displayName: '',
            settingType: index_2.SettingType.select,
            options: [
                { value: index_1.LinePattern.Solid.toString(), text: 'solid' },
                { value: index_1.LinePattern.Dashed.toString(), text: 'dashed' },
                { value: index_1.LinePattern.Pointed.toString(), text: 'pointed' }
            ]
        }));
        toplineGroup.setSetting('width', new index_2.SettingSet({
            name: 'width',
            value: this.settings.zone.tlinewidth.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: ''
        }));
        var bottomGroup = new index_2.SettingSet({ name: 'bottomline', group: true, displayName: 'Bottom line' });
        bottomGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.blinecolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        bottomGroup.setSetting('pattern', new index_2.SettingSet({
            name: 'pattern',
            value: this.settings.zone.blinepattern.toString(),
            displayName: '',
            settingType: index_2.SettingType.select,
            options: [
                { value: index_1.LinePattern.Solid.toString(), text: 'solid' },
                { value: index_1.LinePattern.Dashed.toString(), text: 'dashed' },
                { value: index_1.LinePattern.Pointed.toString(), text: 'pointed' }
            ]
        }));
        bottomGroup.setSetting('width', new index_2.SettingSet({
            name: 'width',
            value: this.settings.zone.blinewidth.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: ''
        }));
        var fillGroup = new index_2.SettingSet({ name: 'fill', group: true, displayName: 'Fill color' });
        fillGroup.setSetting('filled', new index_2.SettingSet({
            name: 'filled',
            value: this.settings.zone.fill.toString(),
            settingType: index_2.SettingType.check,
            displayName: ''
        }));
        fillGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.fillcolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        var fillOverlapGroup = new index_2.SettingSet({ name: 'filloverlap', group: true, displayName: 'Fill colors' });
        fillOverlapGroup.setSetting('fill', new index_2.SettingSet({
            name: 'fill',
            value: this.settings.zone.overlapfill.toString(),
            settingType: index_2.SettingType.check,
            displayName: ''
        }));
        fillOverlapGroup.setSetting('colorup', new index_2.SettingSet({
            name: 'colorup',
            value: this.settings.zone.overlapcolorUp.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        fillOverlapGroup.setSetting('colordown', new index_2.SettingSet({
            name: 'colordown',
            value: this.settings.zone.overlapcolorDown.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        var group = new index_2.SettingSet({ name: 'zones', group: true, displayName: 'Zones' });
        group.setSetting('visible', new index_2.SettingSet({
            name: 'visible',
            value: this.settings.zone.visible.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Visible'
        }));
        group.setSetting('upthreshold', new index_2.SettingSet({
            name: 'upthreshold',
            value: this.settings.zone.upthreshold.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Upper threshold'
        }));
        group.setSetting('lowthreshold', new index_2.SettingSet({
            name: 'lowthreshold',
            value: this.settings.zone.lowthreshold.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Lower threshold'
        }));
        group.setSetting('pricevalues', new index_2.SettingSet({
            name: 'pricevalues',
            value: this.settings.zone.pricevalues.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Values on price scale'
        }));
        group.setSetting('showthreshold', new index_2.SettingSet({
            name: 'showthreshold',
            value: this.settings.zone.showthreshold.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Show threshold lines'
        }));
        group.setSetting('topline', toplineGroup);
        group.setSetting('bottomline', bottomGroup);
        group.setSetting('fill', fillGroup);
        group.setSetting('filloverlap', fillOverlapGroup);
        return group;
    };
    ChartRenderer.prototype.setZonesSettings = function (value) {
        var st;
        st = value.getSetting('zones.visible');
        this.settings.zone.visible = (st && st.value) ? st.value === 'true' : this.settings.zone.visible;
        // showthreshold
        st = value.getSetting('zones.showthreshold');
        this.settings.zone.showthreshold = (st && st.value) ? st.value === 'true' : this.settings.zone.showthreshold;
        // upthreshold
        st = value.getSetting('zones.upthreshold');
        this.settings.zone.upthreshold = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.upthreshold;
        // lowthreshold
        st = value.getSetting('zones.lowthreshold');
        this.settings.zone.lowthreshold = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.lowthreshold;
        // pricevalues
        st = value.getSetting('zones.pricevalues');
        this.settings.zone.pricevalues = (st && st.value) ? st.value === 'true' : this.settings.zone.pricevalues;
        // topline (color, pattern, width)
        var topline = value.getSetting('zones.topline');
        if (topline) {
            st = topline.getSetting('topline.color');
            this.settings.zone.tlinecolor = (st && st.value) ? st.value : this.settings.zone.tlinecolor;
            st = topline.getSetting('topline.pattern');
            this.settings.zone.tlinepattern = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.tlinepattern;
            st = topline.getSetting('topline.width');
            this.settings.zone.tlinewidth = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.tlinewidth;
        }
        // bottomline (color, pattern, width)
        var bottomline = value.getSetting('zones.bottomline');
        if (bottomline) {
            st = bottomline.getSetting('bottomline.color');
            this.settings.zone.blinecolor = (st && st.value) ? st.value : this.settings.zone.blinecolor;
            st = bottomline.getSetting('bottomline.pattern');
            this.settings.zone.blinepattern = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.blinepattern;
            st = bottomline.getSetting('bottomline.width');
            this.settings.zone.blinewidth = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.blinewidth;
        }
        // fill (fill, color)
        var fill = value.getSetting('zones.fill');
        if (fill) {
            st = fill.getSetting('fill.color');
            this.settings.zone.fillcolor = (st && st.value) ? st.value : this.settings.zone.fillcolor;
            st = fill.getSetting('fill.filled');
            this.settings.zone.fill = (st && st.value) ? st.value === 'true' : this.settings.zone.fill;
        }
        // filloverlap (fill, colorup, colordown)
        var ovrlap = value.getSetting('zones.filloverlap');
        if (ovrlap) {
            st = ovrlap.getSetting('filloverlap.fill');
            this.settings.zone.overlapfill = (st && st.value) ? st.value === 'true' : this.settings.zone.overlapfill;
            st = ovrlap.getSetting('filloverlap.colorup');
            this.settings.zone.overlapcolorUp = (st && st.value) ? st.value : this.settings.zone.overlapcolorUp;
            st = ovrlap.getSetting('filloverlap.colordown');
            this.settings.zone.overlapcolorDown = (st && st.value) ? st.value : this.settings.zone.overlapcolorDown;
        }
    };
    return ChartRenderer;
}());
exports.ChartRenderer = ChartRenderer;
var RenderSettings = (function () {
    function RenderSettings() {
        this.zone = new ZoneSettings();
    }
    return RenderSettings;
}());
exports.RenderSettings = RenderSettings;
var ZoneSettings = (function () {
    function ZoneSettings() {
        this.visible = true;
        this.showthreshold = true;
        this.upthreshold = 80;
        this.lowthreshold = 20;
        this.pricevalues = false;
        // Top line
        this.tlinecolor = '#555555';
        this.tlinepattern = index_1.LinePattern.Solid;
        this.tlinewidth = 1;
        // Bottom line
        this.blinecolor = '#555555';
        this.blinepattern = index_1.LinePattern.Solid;
        this.blinewidth = 1;
        // Fill
        this.fill = false;
        this.fillcolor = '#777777';
        // Overlap
        this.overlapfill = false;
        this.overlapcolorUp = '#3AA000';
        this.overlapcolorDown = '#CE0000';
    }
    return ZoneSettings;
}());
exports.ZoneSettings = ZoneSettings;
},{"../canvas/index":17,"../core/index":53}],146:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CrosshairRenderer = (function () {
    function CrosshairRenderer() {
    }
    CrosshairRenderer.prototype.render = function (canvas, point, frameSize) {
        // Draw crosshair
        //
        canvas.setStrokeStyle('black');
        var curDash = canvas.getLineDash();
        canvas.setLineDash([5, 5]);
        canvas.lineWidth = 1;
        canvas.beginPath();
        if (point.x > 0 && point.x < frameSize.width) {
            // draw vertical line
            canvas.moveTo(point.x, 0);
            canvas.lineTo(point.x, frameSize.height);
        }
        if (point.y > 0 && point.y < frameSize.height) {
            // draw horizontal line
            canvas.moveTo(0, point.y);
            canvas.lineTo(frameSize.width, point.y);
        }
        canvas.stroke();
        canvas.closePath();
        canvas.setLineDash(curDash);
    };
    return CrosshairRenderer;
}());
exports.CrosshairRenderer = CrosshairRenderer;
},{}],147:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GridRenderer = (function () {
    function GridRenderer() {
    }
    GridRenderer.prototype.render = function (canvas, frame, xAxis, yAxis) {
        canvas.beginPath();
        canvas.setStrokeStyle('#EAEAEA');
        canvas.lineWidth = 1;
        // Vertical lines
        var gridX = xAxis.getGrid();
        gridX.reset();
        while (gridX.moveNext()) {
            var x = gridX.current.x;
            canvas.moveTo(x, frame.y);
            canvas.lineTo(x, frame.y + frame.h);
        }
        // Horizontal lines
        var gridY = yAxis.getGrid();
        for (var _i = 0, _a = gridY.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = yAxis.toX(bar);
                canvas.moveTo(frame.x, y);
                canvas.lineTo(frame.x + frame.w, y);
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    return GridRenderer;
}());
exports.GridRenderer = GridRenderer;
},{}],148:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var HollowstickChartRenderer = (function () {
    function HollowstickChartRenderer() {
        this.minCandleWidth = 1;
        this.maxCandleWidth = 21;
    }
    HollowstickChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        var _this = this;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x, dataIterator.previous);
        });
        // let found = false;
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = dataIterator.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = dataIterator.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const candle = dataIterator.current;
        //         this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x, dataIterator.previous);
        //     }
        // }
    };
    HollowstickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    HollowstickChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        var x = timeAxis.toX(candle.uid);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    HollowstickChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, prevCandle) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        var colorUp = '#00B712'; // black
        var colorDown = '#EA0000'; // red
        var white = '#FFFFFF';
        var color = colorDown; // default color
        if (prevCandle && prevCandle.c) {
            color = (candle.c > prevCandle.c) ? colorUp : colorDown;
        }
        var isHollow = candle.c > candle.o;
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = 1;
        canvas.setStrokeStyle(color);
        if (body.w > 2) {
            // Drawing upper shadow
            this.line(canvas, x, body.y, x, h);
            // Drawing lower shadow
            this.line(canvas, x, l, x, body.y + body.h - 1);
            canvas.stroke();
        }
        // Drawing body
        if (body.w > 2) {
            if (isHollow) {
                canvas.setFillStyle(white);
            }
            else {
                canvas.setFillStyle(color);
            }
            canvas.fillRect(body.x, body.y, body.w, body.h);
            canvas.strokeRect(body.x, body.y, body.w, body.h);
        }
        else {
            canvas.beginPath();
            canvas.setStrokeStyle(color);
            this.line(canvas, x, body.y, x, body.y + body.h);
            canvas.stroke();
        }
    };
    HollowstickChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    HollowstickChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count;
        var w = frameWidth / (3 * candlesCount);
        if (w < 1.3) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    HollowstickChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    HollowstickChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    HollowstickChartRenderer.prototype.setSettings = function (settings) {
    };
    return HollowstickChartRenderer;
}());
exports.HollowstickChartRenderer = HollowstickChartRenderer;
},{"../core/index":53,"./RenderUtils":158}],149:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var SettingSet_1 = require("../core/SettingSet");
var LineChartRenderer = (function () {
    function LineChartRenderer() {
    }
    LineChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Point[],
        frame, timeAxis, yAxis) {
        // // Render
        // //
        // // border lines
        // canvas.beginPath();
        // canvas.setStrokeStyle('#333333');
        // // ... left
        // canvas.moveTo(frame.x, frame.y);
        // canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // // ... bottom
        // canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // // ... right
        // canvas.lineTo(frame.x + frame.w - 1, frame.y);
        // canvas.stroke();
        // // Start drawing
        // canvas.beginPath();
        // canvas.setStrokeStyle('#555555');
        // if (dataIterator.moveNext()) {
        //     let x = timeAxis.toX(dataIterator.current.date);
        //     let y = yAxis.toX(<number>dataIterator.current.value);
        //     canvas.moveTo(x, y);
        //     while (dataIterator.moveNext()) {
        //         if (dataIterator.current.value) {
        //             x = timeAxis.toX(dataIterator.current.date);
        //             y = yAxis.toX(<number>dataIterator.current.value);
        //             canvas.lineTo(x, y);
        //         }
        //     }
        // }
        // canvas.stroke();
    };
    LineChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Point[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.value) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.value);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    LineChartRenderer.prototype.getSettings = function () {
        return new SettingSet_1.SettingSet('renderer');
    };
    LineChartRenderer.prototype.setSettings = function (settings) {
    };
    return LineChartRenderer;
}());
exports.LineChartRenderer = LineChartRenderer;
},{"../core/SettingSet":49}],150:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * LinePopupRenderer class.
 */
var index_1 = require("../canvas/index");
var LinePopupRenderer = (function () {
    function LinePopupRenderer() {
        this.paddingLeft = 5;
        this.paddingTop = 5;
    }
    LinePopupRenderer.prototype.render = function (canvas, model, point, frameSize, precision) {
        var lineHeight = 20;
        var w = 90;
        var h = lineHeight + this.paddingTop * 2;
        var x = Math.max(0, Math.min(point.x, frameSize.width - w));
        var y = Math.max(0, Math.min(point.y, frameSize.height - h));
        var alpha = canvas.globalAlpha;
        canvas.globalAlpha = 0.8;
        // border
        canvas.setStrokeStyle('#C0C0C0');
        canvas.strokeRect(x, y, w, h);
        // fill
        canvas.setFillStyle('#F2F2F2');
        canvas.fillRect(x, y, w, h);
        // text
        canvas.font = '10px Arial';
        canvas.fillStyle = 'black';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
        canvas.fillText("" + (model.value !== undefined ? model.value.toFixed(precision) : ''), x + this.paddingLeft, y + this.paddingTop);
        // restore global value
        canvas.globalAlpha = alpha;
    };
    return LinePopupRenderer;
}());
exports.LinePopupRenderer = LinePopupRenderer;
},{"../canvas/index":17}],151:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var LinestickChartRenderer = (function () {
    function LinestickChartRenderer() {
        this.settings = new RenderSettings();
    }
    LinestickChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        RenderUtils_1.RenderUtils.renderLineChart(canvas, dataIterator, function (item) {
            if (item.c !== undefined) {
                return { uid: item.uid, v: item.c };
            }
        }, frame, timeAxis, yAxis, false);
        canvas.stroke();
    };
    LinestickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.c !== undefined) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.c);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    LinestickChartRenderer.prototype.getSettings = function () {
        var settings = new index_1.SettingSet({ name: 'visual', group: true, displayName: 'visual' });
        settings.setSetting('color', new index_1.SettingSet({
            name: 'color',
            displayName: 'Color',
            settingType: index_1.SettingType.color,
            value: this.settings.color.toString()
        }));
        settings.setSetting('width', new index_1.SettingSet({
            name: 'width',
            displayName: 'Line width',
            settingType: index_1.SettingType.numeric,
            value: this.settings.width.toString()
        }));
        return settings;
    };
    LinestickChartRenderer.prototype.setSettings = function (value) {
        var colorUp = value.getSetting('visual.color');
        this.settings.color = (colorUp && colorUp.value) ? colorUp.value : this.settings.color;
        var width = value.getSetting('visual.width');
        this.settings.width = (width && width.value) ? parseInt(width.value, 10) : this.settings.width;
    };
    return LinestickChartRenderer;
}());
exports.LinestickChartRenderer = LinestickChartRenderer;
var RenderSettings = (function () {
    function RenderSettings() {
        this.color = '#555555';
        this.width = 1;
    }
    return RenderSettings;
}());
},{"../core/index":53,"./RenderUtils":158}],152:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var MountainChartRenderer = (function () {
    function MountainChartRenderer() {
    }
    MountainChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#555555');
        RenderUtils_1.RenderUtils.renderLineChart(canvas, dataIterator, function (item) {
            if (item.c !== undefined) {
                return { uid: item.uid, v: item.c };
            }
        }, frame, timeAxis, yAxis, true);
        canvas.closePath();
        canvas.stroke();
        canvas.fillStyle = '#CCEAF0';
        canvas.fill();
    };
    MountainChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.c !== undefined) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.c);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    MountainChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    MountainChartRenderer.prototype.setSettings = function (settings) {
    };
    return MountainChartRenderer;
}());
exports.MountainChartRenderer = MountainChartRenderer;
},{"../core/index":53,"./RenderUtils":158}],153:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberAxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../canvas/index");
var NumberAxisRenderer = (function () {
    function NumberAxisRenderer() {
    }
    NumberAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.beginPath();
        for (var _i = 0, _a = grid.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = axis.toX(bar);
                if (y !== undefined) {
                    this.drawBar(canvas, bar, y, grid.precision);
                }
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    NumberAxisRenderer.prototype.drawBar = function (canvas, value, y, precision) {
        canvas.moveTo(0, y);
        canvas.lineTo(3, y);
        // draw time mark
        var markText = value.toFixed(precision);
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(markText, 4, y);
    };
    return NumberAxisRenderer;
}());
exports.NumberAxisRenderer = NumberAxisRenderer;
},{"../canvas/index":17}],154:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberMarkRenderer class.
 */
var index_1 = require("../canvas/index");
var NumberMarkRenderer = (function () {
    function NumberMarkRenderer() {
        this.paddingLeft = 4;
    }
    NumberMarkRenderer.prototype.render = function (canvas, value, point, frameSize, precision) {
        var text = value.toFixed(precision).toString();
        var textWidth = canvas.measureText(text).width;
        canvas.fillStyle = '#3F3F3F';
        canvas.fillRect(point.x, point.y - 8, textWidth + this.paddingLeft * 2, 16);
        canvas.font = '11px Arial';
        canvas.fillStyle = '#EAEAEA';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(text, point.x + this.paddingLeft, point.y);
    };
    return NumberMarkRenderer;
}());
exports.NumberMarkRenderer = NumberMarkRenderer;
},{"../canvas/index":17}],155:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var OhlcChartRenderer = (function () {
    function OhlcChartRenderer() {
        this.minCandleWidth = 1;
        this.maxCandleWidth = 3;
    }
    OhlcChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        var _this = this;
        var lineW = this.calculateLineWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, lineW, x, dataIterator.previous);
        });
        // let found = false;
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = dataIterator.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = dataIterator.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const candle = dataIterator.current;
        //         this.renderCandle(canvas, timeAxis, yAxis, candle, frame, lineW, x, dataIterator.previous);
        //     }
        // }
    };
    OhlcChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateLineWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    OhlcChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        // let x = timeAxis.toX(candle.uid);
        // if (x !== undefined) {
        //     x = Math.round(x);
        //     const body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        //     return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
        //             && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        // }
        return false;
    };
    OhlcChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, lineW, x, prevCandle) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        var colorUp = '#00B712';
        var colorDown = '#EA0000';
        var color;
        if (prevCandle && prevCandle.c) {
            color = (candle.c > prevCandle.c) ? colorUp : colorDown;
        }
        else {
            color = (candle.c > candle.o) ? colorUp : colorDown;
        }
        x = Math.round(x);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        var o = yAxis.toX(candle.o);
        var c = yAxis.toX(candle.c);
        var w = lineW + 3;
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = lineW;
        canvas.setStrokeStyle(color);
        this.line(canvas, x, h, x, l);
        this.line(canvas, x - w, o, x, o); // open side
        this.line(canvas, x, c, x + w, c); // close side
        canvas.stroke();
    };
    OhlcChartRenderer.prototype.calculateLineWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count;
        var w = frameWidth / (3 * candlesCount);
        if (w < 6) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    OhlcChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    OhlcChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    OhlcChartRenderer.prototype.setSettings = function (settings) {
    };
    return OhlcChartRenderer;
}());
exports.OhlcChartRenderer = OhlcChartRenderer;
},{"../core/index":53,"./RenderUtils":158}],156:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * AxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../canvas/index");
var PriceAxisRenderer = (function () {
    function PriceAxisRenderer() {
    }
    PriceAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.beginPath();
        for (var _i = 0, _a = grid.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = axis.toX(bar);
                if (y !== undefined) {
                    this.drawBar(canvas, bar, y, grid.precision);
                }
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    PriceAxisRenderer.prototype.drawBar = function (canvas, value, y, precision) {
        canvas.moveTo(0, y);
        canvas.lineTo(3, y);
        // draw time mark
        var markText = value.toFixed(precision);
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(markText, 4, y);
    };
    return PriceAxisRenderer;
}());
exports.PriceAxisRenderer = PriceAxisRenderer;
},{"../canvas/index":17}],157:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * RenderLocator singleton.
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var CandlestickChartRenderer_1 = require("./CandlestickChartRenderer");
var CandlestickPopupRenderer_1 = require("./CandlestickPopupRenderer");
var CrosshairRenderer_1 = require("./CrosshairRenderer");
var GridRenderer_1 = require("./GridRenderer");
var HollowstickChartRenderer_1 = require("./HollowstickChartRenderer");
var LineChartRenderer_1 = require("./LineChartRenderer");
var LinePopupRenderer_1 = require("./LinePopupRenderer");
var LinestickChartRenderer_1 = require("./LinestickChartRenderer");
var MountainChartRenderer_1 = require("./MountainChartRenderer");
var NumberAxisRenderer_1 = require("./NumberAxisRenderer");
var NumberMarkRenderer_1 = require("./NumberMarkRenderer");
var OhlcChartRenderer_1 = require("./OhlcChartRenderer");
var PriceAxisRenderer_1 = require("./PriceAxisRenderer");
var RenkoChartRenderer_1 = require("./RenkoChartRenderer");
var TimeAxisRenderer_1 = require("./TimeAxisRenderer");
var TimeMarkRenderer_1 = require("./TimeMarkRenderer");
var RenderLocator = (function () {
    function RenderLocator() {
        this.lineChartRender = new LineChartRenderer_1.LineChartRenderer();
        this.timeAxisRender = new TimeAxisRenderer_1.TimeAxisRenderer();
        this.priceAxisRender = new PriceAxisRenderer_1.PriceAxisRenderer();
        this.numberAxisRender = new NumberAxisRenderer_1.NumberAxisRenderer();
        this.candlePopupRenderer = new CandlestickPopupRenderer_1.CandlestickPopupRenderer();
        this.linePopupRenderer = new LinePopupRenderer_1.LinePopupRenderer();
        this.timeMarkRender = new TimeMarkRenderer_1.TimeMarkRenderer();
        this.numberMarkRender = new NumberMarkRenderer_1.NumberMarkRenderer();
        this.crosshairRenderer = new CrosshairRenderer_1.CrosshairRenderer();
        this.gridRenderer = new GridRenderer_1.GridRenderer();
        this.renders = {};
        this.builtinRenders = {};
        this.builtinRenders[index_1.ChartType.candle] = CandlestickChartRenderer_1.CandlestickChartRenderer;
        this.builtinRenders[index_1.ChartType.heikinashi] = CandlestickChartRenderer_1.CandlestickChartRenderer;
        this.builtinRenders[index_1.ChartType.hollow] = HollowstickChartRenderer_1.HollowstickChartRenderer;
        this.builtinRenders[index_1.ChartType.line] = LinestickChartRenderer_1.LinestickChartRenderer;
        this.builtinRenders[index_1.ChartType.mountain] = MountainChartRenderer_1.MountainChartRenderer;
        this.builtinRenders[index_1.ChartType.ohlc] = OhlcChartRenderer_1.OhlcChartRenderer;
        this.builtinRenders[index_1.ChartType.rangebar] = OhlcChartRenderer_1.OhlcChartRenderer;
        this.builtinRenders[index_1.ChartType.renko] = RenkoChartRenderer_1.RenkoChartRenderer;
        this.builtinRenders[index_1.ChartType.linebreak] = RenkoChartRenderer_1.RenkoChartRenderer;
    }
    Object.defineProperty(RenderLocator, "Instance", {
        get: function () {
            return this.instance || (this.instance = new this());
        },
        enumerable: true,
        configurable: true
    });
    RenderLocator.prototype.register = function (chartType, render) {
        this.renders[chartType] = render;
    };
    RenderLocator.prototype.getChartRender = function (dataType, chartType) {
        // First check registered renders
        var render = this.renders[chartType];
        if (render) {
            return new render();
        }
        var obj = new dataType(new Date());
        if (obj instanceof index_2.Point) {
            if (chartType === index_1.ChartType.line) {
                return this.lineChartRender;
            }
        }
        else if (obj instanceof index_2.Candlestick) {
            var renderer = this.builtinRenders[chartType];
            if (renderer) {
                return new renderer();
            }
        }
        else {
            throw new Error('Unexpected data type: ' + dataType);
        }
        throw new Error('Unexpected chart type ' + chartType);
    };
    RenderLocator.prototype.getAxesRender = function (uid) {
        switch (uid) {
            case 'date': return this.timeAxisRender;
            case 'number': return this.numberAxisRender;
            case 'price': return this.priceAxisRender;
            default:
                throw new Error('Unexpected axes render uid: ' + uid);
        }
    };
    RenderLocator.prototype.getPopupRender = function (dataType) {
        var obj = new dataType(new Date());
        if (obj instanceof index_2.Point) {
            return this.linePopupRenderer;
        }
        else if (obj instanceof index_2.Candlestick) {
            return this.candlePopupRenderer;
        }
        else {
            throw new Error('Unexpected data type: ' + dataType);
        }
    };
    RenderLocator.prototype.getMarkRender = function (uid) {
        switch (uid) {
            case 'date': return this.timeMarkRender;
            case 'number': return this.numberMarkRender;
            default:
                throw new Error('Unexpected axes render uid: ' + uid);
        }
    };
    RenderLocator.prototype.getCrosshairRender = function () {
        return this.crosshairRenderer;
    };
    RenderLocator.prototype.getGridRender = function () {
        return this.gridRenderer;
    };
    return RenderLocator;
}());
exports.RenderLocator = RenderLocator;
},{"../core/index":53,"../model/index":142,"./CandlestickChartRenderer":143,"./CandlestickPopupRenderer":144,"./CrosshairRenderer":146,"./GridRenderer":147,"./HollowstickChartRenderer":148,"./LineChartRenderer":149,"./LinePopupRenderer":150,"./LinestickChartRenderer":151,"./MountainChartRenderer":152,"./NumberAxisRenderer":153,"./NumberMarkRenderer":154,"./OhlcChartRenderer":155,"./PriceAxisRenderer":156,"./RenkoChartRenderer":159,"./TimeAxisRenderer":160,"./TimeMarkRenderer":161}],158:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../canvas/index");
var RenderUtils = (function () {
    function RenderUtils() {
    }
    RenderUtils.renderLineChart = function (canvas, dataIterator, getPoint, frame, timeAxis, yAxis, closePath) {
        var isFirstPoint = true;
        var firstPoint;
        var lastPoint;
        RenderUtils.iterate(timeAxis, dataIterator, function (data, x) {
            var point = getPoint(data);
            if (point !== undefined && point.uid !== undefined && point.v !== undefined) {
                var y = yAxis.toX(point.v);
                if (isFirstPoint) {
                    canvas.moveTo(x, y);
                    firstPoint = { x: x, y: y };
                    isFirstPoint = false;
                }
                else {
                    canvas.lineTo(x, y);
                    lastPoint = { x: x, y: y };
                }
            }
        });
        if (closePath && firstPoint && lastPoint) {
            canvas.lineTo(lastPoint.x, frame.h - 1);
            canvas.lineTo(firstPoint.x, frame.h - 1);
            canvas.lineTo(firstPoint.x, firstPoint.y);
        }
    };
    RenderUtils.iterate = function (timeaxis, iter, action) {
        if (!iter.goTo(function (item) { return true; })) {
            // end rendering
            return;
        }
        var found = false;
        timeaxis.reset();
        while (timeaxis.moveNext()) {
            var timeUid = timeaxis.current.uid;
            var x = timeaxis.current.x;
            do {
                var data = iter.current;
                if (data.uid.compare(timeUid) === 0) {
                    found = true;
                    break;
                }
                else if (data.uid.compare(timeUid) > 0) {
                    found = false;
                    break;
                }
                if (!iter.moveNext()) {
                    // end rendering
                    return;
                }
            } while (true);
            if (found) {
                action(iter.current, x);
            }
        }
    };
    /**
     * Fills overlap of the line over specified level.
     * @param canvas
     * @param points Points of line
     * @param level Y coordinate to calculate overlapping
     * @param up If true - overlapping from up, false - from bottom.
     * @param fillStyle
     */
    RenderUtils.fillOverlap = function (canvas, points, level, up, fillStyle) {
        if (points.length > 1) {
            var first = points[0];
            var last = points[points.length - 1];
            canvas.beginPath();
            points.forEach(function (p, index) {
                if (p) {
                    (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
                }
            });
            canvas.lineTo(last.x, up ? canvas.h : 0);
            canvas.lineTo(first.x, up ? canvas.h : 0);
            canvas.closePath();
            canvas.save();
            canvas.clip();
            canvas.setFillStyle(fillStyle);
            canvas.fillRect(0, up ? 0 : level, canvas.w, up ? level : (canvas.h - level));
            canvas.restore();
        }
    };
    RenderUtils.PATTERN2SEG = function (pattern) {
        switch (pattern) {
            case index_1.LinePattern.Solid: return [];
            case index_1.LinePattern.Dashed: return [5, 10];
            case index_1.LinePattern.Pointed: return [2, 8];
            default: throw new Error("Unexpected line pattern: " + pattern);
        }
    };
    return RenderUtils;
}());
exports.RenderUtils = RenderUtils;
},{"../canvas/index":17}],159:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var RenkoChartRenderer = (function () {
    function RenkoChartRenderer() {
        this.minCandleWidth = 3;
        this.maxCandleWidth = 21;
    }
    RenkoChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        var _this = this;
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x);
        });
    };
    RenkoChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        // const candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // // while (dataIterator.moveNext()) {
        // //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        // //         candleHit = dataIterator.current;
        // //         break;
        // //     }
        // // }
        // data.forEach((value: Candlestick, index: number) => {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, value, index, candleW)) {
        //         return value;
        //     }
        // });
        return candleHit;
    };
    RenkoChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        // TODO: Use prepaired X
        var x = timeAxis.toX(candle.uid);
        // let x = timeAxis.toX(index);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    // private renderCandle(
    //     canvas: ICanvas, timeAxis: ITimeAxis, yAxis: IAxis<number>, candle: Candlestick, frame: IRect, candleW: number): void {
    //     if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
    //         return;
    //     }
    //     // // Startin drawing
    //     // canvas.beginPath();
    //     // canvas.lineWidth = 1;
    //     // canvas.setStrokeStyle('#333333');
    //     // //let x = timeAxis.toX(candle.date);
    //     // let x = timeAxis.toX(index);
    //     // x = Math.round(x);
    //     // const body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
    //     // const h = yAxis.toX(candle.h);
    //     // const l = yAxis.toX(candle.l);
    //     // canvas.stroke();
    //     // // Drawing body
    //     // if (candle.c > candle.o) {
    //     //     canvas.setFillStyle('#ffffff');
    //     // } else {
    //     //     canvas.setFillStyle('#000000');
    //     // }
    //     // canvas.fillRect(body.x, body.y, body.w, body.h);
    //     // canvas.strokeRect(body.x, body.y, body.w, body.h);
    // }
    RenkoChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, candleW, x) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = 1;
        canvas.setStrokeStyle('#191919');
        // We are not calculating x, as currentX is faster
        // let x = timeAxis.toX(candle.uid);
        // if (x === undefined) {
        //     return;
        // }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        // Drawing upper shadow
        this.line(canvas, x, body.y, x, h);
        // Drawing lower shadow
        this.line(canvas, x, l, x, body.y + body.h);
        canvas.stroke();
        // Drawing body
        if (candle.c > candle.o) {
            canvas.setFillStyle('#F7F7F7'); //#008910');
        }
        else {
            canvas.setFillStyle('#191919'); //#D80300');
        }
        canvas.fillRect(body.x, body.y, body.w, body.h);
        canvas.strokeRect(body.x, body.y, body.w, body.h);
        // // Draw uid
        // canvas.setFillStyle('#111111');
        // const markText = candle.uid;
        // const w = canvas.measureText(markText).width;
        // canvas.setTextBaseLine(CanvasTextBaseLine.Top);
        // canvas.fillText(markText, x - w / 2, body.y);
        // canvas.fillText(markText, x - w / 2, body.y + body.h);
    };
    RenkoChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    RenkoChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        return (timeAxis.count > 0) ? frameWidth / timeAxis.count : 0;
        // // const range = timeAxis.range.end.getTime() - timeAxis.range.start.getTime();
        // // if (range === 0 || timeAxis.interval === 0) {
        // //     return this.minCandleWidth;
        // // }
        // // const candlesCount = range / timeAxis.interval;
        // const candlesCount = timeAxis.count; //  range / timeAxis.interval;
        // let w = Math.floor(frameWidth / candlesCount);
        // // make width odd (1, 3, 5, ...)
        // w = w - ((w + 1) % 2);
        // // between minCandleWidth and maxCandleWidth
        // return Math.min(this.maxCandleWidth, Math.max(this.minCandleWidth, w));
    };
    RenkoChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    RenkoChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    RenkoChartRenderer.prototype.setSettings = function (settings) {
    };
    return RenkoChartRenderer;
}());
exports.RenkoChartRenderer = RenkoChartRenderer;
},{"../core/index":53,"./RenderUtils":158}],160:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * AxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../axes/index");
var index_2 = require("../canvas/index");
var TimeAxisRenderer = (function () {
    function TimeAxisRenderer() {
        this.monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    }
    TimeAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        var range = axis.range;
        var scale = index_1.TimeAutoGrid.selectScale(frame.w, axis.interval, range);
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.setTextBaseLine(index_2.CanvasTextBaseLine.Top);
        canvas.beginPath();
        grid.reset();
        while (grid.moveNext()) {
            this.drawBar(canvas, grid.current.uid.t, grid.current.x);
        }
        canvas.stroke();
        canvas.closePath();
    };
    TimeAxisRenderer.prototype.drawBar = function (canvas, date, x) {
        canvas.moveTo(x, 0);
        canvas.lineTo(x, 3);
        // draw time mark
        var markText = this.formatDate(date);
        var w = canvas.measureText(markText).width;
        canvas.fillText(markText, x - w / 2, 5);
    };
    TimeAxisRenderer.prototype.formatDate = function (date) {
        // If hours are not 0 or minutes are not 0 then render hh:mm
        // else if 1 Jan then render Year
        // else if 1 day then render Month
        // else render day
        if (date.getUTCHours() !== 0 || date.getUTCMinutes() !== 0) {
            var hh = date.getUTCHours();
            var mm = date.getUTCMinutes();
            return ('0' + hh.toFixed(0)).slice(-2) + ':' + ('0' + mm.toFixed(0)).slice(-2);
        }
        else if (date.getUTCDate() === 1 && date.getUTCMonth() === 0) {
            return "" + date.getUTCFullYear();
        }
        else if (date.getUTCDate() === 1) {
            return "" + this.monthNames[date.getUTCMonth()];
        }
        else {
            return "" + date.getUTCDate();
        }
    };
    return TimeAxisRenderer;
}());
exports.TimeAxisRenderer = TimeAxisRenderer;
},{"../axes/index":14,"../canvas/index":17}],161:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeMarkRenderer class.
 */
var index_1 = require("../canvas/index");
var TimeMarkRenderer = (function () {
    function TimeMarkRenderer() {
        this.paddingLeft = 3;
        this.paddingTop = 5;
    }
    TimeMarkRenderer.prototype.render = function (canvas, data, point, frameSize) {
        if (data && data instanceof Date) {
            var hh = data.getUTCHours();
            var mm = data.getUTCMinutes();
            var hhmm = ('0' + hh.toFixed(0)).slice(-2) + ':' + ('0' + mm.toFixed(0)).slice(-2);
            var text = data.getUTCFullYear() + "-" + (data.getUTCMonth() + 1) + "-" + data.getUTCDate() + " " + hhmm;
            var textWidth = canvas.measureText(text).width;
            canvas.fillStyle = '#3F3F3F';
            canvas.fillRect(point.x - textWidth / 2 - this.paddingLeft, point.y, textWidth + this.paddingLeft * 2, 18);
            canvas.font = '11px Arial';
            canvas.fillStyle = '#EAEAEA';
            canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
            canvas.fillText(text, point.x - textWidth / 2, point.y + this.paddingTop);
        }
    };
    return TimeMarkRenderer;
}());
exports.TimeMarkRenderer = TimeMarkRenderer;
},{"../canvas/index":17}],162:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CandlestickChartRenderer_1 = require("./CandlestickChartRenderer");
exports.CandlestickChartRenderer = CandlestickChartRenderer_1.CandlestickChartRenderer;
var ChartRenderer_1 = require("./ChartRenderer");
exports.ChartRenderer = ChartRenderer_1.ChartRenderer;
var LineChartRenderer_1 = require("./LineChartRenderer");
exports.LineChartRenderer = LineChartRenderer_1.LineChartRenderer;
var LinestickChartRenderer_1 = require("./LinestickChartRenderer");
exports.LinestickChartRenderer = LinestickChartRenderer_1.LinestickChartRenderer;
var PriceAxisRenderer_1 = require("./PriceAxisRenderer");
exports.PriceAxisRenderer = PriceAxisRenderer_1.PriceAxisRenderer;
var RenderLocator_1 = require("./RenderLocator");
exports.RenderLocator = RenderLocator_1.RenderLocator;
var RenderUtils_1 = require("./RenderUtils");
exports.RenderUtils = RenderUtils_1.RenderUtils;
var TimeAxisRenderer_1 = require("./TimeAxisRenderer");
exports.TimeAxisRenderer = TimeAxisRenderer_1.TimeAxisRenderer;
},{"./CandlestickChartRenderer":143,"./ChartRenderer":145,"./LineChartRenderer":149,"./LinestickChartRenderer":151,"./PriceAxisRenderer":156,"./RenderLocator":157,"./RenderUtils":158,"./TimeAxisRenderer":160}],163:[function(require,module,exports){
/**
 * Typed events for TypeScript.
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Event = (function () {
    function Event() {
        this.handlers = [];
    }
    Event.prototype.on = function (handler) {
        this.handlers.push(handler);
    };
    Event.prototype.off = function (handler) {
        this.handlers = this.handlers.filter(function (h) { return h !== handler; });
    };
    Event.prototype.trigger = function (data) {
        this.handlers
            .slice(0)
            .forEach(function (h) { return h(data); });
    };
    return Event;
}());
exports.Event = Event;
/**
 * Throttles event.
 * @param callback Event handler
 * @param limit Limit in milliseconds
 */
function throttle(callback, limit) {
    var wait = false;
    return function (e) {
        if (!wait) {
            callback(e);
            wait = true;
            setTimeout(function () { wait = false; }, limit);
        }
    };
}
exports.throttle = throttle;
},{}],164:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * FixedSizeArray class.
 */
var FixedSizeArray = (function () {
    /**
     * Creates instance of array
     * @param size Maximum amount of elements.
     */
    function FixedSizeArray(size, comparer) {
        this._length = 0;
        this.container = [];
        this.size = size;
        this.comparer = comparer;
    }
    Object.defineProperty(FixedSizeArray.prototype, "length", {
        /**
         * Current amount of items in the array.
         */
        get: function () {
            return this._length;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Indexer
     */
    FixedSizeArray.prototype.getItem = function (index) {
        if (index < 0 || index >= this._length) {
            throw new Error("Index is out of range. index=" + index + ", length=" + this._length);
        }
        return this.container[index];
    };
    FixedSizeArray.prototype.last = function () {
        if (this._length > 0) {
            return this.container[this._length - 1];
        }
        else {
            throw new Error('Array is empty.');
        }
    };
    FixedSizeArray.prototype.lastOrDefault = function () {
        if (this._length > 0) {
            return this.container[this._length - 1];
        }
        else {
            return undefined;
        }
    };
    /**
     * Appends specified element to the end of array.
     * If amount of elements exceeds allowed amount, first element is removed.
     */
    FixedSizeArray.prototype.push = function (element) {
        if (this._length < this.size) {
            this.container[this._length] = element;
            this._length += 1;
        }
        else {
            // shift left
            for (var i = 1; i < this._length; i += 1) {
                this.container[i - 1] = this.container[i];
            }
            this.container[this._length - 1] = element;
        }
    };
    FixedSizeArray.prototype.pushRange = function (elements) {
        var _this = this;
        if (!elements) {
            throw new Error('Argument is null');
        }
        elements.forEach(function (element) {
            _this.push(element);
        });
    };
    /**
     * Determines maximum value.
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.max = function (accessor, take) {
        var max = undefined;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                max = Math.max(value, max !== undefined ? max : Number.NEGATIVE_INFINITY);
            }
        });
        return max;
    };
    /**
     * Determines minimum value.
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.min = function (accessor, take) {
        var min = undefined;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                min = Math.min(value, min !== undefined ? min : Number.POSITIVE_INFINITY);
            }
        });
        return min;
    };
    /**
     * Returns index of max element or -1
     * @param accessor
     */
    FixedSizeArray.prototype.maxIndex = function (accessor) {
        var max = undefined;
        var maxIndex = -1;
        this.container.forEach(function (el, index) {
            var value = accessor(el);
            if (value !== undefined && (max === undefined || (max !== undefined && value > max))) {
                max = value;
                maxIndex = index;
            }
        });
        return maxIndex;
    };
    /**
     * Returns index of min element or -1
     * @param accessor
     */
    FixedSizeArray.prototype.minIndex = function (accessor) {
        var min = undefined;
        var minIndex = -1;
        this.container.forEach(function (el, index) {
            var value = accessor(el);
            if (value !== undefined && (min === undefined || (min !== undefined && value < min))) {
                min = value;
                minIndex = index;
            }
        });
        return minIndex;
    };
    /**
     * Calculates sum of items
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.sum = function (accessor, take) {
        var sum = 0;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                sum += value;
            }
        });
        return sum;
    };
    return FixedSizeArray;
}());
exports.FixedSizeArray = FixedSizeArray;
},{}],165:[function(require,module,exports){
/**
* Commonly used interfaces, that can be used in other projects.
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Point = (function () {
    function Point(x, y) {
        this.x = x ? x : 0;
        this.y = y ? y : 0;
    }
    /**
     * Returns new point which is a sum of this and other point. Original point is not changed.
     * @param p
     */
    Point.prototype.add = function (p) {
        return new Point(this.x + p.x, this.y + p.y);
    };
    /**
     * Returns new point which is difference b/w this and other point. Original point is not changed.
     * @param p
     */
    Point.prototype.sub = function (p) {
        return new Point(this.x - p.x, this.y - p.y);
    };
    return Point;
}());
exports.Point = Point;
var PartialPoint = (function () {
    function PartialPoint() {
    }
    return PartialPoint;
}());
exports.PartialPoint = PartialPoint;
var Size = (function () {
    function Size(w, h) {
        this.width = 0;
        this.height = 0;
        this.width = w ? w : 0;
        this.height = h ? h : 0;
    }
    return Size;
}());
exports.Size = Size;
var IdValue = (function () {
    function IdValue(id, value) {
        this.id = id;
        this.value = value;
    }
    return IdValue;
}());
exports.IdValue = IdValue;
},{}],166:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var Event_1 = require("./Event");
exports.Event = Event_1.Event;
exports.throttle = Event_1.throttle;
var FixedSizeArray_1 = require("./FixedSizeArray");
exports.FixedSizeArray = FixedSizeArray_1.FixedSizeArray;
var Interfaces_1 = require("./Interfaces");
exports.IdValue = Interfaces_1.IdValue;
exports.PartialPoint = Interfaces_1.PartialPoint;
exports.Point = Interfaces_1.Point;
exports.Size = Interfaces_1.Size;
},{"./Event":163,"./FixedSizeArray":164,"./Interfaces":165}],167:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utility methods for working with arrays.
 */
var ArrayUtils = (function () {
    function ArrayUtils() {
    }
    /**
     * Merges update array into target array using specified compararer.
     * Equal elements from update override elements from target.
     * Method expects target and update arrays to be in sorted order.
     *
     * @returns New array containing elements from target and update arrays.
     */
    ArrayUtils.merge = function (target, update, comparer, updateFunction) {
        var merged = new Array(target.length + update.length); // preallocate memory
        var ia = 0;
        var ib = 0;
        var actualSize = 0;
        while (ia < target.length || ib < update.length) {
            if (ia < target.length && ib < update.length) {
                // compare dates
                if (comparer(target[ia], update[ib]) < 0) {
                    merged[actualSize] = target[ia];
                    ia += 1;
                }
                else if (comparer(target[ia], update[ib]) > 0) {
                    merged[actualSize] = update[ib];
                    ib += 1;
                }
                else {
                    // Take newest value
                    if (updateFunction) {
                        merged[actualSize] = updateFunction(target[ia], update[ib]);
                    }
                    else {
                        merged[actualSize] = update[ib];
                    }
                    ia += 1;
                    ib += 1;
                }
            }
            else if (ia < target.length) {
                // only A left
                merged[actualSize] = target[ia];
                ia += 1;
            }
            else if (ib < update.length) {
                // only B left
                merged[actualSize] = update[ib];
                ib += 1;
            }
            actualSize += 1;
        }
        merged.length = actualSize;
        return merged;
    };
    return ArrayUtils;
}());
exports.ArrayUtils = ArrayUtils;
},{}],168:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utility operations for dates.
 */
var index_1 = require("../core/index");
var TimeSpan_1 = require("./TimeSpan");
var DateUtils = (function () {
    function DateUtils() {
    }
    DateUtils.utcNow = function () {
        return new Date();
    };
    DateUtils.getUtcDate = function (year, month, day, hour, minute, second, ms) {
        return new Date(Date.UTC(year, month, day || 1, hour || 0, minute || 0, second || 0, ms || 0));
    };
    DateUtils.format14 = function (date) {
        return ('00000000000000' + date.getTime()).slice(-14);
    };
    DateUtils.formatDateISO = function (date) {
        var year = date.getUTCFullYear();
        var month = ('00' + (date.getUTCMonth() + 1)).slice(-2);
        var day = ('00' + date.getUTCDate()).slice(-2);
        return year + "-" + month + "-" + day;
    };
    DateUtils.parseISODate = function (text) {
        if (text) {
            return new Date(text);
        }
        else {
            throw new Error('Argument "text" is undefined');
        }
    };
    /**
     * Returns count of intervals b/w two dates. Both dates should be UTC.
     * @param date1
     * @param date2
     * @param interval
     */
    DateUtils.diffIntervals = function (date1, date2, interval) {
        var diff = Math.abs(date1.getTime() - date2.getTime());
        switch (interval) {
            case index_1.TimeInterval.sec: return Math.floor(diff / 1000);
            case index_1.TimeInterval.min: return Math.floor(diff / (1000 * 60));
            case index_1.TimeInterval.min5: return Math.floor(diff / (1000 * 60 * 5));
            case index_1.TimeInterval.min15: return Math.floor(diff / (1000 * 60 * 15));
            case index_1.TimeInterval.min30: return Math.floor(diff / (1000 * 60 * 30));
            case index_1.TimeInterval.hour: return Math.floor(diff / (1000 * 60 * 60));
            case index_1.TimeInterval.hour4: return Math.floor(diff / (1000 * 60 * 60 * 4));
            case index_1.TimeInterval.hour6: return Math.floor(diff / (1000 * 60 * 60 * 6));
            case index_1.TimeInterval.hour12: return Math.floor(diff / (1000 * 60 * 60 * 12));
            case index_1.TimeInterval.day: return Math.floor(diff / (1000 * 60 * 60 * 24));
            case index_1.TimeInterval.day3: return Math.floor(diff / (1000 * 60 * 60 * 24 * 3));
            case index_1.TimeInterval.week: return Math.floor(diff / (1000 * 60 * 60 * 24 * 7));
            case index_1.TimeInterval.day10: return Math.floor(diff / (1000 * 60 * 60 * 24 * 10));
            case index_1.TimeInterval.month:
                var dateMin = date1 < date2 ? date1 : date2;
                var dateMax = date1 < date2 ? date2 : date1;
                var months = dateMax.getMonth() - dateMin.getMonth()
                    + (12 * (dateMax.getFullYear() - dateMin.getFullYear()));
                // Check that adding diff will not exceed greater date
                var computed = DateUtils.addInterval(dateMin, interval, months);
                return (computed <= dateMax) ? months : Math.max(months - 1, 0);
            default:
                throw new Error("Unexpected interval " + interval);
        }
    };
    DateUtils.addInterval = function (date, interval, times) {
        if (times === void 0) { times = 1; }
        var newDate = new Date(date.getTime());
        switch (interval) {
            // TODO: vanilla JS can incorrectly handle "set*" functions. Check with "daylight saving time".
            case index_1.TimeInterval.sec:
                newDate.setSeconds(date.getSeconds() + times * 1);
                break;
            case index_1.TimeInterval.min:
                newDate.setMinutes(date.getMinutes() + times * 1);
                break;
            case index_1.TimeInterval.min5:
                newDate.setMinutes(date.getMinutes() + times * 5);
                break;
            case index_1.TimeInterval.min15:
                newDate.setMinutes(date.getMinutes() + times * 15);
                break;
            case index_1.TimeInterval.min30:
                newDate.setMinutes(date.getMinutes() + times * 30);
                break;
            case index_1.TimeInterval.hour:
                newDate.setHours(date.getHours() + times * 1);
                break;
            case index_1.TimeInterval.hour4:
                newDate.setHours(date.getHours() + times * 4);
                break;
            case index_1.TimeInterval.hour6:
                newDate.setHours(date.getHours() + times * 6);
                break;
            case index_1.TimeInterval.hour12:
                newDate.setHours(date.getHours() + times * 12);
                break;
            case index_1.TimeInterval.day:
                newDate.setDate(date.getDate() + times * 1);
                break;
            case index_1.TimeInterval.day3:
                newDate.setDate(date.getDate() + times * 3);
                break;
            case index_1.TimeInterval.week:
                newDate.setDate(date.getDate() + times * 7);
                break;
            case index_1.TimeInterval.day10:
                newDate.setDate(date.getDate() + times * 10);
                break;
            case index_1.TimeInterval.month:
                newDate.setMonth(date.getMonth() + times * 1);
                break;
            default:
                throw new Error("Unexpected interval " + interval);
        }
        return newDate;
    };
    DateUtils.substractInterval = function (date, interval) {
        var newDate = new Date(date.getTime());
        switch (interval) {
            // TODO: vanilla JS can incorrectly handle "set*" functions. Check with "daylight saving time".
            case index_1.TimeInterval.sec:
                newDate.setSeconds(date.getSeconds() - 1);
                break;
            case index_1.TimeInterval.min:
                newDate.setMinutes(date.getMinutes() - 1);
                break;
            case index_1.TimeInterval.min5:
                newDate.setMinutes(date.getMinutes() - 5);
                break;
            case index_1.TimeInterval.min15:
                newDate.setMinutes(date.getMinutes() - 15);
                break;
            case index_1.TimeInterval.min30:
                newDate.setMinutes(date.getMinutes() - 30);
                break;
            case index_1.TimeInterval.hour:
                newDate.setHours(date.getHours() - 1);
                break;
            case index_1.TimeInterval.hour4:
                newDate.setHours(date.getHours() - 4);
                break;
            case index_1.TimeInterval.hour6:
                newDate.setHours(date.getHours() - 6);
                break;
            case index_1.TimeInterval.hour12:
                newDate.setHours(date.getHours() - 12);
                break;
            case index_1.TimeInterval.day:
                newDate.setDate(date.getDate() - 1);
                break;
            case index_1.TimeInterval.day3:
                newDate.setDate(date.getDate() - 3);
                break;
            case index_1.TimeInterval.week:
                newDate.setDate(date.getDate() - 7);
                break;
            case index_1.TimeInterval.day10:
                newDate.setDate(date.getDate() - 10);
                break;
            case index_1.TimeInterval.month:
                newDate.setMonth(date.getMonth() - 1);
                break;
            default:
                throw new Error("Unexpected interval " + interval);
        }
        return newDate;
    };
    /**
     * Truncates specified date to the specified interval. Date is expected to be UTC.
     * @param date
     * @param interval
     */
    DateUtils.truncateToInterval = function (date, interval) {
        switch (interval) {
            case index_1.TimeInterval.sec: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_SECONDS(1));
            case index_1.TimeInterval.min: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(1));
            case index_1.TimeInterval.min5: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(5));
            case index_1.TimeInterval.min15: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(15));
            case index_1.TimeInterval.min30: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(30));
            case index_1.TimeInterval.hour: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(1));
            case index_1.TimeInterval.hour4: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(4));
            case index_1.TimeInterval.hour6: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(6));
            case index_1.TimeInterval.hour12: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(12));
            case index_1.TimeInterval.day: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(1));
            case index_1.TimeInterval.day3: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(3));
            case index_1.TimeInterval.week:
                var day = date.getDay();
                var truncated = DateUtils.getUtcDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());
                truncated.setDate(truncated.getDate() - (day !== 0 ? day - 1 : 6));
                return truncated;
            case index_1.TimeInterval.day10: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(10));
            case index_1.TimeInterval.month:
                return DateUtils.getUtcDate(date.getUTCFullYear(), date.getUTCMonth(), 1);
            default:
                throw new Error("Unexpected interval " + interval);
        }
    };
    DateUtils.truncateToTimeSpan = function (date, timeSpan) {
        if (timeSpan.totalMilliseconds === 0) {
            return date;
        }
        var dateMilliseconds = date.getTime();
        return new Date(dateMilliseconds - (dateMilliseconds % timeSpan.totalMilliseconds));
    };
    DateUtils.isTruncated = function (date, timeSpan) {
        if (timeSpan.totalMilliseconds === 0) {
            return true;
        }
        var dateMilliseconds = date.getTime();
        return ((dateMilliseconds % timeSpan.totalMilliseconds) === 0);
    };
    DateUtils.isRound = function (date, interval) {
        var truncated = DateUtils.truncateToInterval(date, interval);
        return date.getTime() === truncated.getTime();
    };
    return DateUtils;
}());
exports.DateUtils = DateUtils;
},{"../core/index":53,"./TimeSpan":173}],169:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MINDIST = 0.001;
var DrawUtils = (function () {
    function DrawUtils() {
    }
    /**
     * Checks wether the point lies on the specified line.
     * @param p Point to check.
     * @param p1 Start point of line.
     * @param p2 End point of line.
     */
    DrawUtils.IS_POINT_ON_LINE = function (p, pa, pb, precision) {
        var minx = Math.min(pa.x, pb.x);
        var maxx = Math.max(pa.x, pb.x);
        var miny = Math.min(pa.y, pb.y);
        var maxy = Math.max(pa.y, pb.y);
        // Check hitting the rectangle area around the line
        if (p.x < minx - precision || p.x > maxx + precision || p.y < miny - precision || p.y > maxy + precision) {
            return false;
        }
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        if (Math.abs(distx) > MINDIST && Math.abs(disty) > MINDIST) {
            // Compute distance from a point to a line
            var dist = Math.abs(disty * p.x - distx * p.y + pb.x * pa.y - pb.y * pa.x)
                / Math.sqrt(disty * disty + distx * distx);
            return dist < precision;
        }
        return true;
    };
    DrawUtils.IS_POINT_ON_QUADCURVE = function (p, pa, pb, pc, precision) {
        var x = p.x;
        var y = p.y;
        var x1 = pa.x;
        var y1 = pa.y;
        var x2 = pb.x;
        var y2 = pb.y;
        var x3 = pc.x;
        var y3 = pc.y;
        var a = (x1 - 2 * x2 + x3);
        var b = 2 * x2 - 2 * x1;
        // Find possible "t" values
        var values = DrawUtils.SOLVE_QUAD(a, b, x1 - x).sort();
        if (values.length === 0) {
            return false;
        }
        // Compute correspondent "y" values with "t" values
        var testedY = [];
        values.forEach(function (t) {
            testedY.push((1 - t) * (1 - t) * y1 + 2 * (1 - t) * t * y2 + t * t * y3);
        });
        // Test point "y" value 
        return testedY.some(function (yt) {
            return (y >= yt - precision && y <= yt + precision);
        });
    };
    /**
     * Solves quadratic equation.
     * @param a
     * @param b
     * @param c
     */
    DrawUtils.SOLVE_QUAD = function (a, b, c) {
        if (a === 0) {
            return b !== 0 ? [-c / b] : [];
        }
        var d = b * b - 4 * a * c;
        if (d < 0) {
            return [];
        }
        else {
            return d === 0
                ? ([-b / (2 * a)])
                : [(-b + Math.sqrt(d)) / (2 * a),
                    (-b - Math.sqrt(d)) / (2 * a)];
        }
    };
    /**
     * Computes distance from a point to the specified line
     * @param p
     * @param pa
     * @param pb
     */
    DrawUtils.DIST_TO_LINE = function (p, pa, pb) {
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        return (distx !== 0 || disty !== 0)
            ? Math.abs(disty * p.x - distx * p.y + pb.x * pa.y - pb.y * pa.x)
                / Math.sqrt(disty * disty + distx * distx)
            : 0;
    };
    DrawUtils.DIST = function (pa, pb) {
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        return (distx !== 0 || disty !== 0)
            ? Math.sqrt(Math.pow(pb.x - pa.x, 2) + Math.pow(pb.y - pa.y, 2))
            : 0;
    };
    DrawUtils.MID = function (pa, pb) {
        return { x: (pa.x + pb.x) / 2, y: (pa.y + pb.y) / 2 };
    };
    /**
     * Returns angle of the specified line in radians
     * @param pa
     * @param pb
     */
    DrawUtils.ANGLE = function (pa, pb) {
        // angle in radians
        return Math.atan2(pb.y - pa.y, pb.x - pa.x); // in degrees: 
        // // angle in degrees
        // var angleDeg = Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;
    };
    /**
     * Determines if point A is near point B (i.e. distance between points is less then precision).
     * @param pa
     * @param pb
     * @param precision
     */
    DrawUtils.IS_POINT_OVER = function (pa, pb, precision) {
        return Math.abs(pa.x - pb.x) < precision
            && Math.abs(pa.y - pb.y) < precision;
    };
    /**
     * Checks wether the point lies on the specified rectangle.
     */
    DrawUtils.IS_POINT_OVER_RECT = function (p, rect, precision) {
        return (p.x >= rect.x - precision && p.x <= rect.x + rect.w + precision
            && p.y >= rect.y - precision && p.y <= rect.y + rect.h + precision);
    };
    /**
     * Linear function by two points. Returns Y value for the specifed X value.
     * @param pa
     * @param pb
     * @param x
     */
    DrawUtils.LINEAR = function (pa, pb, x) {
        var distx = pb.x - pa.x;
        return (Math.abs(distx) > MINDIST)
            ? ((pb.x * pa.y - pa.x * pb.y) - (pa.y - pb.y) * x) / distx
            : undefined; // for vertical line
    };
    DrawUtils.EXTEND = function (pa, pb, frame) {
        var x1 = pa.x;
        var y1 = pa.y;
        var x2 = pb.x;
        var y2 = pb.y;
        var a = y2 - y1;
        var b = x1 - x2;
        var c = x2 * y1 - x1 * y2;
        if (Math.abs(a) > Math.abs(b)) {
            // extending Y
            var y = void 0;
            if (y1 > y2) {
                // to lower values
                y = frame.y;
            }
            else {
                // to greater values
                y = frame.y + frame.h;
            }
            var x = (a !== 0) ? -(b * y + c) / a : y1;
            return { x: x, y: y };
        }
        else {
            // extending X
            var x = void 0;
            if (x1 > x2) {
                // to lower values
                x = frame.x;
            }
            else {
                // to greater values
                x = frame.x + frame.w;
            }
            var y = (b !== 0) ? -(a * x + c) / b : x1;
            return { x: x, y: y };
        }
    };
    return DrawUtils;
}());
exports.DrawUtils = DrawUtils;
},{}],170:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * JSON utils
 */
var reISO = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;
var reMsAjax = /^\/Date\((d|-|.*)\)[\/|\\]$/;
var JsonUtils = (function () {
    function JsonUtils() {
    }
    /**
     * Parses date from string to Date object.
     * Used with JSON parser.
     * @param key Property name.
     * @param value String value to parse.
     */
    JsonUtils.DATEPARSER = function (key, value) {
        if (typeof value === 'string') {
            var a = reISO.exec(value);
            if (a) {
                return new Date(value);
            }
            a = reMsAjax.exec(value);
            if (a) {
                var b = a[1].split(/[-+,.]/);
                return new Date(b[0] ? +b[0] : 0 - +b[1]);
            }
        }
        return value;
    };
    ;
    return JsonUtils;
}());
exports.JsonUtils = JsonUtils;
},{}],171:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberUtils class.
 *
 * @class Utilities for numbers.
 */
var NumberUtils = (function () {
    function NumberUtils() {
    }
    /**
    * Returns a number rounded to fractionDigits after point.
    *
    * @param n number to round
    * @param fractionDigits how many digits after point.
    */
    NumberUtils.roundTo = function (n, fractionDigits) {
        if (fractionDigits === void 0) { fractionDigits = 0; }
        if (typeof n === 'number' && typeof fractionDigits === 'number') {
            var num = (n + 'e+' + fractionDigits);
            return +(Math.round(num) + 'e-' + fractionDigits);
        }
        return NaN;
    };
    return NumberUtils;
}());
exports.NumberUtils = NumberUtils;
},{}],172:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var StringUtils = (function () {
    function StringUtils() {
    }
    /**
     * Compares strings before specified character.
     * @param lhs
     * @param rhs
     * @param character
     */
    StringUtils.compare = function (lhs, rhs, character) {
        var i1 = lhs.indexOf(character);
        var i2 = rhs.indexOf(character);
        return ((i1 !== -1) ? lhs.substring(0, i1) : lhs)
            === ((i2 !== -1) ? rhs.substring(0, i2) : rhs);
    };
    return StringUtils;
}());
exports.StringUtils = StringUtils;
},{}],173:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeSpan class.
 */
var TimeSpan = (function () {
    function TimeSpan(value, unit) {
        switch (unit) {
            case TimeUnit.Seconds:
                this._totalMilliseconds = value * 1000;
                break;
            case TimeUnit.Minutes:
                this._totalMilliseconds = value * 60000;
                break;
            case TimeUnit.Hours:
                this._totalMilliseconds = value * 3600000;
                break;
            case TimeUnit.Days:
                this._totalMilliseconds = value * 86400000;
                break;
            default:
                throw new Error("Unexpected TimeUnit value " + unit);
        }
    }
    Object.defineProperty(TimeSpan.prototype, "totalMilliseconds", {
        get: function () {
            return this._totalMilliseconds;
        },
        enumerable: true,
        configurable: true
    });
    TimeSpan.FROM_DAYS = function (value) {
        return new TimeSpan(value, TimeUnit.Days);
    };
    TimeSpan.FROM_HOURS = function (value) {
        return new TimeSpan(value, TimeUnit.Hours);
    };
    TimeSpan.FROM_MINUTES = function (value) {
        return new TimeSpan(value, TimeUnit.Minutes);
    };
    TimeSpan.FROM_SECONDS = function (value) {
        return new TimeSpan(value, TimeUnit.Seconds);
    };
    TimeSpan.COMPARE = function (l, r) {
        return l._totalMilliseconds - r._totalMilliseconds;
    };
    return TimeSpan;
}());
exports.TimeSpan = TimeSpan;
var TimeUnit;
(function (TimeUnit) {
    TimeUnit[TimeUnit["Seconds"] = 0] = "Seconds";
    TimeUnit[TimeUnit["Minutes"] = 1] = "Minutes";
    TimeUnit[TimeUnit["Hours"] = 2] = "Hours";
    TimeUnit[TimeUnit["Days"] = 3] = "Days";
    TimeUnit[TimeUnit["Months"] = 4] = "Months";
})(TimeUnit || (TimeUnit = {}));
},{}],174:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var UidUtils = (function () {
    function UidUtils() {
    }
    UidUtils.NEWUID = function () {
        return (Math.random() * 100000).toString();
    };
    return UidUtils;
}());
exports.UidUtils = UidUtils;
},{}],175:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ArrayUtils_1 = require("./ArrayUtils");
exports.ArrayUtils = ArrayUtils_1.ArrayUtils;
var DateUtils_1 = require("./DateUtils");
exports.DateUtils = DateUtils_1.DateUtils;
var DrawUtils_1 = require("./DrawUtils");
exports.DrawUtils = DrawUtils_1.DrawUtils;
var JsonUtils_1 = require("./JsonUtils");
exports.JsonUtils = JsonUtils_1.JsonUtils;
var NumberUtils_1 = require("./NumberUtils");
exports.NumberUtils = NumberUtils_1.NumberUtils;
var StringUtils_1 = require("./StringUtils");
exports.StringUtils = StringUtils_1.StringUtils;
var TimeSpan_1 = require("./TimeSpan");
exports.TimeSpan = TimeSpan_1.TimeSpan;
var UidUtils_1 = require("./UidUtils");
exports.UidUtils = UidUtils_1.UidUtils;
},{"./ArrayUtils":167,"./DateUtils":168,"./DrawUtils":169,"./JsonUtils":170,"./NumberUtils":171,"./StringUtils":172,"./TimeSpan":173,"./UidUtils":174}],176:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Main module.
 */
var component_1 = require("./lib/component");
exports.Chart = component_1.Chart;
exports.ChartBoard = component_1.ChartBoard;
exports.FigureComponent = component_1.FigureComponent;
var axes = require("./lib/axes");
exports.axes = axes;
var canvas = require("./lib/canvas");
exports.canvas = canvas;
var core = require("./lib/core");
exports.core = core;
var data = require("./lib/data");
exports.data = data;
var drawing = require("./lib/drawing");
exports.drawing = drawing;
var indicator = require("./lib/indicator");
exports.indicator = indicator;
var model = require("./lib/model");
exports.model = model;
var render = require("./lib/render");
exports.render = render;
var shared = require("./lib/shared");
exports.shared = shared;
var utils = require("./lib/utils");
exports.utils = utils;
function register(stateId, state) {
    // TODO: should be separate instance for each board
    component_1.StateFabric.instance.setState(stateId, state);
}
// Register built-in states
register('hover', component_1.HoverState.instance);
register('movechart', component_1.MoveChartState.instance);
// Register built-in drawing tools
register('curve', drawing.DrawCurveState.instance);
register('line', drawing.DrawLineState.instance);
register('hline', drawing.DrawHorizontalLineState.instance);
register('vline', drawing.DrawVerticalLineState.instance);
register('rect', drawing.DrawRectState.instance);
register('triangle', drawing.DrawTriangleState.instance);
register('path', drawing.DrawPathState.instance);
register('pitchfork', drawing.DrawPitchforkState.instance);
register('text', drawing.DrawTextState.instance);
register('ellipse', drawing.DrawEllipseState.instance);
register('trendchannel', drawing.DrawTrendChannelState.instance);
register('daterange', drawing.DrawDateRangeState.instance);
register('fibofan', drawing.DrawFiboFanState.instance);
register('fibolevel', drawing.DrawFiboLevelState.instance);
register('fiboprojection', drawing.DrawFiboProjectionState.instance);
register('fibotimeprojection', drawing.DrawFiboTimeProjectionState.instance);
register('gannfan', drawing.DrawGannFanState.instance);
register('ohlcproj', drawing.DrawOhlcProjState.instance);
// Register drawing figures
component_1.FigureFactory.instance.register(component_1.FigureType.curve, drawing.CurveFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.line, drawing.LineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.hline, drawing.HorizontalLineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.vline, drawing.VerticalLineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.rect, drawing.RectFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.triangle, drawing.TriangleFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.path, drawing.PathFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.pitchfork, drawing.PitchforkFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.text, drawing.TextFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.ellipse, drawing.EllipseFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.trendchannel, drawing.TrendChannelFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.daterange, drawing.DateRangeFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibofan, drawing.FiboFanFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibolevel, drawing.FiboLevelFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fiboprojection, drawing.FiboProjectionFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibotimeprojection, drawing.FiboTimeProjectionFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.gannfan, drawing.GannFanFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.ohlcproj, drawing.OhlcProjFigureComponent);
var states = {
    register: register
};
exports.states = states;
// Register built-in indicators
indicator.register('alligator', indicator.AlligatorIndicator);
indicator.register('bollinger', indicator.BollingerIndicator);
indicator.register('SSTOC', indicator.SlowStochasticOscillator);
indicator.register('FSTOC', indicator.FastStochasticOscillator);
indicator.register('CCI', indicator.CCIOscillator);
indicator.register('COR', indicator.CORIndicator);
indicator.register('DEMA', indicator.DEMAIndicator);
indicator.register('DIX', indicator.DIXOscillator);
indicator.register('DMI', indicator.DMIIndicator);
indicator.register('DSSBR', indicator.DSSBROscillator);
indicator.register('EMA', indicator.EMAIndicator);
indicator.register('MACD', indicator.MACDIndicator);
indicator.register('MOM', indicator.MOMIndicator);
indicator.register('MD', indicator.MDIndicator);
indicator.register('ADX', indicator.ADXIndicator);
indicator.register('ATR', indicator.ATRIndicator);
indicator.register('ARO', indicator.AroonIndicator);
indicator.register('AOS', indicator.AroonOscillator);
indicator.register('HHLL', indicator.HHLLIndicator);
indicator.register('IKH', indicator.IKHIndicator);
indicator.register('OBOS', indicator.OBOSOscillator);
indicator.register('PCR', indicator.PCROscillator);
indicator.register('PP', indicator.PPIndicator);
indicator.register('PSAR', indicator.PSARIndicator);
indicator.register('RB', indicator.RBIndicator);
indicator.register('STDEV', indicator.STDEVIndicator);
indicator.register('TP', indicator.TPIndicator);
indicator.register('RATIO', indicator.RATIOIndicator);
indicator.register('RSI', indicator.RSIOscillator);
indicator.register('RSL', indicator.RSLOscillator);
indicator.register('ROC', indicator.ROCIndicator);
indicator.register('ST', indicator.STIndicator);
indicator.register('SMA', indicator.SMAIndicator);
indicator.register('SMMA', indicator.SMMAIndicator);
indicator.register('TEMA', indicator.TEMAIndicator);
indicator.register('TMA', indicator.TMAIndicator);
indicator.register('VOLA', indicator.VOLAIndicator);
indicator.register('WMA', indicator.WMAIndicator);
// Register built-in renderers
render.RenderLocator.Instance.register('alligator', indicator.AlligatorIndicatorRenderer);
render.RenderLocator.Instance.register('bollinger', indicator.BollingerIndicatorRenderer);
render.RenderLocator.Instance.register('SSTOC', indicator.StochasticOscillatorRenderer);
render.RenderLocator.Instance.register('FSTOC', indicator.StochasticOscillatorRenderer);
render.RenderLocator.Instance.register('CCI', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('COR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DEMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DMI', indicator.DMIIndicatorRenderer);
render.RenderLocator.Instance.register('EMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('SMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('SMMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TEMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('WMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ADX', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ATR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ARO', indicator.AroonIndicatorRenderer);
render.RenderLocator.Instance.register('AOS', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('HHLL', indicator.HHLLIndicatorRenderer);
render.RenderLocator.Instance.register('IKH', indicator.IKHIndicatorRenderer);
render.RenderLocator.Instance.register('PSAR', indicator.PSARIndicatorRenderer);
render.RenderLocator.Instance.register('RB', indicator.RBIndicatorRenderer);
render.RenderLocator.Instance.register('STDEV', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TP', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RATIO', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RSI', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RSL', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('MOM', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ROC', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('OBOS', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DIX', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DSSBR', indicator.DSSBROscillatorRenderer);
render.RenderLocator.Instance.register('PCR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('PP', indicator.PPIndicatorRenderer);
render.RenderLocator.Instance.register('MD', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('MACD', indicator.MACDIndicatorRenderer);
render.RenderLocator.Instance.register('ST', indicator.STIndicatorRenderer);
render.RenderLocator.Instance.register('VOLA', render.LinestickChartRenderer);
var lychart = {
    // types:
    Chart: component_1.Chart,
    ChartBoard: component_1.ChartBoard,
    FigureComponent: component_1.FigureComponent,
    // namespaces:
    axes: axes,
    canvas: canvas,
    core: core,
    data: data,
    drawing: drawing,
    indicator: indicator,
    model: model,
    render: render,
    states: states,
    shared: shared,
    utils: utils
};
window.lychart = lychart;
},{"./lib/axes":14,"./lib/canvas":17,"./lib/component":38,"./lib/core":53,"./lib/data":71,"./lib/drawing":92,"./lib/indicator":134,"./lib/model":142,"./lib/render":162,"./lib/shared":166,"./lib/utils":175}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvS25vY2tvdXRDb21wb25lbnRzLnRzIiwiYXBwL21haW4udHMiLCJhcHAvcGx1Z2lucy9Lbm9ja291dEV4dGVuaW9ucy50cyIsImFwcC9zZXJ2aWNlcy9EYXRhU2VydmljZS50cyIsImFwcC9zZXJ2aWNlcy9TdG9yYWdlLnRzIiwiYXBwL3NlcnZpY2VzL1V0aWxzLnRzIiwiYXBwL3ZtL0FwcFZpZXdNb2RlbC50cyIsImFwcC92bS9DaGFydFZpZXdNb2RlbC50cyIsImFwcC92bS9Qcm9wc1ZpZXdNb2RlbC50cyIsImFwcC92bS9UcmVlVmlld01vZGVsLnRzIiwiLi4vc3JjL2xpYi9heGVzL0F1dG9HcmlkLnRzIiwiLi4vc3JjL2xpYi9heGVzL051bWJlckF4aXMudHMiLCIuLi9zcmMvbGliL2F4ZXMvUHJpY2VBeGlzLnRzIiwiLi4vc3JjL2xpYi9heGVzL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9jYW52YXMvQ2FudmFzV3JhcHBlci50cyIsIi4uL3NyYy9saWIvY2FudmFzL0VudW1zLnRzIiwiLi4vc3JjL2xpYi9jYW52YXMvaW5kZXgudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9DaGFydC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L0NoYXJ0Qm9hcmQudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9DaGFydFN0YWNrLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvQ3Jvc3NoYWlyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvRmlndXJlQ29tcG9uZW50LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvRmlndXJlRmFjdG9yeS50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L0dyaWQudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9JbnRlcmZhY2VzLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvTnVtYmVyQXhpc0NvbXBvbmVudC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L051bWJlck1hcmtlci50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L051bWJlclJlZ2lvbk1hcmtlci50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1ByaWNlQXhpc0NvbXBvbmVudC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1ByaWNlTWFya2VyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvUXVpY2t0aXAudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9TdGF0ZUZhYnJpYy50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1N0YXRlcy50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1RpbWVBeGlzLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvVGltZUF4aXNDb21wb25lbnQudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9UaW1lTWFya2VyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvVGltZVJlZ2lvbk1hcmtlci50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L2luZGV4LnRzIiwiLi4vc3JjL2xpYi9jb21wdXRlL0luZGljYXRvckV4dGVuc2lvbi50cyIsIi4uL3NyYy9saWIvY29tcHV0ZS9pbmRleC50cyIsIi4uL3NyYy9saWIvY29yZS9BbW91bnRSYW5nZS50cyIsIi4uL3NyYy9saWIvY29yZS9DT2JqZWN0LnRzIiwiLi4vc3JjL2xpYi9jb3JlL0NoYXJ0VHlwZS50cyIsIi4uL3NyYy9saWIvY29yZS9Db25zdGFudHMudHMiLCIuLi9zcmMvbGliL2NvcmUvRW51bXMudHMiLCIuLi9zcmMvbGliL2NvcmUvRXZlbnRzLnRzIiwiLi4vc3JjL2xpYi9jb3JlL0ludGVyZmFjZXMudHMiLCIuLi9zcmMvbGliL2NvcmUvTW9kZWwudHMiLCIuLi9zcmMvbGliL2NvcmUvU2V0dGluZ1NldC50cyIsIi4uL3NyYy9saWIvY29yZS9TdG9yYWdlTWFuYWdlci50cyIsIi4uL3NyYy9saWIvY29yZS9WaXN1YWxDb21wb25lbnQudHMiLCIuLi9zcmMvbGliL2NvcmUvVmlzdWFsQ29udGV4dC50cyIsIi4uL3NyYy9saWIvY29yZS9pbmRleC50cyIsIi4uL3NyYy9saWIvZGF0YS9BcnJheURhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvQXJyYXlEYXRhU3RvcmFnZS50cyIsIi4uL3NyYy9saWIvZGF0YS9BcnJheUl0ZXJhdG9yLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0NvbXB1dGVkRGF0YVNvdXJjZS50cyIsIi4uL3NyYy9saWIvZGF0YS9EYXRhQ2hhbmdlZEV2ZW50LnRzIiwiLi4vc3JjL2xpYi9kYXRhL0RhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvRGF0YVNvdXJjZUNvbmZpZy50cyIsIi4uL3NyYy9saWIvZGF0YS9EYXRhU291cmNlRmFjdG9yeS50cyIsIi4uL3NyYy9saWIvZGF0YS9EYXRhU291cmNlUmVnaXN0ZXIudHMiLCIuLi9zcmMvbGliL2RhdGEvRGF0YVR5cGUudHMiLCIuLi9zcmMvbGliL2RhdGEvSGVpa2luQXNoaURhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvSHR0cERhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvSHR0cERhdGFTb3VyY2VDb25maWcudHMiLCIuLi9zcmMvbGliL2RhdGEvSW5kaWNhdG9yRGF0YVNvdXJjZS50cyIsIi4uL3NyYy9saWIvZGF0YS9MaW5lQnJlYWtEYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL1JhbmdlQmFyRGF0YVNvdXJjZS50cyIsIi4uL3NyYy9saWIvZGF0YS9SZW5rb0RhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvaW5kZXgudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0N1cnZlU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0RhdGVSYW5nZVN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdFbGxpcHNlU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0ZpYm9GYW5TdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3Rmlib0xldmVsU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0ZpYm9Qcm9qZWN0aW9uU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0ZpYm9UaW1lUHJvamVjdGlvblN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdHYW5uRmFuU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0hvcml6b250YWxMaW5lU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0xpbmVTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3T2hsY1Byb2pTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3UGF0aFN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdQaXRjaGZvcmtTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3UmVjdFN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdUZXh0U3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd1RyZW5kQ2hhbm5lbFN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdUcmlhbmdsZVN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdWZXJ0aWNhbExpbmVTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9GaWd1cmVTdGF0ZUJhc2UudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvUG9pbnRGaWd1cmVDb21wb25lbnQudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvaW5kZXgudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BRFhJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BVFJJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BbGxpZ2F0b3JJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9Bcm9vbkluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0JvbGxpbmdlckluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0NDSU9zY2lsbGF0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9DT1JJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9DYW5kbGVzdGlja0V4dC50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0RFTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9ESVhPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRE1JSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRFNTQlJPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRU1BSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvSEhMTEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0lLSEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0luZGljYXRvckZhYnJpYy50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01BQ0RJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9NREluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01PTUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01vdmluZ0F2ZXJhZ2UudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9QQ1JPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvUFBJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9QU0FSSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvUkFUSU9JbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9SQkluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1JPQ0luZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1JTSU9zY2lsbGF0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9SU0xPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU01BSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU01NQUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1NUREVWSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU1RJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9TaW1wbGVJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9TdG9jaGFzdGljT3NjaWxsYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1RFTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9UTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9UUEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1V0aWxzLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvVk9MQUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1ZhbHVlQWNjZXNzb3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9XTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9pbmRleC50cyIsIi4uL3NyYy9saWIvbGF5b3V0L0FyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9Cb2FyZEFyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9DaGFydEFyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9TaXplQ2hhbmdlZEV2ZW50LnRzIiwiLi4vc3JjL2xpYi9sYXlvdXQvaW5kZXgudHMiLCIuLi9zcmMvbGliL21vZGVsL0NhbmRsZXN0aWNrLnRzIiwiLi4vc3JjL2xpYi9tb2RlbC9Qb2ludC50cyIsIi4uL3NyYy9saWIvbW9kZWwvaW5kZXgudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DYW5kbGVzdGlja1BvcHVwUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DaGFydFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvQ3Jvc3NoYWlyUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9HcmlkUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9Ib2xsb3dzdGlja0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9MaW5lQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL0xpbmVQb3B1cFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvTGluZXN0aWNrQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL01vdW50YWluQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL051bWJlckF4aXNSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL051bWJlck1hcmtSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL09obGNDaGFydFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvUHJpY2VBeGlzUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9SZW5kZXJMb2NhdG9yLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvUmVuZGVyVXRpbHMudHMiLCIuLi9zcmMvbGliL3JlbmRlci9SZW5rb0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9UaW1lQXhpc1JlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvVGltZU1hcmtSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9zaGFyZWQvRXZlbnQudHMiLCIuLi9zcmMvbGliL3NoYXJlZC9GaXhlZFNpemVBcnJheS50cyIsIi4uL3NyYy9saWIvc2hhcmVkL0ludGVyZmFjZXMudHMiLCIuLi9zcmMvbGliL3NoYXJlZC9pbmRleC50cyIsIi4uL3NyYy9saWIvdXRpbHMvQXJyYXlVdGlscy50cyIsIi4uL3NyYy9saWIvdXRpbHMvRGF0ZVV0aWxzLnRzIiwiLi4vc3JjL2xpYi91dGlscy9EcmF3VXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL0pzb25VdGlscy50cyIsIi4uL3NyYy9saWIvdXRpbHMvTnVtYmVyVXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL1N0cmluZ1V0aWxzLnRzIiwiLi4vc3JjL2xpYi91dGlscy9UaW1lU3Bhbi50cyIsIi4uL3NyYy9saWIvdXRpbHMvVWlkVXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL2luZGV4LnRzIiwiLi4vc3JjL2x5Y2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ01BO0lBQ0ksNEJBQVksS0FBbUI7UUFFM0IsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUU7WUFDdEMsU0FBUyxFQUFFO2dCQUNQLGVBQWUsRUFBRSxVQUFDLE1BQU0sRUFBRSxhQUFhO29CQUNuQyxtRUFBbUU7b0JBQ25FLHdEQUF3RDtvQkFDeEQsa0VBQWtFO29CQUNsRSxvRUFBb0U7b0JBQ3BFLGtFQUFrRTtvQkFDbEUsaUVBQWlFO29CQUNqRSwrREFBK0Q7b0JBRS9ELE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLGFBQWEsR0FBRyxhQUFhLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDO2dCQUN0RyxDQUFDO2FBQ0o7WUFDRCxRQUFRLEVBQUUsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUU7U0FDcEQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0FwQkEsQUFvQkMsSUFBQTtBQXBCWSxnREFBa0I7Ozs7QUNOL0I7O0dBRUc7QUFDSCwyREFBMEQ7QUFDMUQsaUVBQWdFO0FBQ2hFLGtEQUFpRDtBQUVqRCxJQUFNLFFBQVEsR0FBRyxJQUFJLDJCQUFZLEVBQUUsQ0FBQztBQUVwQywwQ0FBMEM7QUFDMUMsRUFBRTtBQUNGLElBQU0sR0FBRyxHQUFHLElBQUkscUNB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QUN2QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBQ0QsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU5RixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUUxQixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUVyQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUN2QyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFbkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckIsSUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTVCLElBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0IsSUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVsQixJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUUxRSxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUVuQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFB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QUMxQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRTFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7WUFFckMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDdkMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRW5CLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXRDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXRDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ0osTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLENBQUM7WUFFRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVB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QyxDQUFDLENBQUM7WUFDaEIsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNqQixDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDakIsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xILE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hDLElBQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV4QyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNMLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFD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QU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDeEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLG1CQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsMkNBQTJDO1lBQzNDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsQ0FBQztRQUNELFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLG1CQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsMkNBQTJDO1lBQzNDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQztRQUVELGVBQWU7UUFFZixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVwQix1Q0FBdUM7UUFDdkMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDakIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVB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LENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNOLEtBQUssQ0FBQztZQUNWLEtBQUssQ0FBQztnQkFDRixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNOLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixLQUFLLENBQUM7WUFDVixLQUFLLENBQUM7Z0JBQ0YsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNOLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sS0FBSyxDQUFDO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNOLEtBQUssQ0FBQztZQUNWLEtBQUssQ0FBQztnQkFDRixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNOLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDTixLQUFLLENBQUM7WUFDVjtnQkFDSSxNQUFNLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDN0MsQ0FBQztRQUNELE1BQU0sQ0FBQyxHQUFHO2NBQ1AsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Y0FDcEUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7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RUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQyxVQUFVLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDekMsVUFBVSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUVyRCxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELFdBQVcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM1QixXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDN0IsV0FBVyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNqRCxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ2xELFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzQyxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDMUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzlDLFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUV0RCxJQUFJLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQztRQUNoQyxJQUFJLENBQUMsY0FBYyxHQUFHLFdBQVcsQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyRCxJQUFJ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LENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ25FLEtBQUssb0JBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RSxLQUFLLG9CQUFZLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEUsS0FBSyxvQkFBWSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzFFLEtBQUssb0JBQVksQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN2RSxLQUFLLG9CQUFZLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVFLEtBQUssb0JBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUUsS0FBSyxvQkFBWSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcs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QVksQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsbUJBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRixLQUFLLG9CQUFZLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLG1CQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0YsS0FBSyxvQkFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxtQkFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVGLEtBQUssb0JBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsbUJBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM5RixLQUFLLG9CQUFZLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLG1CQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDOUYsS0FBSyxvQkFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxtQkFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFGLEtBQUssb0JBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsbUJBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRixLQUFLLG9CQUFZLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFFLG1CQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFD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TSxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDNUUsTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNoRixNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQzVFLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFFOUUsSUFBTSxPQUFPLEdBQUc7SUFDWixTQUFTO0lBQ1QsS0FBSyxFQUFFLGlCQUFLO0lBQ1osVUFBVSxFQUFFLHNCQUFVO0lBQ3RCLGVBQWUsRUFBRSwyQkFBZTtJQUNoQyxjQUFjO0lBQ2QsSUFBSSxFQUFFLElBQUk7SUFDVixNQUFNLEVBQUUsTUFBTTtJQUNkLElBQUksRUFBRSxJQUFJO0lBQ1YsSUFBSSxFQUFFLElBQUk7SUFDVixPQUFPLEVBQUUsT0FBTztJQUNoQixTQUFTLEVBQUUsU0FBUztJQUNwQixLQUFLLEVBQUUsS0FBSztJQUNaLE1BQU0sRUFBRSxNQUFNO0lBQ2QsTUFBTSxFQUFFLE1BQU07SUFDZCxNQUFNLEVBQUUsTUFBTTtJQUNkLEtBQUssRUFBRSxLQUFLO0NBQ2YsQ0FBQztBQUVJLE1BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogQ3VzdG9tIGtub2Nrb3V0IGNvbXBvbmVudHNcbiAqL1xuaW1wb3J0IHsgQXBwVmlld01vZGVsIH0gZnJvbSAnLi92bS9BcHBWaWV3TW9kZWwnO1xuaW1wb3J0IHsgQ2hhcnRWaWV3TW9kZWwgfSBmcm9tICcuL3ZtL0NoYXJ0Vmlld01vZGVsJztcblxuZXhwb3J0IGNsYXNzIEtub2Nrb3V0Q29tcG9uZW50cyB7XG4gICAgY29uc3RydWN0b3IoYXBwdm06IEFwcFZpZXdNb2RlbCkge1xuXG4gICAgICAgIGtvLmNvbXBvbmVudHMucmVnaXN0ZXIoJ2NoYXJ0LWNvbXBvbmVudCcsIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbDoge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZpZXdNb2RlbDogKHBhcmFtcywgY29tcG9uZW50SW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyAtICdwYXJhbXMnIGlzIGFuIG9iamVjdCB3aG9zZSBrZXkvdmFsdWUgcGFpcnMgYXJlIHRoZSBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgIC8vICAgcGFzc2VkIGZyb20gdGhlIGNvbXBvbmVudCBiaW5kaW5nIG9yIGN1c3RvbSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gJ2NvbXBvbmVudEluZm8uZWxlbWVudCcgaXMgdGhlIGVsZW1lbnQgdGhlIGNvbXBvbmVudCBpcyBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGluamVjdGVkIGludG8uIFdoZW4gY3JlYXRlVmlld01vZGVsIGlzIGNhbGxlZCwgdGhlIHRlbXBsYXRlIGhhc1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGFscmVhZHkgYmVlbiBpbmplY3RlZCBpbnRvIHRoaXMgZWxlbWVudCwgYnV0IGlzbid0IHlldCBib3VuZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gLSAnY29tcG9uZW50SW5mby50ZW1wbGF0ZU5vZGVzJyBpcyBhbiBhcnJheSBjb250YWluaW5nIGFueSBET01cbiAgICAgICAgICAgICAgICAgICAgLy8gICBub2RlcyB0aGF0IGhhdmUgYmVlbiBzdXBwbGllZCB0byB0aGUgY29tcG9uZW50LiBTZWUgYmVsb3cuXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcHZtLmluc2VydENoYXJ0KHBhcmFtcy5pbmRleCwgcGFyYW1zLCBjb21wb25lbnRJbmZvID8gY29tcG9uZW50SW5mby5lbGVtZW50IDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IHsgZWxlbWVudDogJ2NoYXJ0LWNvbXBvbmVudC10ZW1wbGF0ZScgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1haW4gbW9kdWxlXG4gKi9cbmltcG9ydCB7IEtub2Nrb3V0Q29tcG9uZW50cyB9IGZyb20gJy4vS25vY2tvdXRDb21wb25lbnRzJztcbmltcG9ydCB7IEtub2Nrb3V0RXh0ZW5pb25zIH0gZnJvbSAnLi9wbHVnaW5zL0tub2Nrb3V0RXh0ZW5pb25zJztcbmltcG9ydCB7IEFwcFZpZXdNb2RlbCB9IGZyb20gJy4vdm0vQXBwVmlld01vZGVsJztcblxuY29uc3QgYXBwTW9kZWwgPSBuZXcgQXBwVmlld01vZGVsKCk7XG5cbi8vIGluaXQga25vY2tvdXQgZXh0ZW5zaW9ucyBhbmQgY29tcG9uZW50c1xuLy9cbmNvbnN0IGV4dCA9IG5ldyBLbm9ja291dEV4dGVuaW9ucygpO1xuY29uc3QgY29tcG9uZW50cyA9IG5ldyBLbm9ja291dENvbXBvbmVudHMoYXBwTW9kZWwpO1xuXG4vLyBiaW5kIHZpZXcgbW9kZWxcbmtvLmFwcGx5QmluZGluZ3MoYXBwTW9kZWwpO1xuXG4vLyBpbml0IGFwcGxpY2F0aW9uXG5hcHBNb2RlbFxuICAgIC5pbml0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIGhpZGUgc3BsYXNoIHNjcmVlblxuICAgICAgICAkKCcjcGFnZS1zcGxhc2gnKS5oaWRlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlYXNvbjogYW55KSA9PiB7XG4gICAgICAgICQoJyNwYWdlLXNwbGFzaCcpLmhpZGUoKTtcbiAgICB9KTtcbiIsIi8qKlxuICogQ3VzdG9tIGtub2Nrb3V0IGJpbmRpbmdzIFxuICovXG5leHBvcnQgY2xhc3MgS25vY2tvdXRFeHRlbmlvbnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBrby5iaW5kaW5nSGFuZGxlcnMud2luc2l6ZSA9IHtcbiAgICAgICAgICAgIGluaXQ6IChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSA9PiB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSh7IHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSwgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCkgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAga28uYmluZGluZ0hhbmRsZXJzLmRvbXJlYWR5ID0ge1xuICAgICAgICAgICAgaW5pdDogKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpID0+IHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3MudXBkYXRlTGlzdHZpZXdPbkNoYW5nZSA9IHRydWU7XG4gICAgICAgIGtvLmJpbmRpbmdIYW5kbGVycy51cGRhdGVMaXN0dmlld09uQ2hhbmdlID0ge1xuICAgICAgICAgICAgdXBkYXRlOiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvcikgPT4ge1xuICAgICAgICAgICAgICAgIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTsgIC8vZ3JhYiBkZXBlbmRlbmN5XG5cbiAgICAgICAgICAgICAgICAkKCcubGlzdC1jb21wb25lbnQnKS5saXN0dmlldyh7IHJlZnJlc2g6IHRydWUsIG1pbmk6IHRydWUsIGljb246ICcnIH0pO1xuICAgICAgICAgICAgICAgICQoJy5jb2xsYXBzaWJsZS1jb21wb25lbnQnKS5jb2xsYXBzaWJsZSh7IHJlZnJlc2g6IHRydWUsIG1pbmk6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0ICogYXMgbHljaGFydCBmcm9tICcuLi8uLi8uLi9zcmMvbHljaGFydCc7XG5pbXBvcnQgQ2FuZGxlc3RpY2sgPSBseWNoYXJ0Lm1vZGVsLkNhbmRsZXN0aWNrO1xuaW1wb3J0IERhdGVVdGlscyA9IGx5Y2hhcnQudXRpbHMuRGF0ZVV0aWxzO1xuaW1wb3J0IFVpZCA9IGx5Y2hhcnQubW9kZWwuVWlkO1xuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi9tb2RlbC9Bc3NldCc7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuXG5pbnRlcmZhY2UgSVNldHRpbmdzIHtcbiAgICBhc3NldHNVcmw6IHN0cmluZztcbiAgICBjYW5kbGVzVXJsOiBzdHJpbmc7XG59XG5cbmRlY2xhcmUgY29uc3Qgc2V0dGluZ3M6IElTZXR0aW5ncztcblxuZXhwb3J0IGNsYXNzIEFzc2V0U2VydmljZSB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfYXNzZXRzOiBBc3NldFtdO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXRBc3NldHMoKTogUHJvbWlzZTxBc3NldFtdPiB7XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Fzc2V0cykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHNlbGYuX2Fzc2V0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAkLnN1cHBvcnQuY29ycyA9IHRydWU7IC8vIE90aGVyd2lzZSBcIm5vIHRyYW5zcG9ydFwiIGluIElFIDExLlxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgdXJsOiBzZXR0aW5ncy5hc3NldHNVcmwsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSBkYXRhIGFuZCByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2Fzc2V0cyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGFzc2V0OiBzdHJpbmcsIHRpbWVTdGFydDogRGF0ZSwgdGltZUVuZDogRGF0ZSwgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwpIHtcbiAgICAkLnN1cHBvcnQuY29ycyA9IHRydWU7XG4gICAgY29uc3Qgc2V0cyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICB1cmw6IHNldHRpbmdzLmNhbmRsZXNVcmwgKyBhc3NldCxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGVyaW9kOiBVdGlscy5JTlRFUlZBTDJQRVJJT0QoaW50ZXJ2YWwpLFxuICAgICAgICAgICAgdHlwZTogJ0JpZCcsXG4gICAgICAgICAgICBkYXRlRnJvbTogdGltZVN0YXJ0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBkYXRlVG86IHRpbWVFbmQudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuICAgIH07XG4gICAgcmV0dXJuICQuYWpheChzZXRzKTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgZGVmYXVsdFJlYWRlcjogYW55O1xuXG4gICAgcHVibGljIGdldENhbmRsZShhc3NldDogc3RyaW5nLCBkYXRlOiBEYXRlLCBpbnRlcnZhbDogbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbCk6IFByb21pc2U8Q2FuZGxlc3RpY2s+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPENhbmRsZXN0aWNrPihyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZERhdGEoYXNzZXQsIGRhdGUsIERhdGVVdGlscy5hZGRJbnRlcnZhbChkYXRlLCBpbnRlcnZhbCksIGludGVydmFsKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsgcmV0dXJuIERhdGFTZXJ2aWNlLnJlc29sdmVEYXRhKHJlc3BvbnNlKTsgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNvbHZlZDogbHljaGFydC5kYXRhLklSZXNwb25zZTxseWNoYXJ0Lm1vZGVsLkNhbmRsZXN0aWNrPikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzb2x2ZWQuZGF0YS5sZW5ndGggPiAwID8gcmVzb2x2ZWQuZGF0YVswXSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZURhdGFTb3VyY2UoYXNzZXRQYWlySWQ6IHN0cmluZywgdGltZUludGVydmFsOiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsKSB7XG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSBuZXcgbHljaGFydC5kYXRhLkh0dHBEYXRhU291cmNlKFxuICAgICAgICAgICAgbHljaGFydC5tb2RlbC5DYW5kbGVzdGljayxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgICAgIGF1dG91cGRhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlYWREYXRhOiB0aGlzLmNyZWF0ZURhdGFSZWFkZXIoYXNzZXRQYWlySWQpLFxuICAgICAgICAgICAgICAgIHJlc29sdmVEYXRhOiBEYXRhU2VydmljZS5yZXNvbHZlRGF0YSxcbiAgICAgICAgICAgICAgICB0aW1lSW50ZXJ2YWw6IHRpbWVJbnRlcnZhbCxcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IDNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBkYXRhU291cmNlLmFzc2V0ID0gYXNzZXRQYWlySWQ7XG4gICAgICAgIHJldHVybiBkYXRhU291cmNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRGF0YVJlYWRlcihhc3NldDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAodGltZVN0YXJ0OiBEYXRlLCB0aW1lRW5kOiBEYXRlLCBpbnRlcnZhbDogbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KGFzc2V0LCB0aW1lU3RhcnQsIHRpbWVFbmQsIGludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWREYXRhID0gKGFzc2V0OiBzdHJpbmcsIHRpbWVTdGFydDogRGF0ZSwgdGltZUVuZDogRGF0ZSwgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KGFzc2V0LCB0aW1lU3RhcnQsIHRpbWVFbmQsIGludGVydmFsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBqc29uIGZyb20gc2VydmVyIHRvIG1vZGVsLlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlc29sdmVEYXRhID0gKHJlc3BvbnNlOiBhbnkpOiBseWNoYXJ0LmRhdGEuSVJlc3BvbnNlPGx5Y2hhcnQubW9kZWwuQ2FuZGxlc3RpY2s+ID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoaXRlbS50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RpY2sgPSBuZXcgbHljaGFydC5tb2RlbC5DYW5kbGVzdGljayhkYXRlLCBpdGVtLmMsIGl0ZW0ubywgaXRlbS5oLCBpdGVtLmwpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpbml0IHVpZFxuICAgICAgICAgICAgICAgICAgICBzdGljay51aWQgPSBuZXcgVWlkKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RpY2s7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0ZUZyb206IG5ldyBEYXRlKHJlc3BvbnNlLmRhdGVGcm9tKSxcbiAgICAgICAgICAgICAgICBkYXRlVG86IG5ldyBEYXRlKHJlc3BvbnNlLmRhdGVUbyksXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IFV0aWxzLlBFUklPRDJJTlRFUlZBTChyZXNwb25zZS5wZXJpb2QpLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGVGcm9tOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZGF0ZVRvOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwubm90U2V0LFxuICAgICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgKiBhcyBseWNoYXJ0IGZyb20gJy4uLy4uLy4uL3NyYy9seWNoYXJ0JztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2UgaW1wbGVtZW50cyBseWNoYXJ0LmNvcmUuSVN0b3JhZ2Uge1xuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBzdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBVdGlscyBjbGFzcy5cbiAqL1xuaW1wb3J0ICogYXMgbHljaGFydCBmcm9tICcuLi8uLi8uLi9zcmMvbHljaGFydCc7XG5pbXBvcnQgVGltZUludGVydmFsID0gbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbDtcblxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIElOVEVSVkFMMlBFUklPRChpbnRlcnZhbDogVGltZUludGVydmFsKSB7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogcmV0dXJuICdTZWMnO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluOiByZXR1cm4gJ01pbnV0ZSc7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gJ0hvdXInO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiByZXR1cm4gJ0RheSc7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDogcmV0dXJuICdNb250aCc7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgaW50ZXJ2YWwuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFBFUklPRDJJTlRFUlZBTChwZXJpb2Q6IHN0cmluZyk6IFRpbWVJbnRlcnZhbCB7XG4gICAgICAgIHN3aXRjaCAocGVyaW9kKSB7XG4gICAgICAgICAgICBjYXNlICdTZWMnOiByZXR1cm4gVGltZUludGVydmFsLnNlYztcbiAgICAgICAgICAgIGNhc2UgJ01pbnV0ZSc6IHJldHVybiBUaW1lSW50ZXJ2YWwubWluO1xuICAgICAgICAgICAgY2FzZSAnSG91cic6IHJldHVybiBUaW1lSW50ZXJ2YWwuaG91cjtcbiAgICAgICAgICAgIGNhc2UgJ0RheSc6IHJldHVybiBUaW1lSW50ZXJ2YWwuZGF5O1xuICAgICAgICAgICAgY2FzZSAnTW9udGgnOiByZXR1cm4gVGltZUludGVydmFsLm1vbnRoO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHBlcmlvZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQXBwVmlld01vZGVsIGNsYXNzLiBNYXN0ZXIgdmlldyBtb2RlbCBvZiB0aGUgYXBwLlxuICovXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL21vZGVsL0Fzc2V0JztcbmltcG9ydCB7IEFzc2V0U2VydmljZSwgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9EYXRhU2VydmljZSc7XG5pbXBvcnQgeyBDaGFydFZpZXdNb2RlbCB9IGZyb20gJy4vQ2hhcnRWaWV3TW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgQXBwVmlld01vZGVsIHtcblxuICAgIHByaXZhdGUgJGZyYW1lOiBKUXVlcnk7XG4gICAgcHJpdmF0ZSBmcmFtZVNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcblxuICAgIHByaXZhdGUgbW9kZSA9IDE7XG4gICAgcHJpdmF0ZSBjaGFydHM6IENoYXJ0Vmlld01vZGVsW10gPSBbXTtcbiAgICBwcml2YXRlIHNlbGVjdGVkQ2hhcnQ6IENoYXJ0Vmlld01vZGVsfHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGluaXRpYWxpemVkOiBib29sZWFuW10gPSBbXTtcbiAgICBwcml2YXRlIGFzc2V0czogQXNzZXRbXSA9IFtdO1xuICAgIHByaXZhdGUgZGF0YVNlcnZpY2UgPSBuZXcgRGF0YVNlcnZpY2UoKTtcblxuICAgIHB1YmxpYyBmaWd1cmVzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtcbiAgICAgICAgeyBuYW1lOiAnbGluZScsIHRleHQ6ICdMaW5lJyB9LFxuICAgICAgICB7IG5hbWU6ICdobGluZScsIHRleHQ6ICdILUxpbmUnIH0sXG4gICAgICAgIHsgbmFtZTogJ3ZsaW5lJywgdGV4dDogJ1YtTGluZScgfSxcbiAgICAgICAgeyBuYW1lOiAncmVjdCcsIHRleHQ6ICdSZWN0JyB9LFxuICAgICAgICB7IG5hbWU6ICd0cmlhbmdsZScsIHRleHQ6ICdUcmlhbmdsZScgfSxcbiAgICAgICAgeyBuYW1lOiAncGF0aCcsIHRleHQ6ICdQYXRoJyB9LFxuICAgICAgICB7IG5hbWU6ICdwaXRjaGZvcmsnLCB0ZXh0OiAnUGl0Y2hmb3JrJyB9LFxuICAgICAgICB7IG5hbWU6ICd0ZXh0JywgdGV4dDogJ1RleHQnIH0sXG4gICAgICAgIHsgbmFtZTogJ2VsbGlwc2UnLCB0ZXh0OiAnRWxsaXBzZScgfSxcbiAgICAgICAgeyBuYW1lOiAndHJlbmRjaGFubmVsJywgdGV4dDogJ1RyZW5kIENoYW5uZWwnIH0sXG4gICAgICAgIHsgbmFtZTogJ2N1cnZlJywgdGV4dDogJ0N1cnZlJyB9LFxuICAgICAgICB7IG5hbWU6ICdkYXRlcmFuZ2UnLCB0ZXh0OiAnRGF0ZSBSYW5nZScgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib2ZhbicsIHRleHQ6ICdGaWJvIEZhbicgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib2xldmVsJywgdGV4dDogJ0ZpYm8gTGV2ZWwnIH0sXG4gICAgICAgIHsgbmFtZTogJ2ZpYm9wcm9qZWN0aW9uJywgdGV4dDogJ0ZpYm8gUHJvamVjdGlvbicgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib3RpbWVwcm9qZWN0aW9uJywgdGV4dDogJ0ZpYm8gVGltZSBQcm9qZWN0aW9uJyB9LFxuICAgICAgICB7IG5hbWU6ICdnYW5uZmFuJywgdGV4dDogJ0dhbm4gRmFuJyB9LFxuICAgICAgICB7IG5hbWU6ICdvaGxjcHJvaicsIHRleHQ6ICdPSExDIFByb2onIH1cbiAgICBdKTtcblxuICAgIHB1YmxpYyBjbWRBZGRGaWd1cmUoZmlndXJlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIGNsb3NlIHBvcHVwXG4gICAgICAgICQoJyNwb3B1cE1lbnUnKS5wb3B1cCgnY2xvc2UnKTtcblxuICAgICAgICAvLyBzdGFydCBkcmF3aW5nXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2hhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFydC5jbWRBZGRGaWd1cmUoZmlndXJlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kU2V0Q3VycmVudENoYXJ0KHZtOiBDaGFydFZpZXdNb2RlbCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhcnQgPSB2bTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy4kZnJhbWUgPSAkKCcjZnJhbWUnKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lKCQod2luZG93KS53aWR0aCgpLCAkKHdpbmRvdykuaGVpZ2h0KCkpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGFzc2V0cy4nKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hc3NldHMgPSBhd2FpdCBBc3NldFNlcnZpY2UuZ2V0QXNzZXRzKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXNzZXRzIGFyZSBsb2FkZWQuJyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hhcnQgb2YgdGhpcy5jaGFydHMpIHtcbiAgICAgICAgICAgICAgICBjaGFydC5hc3NldHModGhpcy5hc3NldHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmluaXRDaGlsZENvbXBvbmVudHMoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGxvYWRpbmc6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpbnNlcnRDaGFydChpbmRleDogbnVtYmVyLCBwYXJhbXM6IGFueSwgbm9kZT86IE5vZGUpOiBDaGFydFZpZXdNb2RlbCB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhcnRzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0c1tpbmRleF0gPSBuZXcgQ2hhcnRWaWV3TW9kZWwocGFyYW1zLCA8SFRNTEVsZW1lbnQ+bm9kZSwgdGhpcy5hc3NldHMsIHRoaXMuZGF0YVNlcnZpY2UpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZFtpbmRleF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0c1tpbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXJ0IGlzIGFscmVhZHkgY3JlYXRlZCBhdCBpbmRleCA9ICR7aW5kZXh9LmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ29tcG9uZW50TG9hZGVkID0gKGNoYXJ0Q29tcG9uZW50OiBDaGFydFZpZXdNb2RlbCkgPT4ge1xuICAgICAgICAvLyBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgLy8gdGhpcy5jaGFydHMuZm9yRWFjaCgoY3ZtLCBpKSA9PiB7XG4gICAgICAgIC8vICAgICBpbmRleCA9IGk7XG4gICAgICAgIC8vICAgICByZXR1cm4gY3ZtID09PSBjaGFydENvbXBvbmVudDtcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coYGF2bTogb25Db21wb25lbnRMb2FkZWQuIGluZGV4PSR7aW5kZXh9IGluaXRpYWxpemVkPSAke3RoaXMuaW5pdGlhbGl6ZWRbaW5kZXhdfWApO1xuXG4gICAgICAgIC8vIGlmICghdGhpcy5pbml0aWFsaXplZFtpbmRleF0pIHtcbiAgICAgICAgLy8gICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZ2V0Q2hhcnRMYXlvdXQoaW5kZXgpO1xuICAgICAgICAvLyAgICAgdGhpcy5pbml0aWFsaXplZFtpbmRleF0gPSBjaGFydENvbXBvbmVudC5pbml0KGxheW91dC53LCBsYXlvdXQuaCwgbGF5b3V0LnYpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgcHVibGljIG9ucmVhZHkgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hpbGRDb21wb25lbnRzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9ucmVzaXplID0gKHNpemU6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TW9kZShuOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb2RlID0gbjtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2l6ZUZyYW1lKHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTaXplID0geyB3aWR0aDogdywgaGVpZ2h0OiBoIH07XG4gICAgICAgIHRoaXMuJGZyYW1lLmhlaWdodChoIC0gMik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0Q2hpbGRDb21wb25lbnRzKCkge1xuICAgICAgICB0aGlzLmNoYXJ0cy5mb3JFYWNoKChjaGFydCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZFtpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmdldENoYXJ0TGF5b3V0KGluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkW2luZGV4XSA9IGNoYXJ0LmluaXQobGF5b3V0LncsIGxheW91dC5oLCBsYXlvdXQudik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ2hpbGRDb21wb25lbnRzKCkge1xuICAgICAgICB0aGlzLmNoYXJ0cy5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmdldENoYXJ0TGF5b3V0KGkpO1xuICAgICAgICAgICAgYy5zZXRWaXNpYmxlKGxheW91dC52KTtcbiAgICAgICAgICAgIGMucmVzaXplKGxheW91dC53LCBsYXlvdXQuaCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2hhcnRMYXlvdXQoY2hhcnRJbmRleDogbnVtYmVyKTogSUxheW91dCB7XG4gICAgICAgIGNvbnN0IGZyYW1lSGVpZ2h0ID0gdGhpcy5mcmFtZVNpemUuaGVpZ2h0IC0gNTA7XG4gICAgICAgIGNvbnN0IGZyYW1lV2lkdGggPSB0aGlzLmZyYW1lU2l6ZS53aWR0aCAtIDY7XG4gICAgICAgIGlmIChjaGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAxXG4gICAgICAgICAgICAgICAgPyB7IHc6IHRoaXMuZnJhbWVTaXplLndpZHRoICwgaDogZnJhbWVIZWlnaHQgLSAyLCB2OiB0cnVlIH1cbiAgICAgICAgICAgICAgICA6IHsgdzogZnJhbWVXaWR0aCAvIDIgLCBoOiBmcmFtZUhlaWdodCAvIDIgLSAyLCB2OiB0cnVlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAxXG4gICAgICAgICAgICAgICAgPyB7IHc6IGZyYW1lV2lkdGggLyAyLCBoOiBmcmFtZUhlaWdodCAvIDIgLSAyLCB2OiBmYWxzZSB9XG4gICAgICAgICAgICAgICAgOiB7IHc6IGZyYW1lV2lkdGggLyAyICwgaDogZnJhbWVIZWlnaHQgLyAyIC0gMiwgdjogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgSVNpemUge1xuICAgIHc6IG51bWJlcjtcbiAgICBoOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBJTGF5b3V0IHtcbiAgICB3OiBudW1iZXI7XG4gICAgaDogbnVtYmVyO1xuICAgIHY6IGJvb2xlYW47XG59XG4iLCIvKipcbiAqIENoYXJ0Vmlld01vZGVsIGNsYXNzLiBWaWV3IG1vZGVsIG9mIGEgc3BlY2lmaWMgY2hhcnQuXG4gKi9cbmltcG9ydCAqIGFzIGx5Y2hhcnQgZnJvbSAnLi4vLi4vLi4vc3JjL2x5Y2hhcnQnO1xuaW1wb3J0IENoYXJ0Qm9hcmQgPSBseWNoYXJ0LkNoYXJ0Qm9hcmQ7XG5pbXBvcnQgQ2FuZGxlc3RpY2sgPSBseWNoYXJ0Lm1vZGVsLkNhbmRsZXN0aWNrO1xuaW1wb3J0IFVpZCA9IGx5Y2hhcnQubW9kZWwuVWlkO1xuaW1wb3J0IERhdGVVdGlscyA9IGx5Y2hhcnQudXRpbHMuRGF0ZVV0aWxzO1xuXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL21vZGVsL0Fzc2V0JztcbmltcG9ydCB7IERhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvRGF0YVNlcnZpY2UnO1xuaW1wb3J0IHsgU3RvcmFnZSB9IGZyb20gJy4uL3NlcnZpY2VzL1N0b3JhZ2UnO1xuaW1wb3J0IHsgUHJvcHNWaWV3TW9kZWwgfSBmcm9tICcuL1Byb3BzVmlld01vZGVsJztcbmltcG9ydCB7IEl0ZW1TZWxlY3RlZEFyZywgVHJlZVZpZXdNb2RlbCB9IGZyb20gJy4vVHJlZVZpZXdNb2RlbCc7XG5cbmNvbnN0IFBBTkVMX1dJRFRIID0gMjAwO1xuXG5leHBvcnQgY2xhc3MgQ2hhcnRWaWV3TW9kZWwge1xuXG4gICAgcHJpdmF0ZSBib2FyZDogQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGRhdGFTZXJ2aWNlOiBEYXRhU2VydmljZTtcbiAgICBwcml2YXRlIGRhdGFTb3VyY2U6IGx5Y2hhcnQuZGF0YS5IdHRwRGF0YVNvdXJjZTtcblxuICAgIHByaXZhdGUgbm9kZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSAkY2hhcnRDb250YWluZXI6IEpRdWVyeTtcbiAgICBwcml2YXRlIHBhcmFtczogYW55O1xuICAgIHByaXZhdGUgYWN0dWFsSW5kaWNhdG9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIHB1YmxpYyB0cmVlVk06IFRyZWVWaWV3TW9kZWw7XG4gICAgcHVibGljIHByb3BzVk06IFByb3BzVmlld01vZGVsO1xuICAgIHB1YmxpYyBlZGl0UHJvcGVydGllc01vZGUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblxuICAgIHB1YmxpYyB2aXNpYmxlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgcHVibGljIHdpZHRoID0ga28ub2JzZXJ2YWJsZSgwKTtcbiAgICBwdWJsaWMgaGVpZ2h0ID0ga28ub2JzZXJ2YWJsZSgwKTtcbiAgICBwdWJsaWMgYXNzZXRzID0ga28ub2JzZXJ2YWJsZUFycmF5PEFzc2V0PihbXSk7XG4gICAgcHVibGljIHNlbGVjdGVkQXNzZXQgPSBrby5vYnNlcnZhYmxlKCdCVENDSEYnKTtcbiAgICBwdWJsaWMgc2VsZWN0ZWRJbnRlcnZhbCA9IGtvLm9ic2VydmFibGUoJ2hvdXInKTtcbiAgICBwdWJsaWMgc2VsZWN0ZWRDaGFydFR5cGUgPSBrby5vYnNlcnZhYmxlKCdjYW5kbGUnKTtcbiAgICBwdWJsaWMgc2VsZWN0ZWRDb21wYXJlQXNzZXQgPSBrby5vYnNlcnZhYmxlKCdCVENDSEYnKTtcbiAgICBwdWJsaWMgc2VsZWN0ZWRJbmRpY2F0b3JzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcblxuICAgIHB1YmxpYyBwYW5lbFZpc2libGUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICBwdWJsaWMgcGFuZWxXaWR0aCA9IGtvLm9ic2VydmFibGUoNDQpO1xuICAgIHB1YmxpYyBwYW5lbEhlaWdodCA9IGtvLm9ic2VydmFibGUoMCk7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IGFueSwgbm9kZTogSFRNTEVsZW1lbnQsIGFzc2V0czogQXNzZXRbXSwgZGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuYXNzZXRzKGFzc2V0cyk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmRhdGFTZXJ2aWNlID0gZGF0YVNlcnZpY2U7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZEFzc2V0LnN1YnNjcmliZSh0aGlzLm9uQXNzZXRDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEludGVydmFsLnN1YnNjcmliZSh0aGlzLm9uSW50ZXJ2YWxDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJ0VHlwZS5zdWJzY3JpYmUodGhpcy5vbkNoYXJ0VHlwZUNoYW5nZWQpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNhdG9ycy5zdWJzY3JpYmUodGhpcy5vbkluZGljYXRvcnNDaGFuZ2VkKTtcblxuICAgICAgICB0aGlzLiRjaGFydENvbnRhaW5lciA9ICQoJy5jaGFydC1jb250YWluZXInLCB0aGlzLm5vZGUpO1xuXG4gICAgICAgIC8vIEluaXQgY2hhcnQgYm9hcmRcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy4kY2hhcnRDb250YWluZXIub2Zmc2V0KCk7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQ2hhcnRCb2FyZChcbiAgICAgICAgICAgIHRoaXMuJGNoYXJ0Q29udGFpbmVyWzBdLCBvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCwgMjAwLCAyMDAsIGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwubWluLCBuZXcgU3RvcmFnZSgpLCB0aGlzLmRhdGFTZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5ib2FyZC5vYmplY3RTZWxlY3RlZC5vbih0aGlzLmJvYXJkX29uT2JqZWN0U2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLmJvYXJkLm9iamVjdFRyZWVDaGFuZ2VkLm9uKHRoaXMuYm9hcmRfb25PYmplY3RUcmVlQ2hhbmdlZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdm06IGNoYXJ0IGJvYXJkIGNyZWF0ZWQuJyk7XG5cbiAgICAgICAgLy8gSW5pdCB0cmVlIHZtXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMudHJlZVZNID0gbmV3IFRyZWVWaWV3TW9kZWwodGhpcy5ib2FyZCk7XG4gICAgICAgIHRoaXMudHJlZVZNLml0ZW1TZWxlY3RlZC5vbih0aGlzLnRyZWVfb25JdGVtU2VsZWN0ZWQpO1xuXG4gICAgICAgIC8vIEluaXQgcHJvcHMgdm1cbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5wcm9wc1ZNID0gbmV3IFByb3BzVmlld01vZGVsKCQoJy5wcm9wZXJ0aWVzJywgdGhpcy5ub2RlKVswXSwgdGhpcy5ib2FyZCk7XG4gICAgICAgIHRoaXMucHJvcHNWTS5wcm9wc0Nsb3NpbmdFdmVudC5vbih0aGlzLnByb3BzX29uQ2xvc2luZyk7XG4gICAgICAgIHRoaXMucHJvcHNWTS5wcm9wc0FwcGxpZWRFdmVudC5vbih0aGlzLnByb3BzX29uQXBwbGllZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFmdGVyTG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmxvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMubG9hZGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNtZEFkZEZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZpZ3VyZVR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuZHJhd2luZy5zdGFydChmaWd1cmVUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbWRDb21wYXJlKCkge1xuXG4gICAgICAgIGNvbnN0IGFzc2V0ID0gdGhpcy5zZWxlY3RlZENvbXBhcmVBc3NldCgpO1xuICAgICAgICBjb25zdCBkcyA9IHRoaXMuZGF0YVNlcnZpY2UuY3JlYXRlRGF0YVNvdXJjZShhc3NldCwgc3RyMmludGVydmFsKHRoaXMuc2VsZWN0ZWRJbnRlcnZhbCgpKSk7XG4gICAgICAgIHRoaXMuYm9hcmQuYWRkQ2hhcnQobHljaGFydC51dGlscy5VaWRVdGlscy5ORVdVSUQoKSwgYXNzZXQsIGx5Y2hhcnQuY29yZS5DaGFydFR5cGUuY2FuZGxlLCBkcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNtZFNob3dQYW5lbCh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMucGFuZWxWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB0aGlzLnBhbmVsV2lkdGgodmlzaWJsZSA/IFBBTkVMX1dJRFRIIDogNDQpO1xuICAgICAgICB0aGlzLnJlc2l6ZUNoYXJ0Q29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5ib2FyZC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCh3OiBudW1iZXIsIGg6IG51bWJlciwgdmlzaWJsZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY3ZtOiBpbml0aWFsaXppbmcuLi4nKTtcbiAgICAgICAgdGhpcy53aWR0aCh3KTtcbiAgICAgICAgdGhpcy5oZWlnaHQoaCk7XG4gICAgICAgIHRoaXMudmlzaWJsZSh2aXNpYmxlKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsaXplZCA9IHRoaXMucmVzZXRDaGFydCgpO1xuICAgICAgICB0aGlzLnRyZWVWTS51cGRhdGUoKTtcbiAgICAgICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLndpZHRoKHcpO1xuICAgICAgICB0aGlzLmhlaWdodChoKTtcbiAgICAgICAgdGhpcy5yZXNpemVDaGFydENvbnRhaW5lcigpO1xuXG4gICAgICAgIHRoaXMuYm9hcmQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy52aXNpYmxlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKiBcbiAgICAgKiBFdmVudCBoYW5kbGVyc1xuICAgICovXG5cbiAgICBwcml2YXRlIG9uQXNzZXRDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY3ZtOiBldmVudCBcImFzc2V0IGNoYW5nZWRcIicpO1xuICAgICAgICB0aGlzLnJlc2V0Q2hhcnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uSW50ZXJ2YWxDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY3ZtOiBldmVudCBcImludGVydmFsIGNoYW5nZWRcIicpO1xuICAgICAgICB0aGlzLnJlc2V0Q2hhcnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ2hhcnRUeXBlQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5ib2FyZC5zZXRDaGFydFR5cGUodGhpcy5zZWxlY3RlZENoYXJ0VHlwZSgpKTtcbiAgICAgICAgdGhpcy50cmVlVk0udXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMuYm9hcmQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkluZGljYXRvcnNDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZDogc3RyaW5nW10gPSB0aGlzLnNlbGVjdGVkSW5kaWNhdG9ycygpO1xuXG4gICAgICAgIGNvbnN0IGFkZGVkID0gc2VsZWN0ZWQgPyBzZWxlY3RlZC5maWx0ZXIoaXRlbSA9PiAhdGhpcy5hY3R1YWxJbmRpY2F0b3JzLnNvbWUoZXhpc3RpbmcgPT4gZXhpc3RpbmcgPT09IGl0ZW0pKSA6IFtdO1xuICAgICAgICBjb25zdCByZW1vdmVkID0gc2VsZWN0ZWQgPyB0aGlzLmFjdHVhbEluZGljYXRvcnMuZmlsdGVyKGV4aXN0aW5nID0+ICFzZWxlY3RlZC5zb21lKHNlbCA9PiBzZWwgPT09IGV4aXN0aW5nKSkgOiB0aGlzLmFjdHVhbEluZGljYXRvcnM7XG4gICAgICAgIGFkZGVkLmZvckVhY2goaW5kaWNhdG9yID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0cyA9IGluZGljYXRvci5zcGxpdCgnXycpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VJbmRpY2F0b3Ioc3BsaXRzWzBdLCBzcGxpdHNbMF0sIHBhcnNlSW50KHNwbGl0c1sxXSwgMTApLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZWQuZm9yRWFjaChpbmRpY2F0b3IgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRzID0gaW5kaWNhdG9yLnNwbGl0KCdfJyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZUluZGljYXRvcihzcGxpdHNbMF0sIHNwbGl0c1swXSwgcGFyc2VJbnQoc3BsaXRzWzFdLCAxMCksIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWN0dWFsSW5kaWNhdG9ycyA9IHNlbGVjdGVkID8gc2VsZWN0ZWQgOiBbXTtcblxuICAgICAgICB0aGlzLnRyZWVWTS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5ib2FyZC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyZWVfb25JdGVtU2VsZWN0ZWQgPSAoYXJnOiBJdGVtU2VsZWN0ZWRBcmcpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wc1ZNLnJlYnVpbGQoYXJnLm9iamVjdCk7XG4gICAgICAgIHRoaXMuZWRpdFByb3BlcnRpZXNNb2RlKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJvcHNfb25DbG9zaW5nID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmVkaXRQcm9wZXJ0aWVzTW9kZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9wc19vbkFwcGxpZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuYm9hcmQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZF9vbk9iamVjdFNlbGVjdGVkID0gKGFyZzogbHljaGFydC5jb3JlLk9iamVjdEV2ZW50QXJndW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy50cmVlX29uSXRlbVNlbGVjdGVkKG5ldyBJdGVtU2VsZWN0ZWRBcmcoJycsIGFyZy5vYmopKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkX29uT2JqZWN0VHJlZUNoYW5nZWQgPSAoYXJnOiBseWNoYXJ0LmNvcmUuRXZlbnRBcmd1bWVudCkgPT4ge1xuICAgICAgICB0aGlzLnRyZWVWTS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZUluZGljYXRvciA9ICh1aWQ6IHN0cmluZywgaW5kaWNhdG9yVHlwZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBzdGF0ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuYWRkSW5kaWNhdG9yKHVpZCwgaW5kaWNhdG9yVHlwZSwgaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5yZW1vdmVJbmRpY2F0b3IodWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVzaXplQ2hhcnRDb250YWluZXIoKSB7XG4gICAgICAgIC8vIENvbXB1dGUgc2l6ZSBvZiBjaGFydCBiYXNlZCBvbiBjb21wb25lbnQgc2l6ZSBhbmQgcGFuZWxzIHNpemVcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgdyA9IHRoaXMud2lkdGgoKTtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0KCk7XG5cbiAgICAgICAgY29uc3QgJGNoYXJ0VG9vbGJhciA9ICQoJy5jaGFydC10b29sYmFyJywgdGhpcy5ub2RlKTtcbiAgICAgICAgY29uc3QgY2hhcnRIID0gTWF0aC5tYXgoaCAtICRjaGFydFRvb2xiYXIuaGVpZ2h0KCksIDApO1xuICAgICAgICBjb25zdCBjaGFydFcgPSBNYXRoLm1heCh0aGlzLnBhbmVsVmlzaWJsZSgpID8gdyAtIFBBTkVMX1dJRFRIIDogdyAtIDQ0LCAwKTtcblxuICAgICAgICAvLyByZXNpemUgY29udGFpbmVyXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuJGNoYXJ0Q29udGFpbmVyLmhlaWdodChjaGFydEgpO1xuICAgICAgICB0aGlzLiRjaGFydENvbnRhaW5lci53aWR0aChjaGFydFcpO1xuXG4gICAgICAgIC8vIHJlc2l6ZSBib2FyZFxuICAgICAgICAvL1xuICAgICAgICB0aGlzLmJvYXJkLnJlc2l6ZShjaGFydFcsIGNoYXJ0SCk7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy4kY2hhcnRDb250YWluZXIub2Zmc2V0KCk7XG4gICAgICAgIHRoaXMuYm9hcmQub2Zmc2V0ID0gbmV3IGx5Y2hhcnQuc2hhcmVkLlBvaW50KG9mZnNldC5sZWZ0LCBvZmZzZXQudG9wKTtcblxuICAgICAgICAvLyByZXNpemUgcGFuZWxcbiAgICAgICAgdGhpcy5wYW5lbEhlaWdodChjaGFydEggLSAyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGNoYXJ0IHRvIHRoZSBzZWxlY3RlZCBhc3NldCBwYWlyIGFuZCB0aW1lIGludGVydmFsLlxuICAgICAqIEBwYXJhbSBhc3NldFBhaXJJZFxuICAgICAqIEBwYXJhbSB0aW1lSW50ZXJ2YWwgXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXRDaGFydChhc3NldFBhaXJJZDogc3RyaW5nLCB0aW1lSW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwpOiBib29sZWFuIHtcblxuICAgICAgICBpZiAoIWFzc2V0UGFpcklkIHx8ICF0aW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnY3ZtOiBjcmVhdGluZyBkYXRhIHNvdXJjZS4uLicpO1xuICAgICAgICAvLyByZWNyZWF0ZSBkYXRhIHNvdXJjZVxuICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSAgdGhpcy5kYXRhU2VydmljZS5jcmVhdGVEYXRhU291cmNlKGFzc2V0UGFpcklkLCB0aW1lSW50ZXJ2YWwpO1xuXG4gICAgICAgIHRoaXMuYm9hcmQuc2V0VGltZUludGVydmFsKHRpbWVJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuYm9hcmQuc2V0RGF0YVNvdXJjZShcbiAgICAgICAgICAgIGFzc2V0UGFpcklkLCAvLyB1aWRcbiAgICAgICAgICAgIGFzc2V0UGFpcklkLCAvLyBuYW1lXG4gICAgICAgICAgICAodGltZUludGVydmFsID09PSBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsLnNlYykgPyBseWNoYXJ0LmNvcmUuQ2hhcnRUeXBlLmxpbmUgOiBseWNoYXJ0LmNvcmUuQ2hhcnRUeXBlLmNhbmRsZSxcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNldENoYXJ0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRDaGFydCh0aGlzLnNlbGVjdGVkQXNzZXQoKSwgc3RyMmludGVydmFsKHRoaXMuc2VsZWN0ZWRJbnRlcnZhbCgpKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzdHIyaW50ZXJ2YWwodmFsdWU6IGFueSk6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwge1xuICAgIGNvbnN0IHRpbWVpbnRlcnZhbDoga2V5b2YgdHlwZW9mIGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwgPSB2YWx1ZTtcbiAgICByZXR1cm4gbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbFt0aW1laW50ZXJ2YWxdO1xufVxuIiwiLyoqXG4gKiBQcm9wc1ZpZXdNb2RlbCBjbGFzcy4gVmlldyBtb2RlbCBvZiBhIHNwZWNpZmljIGNoYXJ0LlxuICovXG5pbXBvcnQgKiBhcyBseWNoYXJ0IGZyb20gJy4uLy4uLy4uL3NyYy9seWNoYXJ0JztcbmltcG9ydCBDaGFydEJvYXJkID0gbHljaGFydC5DaGFydEJvYXJkO1xuaW1wb3J0IElFdmVudCA9IGx5Y2hhcnQuc2hhcmVkLklFdmVudDtcbmltcG9ydCBFdmVudCA9IGx5Y2hhcnQuc2hhcmVkLkV2ZW50O1xuaW1wb3J0IFNldHRpbmdTZXQgPSBseWNoYXJ0LmNvcmUuU2V0dGluZ1NldDtcbmltcG9ydCBTZXR0aW5nVHlwZSA9IGx5Y2hhcnQuY29yZS5TZXR0aW5nVHlwZTtcbmltcG9ydCBWaXN1YWxDb21wb25lbnQgPSBseWNoYXJ0LmNvcmUuVmlzdWFsQ29tcG9uZW50O1xuXG5leHBvcnQgY2xhc3MgUHJvcHNFdmVudCBleHRlbmRzIEV2ZW50PHVuZGVmaW5lZD4ge1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcHNWaWV3TW9kZWwge1xuICAgIHB1YmxpYyByZWFkb25seSBwcm9wc0Nsb3NpbmdFdmVudCA9IG5ldyBQcm9wc0V2ZW50KCk7XG4gICAgcHVibGljIHJlYWRvbmx5IHByb3BzQXBwbGllZEV2ZW50ID0gbmV3IFByb3BzRXZlbnQoKTtcblxuICAgIHB1YmxpYyB0aXRsZSA9IGtvLm9ic2VydmFibGUoJycpO1xuXG4gICAgcHJpdmF0ZSBvYmo6IGFueTtcbiAgICBwcml2YXRlIHNldHRpbmdOYW1lOiBzdHJpbmc7XG4gICAgLy9wcml2YXRlICRwcm9wc0NvbnRhaW5lcjogSlF1ZXJ5O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBib2FyZDogQ2hhcnRCb2FyZCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBjbWRBcHBseSgpIHtcbiAgICAgICAgaWYgKHRoaXMub2JqICYmIHR5cGVvZiB0aGlzLm9iai5zZXRTZXR0aW5ncyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmNvbGxlY3RTZXR0aW5ncygpO1xuICAgICAgICAgICAgdGhpcy5vYmouc2V0U2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvcHNBcHBsaWVkRXZlbnQudHJpZ2dlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbWRDYW5jZWwoKSB7XG4gICAgICAgIHRoaXMucHJvcHNDbG9zaW5nRXZlbnQudHJpZ2dlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWJ1aWxkKG9iajogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCBpcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG5cbiAgICAgICAgLy8gc2V0IHRpdGxlXG4gICAgICAgIHRoaXMudGl0bGUob2JqLm5hbWUgfHwgJycpO1xuXG4gICAgICAgIC8vIGNsZWFyIGNvbnRyb2xzXG4gICAgICAgIC8vdGhpcy4kcHJvcHNDb250YWluZXIgPSAkKCcucHJvcGVydGllcycsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lcikuZW1wdHkoKTtcblxuICAgICAgICAvLyBsb2FkIHNldHRpbmdzXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLmdldFNldHRpbmdzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IDxTZXR0aW5nU2V0Pm9iai5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5nTmFtZSA9IHNldHRpbmdzLm5hbWU7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdGUoc2V0dGluZ3MsICcnLCB0aGlzLnRpdGxlKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5nTmFtZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpdGVyYXRlKHNzOiBTZXR0aW5nU2V0LCBwYXRoOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpIHtcbiAgICAgICAgcGF0aCA9IHBhdGggPyBwYXRoICsgJy4nICsgc3MubmFtZSA6IHNzLm5hbWU7XG5cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIE9iamVjdC5rZXlzKHNzLnNldHRpbmdzKSkge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IHNzLnNldHRpbmdzW3NdO1xuXG4gICAgICAgICAgICAvLyBTZXQgZ3JvdXAncyBuYW1lXG4gICAgICAgICAgICBpZiAoc2V0dGluZy5ncm91cCAmJiBzZXR0aW5nLmRpc3BhbHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGRpdiA9ICQoJzxoNCAvPicpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KHNldHRpbmcuZGlzcGFseU5hbWUpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc3VidGl0bGUnKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBvcHVsYXRlU2V0dGluZyhzZXR0aW5nLCBwYXRoICsgJy4nICsgc2V0dGluZy5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShzZXR0aW5nLCBwYXRoLCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHBvcHVsYXRlU2V0dGluZyhzczogU2V0dGluZ1NldCwgZnVsbFBhdGg6IHN0cmluZykge1xuICAgICAgICBpZiAoc3MuZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0ICRkaXYgPSAkKCc8ZGl2IC8+JylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtY29udGFpbicpXG4gICAgICAgICAgICAuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgICQoJzxsYWJlbCAvPicpXG4gICAgICAgICAgICAudGV4dChzcy5kaXNwYWx5TmFtZSlcbiAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtdGl0bGUnKVxuICAgICAgICAgICAgLmFwcGVuZFRvKCRkaXYpO1xuXG4gICAgICAgIHN3aXRjaCAoc3Muc2V0dGluZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuY2hlY2s6XG4gICAgICAgICAgICAgICAgJCgnPGlucHV0IC8+Jywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlIDogJ2NoZWNrYm94JyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZnVsbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHNzLnZhbHVlID09PSAndHJ1ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzcy52YWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdmaWVsZC1pbnB1dCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtdHlwZScsIHNzLnNldHRpbmdUeXBlKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkZGl2KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nVHlwZS5jb2xvcjpcbiAgICAgICAgICAgICAgICAkKCc8aW5wdXQgLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ZpZWxkLWlucHV0JylcbiAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10eXBlJywgc3Muc2V0dGluZ1R5cGUpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRkaXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLm51bWVyaWM6XG4gICAgICAgICAgICAgICAgJCgnPGlucHV0IC8+Jywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlIDogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ZpZWxkLWlucHV0JylcbiAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10eXBlJywgc3Muc2V0dGluZ1R5cGUpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRkaXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLmRhdGU6XG4gICAgICAgICAgICAgICAgJCgnPGlucHV0IC8+Jywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlIDogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ZpZWxkLWlucHV0JylcbiAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10eXBlJywgc3Muc2V0dGluZ1R5cGUpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRkaXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLnNlbGVjdDpcbiAgICAgICAgICAgICAgICBsZXQgc2VsID0gJCgnPHNlbGVjdCAvPicsIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZnVsbFBhdGhcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtaW5wdXQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXR5cGUnLCBzcy5zZXR0aW5nVHlwZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGRpdik7XG5cbiAgICAgICAgICAgICAgICBzcy5vcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJCgnPG9wdGlvbiAvPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb24udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAob3B0aW9uLnZhbHVlID09PSBzcy52YWx1ZSkgPyAnc2VsZWN0ZWQnIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKHNlbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb2xsZWN0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG5cbiAgICAgICAgY29uc3QgcyA9IG5ldyBTZXR0aW5nU2V0KHRoaXMuc2V0dGluZ05hbWUpO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9ICQoJy5maWVsZC1pbnB1dCcsIHRoaXMuY29udGFpbmVyKS5nZXQoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcblxuICAgICAgICAgICAgY29uc3QgYXR0clR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0gOiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBzcyA9IG5ldyBTZXR0aW5nU2V0KG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgc3Muc2V0dGluZ1R5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJUeXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNzLnZhbHVlID0gKDxIVE1MSW5wdXRFbGVtZW50PmVsZW1lbnQpLmNoZWNrZWQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJUeXBlID09PSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHNzLnZhbHVlID0gKDxIVE1MSW5wdXRFbGVtZW50PmVsZW1lbnQpLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0clR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICBzcy52YWx1ZSA9ICg8SFRNTElucHV0RWxlbWVudD5lbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJUeXBlID09PSAnZGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3MudmFsdWUgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICg8SFRNTFNlbGVjdEVsZW1lbnQ+ZWxlbWVudCkub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgc3MudmFsdWUgPSAoPEhUTUxPcHRpb25FbGVtZW50Pm9wdGlvbnNbb3B0aW9ucy5zZWxlY3RlZEluZGV4XSkudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcy5zZXRTZXR0aW5nKHBhdGgsIHNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVHJlZVZpZXdNb2RlbCBjbGFzcy4gVmlldyBtb2RlbCBvZiBhIHNwZWNpZmljIGNoYXJ0LlxuICovXG5pbXBvcnQgKiBhcyBseWNoYXJ0IGZyb20gJy4uLy4uLy4uL3NyYy9seWNoYXJ0JztcbmltcG9ydCBDaGFydEJvYXJkID0gbHljaGFydC5DaGFydEJvYXJkO1xuaW1wb3J0IElFdmVudCA9IGx5Y2hhcnQuc2hhcmVkLklFdmVudDtcbmltcG9ydCBFdmVudCA9IGx5Y2hhcnQuc2hhcmVkLkV2ZW50O1xuXG5leHBvcnQgY2xhc3MgSXRlbVNlbGVjdGVkQXJnIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHVpZDogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgb2JqZWN0OiBhbnlcbiAgICApIHtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJdGVtU2VsZWN0ZWRFdmVudCBleHRlbmRzIEV2ZW50PEl0ZW1TZWxlY3RlZEFyZz4ge1xufVxuXG5leHBvcnQgY2xhc3MgVHJlZVZpZXdNb2RlbCB7XG4gICAgcHVibGljIHJlYWRvbmx5IGl0ZW1TZWxlY3RlZCA9IG5ldyBJdGVtU2VsZWN0ZWRFdmVudCgpO1xuXG4gICAgcHVibGljIHN0YWNrcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYm9hcmQ6IENoYXJ0Qm9hcmQpIHtcblxuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY21kU2VsZWN0Q2hhcnQoY2hhcnQ6IGFueSkge1xuICAgICAgICBpZiAoY2hhcnQgJiYgY2hhcnQudWlkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdE9iamVjdEJ5VWlkKGNoYXJ0LnVpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kU2VsZWN0RmlndXJlKGZpZ3VyZTogYW55KSB7XG4gICAgICAgIGlmIChmaWd1cmUgJiYgZmlndXJlLnVpZCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RPYmplY3RCeVVpZChmaWd1cmUudWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2VsZWN0T2JqZWN0QnlVaWQodWlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVpZCkge1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5ib2FyZC5nZXRPYmplY3RCeUlkKHVpZCk7XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtU2VsZWN0ZWQudHJpZ2dlcihuZXcgSXRlbVNlbGVjdGVkQXJnKHVpZCwgb2JqKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ09iamVjdCBpcyBub3QgZm91bmQsIHVpZCA9ICcgKyB1aWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XG5cbiAgICAgICAgLy8kKCdbZGF0YS1yb2xlPVwiY29sbGFwc2libGVcIl0nKS5jb2xsYXBzaWJsZSh7IHJlZnJlc2g6IHRydWUgfSk7XG4gICAgICAgIC8vJCgnW2RhdGEtcm9sZT1cImNvbGxhcHNpYmxlXCJdJykuY29sbGFwc2libGUoeyBtaW5pOiB0cnVlIH0pO1xuICAgICAgICAkKCdbZGF0YS1yb2xlPVwiY29sbGFwc2libGVcIl0nKS50cmlnZ2VyKCdjcmVhdGUnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYnVpbGQoKSB7XG4gICAgICAgIHRoaXMuc3RhY2tzLnJlbW92ZUFsbCgpO1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmJvYXJkLnN0YWNrcy5mb3JFYWNoKHN0YWNrID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY2hhcnRzID0gc3RhY2suY2hhcnRzLm1hcChzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IHMudWlkLCBuYW1lOiBzLm5hbWUgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmaWd1cmVzID0gc3RhY2suZmlndXJlcy5tYXAoZiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBmLnVpZCwgbmFtZTogZi5uYW1lIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5zdGFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdWlkOiBzdGFjay51aWQsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0NoYXJ0JyxcbiAgICAgICAgICAgICAgICBjaGFydHM6IGNoYXJ0cyxcbiAgICAgICAgICAgICAgICBmaWd1cmVzOiBmaWd1cmVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIHJlbGF0ZWQgdG8gZ3JpZCBjYWxjdWxhdGlvbi5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgVGltZUJhciwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UsIEl0ZXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscywgTnVtYmVyVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5cbmNsYXNzIFNjYWxlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN0ZXA6IG51bWJlcixcbiAgICAgICAgcHVibGljIHByZWNpc2lvbjogbnVtYmVyKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlckF1dG9HcmlkIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5JbnRlcnZhbDogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmFuZ2U6IElSYW5nZTxudW1iZXI+O1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNjYWxlcyA9IFtcbiAgICAgICAgbmV3IFNjYWxlKDAuMDAwMSwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjAwMDUsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4wMDEwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMDAyNSwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjAwNTAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4wMTAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMDI1MCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjA1MDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4xMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMjUwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjUwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMS4wMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUuMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMC4wMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDI1LjAwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoNTAuMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMjUwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDI1MDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoNTAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgyNTAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSg1MDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMjUwMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUwMDAwMCwgMClcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IobGVuZ3RoOiBudW1iZXIsIG1pbkludGVydmFsOiBudW1iZXIsIHJhbmdlOiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICBpZiAoIWxlbmd0aCB8fCBsZW5ndGggPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibGVuZ3RoXCIgJHsgbGVuZ3RoIH0gaXMgb3V0IG9mIHJhbmdlLmApOyB9XG4gICAgICAgIGlmICghbWluSW50ZXJ2YWwgfHwgbWluSW50ZXJ2YWwgPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibWluSW50ZXJ2YWxcIiAkeyBtaW5JbnRlcnZhbCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuICAgICAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLmVuZCA9PT0gdW5kZWZpbmVkIHx8IHJhbmdlLnN0YXJ0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcInJhbmdlXCIgaXMgbm90IHNwZWNpZmllZC4nKTsgfVxuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLm1pbkludGVydmFsID0gbWluSW50ZXJ2YWw7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JpZCgpOiBHcmlkPG51bWJlcj4ge1xuICAgICAgICBjb25zdCBncmlkID0gbmV3IEdyaWQ8bnVtYmVyPigpO1xuXG4gICAgICAgIC8vIDEuIERlZmluZSBob3cgbWFueSBiYXJzIGNhbiBiZSBmaXR0ZWRcbiAgICAgICAgY29uc3QgW21pbkJhcnMsIG1heEJhcnNdID0gWzEsIE1hdGguZmxvb3IodGhpcy5sZW5ndGggLyAyMCldO1xuXG4gICAgICAgIC8vIDIuIENob29zZSBmaXR0aW5nIHNjYWxlXG4gICAgICAgIGNvbnN0IHJhbmdlQWJzID0gTWF0aC5hYnModGhpcy5yYW5nZS5lbmQgLSB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgbGV0IHNlbGVjdGVkU2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3Qgc2NhbGUgb2YgTnVtYmVyQXV0b0dyaWQuc2NhbGVzKSB7XG4gICAgICAgICAgICBpZiAoc2NhbGUuc3RlcCA8IHRoaXMubWluSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaG93IG1hbnkgYmFycyBkb2VzIHRoaXMgc2NhbGUgcmVxdWlyZTpcbiAgICAgICAgICAgIGNvbnN0IGJhcnNSZXF1aXJlZCA9IE1hdGguZmxvb3IocmFuZ2VBYnMgLyBzY2FsZS5zdGVwKSArIDE7XG5cbiAgICAgICAgICAgIGlmIChiYXJzUmVxdWlyZWQgPj0gbWluQmFycyAmJiBiYXJzUmVxdWlyZWQgPD0gbWF4QmFycykge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NhbGUgPSBzY2FsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRTY2FsZSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiBncmlkOyB9XG5cbiAgICAgICAgLy8gMy4gQ2FsY3VsYXRlIGZpcnN0IGJhclxuICAgICAgICAvL1xuICAgICAgICAvLyAuLi4gaWYgc3RhcnQgdGltZSBpcyBwbGFjZWQgb24gYmFyIHVzZSBpdCwgb3RoZXJ3aXNlIGNhbGN1bGF0ZSB3aGVyZSBmaXJzdCBiYXIgbGllc1xuICAgICAgICBsZXQgYmFyID0gMDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2Uuc3RhcnQgJSBzZWxlY3RlZFNjYWxlLnN0ZXAgPT09IDApIHtcbiAgICAgICAgICAgIGJhciA9IHRoaXMucmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAuLi4gYWRkIHNjYWxlIHZhbHVlIGFuZCB0cnVuY2F0ZSBcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHRoaXMucmFuZ2Uuc3RhcnQgKyAodGhpcy5yYW5nZS5zdGFydCA+PSAwID8gc2VsZWN0ZWRTY2FsZS5zdGVwIDogLXNlbGVjdGVkU2NhbGUuc3RlcCk7XG4gICAgICAgICAgICBiYXIgPSBudW0gLSAobnVtICUgc2VsZWN0ZWRTY2FsZS5zdGVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQuIENhbGN1bGF0ZSByZW1haW5pbmcgYmFyc1xuICAgICAgICBsZXQgdDogbnVtYmVyID0gYmFyO1xuICAgICAgICB3aGlsZSAodCA8PSB0aGlzLnJhbmdlLmVuZCArIHNlbGVjdGVkU2NhbGUuc3RlcCkge1xuICAgICAgICAgICAgZ3JpZC5iYXJzLnB1c2godCk7XG4gICAgICAgICAgICB0ICs9IHNlbGVjdGVkU2NhbGUuc3RlcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyaWQucHJlY2lzaW9uID0gc2VsZWN0ZWRTY2FsZS5wcmVjaXNpb247XG4gICAgICAgIHJldHVybiBncmlkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVBdXRvR3JpZCBpbXBsZW1lbnRzIEl0ZXJhdG9yPFRpbWVCYXI+IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbkludGVydmFsOiBUaW1lSW50ZXJ2YWw7XG4gICAgcHJpdmF0ZSByZWFkb25seSByYW5nZTogSVJhbmdlPFVpZD47XG4gICAgcHJpdmF0ZSByZWFkb25seSB0aW1lOiBJdGVyYXRvcjxUaW1lQmFyPjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNjYWxlOiBUaW1lSW50ZXJ2YWw7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgc2NhbGVzOiBUaW1lSW50ZXJ2YWxbXSA9IFtcbiAgICAgICAgVGltZUludGVydmFsLnNlYyxcbiAgICAgICAgVGltZUludGVydmFsLm1pbixcbiAgICAgICAgVGltZUludGVydmFsLm1pbjUsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5taW4xNSxcbiAgICAgICAgVGltZUludGVydmFsLm1pbjMwLFxuICAgICAgICBUaW1lSW50ZXJ2YWwuaG91cixcbiAgICAgICAgVGltZUludGVydmFsLmhvdXI0LFxuICAgICAgICBUaW1lSW50ZXJ2YWwuaG91cjYsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5ob3VyMTIsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5kYXksXG4gICAgICAgIFRpbWVJbnRlcnZhbC5kYXkzLFxuICAgICAgICBUaW1lSW50ZXJ2YWwud2VlayxcbiAgICAgICAgVGltZUludGVydmFsLmRheTEwLFxuICAgICAgICBUaW1lSW50ZXJ2YWwubW9udGhcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgbWluSW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgdGltZTogSXRlcmF0b3I8VGltZUJhcj4sIHJhbmdlOiBJUmFuZ2U8VWlkPikge1xuXG4gICAgICAgIGlmICghd2lkdGggfHwgd2lkdGggPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwid2lkdGhcIiAkeyB3aWR0aCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuICAgICAgICBpZiAoIW1pbkludGVydmFsIHx8IG1pbkludGVydmFsIDwgMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibWluSW50ZXJ2YWxcIiAkeyBtaW5JbnRlcnZhbCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5taW5JbnRlcnZhbCA9IG1pbkludGVydmFsO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IFRpbWVBdXRvR3JpZC5zZWxlY3RTY2FsZSh0aGlzLndpZHRoLCB0aGlzLm1pbkludGVydmFsLCB0aGlzLnJhbmdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHNlbGVjdFNjYWxlKHdpZHRoOiBudW1iZXIsIG1pbkludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJhbmdlOiBJUmFuZ2U8VWlkPik6IFRpbWVJbnRlcnZhbCB7XG5cbiAgICAgICAgY29uc3QgZ3JpZDogRGF0ZVtdID0gW107XG5cbiAgICAgICAgLy8gMS4gRGVmaW5lIGhvdyBtYW55IGJhcnMgY2FuIGJlIGZpdHRlZFxuICAgICAgICBjb25zdCBbbWluQmFycywgbWF4QmFyc10gPSBbMSwgTWF0aC5mbG9vcih3aWR0aCAvIDc1KV07XG5cbiAgICAgICAgLy8gMi4gQ2hvb3NlIGZpdHRpbmcgc2NhbGVcbiAgICAgICAgY29uc3QgcmFuZ2VJbk1zID0gTWF0aC5hYnMocmFuZ2UuZW5kLnQuZ2V0VGltZSgpIC0gcmFuZ2Uuc3RhcnQudC5nZXRUaW1lKCkpO1xuICAgICAgICBsZXQgc2VsZWN0ZWRTY2FsZSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgc2NhbGUgb2YgVGltZUF1dG9HcmlkLnNjYWxlcykge1xuICAgICAgICAgICAgaWYgKHNjYWxlIDwgbWluSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaG93IG1hbnkgYmFycyBkb2VzIHRoaXMgc2NhbGUgcmVxdWlyZTpcbiAgICAgICAgICAgIGNvbnN0IGJhcnNSZXF1aXJlZCA9IE1hdGguZmxvb3IocmFuZ2VJbk1zIC8gc2NhbGUpICsgMTtcblxuICAgICAgICAgICAgaWYgKGJhcnNSZXF1aXJlZCA+PSBtaW5CYXJzICYmIGJhcnNSZXF1aXJlZCA8PSBtYXhCYXJzKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2FsZSA9IHNjYWxlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFNjYWxlO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldCBjdXJyZW50KCk6IFRpbWVCYXIge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRpbWUucmVzZXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZU5leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAodGhpcy50aW1lLm1vdmVOZXh0KCkpIHtcbiAgICAgICAgICAgIGlmIChEYXRlVXRpbHMuaXNSb3VuZCh0aGlzLnRpbWUuY3VycmVudC51aWQudCwgdGhpcy5zY2FsZSkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTnVtYmVyQXhpcyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgSUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBOdW1iZXJBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xuXG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJBeGlzIGltcGxlbWVudHMgSUF4aXM8bnVtYmVyPiB7XG5cbiAgICBwcml2YXRlIF9yYW5nZTogSVJhbmdlPG51bWJlcj47XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sZW5ndGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBsZW5ndGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlciwgICAgICAgICAvLyBEZWZpbmVzIG1heGltdW0gem9vbVxuICAgICAgICBpbml0aWFsUmFuZ2U/OiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gaW5pdGlhbFJhbmdlID8gaW5pdGlhbFJhbmdlIDoge3N0YXJ0OiAwLCBlbmQ6IDB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgbGVuZ3RoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByYW5nZSgpOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhbmdlKG5ld1JhbmdlOiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICB0aGlzLl9yYW5nZSA9IG5ld1JhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaW50ZXJ2YWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVydmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHcmlkKCk6IEdyaWQ8bnVtYmVyPiB7XG4gICAgICAgIGNvbnN0IGF1dG9HcmlkID0gbmV3IE51bWJlckF1dG9HcmlkKHRoaXMuX2xlbmd0aCwgdGhpcy5pbnRlcnZhbCwgdGhpcy5yYW5nZSk7XG4gICAgICAgIHJldHVybiBhdXRvR3JpZC5nZXRHcmlkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKGZyb21YOiBudW1iZXIsIHRvWDogbnVtYmVyKTogSVJhbmdlPG51bWJlciB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoZnJvbVggPiAwICYmIHRvWCA+IDAgJiYgZnJvbVggPCB0aGlzLl9sZW5ndGggJiYgdG9YIDwgdGhpcy5fbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnRvVmFsdWUoTWF0aC5tYXgoZnJvbVgsIHRvWCkpLCAvLyBZIGlzIGludmVydGVkXG4gICAgICAgICAgICAgICAgZW5kOiB0aGlzLnRvVmFsdWUoTWF0aC5taW4oZnJvbVgsIHRvWCkpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRvVmFsdWUoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLmFicyh0aGlzLnJhbmdlLmVuZCAtIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heCh0aGlzLnJhbmdlLmVuZCwgdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IGQgPSB4IC8gdGhpcy5fbGVuZ3RoO1xuICAgICAgICByZXR1cm4gbWF4IC0gZCAqIHJhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1godmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gTWF0aC5hYnModGhpcy5yYW5nZS5lbmQgLSB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgodGhpcy5yYW5nZS5lbmQsIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBkID0gKG1heCAtIHZhbHVlKSAvIHJhbmdlOyAvLyBpbnZlcnRlZCBZXG4gICAgICAgIHJldHVybiBkICogdGhpcy5fbGVuZ3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b0luZGV4KHg6IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoeCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIFByaWNlQXhpcyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgSUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBOdW1iZXJBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xuXG5leHBvcnQgY2xhc3MgUHJpY2VBeGlzIGltcGxlbWVudHMgSUF4aXM8bnVtYmVyPiB7XG5cbiAgICBwcml2YXRlIF9yYW5nZTogSVJhbmdlPG51bWJlcj47XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sZW5ndGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBsZW5ndGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlciwgLy8gZGVmaW5lcyBtYXhpbXVtIHpvb21cbiAgICAgICAgaW5pdGlhbFJhbmdlPzogSVJhbmdlPG51bWJlcj4pIHtcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZSA9IGluaXRpYWxSYW5nZSA/IGluaXRpYWxSYW5nZSA6IHtzdGFydDogMCwgZW5kOiAwfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJhbmdlKCk6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcmFuZ2UobmV3UmFuZ2U6IElSYW5nZTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMuX3JhbmdlID0gbmV3UmFuZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpbnRlcnZhbCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBsZW5ndGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9sZW5ndGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JpZCgpOiBHcmlkPG51bWJlcj4ge1xuICAgICAgICBjb25zdCBhdXRvR3JpZCA9IG5ldyBOdW1iZXJBdXRvR3JpZCh0aGlzLl9sZW5ndGgsIHRoaXMuaW50ZXJ2YWwsIHRoaXMucmFuZ2UpO1xuICAgICAgICByZXR1cm4gYXV0b0dyaWQuZ2V0R3JpZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShmcm9tWDogbnVtYmVyLCB0b1g6IG51bWJlcik6IElSYW5nZTxudW1iZXIgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKGZyb21YID4gMCAmJiB0b1ggPiAwICYmIGZyb21YIDwgdGhpcy5fbGVuZ3RoICYmIHRvWCA8IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy50b1ZhbHVlKE1hdGgubWF4KGZyb21YLCB0b1gpKSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMudG9WYWx1ZShNYXRoLm1pbihmcm9tWCwgdG9YKSkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9WYWx1ZSh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCByYW5nZSA9IE1hdGguYWJzKHRoaXMucmFuZ2UuZW5kIC0gdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHRoaXMucmFuZ2UuZW5kLCB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgZCA9IHggLyB0aGlzLl9sZW5ndGg7XG4gICAgICAgIHJldHVybiBtYXggLSBkICogcmFuZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIHRvWCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLmFicyh0aGlzLnJhbmdlLmVuZCAtIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heCh0aGlzLnJhbmdlLmVuZCwgdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IGQgPSAobWF4IC0gdmFsdWUpIC8gcmFuZ2U7IC8vIGludmVydGVkIFlcbiAgICAgICAgcmV0dXJuIGQgKiB0aGlzLl9sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIHRvSW5kZXgoeDogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZSh4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIH1cblxuICAgIHB1YmxpYyBzY2FsZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7IFRpbWVBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xyXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi9OdW1iZXJBeGlzJztcclxuaW1wb3J0IHsgUHJpY2VBeGlzIH0gZnJvbSAnLi9QcmljZUF4aXMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIE51bWJlckF4aXMsXHJcbiAgICBQcmljZUF4aXMsXHJcbiAgICBUaW1lQXV0b0dyaWRcclxuIH07XHJcbiIsIu+7vy8qKlxuICogQ2FudmFzV3JhcHBlciBjbGFzcy5cbiAqIFxuICogQGNsYXNzZGVzYyBJbmNhcHN1bGF0ZXMgdXNhZ2Ugb2YgY2FudmFzLlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QWxpZ24sIENhbnZhc1RleHRCYXNlTGluZSB9IGZyb20gJy4vRW51bXMnO1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4vSUNhbnZhcyc7XG5cbmV4cG9ydCBjbGFzcyBDYW52YXNXcmFwcGVyIGltcGxlbWVudHMgSUNhbnZhcyB7XG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwdWJsaWMgdzogbnVtYmVyO1xuICAgIHB1YmxpYyBoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSByYXRpbzogbnVtYmVyO1xuICAgIHByaXZhdGUgYWRqOiBudW1iZXIgPSAwLjU7IC8vIEFkanVzbWVudCB0byByZW1vdmUgYmx1cnkgbGluZXMuIERlZmF1bHQgdmFsdWUgZm9yIGxpbmUgd2lkdGggPSAxLlxuXG4gICAgcHVibGljIGdldCBmb250KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5mb250O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZm9udChmb250OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBmaWxsU3R5bGUoZmlsbFN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZ2xvYmFsQWxwaGEoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4Lmdsb2JhbEFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZ2xvYmFsQWxwaGEoYWxwaGE6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbGluZVdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5saW5lV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBsaW5lV2lkdGgodzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYWRqID0gKHcgJSAyKSAvIDI7ICAgICAgICAgLy8gSWYgbGluZSBpcyB3aWR0aCAxLCAzLCA1Li4uIHRoZW4gYWRqdXN0IGNvb3JkcyB0byByZW1vdmUgYmx1ci5cbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gdztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG5cbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICBjb25zdCBic3IgPSAoPGFueT50aGlzLmN0eCkud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICg8YW55PnRoaXMuY3R4KS5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB0aGlzLnJhdGlvID0gZHByIC8gYnNyO1xuXG4gICAgICAgIHRoaXMudyA9IHdpZHRoO1xuICAgICAgICB0aGlzLmggPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKHRoaXMucmF0aW8sIDAsIDAsIHRoaXMucmF0aW8sIDAsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMucm91bmQodGhpcy53KSwgdGhpcy5yb3VuZCh0aGlzLmgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGluZURhc2goKTogbnVtYmVyW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdHguZ2V0TGluZURhc2goKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TGluZURhc2goc2VnbWVudHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3R4LnNldExpbmVEYXNoKHNlZ21lbnRzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLnJvdW5kKHgpICsgdGhpcy5hZGosIHRoaXMucm91bmQoeSkgKyB0aGlzLmFkaik7XG4gICAgfVxuXG4gICAgcHVibGljIGxpbmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5yb3VuZCh4KSArIHRoaXMuYWRqLCB0aGlzLnJvdW5kKHkpICsgdGhpcy5hZGopO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaWxsKGZpbGxSdWxlPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGwoZmlsbFJ1bGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaWxsUmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5yb3VuZCh4KSwgdGhpcy5yb3VuZCh5KSwgdGhpcy5yb3VuZCh3KSwgdGhpcy5yb3VuZChoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0cm9rZVJlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QodGhpcy5yb3VuZCh4KSArIHRoaXMuYWRqLCB0aGlzLnJvdW5kKHkpICsgdGhpcy5hZGosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3VuZCh3KSAtIHRoaXMuYWRqICogMiwgdGhpcy5yb3VuZChoKSAtIHRoaXMuYWRqICogMik7XG4gICAgfVxuXG4gICAgLy8gVXNlZCB3aXRoIGJlZ2luUGF0aCgpIC8gc3Ryb2tlKCkgLyBzdHJva2VTdHlsZSAvIGZpbGwoKVxuICAgIHB1YmxpYyByZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5yZWN0KHRoaXMucm91bmQoeCkgKyB0aGlzLmFkaiwgdGhpcy5yb3VuZCh5KSArIHRoaXMuYWRqLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91bmQodykgLSB0aGlzLmFkaiAqIDIsIHRoaXMucm91bmQoaCkgLSB0aGlzLmFkaiAqIDIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhcmMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIsIGFudGljbG9ja3dpc2U/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY3R4LmFyYyh0aGlzLnJvdW5kKHgpLCB0aGlzLnJvdW5kKHkpLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZWxsaXBzZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzWDogbnVtYmVyLCByYWRpdXNZOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlciwgYW50aWNsb2Nrd2lzZT86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jdHguZWxsaXBzZSh4LCB5LCByYWRpdXNYLCByYWRpdXNZLCByb3RhdGlvbiwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBxdWFkcmF0aWNDdXJ2ZVRvKGNweDogbnVtYmVyLCBjcHk6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHgucXVhZHJhdGljQ3VydmVUbyhjcHgsIGNweSwgeCwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZpbGxUZXh0KHM6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQocywgdGhpcy5yb3VuZCh4KSwgdGhpcy5yb3VuZCh5KSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdJbWFnZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlciwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoY2FudmFzLCBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgICAgIC8vIHJlc3RvcmUgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKHRoaXMucmF0aW8sIDAsIDAsIHRoaXMucmF0aW8sIDAsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBiZWdpblBhdGgoKSB7XG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdHJva2UoKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVBhdGgoKSB7XG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdHJva2VTdHlsZShzdHlsZTogYW55KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gc3R5bGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEZpbGxTdHlsZShzdHlsZTogYW55KSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHN0eWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0QWxpZ24odjogQ2FudmFzVGV4dEFsaWduKSB7XG4gICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IENhbnZhc1RleHRCYXNlTGluZVt2XS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0QmFzZUxpbmUodjogQ2FudmFzVGV4dEJhc2VMaW5lKSB7XG4gICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IENhbnZhc1RleHRCYXNlTGluZVt2XS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtZWFzdXJlVGV4dCh0ZXh0OiBzdHJpbmcpOiBUZXh0TWV0cmljcyB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3Ryb2tlVGV4dCh0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBtYXhXaWR0aD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VUZXh0KHRleHQsIHRoaXMucm91bmQoeCksIHRoaXMucm91bmQoeSksIG1heFdpZHRoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2F2ZSgpIHtcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlKCkge1xuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsaXAoZmlsbFJ1bGU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguY2xpcChmaWxsUnVsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByb3VuZChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKDAuNSArIG4pIHwgMDtcbiAgICB9XG59XG4iLCLvu78vKipcbiAqIENhbnZhcyByZWxhdGVkIGVudW1lcmF0aW9ucy5cbiAqL1xuXG5leHBvcnQgZW51bSBDYW52YXNUZXh0QWxpZ24ge1xuICAgIExlZnQsXG4gICAgQ2VudGVyLFxuICAgIFJpZ2h0XG59XG5cbmV4cG9ydCBlbnVtIENhbnZhc1RleHRCYXNlTGluZSB7XG4gICAgVG9wLFxuICAgIE1pZGRsZSxcbiAgICBCb3R0b21cbn1cblxuZXhwb3J0IGVudW0gTGluZVBhdHRlcm4ge1xuICAgIFNvbGlkLFxuICAgIERhc2hlZCxcbiAgICBQb2ludGVkXG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBDYW52YXNXcmFwcGVyIH0gZnJvbSAnLi9DYW52YXNXcmFwcGVyJztcbmltcG9ydCB7IENhbnZhc1RleHRBbGlnbiwgQ2FudmFzVGV4dEJhc2VMaW5lLCBMaW5lUGF0dGVybiB9IGZyb20gJy4vRW51bXMnO1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4vSUNhbnZhcyc7XG5cbmV4cG9ydCB7XG4gICAgQ2FudmFzVGV4dEFsaWduLFxuICAgIENhbnZhc1RleHRCYXNlTGluZSxcbiAgICBDYW52YXNXcmFwcGVyLFxuICAgIElDYW52YXMsXG4gICAgTGluZVBhdHRlcm5cbiB9O1xuIiwiLyoqXG4gKiBDaGFydCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgRXZlbnRzLCBJQXhpcywgSUNvbmZpZ3VyYWJsZSwgSVF1aWNrdGlwLCBJVGltZUF4aXMsIElWaXN1YWxDb21wb25lbnQsIE1vdXNlRXZlbnRBcmd1bWVudCwgU2V0dGluZ1NldCwgVGltZUludGVydmFsLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgSVJlbmRlckxvY2F0b3IsIFJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJUmFuZ2UsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvcHVwIH0gZnJvbSAnLi9DaGFydFBvcHVwJztcbmltcG9ydCB7IElDaGFydCwgSUhvdmVyYWJsZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDaGFydCBleHRlbmRzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElDaGFydCwgSUhvdmVyYWJsZSwgSUNvbmZpZ3VyYWJsZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfdWlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQ2hhcnRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdEF4aXM6IElUaW1lQXhpcztcbiAgICAvL3ByaXZhdGUgcmVhZG9ubHkgcG9wdXA6IENoYXJ0UG9wdXA8Q2FuZGxlc3RpY2s+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVuZGVyZXI6IElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz47XG4gICAgcHJpdmF0ZSBpc01vdXNlT3ZlciA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHVpZDogc3RyaW5nLFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhcnRUeXBlOiBzdHJpbmcsXG4gICAgICAgIGNoYXJ0QXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICB0QXhpczogSVRpbWVBeGlzLFxuICAgICAgICBvZmZzZXQ6IFBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXM6IElBeGlzPG51bWJlcj4sXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcXRpcDogSVF1aWNrdGlwKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5fdWlkID0gdWlkO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmVhID0gY2hhcnRBcmVhO1xuICAgICAgICB0aGlzLnRBeGlzID0gdEF4aXM7XG4gICAgICAgIC8vIHRoaXMucG9wdXAgPSBuZXcgQ2hhcnRQb3B1cDxUPihjaGFydFR5cGUsIHRoaXMuYXJlYSwgeyB4OiAwLCB5OiAwIH0sIHNpemUsIGRhdGFTb3VyY2UsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIC8vIHRoaXMuYWRkQ2hpbGQodGhpcy5wb3B1cCk7XG5cbiAgICAgICAgLy90aGlzLnF0aXAuYWRkVGV4dEJsb2NrKCd0aXRsZScsICdDSEFSVCAnICsgdWlkKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gPElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4+UmVuZGVyTG9jYXRvci5JbnN0YW5jZS5nZXRDaGFydFJlbmRlcihDYW5kbGVzdGljaywgdGhpcy5jaGFydFR5cGUpO1xuXG4gICAgICAgIC8vIC8vIFN1YnNjcmliZSB0byBldmVudHNcbiAgICAgICAgLy8gRXZlbnRzLmluc3RhbmNlLm1vdXNlTW92ZS5vbih0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHVpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdWlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU291cmNlLnByZWNpc2lvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU291cmNlLmdldFZhbHVlc1JhbmdlKHJhbmdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGVNb3VzZShyZWxYOiBudW1iZXIsIHJlbFk6IG51bWJlcikge1xuXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5kYXRhU291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgdGhpcy5xdGlwLnJlbW92ZVRleHRCbG9jaygnbmFtZScpO1xuICAgICAgICB0aGlzLnF0aXAucmVtb3ZlVGV4dEJsb2NrKCd2YWx1ZScpO1xuICAgICAgICB0aGlzLnF0aXAuYWRkVGV4dEJsb2NrKCduYW1lJywgdGhpcy5kYXRhU291cmNlLm5hbWUpO1xuXG4gICAgICAgIGNvbnN0IHVpZCA9IHRoaXMudEF4aXMudG9WYWx1ZShyZWxYKTtcbiAgICAgICAgaWYgKHVpZCAhPT0gdW5kZWZpbmVkICYmIGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKHVpZCkgPT09IDApKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gaXRlcmF0b3IuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjLnRvU3RyaW5nKHRoaXMucHJlY2lzaW9uKTtcbiAgICAgICAgICAgIHRoaXMucXRpcC5hZGRUZXh0QmxvY2soJ3ZhbHVlJywgdGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5oYW5kZU1vdXNlKHJlbFgsIHJlbFkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuZGF0YVNvdXJjZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5hcmVhLmJhc2VDYW52YXMsIGl0ZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwLCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudEF4aXMsIHRoaXMueUF4aXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcblxuICAgICAgICAvLyBpZiAobW91c2VYID4gMCAmJiBtb3VzZVggPCB0aGlzLnNpemUud2lkdGhcbiAgICAgICAgLy8gICAgICYmIG1vdXNlWSA+IDAgJiYgbW91c2VZIDwgdGhpcy5zaXplLmhlaWdodCkge1xuXG4gICAgICAgIC8vICAgICBjb25zdCByZW5kZXJMb2NhdG9yID0gUmVuZGVyTG9jYXRvci5JbnN0YW5jZTtcbiAgICAgICAgLy8gICAgIC8vIDEuIEdldCBhcHByb3hpbWF0ZSByYW5nZVxuICAgICAgICAvLyAgICAgLy8gMi4gR2V0IGRhdGEgaW4gdGhhdCByYW5nZSAgICAgICAgICAgIFxuICAgICAgICAvLyAgICAgLy8gMy4gVGVzdCBoaXQgYXJlYVxuICAgICAgICAvLyAgICAgLy9cbiAgICAgICAgLy8gICAgIGNvbnN0IGluZGV4UmFuZ2UgPSB0aGlzLmZyYW1lLmdldEluZGV4ZXNSYW5nZShtb3VzZVggLSAxMCwgbW91c2VYICsgMTApO1xuICAgICAgICAvLyAgICAgaWYgKGluZGV4UmFuZ2UgJiYgaW5kZXhSYW5nZS5zdGFydCAmJiBpbmRleFJhbmdlLmVuZCkge1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZyYW1lLmdldERhdGFCZXR3ZWVuKHRoaXMuX3VpZCwgaW5kZXhSYW5nZS5zdGFydCwgaW5kZXhSYW5nZS5lbmQpO1xuICAgICAgICAvLyAgICAgICAgIC8vY29uc3QgZGF0YUl0ZXJhdG9yID0gdGhpcy5kYXRhU291cmNlLmdldERhdGEoZGF0ZVJhbmdlLCB0aGlzLnRpbWVBeGlzLmludGVydmFsKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBkYXRhUmVuZGVyID0gPElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4+cmVuZGVyTG9jYXRvci5nZXRDaGFydFJlbmRlcihDYW5kbGVzdGljaywgdGhpcy5jaGFydFR5cGUpO1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhUmVuZGVyLnRlc3RIaXRBcmVhKFxuICAgICAgICAvLyAgICAgICAgICAgICB7IHg6IG1vdXNlWCwgeTogbW91c2VZIH0sXG4gICAgICAgIC8vICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgIC8vICAgICAgICAgICAgIHt4OiAwLCB5OiAwLCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfSxcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5mcmFtZS54QXhpcyxcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy55QXhpcyk7XG5cbiAgICAgICAgLy8gICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAvLyAgICAgICAgICAgICAvLyBUT0RPOiB1bmNvbW1lbnRcbiAgICAgICAgLy8gICAgICAgICAgICAgLy90aGlzLnBvcHVwLml0ZW0gPSBpdGVtO1xuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNNb3VzZU92ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEhvdmVyZWQodmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiB1bmNvbW1lbnRcbiAgICAgICAgLy90aGlzLnBvcHVwLnZpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFNldHRpbmdTZXQoJ2NoYXJ0c2V0dGluZ3MnKTtcbiAgICAgICAgbWVyZ2VkLnNldFNldHRpbmcoJ2RhdGFzb3VyY2UnLCB0aGlzLmRhdGFTb3VyY2UuZ2V0U2V0dGluZ3MoKSk7XG4gICAgICAgIG1lcmdlZC5zZXRTZXR0aW5nKCd2aXN1YWwnLCB0aGlzLnJlbmRlcmVyLmdldFNldHRpbmdzKCkpO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCByZW5kZXJTZXR0aW5ncyA9IHNldHRpbmdzLmdldFNldHRpbmcoJ2NoYXJ0c2V0dGluZ3MudmlzdWFsJyk7XG4gICAgICAgIGlmIChyZW5kZXJTZXR0aW5ncykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTZXR0aW5ncyhyZW5kZXJTZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkc1NldHRpbmdzID0gc2V0dGluZ3MuZ2V0U2V0dGluZygnY2hhcnRzZXR0aW5ncy5kYXRhc291cmNlJyk7XG4gICAgICAgIGlmIChkc1NldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Uuc2V0U2V0dGluZ3MoZHNTZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIENoYXJ0Qm9hcmQgY2xhc3MuXG4gKiBcbiAqIEBjbGFzc2Rlc2MgRmFjYWRlIGZvciB0aGUgY2hhcnQgbGlicmFyeS5cbiAqL1xuaW1wb3J0IHsgQ2hhcnRUeXBlLCBFdmVudEFyZ3VtZW50LCBFdmVudHMsIElEYXRhU2VydmljZSwgSVNvdXJjZSwgSVF1aWNrdGlwLCBJUXVpY2t0aXBCdWlsZGVyLCBJU3RvcmFnZSwgTW91c2UsIE1vdXNlRXZlbnRBcmd1bWVudCwgT2JqZWN0RXZlbnRBcmd1bWVudCwgU3RvcmFnZU1hbmFnZXIsIFN0b3JlQ29udGFpbmVyLCBUaW1lSW50ZXJ2YWwsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZUZhY3RvcnksIERhdGFTb3VyY2VSZWdpc3RlciwgSURhdGFTb3VyY2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IEluZGljYXRvckZhYnJpYyB9IGZyb20gJy4uL2luZGljYXRvci9pbmRleCc7XG5pbXBvcnQgeyBCb2FyZEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IFJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUV2ZW50LCBJSGFzaFRhYmxlLCBJUmFuZ2UsIFBvaW50LCB0aHJvdHRsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMsIFVpZFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRTdGFjayB9IGZyb20gJy4vQ2hhcnRTdGFjayc7XG5pbXBvcnQgeyBJQ2hhcnRCb2FyZCwgSUNoYXJ0U3RhY2ssIElEcmF3aW5nLCBpc1N0YXRlQ29udHJvbGxlciwgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBTdGF0ZUZhYnJpYyB9IGZyb20gJy4vU3RhdGVGYWJyaWMnO1xuaW1wb3J0IHsgSG92ZXJTdGF0ZSwgTW92ZUNoYXJ0U3RhdGUgfSBmcm9tICcuL1N0YXRlcyc7XG5pbXBvcnQgeyBMb2FkUmFuZ2VBcmd1bWVudCwgVGltZUF4aXMgfSBmcm9tICcuL1RpbWVBeGlzJztcbmltcG9ydCB7IFRpbWVBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9UaW1lQXhpc0NvbXBvbmVudCc7XG5cbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcblxuY2xhc3MgSW5kaWNhdG9yRGVzY3JpcHRpb24ge1xuICAgIHB1YmxpYyB1aWQ6IHN0cmluZztcbiAgICBwdWJsaWMgaW5kaWNhdG9yVHlwZTogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKHVpZDogc3RyaW5nLCBpbmRpY2F0b3JUeXBlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy51aWQgPSB1aWQ7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yVHlwZSA9IGluZGljYXRvclR5cGU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcnRCb2FyZCBleHRlbmRzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElEcmF3aW5nLCBJQ2hhcnRCb2FyZCwgSVNvdXJjZSB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEJvYXJkQXJlYTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNoYXJ0U3RhY2tzOiBDaGFydFN0YWNrW10gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRpbWVBeGlzOiBUaW1lQXhpcztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRpbWVBeGlzQ29tcG9uZW50OiBUaW1lQXhpc0NvbXBvbmVudDtcblxuICAgIHByaXZhdGUgb3JpZ2luYWxVaWQ6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgb3JpZ2luYWxOYW1lOiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIG9yaWdpbmFsRGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByaXZhdGUgcHJpbWFyeURhdGFTb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRhdGFTb3VyY2VzOiBJSGFzaFRhYmxlPElEYXRhU291cmNlPENhbmRsZXN0aWNrPj4gPSB7IH07XG4gICAgcHJpdmF0ZSByZWFkb25seSBpbmRpY2F0b3JzOiBJSGFzaFRhYmxlPElEYXRhU291cmNlPENhbmRsZXN0aWNrPj4gPSB7IH07XG4gICAgcHJpdmF0ZSByZWFkb25seSBpbmRpY2F0b3JEZXNjcmlwdGlvbnM6IEluZGljYXRvckRlc2NyaXB0aW9uW11bXSA9IFtdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZGF0YVNvdXJjZVJlZ2lzdGVyID0gbmV3IERhdGFTb3VyY2VSZWdpc3RlcigpO1xuXG4gICAgcHJpdmF0ZSBzdGF0ZTogSVN0YXRlQ29udHJvbGxlcjtcbiAgICBwcml2YXRlIHN0b3JhZ2VNZ3I6IFN0b3JhZ2VNYW5hZ2VyO1xuICAgIHByaXZhdGUgZGF0YVNlcnZpY2U/OiBJRGF0YVNlcnZpY2U7XG4gICAgcHJvdGVjdGVkIHRpbWVSYW5nZTogSVJhbmdlPERhdGU+O1xuXG4gICAgLy8gUHVibGljIEV2ZW50c1xuICAgIHB1YmxpYyBnZXQgb2JqZWN0U2VsZWN0ZWQoKTogSUV2ZW50PE9iamVjdEV2ZW50QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIEV2ZW50cy5pbnN0YW5jZS5vYmplY3RTZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IG9iamVjdFRyZWVDaGFuZ2VkKCk6IElFdmVudDxFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiBFdmVudHMuaW5zdGFuY2Uub2JqZWN0VHJlZUNoYW5nZWQ7XG4gICAgfVxuXG4gICAgLy8gLS0gRW5kIG9mIFwiUHVibGljIEV2ZW50c1wiIC0tXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgICAgICBvZmZzZXRMZWZ0OiBudW1iZXIsXG4gICAgICAgIG9mZnNldFRvcDogbnVtYmVyLFxuICAgICAgICB3OiBudW1iZXIsXG4gICAgICAgIGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCxcbiAgICAgICAgc3RvcmFnZT86IElTdG9yYWdlLFxuICAgICAgICBkYXRhU2VydmljZT86IElEYXRhU2VydmljZVxuICAgICkge1xuICAgICAgICBzdXBlcih7IHg6IG9mZnNldExlZnQsIHk6IG9mZnNldFRvcH0sIHsgd2lkdGg6IE1hdGgubWF4KHcsIDEwMCksIGhlaWdodDogTWF0aC5tYXgoaCwgNTApfSk7XG5cbiAgICAgICAgY29uc3QgTiA9IDU7XG4gICAgICAgIHRoaXMuc3RvcmFnZU1nciA9IG5ldyBTdG9yYWdlTWFuYWdlcihzdG9yYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhU2VydmljZSA9IGRhdGFTZXJ2aWNlO1xuICAgICAgICB0aGlzLmFyZWEgPSBuZXcgQm9hcmRBcmVhKGNvbnRhaW5lciwgdGhpcy5fc2l6ZSk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBzdGFydC5zZXRVVENIb3VycyhzdGFydC5nZXRVVENIb3VycygpIC0gMik7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgdGhpcy50aW1lUmFuZ2UgPSB7IHN0YXJ0OiBzdGFydCwgZW5kOiBub3cgfTtcbiAgICAgICAgdGhpcy50aW1lQXhpcyA9IG5ldyBUaW1lQXhpcyhpbnRlcnZhbCwgbm93LCBOLCB0aGlzLmFyZWEuY2hhcnRMZW5ndGgpO1xuICAgICAgICB0aGlzLnRpbWVBeGlzLmxvYWRpbmdSYW5nZS5vbih0aGlzLm9uTG9hZGluZ1JhbmdlKTtcblxuICAgICAgICB0aGlzLnRpbWVBeGlzQ29tcG9uZW50ID0gbmV3IFRpbWVBeGlzQ29tcG9uZW50KHRoaXMuYXJlYSwgdGhpcy50aW1lQXhpcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lQXhpc0NvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1haW4gY2hhcnQgYXJlYS5cbiAgICAgICAgLy8gQ3JlYXRlIGVtcHR5IHN0b3JlIGNvbnRhaW5lciBhcyB0aGUgYXNzZXQgcGFpciBpcyBub3Qgc2V0IHlldC5cbiAgICAgICAgY29uc3QgY2hhcnRTdGFjayA9IG5ldyBDaGFydFN0YWNrKFVpZFV0aWxzLk5FV1VJRCgpLCB0aGlzLmFyZWEsIHRoaXMudGltZUF4aXMsIHRydWUsIG5ldyBTdG9yZUNvbnRhaW5lcigpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrcy5wdXNoKGNoYXJ0U3RhY2spO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNoYXJ0U3RhY2spO1xuXG4gICAgICAgIC8vIEhvb2sgdXAgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCB0aGlzLm9uTW91c2VXaGVlbCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbk1vdXNlV2hlZWwsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSwgZmFsc2UpO1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5tb3VzZW1vdmUodGhyb3R0bGUodGhpcy5vbk1vdXNlTW92ZSwgMTApKTtcblxuICAgICAgICAvLyBHbyB0byBkZWZhdWx0IHN0YXRlXG4gICAgICAgIHRoaXMuc3RhdGUgPSBIb3ZlclN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc3RhY2tzKCk6IElDaGFydFN0YWNrW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFN0YWNrcy5zbGljZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPYmplY3RCeUlkKHVpZDogc3RyaW5nKTogYW55fHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3Qgc3RhY2sgb2YgdGhpcy5jaGFydFN0YWNrcykge1xuICAgICAgICAgICAgaWYgKHN0YWNrLnVpZCA9PT0gdWlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGFydCBvZiBzdGFjay5jaGFydHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudWlkID09PSB1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlndXJlIG9mIHN0YWNrLmZpZ3VyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlndXJlLnVpZCA9PT0gdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWd1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENoYXJ0PFQ+KHVpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGNoYXJ0VHlwZTogc3RyaW5nLCBkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pIHtcbiAgICAgICAgLy8gUHJlbG9hZCBkYXRhIHJhbmdlXG4gICAgICAgIGRhdGFTb3VyY2UubG9hZFJhbmdlKHRoaXMudGltZUF4aXMucmFuZ2Uuc3RhcnQsIHRoaXMudGltZUF4aXMucmFuZ2UuZW5kKTtcblxuICAgICAgICAvLyBUT0RPOiBTdG9yZSBvcmlnaW5hbCBkYXRhc291cmNlXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLmRhdGFTZXJ2aWNlKTtcbiAgICAgICAgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VGYWN0b3J5LkNSRUFURShjaGFydFR5cGUsIGRhdGFTb3VyY2UsIHRoaXMudGltZVJhbmdlLCBjdHgpO1xuXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVJlZ2lzdGVyLnJlZ2lzdGVyKHVpZCwgZGF0YVNvdXJjZSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhcnQodWlkLCBuYW1lLCBjaGFydFR5cGUsIGRhdGFTb3VyY2UpO1xuXG4gICAgICAgIC8vIHJlLXJlbmRlciBjaGFydHNcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydENoYXJ0PFQ+KHVpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGNoYXJ0VHlwZTogc3RyaW5nLCBkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pIHtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2VzW3VpZF0gPSBkYXRhU291cmNlO1xuICAgICAgICAvLyBhZGQgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgZGF0YVNvdXJjZS5kYXRhQ2hhbmdlZC5vbih0aGlzLm9uRGF0YUNoYW5nZWQpO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2tzWzBdLmFkZENoYXJ0KHVpZCwgbmFtZSwgY2hhcnRUeXBlLCBkYXRhU291cmNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlbGV0ZUNoYXJ0KHVpZDogc3RyaW5nKSB7XG4gICAgICAgIC8vIGdldCBkYXRhIHNvdXJjZVxuICAgICAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kYXRhU291cmNlc1t1aWRdO1xuICAgICAgICBpZiAoZGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgZGF0YVNvdXJjZS5kYXRhQ2hhbmdlZC5vZmYodGhpcy5vbkRhdGFDaGFuZ2VkKTtcbiAgICAgICAgICAgIC8vIFRPRE86IENoYXJ0IGNhbiBiZSBub3Qgb25seSBvbiBmaXJzdCBzdGFja1xuICAgICAgICAgICAgdGhpcy5jaGFydFN0YWNrc1swXS5yZW1vdmVDaGFydCh1aWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIC8vIHJlLXJlbmRlciBjaGFydHNcbiAgICAgICAgLy8gdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGF0YVNvdXJjZSh1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjaGFydFR5cGU6IHN0cmluZywgZGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+KSB7XG5cbiAgICAgICAgdGhpcy5vcmlnaW5hbERhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVWlkID0gdWlkO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTmFtZSA9IG5hbWU7XG5cbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMuZGF0YVNlcnZpY2UpO1xuICAgICAgICBkYXRhU291cmNlID0gRGF0YVNvdXJjZUZhY3RvcnkuQ1JFQVRFKGNoYXJ0VHlwZSwgZGF0YVNvdXJjZSwgdGhpcy50aW1lUmFuZ2UsIGN0eCk7XG5cbiAgICAgICAgdGhpcy50aW1lQXhpcy5zZXREYXRhU291cmNlKGRhdGFTb3VyY2UpO1xuXG4gICAgICAgIGNvbnN0IHN0YWNrU3RvcmFnZSA9IHRoaXMuZ2V0U3RhY2tTdG9yYWdlKHVpZCwgMCk7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFja3NbMF0uc2V0U3RvcmUoc3RhY2tTdG9yYWdlKTtcblxuICAgICAgICAvLyByZXBsYWNlIHByaW1hcnkgZGF0YSBzb3VyY2VcbiAgICAgICAgdGhpcy5kZWxldGVDaGFydCgncHJpbWFyeS1kYXRhLXNvdXJjZScpO1xuICAgICAgICB0aGlzLmluc2VydENoYXJ0PENhbmRsZXN0aWNrPigncHJpbWFyeS1kYXRhLXNvdXJjZScsIG5hbWUsIGNoYXJ0VHlwZSwgZGF0YVNvdXJjZSk7XG4gICAgICAgIHRoaXMucHJpbWFyeURhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuXG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBpbmRpY2F0b3JzIGFuZCByZWNyZWF0ZSBvbiBiYXNlIG9mIG5ldyBkYXRhIHNvdXJjZS5cbiAgICAgICAgdGhpcy5pbmRpY2F0b3JEZXNjcmlwdGlvbnMuZm9yRWFjaCgoYXJyYXksIHN0YWNrSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goKGRlc2MsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVJbmRpY2F0b3IoZGVzYy51aWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SW5kaWNhdG9yKGRlc2MudWlkLCBkZXNjLmluZGljYXRvclR5cGUsIHN0YWNrSW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlLXJlbmRlciBjaGFydHNcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDaGFydFR5cGUoY2hhcnRUeXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxEYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vcmlnaW5hbFVpZCwgdGhpcy5vcmlnaW5hbE5hbWUsIGNoYXJ0VHlwZSwgdGhpcy5vcmlnaW5hbERhdGFTb3VyY2UpOyAvLyBrZWVwIGZpZ3VyZXNcbiAgICAgICAgICAgIC8vIHRoaXMucmVtb3ZlQ2hhcnQoJ3ByaW1hcnktZGF0YS1zb3VyY2UnKTtcbiAgICAgICAgICAgIC8vIHRoaXMuYWRkQ2hhcnQ8Q2FuZGxlc3RpY2s+KCdwcmltYXJ5LWRhdGEtc291cmNlJywgY2hhcnRUeXBlLCB0aGlzLnByaW1hcnlEYXRhU291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgZXhpc3RpbmcgaW5kaWNhdG9ycyBhbmQgcmVjcmVhdGUgb24gYmFzZSBvZiBuZXcgZGF0YSBzb3VyY2UuXG4gICAgfVxuXG4gICAgcHVibGljIHNldFRpbWVSYW5nZShyYW5nZTogSVJhbmdlPERhdGU+KTogdm9pZCB7XG4gICAgICAgIHRoaXMudGltZVJhbmdlID0gcmFuZ2U7XG5cbiAgICAgICAgdGhpcy5wcmltYXJ5RGF0YVNvdXJjZS5zZXRUaW1lUmFuZ2UocmFuZ2UpO1xuICAgICAgICAvLyBmb3IgKGNvbnN0IHVpZCBvZiBPYmplY3Qua2V5cyh0aGlzLmRhdGFTb3VyY2VzKSkge1xuICAgICAgICAvLyAgICAgY29uc3QgZXh0ID0gdGhpcy5leHRlbnNpb25zW3VpZF07XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEluZGljYXRvcih1aWQ6IHN0cmluZywgaW5kaWNhdG9yVHlwZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByaW1hcnlEYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByaW1hcnkgZGF0YSBzb3VyY2UgaXMgbm90IHNldCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnNlcnRJbmRpY2F0b3IodWlkLCBpbmRpY2F0b3JUeXBlLCBpbmRleCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGluZGljYXRvcidzIGRlc2NyaXB0aW9uXG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMuaW5kaWNhdG9yRGVzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgaWYgKCFhcnIpIHsgdGhpcy5pbmRpY2F0b3JEZXNjcmlwdGlvbnNbaW5kZXhdID0gW107IH1cbiAgICAgICAgdGhpcy5pbmRpY2F0b3JEZXNjcmlwdGlvbnNbaW5kZXhdLnB1c2gobmV3IEluZGljYXRvckRlc2NyaXB0aW9uKHVpZCwgaW5kaWNhdG9yVHlwZSkpO1xuXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIHNpemUgb2YgYWxsIGVsZW1lbnRzXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuX3NpemUud2lkdGgsIHRoaXMuX3NpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlSW5kaWNhdG9yKHVpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdWlkIHx8ICF0aGlzLmluZGljYXRvcnNbdWlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWxldGVJbmRpY2F0b3IodWlkKTtcblxuICAgICAgICAvLyByZW1vdmUgaW5kaWNhdG9yJ3MgZGVzY3JpcHRpb25cbiAgICAgICAgdGhpcy5pbmRpY2F0b3JEZXNjcmlwdGlvbnMuc29tZSgodmFsdWUsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNvbWUoKHYsIGksIGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodi51aWQgPT09IHVpZCkge1xuICAgICAgICAgICAgICAgICAgICBhLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWNhbGN1bGF0ZSBzaXplIG9mIGFsbCBlbGVtZW50c1xuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLl9zaXplLndpZHRoLCB0aGlzLl9zaXplLmhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnNlcnRJbmRpY2F0b3IodWlkOiBzdHJpbmcsIGluZGljYXRvclR5cGU6IHN0cmluZywgaW5kZXg6IG51bWJlcikge1xuICAgICAgICAvLyBDcmVhdGUgaW5kaWNhdG9yXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLmRhdGFTZXJ2aWNlKTtcblxuICAgICAgICBjb25zdCBpbmRpY2F0b3JEYXRhU291cmNlID0gSW5kaWNhdG9yRmFicmljLmluc3RhbmNlLmluc3RhbnRpYXRlKGluZGljYXRvclR5cGUsIHRoaXMucHJpbWFyeURhdGFTb3VyY2UsIGN0eCk7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yc1t1aWRdID0gaW5kaWNhdG9yRGF0YVNvdXJjZTtcbiAgICAgICAgaW5kaWNhdG9yRGF0YVNvdXJjZS5kYXRhQ2hhbmdlZC5vbih0aGlzLm9uRGF0YUNoYW5nZWQpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdGFjay4gVXNlIGV4aXN0aW5nIG9yIGFkZCBuZXcgb25lLlxuICAgICAgICAvL1xuICAgICAgICBsZXQgY2hhcnRTdGFjaztcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmNoYXJ0U3RhY2tzLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGNoYXJ0U3RhY2sgPSB0aGlzLmNoYXJ0U3RhY2tzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5jaGFydFN0YWNrcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBzdGFja1N0b3JhZ2UgPSB0aGlzLmdldFN0YWNrU3RvcmFnZSh0aGlzLm9yaWdpbmFsVWlkLCBpbmRleCk7XG4gICAgICAgICAgICBjaGFydFN0YWNrID0gbmV3IENoYXJ0U3RhY2soVWlkVXRpbHMuTkVXVUlEKCksIHRoaXMuYXJlYSwgdGhpcy50aW1lQXhpcywgdHJ1ZSwgc3RhY2tTdG9yYWdlKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTdGFja3MucHVzaChjaGFydFN0YWNrKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hhcnRTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFydFN0YWNrLmFkZENoYXJ0KHVpZCwgaW5kaWNhdG9yVHlwZSwgaW5kaWNhdG9yVHlwZSwgaW5kaWNhdG9yRGF0YVNvdXJjZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWxldGVJbmRpY2F0b3IodWlkOiBzdHJpbmcpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGluZGljYXRvciBmcm9tIGJvYXJkXG4gICAgICAgIC8vIC4uLiBmaW5kIHN0YWNrXG4gICAgICAgIHRoaXMuY2hhcnRTdGFja3Muc29tZSgoY3MsIHN0YWNrSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChjcy5jaGFydElkcy5pbmRleE9mKHVpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY3MucmVtb3ZlQ2hhcnQodWlkKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGNoYXJ0IHN0YWNrIGlzIGVtcHR5IHJlbW92ZSBpdC4gRG8gbm90IHJlbW92ZSBmaXJzdCBzdGFjay5cbiAgICAgICAgICAgICAgICBpZiAoc3RhY2tJbmRleCAhPT0gMCAmJiBjcy5jaGFydElkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3MuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0U3RhY2tzLnNwbGljZShzdGFja0luZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW1vdmUgaW5kaWNhdG9yXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IHRoaXMuaW5kaWNhdG9yc1t1aWRdO1xuICAgICAgICAvLyAuLi4gdW5zdWJzY3JpYmUgZnJvbSBldmVudHNcbiAgICAgICAgaW5kaWNhdG9yLmRhdGFDaGFuZ2VkLm9mZih0aGlzLm9uRGF0YUNoYW5nZWQpO1xuXG4gICAgICAgIC8vIC4uLiBkaXNwb3NlIGluZGljYXRvclxuICAgICAgICBpbmRpY2F0b3IuZGlzcG9zZSgpO1xuICAgICAgICAvL3RoaXMuaW5kaWNhdG9yc1t1aWRdID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U3RhY2tTdG9yYWdlKGFzc2V0SWQ6IHN0cmluZywgc3RhY2tJbmRleDogbnVtYmVyKTogU3RvcmVDb250YWluZXIge1xuICAgICAgICBjb25zdCBhc3NldHMgPSB0aGlzLnN0b3JhZ2VNZ3Iucm9vdCgpLmdldE9iamVjdFByb3BlcnR5KCdhc3NldHMnKTtcbiAgICAgICAgY29uc3QgYXNzZXQgPSBhc3NldHMuZ2V0T2JqZWN0UHJvcGVydHkoYXNzZXRJZCk7XG4gICAgICAgIGNvbnN0IHN0YWNrcyA9IGFzc2V0LmdldEFycmF5UHJvcGVydHkoJ3N0YWNrcycpO1xuICAgICAgICBjb25zdCBhcnJheVN0YWNrcyA9IHN0YWNrcy5hc0FycmF5KCk7XG4gICAgICAgIHJldHVybiBhcnJheVN0YWNrcy5sZW5ndGggPiAwID8gYXJyYXlTdGFja3NbMF0gOiBzdGFja3MuYWRkSXRlbSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkSW50ZXJ2YWwgPSAoZGF0ZTogRGF0ZSwgdGltZXM6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gRGF0ZVV0aWxzLmFkZEludGVydmFsKGRhdGUsIHRoaXMudGltZUF4aXMuaW50ZXJ2YWwsIHRpbWVzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycyh0cnVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckxheWVycyhyZW5kZXJCYXNlOiBib29sZWFuLCByZW5kZXJGcm9udDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICByZW5kZXJCYXNlID0gcmVuZGVyQmFzZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlbmRlckJhc2U7XG4gICAgICAgIHJlbmRlckZyb250ID0gcmVuZGVyRnJvbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiByZW5kZXJGcm9udDtcblxuICAgICAgICBpZiAocmVuZGVyQmFzZSkgeyB0aGlzLmFyZWEuY2xlYXJCYXNlKCk7IH1cbiAgICAgICAgaWYgKHJlbmRlckZyb250KSB7IHRoaXMuYXJlYS5jbGVhckZyb250KCk7IH1cblxuICAgICAgICAvLyBNb3VzZSBwb3NpdGlvblxuICAgICAgICBjb25zdCByZWxNb3VzZSA9IHRoaXMubW91c2UuaXNFbnRlcmVkID8gdGhpcy5tb3VzZS5wb3Muc3ViKHRoaXMub2Zmc2V0KSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBSZW5kZXIgc3RhY2tzXG4gICAgICAgIGZvciAoY29uc3QgY1N0YWNrIG9mIHRoaXMuY2hhcnRTdGFja3MpIHtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgcmVuZGVyaW5nIG9iamVjdHM6IGxvY2F0b3IgYW5kIGNvbnRleHQuXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0OiBWaXN1YWxDb250ZXh0ID0gbmV3IFZpc3VhbENvbnRleHQoXG4gICAgICAgICAgICAgICAgcmVuZGVyQmFzZSxcbiAgICAgICAgICAgICAgICByZW5kZXJGcm9udFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNTdGFjay5yZW5kZXIoY29udGV4dCwgUmVuZGVyTG9jYXRvci5JbnN0YW5jZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW5kZXIgdGltZSBheGlzXG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IFZpc3VhbENvbnRleHQgPSBuZXcgVmlzdWFsQ29udGV4dChcbiAgICAgICAgICAgIHJlbmRlckJhc2UsXG4gICAgICAgICAgICByZW5kZXJGcm9udFxuICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy50aW1lQXhpc0NvbXBvbmVudC5yZW5kZXIoY29udGV4dCwgUmVuZGVyTG9jYXRvci5JbnN0YW5jZSk7XG5cbiAgICAgICAgLy8gU3dhcCByZW5kZXIgbGF5ZXJzXG4gICAgICAgIHRoaXMuYXJlYS5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHcgPSBNYXRoLm1heCh3LCAxMDApO1xuICAgICAgICBoID0gTWF0aC5tYXgoaCwgNTApO1xuXG4gICAgICAgIHRoaXMuX3NpemUgPSB7IHdpZHRoOiB3LCBoZWlnaHQ6IGggfTtcblxuICAgICAgICB0aGlzLmFyZWEucmVzaXplKHcsIGgpO1xuXG4gICAgICAgIHRoaXMudGltZUF4aXMud2lkdGggPSB0aGlzLmFyZWEuY2hhcnRMZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRpbWVJbnRlcnZhbChpbnRlcnZhbDogVGltZUludGVydmFsKSB7XG4gICAgICAgIGlmIChpbnRlcnZhbCkge1xuICAgICAgICAgICAgdGhpcy50aW1lQXhpcy5pbnRlcnZhbCA9IGludGVydmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkRhdGFDaGFuZ2VkID0gKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuXG4gICAgICAgIC8vIENoZWNrIGlmIG5lZWQgdG8gYXV0b21vdmUgdGltZSByYW5nZVxuICAgICAgICAvLyBpZiAoYXJnLmxhc3REYXRlQmVmb3JlICYmIGFyZy5sYXN0RGF0ZUFmdGVyXG4gICAgICAgIC8vICAgICAmJiB0aGlzLmZyYW1lLmNvbnRhaW5zKGFyZy5sYXN0RGF0ZUJlZm9yZSlcbiAgICAgICAgLy8gICAgICYmICF0aGlzLmZyYW1lLmNvbnRhaW5zKGFyZy5sYXN0RGF0ZUFmdGVyKSkge1xuXG4gICAgICAgIC8vICAgICAvL3RoaXMuZnJhbWUubW92ZVRvKGFyZy5sYXN0RGF0ZUFmdGVyKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvL3RoaXMuZnJhbWUuYXV0b21vdmUoYXJnKTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Mb2FkaW5nUmFuZ2UgPSAoYXJnOiBMb2FkUmFuZ2VBcmd1bWVudCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmRhdGFTb3VyY2VzKSkge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gJ3ByaW1hcnktZGF0YS1zb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHMgPSB0aGlzLmRhdGFTb3VyY2VzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKGFyZy5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHMubG9hZFJhbmdlKGFyZy5zdGFydCwgYXJnLmVuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmcuY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHMubG9hZChhcmcuc3RhcnQsIGFyZy5jb3VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb250ZXh0KGRhdGFTZXJ2aWNlOiBJRGF0YVNlcnZpY2V8dW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkSW50ZXJ2YWw6IHRoaXMuYWRkSW50ZXJ2YWwsXG4gICAgICAgICAgICBpbnRlcnZhbDogKCk6IFRpbWVJbnRlcnZhbCA9PiB7IHJldHVybiB0aGlzLnRpbWVBeGlzLmludGVydmFsOyB9LFxuICAgICAgICAgICAgZ2V0Q2FuZGxlOiAoYXNzZXQ6IHN0cmluZywgZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhU2VydmljZSkgeyByZXR1cm4gZGF0YVNlcnZpY2UuZ2V0Q2FuZGxlKGFzc2V0LCBkYXRlLCBpbnRlcnZhbCk7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Q2FuZGxlc3RpY2s+KHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVuZGVyOiAoKSA9PiB7IHNlbGYucmVuZGVyKCk7IH0sXG4gICAgICAgICAgICByZWdpc3RlcjogdGhpcy5kYXRhU291cmNlUmVnaXN0ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1vdXNlOiBNb3VzZSA9IG5ldyBNb3VzZSgpO1xuICAgIHByaXZhdGUgaWdub3JlTmV4dE1vdmUgPSBmYWxzZTtcblxuICAgIHByaXZhdGUgb25Nb3VzZVdoZWVsID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGZhbHNlID09ICEhZXZlbnQpIHsgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7IH1cblxuICAgICAgICB0aGlzLnN0YXRlLm9uTW91c2VXaGVlbCh0aGlzLCBldmVudCk7XG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gKChldmVudC53aGVlbERlbHRhKSA/IGV2ZW50LndoZWVsRGVsdGEgLyAxMjAgOiBldmVudC5kZXRhaWwgLyAtMykgfHwgMDtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50aW1lQXhpcy5zY2FsZShkaXJlY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZU1vdmUgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAvLyBoYW5kbGUgY2hyb21lIGJlaGF2aW9yOiBjbGljayA9IGRvd24gKyBtb3ZlICsgdXBcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlTmV4dE1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuaWdub3JlTmV4dE1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFt0aGlzLm1vdXNlLnBvcy54LCB0aGlzLm1vdXNlLnBvcy55XSA9IFtldmVudC5wYWdlWCwgZXZlbnQucGFnZVldO1xuXG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZU1vdmUodGhpcywgdGhpcy5tb3VzZSk7XG5cbiAgICAgICAgc3VwZXIuaGFuZGVNb3VzZSh0aGlzLm1vdXNlLnBvcy54IC0gdGhpcy5vZmZzZXQueCwgdGhpcy5tb3VzZS5wb3MueSAtIHRoaXMub2Zmc2V0LnkpO1xuXG4gICAgICAgIC8vRXZlbnRzLmluc3RhbmNlLm1vdXNlTW92ZS50cmlnZ2VyKG5ldyBNb3VzZUV2ZW50QXJndW1lbnQodGhpcy5tb3VzZSkpO1xuXG4gICAgICAgIGlmICh0aGlzLm1vdXNlLmlzRW50ZXJlZCAmJiB0aGlzLm1vdXNlLmlzRG93bikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcnModHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3VzZS5pc0VudGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXJzKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZUVudGVyID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5tb3VzZS5pc0VudGVyZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXRlLm9uTW91c2VFbnRlcih0aGlzLCB0aGlzLm1vdXNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTW91c2VMZWF2ZSA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMubW91c2UuaXNFbnRlcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZUxlYXZlKHRoaXMsIHRoaXMubW91c2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZVVwID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5pZ25vcmVOZXh0TW92ZSA9IHRydWU7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZVVwKHRoaXMsIHRoaXMubW91c2UpO1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycyhmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlRG93biA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBoaXRTdGFjayA9IHRoaXMuZ2V0SGl0U3RhY2soKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5vbk1vdXNlRG93bih0aGlzLCB0aGlzLm1vdXNlLCBoaXRTdGFjayk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVYKGRpZmZYOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aW1lQXhpcy5tb3ZlKGRpZmZYKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SGl0U3RhY2soKTogQ2hhcnRTdGFjayB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGxvY2FsWCA9IHRoaXMubW91c2UucG9zLnggLSB0aGlzLm9mZnNldC54O1xuICAgICAgICBjb25zdCBsb2NhbFkgPSB0aGlzLm1vdXNlLnBvcy55IC0gdGhpcy5vZmZzZXQueTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNTdGFjayBvZiB0aGlzLmNoYXJ0U3RhY2tzKSB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVggPSBsb2NhbFggLSBjU3RhY2sub2Zmc2V0Lng7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVkgPSBsb2NhbFkgLSBjU3RhY2sub2Zmc2V0Lnk7XG5cbiAgICAgICAgICAgIGlmIChyZWxhdGl2ZVggPj0gMCAmJiByZWxhdGl2ZVggPCBjU3RhY2suc2l6ZS53aWR0aFxuICAgICAgICAgICAgICAgICYmIHJlbGF0aXZlWSA+PSAwICYmIHJlbGF0aXZlWSA8IGNTdGFjay5zaXplLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjU3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q3Vyc29yKHN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgLy90aGlzLmFyZWEuc2V0Q3Vyc29yKHN0eWxlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ2N1cnNvcicsIHN0eWxlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRyYXdpbmcoKTogSURyYXdpbmcge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoZmlndXJlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKGZpZ3VyZUlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuY2VsKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjaGFuZ2VTdGF0ZShzdGF0ZTogc3RyaW5nIHwgSVN0YXRlQ29udHJvbGxlciwgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0YXRlSW5zdGFuY2U7XG5cbiAgICAgICAgaWYgKGlzU3RhdGVDb250cm9sbGVyKHN0YXRlKSkge1xuICAgICAgICAgICAgc3RhdGVJbnN0YW5jZSA9IHN0YXRlO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHN0YXRlSW5zdGFuY2UgPSBTdGF0ZUZhYnJpYy5pbnN0YW5jZS5nZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXRlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgaXMgbm90IGRlZmluZWQgZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGVJZCAnJHsgc3RhdGUgfSdgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhpdFN0YWNrID0gdGhpcy5nZXRIaXRTdGFjaygpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUuZGVhY3RpdmF0ZSh0aGlzLCB0aGlzLm1vdXNlKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlSW5zdGFuY2U7XG4gICAgICAgIHRoaXMuc3RhdGUuYWN0aXZhdGUodGhpcywgdGhpcy5tb3VzZSwgaGl0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy5pZ25vcmVOZXh0TW92ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFwiSVNvdXJjZVwiIGltcGxlbWVudGF0aW9uLiBXb3JrcyB3aXRoIHByaW1hcnkgZGF0YSBzb3VyY2UuXG4gICAgICovXG5cbiAgICBwdWJsaWMgZ2V0SEhMTCh1aWRGcm9tOiBVaWQsIHVpZFRvOiBVaWQpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5RGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeURhdGFTb3VyY2UuZ2V0SEhMTCh1aWRGcm9tLCB1aWRUbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGFzdENhbmRsZSgpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5RGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeURhdGFTb3VyY2UuZ2V0TGFzdENhbmRsZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDaGFydFN0YWNrIGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzLCBQcmljZUF4aXMgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIEV2ZW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJQ29vcmRzQ29udmVydGVyLCBJU291cmNlLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBJVmlzdWFsQ29tcG9uZW50LCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9XG4gICAgZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJRGF0YVNvdXJjZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSwgQm9hcmRBcmVhLCBDaGFydEFyZWEsIFNpemVDaGFuZ2VkQXJndW1lbnQgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVJhbmdlLCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICcuL0NoYXJ0JztcbmltcG9ydCB7IENyb3NzaGFpciB9IGZyb20gJy4vQ3Jvc3NoYWlyJztcbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRmlndXJlQ29tcG9uZW50JztcbmltcG9ydCB7IEZpZ3VyZUZhY3RvcnkgfSBmcm9tICcuL0ZpZ3VyZUZhY3RvcnknO1xuaW1wb3J0IHsgR3JpZCB9IGZyb20gJy4vR3JpZCc7XG5pbXBvcnQgeyBJQ2hhcnQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUZpZ3VyZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOdW1iZXJBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9OdW1iZXJBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFByaWNlQXhpc0NvbXBvbmVudCB9IGZyb20gJy4vUHJpY2VBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFF1aWNrdGlwQnVpbGRlciB9IGZyb20gJy4vUXVpY2t0aXAnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcnRTdGFjayBleHRlbmRzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElDaGFydFN0YWNrLCBJQ29vcmRzQ29udmVydGVyLCBJQ29uZmlndXJhYmxlLCBJQ2hhcnRpbmdTZXR0aW5ncyB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF91aWQ6IHN0cmluZztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGJvYXJkQXJlYTogQm9hcmRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQ2hhcnRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcXRCdWlsZGVyOiBRdWlja3RpcEJ1aWxkZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0QXhpczogSVRpbWVBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXM6IElBeGlzPG51bWJlcj47XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY2hhcnRzOiBJQ2hhcnRbXSA9IFtdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY3Jvc3NoYWlyOiBDcm9zc2hhaXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkOiBHcmlkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZpZ3VyZXM6IEZpZ3VyZUNvbXBvbmVudFtdID0gW107XG4gICAgcHJpdmF0ZSByZWFkb25seSB5QXhpc0NvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50O1xuICAgIHByaXZhdGUgX3ByZWNpc2lvbjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHNvdXJjZT86IElTb3VyY2U7XG4gICAgcHJpdmF0ZSBzdG9yZTogU3RvcmVDb250YWluZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdWlkOiBzdHJpbmcsXG4gICAgICAgIGJvYXJkQXJlYTogQm9hcmRBcmVhLFxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICB5SXNQcmljZTogYm9vbGVhbixcbiAgICAgICAgc3RvcmU6IFN0b3JlQ29udGFpbmVyLFxuICAgICAgICBzb3VyY2U/OiBJU291cmNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5fdWlkID0gdWlkO1xuICAgICAgICB0aGlzLmJvYXJkQXJlYSA9IGJvYXJkQXJlYTtcbiAgICAgICAgdGhpcy50QXhpcyA9IHRpbWVBeGlzO1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLmFyZWEgPSBib2FyZEFyZWEuYWRkQ2hhcnQoKTtcbiAgICAgICAgdGhpcy5hcmVhLnNpemVDaGFuZ2VkLm9uKHRoaXMub25yZXNpemUpO1xuXG4gICAgICAgIHRoaXMuX29mZnNldCA9IG5ldyBQb2ludCh0aGlzLmFyZWEub2Zmc2V0LngsIHRoaXMuYXJlYS5vZmZzZXQueSk7XG4gICAgICAgIHRoaXMuX3NpemUgPSB0aGlzLmFyZWEuc2l6ZTtcblxuICAgICAgICB0aGlzLnF0QnVpbGRlciA9IG5ldyBRdWlja3RpcEJ1aWxkZXIodGhpcy5hcmVhLnF0aXBDb250YWluZXIpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBZIGF4aXNcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRBeGlzU2l6ZSh0aGlzLl9zaXplKTtcblxuICAgICAgICBpZiAoeUlzUHJpY2UpIHtcbiAgICAgICAgICAgIHRoaXMueUF4aXMgPSBuZXcgUHJpY2VBeGlzKHNpemUuaGVpZ2h0LCAwLjAwMDEpO1xuICAgICAgICAgICAgdGhpcy55QXhpc0NvbXBvbmVudCA9IG5ldyBQcmljZUF4aXNDb21wb25lbnQodGhpcy5hcmVhLCA8UHJpY2VBeGlzPnRoaXMueUF4aXMsIHAsIHNpemUsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy55QXhpcyA9IG5ldyBOdW1iZXJBeGlzKHNpemUuaGVpZ2h0LCAwLjAwMDEpO1xuICAgICAgICAgICAgdGhpcy55QXhpc0NvbXBvbmVudCA9IG5ldyBOdW1iZXJBeGlzQ29tcG9uZW50KHRoaXMuYXJlYSwgPE51bWJlckF4aXM+dGhpcy55QXhpcywgcCwgc2l6ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMueUF4aXNDb21wb25lbnQpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBjcm9zc2hhaXJcbiAgICAgICAgLy8gVE9ETzogdGhpcy5fc2l6ZSA9IGNoYXJ0IHNpemUgKyBZQXhpcy5zaXplXG4gICAgICAgIHRoaXMuY3Jvc3NoYWlyID0gbmV3IENyb3NzaGFpcih0aGlzLmFyZWEsIHt4OiAwLCB5OiAwfSwgdGhpcy5fc2l6ZSwgdGhpcy50QXhpcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5jcm9zc2hhaXIpO1xuXG4gICAgICAgIC8vIGFkZCBncmlkXG4gICAgICAgIC8vIFRPRE86IHRoaXMuX3NpemUgPSBjaGFydCBzaXplICsgWUF4aXMuc2l6ZVxuICAgICAgICB0aGlzLmdyaWQgPSBuZXcgR3JpZCh0aGlzLmFyZWEsIHt4OiAwLCB5OiAwfSwgdGhpcy5fc2l6ZSwgdGhpcy50QXhpcywgdGhpcy55QXhpcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5ncmlkKTtcblxuICAgICAgICB0aGlzLmFwcGx5U2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHVpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdWlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXhpc1NpemUoc2l6ZTogSVNpemUpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHNpemUud2lkdGggLCBoZWlnaHQ6IHNpemUuaGVpZ2h0ID4gMjAgPyBzaXplLmhlaWdodCAtIDIwIDogc2l6ZS5oZWlnaHQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGNoYXJ0IGFyZWFcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5hcmVhLnNpemVDaGFuZ2VkLm9mZih0aGlzLm9ucmVzaXplKTtcbiAgICAgICAgdGhpcy5ib2FyZEFyZWEucmVtb3ZlKHRoaXMuYXJlYSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250YWluZWQgY2hhcnRzJyBpZGVudGlmaWVycy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGNoYXJ0SWRzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYXJ0cy5tYXAoYyA9PiBjLnVpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjaGFydHMoKTogSUNoYXJ0W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhcnRzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaWd1cmVzKCk6IElGaWd1cmVbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWd1cmVzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENoYXJ0PFQ+KHVpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGNoYXJ0VHlwZTogc3RyaW5nLCBkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcXRpcCA9IHRoaXMucXRCdWlsZGVyLmFkZFF1aWNrdGlwKHVpZCk7XG5cbiAgICAgICAgY29uc3QgbmV3Q2hhcnQgPSBuZXcgQ2hhcnQodWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJlYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50QXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KDAsIDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UsIHRoaXMueUF4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF0aXApO1xuICAgICAgICB0aGlzLl9jaGFydHMucHVzaChuZXdDaGFydCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3Q2hhcnQpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQ2hhcnRpbmdTZXR0aW5ncygpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDaGFydCh1aWQ6IHN0cmluZykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NoYXJ0c1tpXS51aWQgPT09IHVpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoPGFueT50aGlzLl9jaGFydHNbaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdEJ1aWxkZXIucmVtb3ZlUXVpY2t0aXAodWlkKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0aW5nU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRmlndXJlKGZpZ3VyZVR5cGU6IHN0cmluZyk6IEZpZ3VyZUNvbXBvbmVudCB7XG5cbiAgICAgICAgY29uc3QgZmlndXJlcyA9IHRoaXMuc3RvcmUuZ2V0QXJyYXlQcm9wZXJ0eSgnZmlndXJlcycpO1xuICAgICAgICBjb25zdCBmaWd1cmVEZXNjID0gZmlndXJlcy5hZGRJdGVtKCk7XG4gICAgICAgIGZpZ3VyZURlc2Muc2V0UHJvcGVydHkoJ3R5cGUnLCBmaWd1cmVUeXBlKTtcbiAgICAgICAgLy9maWd1cmVEZXNjLnNldFByb3BlcnR5KCd1aWQnLCB1aWQpO1xuICAgICAgICBjb25zdCBmaWd1cmVDb250YWluZXIgPSBmaWd1cmVEZXNjLmdldE9iamVjdFByb3BlcnR5KCdmaWd1cmUnKTtcblxuICAgICAgICBjb25zdCBmaWd1cmUgPSB0aGlzLmNyZWF0ZUZpZ3VyZShmaWd1cmVUeXBlLCBmaWd1cmVDb250YWluZXIpO1xuXG4gICAgICAgIEV2ZW50cy5pbnN0YW5jZS5vYmplY3RUcmVlQ2hhbmdlZC50cmlnZ2VyKCk7XG4gICAgICAgIHJldHVybiBmaWd1cmU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUZpZ3VyZXMoKSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gdGhpcy5fY2hpbGRyZW4uZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICAgICAgICAgcmV0dXJuICEodmFsdWUgaW5zdGFuY2VvZiBGaWd1cmVDb21wb25lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U3RvcmUoc3RvcmU6IFN0b3JlQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcblxuICAgICAgICB0aGlzLnJlbG9hZEZpZ3VyZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcsIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIpOiBGaWd1cmVDb21wb25lbnQge1xuICAgICAgICBjb25zdCBmaWd1cmUgPSBGaWd1cmVGYWN0b3J5Lmluc3RhbmNlXG4gICAgICAgICAgICAuaW5zdGFudGlhdGUoZmlndXJlVHlwZSwgdGhpcy5hcmVhLCB7IHg6IDAsIHk6IDAgfSwgdGhpcy5zaXplLCB0aGlzLCB0aGlzLnRBeGlzLCB0aGlzLnlBeGlzLCBjb250YWluZXIsIHRoaXMuc291cmNlKTtcblxuICAgICAgICB0aGlzLl9maWd1cmVzLnB1c2goZmlndXJlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChmaWd1cmUpOyAvLyB0byB0aGUgZW5kXG5cbiAgICAgICAgcmV0dXJuIGZpZ3VyZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbG9hZEZpZ3VyZXMoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRmlndXJlcygpO1xuXG4gICAgICAgIGNvbnN0IGZpZ3VyZXMgPSB0aGlzLnN0b3JlLmdldEFycmF5UHJvcGVydHkoJ2ZpZ3VyZXMnKTtcbiAgICAgICAgZm9yIChjb25zdCBmaWd1cmVEZXNjIG9mIGZpZ3VyZXMuYXNBcnJheSgpKSB7XG4gICAgICAgICAgICAvLyBhZGQgZmlndXJlXG4gICAgICAgICAgICBjb25zdCBmaWd1cmVUeXBlID0gZmlndXJlRGVzYy5nZXRQcm9wZXJ0eSgndHlwZScpO1xuICAgICAgICAgICAgY29uc3QgZmlndXJlQ29udGFpbmVyID0gZmlndXJlRGVzYy5nZXRPYmplY3RQcm9wZXJ0eSgnZmlndXJlJyk7XG4gICAgICAgICAgICAvL2NvbnN0IHVpZCA9IGZpZ3VyZURlc2MuZ2V0UHJvcGVydHkoJ3VpZCcpO1xuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZpZ3VyZShmaWd1cmVUeXBlLCBmaWd1cmVDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHByZWNpc2lvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJlY2lzaW9uO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlbmFtZVxuICAgIHB1YmxpYyBtb3VzZVRvQ29vcmRzKGxvY2FsWDogbnVtYmVyLCBsb2NhbFk6IG51bWJlcik6IENoYXJ0UG9pbnQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1godmFsdWU6IFVpZCk6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy50QXhpcy50b1godmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB4VG9WYWx1ZSh4OiBudW1iZXIpOiBVaWR8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudEF4aXMudG9WYWx1ZSh4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9ZKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy55QXhpcy50b1godmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB5VG9WYWx1ZSh5OiBudW1iZXIpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy55QXhpcy50b1ZhbHVlKHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1hZKHBvaW50OiBJQ2hhcnRQb2ludCk6IElQb2ludHx1bmRlZmluZWQge1xuICAgICAgICBpZiAocG9pbnQudWlkICYmIHBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMudG9YKHBvaW50LnVpZCk7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy50b1kocG9pbnQudik7XG4gICAgICAgICAgICByZXR1cm4geCAhPT0gdW5kZWZpbmVkID8geyB4OiB4LCB5OiB5IH0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgeHlUb1ZhbHVlKHBvaW50OiBJUG9pbnQpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1aWQ6IHRoaXMueFRvVmFsdWUocG9pbnQueCksXG4gICAgICAgICAgICB2OiB0aGlzLnlUb1ZhbHVlKHBvaW50LnkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZml4ZWRSYW5nZTogSVJhbmdlPG51bWJlcj4gfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIHNldEZpeGVkUmFuZ2UocmFuZ2U6IElSYW5nZTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMuX2ZpeGVkUmFuZ2UgPSByYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgaWYgKGNvbnRleHQucmVuZGVyQmFzZSkgIHtcbiAgICAgICAgICAgIC8vIDEuIFVwZGF0ZSB5IGF4aXMgYmVmb3JlIHJlbmRlcmluZyBjaGFydHNcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpeGVkUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGlzLnJhbmdlID0gdGhpcy5fZml4ZWRSYW5nZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIERhdGFTb3VyY2UuRGVmYXVsdFlSYW5nZSBvciB0YWtlIGxhc3Qga25vd24gZGF0YTpcbiAgICAgICAgICAgICAgICBjb25zdCB5UmFuZ2UgPSB7IHN0YXJ0OiBOdW1iZXIuTUFYX1ZBTFVFLCBlbmQ6IE51bWJlci5NSU5fVkFMVUUgfTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoYXJ0IG9mIHRoaXMuX2NoYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXNSYW5nZSA9IGNoYXJ0LmdldFZhbHVlc1JhbmdlKHRoaXMudEF4aXMucmFuZ2UpOyAvL3RoaXMudEF4aXMucmFuZ2UsIHRoaXMudEF4aXMuaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNSYW5nZS5lbmQgPiB5UmFuZ2UuZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5UmFuZ2UuZW5kID0gdmFsdWVzUmFuZ2UuZW5kO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNSYW5nZS5zdGFydCA8IHlSYW5nZS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeVJhbmdlLnN0YXJ0ID0gdmFsdWVzUmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2hhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhpcy5yYW5nZSA9IHlSYW5nZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGlzLnJhbmdlID0geyBzdGFydDogMCwgZW5kOiAxMDAgfTsgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9ucmVzaXplID0gKGFyZzogU2l6ZUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICBbdGhpcy5fb2Zmc2V0LngsIHRoaXMuX29mZnNldC55XSA9IFt0aGlzLmFyZWEub2Zmc2V0LngsIHRoaXMuYXJlYS5vZmZzZXQueV07XG5cbiAgICAgICAgY29uc3QgdyA9IHRoaXMuYXJlYS5zaXplLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5hcmVhLnNpemUuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEluc3RlYWQgb2YgZGVmYXVsdCByZXNpemUgdXNpbmcgY3VzdG9tIHJlc2l6aW5nXG4gICAgICAgIHRoaXMuX3NpemUgPSB7IHdpZHRoOiB3LCBoZWlnaHQ6IGh9O1xuXG4gICAgICAgIGNvbnN0IGF4aXNTaXplID0gdGhpcy5nZXRBeGlzU2l6ZSh0aGlzLl9zaXplKTtcbiAgICAgICAgKDxhbnk+dGhpcy55QXhpcykubGVuZ3RoID0gYXhpc1NpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnlBeGlzQ29tcG9uZW50LnJlc2l6ZShheGlzU2l6ZS53aWR0aCwgYXhpc1NpemUuaGVpZ2h0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICB2Yy5yZXNpemUodywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcm9zc2hhaXIucmVzaXplKHcsIGgpO1xuICAgICAgICB0aGlzLmdyaWQucmVzaXplKHcsIGgpO1xuXG4gICAgICAgIC8vIHJlc2l6ZSBzZWxmIGFuZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgLy9zdXBlci5yZXNpemUodywgaCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogQ2hhcnRTdGFja1NldHRpbmdzID0gbmV3IENoYXJ0U3RhY2tTZXR0aW5ncygpO1xuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ3N0YWNrc2V0dGluZ3MnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBzZXR0aW5ncy5zZXRTZXR0aW5nKCdzaG93R3JpZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdzaG93R3JpZCcsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Nob3cgZ3JpZCcsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5zaG93R3JpZC50b1N0cmluZygpXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaG93R3JpZCA9IHZhbHVlLmdldFNldHRpbmcoJ3N0YWNrc2V0dGluZ3Muc2hvd0dyaWQnKTtcbiAgICAgICAgaWYgKHNob3dHcmlkKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNob3dHcmlkID0gKHNob3dHcmlkLnZhbHVlID09PSAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBseVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseVNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLmdyaWQudmlzaWJsZSA9IHRoaXMuc2V0dGluZ3Muc2hvd0dyaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDaGFydGluZ1NldHRpbmdzKCkge1xuXG4gICAgICAgIC8vIHNlbGVjdCBtYXhpbXVtIHByZWNpc2lvbiBhbW9uZyBkYXRhIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fcHJlY2lzaW9uID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGFydCBvZiB0aGlzLl9jaGFydHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZWNpc2lvbiA9IE1hdGgubWF4KHRoaXMuX3ByZWNpc2lvbiwgY2hhcnQucHJlY2lzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ2hhcnRTdGFja1NldHRpbmdzIHtcbiAgICBwdWJsaWMgc2hvd0dyaWQgPSB0cnVlO1xufVxuIiwiLyoqXG4gKiBDcm9zc2hhaXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IEV2ZW50cywgSUF4aXMsIElNb3VzZSwgSVRpbWVBeGlzLCBJVmlzdWFsQ29tcG9uZW50LCBNb3VzZUV2ZW50QXJndW1lbnQsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIENyb3NzaGFpciBleHRlbmRzIFZpc3VhbENvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGF4aXM6IElUaW1lQXhpcztcbiAgICBwcml2YXRlIG1vdXNlPzogSU1vdXNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsIHNpemU6IElTaXplLCBheGlzOiBJVGltZUF4aXMpIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcblxuICAgICAgICBFdmVudHMuaW5zdGFuY2UubW91c2VNb3ZlLm9uKHRoaXMub25Nb3VzZU1vdmUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSAge1xuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgLy8gLi4uIGNhbGN1bGF0ZSBtb3VzZSBwb3NpdGlvbiByZWxhdGVkIHRvIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgbW91c2VYID0gdGhpcy5tb3VzZS5wb3MueDtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlWSA9IHRoaXMubW91c2UucG9zLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVpZCA9IHRoaXMuYXhpcy50b1ZhbHVlKG1vdXNlWCk7XG4gICAgICAgICAgICBpZiAodWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdYID0gdGhpcy5heGlzLnRvWCh1aWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IHJlbmRlckxvY2F0b3IuZ2V0Q3Jvc3NoYWlyUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyLnJlbmRlcih0aGlzLmFyZWEuZnJvbnRDYW52YXMsIHsgeDogbmV3WCwgeTogbW91c2VZIH0sIHRoaXMuc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTW91c2VNb3ZlID0gKGV2dDogTW91c2VFdmVudEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMubW91c2UgPSBldnQubW91c2U7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBGaWd1cmVzXG4gKi9cbmltcG9ydCB7IElWaXN1YWxDb21wb25lbnQsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb21wb25lbnQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IFVpZFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgSUZpZ3VyZSwgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQgaW1wbGVtZW50cyBJRmlndXJlIHtcblxuICAgIHByb3RlY3RlZCBpc0hvdmVyZWQgPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgaXNTZWxlY3RlZCA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBfdWlkOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBvZmZzZXQ6IElQb2ludCwgc2l6ZTogSVNpemUsIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy5fdWlkID0gVWlkVXRpbHMuTkVXVUlEKCk7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdWlkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl91aWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlcjtcblxuICAgIHB1YmxpYyBzZXRIb3ZlcmVkKGhvdmVyZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc0hvdmVyZWQgPSBob3ZlcmVkO1xuICAgICAgICBmb3IgKGNvbnN0IHZjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAodmMgaW5zdGFuY2VvZiBGaWd1cmVDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2Yy5zZXRIb3ZlcmVkKGhvdmVyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgICBmb3IgKGNvbnN0IHZjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAodmMgaW5zdGFuY2VvZiBGaWd1cmVDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2Yy5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEZpZ3VyZUZhY3RvcnkgY2xhc3MuXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgSUNoYXJ0aW5nU2V0dGluZ3MgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgSVNvdXJjZSwgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIFN0b3JlQ29udGFpbmVyIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVUeXBlIHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGN1cnZlID0gJ2N1cnZlJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxpbmUgPSAnbGluZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBobGluZSA9ICdobGluZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB2bGluZSA9ICd2bGluZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSByZWN0ID0gJ3JlY3QnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdHJpYW5nbGUgPSAndHJpYW5nbGUnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGF0aCA9ICdwYXRoJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHBpdGNoZm9yayA9ICdwaXRjaGZvcmsnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdGV4dCA9ICd0ZXh0JztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGVsbGlwc2UgPSAnZWxsaXBzZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB0cmVuZGNoYW5uZWwgPSAndHJlbmRjaGFubmVsJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRhdGVyYW5nZSA9ICdkYXRlcmFuZ2UnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZmlib2ZhbiA9ICdmaWJvZmFuJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGZpYm9sZXZlbCA9ICdmaWJvbGV2ZWwnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZmlib3Byb2plY3Rpb24gPSAnZmlib3Byb2plY3Rpb24nO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZmlib3RpbWVwcm9qZWN0aW9uID0gJ2ZpYm90aW1lcHJvamVjdGlvbic7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBnYW5uZmFuID0gJ2dhbm5mYW4nO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgb2hsY3Byb2ogPSAnb2hsY3Byb2onO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWd1cmVDcmVhdG9yIHtcbiAgICBuZXcoYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgdGNvb3JkOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICB2Y29vcmQ6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIsXG4gICAgICAgIHNvdXJjZT86IElTb3VyY2UpOiBGaWd1cmVDb21wb25lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBGaWd1cmVGYWN0b3J5IHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRmlndXJlRmFjdG9yeTtcbiAgICBwcml2YXRlIGN0b3JzOiBJSGFzaFRhYmxlPElGaWd1cmVDcmVhdG9yPiA9IHt9O1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogRmlndXJlRmFjdG9yeSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRmlndXJlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyKGluZGljYXRvcklkOiBzdHJpbmcsIGNyZWF0b3I6IElGaWd1cmVDcmVhdG9yKSB7XG4gICAgICAgIHRoaXMuY3RvcnNbaW5kaWNhdG9ySWRdID0gY3JlYXRvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5zdGFudGlhdGUoXG4gICAgICAgIGZpZ3VyZVR5cGU6IHN0cmluZyxcbiAgICAgICAgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgdGNvb3JkOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICB2Y29vcmQ6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIsXG4gICAgICAgIHNvdXJjZT86IElTb3VyY2UpOiBGaWd1cmVDb21wb25lbnQge1xuXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmN0b3JzW2ZpZ3VyZVR5cGVdO1xuICAgICAgICBpZiAoY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRjb29yZCwgdmNvb3JkLCBjb250YWluZXIsIHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGljYXRvciB3aXRoIGlkPSR7ZmlndXJlVHlwZX0gaXMgbm90IHJlZ2lzdGVyZWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEdyaWQgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIElWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJU2l6ZSwgSVBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIEdyaWQgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHlBeGlzOiBJQXhpczxudW1iZXI+KSB7XG4gICAgICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlICYmIHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgLy9jb25zdCBjYW52YXMgPSBjb250ZXh0LmdldENhbnZhcyh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSByZW5kZXJMb2NhdG9yLmdldEdyaWRSZW5kZXIoKTtcbiAgICAgICAgICAgIHJlbmRlci5yZW5kZXIodGhpcy5hcmVhLmJhc2VDYW52YXMsIHsgeDogMCwgeTogMCwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0IH0sIHRoaXMudGltZUF4aXMsIHRoaXMueUF4aXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElTb3VyY2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9XG4gICAgZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhLCBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBJUmVuZGVyTG9jYXRvciwgUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElSYW5nZSwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9GaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElEcmF3aW5nIHtcbiAgICBzdGFydChmaWd1cmVJZDogc3RyaW5nKTogdm9pZDtcbiAgICBjYW5jZWwoKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2VsZWN0YWJsZSB7XG4gICAgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTZWxlY3RhYmxlKG9iajogYW55KTogb2JqIGlzIElTZWxlY3RhYmxlIHtcbiAgICByZXR1cm4gKDxJU2VsZWN0YWJsZT5vYmopLnNldFNlbGVjdGVkICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhvdmVyYWJsZSB7XG4gICAgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbjtcbiAgICBzZXRIb3ZlcmVkKGhvdmVyZWQ6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNIb3ZlcmFibGUob2JqOiBhbnkpOiBvYmogaXMgSUhvdmVyYWJsZSB7XG4gICAgcmV0dXJuICg8SUhvdmVyYWJsZT5vYmopLmlzSGl0ICE9PSB1bmRlZmluZWRcbiAgICAgJiYgKDxJSG92ZXJhYmxlPm9iaikuc2V0SG92ZXJlZCAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFZGl0YWJsZSB7XG4gICAgZ2V0RWRpdFN0YXRlKCk6IElTdGF0ZUNvbnRyb2xsZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VkaXRhYmxlKG9iajogYW55KTogb2JqIGlzIElFZGl0YWJsZSB7XG4gICAgcmV0dXJuICg8SUVkaXRhYmxlPm9iaikuZ2V0RWRpdFN0YXRlICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0Qm9hcmQge1xuICAgIG9mZnNldDogSVBvaW50O1xuICAgIGNoYW5nZVN0YXRlKHN0YXRlOiBzdHJpbmcgfCBJU3RhdGVDb250cm9sbGVyLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQ7XG4gICAgZm9yRWFjaChkZWxlZ2F0ZTogeyhjb21wb25lbnQ6IFZpc3VhbENvbXBvbmVudCwgYWdncmVnYXRlZE9mZnNldDogSVBvaW50KTogdm9pZCB9LCBjaGlsZHJlbkZpcnN0PzogYm9vbGVhbiwgZGlyZWN0T3JkZXI/OiBib29sZWFuKTogdm9pZDtcbiAgICBtb3ZlWChzaGlmdDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRDdXJzb3Ioc3R5bGU6IHN0cmluZyk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0U3RhY2sgZXh0ZW5kcyBJQ29vcmRzQ29udmVydGVyIHtcbiAgICB1aWQ6IHN0cmluZztcbiAgICBvZmZzZXQ6IElQb2ludDtcbiAgICBjaGFydHM6IElDaGFydFtdO1xuICAgIGZpZ3VyZXM6IElGaWd1cmVbXTtcbiAgICBhZGRGaWd1cmUoZmlndXJlVHlwZTogc3RyaW5nKSA6IEZpZ3VyZUNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2hhcnQge1xuICAgIHVpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwcmVjaXNpb246IG51bWJlcjtcbiAgICBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPjtcbiAgICByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWd1cmUge1xuICAgIHVpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkO1xuICAgIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZDtcblxuICAgIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkO1xuICAgIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhdGVDb250cm9sbGVyKG9iajogYW55KTogb2JqIGlzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHJldHVybiAoPElTdGF0ZUNvbnRyb2xsZXI+b2JqKS5hY3RpdmF0ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICYmICg8SVN0YXRlQ29udHJvbGxlcj5vYmopLmRlYWN0aXZhdGUgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2hhcnRpbmdTZXR0aW5ncyB7XG4gICAgcHJlY2lzaW9uKCk6IG51bWJlcjtcbn1cbiIsIi8qKlxuICogTnVtYmVyQXhpc0NvbXBvbmVudCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgTnVtYmVyQXhpcyB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgSVZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEsIFNpemVDaGFuZ2VkQXJndW1lbnQsIFlBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElBeGVzUmVuZGVyLCBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRpbmdTZXR0aW5ncyB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOdW1iZXJNYXJrZXIgfSBmcm9tICcuL051bWJlck1hcmtlcic7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJBeGlzQ29tcG9uZW50IGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXhpczogTnVtYmVyQXhpcztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IFlBcmVhO1xuICAgIHByaXZhdGUgbW91c2U/OiBQb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBjaGFydEFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgbnVtYmVyQXhpczogTnVtYmVyQXhpcyxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3NcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5heGlzID0gbnVtYmVyQXhpcztcbiAgICAgICAgdGhpcy5hcmVhID0gY2hhcnRBcmVhLmdldFlBcmVhKCk7XG4gICAgICAgIHRoaXMuYXJlYS5zaXplQ2hhbmdlZC5vbih0aGlzLm9ucmVzaXplKTtcblxuICAgICAgICBjb25zdCBwcmljZU1hcmtlciA9IG5ldyBOdW1iZXJNYXJrZXIodGhpcy5hcmVhLCB7eDogMCwgeTogMH0sIHNpemUsIG51bWJlckF4aXMsIHNldHRpbmdzLCB0aGlzLmdldE1hcmtQb3MpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHByaWNlTWFya2VyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGVNb3VzZShyZWxYOiBudW1iZXIsIHJlbFk6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZS54ID0gcmVsWDtcbiAgICAgICAgICAgIHRoaXMubW91c2UueSA9IHJlbFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFBvaW50KHJlbFgsIHJlbFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuaGFuZGVNb3VzZShyZWxYLCByZWxZKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25yZXNpemUgPSAoYXJnOiBTaXplQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMuX3NpemUgPSBhcmcuc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIGlmIChjb250ZXh0LnJlbmRlckJhc2UpIHtcbiAgICAgICAgICAgIC8vY29uc3QgY2FudmFzID0gY29udGV4dC5nZXRDYW52YXModGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gPElBeGVzUmVuZGVyPG51bWJlcj4+cmVuZGVyTG9jYXRvci5nZXRBeGVzUmVuZGVyKCdudW1iZXInKTtcbiAgICAgICAgICAgIHJlbmRlci5yZW5kZXIodGhpcy5hcmVhLmJhc2VDYW52YXMsIHRoaXMuYXhpcywgeyB4OiB0aGlzLm9mZnNldC54LCB5OiB0aGlzLm9mZnNldC55LCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHR9KTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRNYXJrUG9zKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpOiBudW1iZXJ8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2UpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5tb3VzZS55ID4gMCAmJiB0aGlzLm1vdXNlLnkgPCB0aGlzLnNpemUuaGVpZ2h0KSA/IHRoaXMuYXhpcy50b1ZhbHVlKHRoaXMubW91c2UueSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIE51bWJlck1hcmtlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgTnVtYmVyQXhpcyB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIElWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJTWFya1JlbmRlciwgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0aW5nU2V0dGluZ3MgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVyTWFya2VyIGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj47XG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSByZWFkb25seSBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsIHNpemU6IElTaXplLCB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPiwgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLCBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBudW1iZXJ8dW5kZWZpbmVkICkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgICAgICB0aGlzLnlheGlzID0geWF4aXM7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5nZXR0ZXIgPSBnZXR0ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQgfHwgIXRoaXMudmlzaWJsZSkgIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldHRlcihjb250ZXh0LCB0aGlzLnNpemUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJTWFya1JlbmRlcjxudW1iZXI+PnJlbmRlckxvY2F0b3IuZ2V0TWFya1JlbmRlcignbnVtYmVyJyk7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy55YXhpcy50b1godmFsdWUpO1xuICAgICAgICAgICAgcmVuZGVyLnJlbmRlcih0aGlzLmFyZWEuZnJvbnRDYW52YXMsIHZhbHVlLCB7IHg6IDAsIHk6IHkgfSwgdGhpcy5zaXplLCB0aGlzLnNldHRpbmdzLnByZWNpc2lvbigpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogUmVnaW9uTWFya2VyIGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBJVmFsdWVDb29yZENvbnZlcnRlciwgSVZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElNYXJrUmVuZGVyLCBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRpbmdTZXR0aW5ncyB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJSZWdpb25NYXJrZXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IElSYW5nZTxudW1iZXI+fHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEFyZWEsXG4gICAgICAgIG9mZnNldDogUG9pbnQsIHNpemU6IElTaXplLCB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPiwgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLCBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBJUmFuZ2U8bnVtYmVyPnx1bmRlZmluZWQgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgICAgIHRoaXMueWF4aXMgPSB5YXhpcztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCB8fCAhdGhpcy52aXNpYmxlKSAge1xuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0dGVyKGNvbnRleHQsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgLy9jb25zdCByZW5kZXIgPSA8SU1hcmtSZW5kZXI8bnVtYmVyPj5yZW5kZXJMb2NhdG9yLmdldE1hcmtSZW5kZXIoJ251bWJlcicpO1xuICAgICAgICAgICAgY29uc3QgeTEgPSB0aGlzLnlheGlzLnRvWCh2YWx1ZS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCB5MiA9IHRoaXMueWF4aXMudG9YKHZhbHVlLmVuZCk7XG4gICAgICAgICAgICAvL3JlbmRlci5yZW5kZXIodGhpcy5hcmVhLmZyb250Q2FudmFzLCB2YWx1ZSwgeyB4OiAwLCB5OiB5IH0sIHRoaXMuc2l6ZSwgdGhpcy5zZXR0aW5ncy5wcmVjaXNpb24oKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAncmdiYSgxOTAsIDIzMCwgMjU1LCAwLjMpJztcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdCgwLCBNYXRoLm1pbih5MSwgeTIpLCB0aGlzLnNpemUud2lkdGgsIE1hdGguYWJzKHkyIC0geTEpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogUHJpY2VBeGlzQ29tcG9uZW50IGNsYXNzLlxuICovXG5pbXBvcnQgeyBQcmljZUF4aXMgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IElWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhLCBTaXplQ2hhbmdlZEFyZ3VtZW50LCBZQXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJQXhlc1JlbmRlciwgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0aW5nU2V0dGluZ3MgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgUHJpY2VNYXJrZXIgfSBmcm9tICcuL1ByaWNlTWFya2VyJztcblxuZXhwb3J0IGNsYXNzIFByaWNlQXhpc0NvbXBvbmVudCBleHRlbmRzIFZpc3VhbENvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGF4aXM6IFByaWNlQXhpcztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IFlBcmVhO1xuICAgIHByaXZhdGUgbW91c2U/OiBQb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBjaGFydEFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgcHJpY2VBeGlzOiBQcmljZUF4aXMsXG4gICAgICAgIG9mZnNldDogSVBvaW50LCBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuXG4gICAgICAgIHRoaXMuYXhpcyA9IHByaWNlQXhpcztcbiAgICAgICAgdGhpcy5hcmVhID0gY2hhcnRBcmVhLmdldFlBcmVhKCk7XG4gICAgICAgIHRoaXMuYXJlYS5zaXplQ2hhbmdlZC5vbih0aGlzLm9ucmVzaXplKTtcblxuICAgICAgICBjb25zdCBwcmljZU1hcmtlciA9IG5ldyBQcmljZU1hcmtlcih0aGlzLmFyZWEsIHt4OiAwLCB5OiAwfSwgc2l6ZSwgcHJpY2VBeGlzLCBzZXR0aW5ncywgdGhpcy5nZXRNYXJrUG9zKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChwcmljZU1hcmtlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRlTW91c2UocmVsWDogbnVtYmVyLCByZWxZOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2UueCA9IHJlbFg7XG4gICAgICAgICAgICB0aGlzLm1vdXNlLnkgPSByZWxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBQb2ludChyZWxYLCByZWxZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRlTW91c2UocmVsWCwgcmVsWSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9ucmVzaXplID0gKGFyZzogU2l6ZUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICB0aGlzLl9zaXplID0gYXJnLnNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSA8SUF4ZXNSZW5kZXI8bnVtYmVyPj5yZW5kZXJMb2NhdG9yLmdldEF4ZXNSZW5kZXIoJ3ByaWNlJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5iYXNlQ2FudmFzLCB0aGlzLmF4aXMsIHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0fSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFya1BvcyhjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubW91c2UueSA+IDAgJiYgdGhpcy5tb3VzZS55IDwgdGhpcy5zaXplLmhlaWdodCkgPyB0aGlzLmF4aXMudG9WYWx1ZSh0aGlzLm1vdXNlLnkpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBQcmljZU1hcmtlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgUHJpY2VBeGlzIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBJVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0aW5nU2V0dGluZ3MgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpY2VNYXJrZXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcmVhOiBBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXhpczogUHJpY2VBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKGFyZWE6IEFyZWEsIG9mZnNldDogSVBvaW50LCBzaXplOiBJU2l6ZSwgYXhpczogUHJpY2VBeGlzLCBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsIGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IG51bWJlcnx1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy5hcmVhID0gYXJlYTtcbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkgIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldHRlcihjb250ZXh0LCB0aGlzLnNpemUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJTWFya1JlbmRlcjxudW1iZXI+PnJlbmRlckxvY2F0b3IuZ2V0TWFya1JlbmRlcignbnVtYmVyJyk7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5heGlzLnRvWCh2YWx1ZSk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5mcm9udENhbnZhcywgdmFsdWUsIHsgeDogMCwgeTogeSB9LCB0aGlzLnNpemUsIHRoaXMuc2V0dGluZ3MucHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgSVF1aWNrdGlwLCBJUXVpY2t0aXBCdWlsZGVyIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIFF1aWNrdGlwQnVpbGRlciBpbXBsZW1lbnRzIElRdWlja3RpcEJ1aWxkZXIge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGl0ZW1zOiBJSGFzaFRhYmxlPFF1aWNrdGlwfHVuZGVmaW5lZD4gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFF1aWNrdGlwKHVpZDogc3RyaW5nKTogSVF1aWNrdGlwIHtcblxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgLy9kaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2RhdGEtdWlkJywgJ3VpZCcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgIGNvbnN0IHF0ID0gbmV3IFF1aWNrdGlwKGRpdik7XG4gICAgICAgIHRoaXMuaXRlbXNbdWlkXSA9IHF0O1xuICAgICAgICByZXR1cm4gcXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVF1aWNrdGlwKHVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWRFbGVtZW50ID0gdGhpcy5pdGVtc1t1aWRdO1xuICAgICAgICBpZiAocmVtb3ZlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbdWlkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbW92ZWRFbGVtZW50LmNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBRdWlja3RpcCBpbXBsZW1lbnRzIElRdWlja3RpcCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFRleHRCbG9jayh1aWQ6IHN0cmluZywgdGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdkYXRhLXVpZCcsIHVpZCk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdpbmxpbmUnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdtYXJnaW4tcmlnaHQnLCAnNXB4Jyk7XG4gICAgICAgIGRpdi5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlVGV4dEJsb2NrKHVpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5jb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS11aWQnKTtcbiAgICAgICAgICAgIGlmIChhdHRyICYmIGF0dHIgPT09IHVpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRCdXR0b24odWlkOiBzdHJpbmcsIGNsaWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB9XG59XG4iLCIvKipcbiAqIFN0YXRlRmFicmljIGNsYXNzLlxuICogXG4gKiBAY2xhc3NkZXNjIFN0b3JlcyBpbnN0YW5jZXMgb2Ygc3RhdGUgY2xhc3NlcyBmb3IgY2hhcnQgYm9hcmQuXG4gKi9cbmltcG9ydCB7IElIYXNoVGFibGUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZUZhYnJpYyB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IFN0YXRlRmFicmljO1xuICAgIHByaXZhdGUgc3RhdGVzOiBJSGFzaFRhYmxlPElTdGF0ZUNvbnRyb2xsZXI+ID0ge307XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBTdGF0ZUZhYnJpYyB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgU3RhdGVGYWJyaWMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdGF0ZShzdGF0ZUlkOiBzdHJpbmcsIG9iajogSVN0YXRlQ29udHJvbGxlcikge1xuICAgICAgICB0aGlzLnN0YXRlc1tzdGF0ZUlkXSA9IG9iajtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhdGUoc3RhdGVJZDogc3RyaW5nKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1tzdGF0ZUlkXTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBFdmVudHMsIElNb3VzZSwgTW91c2UsIE9iamVjdEV2ZW50QXJndW1lbnQsIFZpc3VhbENvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0Qm9hcmQsIElIb3ZlcmFibGUsIGlzRWRpdGFibGUsIElTZWxlY3RhYmxlLCBpc0hvdmVyYWJsZSwgaXNTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIEhvdmVyU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogSG92ZXJTdGF0ZTtcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEhvdmVyU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgaGl0Q29tcG9uZW50PzogVmlzdWFsQ29tcG9uZW50O1xuICAgIHByaXZhdGUgc2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuXG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmhpdENvbXBvbmVudCA9IHRoaXMuZ2V0SGl0Q29tcG9uZW50KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgLy8gY2xlYXIgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICAgIGJvYXJkLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RhYmxlKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFNlbGVjdGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGNvbnRpbnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG1vdXNlIHdhcyBtb3ZlZCBkbyBub3Qgc2VsZWN0XG4gICAgICAgIGlmICh0aGlzLmhpdENvbXBvbmVudCkge1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0YWJsZSh0aGlzLmhpdENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgdGhpcy5oaXRDb21wb25lbnQuc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgRXZlbnRzLmluc3RhbmNlLm9iamVjdFNlbGVjdGVkLnRyaWdnZXIobmV3IE9iamVjdEV2ZW50QXJndW1lbnQodGhpcy5oaXRDb21wb25lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcblxuICAgICAgICBpZiAobW91c2UuaXNEb3duICYmIHRoaXMuaGl0Q29tcG9uZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNIb3ZlcmFibGUodGhpcy5oaXRDb21wb25lbnQpKSB7IHRoaXMuaGl0Q29tcG9uZW50LnNldEhvdmVyZWQoZmFsc2UpOyB9XG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RhYmxlKHRoaXMuaGl0Q29tcG9uZW50KSkgeyB0aGlzLmhpdENvbXBvbmVudC5zZXRTZWxlY3RlZCh0cnVlKTsgfVxuICAgICAgICAgICAgLy8gY2hhbmdlIHN0YXRlXG4gICAgICAgICAgICBpZiAoaXNFZGl0YWJsZSh0aGlzLmhpdENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0U3RhdGUgPSB0aGlzLmhpdENvbXBvbmVudC5nZXRFZGl0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZShlZGl0U3RhdGUsIHsgY29tcG9uZW50OiB0aGlzLmhpdENvbXBvbmVudCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb3VzZS5pc0Rvd24gJiYgIXRoaXMuaGl0Q29tcG9uZW50KSB7XG4gICAgICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnbW92ZWNoYXJ0Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIW1vdXNlLmlzRG93bikge1xuICAgICAgICAgICAgY29uc3QgaGl0Q29tcG9uZW50ID0gdGhpcy5nZXRIaXRDb21wb25lbnQoYm9hcmQsIG1vdXNlKTtcbiAgICAgICAgICAgIGlmIChoaXRDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBoaXRDb21wb25lbnQuc2V0SG92ZXJlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBib2FyZC5zZXRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9hcmQuc2V0Q3Vyc29yKCdjcm9zc2hhaXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaXRDb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpdENvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuc2V0Q3Vyc29yKCdjcm9zc2hhaXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgYm9hcmQuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGlzSG92ZXJhYmxlKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY29udGludWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRIaXRDb21wb25lbnQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogVmlzdWFsQ29tcG9uZW50ICYgSUhvdmVyYWJsZSB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgbGV0IGhpdENvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50ICYgSUhvdmVyYWJsZSB8IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyB0cmF2ZXJzZSBhbGwgaG92ZXJhYmxlIGNvbXBvbmVudHMsIGNsZWFyIGFsbCBwb3B1cHMgYW5kIGZpbmQgaGl0IGNvbXBvbmVudC5cbiAgICAgICAgYm9hcmQuZm9yRWFjaChcbiAgICAgICAgICAgIChjb21wb25lbnQsIGFnZ3JlZ2F0ZWRPZmZzZXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNIb3ZlcmFibGUoY29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gbmV3IFBvaW50KG1vdXNlLnBvcy54IC0gYWdncmVnYXRlZE9mZnNldC54LCBtb3VzZS5wb3MueSAtIGFnZ3JlZ2F0ZWRPZmZzZXQueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5pc0hpdChwKSAmJiAhaGl0Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbXBvbmVudC5zZXRQb3B1cFZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmYWxzZTsgLy8gZG8gbm90IGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGNvbnRpbnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZSwgLy8gY2hlY2sgY2hpbGRyZW4gZmlyc3RcbiAgICAgICAgICAgIGZhbHNlKTsgLy8gaXRlcmF0aW5nIGluIHJldmVyc2Ugb3JkZXIgc28gdGhhdCByZW5kZXJlZCBsYXN0IGNoYXJ0cyB3aWxsIGJlIGFza2VkIGZpcnN0LlxuXG4gICAgICAgIHJldHVybiBoaXRDb21wb25lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZUNoYXJ0U3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogTW92ZUNoYXJ0U3RhdGU7XG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBNb3ZlQ2hhcnRTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZU1vdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRpZmZYID0gbW91c2UucG9zLnggLSB0aGlzLmxhc3QueDtcbiAgICAgICAgYm9hcmQubW92ZVgoZGlmZlgpO1xuXG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBzdG9wIG1vdXNlIGhhbmRsaW5nXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFRpbWVBeGlzIGNsYXNzLlxuICovXG5pbXBvcnQgeyBUaW1lQXV0b0dyaWQgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFRpbWVCYXIsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBFdmVudCwgSUV2ZW50LCBJUmFuZ2UsIEl0ZXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIExvYWRSYW5nZUV2ZW50IGV4dGVuZHMgRXZlbnQ8TG9hZFJhbmdlQXJndW1lbnQ+IHtcbn1cblxuZXhwb3J0IGNsYXNzIExvYWRSYW5nZUFyZ3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN0YXJ0OiBVaWQsXG4gICAgICAgIHB1YmxpYyBlbmQ/OiBVaWQsXG4gICAgICAgIHB1YmxpYyBjb3VudD86IG51bWJlcikge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVBeGlzIGltcGxlbWVudHMgSVRpbWVBeGlzLCBJdGVyYXRvcjxUaW1lQmFyPiB7XG5cbiAgICBwcml2YXRlIGRhdGFTb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiB8IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGl0ZXI6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+IHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgdGVtcEl0ZXI6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+IHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9hZFJhbmdlRXZlbnQgPSBuZXcgTG9hZFJhbmdlRXZlbnQoKTtcbiAgICAvKipcbiAgICAgKiBTdGFydCBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGZyYW1lU3RhcnQ6IFVpZDtcbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgaXRlbXMgaW4gdGhlIGZyYW1lLiBPbmx5IHBvc2l0aXZlLlxuICAgICAqL1xuICAgIHByaXZhdGUgTjogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBpdGVyYXRvclBvaW50ZXI6IFVpZCB8IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGl0ZXJhdG9yQ291bnRlcjogbnVtYmVyID0gMDtcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRoZSBmcmFtZSBpbiBwaXhlbHNcbiAgICAgKi9cbiAgICBwcml2YXRlIHc6IG51bWJlcjtcbiAgICBwcml2YXRlIGc6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbDtcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIGluaXRpYWxEYXRlOiBEYXRlLCBOOiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAoTiA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFwiTlwiIG11c3QgYmUgcG9zaXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXCJ3aWR0aFwiIG11c3QgYmUgcG9zaXRpdmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSb3VuZCBpbml0aWFsIGRhdGUgdG8gaW50ZXJ2YWxcbiAgICAgICAgaW5pdGlhbERhdGUgPSBEYXRlVXRpbHMudHJ1bmNhdGVUb0ludGVydmFsKGluaXRpYWxEYXRlLCBpbnRlcnZhbCk7XG5cbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdGhpcy5OID0gTjtcbiAgICAgICAgdGhpcy53ID0gd2lkdGg7XG4gICAgICAgIGNvbnN0IGRhdGVTdGFydCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChpbml0aWFsRGF0ZSwgaW50ZXJ2YWwsIC1OKTtcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gbmV3IFVpZChpbml0aWFsRGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsb2FkaW5nUmFuZ2UoKTogSUV2ZW50PExvYWRSYW5nZUFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRSYW5nZUV2ZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaW50ZXJ2YWwoKTogVGltZUludGVydmFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVydmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgaW50ZXJ2YWwodmFsdWU6IFRpbWVJbnRlcnZhbCkge1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IHZhbHVlO1xuXG4gICAgICAgIC8vIHRydW5jYXRlIGZyYW1lIHN0YXJ0IHRvIGludGVydmFsXG4gICAgICAgIHRoaXMuZnJhbWVTdGFydC50ID0gRGF0ZVV0aWxzLnRydW5jYXRlVG9JbnRlcnZhbCh0aGlzLmZyYW1lU3RhcnQudCwgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53ID0gdmFsdWU7XG4gICAgfVxuXG5cdC8vb25kYXRhY2hhbmdlZCAtINC90LUg0L3Rg9C20LXQvS4g0L3QtSDQvdCw0LTQviDQvNC10L3Rj9GC0YwgZnJhbWVTdGFydCDQuCBjb3VudC4g0J3QviDQvdGD0LbQvdC+IGRpc3Bvc2Ug0LTQvtCx0LDQstC40YLRjC5cblxuICAgIHB1YmxpYyBzZXREYXRhU291cmNlKGRhdGFTb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPikge1xuICAgICAgICAvLyBmcmFtZVN0YXJ0IGFuZCBjb3VudCByZW1haW4gdGhlIHNhbWUuXG4gICAgICAgIC8vIGNsZWFyIG5cbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0Lm4gPSAwO1xuXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuaXRlciA9IGRhdGFTb3VyY2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgdGhpcy50ZW1wSXRlciA9IGRhdGFTb3VyY2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICAvLyBsb2FkIDMgc2NyZWVuc1xuICAgICAgICB0aGlzLmxvYWQodGhpcy5mcmFtZVN0YXJ0LCAyICogdGhpcy5OKTtcbiAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgLXRoaXMuTik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkKHVpZDogVWlkLCBjb3VudDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5sb2FkKHVpZCwgY291bnQpO1xuICAgICAgICAgICAgdGhpcy5sb2FkUmFuZ2VFdmVudC50cmlnZ2VyKG5ldyBMb2FkUmFuZ2VBcmd1bWVudCh1aWQsIHVuZGVmaW5lZCwgY291bnQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFJhbmdlKHN0YXJ0OiBVaWQsIGVuZDogVWlkKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZS5sb2FkUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRSYW5nZUV2ZW50LnRyaWdnZXIobmV3IExvYWRSYW5nZUFyZ3VtZW50KHN0YXJ0LCBlbmQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY3VycmVudCgpOiBUaW1lQmFyIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3JQb2ludGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSXRlcmF0b3IgaXMgbm90IGluaXRpYWxpemVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHVpZDogdGhpcy5pdGVyYXRvclBvaW50ZXIsIHg6IHRoaXMuaW5kZXgyeCh0aGlzLml0ZXJhdG9yQ291bnRlcikgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLk47XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICAvLyBnbyB0byBmcmFtZVN0YXJ0XG4gICAgICAgIHRoaXMuaXRlcmF0b3JQb2ludGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLml0ZXJhdG9yQ291bnRlciA9IC0xO1xuICAgICAgICB0aGlzLmZvdW5kID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3VuZDogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBtb3ZlTmV4dCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3JQb2ludGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0b3JQb2ludGVyID0gbmV3IFVpZCh0aGlzLmZyYW1lU3RhcnQudCwgdGhpcy5mcmFtZVN0YXJ0Lm4pO1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRvckNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5pdGVyYXRvclBvaW50ZXIudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5pdGVyYXRvclBvaW50ZXIubjtcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvdW5kID0gdGhpcy5pdGVyLmdvVG8oaXRlbSA9PiB7IHJldHVybiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gdGltZSAmJiBpdGVtLnVpZC5uID09PSBuOyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pdGVyYXRvckNvdW50ZXIgPCAodGhpcy5OIC0gMSkpIHtcblxuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5zaGlmdE5leHQodGhpcy5pdGVyLCB0aGlzLmZvdW5kLCB0aGlzLml0ZXJhdG9yUG9pbnRlcik7XG4gICAgICAgICAgICB0aGlzLmZvdW5kID0gcmVzLmY7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yUG9pbnRlciA9IHJlcy51aWQ7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlcmF0b3JDb3VudGVyICs9IDE7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBzZWFyY2ggbW9zdCBuZWFyZXN0IFVpZCB0byB0aGUgc3BlY2lmaWVkIFVpZCwgYXMgaW50ZXJ2YWwgY2FuIGJlIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gdWlkIFxuICAgICAqL1xuICAgIHB1YmxpYyB0b1godWlkOiBVaWQpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHJlcXVpcmUgdWlkIGlzIGxvYWRlZFxuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRSYW5nZSh0aGlzLmZyYW1lU3RhcnQsIHVpZCk7XG4gICAgICAgIH1cblxuXHRcdC8vIENvbXB1dGUgZGlzdGFuY2UgYi93IGZyYW1lIHN0YXJ0INC4IHVpZFxuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy5nZXREaXN0YW5jZSh0aGlzLmZyYW1lU3RhcnQsIHVpZCk7XG4gICAgICAgIHJldHVybiBkaXN0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmluZGV4MngoZGlzdCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHRvVmFsdWUoeDogbnVtYmVyKTogVWlkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3Qgd2kgPSB0aGlzLncgLyB0aGlzLk47XG4gICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcigoeCAtIHRoaXMuZykgLyB3aSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpZnRCeSh0aGlzLnRlbXBJdGVyLCBpbmRleCwgdGhpcy5mcmFtZVN0YXJ0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZShkaXJlY3Rpb246IG51bWJlcikge1xuXG4gICAgICAgIGlmICghZGlyZWN0aW9uIHx8IGRpcmVjdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9sZXQgZ25leHQgPSB0aGlzLmcgKyAoZGlyZWN0aW9uID4gMCA/IDEgOiAtMSk7XG4gICAgICAgIGxldCBnbmV4dCA9IHRoaXMuZyArIGRpcmVjdGlvbjtcblxuICAgICAgICBjb25zdCB3aSA9IHRoaXMudyAvIHRoaXMuTjtcbiAgICAgICAgY29uc3QgY291bnQgPSBNYXRoLmZsb29yKGduZXh0IC8gd2kpO1xuICAgICAgICBnbmV4dCA9IGduZXh0IC0gKGNvdW50ICogd2kpO1xuXG4gICAgICAgIGlmIChjb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gY291bnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgZGlyZWN0aW9uID4gMCA/IChkaXJlY3Rpb24gKyAyICogdGhpcy5OKSA6IChkaXJlY3Rpb24gLSB0aGlzLk4pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIC1kaXJlY3Rpb24sIHRoaXMuZnJhbWVTdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmcgPSBnbmV4dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZGlyZWN0aW9uOiBudW1iZXIpIHtcblxuICAgICAgICB0aGlzLmcgPSAwO1xuXG4gICAgICAgIGxldCBuZXdOID0gdGhpcy5OO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkgeyAgICAgICAgICAgICAgICAvLyB6b29taW5nIGluXG4gICAgICAgICAgICBuZXdOID0gTWF0aC5mbG9vcih0aGlzLk4gKiAwLjkpO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHsgICAgICAgICAvLyB6b29taW5nIG91dFxuICAgICAgICAgICAgbmV3TiA9IE1hdGguY2VpbCh0aGlzLk4gKiAxLjEpO1xuICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgLTIgKiBuZXdOKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdOID49IDEgJiYgbmV3TiA8PSAyMDAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSB0aGlzLnNoaWZ0QnkodGhpcy50ZW1wSXRlciwgdGhpcy5OIC0gbmV3TiwgdGhpcy5mcmFtZVN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuTiA9IG5ld047XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaXNpYmxlIHJhbmdlXG4gICAgICovXG4gICAgcHVibGljIGdldCByYW5nZSgpOiBJUmFuZ2U8VWlkPiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IFVpZCgpO1xuICAgICAgICBzdGFydC50ID0gdGhpcy5mcmFtZVN0YXJ0LnQ7XG4gICAgICAgIHN0YXJ0Lm4gPSB0aGlzLmZyYW1lU3RhcnQubjtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIHRoaXMuTiwgdGhpcy5mcmFtZVN0YXJ0KTtcblxuICAgICAgICByZXR1cm4geyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH07XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLmxvY2sodWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciByZW5kZXJpbmcgZ3JpZFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHcmlkKCk6IEl0ZXJhdG9yPFRpbWVCYXI+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lQXV0b0dyaWQodGhpcy53LCB0aGlzLl9pbnRlcnZhbCwgdGhpcywgdGhpcy5yYW5nZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3QodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpc3RhbmNlKHVpZEZyb20sIHVpZFRvKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkKHVpZDogVWlkLCBhbW91bnQ6IG51bWJlcik6IFVpZHx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIGFtb3VudCwgdWlkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldERpc3RhbmNlKHVpZEZyb206IFVpZCwgdWlkVG86IFVpZCk6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG5cbiAgICAgICAgbGV0IGN1clVpZCA9IHVpZEZyb20uY29tcGFyZSh1aWRUbykgPD0gMCA/IHVpZEZyb20gOiB1aWRUbztcbiAgICAgICAgY29uc3QgbGFzdFVpZCA9IHVpZEZyb20uY29tcGFyZSh1aWRUbykgPD0gMCA/IHVpZFRvIDogdWlkRnJvbTtcblxuICAgICAgICBjb25zdCBjdXJUaW1lID0gY3VyVWlkLnQuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBsYXN0VGltZSA9IGxhc3RVaWQudC5nZXRUaW1lKCk7XG5cbiAgICAgICAgY29uc3QgZm8gPSB0aGlzLnRlbXBJdGVyID8gdGhpcy50ZW1wSXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShjdXJVaWQpID4gMCkgOiBmYWxzZTtcblxuICAgICAgICBpZiAoZm8gJiYgdGhpcy50ZW1wSXRlciAmJiB0aGlzLnRlbXBJdGVyLmN1cnJlbnQudWlkLmNvbXBhcmUobGFzdFVpZCkgPCAwKSB7XG5cbiAgICAgICAgICAgIGNvdW50ZXIgPSBEYXRlVXRpbHMuZGlmZkludGVydmFscyhjdXJVaWQudCwgdGhpcy50ZW1wSXRlci5jdXJyZW50LnVpZC50LCB0aGlzLmludGVydmFsKTtcblxuICAgICAgICAgICAgbGV0IG91dE9mUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRlbXBJdGVyLm1vdmVOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBjdXJVaWQgPSB0aGlzLnRlbXBJdGVyLmN1cnJlbnQudWlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1clVpZC5jb21wYXJlKGxhc3RVaWQpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXRPZlJhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFvdXRPZlJhbmdlKSB7XG4gICAgICAgICAgICAgICAgY291bnRlciArPSBEYXRlVXRpbHMuZGlmZkludGVydmFscyhjdXJVaWQudCwgbGFzdFVpZC50LCB0aGlzLmludGVydmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ZXIgPSBEYXRlVXRpbHMuZGlmZkludGVydmFscyhjdXJVaWQudCwgbGFzdFVpZC50LCB0aGlzLmludGVydmFsKTtcbiAgICAgICAgfVxuXG5cdFx0Ly8gQ29tcHV0ZSBjb29yZGluYXRlIGJ5IGluZGV4XG4gICAgICAgIHJldHVybiAodWlkRnJvbS50IDwgdWlkVG8udCkgPyBjb3VudGVyIDogLWNvdW50ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHNlYXJjaGVzIFVpZCBhdCBcInNoaWZ0XCIgZnJvbSBjdXJyZW50LiBBbHNvIGFkZHMgZmFrZSB2YWx1ZXMgaWYgbmVlZGVkXG4gICAgICogQHBhcmFtIGl0ZXJhdG9yIFxuICAgICAqIEBwYXJhbSBzaGlmdCBDYW4gYmUgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlXG4gICAgICogQHBhcmFtIGN1clBvc2l0aW9uIFxuICAgICAqL1xuICAgIHByaXZhdGUgc2hpZnRCeShpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gfCB1bmRlZmluZWQsIHNoaWZ0OiBudW1iZXIsIGN1clBvc2l0aW9uOiBVaWQpOiBVaWQge1xuXG4gICAgICAgIGNvbnN0IGN1ciA9IG5ldyBVaWQoKTtcbiAgICAgICAgY3VyLnQgPSBjdXJQb3NpdGlvbi50O1xuICAgICAgICBjdXIubiA9IGN1clBvc2l0aW9uLm47XG5cbiAgICAgICAgaWYgKHNoaWZ0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMS4gRmluZCBmaXJzdCBjYW5kbGUgYmVmb3JlIG9yIGFmdGVyIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgICAgICAgZm91bmQgPSAoc2hpZnQgPiAwKVxuICAgICAgICAgICAgICAgID8gaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoY3VyKSA+IDApXG4gICAgICAgICAgICAgICAgOiBpdGVyYXRvci5nb1doaWxlKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShjdXIpIDwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2xldCByZW1haW5zOiBudW1iZXIgPSBzaGlmdDsgLy8gLSBjb3VudGVyO1xuXG4gICAgICAgIGlmIChpdGVyYXRvciAmJiBmb3VuZCkge1xuXG4gICAgICAgICAgICAvLyBEZWZpbmUgZGlzdGFuY2UgYi93IGZyYW1lIHN0YXJ0IGFuZCBmaXJzdCBmb3VuZCBpdGVtXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gRGF0ZVV0aWxzLmRpZmZJbnRlcnZhbHMoY3VyLnQsIGl0ZXJhdG9yLmN1cnJlbnQudWlkLnQsIHRoaXMuaW50ZXJ2YWwpOyAvLyBkaWZmIGlzIHBvc2l0aXZlXG5cbiAgICAgICAgICAgIGlmICgoc2hpZnQgPiAwICYmIGRpZmYgPiBzaGlmdCkgfHwgKHNoaWZ0IDwgMCAmJiAtZGlmZiA8IHNoaWZ0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY3VyLnQgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoY3VyLnQsIHRoaXMuX2ludGVydmFsLCBzaGlmdCk7XG4gICAgICAgICAgICAgICAgY3VyLm4gPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNoaWZ0ID0gc2hpZnQgLSAoKHNoaWZ0ID4gMCkgPyBkaWZmIDogLWRpZmYpO1xuXG4gICAgICAgICAgICAvLyBTaGlmdCBvdmVyIHRoZSBkYXRhIGl0ZW1zXG4gICAgICAgICAgICBjb25zdCBhY3R1YWxNb3ZlZCA9IGl0ZXJhdG9yLm1vdmVUaW1lcyhzaGlmdCk7XG4gICAgICAgICAgICBjdXIudCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkLnQ7XG4gICAgICAgICAgICBjdXIubiA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkLm47XG4gICAgICAgICAgICBzaGlmdCA9IHNoaWZ0IC0gYWN0dWFsTW92ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hpZnQgIT09IDApIHtcbiAgICAgICAgICAgIGN1ci50ID0gRGF0ZVV0aWxzLmFkZEludGVydmFsKGN1ci50LCB0aGlzLl9pbnRlcnZhbCwgc2hpZnQpO1xuICAgICAgICAgICAgY3VyLm4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNoaWZ0TmV4dChpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz58dW5kZWZpbmVkLCBmb3VuZDogYm9vbGVhbiwgY3VyUG9zaXRpb246IFVpZCk6IHtmOiBib29sZWFuLCB1aWQ6IFVpZH0ge1xuXG4gICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uOiBVaWQgPSBuZXcgVWlkKCk7XG4gICAgICAgIGxldCBmOiBib29sZWFuID0gZm91bmQ7XG5cbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICBmID0gKGl0ZXJhdG9yICE9PSB1bmRlZmluZWQpID8gaXRlcmF0b3IubW92ZU5leHQoKSA6IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGYgJiYgaXRlcmF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1ciA9IGl0ZXJhdG9yLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgbmV3UG9zaXRpb24udCA9IGN1ci51aWQudDtcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi5uID0gY3VyLnVpZC5uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBnZW5lcmF0ZSBmYWtlXG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IHRyeSB0byBtb3ZlXG4gICAgICAgICAgICAgICAgbmV3UG9zaXRpb24udCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChjdXJQb3NpdGlvbi50LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgbmV3UG9zaXRpb24ubiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBmYWtlIHRpbWVcbiAgICAgICAgICAgIC8vIHRyeSBtb3ZlIHBvaW50ZXJcbiAgICAgICAgICAgIG5ld1Bvc2l0aW9uLnQgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoY3VyUG9zaXRpb24udCwgdGhpcy5faW50ZXJ2YWwpO1xuICAgICAgICAgICAgbmV3UG9zaXRpb24ubiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZjogZiwgdWlkOiBuZXdQb3NpdGlvbiB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5kZXgyeChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3Qgd2kgPSB0aGlzLncgLyB0aGlzLk47XG4gICAgICAgIHJldHVybiAod2kgKiBpbmRleCkgKyAod2kgLyAyKSArIHRoaXMuZztcbiAgICB9XG59XG4iLCIvKipcbiAqIFRpbWVBeGlzQ29tcG9uZW50IGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBJVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEJvYXJkQXJlYSwgU2l6ZUNoYW5nZWRBcmd1bWVudCwgWEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUF4ZXNSZW5kZXIsIElSZW5kZXJMb2NhdG9yLCBJVGltZUF4aXNSZW5kZXIgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IFRpbWVNYXJrZXIgfSBmcm9tICcuL1RpbWVNYXJrZXInO1xuXG5leHBvcnQgY2xhc3MgVGltZUF4aXNDb21wb25lbnQgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB0QXhpczogSVRpbWVBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogWEFyZWE7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXJrZXI6IFRpbWVNYXJrZXI7XG4gICAgcHJpdmF0ZSBtb3VzZT86IFBvaW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFyZWE6IEJvYXJkQXJlYSxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpc1xuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50QXhpcyA9IHRpbWVBeGlzO1xuXG4gICAgICAgIHRoaXMuYXJlYSA9IGFyZWEuZ2V0WEFyZWEoKTtcbiAgICAgICAgdGhpcy5hcmVhLnNpemVDaGFuZ2VkLm9uKHRoaXMub25yZXNpemUpO1xuXG4gICAgICAgIHRoaXMuX3NpemUgPSB0aGlzLmFyZWEuc2l6ZTtcblxuICAgICAgICB0aGlzLm1hcmtlciA9IG5ldyBUaW1lTWFya2VyKHRoaXMuYXJlYSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGltZUF4aXMsIHRoaXMuZ2V0TWFya1Bvcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5tYXJrZXIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbnJlc2l6ZSA9IChhcmc6IFNpemVDaGFuZ2VkQXJndW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGFyZy5zaXplO1xuICAgICAgICB0aGlzLm1hcmtlci5yZXNpemUoYXJnLnNpemUud2lkdGgsIGFyZy5zaXplLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRlTW91c2UocmVsWDogbnVtYmVyLCByZWxZOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2UueCA9IHJlbFg7XG4gICAgICAgICAgICB0aGlzLm1vdXNlLnkgPSByZWxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBQb2ludChyZWxYLCByZWxZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRlTW91c2UocmVsWCwgcmVsWSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGNhbnZhcyA9IGNvbnRleHQuZ2V0Q2FudmFzKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJVGltZUF4aXNSZW5kZXI+cmVuZGVyTG9jYXRvci5nZXRBeGVzUmVuZGVyKCdkYXRlJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5iYXNlQ2FudmFzLCB0aGlzLnRBeGlzLCB7IHg6IDAsIHk6IDAsIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc3QgY2hpbGRDb250ZXh0ID0gbmV3IFZpc3VhbENvbnRleHQoY29udGV4dC5yZW5kZXJCYXNlLCBjb250ZXh0LnJlbmRlckZyb250LFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmdldENhbnZhcygnYmFzZScpLCBjb250ZXh0LmdldENhbnZhcygnZnJvbnQnKSwgY29udGV4dC5tb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFya1BvcyhjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogVWlkfHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubW91c2UueCA+IDAgJiYgdGhpcy5tb3VzZS54IDwgc2l6ZS53aWR0aCkgPyB0aGlzLnRBeGlzLnRvVmFsdWUodGhpcy5tb3VzZS54KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogVGltZU1hcmtlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lTWFya2VyIGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gVWlkfHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKGFyZWE6IEFyZWEsIG9mZnNldDogUG9pbnQsIHNpemU6IElTaXplLCB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlciwgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gVWlkfHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgICAgICB0aGlzLmFyZWEgPSBhcmVhO1xuICAgICAgICB0aGlzLnRheGlzID0gdGF4aXM7XG4gICAgICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250IHx8ICF0aGlzLnZpc2libGUpICB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVpZCA9IHRoaXMuZ2V0dGVyKGNvbnRleHQsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWCh1aWQpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gcmVuZGVyTG9jYXRvci5nZXRNYXJrUmVuZGVyKCdkYXRlJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5mcm9udENhbnZhcywgdWlkLnQsIHsgeDogeCwgeTogMCB9LCB0aGlzLnNpemUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaW1lUmVnaW9uTWFya2VyIGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBJVGltZUNvb3JkQ29udmVydGVyLCBJVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFRpbWVSZWdpb25NYXJrZXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IElSYW5nZTxVaWQ+fHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEFyZWEsXG4gICAgICAgIG9mZnNldDogUG9pbnQsIHNpemU6IElTaXplLCB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlciwgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLCBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBJUmFuZ2U8VWlkPnx1bmRlZmluZWQgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgICAgIHRoaXMudGF4aXMgPSB0YXhpcztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCB8fCAhdGhpcy52aXNpYmxlKSAge1xuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0dGVyKGNvbnRleHQsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgeDEgPSB0aGlzLnRheGlzLnRvWCh2YWx1ZS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCB4MiA9IHRoaXMudGF4aXMudG9YKHZhbHVlLmVuZCk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlclxuICAgICAgICAgICAgaWYgKHgxICE9PSB1bmRlZmluZWQgJiYgeDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJ3JnYmEoMTkwLCAyMzAsIDI1NSwgMC4zKSc7XG4gICAgICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KE1hdGgubWluKHgxLCB4MiksIDAsIE1hdGguYWJzKHgyIC0geDEpLCB0aGlzLnNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IENoYXJ0IH0gZnJvbSAnLi9DaGFydCc7XG5pbXBvcnQgeyBDaGFydEJvYXJkIH0gZnJvbSAnLi9DaGFydEJvYXJkJztcbmltcG9ydCB7IENoYXJ0U3RhY2sgfSBmcm9tICcuL0NoYXJ0U3RhY2snO1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9GaWd1cmVDb21wb25lbnQnO1xuaW1wb3J0IHsgRmlndXJlRmFjdG9yeSwgRmlndXJlVHlwZSB9IGZyb20gJy4vRmlndXJlRmFjdG9yeSc7XG5pbXBvcnQgeyBJQ2hhcnQsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUZpZ3VyZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIgfVxuICAgIGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBpc0VkaXRhYmxlLCBpc0hvdmVyYWJsZSwgaXNTZWxlY3RhYmxlLCBpc1N0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOdW1iZXJBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9OdW1iZXJBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IE51bWJlck1hcmtlciB9IGZyb20gJy4vTnVtYmVyTWFya2VyJztcbmltcG9ydCB7IE51bWJlclJlZ2lvbk1hcmtlciB9IGZyb20gJy4vTnVtYmVyUmVnaW9uTWFya2VyJztcbmltcG9ydCB7IFByaWNlQXhpc0NvbXBvbmVudCB9IGZyb20gJy4vUHJpY2VBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YXRlRmFicmljIH0gZnJvbSAnLi9TdGF0ZUZhYnJpYyc7XG5pbXBvcnQgeyBIb3ZlclN0YXRlLCBNb3ZlQ2hhcnRTdGF0ZSB9IGZyb20gJy4vU3RhdGVzJztcbmltcG9ydCB7IFRpbWVBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9UaW1lQXhpc0NvbXBvbmVudCc7XG5pbXBvcnQgeyBUaW1lTWFya2VyIH0gZnJvbSAnLi9UaW1lTWFya2VyJztcbmltcG9ydCB7IFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuL1RpbWVSZWdpb25NYXJrZXInO1xuXG5leHBvcnQge1xuICAgIENoYXJ0LFxuICAgIENoYXJ0Qm9hcmQsXG4gICAgQ2hhcnRTdGFjayxcbiAgICBJRmlndXJlLFxuICAgIEZpZ3VyZUNvbXBvbmVudCxcbiAgICBGaWd1cmVGYWN0b3J5LFxuICAgIEZpZ3VyZVR5cGUsXG4gICAgSG92ZXJTdGF0ZSxcbiAgICBJQ2hhcnQsXG4gICAgSUNoYXJ0Qm9hcmQsXG4gICAgSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgSUNoYXJ0U3RhY2ssXG4gICAgSUVkaXRhYmxlLFxuICAgIElIb3ZlcmFibGUsXG4gICAgSVNlbGVjdGFibGUsXG4gICAgaXNFZGl0YWJsZSxcbiAgICBpc0hvdmVyYWJsZSxcbiAgICBpc1NlbGVjdGFibGUsXG4gICAgSVN0YXRlQ29udHJvbGxlcixcbiAgICBpc1N0YXRlQ29udHJvbGxlcixcbiAgICBNb3ZlQ2hhcnRTdGF0ZSxcbiAgICBOdW1iZXJBeGlzQ29tcG9uZW50LFxuICAgIE51bWJlck1hcmtlcixcbiAgICBQcmljZUF4aXNDb21wb25lbnQsXG4gICAgTnVtYmVyUmVnaW9uTWFya2VyLFxuICAgIFN0YXRlRmFicmljLFxuICAgIFRpbWVBeGlzQ29tcG9uZW50LFxuICAgIFRpbWVNYXJrZXIsXG4gICAgVGltZVJlZ2lvbk1hcmtlclxufVxuIiwiLyoqXHJcbiAqIFxyXG4gKi9cclxuaW1wb3J0IHsgSUluZGljYXRvckV4dGVuc2lvbiB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBVaWRVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbmRpY2F0b3JFeHRlbnNpb24gaW1wbGVtZW50cyBJSW5kaWNhdG9yRXh0ZW5zaW9uIHtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBhbW91bnRSZXF1aXJlczogbnVtYmVyO1xyXG4gICAgLy9wdWJsaWMgYWJzdHJhY3QgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGFic3RyYWN0IGV4dGVuZChsaW5lOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4pOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogVFIgPSBtYXgoSCAtIEwsIHxIIC0gQyBwcmV2fCwgfEwgLSBDIHByZXZ8KVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRydWVSYW5nZUV4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHVuYW1lID0gJ3RydWVyYW5nZSc7XHJcblxyXG4gICAgcHVibGljIGdldCBhbW91bnRSZXF1aXJlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5oICE9PSB1bmRlZmluZWQgJiYgY3VycmVudC5sICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICYmIHByZXYgJiYgcHJldi5jICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY3VycmVudC5leHRbJ3RyJ10gPSBNYXRoLm1heChjdXJyZW50LmgsIHByZXYuYykgLSBNYXRoLm1pbihjdXJyZW50LmwsIHByZXYuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogK0RNXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uIGV4dGVuZHMgSW5kaWNhdG9yRXh0ZW5zaW9uIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdW5hbWUgPSAncGRtJztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFtb3VudFJlcXVpcmVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4dGVuZChsaW5lOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4pOiB2b2lkIHtcclxuICAgICAgICBpZiAobGluZS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAxKTsgLy8gbGFzdCBpcyBjdXJyZW50XHJcbiAgICAgICAgY29uc3QgcHJldiA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDIpOyAvLyBUYWtlIHByZXZpb3VzO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50LmggIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmwgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiBwcmV2ICYmIHByZXYuaCAhPT0gdW5kZWZpbmVkICYmIHByZXYubCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFVwTW92ZSA9IEN1cnJlbnQgSGlnaCAtIFByZXZpb3VzIEhpZ2hcclxuICAgICAgICAgICAgLy8gRG93bk1vdmUgPSBQcmV2aW91cyBMb3cgLSBDdXJyZW50IExvd1xyXG4gICAgICAgICAgICBjb25zdCB1cG1vdmUgPSBjdXJyZW50LmggLSBwcmV2Lmg7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvd25tb3ZlID0gcHJldi5sIC0gY3VycmVudC5sO1xyXG4gICAgICAgICAgICAvLyBJZiBVcE1vdmUgPiBEb3duTW92ZSBhbmQgVXBNb3ZlID4gMCwgdGhlbiArRE0gPSBVcE1vdmUsIGVsc2UgK0RNID0gMFxyXG4gICAgICAgICAgICBjdXJyZW50LmV4dFsncGRtJ10gPSAodXBtb3ZlID4gZG93bm1vdmUgJiYgdXBtb3ZlID4gMCkgPyB1cG1vdmUgOiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIC1ETVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uIGV4dGVuZHMgSW5kaWNhdG9yRXh0ZW5zaW9uIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdW5hbWUgPSAnbWRtJztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFtb3VudFJlcXVpcmVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4dGVuZChsaW5lOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4pOiB2b2lkIHtcclxuICAgICAgICBpZiAobGluZS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAxKTsgLy8gbGFzdCBpcyBjdXJyZW50XHJcbiAgICAgICAgY29uc3QgcHJldiA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDIpOyAvLyBUYWtlIHByZXZpb3VzO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50LmggIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmwgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiBwcmV2ICYmIHByZXYuaCAhPT0gdW5kZWZpbmVkICYmIHByZXYubCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIFVwTW92ZSA9IEN1cnJlbnQgSGlnaCAtIFByZXZpb3VzIEhpZ2hcclxuICAgICAgICAgICAgLy8gRG93bk1vdmUgPSBQcmV2aW91cyBMb3cgLSBDdXJyZW50IExvdyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB1cG1vdmUgPSBjdXJyZW50LmggLSBwcmV2Lmg7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvd25tb3ZlID0gcHJldi5sIC0gY3VycmVudC5sO1xyXG4gICAgICAgICAgICAvLyBJZiBEb3duTW92ZSA+IFVwbW92ZSBhbmQgRG93bm1vdmUgPiAwLCB0aGVuIC1ETSA9IERvd25Nb3ZlLCBlbHNlIC1ETSA9IDAgXHJcbiAgICAgICAgICAgIGN1cnJlbnQuZXh0WydtZG0nXSA9IChkb3dubW92ZSA+IHVwbW92ZSAmJiBkb3dubW92ZSA+IDApID8gZG93bm1vdmUgOiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEFUUlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEF2Z1RydWVSYW5nZUV4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHVuYW1lID0gJ2F2Z3RydWVyYW5nZSc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBlcmlvZDogbnVtYmVyO1xyXG4gICAgLy8gQVRSIHJlcXVpcmVzIFRSXHJcbiAgICBwcml2YXRlIHRyRXh0ID0gbmV3IFRydWVSYW5nZUV4dGVuc2lvbigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBlcmlvZD86IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gdW5kZWZpbmVkICYmIHBlcmlvZCA8IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQZXJpb2QgbGVzcyB0aGVuIDEgaXMgbm90IHN1cHBvcnRlZC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGVyaW9kID0gcGVyaW9kIHx8IDE0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wZXJpb2QgPCB0aGlzLnRyRXh0LmFtb3VudFJlcXVpcmVzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGVyaW9kIGNhbiBub3QgYmUgbGVzcyB0aGVuIFRydWUgUmFuZ2UgcGVyaW9kLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFtb3VudFJlcXVpcmVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyaW9kO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBUcnVlIFJhbmdlIGJlZm9yZSBjYWxjdWxhdGluZyBBVFJcclxuICAgICAgICB0aGlzLnRyRXh0LmV4dGVuZChsaW5lKTtcclxuXHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgcHJldmlvdXMgQVRSLCB0aGFuIHVzZSBpdCwgb3RoZXJ3aXNlIC0gdXNlIGF2ZXJhZ2VcclxuICAgICAgICAvL1xyXG4gICAgICAgIGlmIChjdXJyZW50ICYmIHByZXYpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldkFUUiA9IHByZXYuZXh0WydhdHInXTtcclxuICAgICAgICAgICAgY29uc3QgY3VyVFIgPSBjdXJyZW50LmV4dFsndHInXTtcclxuICAgICAgICAgICAgaWYgKHByZXZBVFIgIT09IHVuZGVmaW5lZCAmJiBjdXJUUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50LmV4dFsnYXRyJ10gPSAocHJldkFUUiAqICh0aGlzLnBlcmlvZCAtIDEpICsgY3VyVFIpIC8gdGhpcy5wZXJpb2Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVzaW5nIFRSIHZhbHVlcyB0byBjYWxjdWxhdGUgQVRSXHJcbiAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBsaW5lLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiBjb3VudGVyIDw9IHRoaXMucGVyaW9kOyBpIC09IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgdHIgPSBjdXJyZW50LmV4dFsndHInXTtcclxuICAgICAgICAgICAgaWYgKHRyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN1bSArPSB0cjtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgYW1vdW50IG9mIFRSIGlzIGVub3VnaCwgY2FsY3VsYXRlIEFUUlxyXG4gICAgICAgIGlmIChjb3VudGVyID09PSB0aGlzLnBlcmlvZCkge1xyXG4gICAgICAgICAgICBjdXJyZW50LmV4dFsnYXRyJ10gPSBzdW0gLyB0aGlzLnBlcmlvZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHYWluL0xvc3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHYWluTG9zc0V4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICAvL3B1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdW5hbWUgPSAnZ2Fpbmxvc3MnO1xyXG4gICAgcHJpdmF0ZSB1aWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgZXh0ZW5zaW9uXHJcbiAgICAgKiBAcGFyYW0gZmllbGROYW1lIE5hbWUgb2YgdGhlIGZpZWxkIHRvIHVzZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvciAoYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xyXG4gICAgICAgIHRoaXMudWlkID0gVWlkVXRpbHMuTkVXVUlEKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhbW91bnRSZXF1aXJlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdW5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2dhaW5sb3NzJyArIHRoaXMudWlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IHRoaXMuYWNjZXNzb3IoY3VycmVudCk7XHJcbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gdGhpcy5hY2Nlc3NvcihwcmV2KTtcclxuXHJcbiAgICAgICAgaWYgKGN1clZhbHVlICYmIHByZXZWYWx1ZSkge1xyXG4gICAgICAgICAgICBsZXQgZ2FpbiA9IDA7XHJcbiAgICAgICAgICAgIGxldCBsb3NzID0gMDtcclxuICAgICAgICAgICAgaWYgKGN1clZhbHVlID4gcHJldlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBnYWluID0gY3VyVmFsdWUgLSBwcmV2VmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyVmFsdWUgPCBwcmV2VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGxvc3MgPSBwcmV2VmFsdWUgLSBjdXJWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50LmV4dFsnZ2Fpbl8nICsgdGhpcy51aWRdID0gZ2FpbjtcclxuICAgICAgICAgICAgY3VycmVudC5leHRbJ2xvc3NfJyArIHRoaXMudWlkXSA9IGxvc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWx1ZShjOiBDYW5kbGVzdGljayk6IElHYWluTG9zcyB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2FpbjogYyAmJiBjLmV4dCA/IGMuZXh0WydnYWluXycgKyB0aGlzLnVpZF0gOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGxvc3M6IGMgJiYgYy5leHQgPyBjLmV4dFsnbG9zc18nICsgdGhpcy51aWRdIDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJR2Fpbkxvc3Mge1xyXG4gICAgZ2FpbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgbG9zczogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTG9nIFJldHVybiBleHRlbnNpb24uIFIoaSkgPSBsb2coUGkgLyBQKGktMSkpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTG9nUmV0dXJuRXh0ZW5zaW9uIGV4dGVuZHMgSW5kaWNhdG9yRXh0ZW5zaW9uIHtcclxuICAgIHByaXZhdGUgdWlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGV4dGVuc2lvblxyXG4gICAgICogQHBhcmFtIGZpZWxkTmFtZSBOYW1lIG9mIHRoZSBmaWVsZCB0byB1c2VcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IgKGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcclxuICAgICAgICB0aGlzLnVpZCA9IFVpZFV0aWxzLk5FV1VJRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYW1vdW50UmVxdWlyZXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHVuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdsb2dyZXR1cm4nICsgdGhpcy51aWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4dGVuZChsaW5lOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4pOiB2b2lkIHtcclxuICAgICAgICBpZiAobGluZS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAxKTsgLy8gbGFzdCBpcyBjdXJyZW50XHJcbiAgICAgICAgY29uc3QgcHJldiA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDIpOyAvLyBUYWtlIHByZXZpb3VzO1xyXG4gICAgICAgIGNvbnN0IGN1clZhbHVlID0gdGhpcy5hY2Nlc3NvcihjdXJyZW50KTtcclxuICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSB0aGlzLmFjY2Vzc29yKHByZXYpO1xyXG5cclxuICAgICAgICBpZiAoY3VyVmFsdWUgJiYgcHJldlZhbHVlKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQuZXh0Wydsb2dyZXR1cm5fJyArIHRoaXMudWlkXSA9IE1hdGgubG9nKGN1clZhbHVlIC8gcHJldlZhbHVlKTtcclxuICAgICAgICAgICAgLy9jdXJyZW50LmV4dFsnbG9ncmV0dXJuXycgKyB0aGlzLnVpZF0gPSAoY3VyVmFsdWUgLSBwcmV2VmFsdWUpIC8gcHJldlZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWUoYzogQ2FuZGxlc3RpY2spOiBudW1iZXJ8dW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gKGMgJiYgYy5leHQpID8gYy5leHRbJ2xvZ3JldHVybl8nICsgdGhpcy51aWRdIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7XHJcbiAgICBBdmdUcnVlUmFuZ2VFeHRlbnNpb24sXHJcbiAgICBEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcclxuICAgIEdhaW5Mb3NzRXh0ZW5zaW9uLFxyXG4gICAgTG9nUmV0dXJuRXh0ZW5zaW9uLFxyXG4gICAgVHJ1ZVJhbmdlRXh0ZW5zaW9uLFxyXG4gICAgVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uXHJcbn0gZnJvbSAnLi9JbmRpY2F0b3JFeHRlbnNpb24nO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFRydWVSYW5nZUV4dGVuc2lvbixcclxuICAgIEF2Z1RydWVSYW5nZUV4dGVuc2lvbixcclxuICAgIERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLFxyXG4gICAgTG9nUmV0dXJuRXh0ZW5zaW9uLFxyXG4gICAgVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLFxyXG4gICAgR2Fpbkxvc3NFeHRlbnNpb24sXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBBbW91bnRSYW5nZSB7XHJcbiAgICBwdWJsaWMgdWlkU3RhcnQ6IFVpZDtcclxuICAgIHB1YmxpYyB1aWRFbmQ/OiBVaWQ7XHJcbiAgICBwdWJsaWMgY291bnQ/OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IodWlkU3RhcnQ6IFVpZCwgdWlkRW5kPzogVWlkLCBjb3VudD86IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudWlkU3RhcnQgPSB1aWRTdGFydDtcclxuICAgICAgICB0aGlzLnVpZEVuZCA9IHVpZEVuZDtcclxuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzRXF1YWwob3RoZXI6IEFtb3VudFJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuIChvdGhlclxyXG4gICAgICAgICYmIHRoaXMudWlkU3RhcnQuY29tcGFyZShvdGhlci51aWRTdGFydCkgPT09IDBcclxuICAgICAgICAmJiAodGhpcy51aWRFbmQgPT09IG90aGVyLnVpZEVuZCB8fCAodGhpcy51aWRFbmQgJiYgb3RoZXIudWlkRW5kICYmIHRoaXMudWlkRW5kLmNvbXBhcmUob3RoZXIudWlkRW5kKSA9PT0gMCkpXHJcbiAgICAgICAgJiYgKHRoaXMuY291bnQgPT09IG90aGVyLmNvdW50KSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBbW91bnRSYW5nZU9wcyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGRpZmZlcmVuY2UobWludWVuZDogQW1vdW50UmFuZ2UsIHN1YnRyYWhlbmQ6IEFtb3VudFJhbmdlKTogQW1vdW50UmFuZ2VbXSB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IE0gPSBtaW51ZW5kO1xyXG4gICAgICAgIGNvbnN0IFMgPSBzdWJ0cmFoZW5kO1xyXG5cclxuICAgICAgICBpZiAoTS51aWRFbmQgJiYgUy51aWRFbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IE0xID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZEVuZCA6IE0udWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IE0yID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZFN0YXJ0IDogTS51aWRFbmQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBTMSA9IFMudWlkU3RhcnQuY29tcGFyZShTLnVpZEVuZCkgPiAwID8gUy51aWRFbmQgOiBTLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBTMiA9IFMudWlkU3RhcnQuY29tcGFyZShTLnVpZEVuZCkgPiAwID8gUy51aWRTdGFydCA6IFMudWlkRW5kO1xyXG5cclxuICAgICAgICAgICAgaWYgKE0xLmNvbXBhcmUoUzEpIDwgMCAmJiBNMi5jb21wYXJlKFMxKSA8PSAwKSB7ICAvLyBNLU0gUy1TXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoTTEsIE0yKSBdOyAvLyB7IE0xLCBNMiB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0xLmNvbXBhcmUoUzIpID49IDAgJiYgTTIuY29tcGFyZShTMikgPiAwKSB7IC8vIFMtUyBNLU1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbIG5ldyBBbW91bnRSYW5nZShNMSwgTTIpIF07IC8veyBNMSwgTTJ9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0xLmNvbXBhcmUoUzEpID49IDAgJiYgTTIuY29tcGFyZShTMikgPD0gMCkgeyAvLyBTIE0gTSBTXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0xLmNvbXBhcmUoUzEpIDwgMCAmJiBNMi5jb21wYXJlKFMyKSA+IDApIHsgICAgLy8gTSBTIFMgTVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoTTEsIFMxKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoUzIsIE0yKSBdOyAvL3tNMSwgUzF9ICsge1MyLCBNMn07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTTEuY29tcGFyZShTMSkgPD0gMCkgeyAgLy8gTSBTIE0tU1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSkgXTsgLy8geyBNMSwgUzEgfTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNMi5jb21wYXJlKFMyKSA+PSAwKSB7ICAvLyBTIE0gUy1NXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoUzIsIE0yKSBdOyAvLyB7IFMyLCBNMiB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVyYXRpb24gZXhjZXB0aW9uLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChNLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgUy51aWRFbmQpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChTLmNvdW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2hlbiByYW5nZSBoYXMgdWlkRW5kIGl0IG11c3QgZGVmaW5lIGNvdW50LicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBNMSA9IE0udWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IFMxID0gUy51aWRTdGFydC5jb21wYXJlKFMudWlkRW5kKSA+IDAgPyBTLnVpZEVuZCA6IFMudWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IFMyID0gUy51aWRTdGFydC5jb21wYXJlKFMudWlkRW5kKSA+IDAgPyBTLnVpZFN0YXJ0IDogUy51aWRFbmQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoKE0uY291bnQgPCAwICYmIE0xLmNvbXBhcmUoUzEpIDw9IDApIHx8IChNLmNvdW50ID4gMCAmJiBNMS5jb21wYXJlKFMyKSA+PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKE0xLCB1bmRlZmluZWQsIE0uY291bnQpIF07IC8vIHsgTTEsIE0uY291bnQgfTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNLmNvdW50IDwgMCAmJiBNMS5jb21wYXJlKFMyKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhNLmNvdW50KSA+IE1hdGguYWJzKFMuY291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKFMyLCBNMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbW91bnRSYW5nZShTMSwgdW5kZWZpbmVkLCBNLmNvdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy97IFMyLCBNMSB9ICsgeyBTMSwgTS5jb3VudCB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoUzIsIE0xKSBdOyAvLyB7IFMyLCBNMSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0uY291bnQgPiAwICYmIE0xLmNvbXBhcmUoUzEpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKE0uY291bnQpID4gTWF0aC5hYnMoUy5jb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoTTEsIFMxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKFMyLCB1bmRlZmluZWQsIE0uY291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB7IE0xLCBTMSB9ICsgeyBTMiwgTS5jb3VudCB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoTTEsIFMxKSBdOyAvLyB7IE0xLCBTMSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0xLmNvbXBhcmUoUzEpID49IDAgJiYgTTEuY29tcGFyZShTMikgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yICgnU3VidHJhaGVuZCBtdXN0IG5vdCBzdGFydCBpbiBtaW51ZW5kLicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVyYXRpb24gZXhjZXB0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChNLnVpZEVuZCAmJiBTLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKE0uY291bnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaGVuIHJhbmdlIGhhcyB1aWRFbmQgaXQgbXVzdCBkZWZpbmUgY291bnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFMxID0gUy51aWRTdGFydDtcclxuICAgICAgICAgICAgY29uc3QgTTEgPSBNLnVpZFN0YXJ0LmNvbXBhcmUoTS51aWRFbmQpID4gMCA/IE0udWlkRW5kIDogTS51aWRTdGFydDtcclxuICAgICAgICAgICAgY29uc3QgTTIgPSBNLnVpZFN0YXJ0LmNvbXBhcmUoTS51aWRFbmQpID4gMCA/IE0udWlkU3RhcnQgOiBNLnVpZEVuZDtcclxuXHJcbiAgICAgICAgICAgIGlmICgoUy5jb3VudCA8IDAgJiYgUzEuY29tcGFyZShNMSkgPD0gMCkgfHwgKFMuY291bnQgPiAwICYmIFMxLmNvbXBhcmUoTTIpID49IDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW01dO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFMxLmNvbXBhcmUoTTEpID49IDAgJiYgUzEuY29tcGFyZShNMikgPD0gMCAmJiBTLmNvdW50IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKE0uY291bnQpID4gTWF0aC5hYnMoUy5jb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoUzEsIE0yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKE0xLCB1bmRlZmluZWQsIFMuY291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB7IFMxLCBNMiB9ICsgeyBNMSwgUy5jb3VudCB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoUzEsIE0yKSBdOyAvLyB7IFMxLCBNMiB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFMxLmNvbXBhcmUoTTEpID49IDAgJiYgUzEuY29tcGFyZShNMikgPD0gMCAmJiBTLmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKE0uY291bnQpID4gTWF0aC5hYnMoUy5jb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoTTEsIFMxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKE0yLCB1bmRlZmluZWQsIFMuY291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB7IE0xLCBTMSB9ICsgeyBNMiwgUy5jb3VudCB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoTTEsIFMxKSBdOyAvLyB7IE0xLCBTMSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGV4Y2VwdGlvbicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTS5jb3VudCAhPT0gdW5kZWZpbmVkICYmIFMuY291bnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVyYXRpb24gZXhjZXB0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNJbnRlcnNlY3RlZChsaHM6IEFtb3VudFJhbmdlLCByaHM6IEFtb3VudFJhbmdlKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGNvbnN0IE0gPSBsaHMudWlkRW5kID8gbGhzIDogcmhzO1xyXG4gICAgICAgIGNvbnN0IFMgPSBsaHMudWlkRW5kID8gcmhzIDogbGhzO1xyXG5cclxuICAgICAgICBpZiAoIU0udWlkRW5kKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25lIG9mIHJhbmdlcyBtdXN0IGhhdmUgc3BlY2lmaWVkIHVpZEVuZC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChNLnVpZEVuZCAmJiBTLnVpZEVuZCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gQW1vdW50UmFuZ2VPcHMuZGlmZmVyZW5jZShNLCBTKTtcclxuICAgICAgICAgICAgaWYgKGRpZmYgJiYgZGlmZi5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhTS5pc0VxdWFsKGRpZmZbMF0pOyAvLyBpZiByYW5nZSBpcyB0aGUgc2FtZSwgdGhhdCBtZWFucyB0aGF0IHRoZXkgYXJlIG5vdCBpbnRlcnNlY3RlZC5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBTMSA9IFMudWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IE0xID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZEVuZCA6IE0udWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IE0yID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZFN0YXJ0IDogTS51aWRFbmQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoUy5jb3VudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdW50IGFuZCB1aWRFbmQgbm90IGRlZmluZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgoUzEuY29tcGFyZShNMSkgPD0gMCAmJiBTLmNvdW50IDwgMCkgfHwgKFMxLmNvbXBhcmUoTTIpID49IDAgJiYgUy5jb3VudCA+IDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vdCBpbnRlcnNlY3RlZFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIEFueSBvdGhlciBjYXNlIGFzc3VtZSBpbnRlcnNlY3RlZC5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ09iamVjdCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF91aWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fdWlkID0gdWlkO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdWlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2hhcnRUeXBlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY2FuZGxlID0gJ2NhbmRsZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGhlaWtpbmFzaGkgPSAnaGVpa2luYXNoaSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGhvbGxvdyA9ICdob2xsb3cnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBsaW5lID0gJ2xpbmUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBsaW5lYnJlYWsgPSAnbGluZWJyZWFrJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbW91bnRhaW4gPSAnbW91bnRhaW4nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBvaGxjID0gJ29obGMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSByYW5nZWJhciA9ICdyYW5nZWJhcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJlbmtvID0gJ3JlbmtvJztcclxufVxyXG4iLCIvKipcbiAqIENvcmUgY29uc3RhbnRzLlxuICovXG5leHBvcnQgY2xhc3MgQ29uc3RhbnRzIHtcblxuICAgIHByaXZhdGUgc3RhdGljIF9maWJvUGVyY2FudGFnZTogUmVhZG9ubHlBcnJheTxudW1iZXI+ID0gW1xuICAgICAgICAwLjIzNixcbiAgICAgICAgMC4zODIsXG4gICAgICAgIDAuNSxcbiAgICAgICAgMC42MTgsXG4gICAgICAgIDAuNzY0LFxuICAgICAgICAwLjc4NixcbiAgICAgICAgMSxcbiAgICAgICAgMS4yNzIsXG4gICAgICAgIDEuMzgyLFxuICAgICAgICAxLjYxOCxcbiAgICAgICAgMixcbiAgICAgICAgMi42MTgsXG4gICAgICAgIDQuMjM2XG4gICAgXTtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IEZJQk9fUEVSQ0VOVEFHRSgpOiBSZWFkb25seUFycmF5PG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlib1BlcmNhbnRhZ2U7XG4gICAgfVxufVxuIiwi77u/LyoqXG4gKiBDb3JlIGVudW1lcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGVudW0gVGltZUludGVydmFsIHtcbiAgICBub3RTZXQgPSAgICAgICAgIDAsXG4gICAgc2VjID0gICAgICAgICAxMDAwLFxuICAgIG1pbiA9ICAgICAgICA2MDAwMCxcbiAgICBtaW41ID0gICAgICAzMDAwMDAsXG4gICAgbWluMTUgPSAgICAgOTAwMDAwLFxuICAgIG1pbjMwID0gICAgMTgwMDAwMCxcbiAgICBob3VyID0gICAgIDM2MDAwMDAsXG4gICAgaG91cjQgPSAgIDE0NDAwMDAwLFxuICAgIGhvdXI2ID0gICAyMTYwMDAwMCxcbiAgICBob3VyMTIgPSAgNDMyMDAwMDAsXG4gICAgZGF5ID0gICAgIDg2NDAwMDAwLFxuICAgIGRheTMgPSAgIDI1OTIwMDAwMCxcbiAgICB3ZWVrID0gICA2MDQ4MDAwMDAsXG4gICAgZGF5MTAgPSAgODY0MDAwMDAwLFxuICAgIG1vbnRoID0gMjY3ODQwMDAwMCAvLyAzMSBkYXlzXG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJTW91c2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgRXZlbnRBcmd1bWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE9iamVjdEV2ZW50QXJndW1lbnQgZXh0ZW5kcyBFdmVudEFyZ3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIG9iajogYW55KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2VFdmVudEFyZ3VtZW50IGV4dGVuZHMgRXZlbnRBcmd1bWVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBtb3VzZTogSU1vdXNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRzIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRXZlbnRzO1xuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vYmplY3RTZWxlY3RlZCA9IG5ldyBFdmVudDxPYmplY3RFdmVudEFyZ3VtZW50PigpO1xuICAgIHB1YmxpYyBnZXQgb2JqZWN0U2VsZWN0ZWQoKTogRXZlbnQ8T2JqZWN0RXZlbnRBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0U2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfb2JqZWN0VHJlZUNoYW5nZWQgPSBuZXcgRXZlbnQ8RXZlbnRBcmd1bWVudD4oKTtcbiAgICBwdWJsaWMgZ2V0IG9iamVjdFRyZWVDaGFuZ2VkKCk6IEV2ZW50PEV2ZW50QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFRyZWVDaGFuZ2VkO1xuICAgIH1cblxuICAgIHByaXZhdGUgX21vdXNlTW92ZSA9IG5ldyBFdmVudDxNb3VzZUV2ZW50QXJndW1lbnQ+KCk7XG4gICAgcHVibGljIGdldCBtb3VzZU1vdmUoKTogRXZlbnQ8TW91c2VFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3VzZU1vdmU7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDb3JlIGludGVyZmFjZXMuXG4gKi9cbmltcG9ydCB7IENhbmRsZXN0aWNrLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIEl0ZXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IFRpbWVJbnRlcnZhbCB9IGZyb20gJy4vRW51bXMnO1xuaW1wb3J0IHsgU2V0dGluZ1NldCB9IGZyb20gJy4vU2V0dGluZ1NldCc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lQmFyIHtcbiAgICBwdWJsaWMgdWlkOiBVaWQ7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEdyaWQ8VD4ge1xuICAgIHB1YmxpYyBiYXJzOiBUW10gPSBbXTtcbiAgICBwdWJsaWMgcHJlY2lzaW9uOiBudW1iZXIgPSAwO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFydFBvaW50IHtcbiAgICByZWFkb25seSB1aWQ/OiBVaWQ7XG4gICAgcmVhZG9ubHkgdj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVGltZUNvb3JkQ29udmVydGVyIHtcbiAgICB0b1godWlkOiBVaWQpOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHRvVmFsdWUoeDogbnVtYmVyKTogVWlkfHVuZGVmaW5lZDtcbiAgICBkaXN0KHVpZEZyb206IFVpZCwgdWlkVG86IFVpZCk6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgYWRkKHVpZDogVWlkLCBhbW91bnQ6IG51bWJlcik6IFVpZHx1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZhbHVlQ29vcmRDb252ZXJ0ZXI8VD4ge1xuICAgIHRvWCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyO1xuICAgIHRvVmFsdWUoeDogbnVtYmVyKTogVCB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVGltZUF4aXMgZXh0ZW5kcyBJVGltZUNvb3JkQ29udmVydGVyIHtcbiAgICByYW5nZTogSVJhbmdlPFVpZD47XG4gICAgaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBjb3VudDogbnVtYmVyO1xuICAgIHJlc2V0KCk6IHZvaWQ7XG4gICAgbW92ZU5leHQoKTogYm9vbGVhbjtcbiAgICBjdXJyZW50OiBUaW1lQmFyO1xuICAgIG1vdmUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICAgIHNjYWxlKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZDtcbiAgICBsb2NrKHVpZDogVWlkKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBGb3IgcmVuZGVyaW5nIGdyaWRcbiAgICAgKi9cbiAgICBnZXRHcmlkKCk6IEl0ZXJhdG9yPFRpbWVCYXI+O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbW91bnQgb2YgZGF0YSBpbnRlcnZhbHMgYi93IHNwZWNpZmllZCB1aWRzLlxuICAgICAqL1xuICAgIGRpc3QodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgc3BlY2lmaWVkIGFtb3VudCBvZiBpbnRlcnZhbHMgdG8gdGhlIHNwZWNpZmllZCB1aWQuXG4gICAgICovXG4gICAgYWRkKHVpZDogVWlkLCBhbW91bnQ6IG51bWJlcik6IFVpZHx1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF4aXM8VD4gZXh0ZW5kcyBJVmFsdWVDb29yZENvbnZlcnRlcjxUPiB7XG4gICAgcmFuZ2U6IElSYW5nZTxUPjtcbiAgICBpbnRlcnZhbDogbnVtYmVyO1xuICAgIGdldEdyaWQoKTogR3JpZDxUPjtcbiAgICBnZXRWYWx1ZXNSYW5nZShmcm9tWDogbnVtYmVyLCB0b1g6IG51bWJlcik6IElSYW5nZTxUIHwgdW5kZWZpbmVkPjtcbiAgICBtb3ZlKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZDtcbiAgICBzY2FsZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvb3Jkc0NvbnZlcnRlciB7XG4gICAgdG9YKHZhbHVlOiBVaWQpOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHhUb1ZhbHVlKHg6IG51bWJlcik6IFVpZHx1bmRlZmluZWQ7XG5cbiAgICB0b1hZKHBvaW50OiBJQ2hhcnRQb2ludCk6IElQb2ludHx1bmRlZmluZWQ7XG4gICAgeHlUb1ZhbHVlKHBvaW50OiBJUG9pbnQpOiBJQ2hhcnRQb2ludDtcblxuICAgIHRvWSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyO1xuICAgIHlUb1ZhbHVlKHk6IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNvdXJjZSB7XG4gICAgZ2V0SEhMTCh1aWRGcm9tOiBVaWQsIHVpZFRvOiBVaWQpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQ7XG4gICAgZ2V0TGFzdENhbmRsZSgpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1vdXNlIHtcbiAgICBwb3M6IElQb2ludDtcbiAgICBpc0Rvd246IGJvb2xlYW47XG4gICAgaXNFbnRlcmVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElEYXRhU2VydmljZSB7XG4gICAgZ2V0Q2FuZGxlOiAoYXNzZXQ6IHN0cmluZywgZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkgPT4gUHJvbWlzZTxDYW5kbGVzdGljaz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0b3JhZ2Uge1xuICAgIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsO1xuICAgIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElJbmRpY2F0b3JFeHRlbnNpb24ge1xuICAgIGFtb3VudFJlcXVpcmVzOiBudW1iZXI7XG4gICAgZXh0ZW5kKGxpbmU6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPik6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVF1aWNrdGlwQnVpbGRlciB7XG4gICAgYWRkUXVpY2t0aXAodWlkOiBzdHJpbmcpOiBJUXVpY2t0aXA7XG4gICAgcmVtb3ZlUXVpY2t0aXAodWlkOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElRdWlja3RpcCB7XG4gICAgYWRkVGV4dEJsb2NrKHVpZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiB2b2lkO1xuICAgIHJlbW92ZVRleHRCbG9jayh1aWQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgYWRkQnV0dG9uKHVpZDogc3RyaW5nLCBjbGljazogKCkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbmZpZ3VyYWJsZSB7XG4gICAgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldDtcbiAgICBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZpc3VhbENvbXBvbmVudCB7XG4gICAgLy9nZXRHbG9iYWxPZmZzZXQoKTogSVBvaW50O1xufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSU1vdXNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIENoYXJ0UG9pbnQge1xuICAgIHB1YmxpYyB1aWQ/OiBVaWQ7XG4gICAgcHVibGljIHY/OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih1aWQ/OiBVaWQsIHZhbHVlPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudWlkID0gdWlkO1xuICAgICAgICB0aGlzLnYgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXF1YWxzKG90aGVyOiBDaGFydFBvaW50KSB7XG4gICAgICAgIGlmIChvdGhlcikge1xuICAgICAgICAgICAgaWYgKG90aGVyID09PSB0aGlzKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZiAoKCh0aGlzLnVpZCAmJiBvdGhlci51aWQgJiYgdGhpcy51aWQuZXF1YWxzKG90aGVyLnVpZCkpIHx8ICh0aGlzLnVpZCA9PT0gb3RoZXIudWlkKSlcbiAgICAgICAgICAgICAgICAmJiAodGhpcy52ID09PSBvdGhlci52KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3VzZSBpbXBsZW1lbnRzIElNb3VzZSB7XG4gICAgcHVibGljIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgIHB1YmxpYyBpc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgaXNFbnRlcmVkOiBib29sZWFuID0gZmFsc2U7XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBJSGFzaFRhYmxlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdUeXBlIHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGNoZWNrOiBzdHJpbmcgPSAnY2hlY2snO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY29sb3I6IHN0cmluZyA9ICdjb2xvcic7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBudW1lcmljOiBzdHJpbmcgPSAnbnVtZXJpYyc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBzZWxlY3Q6IHN0cmluZyA9ICdzZWxlY3QnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZGF0ZTogc3RyaW5nID0gJ2RhdGUnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPcHRpb24ge1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZXR0aW5nIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU/OiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgc2V0dGluZ1R5cGU/OiBzdHJpbmc7XG4gICAgdmlzaWJsZT86IGJvb2xlYW47XG4gICAgZ3JvdXA/OiBib29sZWFuO1xuICAgIG9wdGlvbnM/OiBJT3B0aW9uW107XG4gICAgc2V0dGluZ3M/OiBJU2V0dGluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ1NldCB7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyB2YWx1ZTogc3RyaW5nID0gJyc7XG4gICAgcHVibGljIGRpc3BhbHlOYW1lOiBzdHJpbmcgPSAnJztcbiAgICBwdWJsaWMgc2V0dGluZ1R5cGU6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgZ3JvdXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgb3B0aW9uczogSU9wdGlvbltdID0gW107XG4gICAgcHVibGljIHNldHRpbmdzOiBJSGFzaFRhYmxlPFNldHRpbmdTZXQ+ID0ge307XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IocGFyYW06IElTZXR0aW5nfHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gcGFyYW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZXR0aW5nU2V0LmluaXQodGhpcywgcGFyYW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmcocGF0aDogc3RyaW5nLCBzZXR0aW5nOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBsZXQgZGVzdCA9IHRoaXMuc2V0dGluZ3M7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBwYXJ0ID09PSB0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcm9vdCBuYW1lIGlmIGl0IHBvaW50cyB0byB0aGlzIHNldHRpbmdcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkZXN0W3BhcnRdKSB7XG4gICAgICAgICAgICAgICAgZGVzdFtwYXJ0XSA9IG5ldyBTZXR0aW5nU2V0KHBhcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA9PT0gcGFydHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGRlc3RbcGFydF0gPSBzZXR0aW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZXN0ID0gZGVzdFtwYXJ0XS5zZXR0aW5ncztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZU9yRGVmYXVsdDxUIGV4dGVuZHMgYm9vbGVhbnxudW1iZXJ8c3RyaW5nfERhdGU+KHBhdGg6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBUKTogVCB7XG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB0aGlzLmdldFNldHRpbmcocGF0aCk7XG5cbiAgICAgICAgaWYgKHNldHRpbmcgJiYgIXNldHRpbmcuc2V0dGluZ1R5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2V0dGluZyB0eXBlIGlzIHVuc3BlY2lmaWVkIGZvciBzZXR0aW5nICR7c2V0dGluZy5uYW1lfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNldHRpbmcgJiYgc2V0dGluZy5zZXR0aW5nVHlwZSAmJiBzZXR0aW5nLnZhbHVlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHNldHRpbmcuc2V0dGluZ1R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLmNoZWNrOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFQ+KHNldHRpbmcudmFsdWUgPT09ICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgY2FzZSBTZXR0aW5nVHlwZS5jb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUPnNldHRpbmcudmFsdWU7XG4gICAgICAgICAgICAgICAgY2FzZSBTZXR0aW5nVHlwZS5udW1lcmljOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFQ+cGFyc2VJbnQoc2V0dGluZy52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuc2VsZWN0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFQ+cGFyc2VJbnQoc2V0dGluZy52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuZGF0ZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUPkRhdGVVdGlscy5wYXJzZUlTT0RhdGUoc2V0dGluZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHNldHRpbmcgdHlwZSAke3NldHRpbmcuc2V0dGluZ1R5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZyhwYXRoOiBzdHJpbmcpOiBTZXR0aW5nU2V0fHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNldHRpbmdJbXBsKHBhdGgsICcnLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNldHRpbmdJbXBsKHBhdGg6IHN0cmluZywgY291bnRlcjogc3RyaW5nLCBzczogU2V0dGluZ1NldCk6IFNldHRpbmdTZXQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb3VudGVyID0gY291bnRlciA/IGNvdW50ZXIgKyAnLicgKyBzcy5uYW1lIDogc3MubmFtZTtcblxuICAgICAgICBpZiAoY291bnRlciA9PT0gcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIE9iamVjdC5rZXlzKHNzLnNldHRpbmdzKSkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5nZXRTZXR0aW5nSW1wbChwYXRoLCBjb3VudGVyLCBzcy5zZXR0aW5nc1tzXSk7XG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGluaXQob2JqOiBTZXR0aW5nU2V0LCB2YWx1ZXM6IElTZXR0aW5nKTogdm9pZCB7XG4gICAgICAgIG9iai5uYW1lID0gdmFsdWVzLm5hbWU7XG4gICAgICAgIG9iai52YWx1ZSA9IHZhbHVlcy52YWx1ZSB8fCAnJztcbiAgICAgICAgb2JqLnNldHRpbmdUeXBlID0gdmFsdWVzLnNldHRpbmdUeXBlIHx8ICcnO1xuICAgICAgICBvYmouZGlzcGFseU5hbWUgPSB2YWx1ZXMuZGlzcGxheU5hbWUgfHwgJyc7XG4gICAgICAgIG9iai52aXNpYmxlID0gdmFsdWVzLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IHZhbHVlcy52aXNpYmxlIDogdHJ1ZTtcbiAgICAgICAgb2JqLmdyb3VwID0gdmFsdWVzLmdyb3VwIHx8IGZhbHNlO1xuICAgICAgICBvYmoub3B0aW9ucyA9IHZhbHVlcy5vcHRpb25zIHx8IFtdO1xuXG4gICAgICAgIGlmICh2YWx1ZXMuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB2YWx1ZXMuc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWQgPSBuZXcgU2V0dGluZ1NldChzLm5hbWUpO1xuICAgICAgICAgICAgICAgIFNldHRpbmdTZXQuaW5pdChuZXN0ZWQsIHMpO1xuICAgICAgICAgICAgICAgIG9iai5zZXRTZXR0aW5nKHMubmFtZSwgbmVzdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogU3RvcmFnZSBjbGFzc2VzLlxuICovXG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBKc29uVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBJU3RvcmFnZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbi8qKlxuICogTG9hZHMgYW5kIHNhdmVzIHN0b3JhZ2UgdHJlZSBmcm9tL3RvIGV4dGVybmFsIHN0b3JhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdG9yYWdlTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBfcm9vdCA9IG5ldyBTdG9yZUNvbnRhaW5lcigpO1xuICAgIHByaXZhdGUgc3RvcmFnZT86IElTdG9yYWdlO1xuXG4gICAgY29uc3RydWN0b3Ioc3RvcmFnZT86IElTdG9yYWdlKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgICAgIHRoaXMuX3Jvb3QuY2hhbmdlZC5vbih0aGlzLm9uQ2hhbmdlZCk7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByb290KCk6IFN0b3JlQ29udGFpbmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZSkge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKCdfX2NoYXJ0Ym9hcmRfc3RvcmFnZV9fJyk7XG4gICAgICAgICAgICBpZiAoc2VyaWFsaXplZCkge1xuICAgICAgICAgICAgICAgIC8vIHVuc3Vic2NyaWJlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5jaGFuZ2VkLm9mZih0aGlzLm9uQ2hhbmdlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgbmV3IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZCwgSnNvblV0aWxzLkRBVEVQQVJTRVIpOyAvLyBQYXJzaW5nIGRhdGVzIGFzIERhdGUoKVxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgU3RvcmVDb250YWluZXIob2JqKTtcbiAgICAgICAgICAgICAgICAvLyBzdWJzY3JpYmVcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290LmNoYW5nZWQub24odGhpcy5vbkNoYW5nZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYXZlKCkge1xuICAgICAgICBpZiAodGhpcy5zdG9yYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLl9yb290LnNlcmlhbGl6ZSgpO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSgnX19jaGFydGJvYXJkX3N0b3JhZ2VfXycsIHNlcmlhbGl6ZWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBub2RlIGZyb20gc3RvcmFnZSB0cmVlLlxuICovXG5leHBvcnQgY2xhc3MgU3RvcmVDb250YWluZXIge1xuICAgIHByaXZhdGUgb2JqOiBPYmplY3Q7XG4gICAgcHJpdmF0ZSByb290PzogU3RvcmVDb250YWluZXI7XG5cbiAgICBwcml2YXRlIF9jaGFuZ2VkRXZ0ID0gbmV3IEV2ZW50PHZvaWQ+KCk7XG4gICAgcHVibGljIGdldCBjaGFuZ2VkKCk6IEV2ZW50PHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWRFdnQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iob2JqPzogT2JqZWN0LCByb290PzogU3RvcmVDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5vYmogPSBvYmogfHwgbmV3IE9iamVjdCgpO1xuICAgICAgICB0aGlzLnJvb3QgPSByb290O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQcm9wZXJ0eShwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiAoPGFueT50aGlzLm9iailbcHJvcGVydHlOYW1lXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0UHJvcGVydHkocHJvcGVydHlOYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgKDxhbnk+dGhpcy5vYmopW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnNldENoYW5nZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0T2JqZWN0UHJvcGVydHkocHJvcE5hbWU6IHN0cmluZyk6IFN0b3JlQ29udGFpbmVyIHtcbiAgICAgICAgbGV0IG8gPSAoPGFueT50aGlzLm9iailbcHJvcE5hbWVdO1xuICAgICAgICBpZiAobyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvID0gbmV3IE9iamVjdCgpO1xuICAgICAgICAgICAgKDxhbnk+dGhpcy5vYmopW3Byb3BOYW1lXSA9IG87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdG9yZUNvbnRhaW5lcihvLCB0aGlzLnJvb3QgfHwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFycmF5UHJvcGVydHkocHJvcE5hbWU6IHN0cmluZyk6IFN0b3JlQXJyYXkge1xuICAgICAgICBsZXQgbyA9ICg8YW55PnRoaXMub2JqKVtwcm9wTmFtZV07XG4gICAgICAgIGlmIChvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG8gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICg8YW55PnRoaXMub2JqKVtwcm9wTmFtZV0gPSBvO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmVBcnJheShvLCB0aGlzLnJvb3QgfHwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNlcmlhbGl6ZSgpOiBvYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmo7XG4gICAgfVxuXG4gICAgcHVibGljIHNldENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdC5zZXRDaGFuZ2VkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFycmF5IG9mIG5vZGVzIGZyb20gc3RvcmFnZSB0cmVlLlxuICovXG5leHBvcnQgY2xhc3MgU3RvcmVBcnJheSB7XG4gICAgcHJpdmF0ZSBhcnJheTogb2JqZWN0W10gPSBbXTtcbiAgICBwcml2YXRlIGNvbnRhaW5lcnM6IFN0b3JlQ29udGFpbmVyW10gPSBbXTtcbiAgICBwcml2YXRlIHJvb3Q6IFN0b3JlQ29udGFpbmVyO1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuICAgIGNvbnN0cnVjdG9yKGE6IG9iamVjdFtdLCByb290OiBTdG9yZUNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmFycmF5ID0gYTtcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICAgICAgdGhpcy5jb250YWluZXJzID0gYS5tYXAoZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdG9yZUNvbnRhaW5lcihlbCwgcm9vdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRJdGVtKCk6IFN0b3JlQ29udGFpbmVyIHtcbiAgICAgICAgY29uc3QgbyA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgdGhpcy5hcnJheS5wdXNoKG8pO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBTdG9yZUNvbnRhaW5lcihvLCB0aGlzLnJvb3QpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcnMucHVzaChjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMucm9vdC5zZXRDaGFuZ2VkKCk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlSXRlbShpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgdGhpcy5yb290LnNldENoYW5nZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXNBcnJheSgpOiBTdG9yZUNvbnRhaW5lcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVycztcbiAgICB9XG59XG4iLCIvKipcbiAqIFZpc3VhbENvbXBvbmVudCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSwgUG9pbnQsIFNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSVZpc3VhbENvbXBvbmVudCB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi9WaXN1YWxDb250ZXh0JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElWaXN1YWxDb21wb25lbnQge1xuICAgIHByb3RlY3RlZCBfb2Zmc2V0OiBQb2ludDtcbiAgICBwcm90ZWN0ZWQgX3NpemU6IFNpemU7XG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogVmlzdWFsQ29tcG9uZW50W10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX3Zpc2libGUgPSB0cnVlO1xuXG4gICAgcHVibGljIGdldCBvZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgb2Zmc2V0KHZhbHVlOiBQb2ludCkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNpemUoKTogSVNpemUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCk6IFZpc3VhbENvbXBvbmVudFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9mZnNldD86IElQb2ludCwgc2l6ZT86IElTaXplKSB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9mZnNldCA/IG5ldyBQb2ludChvZmZzZXQueCwgb2Zmc2V0LnkpIDogbmV3IFBvaW50KDAsIDApO1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZSA/IG5ldyBTaXplKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSA6IG5ldyBTaXplKDAsIDApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogVmlzdWFsQ29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDaGlsZChjaGlsZDogVmlzdWFsQ29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gdGhpcy5fY2hpbGRyZW4uZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IGNoaWxkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGVNb3VzZShyZWxYOiBudW1iZXIsIHJlbFk6IG51bWJlcikge1xuICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBqdXN0IHBhc3NpbmcgbWVzc2FnZSB0byBjaGlsZHJlblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZC5oYW5kZU1vdXNlKHJlbFggLSBjaGlsZC5vZmZzZXQueCwgcmVsWSAtIGNoaWxkLm9mZnNldC55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpOiB2b2lkIHtcbiAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvcjoganVzdCBwYXNzaW5nIG1lc3NhZ2UgdG8gY2hpbGRyZW5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBzZXQgc2l6ZSBhbmQgcGFzcyBtZXNzYWdlIHRvIGNoaWxkcmVuXG4gICAgICAgIHRoaXMuX3NpemUgPSB7IHdpZHRoOiB3LCBoZWlnaHQ6IGh9O1xuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkLnJlc2l6ZSh3LCBoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBmb3JFYWNoKGRlbGVnYXRlOiB7KGNvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50LCBhZ2dyZWdhdGVkT2Zmc2V0OiBJUG9pbnQpOiB2b2lkIH0sXG4gICAgICAgICAgICAgICAgICAgY2hpbGRyZW5GaXJzdDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgIGRpcmVjdE9yZGVyOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmZvckVhY2hBZ2dyZWdhdG9yKGRlbGVnYXRlLCBjaGlsZHJlbkZpcnN0LCBkaXJlY3RPcmRlciwgbmV3IFBvaW50KDAsIDApKTtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgZ2V0R2xvYmFsT2Zmc2V0KCk6IElQb2ludCB7XG4gICAgLy8gICAgIC8vaWYgKCF0aGlzLmdsb2JhbE9mZnNldCkge1xuICAgIC8vICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5nbG9iYWxPZmZzZXQgPSB0aGlzLl9vZmZzZXQuYWRkKHRoaXMucGFyZW50LmdldEdsb2JhbE9mZnNldCgpKTtcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5nbG9iYWxPZmZzZXQgPSBuZXcgUG9pbnQodGhpcy5fb2Zmc2V0LngsIHRoaXMuX29mZnNldC55KTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgLy99XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmdsb2JhbE9mZnNldDtcbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIGZvckVhY2hBZ2dyZWdhdG9yKFxuICAgICAgICBkZWxlZ2F0ZTogeyhjb21wb25lbnQ6IFZpc3VhbENvbXBvbmVudCwgYWdncmVnYXRlZE9mZnNldDogSVBvaW50KTogdm9pZCB9LFxuICAgICAgICBjaGlsZHJlbkZpcnN0OiBib29sZWFuLFxuICAgICAgICBkaXJlY3RPcmRlcjogYm9vbGVhbixcbiAgICAgICAgaW5pdGlhbE9mZnNldDogUG9pbnQpOiBib29sZWFuIHtcblxuICAgICAgICAvLyAxLiBFeGVjdXRlIGZvciB0aGlzIGNvbXBvbmVudFxuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG5ldyBQb2ludChpbml0aWFsT2Zmc2V0LnggKyB0aGlzLm9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE9mZnNldC55ICsgdGhpcy5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbkZpcnN0ICYmICFkZWxlZ2F0ZSh0aGlzLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHN0b3AgaXRlcmF0aW5nXG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBJdGVyYXRpbmcgdGhyb3VnaCBjaGlsZHJlbiBpbiBkaXJlY3Qgb3IgcmV2ZXJzZSBvcmRlclxuICAgICAgICBsZXQgaW5kZXggPSBkaXJlY3RPcmRlciA/IDAgOiB0aGlzLl9jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoKGRpcmVjdE9yZGVyICYmIGluZGV4IDwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICAgfHwgKCFkaXJlY3RPcmRlciAmJiBpbmRleCA+PSAwKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGlsZHJlbltpbmRleF0uZm9yRWFjaEFnZ3JlZ2F0b3IoZGVsZWdhdGUsIGNoaWxkcmVuRmlyc3QsIGRpcmVjdE9yZGVyLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzdG9wIGl0ZXJhdGluZyB0aHJvdWdoIGNoaWxkcmVuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCA9IGRpcmVjdE9yZGVyID8gaW5kZXggKyAxIDogaW5kZXggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuRmlyc3QgJiYgIWRlbGVnYXRlKHRoaXMsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3RvcCBpdGVyYXRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBjb250aW51ZVxuICAgIH1cbn1cbiIsIi8qKlxuICogVmlzdWFsQ29udGV4dCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgVmlzdWFsQ29udGV4dCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyQmFzZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9yZW5kZXJGcm9udDogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBnZXQgcmVuZGVyQmFzZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlckJhc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByZW5kZXJGcm9udCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlckZyb250O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZW5kZXJCYXNlOiBib29sZWFuLFxuICAgICAgICByZW5kZXJGcm9udDogYm9vbGVhblxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhc2UgPSByZW5kZXJCYXNlO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRnJvbnQgPSByZW5kZXJGcm9udDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBBbW91bnRSYW5nZSwgQW1vdW50UmFuZ2VPcHMgfSBmcm9tICcuL0Ftb3VudFJhbmdlJztcbmltcG9ydCB7IENoYXJ0VHlwZSB9IGZyb20gJy4vQ2hhcnRUeXBlJztcbmltcG9ydCB7IENPYmplY3QgfSBmcm9tICcuL0NPYmplY3QnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi9FbnVtcyc7XG5pbXBvcnQgeyBFdmVudEFyZ3VtZW50LCBFdmVudHMsIE1vdXNlRXZlbnRBcmd1bWVudCwgT2JqZWN0RXZlbnRBcmd1bWVudCB9IGZyb20gJy4vRXZlbnRzJztcbmltcG9ydCB7IEdyaWQsXG4gICAgICAgICBJQXhpcyxcbiAgICAgICAgIElDaGFydFBvaW50LFxuICAgICAgICAgSUNvbmZpZ3VyYWJsZSxcbiAgICAgICAgIElDb29yZHNDb252ZXJ0ZXIsXG4gICAgICAgICBJRGF0YVNlcnZpY2UsXG4gICAgICAgICBJSW5kaWNhdG9yRXh0ZW5zaW9uLFxuICAgICAgICAgSU1vdXNlLCBJUXVpY2t0aXAsIElRdWlja3RpcEJ1aWxkZXIsXG4gICAgICAgICBJU291cmNlLFxuICAgICAgICAgSVN0b3JhZ2UsXG4gICAgICAgICBJVGltZUF4aXMsXG4gICAgICAgICBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICAgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgICBJVmlzdWFsQ29tcG9uZW50LFxuICAgICAgICAgVGltZUJhciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBNb3VzZSB9IGZyb20gJy4vTW9kZWwnO1xuXG5pbXBvcnQgeyBJU2V0dGluZywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUgfSBmcm9tICcuL1NldHRpbmdTZXQnO1xuaW1wb3J0IHsgU3RvcmFnZU1hbmFnZXIsIFN0b3JlQXJyYXksIFN0b3JlQ29udGFpbmVyIH0gZnJvbSAnLi9TdG9yYWdlTWFuYWdlcic7XG5pbXBvcnQgeyBWaXN1YWxDb21wb25lbnQgfSBmcm9tICcuL1Zpc3VhbENvbXBvbmVudCc7XG5pbXBvcnQgeyBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi9WaXN1YWxDb250ZXh0JztcblxuZXhwb3J0IHtcbiAgICBBbW91bnRSYW5nZSxcbiAgICBBbW91bnRSYW5nZU9wcyxcbiAgICBDaGFydFBvaW50LFxuICAgIENoYXJ0VHlwZSxcbiAgICBDT2JqZWN0LFxuICAgIENvbnN0YW50cyxcbiAgICBFdmVudEFyZ3VtZW50LFxuICAgIEV2ZW50cyxcbiAgICBHcmlkLFxuICAgIElBeGlzLFxuICAgIElDaGFydFBvaW50LFxuICAgIElDb25maWd1cmFibGUsXG4gICAgSUNvb3Jkc0NvbnZlcnRlcixcbiAgICBJRGF0YVNlcnZpY2UsXG4gICAgSU1vdXNlLFxuICAgIElJbmRpY2F0b3JFeHRlbnNpb24sXG4gICAgSVF1aWNrdGlwLFxuICAgIElRdWlja3RpcEJ1aWxkZXIsXG4gICAgSVNldHRpbmcsXG4gICAgSVNvdXJjZSxcbiAgICBJU3RvcmFnZSxcbiAgICBJVGltZUF4aXMsXG4gICAgSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICBJVmFsdWVDb29yZENvbnZlcnRlcixcbiAgICBJVmlzdWFsQ29tcG9uZW50LFxuICAgIE1vdXNlLFxuICAgIE1vdXNlRXZlbnRBcmd1bWVudCxcbiAgICBPYmplY3RFdmVudEFyZ3VtZW50LFxuICAgIFNldHRpbmdTZXQsXG4gICAgU2V0dGluZ1R5cGUsXG4gICAgU3RvcmFnZU1hbmFnZXIsXG4gICAgU3RvcmVBcnJheSxcbiAgICBTdG9yZUNvbnRhaW5lcixcbiAgICBWaXN1YWxDb21wb25lbnQsXG4gICAgVmlzdWFsQ29udGV4dCxcbiAgICBUaW1lQmFyLFxuICAgIFRpbWVJbnRlcnZhbFxufVxuIiwi77u/LyoqXG4gKiBBcnJheURhdGFTb3VyY2UgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIElUaW1lVmFsdWUsIElVaWRWYWx1ZSwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlEYXRhU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG5cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVN0b3JhZ2U6IEFycmF5RGF0YVN0b3JhZ2U8Q2FuZGxlc3RpY2s+O1xuICAgIC8vIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdE1pblZhbHVlID0gMDtcbiAgICAvLyBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNYXhWYWx1ZSA9IDEwMDtcblxuICAgIHByb3RlY3RlZCBjb21wYXJlciA9IChpdGVtMTogSVVpZFZhbHVlLCBpdGVtMjogSVVpZFZhbHVlKSA9PiB7IHJldHVybiBpdGVtMS51aWQuY29tcGFyZShpdGVtMi51aWQpOyB9O1xuLy8gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbXBhcmVyID0gKGl0ZW0xOiBJVWlkVmFsdWUsIGl0ZW0yOiBJVWlkVmFsdWUpID0+IHsgcmV0dXJuIGl0ZW0xLmRhdGUuZ2V0VGltZSgpIC0gaXRlbTIuZGF0ZS5nZXRUaW1lKCk7IH07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBDYW5kbGVzdGljayB9LFxuICAgICAgICBjb25maWc6IERhdGFTb3VyY2VDb25maWcsXG4gICAgICAgIGRhdGE6IENhbmRsZXN0aWNrW10sXG4gICAgICAgIGNvbXBhcmVyPzogKGl0ZW0xOiBJVWlkVmFsdWUsIGl0ZW0yOiBJVWlkVmFsdWUpID0+IG51bWJlclxuICAgICAgICApIHtcbiAgICAgICAgICAgIHN1cGVyKGRhdGFUeXBlLCBjb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoY29tcGFyZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBhcmVyID0gY29tcGFyZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXREYXRhID0gZGF0YS5zbGljZSgpO1xuICAgICAgICAgICAgaW5pdERhdGEuc29ydCh0aGlzLmNvbXBhcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZSA9IG5ldyBBcnJheURhdGFTdG9yYWdlPENhbmRsZXN0aWNrPih0aGlzLmNvbXBhcmVyLCBpbml0RGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQodWlkOiBVaWQsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVyYXRvcihmaWx0ZXI/OiAoaXRlbTogQ2FuZGxlc3RpY2spID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIC8vIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKGZpbHRlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7IH1cbn1cbiIsIi8qKlxuICogQXJyYXlEYXRhU3RvcmFnZSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQXJyYXlVdGlscywgSUNvbXBhcmVyIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlJdGVyYXRvciB9IGZyb20gJy4vQXJyYXlJdGVyYXRvcic7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNuYXBzaG90LCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG4vKipcbiAqIFN0b3JlcyBpdGVtcyBpbiBzb3J0ZWQgYXJyYXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcnJheURhdGFTdG9yYWdlPFQ+IGltcGxlbWVudHMgSURhdGFTdG9yYWdlPFQ+IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGF0YVNuYXBzaG90OiBJRGF0YVNuYXBzaG90PFQ+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY29tcGFyZXI6IElDb21wYXJlcjxUPjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbXBhcmVyOiBJQ29tcGFyZXI8VD4sIGluaXRBcnJheT86IFRbXSkge1xuICAgICAgICBpZiAoIWNvbXBhcmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFxcJ2NvbXBhcmVyXFwnIGlzIG51bGwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wYXJlciA9IGNvbXBhcmVyO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgIGRhdGE6IGluaXRBcnJheSA/IGluaXRBcnJheS5zbGljZSgpIDogW10sXG4gICAgICAgICAgICB0aW1lc3RhbXA6IDBcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc29ydCBpbml0aWFsIGFycmF5XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuc29ydCh0aGlzLmNvbXBhcmVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaXJzdCgpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVNuYXBzaG90LmRhdGE7XG4gICAgICAgIHJldHVybiAoZGF0YS5sZW5ndGggPiAwKSA/IGRhdGFbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsYXN0KCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHJldHVybiAobGVuZ3RoID4gMCkgPyBkYXRhW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWVyZ2UodXBkYXRlOiBUW10sIHVwZGF0ZUZ1bmN0aW9uPzogKHRhcmdldDogVCwgdXBkYXRlOiBUKSA9PiBUKTogdm9pZCB7XG4gICAgICAgIGlmICh1cGRhdGUgJiYgdXBkYXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gU29ydCBpbmNvbWluZyBhcnJheVxuICAgICAgICAgICAgdXBkYXRlLnNvcnQodGhpcy5jb21wYXJlcik7XG4gICAgICAgICAgICAvLyBVcGRhdGUgY3VycmVudCB0aW1lc3RhbXBcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgICAgICAvLyBJbXBvcnQgaW5jb21pbmcgZGF0YSB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBBcnJheVV0aWxzLm1lcmdlKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEsIHVwZGF0ZSwgdGhpcy5jb21wYXJlciwgdXBkYXRlRnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIGNvbmRpdGlvbiBhbmQgcmVtb3ZlcyBhbGwgZm9sbHdpbmcgaXRlbXMgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHByZWRpY2F0ZVxuICAgICAqL1xuICAgIHB1YmxpYyByZW1vdmVBZnRlckluY2x1c2l2ZShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGl0ZW1JbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLnNvbWUoKGU6IFQsIGk6IG51bWJlciwgYXJyYXkpID0+IHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoZSkpIHtcbiAgICAgICAgICAgICAgICBpdGVtSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXRlbUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnQgdGltZXN0YW1wXG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgIC8vIEltcG9ydCBpbmNvbWluZyBkYXRhIHRvIHRoZSBhcnJheVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCA9IGl0ZW1JbmRleDtcbiAgICAgICAgLy90aGlzLmRhdGFTbmFwc2hvdC5kYXRhID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5zbGljZSgwLCBpdGVtSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGl0ZW1zIGZyb20gdGhlIHN0YXJ0LlxuICAgICAqIEl0ZXJhdGVzdCB0aHJvdWdoIGl0ZW1zIGZyb20gYmVnaW5uaW5nLCBmaW5kcyBmaXJzdCBpdGVtIHRoYXQgaXMgbm90IGZpdCB0byBjb25kaXRpb24gYW5kIHJlbW92ZXMgYWxsIHByZWNlZGluZy5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlIFxuICAgICAqL1xuICAgIHB1YmxpYyB0cmltTGVmdChwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLnNvbWUoKGU6IFQsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGUoZSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGVsZW1lbnRzIGluIGFycmF5IG9yIGFsbCBlbGVtZW50cyBmaXQgdGhlIGNvbmRpdGlvbi5cbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuc3BsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgKyAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaXRlbXMgZnJvbSB0aGUgZW5kLlxuICAgICAqIEl0ZXJhdGVzdCB0aHJvdWdoIGl0ZW1zIGZyb20gZW5kLCBmaW5kcyBmaXJzdCBpdGVtIHRoYXQgaXMgbm90IGZpdCB0byBjb25kaXRpb24gYW5kIHJlbW92ZXMgYWxsIGZvbGxvd2luZy5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlIFxuICAgICAqL1xuICAgIHB1YmxpYyB0cmltUmlnaHQocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBjb25zdCBsID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGljYXRlKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbaV0pKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gSWYgbm8gZWxlbWVudHMgaW4gYXJyYXkgb3IgYWxsIGVsZW1lbnRzIGZpdCB0aGUgY29uZGl0aW9uLlxuICAgICAgICAgICAgdGhpcy5kYXRhU25hcHNob3QuZGF0YSA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKChpbmRleCArIDEpIDwgbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5zcGxpY2UoaW5kZXggKyAxKTsgLy8gcmVtb3ZlIGFsbCBpdGVtcyBhZnRlciBzcGVjaWZpZWQgaW5kZXggKGluY2x1c2l2ZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgKyAxO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBmaWx0ZXIoZmlsdGVyPzogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPFQ+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yPFQ+KHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIGZpbHRlcik7XG4gICAgLy8gfVxuXG4gICAgcHVibGljIGdldEl0ZXJhdG9yKGZpbHRlcj86IChpdGVtOiBUKSA9PiBib29sZWFuKTogSURhdGFJdGVyYXRvcjxUPiB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIGZpbHRlcik7XG5cbiAgICAgICAgLy8gLy8gRmluZCB0aGUgZWxlbWVudFxuICAgICAgICAvLyBjb25zdCBpdGVtSW5kZXggPSB0aGlzLmZpbmRJbmRleChwcmVkaWNhdGUpO1xuXG4gICAgICAgIC8vIGlmIChpdGVtSW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBpbWluID0gTWF0aC5taW4oaXRlbUluZGV4LCBpdGVtSW5kZXggKyBjb3VudCk7XG4gICAgICAgIC8vICAgICBjb25zdCBpbWF4ID0gTWF0aC5tYXgoaXRlbUluZGV4LCBpdGVtSW5kZXggKyBjb3VudCk7XG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IodGhpcy5kYXRhU25hcHNob3QsIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZTogVCwgaTogbnVtYmVyKSA9PiB7IHJldHVybiAoaSA+PSBpbWluICYmIGkgPD0gaW1heCk7IH0pO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKFxuICAgICAgICAvLyAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIChlOiBULCBpOiBudW1iZXIpID0+IGZhbHNlKTsgLy8gRG8gbm90IHJldHVybiBhbnl0aGluZyAgICAgICAgICAgICAgIFxuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgLy8gcHVibGljIGNvbnRhaW5zKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAvLyAgICAgLy8gRmluZCB0aGUgZWxlbWVudFxuICAgIC8vICAgICBjb25zdCBpdGVtSW5kZXggPSB0aGlzLmZpbmRJbmRleChwcmVkaWNhdGUpO1xuXG4gICAgLy8gICAgIHJldHVybiAoaXRlbUluZGV4ICE9PSAtMSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHVibGljIGNvbnRhaW5zQ291bnQocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbiwgY291bnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vICAgICAvLyBGaW5kIHRoZSBlbGVtZW50XG4gICAgLy8gICAgIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuZmluZEluZGV4KHByZWRpY2F0ZSk7XG5cbiAgICAvLyAgICAgcmV0dXJuIChpdGVtSW5kZXggKyBjb3VudCkgPj0gMCAmJiAoaXRlbUluZGV4ICsgY291bnQpIDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG4gICAgLy8gfVxuXG4gICAgLy8gcHVibGljIGZpbmRMYXN0KHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAvLyAgICAgbGV0IGxhc3Q6IFQgfCB1bmRlZmluZWQ7XG4gICAgLy8gICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuZm9yRWFjaCgoZTogVCwgaTogbnVtYmVyKSA9PiB7XG4gICAgLy8gICAgICAgICBpZiAocHJlZGljYXRlKGUpKSB7XG4gICAgLy8gICAgICAgICAgICAgbGFzdCA9IGU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gbGFzdDtcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIGZpbmRJbmRleChwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAvLyAgICAgbGV0IGl0ZW1JbmRleCA9IC0xO1xuICAgIC8vICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmZvckVhY2goKGU6IFQsIGk6IG51bWJlcikgPT4ge1xuICAgIC8vICAgICAgICAgaWYgKHByZWRpY2F0ZShlKSkge1xuICAgIC8vICAgICAgICAgICAgIGl0ZW1JbmRleCA9IGk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gaXRlbUluZGV4O1xuICAgIC8vIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IElEYXRhSXRlcmF0b3IsIElEYXRhU25hcHNob3QgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlJdGVyYXRvcjxUPiBpbXBsZW1lbnRzIElEYXRhSXRlcmF0b3I8VD4ge1xuXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXggPSAwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZmlsdGVyPzogKGl0ZW06IFQpID0+IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBkYXRhU25hcHNob3Q6IElEYXRhU25hcHNob3Q8VD4sXG4gICAgICAgIHByaXZhdGUgdGltZXN0YW1wOiBudW1iZXIsXG4gICAgICAgIGZpbHRlcj86IChpdGVtOiBUKSA9PiBib29sZWFuXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiBkYXRhLlxuICAgICAqL1xuICAgIHB1YmxpYyBnb1RvKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLm1vdmVOZXh0KCkpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUodGhpcy5jdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBpdGVyYXRvciB3aGlsZSBjb25kaXRpb24gaXMgbWV0LiBTdGF5cyBvbiB0aGUgbGFzdCBlbGVtZW50IHRoYXQgc2F0aXNmeSBjb25kaXRpb24uXG4gICAgICogU3RhcnRzIGZyb20gYmVnaW5uaW5nLlxuICAgICAqIEBwYXJhbSBwcmVkaWNhdGUgXG4gICAgICovXG4gICAgcHVibGljIGdvV2hpbGUocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgbGV0IG5leHRJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChuZXh0SW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aFxuICAgICAgICAgICAgICAgJiYgcHJlZGljYXRlKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbbmV4dEluZGV4XSkpIHtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICBuZXh0SW5kZXggKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy5jdXJyZW50SW5kZXggPj0gMCAmJiB0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBwb2ludGVyIGZyb20gY3VycmVudCBwb3NpdGlvbiB1bnRpbGwgY29uZGl0aW9uIGlzIG1ldC5cbiAgICAgKiBSZXR1cm5zIGNvdW50IG9mIG1vdmVzIGRvbmUuIE9yIC0xIGlmIGNvdWxkIG5vdCBmaW5kIGVsZW1lbnQuXG4gICAgICovXG4gICAgcHVibGljIG1vdmVUbyhwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGNvdW50TW92ZXMgPSAwO1xuXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGN1cnJlbnQgZWxlbWVudDpcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSh0aGlzLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50TW92ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudE1vdmVzICs9IDE7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMubW92ZU5leHQoKSk7XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBmaW5kKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAvLyAgICAgLy8gU2hvdWxkIG5vdCBjaGFuZ2Ugc3RhdGVcblxuICAgIC8vICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAvLyAgICAgd2hpbGUgKGluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyAgICAgICAgIGluZGV4ID0gdGhpcy5za2lwRmlsdGVyZWRGb3J3YXJkKGluZGV4KTtcbiAgICAvLyAgICAgICAgIGlmIChpbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoICYmIHByZWRpY2F0ZSh0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW2luZGV4XSkpIHtcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhU25hcHNob3QuZGF0YVtpbmRleF07XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBwdWJsaWMgY291bnQoKTogbnVtYmVyIHtcbiAgICAvLyAgICAgLy8gU2hvdWxkIG5vdCBjaGFuZ2Ugc3RhdGVcbiAgICAvLyAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAvLyAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgLy8gICAgIHdoaWxlIChpbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gICAgICAgICBpbmRleCA9IHRoaXMuc2tpcEZpbHRlcmVkRm9yd2FyZChpbmRleCk7XG4gICAgLy8gICAgICAgICBpZiAoaW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCkge1xuICAgIC8vICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgcmV0dXJuIGNvdW50O1xuICAgIC8vIH1cblxuICAgIHByaXZhdGUgc2tpcEZpbHRlcmVkRm9yd2FyZChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcblxuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggJiYgIXRoaXMuZmlsdGVyKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbaW5kZXhdKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2tpcEZpbHRlcmVkQmFja3dhcmQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcikge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGluZGV4IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPj0gMCAmJiAhdGhpcy5maWx0ZXIodGhpcy5kYXRhU25hcHNob3QuZGF0YVtpbmRleF0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4IC09IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgcG9pbnRlciBmb3J3YXJkIG4gdGltZXMuXG4gICAgICogUmV0dXJucyBhY3R1YWwgY291bnQgb2YgbW92ZXMgZG9uZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgbW92ZU5leHRUaW1lcyhuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgbiAmJiB0aGlzLm1vdmVOZXh0KCkpIHsgaSArPSAxOyB9XG4gICAgICAgIHJldHVybiBpOyAvLyhpID09PSBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBwb2ludGVyIGZvcndhcmQvYmFja3dhcmQgbiB0aW1lcy5cbiAgICAgKiBSZXR1cm5zIGFjdHVhbCBjb3VudCBvZiBtb3ZlcyBkb25lIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkuXG4gICAgICogQ3VycmVudCBjYW4gbm90IGJlY29tZSB1bmRlZmluZWQuXG4gICAgICovXG4gICAgcHVibGljIG1vdmVUaW1lcyhuOiBudW1iZXIpOiBudW1iZXIge1xuXG4gICAgICAgIHRoaXMuY2hlY2tUaW1lc3RhbXAoKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggPT09IDAgfHwgbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH1cblxuICAgICAgICBsZXQgc2hpZnQ7XG4gICAgICAgIGlmIChuIDwgMCkge1xuICAgICAgICAgICAgc2hpZnQgPSBNYXRoLm1heCgtdGhpcy5jdXJyZW50SW5kZXgsIG4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hpZnQgPSBNYXRoLm1pbiggdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggLSAoIHRoaXMuY3VycmVudEluZGV4ICsgMSksIG4gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ICs9IHNoaWZ0O1xuICAgICAgICByZXR1cm4gc2hpZnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgcG9pbnRlciBvbiAxIGl0ZW0gZm9yd2FyZC5cbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIGNhbiBub3QgbW92ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgbW92ZU5leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMuY2hlY2tUaW1lc3RhbXAoKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEN1cnJlbnQgaW5kZXggbXVzdCBub3QgZ2V0IGdyZWF0ZXIgdGhlbiBsZW5ndGhcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aFxuICAgICAgICAgICAgJiYgdGhpcy5maWx0ZXIgJiYgIXRoaXMuZmlsdGVyKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbdGhpcy5jdXJyZW50SW5kZXhdKSk7IC8vIElmIGZpbHRlciBpcyBkZWZpbmVkIHVzZSBpdC5cblxuICAgICAgICByZXR1cm4gKHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHBvaW50ZXIgb24gMSBpdGVtIGJhY2t3YXJkcy5cbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIGNhbiBub3QgbW92ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgbW92ZVByZXYoKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMuY2hlY2tUaW1lc3RhbXAoKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEN1cnJlbnQgaW5kZXggbXVzdCBub3QgZ2V0IGxlc3MgdGhlbiAtMVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2luZyBmaWx0ZXIgdG8gc2tpcCBzb21lIGVsZW1lbnRzXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuY3VycmVudEluZGV4ID49IDBcbiAgICAgICAgICAgICYmIHRoaXMuZmlsdGVyICYmICF0aGlzLmZpbHRlcih0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW3RoaXMuY3VycmVudEluZGV4XSkpOyAvLyBJZiBmaWx0ZXIgaXMgZGVmaW5lZCB1c2UgaXQuXG5cbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJlbnRJbmRleCA+PSAwICYmIHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIGJhY2t3YXJkcyBzdGFydGluZyBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqIEl0ZXJhdHMgdGlsbCBAZnVuYyByZXR1cm5zIFwidHJ1ZVwiIGFuZCBiZWdnaW5uaW5nIG9mIHN0b3JhZ2UgaXMgbm90IHJlYWNoZWQuXG4gICAgICogQ291bnRlcjogW1xuICAgICAqICAgMCAtIGN1cnJlbnQgZWxlbWVudCxcbiAgICAgKiAgIDEgLSBwcmV2aW91cyBlbGVtZW50LFxuICAgICAqICAgLi4uXG4gICAgICogXVxuICAgICAqIEBwYXJhbSBmdW5jIFxuICAgICAqL1xuICAgIHB1YmxpYyBzb21lYmFja3dhcmQoZnVuYzogKGl0ZW06IFQsIGNvdW50ZXI6IG51bWJlcikgPT4gYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNoZWNrVGltZXN0YW1wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgMCB8fCB0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoIWZ1bmModGhpcy5jdXJyZW50LCBjb3VudGVyKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICB9IHdoaWxlICh0aGlzLm1vdmVQcmV2KCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY3VycmVudCgpOiBUIHtcbiAgICAgICAgdGhpcy5jaGVja1RpbWVzdGFtcCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU25hcHNob3QuZGF0YVt0aGlzLmN1cnJlbnRJbmRleF07XG4gICAgfVxuXG4gICAgcHVibGljIGdvVG9MYXN0KCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICh0aGlzLmZpbHRlcikgeyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxhc3QoKTogVHx1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH1cblxuICAgICAgICB0aGlzLmNoZWNrVGltZXN0YW1wKCk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW3RoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHByZXZpb3VzKCk6IFR8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9XG5cbiAgICAgICAgdGhpcy5jaGVja1RpbWVzdGFtcCgpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbdGhpcy5jdXJyZW50SW5kZXggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tUaW1lc3RhbXAoKSA6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QudGltZXN0YW1wICE9PSB0aGlzLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgYmVoYXZpb3JcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YSBpdGVyYXRvciBpcyBleHBpcmVkLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDb21wdXRlZERhdGFTb3VyY2UgY2xhc3MuXG4gKi9cbmltcG9ydCB7IEF2Z1RydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgQW1vdW50UmFuZ2UsIEFtb3VudFJhbmdlT3BzIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgQXJyYXlJdGVyYXRvciB9IGZyb20gJy4vQXJyYXlJdGVyYXRvcic7XG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuL0RhdGFTb3VyY2UnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZUNvbmZpZyB9IGZyb20gJy4vRGF0YVNvdXJjZUNvbmZpZyc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmNsYXNzIFRhc2tQYXJhbXMge1xuICAgIHB1YmxpYyBjdWlkOiBVaWQ7XG4gICAgcHVibGljIGN1aWRMYXN0PzogVWlkO1xuICAgIHB1YmxpYyBjb3VudD86IG51bWJlcjtcbiAgICBjb25zdHJ1Y3RvcihjdWlkOiBVaWQsIGN1aWRMYXN0PzogVWlkLCBjb3VudD86IG51bWJlcikge1xuICAgICAgICB0aGlzLmN1aWQgPSBjdWlkO1xuICAgICAgICB0aGlzLmN1aWRMYXN0ID0gY3VpZExhc3Q7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICB9XG59XG5cbmNsYXNzIFJlcXVlc3Qge1xuICAgIHB1YmxpYyBzdWlkOiBVaWQ7XG4gICAgcHVibGljIHVpZGxhc3Q/OiBVaWQ7XG4gICAgcHVibGljIGNvdW50PzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodWlkOiBVaWQsIHVpZGxhc3Q/OiBVaWQsIGNvdW50PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3VpZCA9IHVpZDtcbiAgICAgICAgdGhpcy51aWRsYXN0ID0gdWlkbGFzdDtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0VxdWFsKG90aGVyOiBSZXF1ZXN0KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIHJldHVybiAob3RoZXJcbiAgICAgICAgLy8gJiYgdGhpcy5zdWlkLmNvbXBhcmUob3RoZXIuc3VpZCkgPT09IDBcbiAgICAgICAgLy8gJiYgdGhpcy5jb3VudCA9PT0gb3RoZXIuY291bnQpO1xuXG4gICAgICAgIHJldHVybiAob3RoZXIgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgJiYgdGhpcy5zdWlkLmNvbXBhcmUob3RoZXIuc3VpZCkgPT09IDBcbiAgICAgICAgICAgICYmICh0aGlzLnVpZGxhc3QgPT09IG90aGVyLnVpZGxhc3RcbiAgICAgICAgICAgICAgICB8fCAodGhpcy51aWRsYXN0ICE9PSB1bmRlZmluZWQgJiYgb3RoZXIudWlkbGFzdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMudWlkbGFzdC5jb21wYXJlKG90aGVyLnVpZGxhc3QpID09PSAwKSlcbiAgICAgICAgICAgICYmICh0aGlzLmNvdW50ID09PSBvdGhlci5jb3VudCkpO1xuICAgIH1cbn1cblxuaW50ZXJmYWNlIElEYXRhQ2hhbmdlZFRyaWdnZXIge1xuICAgIChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgSVNlbmRSZXF1ZXN0IHtcbiAgICAodWlkOiBVaWQsIHVpZExhc3Q/OiBVaWQsIGNvdW50PzogbnVtYmVyKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIElDb21wdXRlRGVsZWdhdGUge1xuICAgIChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkO1xufVxuXG5jbGFzcyBDb21wdXRlVGFzayB7XG4gICAgcHVibGljIG5leHQ/OiBDb21wdXRlVGFzaztcblxuICAgIHByaXZhdGUgc3RvcmFnZTogQXJyYXlEYXRhU3RvcmFnZTxDYW5kbGVzdGljaz47XG4gICAgcHJpdmF0ZSBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz47XG4gICAgcHJpdmF0ZSB0cmlnZ2VyRGF0YUNoYW5nZWQ6IElEYXRhQ2hhbmdlZFRyaWdnZXI7XG4gICAgcHJpdmF0ZSBzZW5kcmVxdWVzdDogSVNlbmRSZXF1ZXN0O1xuICAgIHByaXZhdGUgY29tcHV0ZTogSUNvbXB1dGVEZWxlZ2F0ZTtcbiAgICBwcml2YXRlIHN0YXJ0VGltZTogRGF0ZTtcbiAgICBwcml2YXRlIHBhcmFtczogVGFza1BhcmFtcztcbiAgICBwcml2YXRlIHJlcXVlc3RzOiBSZXF1ZXN0W10gPSBbXTtcbiAgICBwcml2YXRlIGlzRmluaXNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBnZXQgaXNPdXRkYXRlZCgpIHtcbiAgICAgICAgcmV0dXJuICgobmV3IERhdGUoKS5nZXRUaW1lKCkpIC0gdGhpcy5zdGFydFRpbWUuZ2V0VGltZSgpKSA+ICg2MCAqIDEwMDApOyAvLyAxIG1pblxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzdG9yYWdlOiBBcnJheURhdGFTdG9yYWdlPENhbmRsZXN0aWNrPixcbiAgICAgICAgcGFyYW1zOiBUYXNrUGFyYW1zLFxuICAgICAgICBkYXRhY2hhbmdlZDogSURhdGFDaGFuZ2VkVHJpZ2dlcixcbiAgICAgICAgc2VuZHJlcXVlc3Q6IElTZW5kUmVxdWVzdCxcbiAgICAgICAgY29tcHV0ZTogSUNvbXB1dGVEZWxlZ2F0ZSxcbiAgICAgICAgbmV4dD86IENvbXB1dGVUYXNrKSB7XG5cbiAgICAgICAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcbiAgICAgICAgdGhpcy5pdGVyYXRvciA9IHN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyRGF0YUNoYW5nZWQgPSBkYXRhY2hhbmdlZDtcbiAgICAgICAgdGhpcy5zZW5kcmVxdWVzdCA9IHNlbmRyZXF1ZXN0O1xuICAgICAgICB0aGlzLmNvbXB1dGUgPSBjb21wdXRlO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBuZXcgQ29tcHV0ZVRhc2soICR7cGFyYW1zLmN1aWQudC50b0lTT1N0cmluZygpfSAke3BhcmFtcy5jdWlkTGFzdCA/IHBhcmFtcy5jdWlkTGFzdC50LnRvSVNPU3RyaW5nKCkgOiBcIlwiIH0gJHtwYXJhbXMuY291bnR9IClgKTtcblxuICAgICAgICBpZiAoIXBhcmFtcy5jb3VudCAmJiAhcGFyYW1zLmN1aWRMYXN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50cyBcImNvdW50XCIgYW5kIFwiY3VpZExhc3RcIiBub3QgZGVmaW5lZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgLy8gY2xlYXIgdGltZXJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCctLS0tLSBUYXNrLnN0YXJ0IC0tLS0tJyk7XG4gICAgICAgIC8vIE5hcnJvdyBsb2FkIHJhbmdlXG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc3RvcmFnZS5maXJzdCAmJiB0aGlzLnN0b3JhZ2UubGFzdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmN1aWQuY29tcGFyZSh0aGlzLnN0b3JhZ2UuZmlyc3QudWlkKSA+PSAwICYmIHRoaXMucGFyYW1zLmN1aWQuY29tcGFyZSh0aGlzLnN0b3JhZ2UubGFzdC51aWQpIDw9IDApIHtcblxuICAgICAgICAgICAgICAgIGxldCBzaGlmdDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmxhc3QudWlkLmNvbXBhcmUodGhpcy5wYXJhbXMuY3VpZCkgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzaGlmdCA9IHRoaXMuc3RvcmFnZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRvci5nb1RvKGl0ZW0gPT4gdHJ1ZSk7IC8vIGdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSB0aGlzLml0ZXJhdG9yLm1vdmVUbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodGhpcy5wYXJhbXMuY3VpZCkgPj0gMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGlmdCA9PT0gLTEpIHsgc2hpZnQgPSAwOyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5jdWlkID0gdGhpcy5zdG9yYWdlLmxhc3QudWlkO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZGlzdGFuY2UgYi93IFVJRC1MQVNUXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmNvdW50IC09ICh0aGlzLnN0b3JhZ2UubGVuZ3RoIC0gc2hpZnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTmFycm93aW5nIHJhbmdlOiAke3RoaXMuc3RvcmFnZS5sYXN0LnVpZC50LnRvSVNPU3RyaW5nKCl9ICR7dGhpcy5wYXJhbXMuY291bnR9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvdW50IDw9IDApIHsgLy8gY2hhbmdlIG9mIHNpZ24gXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5jb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY3VpZCA9IHRoaXMuc3RvcmFnZS5maXJzdC51aWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBkaXN0YW5jZSBiL3cgRklSU1QtVUlEXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmNvdW50ICs9IHNoaWZ0O1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTmFycm93aW5nIHJhbmdlOiAke3RoaXMuc3RvcmFnZS5maXJzdC51aWQudC50b0lTT1N0cmluZygpfSAke3RoaXMucGFyYW1zLmNvdW50fWApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCA+PSAwKSB7IC8vIGNoYW5nZSBvZiBzaWduIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1JlcXMgPSB0aGlzLm1ha2VSZXF1ZXN0cygpO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmV3UmVxIG9mIG5ld1JlcXMpIHtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCByZXF1ZXN0cyBhcmUgbm90IHJlcGVhdGVkXG4gICAgICAgICAgICBjb25zdCBzb21lID0gdGhpcy5yZXF1ZXN0cy5zb21lKHJlcSA9PiByZXEuaXNFcXVhbChuZXdSZXEpKTtcblxuICAgICAgICAgICAgaWYgKCFzb21lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0cy5wdXNoKG5ld1JlcSk7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kcmVxdWVzdChuZXdSZXEuc3VpZCwgbmV3UmVxLnVpZGxhc3QsIG5ld1JlcS5jb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG1ha2VSZXF1ZXN0cygpOiBSZXF1ZXN0W10ge1xuICAgICAgICBjb25zdCBSRVFfQ09VTlQgPSA1MDA7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZS5maXJzdCAmJiB0aGlzLnN0b3JhZ2UubGFzdCkge1xuICAgICAgICAgICAgY29uc3QgTSA9IG5ldyBBbW91bnRSYW5nZSh0aGlzLnBhcmFtcy5jdWlkLCB0aGlzLnBhcmFtcy5jdWlkTGFzdCwgdGhpcy5wYXJhbXMuY291bnQpO1xuICAgICAgICAgICAgY29uc3QgUyA9IG5ldyBBbW91bnRSYW5nZSh0aGlzLnN0b3JhZ2UuZmlyc3QudWlkLCB0aGlzLnN0b3JhZ2UubGFzdC51aWQsIHRoaXMuc3RvcmFnZS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gQW1vdW50UmFuZ2VPcHMuZGlmZmVyZW5jZShNLCBTKTtcbiAgICAgICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYubWFwKGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IGQuY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gZC5jb3VudCA+IDAgPyBSRVFfQ09VTlQgOiAtUkVRX0NPVU5UOyAvLyBleHRlbmRpbmcgdG8gUkVRX0NPVU5UXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QoZC51aWRTdGFydCwgZC51aWRFbmQsIGNvdW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgUmVxdWVzdCh0aGlzLnBhcmFtcy5jdWlkLCB1bmRlZmluZWQsIFJFUV9DT1VOVClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyAvLyBNYWtlIHJlcXVlc3RcbiAgICAgICAgLy8gbGV0IGN1aWRSZXF1ZXN0OiBVaWQ7XG4gICAgICAgIC8vIGxldCBjb3VudFJlcXVlc3Q6IG51bWJlcjtcblxuICAgICAgICAvLyBpZiAodGhpcy5wYXJhbXMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyAgICAgaWYgKHRoaXMucGFyYW1zLmNvdW50ID4gMCkge1xuICAgICAgICAvLyAgICAgICAgIGN1aWRSZXF1ZXN0ID0gKHRoaXMuc3RvcmFnZS5sYXN0ICE9PSB1bmRlZmluZWQpID8gdGhpcy5zdG9yYWdlLmxhc3QudWlkIDogdGhpcy5wYXJhbXMuY3VpZDtcbiAgICAgICAgLy8gICAgICAgICBjb3VudFJlcXVlc3QgPSBSRVFfQ09VTlQ7XG4gICAgICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmNvdW50IDwgMCkge1xuICAgICAgICAvLyAgICAgICAgIGN1aWRSZXF1ZXN0ID0gKHRoaXMuc3RvcmFnZS5maXJzdCAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuc3RvcmFnZS5maXJzdC51aWQgOiB0aGlzLnBhcmFtcy5jdWlkO1xuICAgICAgICAvLyAgICAgICAgIGNvdW50UmVxdWVzdCA9IC1SRVFfQ09VTlQ7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuaXNGaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmN1aWRMYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gICAgIC8vIGdldCBsYXN0IHVpZFxuICAgICAgICAvLyAgICAgY3VpZFJlcXVlc3QgPSAodGhpcy5zdG9yYWdlLmxhc3QgIT09IHVuZGVmaW5lZCkgPyB0aGlzLnN0b3JhZ2UubGFzdC51aWQgOiB0aGlzLnBhcmFtcy5jdWlkO1xuICAgICAgICAvLyAgICAgY291bnRSZXF1ZXN0ID0gUkVRX0NPVU5UO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudHMgXCJjb3VudFwiIGFuZCBcImN1aWRMYXN0XCIgbm90IGRlZmluZWQuJyk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVBbmRUcmlnZ2VyRXZlbnQoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgYXJncmVzID0gdGhpcy5jb21wdXRlKGFyZyk7XG4gICAgICAgIGlmIChhcmdyZXMpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckRhdGFDaGFuZ2VkKGFyZ3Jlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQXJnUmVsYXRlZChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpIHtcblxuICAgICAgICBjb25zdCBNID0gbmV3IEFtb3VudFJhbmdlKGFyZy51aWRGaXJzdCwgYXJnLnVpZExhc3QsIGFyZy5jb3VudCk7XG4gICAgICAgIGNvbnN0IFMgPSBuZXcgQW1vdW50UmFuZ2UodGhpcy5wYXJhbXMuY3VpZCwgdGhpcy5wYXJhbXMuY3VpZExhc3QsIHRoaXMucGFyYW1zLmNvdW50KTtcblxuICAgICAgICByZXR1cm4gQW1vdW50UmFuZ2VPcHMuaXNJbnRlcnNlY3RlZChNLCBTKTtcblxuICAgICAgICAvLyBjb25zdCBhcmdGaXJzdFRpbWUgPSBhcmcudWlkRmlyc3QudC5nZXRUaW1lKCk7XG4gICAgICAgIC8vIGNvbnN0IGFyZ0xhc3RUaW1lID0gYXJnLnVpZExhc3QudC5nZXRUaW1lKCk7XG4gICAgICAgIC8vIGNvbnN0IGN1aWRUaW1lID0gdGhpcy5wYXJhbXMuY3VpZC50LmdldFRpbWUoKTtcblxuICAgICAgICAvLyBpZiAodGhpcy5wYXJhbXMuY3VpZExhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyAgICAgLy8gQ2hlY2tpbmcgaWYgYXQgbGVhc3Qgb25lIHRpbWUgaXMgaW5zaWRlIGludGVydmFsXG4gICAgICAgIC8vICAgICBjb25zdCBjdWlkTGFzdFRpbWUgPSB0aGlzLnBhcmFtcy5jdWlkTGFzdC50LmdldFRpbWUoKTtcblxuICAgICAgICAvLyAgICAgcmV0dXJuICgoYXJnRmlyc3RUaW1lID49IGN1aWRUaW1lICYmIGFyZ0ZpcnN0VGltZSA8PSBjdWlkTGFzdFRpbWUpXG4gICAgICAgIC8vICAgICB8fCAoYXJnTGFzdFRpbWUgPj0gY3VpZFRpbWUgJiYgYXJnTGFzdFRpbWUgPD0gY3VpZExhc3RUaW1lKSk7XG5cbiAgICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLnBhcmFtcy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vICAgICAvLyBDaGVjayBpZiBvbmUgb2YgaW5jb21pbmcgVWlkIGlzIG9uIHRoZSByaWdodCBzaWRlXG4gICAgICAgIC8vICAgICBpZiAodGhpcy5wYXJhbXMuY291bnQgPiAwKSB7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGFyZ0xhc3RUaW1lID49IGN1aWRUaW1lO1xuICAgICAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtcy5jb3VudCA8IDApIHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gYXJnRmlyc3RUaW1lIDw9IGN1aWRUaW1lO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudHMgXCJjb3VudFwiIGFuZCBcImN1aWRMYXN0XCIgbm90IGRlZmluZWQuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tJZkRhdGFFbm91Z2gocGFyYW1zOiBUYXNrUGFyYW1zKSB7XG5cbiAgICAgICAgLy8gVE9ETzogVGhlcmUgY2FuIGJlIG5vIGV4YWN0IFVpZC4gVXNlIGd0L2x0IGNvbXBhcmluZ1xuICAgICAgICBpZiAodGhpcy5pdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZSh0aGlzLnBhcmFtcy5jdWlkKSA9PT0gMCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLml0ZXJhdG9yLm1vdmVUaW1lcyh0aGlzLnBhcmFtcy5jb3VudCkgPT09IHRoaXMucGFyYW1zLmNvdW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbXMuY3VpZExhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBleGFjdCBVaWRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRvci5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKHRoaXMucGFyYW1zLmN1aWQpID49IDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50cyBcImNvdW50XCIgYW5kIFwiY3VpZExhc3RcIiBub3QgZGVmaW5lZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVFdmVudChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQsIHNvdXJjZUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPikge1xuXG4gICAgICAgIC8vIGlmICh0aGlzLmlzRmluaXNoZWQpIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLm5leHQuaGFuZGxlRXZlbnQoYXJnLCBzb3VyY2VJdGVyYXRvcik7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBkYXRhIGlzIHJlbGF0ZWQgdG8gdGhpcyB0YXNrXG4gICAgICAgIGNvbnN0IHJlbGF0ZWQgPSB0aGlzLmlzQXJnUmVsYXRlZChhcmcpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCctLS0tLSBUYXNrLmhhbmRsZUV2ZW50IC0tLS0tJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBhcmcgJHsgYXJnLnVpZEZpcnN0LnQudG9JU09TdHJpbmcoKSB9IC0gJHsgYXJnLnVpZExhc3QudC50b0lTT1N0cmluZygpIH0gYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBwYXJhbXMgJHsgdGhpcy5wYXJhbXMuY3VpZC50LnRvSVNPU3RyaW5nKCkgfSAtICR7IHRoaXMucGFyYW1zLmN1aWRMYXN0ID8gdGhpcy5wYXJhbXMuY3VpZExhc3QudC50b0lTT1N0cmluZygpIDogXCJOL0FcIiB9IC8gJHsgdGhpcy5wYXJhbXMuY291bnQgfSBgKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlbGF0ZWQ6ICcgKyByZWxhdGVkKTtcblxuICAgICAgICBpZiAoIXJlbGF0ZWQgJiYgdGhpcy5uZXh0KSB7XG4gICAgICAgICAgICAvLyBJZiBub3QgLSBwYXNzIGl0IGZ1cnRoZXJcbiAgICAgICAgICAgIHRoaXMubmV4dC5oYW5kbGVFdmVudChhcmcsIHNvdXJjZUl0ZXJhdG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHllc1xuICAgICAgICAvLyBDb21wdXRlIHZhbHVlc1xuICAgICAgICB0aGlzLmNvbXB1dGVBbmRUcmlnZ2VyRXZlbnQoYXJnKTtcblxuICAgICAgICBpZiAoIXJlbGF0ZWQpIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdCBzZW5kIHJlcXVlc3RzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWNoZWNrIGRhdGEuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrSWZEYXRhRW5vdWdoKHRoaXMucGFyYW1zKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rhc2sgaXMgZmluaXNoZWQnKTtcbiAgICAgICAgICAgIC8vIElmIGRhdGEgaXMgZW5vdWdoLCBmaW5pc2guXG4gICAgICAgICAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgZGF0YSBpcyBub3QgZW5vdWdoXG4gICAgICAgICAgICAvLyBzZW5kIG9uZSBtb3JlIHJlcXVlc3RcblxuICAgICAgICAgICAgLy8gY2xlYXIgdGltZXJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXB1dGVkRGF0YVNvdXJjZTxTIGV4dGVuZHMgQ2FuZGxlc3RpY2s+IGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gICAgcHJvdGVjdGVkIHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByb3RlY3RlZCBzb3VyY2VJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz47XG4gICAgcHJvdGVjdGVkIGRhdGFTdG9yYWdlOiBBcnJheURhdGFTdG9yYWdlPFM+O1xuICAgIHByb3RlY3RlZCBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxTPjtcbiAgICBwcml2YXRlIHRhc2s/OiBDb21wdXRlVGFzaztcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPikge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGljaywgbmV3IERhdGFTb3VyY2VDb25maWcoc291cmNlLnByZWNpc2lvbikpO1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlID0gbmV3IEFycmF5RGF0YVN0b3JhZ2U8Uz4odGhpcy5jb21wYXJlcik7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLnNvdXJjZS5kYXRhQ2hhbmdlZC5vbih0aGlzLm9uRGF0YVNvdXJjZUNoYW5nZWQpO1xuICAgICAgICB0aGlzLnNvdXJjZUl0ZXJhdG9yID0gc291cmNlLmdldEl0ZXJhdG9yKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wYXJlciA9IChsaHM6IFMsIHJoczogUykgPT4geyByZXR1cm4gbGhzLnVpZC5jb21wYXJlKHJocy51aWQpOyB9O1xuXG4gICAgcHVibGljIGdldEl0ZXJhdG9yKCk6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoIXVpZCB8fCBjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYENEUy5sb2FkICR7IHVpZC50LnRvSVNPU3RyaW5nKCkgfSAvICR7IGNvdW50IH0gYCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodWlkKSA9PT0gMCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZXJhdG9yLm1vdmVUaW1lcyhjb3VudCkgPT09IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgLy8gZGF0YSBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBUYXNrUGFyYW1zKHVpZCwgdW5kZWZpbmVkLCBjb3VudCk7XG4gICAgICAgIHRoaXMudGFzayA9IG5ldyBDb21wdXRlVGFzayh0aGlzLmRhdGFTdG9yYWdlLCBwYXJhbXMsIHRoaXMudHJpZ2dlckRhdGFDaGFuZ2VkLCB0aGlzLnNlbmREYXRhUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZURlbGVnYXRlLCB0aGlzLnRhc2spO1xuICAgICAgICB0aGlzLnRhc2suc3RhcnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQge1xuICAgICAgICBpZiAoIXVpZEZpcnN0IHx8ICF1aWRMYXN0IHx8IHVpZEZpcnN0LmNvbXBhcmUodWlkTGFzdCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBDRFMubG9hZCAkeyB1aWRGaXJzdC50LnRvSVNPU3RyaW5nKCkgfSAvICR7IHVpZExhc3QudC50b0lTT1N0cmluZygpIH0gYCk7XG5cbiAgICAgICAgLy8gc29ydCBhcmd1bWVudHNcbiAgICAgICAgaWYgKHVpZEZpcnN0LmNvbXBhcmUodWlkTGFzdCkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gdWlkRmlyc3Q7XG4gICAgICAgICAgICB1aWRGaXJzdCA9IHVpZExhc3Q7XG4gICAgICAgICAgICB1aWRMYXN0ID0gdGVtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IFRoZXJlIGNhbiBiZSBubyBleGFjdCBVaWQuIFVzZSBndC9sdCBjb21wYXJpbmdcbiAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3IubW92ZVRvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZSh1aWRMYXN0KSA+PSAwKSkge1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc3QgcGFyYW1zID0gbmV3IFRhc2tQYXJhbXModWlkRmlyc3QsIHVpZExhc3QpO1xuICAgICAgICAvLyB0aGlzLnRhc2sgPSBuZXcgQ29tcHV0ZVRhc2sodGhpcy5kYXRhU3RvcmFnZSwgcGFyYW1zLCB0aGlzLnRyaWdnZXJEYXRhQ2hhbmdlZCwgdGhpcy5zZW5kRGF0YVJlcXVlc3QsIFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlRGVsZWdhdGUsIHRoaXMudGFzayk7XG4gICAgICAgIHRoaXMudGFzayA9IHRoaXMuY3JlYXRlVGFzayh1aWRGaXJzdCwgdWlkTGFzdCwgdW5kZWZpbmVkLCB0aGlzLnRhc2spO1xuICAgICAgICB0aGlzLnRhc2suc3RhcnQoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdHJpZ2dlckRhdGFDaGFuZ2VkID0gKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICB0aGlzLmRhdGVDaGFuZ2VkRXZlbnQudHJpZ2dlcihhcmcpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZW5kRGF0YVJlcXVlc3QgPSAodWlkOiBVaWQsIHVpZExhc3Q/OiBVaWQsIGNvdW50PzogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTZW5kaW5nIHJlcXVlc3Q6ICR7dWlkLnQudG9JU09TdHJpbmcoKX0gJHtjb3VudH1gKTtcbiAgICAgICAgaWYgKHVpZExhc3QpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWRSYW5nZSh1aWQsIHVpZExhc3QpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKHVpZCwgY291bnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1aWQgb3IgY291bnQgbXVzdCBiZSBkZWZpbmVkLicpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25EYXRhU291cmNlQ2hhbmdlZCA9IChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpID0+IHtcblxuICAgICAgICBjb25zb2xlLmxvZygnPT09PT09PT09PT09IFNUQVJUSU5HIFRBU0tTIENIQUlOID09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKTtcblxuICAgICAgICAvLyBQYXNzIHJlc3VsdCB0byB0aGUgdGFza3NcbiAgICAgICAgaWYgKHRoaXMudGFzaykge1xuXG4gICAgICAgICAgICB0aGlzLnRhc2suaGFuZGxlRXZlbnQoYXJnLCB0aGlzLnNvdXJjZUl0ZXJhdG9yKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIFwib3V0ZGF0ZWRcIiB0YXNrc1xuICAgICAgICAgICAgaWYgKHRoaXMudGFzay5pc091dGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMudGFzaztcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudC5uZXh0ICYmICFjdXJyZW50Lm5leHQuaXNPdXRkYXRlZCkgeyBjdXJyZW50ID0gY3VycmVudC5uZXh0OyB9XG4gICAgICAgICAgICAgICAgY3VycmVudC5uZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgbm90IGN1cnJlbnQgdGFzayB0aGVuIGNyZWF0ZSBhIG5ldyB0YXNrXG4gICAgICAgICAgICB0aGlzLnRhc2sgPSB0aGlzLmNyZWF0ZVRhc2soYXJnLnVpZEZpcnN0LCBhcmcudWlkTGFzdCwgYXJnLmNvdW50KTtcbiAgICAgICAgICAgIHRoaXMudGFzay5oYW5kbGVFdmVudChhcmcsIHRoaXMuc291cmNlSXRlcmF0b3IpO1xuICAgICAgICAgICAgLy90aGlzLnRhc2suc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVGFzayh1aWRGaXJzdDogVWlkLCB1aWRMYXN0PzogVWlkLCBjb3VudD86IG51bWJlciwgbmV4dFRhc2s/OiBDb21wdXRlVGFzayk6IENvbXB1dGVUYXNrIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFRhc2tQYXJhbXModWlkRmlyc3QsIHVpZExhc3QsIGNvdW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wdXRlVGFzayh0aGlzLmRhdGFTdG9yYWdlLCBwYXJhbXMsIHRoaXMudHJpZ2dlckRhdGFDaGFuZ2VkLCB0aGlzLnNlbmREYXRhUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVEZWxlZ2F0ZSwgbmV4dFRhc2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZURlbGVnYXRlID0gKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlKGFyZyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgbG9jayh1aWQ6IFVpZCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zb3VyY2UuZGF0YUNoYW5nZWQub2ZmKHRoaXMub25EYXRhU291cmNlQ2hhbmdlZCk7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIFxyXG4gKi9cclxuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgRXZlbnQsIElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0YUNoYW5nZWRFdmVudCBleHRlbmRzIEV2ZW50PERhdGFDaGFuZ2VkQXJndW1lbnQ+IHtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFDaGFuZ2VkQXJndW1lbnQge1xyXG4gICAgcHVibGljIGxhc3RVaWRCZWZvcmU/OiBVaWQ7XHJcbiAgICBwdWJsaWMgbGFzdFVpZEFmdGVyPzogVWlkO1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHVpZEZpcnN0OiBVaWQsICAgICAvLyB1aWQgb2YgZmlyc3QgZWxlbWVudCB0aGF0IGNoYW5nZWRcclxuICAgICAgICBwdWJsaWMgdWlkTGFzdDogVWlkLCAgICAgLy8gdWlkIG9mIGxhc3QgZWxlbWVudCB0aGF0IGNoYW5nZWRcclxuICAgICAgICBwdWJsaWMgY291bnQ6IG51bWJlciAgICAvLyBjb3VudCBvZiBlbGVtZW50cyB0aGF0IGNoYW5nZWRcclxuICAgICkge1xyXG4gICAgICAgIGlmIChjb3VudCA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhQ2hhbmdlZEFyZ3VtZW50IHByb3BlcnR5IFwiY291bnRcIiBtdXN0IGJlIHBvc2l0aXZlLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0IHVpZEZpcnN0QXNEYXRlKCkge1xyXG4gICAgLy8gICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh0aGlzLnVpZEZpcnN0LCAxMCkpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIGdldCB1aWRMYXN0QXNEYXRlKCkge1xyXG4gICAgLy8gICAgIHJldHVybiBuZXcgRGF0ZShwYXJzZUludCh0aGlzLnVpZExhc3QsIDEwKSk7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBEYXRhQ2hhbmdlZEFyZ3VtZW50IHtcclxuLy8gICAgIHByaXZhdGUgcmVhZG9ubHkgX3JhbmdlOiBJUmFuZ2U8RGF0ZT47XHJcbi8vICAgICBwcml2YXRlIHJlYWRvbmx5IF9pbnRlcnZhbDogVGltZUludGVydmFsO1xyXG4vLyAgICAgcHJpdmF0ZSByZWFkb25seSBfbGFzdERhdGVCZWZvcmU/OiBEYXRlO1xyXG4vLyAgICAgcHJpdmF0ZSByZWFkb25seSBfbGFzdERhdGVBZnRlcj86IERhdGU7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IocmFuZ2U6IElSYW5nZTxEYXRlPiwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgbGFzdERhdGVCZWZvcmU/OiBEYXRlLCBsYXN0RGF0ZUFmdGVyPzogRGF0ZSkge1xyXG4vLyAgICAgICAgIHRoaXMuX3JhbmdlID0gcmFuZ2U7XHJcbi8vICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBpbnRlcnZhbDtcclxuLy8gICAgICAgICB0aGlzLl9sYXN0RGF0ZUJlZm9yZSA9IGxhc3REYXRlQmVmb3JlO1xyXG4vLyAgICAgICAgIHRoaXMuX2xhc3REYXRlQWZ0ZXIgPSBsYXN0RGF0ZUFmdGVyO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICogUmFuZ2Ugb2YgdXBkYXRlZCBkYXRhXHJcbi8vICAgICAgKi9cclxuLy8gICAgIHB1YmxpYyBnZXQgcmFuZ2UoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXQgaW50ZXJ2YWwoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVydmFsO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8qKiBcclxuLy8gICAgICAqIERhdGUgb2YgdGhlIGxhc3QgaXRlbSBiZWZvcmUgZGF0YSBpcyBjaGFuZ2VkIFxyXG4vLyAgICAgICovXHJcbi8vICAgICBwdWJsaWMgZ2V0IGxhc3REYXRlQmVmb3JlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLl9sYXN0RGF0ZUJlZm9yZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvKiogXHJcbi8vICAgICAgKiBEYXRlIG9mIHRoZSBsYXN0IGl0ZW0gYWZ0ZXIgZGF0YSBpcyBjaGFuZ2VkIFxyXG4vLyAgICAgICovXHJcbi8vICAgICBwdWJsaWMgZ2V0IGxhc3REYXRlQWZ0ZXIoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3REYXRlQWZ0ZXI7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgSUluZGljYXRvckV4dGVuc2lvbiwgU2V0dGluZ1NldCwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgSVVpZFZhbHVlLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSUV2ZW50LCBJSGFzaFRhYmxlLCBJUmFuZ2UgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YUNoYW5nZWRFdmVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGF0YVNvdXJjZSBpbXBsZW1lbnRzIElEYXRhU291cmNlPENhbmRsZXN0aWNrPiB7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9jb25maWc6IERhdGFTb3VyY2VDb25maWc7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGVDaGFuZ2VkRXZlbnQgPSBuZXcgRGF0YUNoYW5nZWRFdmVudCgpO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBfZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBDYW5kbGVzdGljayB9O1xuICAgIHByb3RlY3RlZCB0aW1lUmFuZ2U/OiBJUmFuZ2U8RGF0ZT47XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZGF0YVN0b3JhZ2U6IElEYXRhU3RvcmFnZTxDYW5kbGVzdGljaz47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBDYW5kbGVzdGljayB9LFxuICAgICAgICBjb25maWc6IERhdGFTb3VyY2VDb25maWcpIHtcblxuICAgICAgICB0aGlzLl9kYXRhVHlwZSA9IGRhdGFUeXBlO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogRGVyaXZlZCBjbGFzc2VzIGhhdmUgdGhlaXIgb3duIHNldHRpbmdzLlxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IERhdGFTb3VyY2VDb25maWd7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkYXRhQ2hhbmdlZCgpOiBJRXZlbnQ8RGF0YUNoYW5nZWRBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlQ2hhbmdlZEV2ZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZGF0YVR5cGUoKTogeyBuZXcoZDogRGF0ZSk6IENhbmRsZXN0aWNrIH0ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVR5cGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfYXNzZXQ6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyBnZXQgYXNzZXQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Fzc2V0O1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGFzc2V0KHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fYXNzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmcgPSAnJztcbiAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHByZWNpc2lvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnByZWNpc2lvbjtcbiAgICB9XG4gICAgcHVibGljIHNldCBwcmVjaXNpb24odmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbmZpZy5wcmVjaXNpb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcik6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SXRlcmF0b3IoZmlsdGVyPzogKGl0ZW06IENhbmRsZXN0aWNrKSA9PiBib29sZWFuKTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz47XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNaW5WYWx1ZSA9IDA7XG4gICAgcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0TWF4VmFsdWUgPSAxMDA7XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuXG4gICAgICAgIHRoaXMudmFsaWRhdGVSYW5nZShyYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVN0b3JhZ2UuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMuZGVmYXVsdE1pblZhbHVlLCBlbmQ6IHRoaXMuZGVmYXVsdE1heFZhbHVlIH07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWluVmFsdWUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICBsZXQgbWF4VmFsdWUgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBpZiAoaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUocmFuZ2Uuc3RhcnQpID49IDApKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY29uc3QgaCA9IGl0ZXJhdG9yLmN1cnJlbnQuaDtcbiAgICAgICAgICAgICAgICBjb25zdCBsID0gaXRlcmF0b3IuY3VycmVudC5sO1xuXG4gICAgICAgICAgICAgICAgaWYgKGwgIT09IHVuZGVmaW5lZCAmJiBsIDwgbWluVmFsdWUpIHsgbWluVmFsdWUgPSBsOyB9XG4gICAgICAgICAgICAgICAgaWYgKGggIT09IHVuZGVmaW5lZCAmJiBoID4gbWF4VmFsdWUpIHsgbWF4VmFsdWUgPSBoOyB9XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVyYXRvci5tb3ZlTmV4dCgpICYmIGl0ZXJhdG9yLmN1cnJlbnQudWlkLmNvbXBhcmUocmFuZ2UuZW5kKSA8PSAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiBtaW5WYWx1ZSwgZW5kOiBtYXhWYWx1ZSB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRISExMKHVpZEZyb206IFVpZCwgdWlkVG86IFVpZCk6IENhbmRsZXN0aWNrfHVuZGVmaW5lZCB7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB1aWRGcm9tLmNvbXBhcmUodWlkVG8pIDw9IDAgPyB1aWRGcm9tIDogdWlkVG87XG4gICAgICAgIGNvbnN0IGVuZCA9IHVpZEZyb20uY29tcGFyZSh1aWRUbykgPD0gMCA/IHVpZFRvIDogdWlkRnJvbTtcblxuICAgICAgICBsZXQgbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGhoID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgdWlkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBpZiAoaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoc3RhcnQpID49IDApKSB7XG5cbiAgICAgICAgICAgIG8gPSBpdGVyYXRvci5jdXJyZW50Lm87XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoID0gaXRlcmF0b3IuY3VycmVudC5oO1xuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSBpdGVyYXRvci5jdXJyZW50Lmw7XG5cbiAgICAgICAgICAgICAgICBsbCA9IGxsID09PSB1bmRlZmluZWQgPyBsIDogTWF0aC5taW4obGwsIGwgIT09IHVuZGVmaW5lZCA/IGwgOiArSW5maW5pdHkpO1xuICAgICAgICAgICAgICAgIGhoID0gaGggPT09IHVuZGVmaW5lZCA/IGggOiBNYXRoLm1heChoaCwgaCAhPT0gdW5kZWZpbmVkID8gaCA6IC1JbmZpbml0eSk7XG4gICAgICAgICAgICAgICAgYyA9IGl0ZXJhdG9yLmN1cnJlbnQuYztcbiAgICAgICAgICAgICAgICB1aWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkgJiYgaXRlcmF0b3IuY3VycmVudC51aWQuY29tcGFyZShlbmQpIDw9IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVpZCAhPT0gdW5kZWZpbmVkID8gbmV3IENhbmRsZXN0aWNrKHVpZC50LCBjLCBvLCBoaCwgbGwpOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldExhc3RDYW5kbGUoKTogQ2FuZGxlc3RpY2t8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVN0b3JhZ2UubGFzdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4dGVuc2lvbnM6IElIYXNoVGFibGU8SUluZGljYXRvckV4dGVuc2lvbnx1bmRlZmluZWQ+ID0ge307XG5cbiAgICBwdWJsaWMgYWRkRXh0ZW5zaW9uKG5hbWU6IHN0cmluZywgZXh0OiBJSW5kaWNhdG9yRXh0ZW5zaW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uc1tuYW1lXSA9IGV4dDtcblxuICAgICAgICAvLyByZWNvbXB1dGUgb25seSBuZXcgZXh0ZW5zaW9uIG92ZXIgd2hvbGUgZXh0ZW5zaW9uXG4gICAgICAgIHRoaXMuY29tcHV0ZUV4dGVuc2lvbnModW5kZWZpbmVkLCBuYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRXh0ZW5zaW9uKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAvLyByZXBsYWNlXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBleHRlbnNpb24gdmFsdWVzIG92ZXIgc3BlY2lmaWVkIHJhbmdlLlxuICAgICAqIEBwYXJhbSBhcmcgU3BlY2lmaWVkIHJhbmdlLiBJZiBub3Qgc3BlY2lmaWVkLCByZWNvbXB1dGUgYWxsIGRhdGEuXG4gICAgICogQHBhcmFtIGV4dFVpZCBJZiB1bmRlZmluZWQsIGNhbGN1bGF0ZXMgZm9yIGFsbCBleHRlbnNpb25zLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb21wdXRlRXh0ZW5zaW9ucyhhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBleHROYW1lPzogc3RyaW5nKTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIC8vIDEuIERldGVybWluZSByZXF1aXJlZCBhbW91bnQgb2YgcHJldmlvdXMgdmFsdWVzLiBTZWxlY3QgbWF4IG9mIGFsbCBleHRlbnNpb25zLiBcbiAgICAgICAgLy8gICAgQ2hlY2sgaWYgdGhlcmUgYW55IGV4dGVuc2lvbi5cbiAgICAgICAgLy9cbiAgICAgICAgbGV0IHJlcXVpcmVkTGVuZ3RoOiBudW1iZXIgPSAtMTtcbiAgICAgICAgbGV0IGV4dENvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB1aWQgb2YgT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKSkge1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5leHRlbnNpb25zW3VpZF07XG4gICAgICAgICAgICBpZiAoZXh0ICYmIGV4dE5hbWUgJiYgdWlkID09PSBleHROYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRMZW5ndGggPSBleHQuYW1vdW50UmVxdWlyZXM7XG4gICAgICAgICAgICAgICAgZXh0Q291bnQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleHQgJiYgIWV4dE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExlbmd0aCA9IE1hdGgubWF4KHJlcXVpcmVkTGVuZ3RoLCBleHQuYW1vdW50UmVxdWlyZXMpO1xuICAgICAgICAgICAgICAgIGV4dENvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWlyZWRMZW5ndGggPT09IC0xIHx8IGV4dENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gTG9hZCBwcmV2aW91cyB2YWx1ZXMgKGlmIHJhbmdlIGlzIGNvbnN0cmFpbmVkKS4gSW5pdCBmaXhlZCBzaXplIGFycmF5XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KHJlcXVpcmVkTGVuZ3RoLCAobGhzLCByaHMpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH0pO1xuICAgICAgICBjb25zdCBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGlmICghaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBkb2VzIG5vdCBjb250YWluIHVwZGF0ZWQgZGF0YScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaWxsIGZpeGVkIHNpemVkIGFycmF5XG4gICAgICAgICAgICBjb25zdCBhcnJheTogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGNvdW50ZXIgPCByZXF1aXJlZExlbmd0aCAmJiBpdGVyYXRvci5tb3ZlUHJldigpKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY291bnRlcl0gPSBpdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHV0IGluIGJhY2sgb3JkZXJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgIGxpbmUucHVzaChhcnJheVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZ28gdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5tb3ZlTmV4dCgpKSB7IHJldHVybjsgfSAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICAgICAgLy8gRml4ZWQgc2l6ZSBhcnJheSBjYW4gbm90IGJlIGZpbGxlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMy4gQ29tcHV0ZSAoaWYgcmFuZ2UgaXMgY29uc3RyYWluZWQgLSB0aWxsIHRoZSBlbmQgb2YgYXJyYXkpXG4gICAgICAgIC8vXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIEFkZCBjdXJyZW50IGVsZW1lbnRcbiAgICAgICAgICAgIGxpbmUucHVzaChpdGVyYXRvci5jdXJyZW50KTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB1aWQgb2YgT2JqZWN0LmtleXModGhpcy5leHRlbnNpb25zKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IHRoaXMuZXh0ZW5zaW9uc1t1aWRdO1xuICAgICAgICAgICAgICAgIGlmIChleHQgJiYgZXh0TmFtZSAmJiB1aWQgPT09IGV4dE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0LmV4dGVuZChsaW5lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4dCAmJiAhZXh0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBleHQuZXh0ZW5kKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoaXRlcmF0b3IubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gNC4gUmV0dXJuIF9fb3JpZ2luYWxfXyByYW5nZS5cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgbG9jayh1aWQ6IFVpZCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgZGlzcG9zZSgpOiB2b2lkO1xuXG4gICAgcHVibGljIHNldFRpbWVSYW5nZShyYW5nZTogSVJhbmdlPERhdGU+KTogdm9pZCB7XG4gICAgICAgIHRoaXMudGltZVJhbmdlID0gcmFuZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ2RhdGFzb3VyY2UnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB2YWxpZGF0ZURhdGVSYW5nZShyYW5nZTogSVJhbmdlPERhdGU+KTogdm9pZCB7XG4gICAgICAgIGlmICghcmFuZ2UpIHsgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcInJhbmdlXCIgaXMgbm90IGRlZmluZWQuJyk7IH1cbiAgICAgICAgaWYgKCFyYW5nZS5zdGFydCB8fCAhcmFuZ2UuZW5kKSB7IHRocm93IG5ldyBFcnJvcignUmFuZ2UgaXMgbm90IGRlZmluZWQuJyk7IH1cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0ID4gcmFuZ2UuZW5kKSB7IHRocm93IG5ldyBFcnJvcignU3RhcnQgb2Ygc3BlY2lmaWVkIHJhbmdlIHNob3VsZCBub3QgYmUgbGVzcyB0aGVuIGVuZC4nKTsgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB2YWxpZGF0ZVJhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IHZvaWQge1xuICAgICAgICBpZiAoIXJhbmdlKSB7IHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXCJyYW5nZVwiIGlzIG5vdCBkZWZpbmVkLicpOyB9XG4gICAgICAgIGlmICghcmFuZ2Uuc3RhcnQgfHwgIXJhbmdlLmVuZCkgeyB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlIGlzIG5vdCBkZWZpbmVkLicpOyB9XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC50ID4gcmFuZ2UuZW5kLnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhcnQgb2Ygc3BlY2lmaWVkIHJhbmdlIHNob3VsZCBub3QgYmUgbGVzcyB0aGVuIGVuZC4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5zdGFydC50LmdldFRpbWUoKSA9PT0gcmFuZ2UuZW5kLnQuZ2V0VGltZSgpICYmIHJhbmdlLnN0YXJ0Lm4gPiByYW5nZS5lbmQubikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiBzcGVjaWZpZWQgcmFuZ2Ugc2hvdWxkIG5vdCBiZSBsZXNzIHRoZW4gZW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlSW50ZXJ2YWwoaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IHZvaWQge1xuICAgICAgICBpZiAoIWludGVydmFsKSB7IHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXCJpbnRlcnZhbFwiIGlzIG5vdCBkZWZpbmVkLicpOyB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIERhdGFTb3VyY2VDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcHJlY2lzaW9uOiBudW1iZXJcbiAgICApIHsgfVxufVxuIiwiLyoqXHJcbiAqIERhdGFTb3VyY2VGYWN0b3J5IGNsYXNzLlxyXG4gKi9cclxuaW1wb3J0IHsgQ2hhcnRUeXBlIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUmFuZ2UgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ29udGV4dCwgSURhdGFTb3VyY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBMaW5lQnJlYWtEYXRhU291cmNlIH0gZnJvbSAnLi9MaW5lQnJlYWtEYXRhU291cmNlJztcclxuaW1wb3J0IHsgUmFuZ2VCYXJEYXRhU291cmNlIH0gZnJvbSAnLi9SYW5nZUJhckRhdGFTb3VyY2UnO1xyXG5pbXBvcnQgeyBSZW5rb0RhdGFTb3VyY2UgfSBmcm9tICcuL1JlbmtvRGF0YVNvdXJjZSc7XHJcbmltcG9ydCB7IEhlaWtpbkFzaGlEYXRhU291cmNlIH0gZnJvbSAnLi9IZWlraW5Bc2hpRGF0YVNvdXJjZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0YVNvdXJjZUZhY3Rvcnkge1xyXG4gICAgcHVibGljIHN0YXRpYyBDUkVBVEU8VD4oY2hhcnRUeXBlOiBzdHJpbmcsIHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCB0aW1lUmFuZ2U6IElSYW5nZTxEYXRlPiwgY29udGV4dDogSUNvbnRleHQpOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4ge1xyXG4gICAgICAgIHN3aXRjaCAoY2hhcnRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLmNhbmRsZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLmhlaWtpbmFzaGk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEhlaWtpbkFzaGlEYXRhU291cmNlKHNvdXJjZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLmhvbGxvdzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLmxpbmU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICBjYXNlIENoYXJ0VHlwZS5tb3VudGFpbjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLm9obGM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICBjYXNlIENoYXJ0VHlwZS5yYW5nZWJhcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2VCYXJEYXRhU291cmNlKHNvdXJjZSwgdGltZVJhbmdlKTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUucmVua286XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlbmtvRGF0YVNvdXJjZShzb3VyY2UsIHRpbWVSYW5nZSk7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLmxpbmVicmVhazpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGluZUJyZWFrRGF0YVNvdXJjZShzb3VyY2UsIHRpbWVSYW5nZSk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgY2hhcnQgdHlwZT0ke2NoYXJ0VHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFxyXG4gKi9cclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElkVmFsdWUsIElIYXNoVGFibGUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YVNvdXJjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElEYXRhU291cmNlUmVnaXN0ZXIge1xyXG4gICAgZ2V0SXRlbSh1aWQ6IHN0cmluZyk6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPjtcclxuICAgIGxpc3QoKTogSWRWYWx1ZVtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0YVNvdXJjZVJlZ2lzdGVyIGltcGxlbWVudHMgSURhdGFTb3VyY2VSZWdpc3RlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzb3VyY2VzOiBJSGFzaFRhYmxlPElEYXRhU291cmNlPENhbmRsZXN0aWNrPj4gPSB7fTtcclxuICAgIC8vcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IERhdGFTb3VyY2VMb2NhdG9yO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgKHRoaXMuaW5zdGFuY2UgPSBuZXcgdGhpcygpKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXIodWlkOiBzdHJpbmcsIGRzOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pIHtcclxuICAgICAgICB0aGlzLnNvdXJjZXNbdWlkXSA9IGRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaXN0KCk6IElkVmFsdWVbXSB7XHJcbiAgICAgICAgY29uc3QgYXIgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKHRoaXMuc291cmNlcykpIHtcclxuICAgICAgICAgICAgY29uc3QgZHMgPSB0aGlzLnNvdXJjZXNbaWRdO1xyXG4gICAgICAgICAgICBhci5wdXNoKG5ldyBJZFZhbHVlKGlkLCBkcy5hc3NldCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEl0ZW0odWlkOiBzdHJpbmcpOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4ge1xyXG4gICAgICAgIGNvbnN0IGRzID0gdGhpcy5zb3VyY2VzW3VpZF07XHJcbiAgICAgICAgaWYgKGRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgZmluZCBkYXRhIHNvdXJjZSB3aXRoIGlkPScke3VpZH0nLmApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgRGF0YVR5cGUge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcG9pbnQgPSAncG9pbnQnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY2FuZGxlID0gJ2NhbmRsZSc7XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBJSW5kaWNhdG9yRXh0ZW5zaW9uLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgRGF0YVNvdXJjZVJlZ2lzdGVyLFxuICAgIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSW5kaWNhdG9yRGF0YVNvdXJjZSB9IGZyb20gJy4vSW5kaWNhdG9yRGF0YVNvdXJjZSc7XG5cbmV4cG9ydCBjbGFzcyBIZWlraW5Bc2hpRGF0YVNvdXJjZSBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIGVuZCAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcblxuICAgICAgICAvLyBHZXQgc291cmNlIGRhdGEgd2l0aG91dCBsb2FkaW5nXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuc291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgbGV0IG1vdmU7XG4gICAgICAgIG1vdmUgPSBhcmcgPyBpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSA6IGl0ZXJhdG9yLm1vdmVOZXh0KCk7XG4gICAgICAgIGlmICghbW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpb25zXG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCBjb21wdXRlZEFycmF5OiBDYW5kbGVzdGlja1tdID0gW107XG5cbiAgICAgICAgY29uc3QgZmlyc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcbiAgICAgICAgbGV0IGxhc3RVaWQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxhc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSB0aGlzLmNvbXB1dGVDYW5kbGUoaXRlcmF0b3IuY3VycmVudCwgaXRlcmF0b3IucHJldmlvdXMpO1xuXG4gICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xuICAgICAgICB9IHdoaWxlIChpdGVyYXRvci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvLyBNZXJnZVxuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGNvbXB1dGVkQXJyYXkpO1xuXG4gICAgICAgIC8vIE1lcmdlIG5ldyBkYXRhIGFuZCBub3RpZnkgc3Vic2NyaWJlcnNcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KGZpcnN0VWlkLCBsYXN0VWlkLCBjb21wdXRlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlQ2FuZGxlKGN1cnJlbnQ6IENhbmRsZXN0aWNrLCBwcmV2aW91cz86IENhbmRsZXN0aWNrKTogQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrKGN1cnJlbnQuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZC50ID0gY3VycmVudC51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkLm4gPSBjdXJyZW50LnVpZC5uO1xuXG4gICAgICAgIGlmIChjdXJyZW50LmMgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Lm8gIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmggIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmwgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICYmIHByZXZpb3VzICYmIHByZXZpb3VzLmMgIT09IHVuZGVmaW5lZCAmJiBwcmV2aW91cy5vICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEhBLUNsb3NlID0gKE9wZW4oMCkgKyBIaWdoKDApICsgTG93KDApICsgQ2xvc2UoMCkpIC8gNFxuICAgICAgICAgICAgY29uc3QgaGFjID0gKGN1cnJlbnQubyArIGN1cnJlbnQuaCArIGN1cnJlbnQubCArIGN1cnJlbnQuYykgLyA0O1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IGhhYztcbiAgICAgICAgICAgIC8vIEhBLU9wZW4gPSAoSEEtT3BlbigtMSkgKyBIQS1DbG9zZSgtMSkpIC8gMlxuICAgICAgICAgICAgY29uc3QgaGFvID0gKHByZXZpb3VzLm8gKyBwcmV2aW91cy5jKSAvIDI7XG4gICAgICAgICAgICBjb21wdXRlZC5vID0gaGFvO1xuICAgICAgICAgICAgLy8gSEEtSGlnaCA9IE1heGltdW0gb2YgdGhlIEhpZ2goMCksIEhBLU9wZW4oMCkgb3IgSEEtQ2xvc2UoMCkgXG4gICAgICAgICAgICBjb21wdXRlZC5oID0gTWF0aC5tYXgoY3VycmVudC5oLCBoYW8sIGhhYyk7XG4gICAgICAgICAgICAvLyBIQS1Mb3cgPSBNaW5pbXVtIG9mIHRoZSBMb3coMCksIEhBLU9wZW4oMCkgb3IgSEEtQ2xvc2UoMClcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBNYXRoLm1heChjdXJyZW50LmwsIGhhbywgaGFjKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmMgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Lm8gIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmggIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IChjdXJyZW50Lm8gKyBjdXJyZW50LmggKyBjdXJyZW50LmwgKyBjdXJyZW50LmMpIC8gNDtcbiAgICAgICAgICAgIGNvbXB1dGVkLm8gPSAoY3VycmVudC5vICsgY3VycmVudC5jKSAvIDI7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY3VycmVudC5oO1xuICAgICAgICAgICAgY29tcHV0ZWQubCA9IGN1cnJlbnQubDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQodWlkOiBVaWQsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubG9hZCh1aWQsIGNvdW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNvdXJjZS5sb2FkUmFuZ2UodWlkRmlyc3QsIHVpZExhc3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2NrKHVpZDogVWlkKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc291cmNlLmxvY2sodWlkKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEh0dHBEYXRhU291cmNlIGNsYXNzLlxuICogXG4gKiBAY2xhc3NkZXNjIERhdGEgc291cmNlIHdpdGggZHluYW1pYyBkYXRhIGxvYWRpbmcuXG4gKi9cbmltcG9ydCB7IFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIElUaW1lVmFsdWUsIElVaWRWYWx1ZSwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSURpc3Bvc2FibGUsIElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlIH0gZnJvbSAnLi9BcnJheURhdGFTdG9yYWdlJztcbmltcG9ydCB7IERhdGFDaGFuZ2VkQXJndW1lbnQgfSBmcm9tICcuL0RhdGFDaGFuZ2VkRXZlbnQnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IEh0dHBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9IdHRwRGF0YVNvdXJjZUNvbmZpZyc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yLCBJRGF0YVJlYWRlckRlbGVnYXRlLCBJRGF0YVJlc29sdmVyRGVsZWdhdGUsIElQZW5kaW5nUmVxdWVzdCwgSVJlc3BvbnNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuXG5leHBvcnQgY2xhc3MgSHR0cERhdGFTb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVN0b3JhZ2U6IEFycmF5RGF0YVN0b3JhZ2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByb3RlY3RlZCByZWFkb25seSByZXF1ZXN0TWFuYWdlcjogSHR0cFJlcXVlc3RNYW5hZ2VyO1xuICAgIC8vcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0TWluRGF0ZSA9IG5ldyBEYXRlKDIwMDAsIDAsIDEpO1xuXG4gICAgLy9wcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNYXhJdGVtc1JlcXVlc3RlZCA9IDEwMDtcbiAgICBwcm90ZWN0ZWQgYXV0b1VwZGF0ZVBlcmlvZFNlYyA9IDEwO1xuICAgIC8vcHJvdGVjdGVkIGJvcmRlclRpbWU6IERhdGV8dW5kZWZpbmVkO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbXBhcmVyID0gKGl0ZW0xOiBDYW5kbGVzdGljaywgaXRlbTI6IENhbmRsZXN0aWNrKSA9PiB7IHJldHVybiBpdGVtMS51aWQuY29tcGFyZShpdGVtMi51aWQpOyB9O1xuLy8gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbXBhcmVyID0gKGl0ZW0xOiBJVGltZVZhbHVlLCBpdGVtMjogSVRpbWVWYWx1ZSkgPT4geyByZXR1cm4gaXRlbTEuZGF0ZS5nZXRUaW1lKCkgLSBpdGVtMi5kYXRlLmdldFRpbWUoKTsgfTtcbiAgICBwcm90ZWN0ZWQgdGltZXI/OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGlzRGlzcG9zZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBkYXRhVHlwZTogeyBuZXcoZDogRGF0ZSk6IENhbmRsZXN0aWNrIH0sXG4gICAgICAgIGNvbmZpZzogSHR0cERhdGFTb3VyY2VDb25maWc8Q2FuZGxlc3RpY2s+KSB7XG4gICAgICAgICAgICBzdXBlcihkYXRhVHlwZSwgY29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCFjb25maWcgfHwgKCFjb25maWcudXJsICYmICFjb25maWcucmVhZERhdGEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVcmwgYW5kIHJlYWREYXRhIGFyZSBub3QgaW5pdGlhbGl6ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZmlnLnRpbWVJbnRlcnZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lIGludGVydmFsIGlzIG5vdCBzZXQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlID0gbmV3IEFycmF5RGF0YVN0b3JhZ2U8Q2FuZGxlc3RpY2s+KHRoaXMuY29tcGFyZXIpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcucmVhZERhdGEgPSBjb25maWcucmVhZERhdGEgfHwgdGhpcy5tYWtlRGVmYXVsdFJlYWRlcigpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcucmVzb2x2ZURhdGEgPSBjb25maWcucmVzb2x2ZURhdGEgfHwgdGhpcy5tYWtlRGVmYXVsdFJlc29sdmVyKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvdXBkYXRlID0gKGNvbmZpZy5hdXRvdXBkYXRlICE9PSB1bmRlZmluZWQpID8gY29uZmlnLmF1dG91cGRhdGUgOiBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG5ldyBIdHRwUmVxdWVzdE1hbmFnZXIodGhpcy5jb25maWcucmVhZERhdGEsIHRoaXMuY29uZmlnLnJlc29sdmVEYXRhKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF1dG91cGRhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhdXRvdXBkYXRlXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUF1dG91cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvbmZpZygpOiBIdHRwRGF0YVNvdXJjZUNvbmZpZzxDYW5kbGVzdGljaz4ge1xuICAgICAgICByZXR1cm4gPEh0dHBEYXRhU291cmNlQ29uZmlnPENhbmRsZXN0aWNrPj50aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNjaGVkdWxlQXV0b3VwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQodGhpcy5hdXRvVXBkYXRlLCB0aGlzLmF1dG9VcGRhdGVQZXJpb2RTZWMgKiAxMDAwKTtcbiAgICAgICAgY29uc29sZS5kZWJ1Zyhgc2NoZWR1bGVkIGF1dG91cGRhdGUsIHRpbWVyPSR7IHRoaXMudGltZXIgfWApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhdXRvVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGBhdXRvIHVwZGF0ZSwgaW50ZXJ2YWw9JHsgVGltZUludGVydmFsW3RoaXMuY29uZmlnLnRpbWVJbnRlcnZhbF0gfWApO1xuXG4gICAgICAgIC8vIERlZmluZSBub3cgYW5kIHRpbWUgb2YgbGFzdCBjYW5kbGVcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuICAgICAgICBsZXQgbGFzdFQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBsYXN0VC5zZXREYXRlKGxhc3RULmdldERhdGUoKSAtIDEpOyAvLyBkZWZhdWx0IHZhbHVlIGlzIG5vdyBtaW51cyAxIGRheVxuICAgICAgICBjb25zdCBsYXN0SXRlbSA9IHRoaXMuZGF0YVN0b3JhZ2UubGFzdDtcbiAgICAgICAgaWYgKGxhc3RJdGVtKSB7XG4gICAgICAgICAgICAvLyBMYXN0IGNhbmRsZSBzaG91bGQgYmUgYWxzbyB1cGRhdGVkXG4gICAgICAgICAgICBsYXN0VCA9IERhdGVVdGlscy5zdWJzdHJhY3RJbnRlcnZhbChsYXN0SXRlbS51aWQudCwgdGhpcy5jb25maWcudGltZUludGVydmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2UgcmVxdWVzdFxuICAgICAgICB0aGlzLm1ha2VSZXF1ZXN0KHsgc3RhcnQ6IGxhc3RULCBlbmQ6IG5vdyB9LCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpO1xuXG4gICAgICAgIC8vIHNjaGVkdWxlIG5leHQgYXV0b3VwZGF0ZVxuICAgICAgICB0aGlzLnNjaGVkdWxlQXV0b3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVyYXRvcihmaWx0ZXI/OiAoaXRlbTogQ2FuZGxlc3RpY2spID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIC8vIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKGZpbHRlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ETzogV2hlbiB1bmxvYWRpbmcgZGF0YSBmcm9tIG1lbW9yeSBkbyBub3QgdW5sb2FkIHNwZWNpZmllZCByYW5nZS5cbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBIdHRwRGF0YVNvdXJjZSBpZ25vcmVzIHVpZC5uXG4gICAgICAgIGNvbnN0IGRhdGVTdGFydCA9IHVpZC50O1xuICAgICAgICBjb25zdCBkYXRlRW5kID0gRGF0ZVV0aWxzLmFkZEludGVydmFsKGRhdGVTdGFydCwgdGhpcy5jb25maWcudGltZUludGVydmFsLCBjb3VudCk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gKGNvdW50ID4gMCkgPyB7IHN0YXJ0OiBkYXRlU3RhcnQsIGVuZDogZGF0ZUVuZCB9IDogeyBzdGFydDogZGF0ZUVuZCwgZW5kOiBkYXRlU3RhcnQgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhSW5SYW5nZShyYW5nZSwgdGhpcy5jb25maWcudGltZUludGVydmFsKTtcbiAgICB9XG5cbiAgICAvLyBCb3RoIFVJRCBhcmUgaW5jbHVzaXZlLlxuICAgIHB1YmxpYyBsb2FkUmFuZ2UodWlkRmlyc3Q6IFVpZCwgdWlkTGFzdDogVWlkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRhdGVGaXJzdCA9IHVpZEZpcnN0LnQ7XG4gICAgICAgIGNvbnN0IGRhdGVMYXN0ID0gdWlkTGFzdC50O1xuICAgICAgICBjb25zdCByYW5nZSA9IChkYXRlTGFzdCA+IGRhdGVGaXJzdCkgPyB7IHN0YXJ0OiBkYXRlRmlyc3QsIGVuZDogZGF0ZUxhc3QgfSA6IHsgc3RhcnQ6IGRhdGVMYXN0LCBlbmQ6IGRhdGVGaXJzdCB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGFJblJhbmdlKHJhbmdlLCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGF0YUluUmFuZ2UocmFuZ2U6IElSYW5nZTxEYXRlPiwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IHZvaWQge1xuXG4gICAgICAgIHRoaXMudmFsaWRhdGVEYXRlUmFuZ2UocmFuZ2UpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlSW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgIHRoaXMubWFrZVJlcXVlc3QocmFuZ2UsIGludGVydmFsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGltZUludGVydmFsKGludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgLy8gc2V0IGludGVydmFsIGFuZCBjbGVhciBzdG9yYWdlXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuY29uZmlnLnRpbWVJbnRlcnZhbCA9IGludGVydmFsO1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgbWFrZVJlcXVlc3QocmFuZ2U6IElSYW5nZTxEYXRlPiwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdJZ25vcmluZyByZXF1ZXN0IGZyb20gdGhlIGRpc3Bvc2VkIGRhdGEgc291cmNlLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSByZXF1ZXN0XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5tYWtlUmVxdWVzdChyYW5nZSwgdGhpcy5jb25maWcudGltZUludGVydmFsKTtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgZm9yIChjb25zdCBwcm9taXNlIG9mIHByb21pc2VzKSB7XG4gICAgICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbih0aGlzLm9uUmVzb2x2ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uUmVzb2x2ZWQgPSAocmVzcG9uc2U6IElSZXNwb25zZTxDYW5kbGVzdGljaz4pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnSWdub3JpbmcgcmVzcG9uc2UgdG8gdGhlIGRpc3Bvc2VkIGRhdGEgc291cmNlLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVJbnRlcnZhbCA9IHJlc3BvbnNlLmludGVydmFsOyAvL3RoaXMuc3RyaW5nVG9UaW1lSW50ZXJ2YWwocmVzcG9uc2UuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgaWYgKHRpbWVJbnRlcnZhbCAhPT0gdGhpcy5jb25maWcudGltZUludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGltZWludGVydmFsIGNoYW5nZWQgaWdub3JlIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgSWdub3JpbmcgcmVxdWVzdCB3aXRoIHdyb25nIHRpbWUgaW50ZXJ2YWwgJHt0aW1lSW50ZXJ2YWx9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZGF0YVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGNvbnN0IGxhc3RCZWZvcmUgPSB0aGlzLmRhdGFTdG9yYWdlLmxhc3QgIT09IHVuZGVmaW5lZCA/IHRoaXMuZGF0YVN0b3JhZ2UubGFzdC51aWQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLm1lcmdlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgY29uc3QgbGFzdEFmdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5sYXN0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmRhdGFTdG9yYWdlLmxhc3QudWlkIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY29udmVyc2lvblxuICAgICAgICAgICAgY29uc3QgdWlkRmlyc3QgPSByZXNwb25zZS5kYXRhWzBdLnVpZDsgLy8gZmlyc3QgKG5ldyBEYXRlKHJlc3BvbnNlLnN0YXJ0RGF0ZVRpbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IHVpZExhc3QgPSByZXNwb25zZS5kYXRhW3Jlc3BvbnNlLmRhdGEubGVuZ3RoIC0gMV0udWlkOyAvLyBsYXN0XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IHJlc3BvbnNlLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgYXJnID0gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQodWlkRmlyc3QsIHVpZExhc3QsIGNvdW50KTtcbiAgICAgICAgICAgIGFyZy5sYXN0VWlkQmVmb3JlID0gbGFzdEJlZm9yZTtcbiAgICAgICAgICAgIGFyZy5sYXN0VWlkQWZ0ZXIgPSBsYXN0QWZ0ZXI7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBib3JkZXJUaW1lLiBJdCBjYW4gb25seSBpbmNyZWFzZS5cbiAgICAgICAgICAgIC8vdGhpcy5ib3JkZXJUaW1lID0gKHRoaXMuYm9yZGVyVGltZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuYm9yZGVyVGltZSA8IHVpZExhc3QudCkgPyB1aWRMYXN0LnQgOiB0aGlzLmJvcmRlclRpbWU7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUV4dGVuc2lvbnMoYXJnKTtcblxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgSFRUUDogdHJpZ2dlcmluZyBldmVudCAke3VpZEZpcnN0LnQudG9JU09TdHJpbmcoKX0tJHt1aWRMYXN0LnQudG9JU09TdHJpbmcoKX1gKTtcbiAgICAgICAgICAgIC8vIE5vdGlmeSBzdWJzY3JpYmVyczpcbiAgICAgICAgICAgIHRoaXMuZGF0ZUNoYW5nZWRFdmVudC50cmlnZ2VyKGFyZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgbWFrZURlZmF1bHRSZWFkZXIoKTogSURhdGFSZWFkZXJEZWxlZ2F0ZSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuY29uZmlnLnVybDtcbiAgICAgICAgY29uc3QgdGltZUludGVydmFsVG9TdHJpbmcgPSB0aGlzLnRpbWVJbnRlcnZhbFRvU3RyaW5nO1xuICAgICAgICByZXR1cm4gKHRpbWVTdGFydDogRGF0ZSwgdGltZUVuZDogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3M6IEpRdWVyeUFqYXhTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWw6IHRpbWVJbnRlcnZhbFRvU3RyaW5nKGludGVydmFsKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlVGltZTogdGltZVN0YXJ0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiB0aW1lRW5kLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuICQuYWpheChzZXR0aW5ncyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1ha2VEZWZhdWx0UmVzb2x2ZXIoKTogSURhdGFSZXNvbHZlckRlbGVnYXRlPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIHJldHVybiAocmVzcG9uc2U6IGFueSk6IElSZXNwb25zZTxDYW5kbGVzdGljaz4gPT4ge1xuICAgICAgICAgICAgLy8gTWFwIGluY29taW5nIGRhdGEgdG8gbW9kZWxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBvYmplY3RzID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGVsOiBhbnkpID0+IHsgcmV0dXJuIGVsICYmIGVsLmRhdGU7IH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoZWw6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGVsLmRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqOiBDYW5kbGVzdGljayA9IG5ldyB0aGlzLmRhdGFUeXBlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+b2JqKS5kZXNlcmlhbGl6ZShlbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb2JqLnVpZCA9IHRoaXMuZGF0ZVRvVWlkKGVsLmRhdGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IG9iamVjdHMsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IHJlc3BvbnNlLmludGVydmFsLFxuICAgICAgICAgICAgICAgIGRhdGVGcm9tOiBuZXcgRGF0ZShyZXNwb25zZS5zdGFydERhdGVUaW1lKSxcbiAgICAgICAgICAgICAgICBkYXRlVG86IG5ldyBEYXRlKHJlc3BvbnNlLmVuZERhdGVUaW1lKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWVyZ2UoZGF0YTogQ2FuZGxlc3RpY2tbXSkge1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGRhdGEpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB0aW1lSW50ZXJ2YWxUb1N0cmluZyhpbnRlcnZhbDogVGltZUludGVydmFsKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFRpbWVJbnRlcnZhbFtpbnRlcnZhbF07XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0cmluZ1RvVGltZUludGVydmFsKGludGVydmFsOiBrZXlvZiB0eXBlb2YgVGltZUludGVydmFsKTogVGltZUludGVydmFsIHtcbiAgICAgICAgcmV0dXJuIFRpbWVJbnRlcnZhbFtpbnRlcnZhbF07XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBkaXNwb3NlLCB0aW1lcj0keyB0aGlzLnRpbWVyIH1gKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGVuZGluZ1Byb21pc2Uge1xuICAgIC8vdWlkOiBudW1iZXI7XG4gICAgcmVzb2x2ZT86ICh2YWx1ZT86IHt9IHwgUHJvbWlzZUxpa2U8e30+fCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgLy9pbnRlcnZhbDogVGltZUludGVydmFsO1xuICAgIHJhbmdlOiBJUmFuZ2U8RGF0ZT47XG59XG5cbi8qKlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVxdWVzdE1hbmFnZXIge1xuXG4gICAgcHJpdmF0ZSB0b3RhbCA9IG5ldyBDb21wb3NpdGVSYW5nZSgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVhZGVyOiBJRGF0YVJlYWRlckRlbGVnYXRlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZXI6IElEYXRhUmVzb2x2ZXJEZWxlZ2F0ZTxDYW5kbGVzdGljaz47XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHF1ZXVlOiBJUGVuZGluZ1Byb21pc2VbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNSdW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGhyb3R0bGUgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xuXG4gICAgY29uc3RydWN0b3IocmVhZGVyOiBJRGF0YVJlYWRlckRlbGVnYXRlLCByZXNvbHZlcjogSURhdGFSZXNvbHZlckRlbGVnYXRlPENhbmRsZXN0aWNrPikge1xuICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy50b3RhbC5jbGVhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYWtlUmVxdWVzdChyYW5nZTogSVJhbmdlPERhdGU+LCBpbnRlcnZhbDogVGltZUludGVydmFsLCBmb3JjZTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxJUmVzcG9uc2U8SVRpbWVWYWx1ZT4+W10ge1xuXG4gICAgICAgIGxldCByYW5nZXMgPSBbcmFuZ2VdO1xuICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBsb2FkZWQgcmFuZ2VcbiAgICAgICAgICAgIHJhbmdlcyA9IHRoaXMudG90YWwuZGlmZihyYW5nZSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09PSAwKSB7IHJldHVybiBbXTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQ2hlY2sgdGhlIHF1ZXVlOyBmaWx0ZXIgb3V0IGludGVyc2VjdGlvbnMgd2l0aCBwZW5kaW5nIHJlcXVlc3RzLlxuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUmFuZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVxdWVzdGVkUmFuZ2Ugb2YgcmFuZ2VzKSB7XG5cbiAgICAgICAgICAgIGxldCByZXFTdGFydFRpbWUgPSByZXF1ZXN0ZWRSYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgICAgICBsZXQgcmVxRW5kVGltZSA9IHJlcXVlc3RlZFJhbmdlLmVuZC5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBwZW5kaW5nIHJlcXVlc3RzLCBjb21wYXJlIG5ldyByZXF1ZXN0IHRvIHRoZW0gYW5kIGV4Y2x1ZGUgb3ZlcmxhcHBpbmcgcmFuZ2VzLlxuICAgICAgICAgICAgZm9yIChjb25zdCByZXEgb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdGFydCA9IHJlcS5yYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ0VuZCA9IHJlcS5yYW5nZS5lbmQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXFTdGFydFRpbWUgPj0gcGVuZGluZ1N0YXJ0ICYmIHJlcUVuZFRpbWUgPD0gcGVuZGluZ0VuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQZW5kaW5nIHJlcXVlc3RzIGluY2x1ZGVzIG5ldyByZXF1ZXN0LiBKdXN0IGlnbm9yZSBuZXcgcmVxdWVzdC5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXFTdGFydFRpbWUgPCBwZW5kaW5nU3RhcnQgJiYgcmVxRW5kVGltZSA+IHBlbmRpbmdTdGFydCAmJiByZXFFbmRUaW1lIDw9IHBlbmRpbmdFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxRW5kVGltZSA9IHBlbmRpbmdTdGFydDsgLy8gZXhjbHVkZSBvdmVybGFwcGluZyBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcUVuZFRpbWUgPiBwZW5kaW5nRW5kICYmIHJlcVN0YXJ0VGltZSA+PSBwZW5kaW5nU3RhcnQgJiYgcmVxU3RhcnRUaW1lIDwgcGVuZGluZ0VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXFTdGFydFRpbWUgPSBwZW5kaW5nRW5kOyAvLyBleGNsdWRlIG92ZXJsYXBwaW5nIHN0YXJ0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJlZFJhbmdlcy5wdXNoKHsgc3RhcnQ6IG5ldyBEYXRlKHJlcVN0YXJ0VGltZSksIGVuZDogbmV3IERhdGUocmVxRW5kVGltZSkgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyZWRSYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBQdXNoIHJlcXVlc3RlZCByYW5nZXMgdG8gcXVldWVcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgZm9yIChjb25zdCByZXEgb2YgZmlsdGVyZWRSYW5nZXMpIHtcblxuICAgICAgICAgICAgY29uc3QgcXVldWVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlZCwgcmVqZWN0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyByZXNvbHZlOiByZXNvbHZlZCwgcmFuZ2U6IHJlcX0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZWQsIHJlamVjdGVkKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgbmV3IHJlcXVlc3QgdG8gY29sbGVjdGlvbiBvZiBwZW5kaW5nIHJlcXVlc3RzXG5cbiAgICAgICAgICAgICAgICBxdWV1ZWRQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5yZWFkZXIocmVxLnN0YXJ0LCByZXEuZW5kLCBpbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLnJlc29sdmVyKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcDogSVJlc3BvbnNlPENhbmRsZXN0aWNrPikgPT4geyAgc2VsZi5vblN1Y2NlZWRlZChyZXNwKTsgcmVzb2x2ZWQocmVzcCk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5mYWlsKChqcVhocjogSlF1ZXJ5WEhSLCB0ZXh0U3RhdHVzOiBzdHJpbmcsIGVycm9yVGhyb3duOiBzdHJpbmcpID0+IHsgc2VsZi5vbkZhaWxlZChqcVhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pOyByZWplY3RlZChlcnJvclRocm93bik7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNC4gS2ljayBvZmYgcmVxdWVzdHMgaWYgdGhleSBhcmUgbm90IGtpY2tlZCBvZmYgeWV0XG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kUmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gU2VuZCBmaXJzdCByZXF1ZXN0IGluIHF1ZXVlIGFuZCBzY2hlZHVsZSBuZXh0IG9uZVxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmdSZXF1ZXN0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHByb21pc2UucmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc29sdmUgZnVuY3Rpb24gaXMgbm90IGluaXRpYWxpemVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzY2hlZHVsZSBuZXh0IHJlcXVlc3RcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zZW5kUmVxdWVzdCwgdGhpcy50aHJvdHRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TdWNjZWVkZWQgPSAocmVzcG9uc2U6IElSZXNwb25zZTxDYW5kbGVzdGljaz4pID0+IHtcblx0XHQvLyBJZiBubyBlcnJvcnMgYXBwZW5kIHJhbmdlXG4gICAgICAgIHRoaXMudG90YWwuYXBwZW5kKHtzdGFydDogcmVzcG9uc2UuZGF0ZUZyb20sIGVuZDogcmVzcG9uc2UuZGF0ZVRvfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkZhaWxlZCA9IChqcVhocjogSlF1ZXJ5WEhSLCB0ZXh0U3RhdHVzOiBzdHJpbmcsIGVycm9yVGhyb3duOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgUmVxdWVzdCBmYWlsZWQ6ICR7dGV4dFN0YXR1c30gJHtlcnJvclRocm93bn1gKTtcbiAgICB9XG59XG5cbmNsYXNzIE5vZGU8VD4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZGF0YTogVCxcbiAgICAgICAgcHVibGljIHN0YXJ0OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgcHJldj86IE5vZGU8VD4sXG4gICAgICAgIHB1YmxpYyBuZXh0PzogTm9kZTxUPikge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvc2l0ZVJhbmdlIHtcbiAgICBwcml2YXRlIHN0YXJ0OiBOb2RlPERhdGU+ID0gbmV3IE5vZGU8RGF0ZT4obmV3IERhdGUoMTkwMCwgMCksIGZhbHNlKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgc3BlY2lmaWVkIHJhbmdlLlxuICAgICAqIEBwYXJhbSByYW5nZVxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBlbmQocmFuZ2U6IElSYW5nZTxEYXRlPik6IHZvaWQge1xuXG4gICAgICAgIGxldCBTID0gcmFuZ2Uuc3RhcnQuZ2V0VGltZSgpO1xuICAgICAgICBsZXQgRSA9IHJhbmdlLmVuZC5nZXRUaW1lKCk7XG5cbiAgICAgICAgbGV0IHByZXYgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjdXIgPSB0aGlzLnN0YXJ0O1xuXG4gICAgICAgIC8vIDEuIEluc2VydCByYW5nZS5zdGFydFxuICAgICAgICAvL1xuICAgICAgICBsZXQgaGFuZGxlZFMgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGN1ci5uZXh0KSB7XG4gICAgICAgICAgICBwcmV2ID0gY3VyO1xuICAgICAgICAgICAgY3VyID0gY3VyLm5leHQ7XG5cbiAgICAgICAgICAgIGlmIChjdXIuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBScyA9IGN1ci5kYXRhLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoUyA8IFJzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluc2VydCBTLCBtb3ZlIHRvIG5leHQgcG9pbnQsIGdvIHRvIGluc2VydCBFXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZTxEYXRlPihuZXcgRGF0ZShTKSwgdHJ1ZSwgcHJldiwgY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY3VyLnByZXYgPSBub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IG5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldiA9IG5vZGU7ICAgIC8vIGdvIHRvIG5leHRcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VyID0gbm9kZS5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkUyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUyA9PT0gUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IGluc2VydCBTLCBtb3ZlIHRvIG5leHQgcG9pbnQgZ28gdG8gaW5zZXJ0IEVcblxuICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ID0gY3VyOyAgICAvLyBnbyB0byBuZXh0XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1ciA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkUyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIFMgPiBSc1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IFJlID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChTIDwgUmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IGluc2VydCBhbnl0aGluZywgZ28gdG8gaW5zZXJ0IEVcblxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBwcmV2OyAvLyBzdGVwIGJhY2tcblxuICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ID0gY3VyOyAgICAvLyBnbyB0byBuZXh0XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1ciA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkUyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUyA9PT0gUmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJlLCBnbyB0byBpbnNlcnQgRSwgc3RheSBvbiBjdXJyZW50IHBvaW50XG5cbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gY3VyLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXIubmV4dCkgeyBjdXIubmV4dC5wcmV2ID0gcHJldjsgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyID0gcHJldjtcblxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkUyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIFMgPiBSZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBJbnNlcnQgcmFuZ2UuZW5kXG4gICAgICAgIC8vXG4gICAgICAgIGxldCBoYW5kbGVkRSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoY3VyLm5leHQpIHtcblxuICAgICAgICAgICAgcHJldiA9IGN1cjtcbiAgICAgICAgICAgIGN1ciA9IGN1ci5uZXh0O1xuXG4gICAgICAgICAgICBpZiAoY3VyLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgUnMgPSBjdXIuZGF0YS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKEUgPCBScykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgRSwgZmluaXNoXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlPERhdGU+KG5ldyBEYXRlKEUpLCBmYWxzZSwgcHJldiwgY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY3VyLnByZXYgPSBub2RlO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRFID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFID09PSBScykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgUnMgYW5kIGZpbmlzaFxuXG4gICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IHByZXY7ICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZEUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBFID4gUnNcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJzIGFuZCBjb250aW51ZVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IHByZXY7ICB9XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHByZXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBSZSA9IGN1ci5kYXRhLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoRSA8PSBSZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLCBmaW5pc2hcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZEUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBFID4gUmVcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJlIGFuZCBjb250aW51ZVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IHByZXY7ICB9XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHByZXY7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGN1ci5uZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGluc2VydCBFO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZWRFID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FzZSAxOiBJZiBubyByYW5nZXMgeWV0ICA9PiBpbnNlcnQgUyBhbmQgRVxuICAgICAgICAvLyBDYXNlIDI6IFMgPiBhbGwgICAgID0+IGluc2VydCBTIGFuZCBFXG4gICAgICAgIC8vIENhc2UgMzogRSA+IGxhc3QgICAgPT4gaW5zZXJ0IEVcblxuICAgICAgICBpZiAoIWhhbmRsZWRTKSB7XG4gICAgICAgICAgICAvLyBpbnNlcnQgU1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlPERhdGU+KG5ldyBEYXRlKFMpLCB0cnVlLCBjdXIsIGN1ci5uZXh0KTtcbiAgICAgICAgICAgIGN1ci5uZXh0ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChjdXIubmV4dCkgeyBjdXIubmV4dC5wcmV2ID0gbm9kZTsgfVxuICAgICAgICAgICAgY3VyID0gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFuZGxlZEUpIHtcbiAgICAgICAgICAgIC8vIGluc2VydCBFXG4gICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5vZGU8RGF0ZT4obmV3IERhdGUoRSksIGZhbHNlLCBjdXIsIGN1ci5uZXh0KTtcbiAgICAgICAgICAgIGN1ci5uZXh0ID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChjdXIubmV4dCkgeyBjdXIubmV4dC5wcmV2ID0gbm9kZTsgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXJ0Lm5leHQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgcmFuZ2UgaW50ZXJzZWN0cyBjb21wb3NpdGUgcmFuZ2UuXG4gICAgICogUmV0dXJucyBkaWZmZXJlbmNlLlxuICAgICAqIEBwYXJhbSByYW5nZSBcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlmZihyYW5nZTogSVJhbmdlPERhdGU+KTogSVJhbmdlPERhdGU+W10ge1xuXG4gICAgICAgIGNvbnN0IHJhbmdlczogUmFuZ2VbXSA9IFtdO1xuICAgICAgICBsZXQgY3VyUmFuZ2U6IFJhbmdlfHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG1vZGUgPSB0cnVlOyAvLyBzdGFydCwgZW5kXG5cbiAgICAgICAgbGV0IFMgPSByYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgIGxldCBFID0gcmFuZ2UuZW5kLmdldFRpbWUoKTtcblxuICAgICAgICBsZXQgcHJldiA9IHRoaXMuc3RhcnQ7XG4gICAgICAgIGxldCBjdXIgPSB0aGlzLnN0YXJ0O1xuXG4gICAgICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgICAgIHdoaWxlIChjdXIubmV4dCkge1xuICAgICAgICAgICAgcHJldiA9IGN1cjtcbiAgICAgICAgICAgIGN1ciA9IGN1ci5uZXh0O1xuXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gdHJ1ZSkgeyAvLyBtb2RlIGZvciBzdGFydFxuXG4gICAgICAgICAgICAgICAgaWYgKGN1ci5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBScyA9IGN1ci5kYXRhLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoUyA8IFJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHJhbmdlLCBnbyB0byBlbmQgbW9kZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJSYW5nZSA9IG5ldyBSYW5nZShuZXcgRGF0ZShTKSwgbmV3IERhdGUoUykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IGZhbHNlOyAvLyBlbmQgbW9kZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSBwcmV2OyAvLyBnbyBiYWNrIG9uZSBzdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTID4gUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBTID09PSBSc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgUmUgPSBjdXIubmV4dC5kYXRhLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFIDw9IFJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB3aGF0J3MgdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTID0gbmV4dCBSZSwgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUyA9IFJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5kIHRpbWUgaXMgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFJlID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChTIDwgUmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFMgPSBSZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFIDwgUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clJhbmdlID0gbmV3IFJhbmdlKG5ldyBEYXRlKFMpLCBuZXcgRGF0ZShTKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTID49IFJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIG1vZGUgZm9yIGVuZFxuXG4gICAgICAgICAgICAgICAgaWYgKGN1ci5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBScyA9IGN1ci5kYXRhLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoRSA8PSBScykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUmFuZ2UuZW5kID0gbmV3IERhdGUoRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goY3VyUmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlIGlzIG5vdCBjcmVhdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gKEUgPiBScylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clJhbmdlLmVuZCA9IG5ldyBEYXRlKFJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaChjdXJSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmFuZ2UgaXMgbm90IGNyZWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFMgPSBScztcblxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IHRydWU7IC8vIHN0YXJ0IG1vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ciA9IHByZXY7IC8vIGdvIGJhY2sgb25lIHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgUmUgPSBjdXIuZGF0YS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBjb25kaXRpb24uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmaW5pc2hlZCkge1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBzdGFydDogbmV3IERhdGUoUyksIGVuZDogbmV3IERhdGUoRSkgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgIH1cbn1cblxuY2xhc3MgUmFuZ2UgaW1wbGVtZW50cyBJUmFuZ2U8RGF0ZT4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgc3RhcnQ6IERhdGUsXG4gICAgICAgIHB1YmxpYyBlbmQ6IERhdGUpIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIEh0dHBEYXRhU291cmNlQ29uZmlnIGNsYXNzLlxuICovXG5pbXBvcnQgeyBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0RhdGFTb3VyY2VDb25maWcnO1xuaW1wb3J0IHsgSURhdGFSZWFkZXJEZWxlZ2F0ZSwgSVJlc3BvbnNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIEh0dHBEYXRhU291cmNlQ29uZmlnPFM+IGV4dGVuZHMgRGF0YVNvdXJjZUNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB1cmw6IHN0cmluZyxcbiAgICAgICAgcHVibGljIHRpbWVJbnRlcnZhbDogVGltZUludGVydmFsLFxuICAgICAgICBwdWJsaWMgcmVhZERhdGE6IElEYXRhUmVhZGVyRGVsZWdhdGUsXG4gICAgICAgIHB1YmxpYyByZXNvbHZlRGF0YTogKHJlc3BvbnNlOiBhbnkpID0+IElSZXNwb25zZTxTPixcbiAgICAgICAgcHVibGljIHByZWNpc2lvbjogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgYXV0b3VwZGF0ZSA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKHByZWNpc2lvbik7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBJbmRpY2F0b3JEYXRhU291cmNlIGNsYXNzLlxuICovXG4vLyBpbXBvcnQge1xuLy8gICAgIC8vQXJyYXlEYXRhU3RvcmFnZSxcbi8vICAgICBBcnJheUl0ZXJhdG9yLFxuLy8gICAgIERhdGFDaGFuZ2VkQXJndW1lbnQsXG4vLyAgICAgRGF0YVNvdXJjZSxcbi8vICAgICBEYXRhU291cmNlQ29uZmlnLFxuLy8gICAgIElDb250ZXh0LFxuLy8gICAgIElEYXRhSXRlcmF0b3IsXG4vLyAgICAgSURhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcblxuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSB9IGZyb20gJy4vQXJyYXlEYXRhU3RvcmFnZSc7XG5pbXBvcnQgeyBBcnJheUl0ZXJhdG9yIH0gZnJvbSAnLi9BcnJheUl0ZXJhdG9yJztcbmltcG9ydCB7IERhdGFDaGFuZ2VkQXJndW1lbnQgfSBmcm9tICcuL0RhdGFDaGFuZ2VkRXZlbnQnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBJVGltZVZhbHVlLCBJVWlkVmFsdWUsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElJbmRpY2F0b3IgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG4vKipcbiAqIDEtdG8tMSBtYXBwaW5nIHdpdGggc291cmNlLlxuICogdWlkIHRoZSBzYW1lIGFzIGluIHNvdXJjZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEluZGljYXRvckRhdGFTb3VyY2U8QyBleHRlbmRzIENhbmRsZXN0aWNrPiBleHRlbmRzIERhdGFTb3VyY2Uge1xuXG4gICAgcHJvdGVjdGVkIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz47XG4gICAgcHJvdGVjdGVkIGRhdGFTdG9yYWdlOiBBcnJheURhdGFTdG9yYWdlPEM+O1xuICAgIC8vcHJpdmF0ZSBpbmRpY2F0b3I6IElJbmRpY2F0b3I7XG4gICAgcHJvdGVjdGVkIGFkZEludGVydmFsOiAoZGF0ZTogRGF0ZSwgdGltZXM6IG51bWJlcikgPT4gRGF0ZTtcbiAgICBwcm90ZWN0ZWQgY29udGV4dDogSUNvbnRleHQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoZGF0YVR5cGU6IG5ldyhkYXRlOiBEYXRlKSA9PiBDLFxuICAgICAgICAgICAgICAgICBzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgY29udGV4dDogSUNvbnRleHQsXG4gICAgICAgICAgICAgICAgIGNvbXBhcmVyPzogKGxoczogQywgcmhzOiBDKSA9PiBudW1iZXIpIHtcblxuICAgICAgICBzdXBlcihkYXRhVHlwZSwgbmV3IERhdGFTb3VyY2VDb25maWcoc291cmNlLnByZWNpc2lvbikpO1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlID0gbmV3IEFycmF5RGF0YVN0b3JhZ2U8Qz4oY29tcGFyZXIgfHwgdGhpcy5kZWZhdWx0Q29tcGFyZXIpO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zb3VyY2UuZGF0YUNoYW5nZWQub24odGhpcy5vbkRhdGFTb3VyY2VDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5hZGRJbnRlcnZhbCA9IGNvbnRleHQuYWRkSW50ZXJ2YWw7IC8vIHNob3VsZCBiZSBpbml0aWFsaXplZCBiZWZvcmUgY29tcHV0aW5nXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWZhdWx0Q29tcGFyZXIgPSAobGhzOiBDLCByaHM6IEMpID0+IHsgcmV0dXJuIGxocy51aWQuY29tcGFyZShyaHMudWlkKTsgfTtcblxuICAgIHB1YmxpYyBnZXRJdGVyYXRvcihmaWx0ZXI/OiAoaXRlbTogQykgPT4gYm9vbGVhbik6IElEYXRhSXRlcmF0b3I8Qz4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKGZpbHRlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc291cmNlLmRhdGFDaGFuZ2VkLm9mZih0aGlzLm9uRGF0YVNvdXJjZUNoYW5nZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkKHVpZDogVWlkLCBjb3VudDogbnVtYmVyKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBsb2FkUmFuZ2UodWlkRmlyc3Q6IFVpZCwgdWlkTGFzdDogVWlkKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBsb2NrKHVpZDogVWlkKTogdm9pZCB7IH1cblxuICAgIHByb3RlY3RlZCB0cmlnZ2VyRGF0YUNoYW5nZWQgPSAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMuZGF0ZUNoYW5nZWRFdmVudC50cmlnZ2VyKGFyZyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRGF0YVNvdXJjZUNoYW5nZWQgPSAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZEFyZyA9IHRoaXMuY29tcHV0ZShhcmcpO1xuICAgICAgICBpZiAoZ2VuZXJhdGVkQXJnKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJEYXRhQ2hhbmdlZChnZW5lcmF0ZWRBcmcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGxhc3QgdmFsdWVzIGZyb20gc291cmNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBnZXRQcmV2aW91c1ZhbHVlczxUIGV4dGVuZHMgQ2FuZGxlc3RpY2s+KFxuICAgICAgICBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxUPixcbiAgICAgICAgTjogbnVtYmVyLFxuICAgICAgICBhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQsXG4gICAgICAgIGFjY2Vzc29yOiAoY2FuZGxlOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkKTogbnVtYmVyW10ge1xuXG4gICAgICAgIGlmICghaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcnJheTogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgaXRlcmF0b3Iuc29tZWJhY2t3YXJkKChpdGVtLCBjb3VudGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoY291bnRlciA+IE4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAoY291bnRlciA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBhY2Nlc3NvcihpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHsgYXJyYXkucHVzaCh2YWwpOyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gU2tpcCBjdXJyZW50IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICAgIGFycmF5LnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzdGF0aWMgZ2V0UHJldmlvdXNJdGVtczxUIGV4dGVuZHMgQ2FuZGxlc3RpY2s+KFxuICAgICAgICBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxUPixcbiAgICAgICAgTjogbnVtYmVyKTogVFtdIHtcblxuICAgICAgICBjb25zdCBhcnJheTogVFtdID0gW107XG4gICAgICAgIGl0ZXJhdG9yLnNvbWViYWNrd2FyZCgoaXRlbSwgY291bnRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiBOKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTa2lwIGN1cnJlbnQgaXRlbVxuICAgICAgICB9KTtcbiAgICAgICAgYXJyYXkucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBMaW5lQnJlYWtEYXRhU291cmNlIGNsYXNzLlxuICovXG5pbXBvcnQgeyBBdmdUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IFNldHRpbmdTZXQsIFNldHRpbmdUeXBlIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDb21wdXRlZERhdGFTb3VyY2UgfSBmcm9tICcuL0NvbXB1dGVkRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIExpbmVCcmVha0RhdGFTb3VyY2UgZXh0ZW5kcyBDb21wdXRlZERhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgdGltZVJhbmdlOiBJUmFuZ2U8RGF0ZT4pIHtcbiAgICAgICAgc3VwZXIoc291cmNlKTtcblxuICAgICAgICB0aGlzLnRpbWVSYW5nZSA9IHRpbWVSYW5nZTtcblxuICAgICAgICAvLyBDb21wdXRlIGluaXRpYWwgZGF0YSBzZXRcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRGF0YTogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuXG4gICAgICAgIGlmIChhcmcpIHtcblxuICAgICAgICAgICAgLy8gS2VlcCBhbGwgdWlkIHRoYXQgbGVzcyB0aGFuIGFyZywgYW5kIHJlbW92ZSBhbGwgdGhhdCBcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBhcmcudWlkRmlyc3QudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLnJlbW92ZUFmdGVySW5jbHVzaXZlKGMgPT4gYy51aWQudC5nZXRUaW1lKCkgPj0gdGltZSk7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgMiBvciAzIGxhc3QgY29tcHV0ZWQgaXRlbS5cbiAgICAgICAgICAgIGNvbnN0IGl0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoaXRlci5nb1RvTGFzdCgpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhLnB1c2goaXRlci5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlci5tb3ZlUHJldigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5wdXNoKGl0ZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmJyZWFrVHlwZSA9PT0gQnJlYWtUeXBlLkxpbmVCcmVhazMgJiYgaXRlci5tb3ZlUHJldigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5wdXNoKGl0ZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGludmVydCBhcnJheVxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZXJ5dGhpbmcgYW5kIHJlY29tcHV0ZVxuXG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IHRydWUpOyAvLyBnbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU9uZShjb21wdXRlZERhdGEsIHRoaXMuc291cmNlSXRlcmF0b3IuY3VycmVudCk7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuc291cmNlSXRlcmF0b3IubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgbmV3IGRhdGEgYW5kIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICBpZiAoY29tcHV0ZWREYXRhLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhWzBdLnVpZCxcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGFbY29tcHV0ZWREYXRhLmxlbmd0aCAtIDFdLnVpZCxcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZU9uZShjb21wdXRlZEFycmF5OiBDYW5kbGVzdGlja1tdLCBzb3VyY2U6IENhbmRsZXN0aWNrKSB7XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IGNvbXB1dGVkQXJyYXkubGVuZ3RoID4gMCA/IGNvbXB1dGVkQXJyYXlbY29tcHV0ZWRBcnJheS5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggXCJpc0VtcHR5XCIgZnVuY3Rpb246XG4gICAgICAgIGlmICghc291cmNlLm8gfHwgIXNvdXJjZS5jIHx8ICFzb3VyY2UuaCB8fCAhc291cmNlLmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb21wdXRlZDtcbiAgICAgICAgaWYgKGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZmlyc3QgaXRlbSwganVzdCBjb3B5aW5nIGZpcnN0IGNhbmRsZXN0aWNrXG4gICAgICAgICAgICBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSwgc291cmNlLmMsIHNvdXJjZS5vLCBzb3VyY2UuaCwgc291cmNlLmwpO1xuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKCFsYXN0LmMgfHwgIWxhc3Qubykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgb2YgY29tcHV0ZWQgY2FuZGxlIGlzIHVuZGVmaW5lZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGFzdFNpZ24gPSBsYXN0LmMgLSBsYXN0Lm87IC8vIC0xIGRvd24gLyArMSB1cCAvIDAgY2FuIGdvIGJvdGggd2F5XG4gICAgICAgICAgICBjb25zdCByZXZlcnNlVmFsdWVzID0gdGhpcy5jb21wdXRlUmV2ZXJzZVZhbHVlKGNvbXB1dGVkQXJyYXksIHRoaXMuc2V0dGluZ3MuYnJlYWtUeXBlID09PSBCcmVha1R5cGUuTGluZUJyZWFrMiA/IDIgOiAzKTtcblxuICAgICAgICAgICAgaWYgKChsYXN0U2lnbiA+PSAwICYmICggc291cmNlLmMgPiBsYXN0LmMgfHwgc291cmNlLmMgPCByZXZlcnNlVmFsdWVzLnN0YXJ0ICkpXG4gICAgICAgICAgICAgICAgfHwgKGxhc3RTaWduIDw9IDAgJiYgKCBzb3VyY2UuYyA8IGxhc3QuYyB8fCBzb3VyY2UuYyA+IHJldmVyc2VWYWx1ZXMuZW5kICkpKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUsIHNvdXJjZS5jLCBsYXN0LmMsIE1hdGgubWF4KGxhc3QuYywgc291cmNlLmMpLCBNYXRoLm1pbihsYXN0LmMsIHNvdXJjZS5jKSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZVJldmVyc2VWYWx1ZShsaW5lczogQ2FuZGxlc3RpY2tbXSwgY291bnQ6IG51bWJlcik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBpcyBlbXB0eS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWluID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgbGV0IG1heCA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgICAgIGZvciAobGV0IGkgPSBsaW5lcy5sZW5ndGggLSAxOyBpID49IGxpbmVzLmxlbmd0aCAtIGNvdW50ICYmIGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gPG51bWJlcj5saW5lc1tpXS5jO1xuICAgICAgICAgICAgY29uc3QgbyA9IDxudW1iZXI+bGluZXNbaV0ubztcbiAgICAgICAgICAgIGlmIChjID4gbWF4KSB7IG1heCA9IGM7IH1cbiAgICAgICAgICAgIGlmIChvID4gbWF4KSB7IG1heCA9IG87IH1cbiAgICAgICAgICAgIGlmIChjIDwgbWluKSB7IG1pbiA9IGM7IH1cbiAgICAgICAgICAgIGlmIChvIDwgbWluKSB7IG1pbiA9IG87IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGFydDogbWluLCBlbmQ6IG1heCB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dGluZ3M6IExpbmVCcmVha1NldHRpbmdzID0gbmV3IExpbmVCcmVha1NldHRpbmdzKCk7XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2JyZWFrVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdicmVha1R5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdCb3gnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuYnJlYWtUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IEJyZWFrVHlwZS5MaW5lQnJlYWsyLnRvU3RyaW5nKCksIHRleHQ6ICcyLUxpbmUgQnJlYWsnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogQnJlYWtUeXBlLkxpbmVCcmVhazMudG9TdHJpbmcoKSwgdGV4dDogJzMtTGluZSBCcmVhaycgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBicmVha1R5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLmJyZWFrVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmJyZWFrVHlwZSA9IChicmVha1R5cGUgJiYgYnJlYWtUeXBlLnZhbHVlKSA/IHBhcnNlSW50KGJyZWFrVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5icmVha1R5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZW51bSBCcmVha1R5cGUge1xuICAgIExpbmVCcmVhazIgPSAyLFxuICAgIExpbmVCcmVhazMgPSAzXG59XG5cbmNsYXNzIExpbmVCcmVha1NldHRpbmdzIHtcbiAgICBwdWJsaWMgYnJlYWtUeXBlOiBCcmVha1R5cGUgPSBCcmVha1R5cGUuTGluZUJyZWFrMjtcbn1cbiIsIi8qKlxyXG4gKiBSYW5nZUJhckRhdGFTb3VyY2UgY2xhc3NcclxuICovXHJcbmltcG9ydCB7IEF2Z1RydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xyXG5pbXBvcnQgeyBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgQ29tcHV0ZWREYXRhU291cmNlIH0gZnJvbSAnLi9Db21wdXRlZERhdGFTb3VyY2UnO1xyXG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcclxuaW1wb3J0IHsgSURhdGFTb3VyY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJhbmdlQmFyRGF0YVNvdXJjZSBleHRlbmRzIENvbXB1dGVkRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4ge1xyXG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIHRpbWVSYW5nZTogSVJhbmdlPERhdGU+KSB7XHJcbiAgICAgICAgc3VwZXIoc291cmNlKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lUmFuZ2UgPSB0aW1lUmFuZ2U7XHJcblxyXG4gICAgICAgIC8vIFJlbmNvIHJlcXVpcmVzIEFUUiB0byBkZWZpbmUgb3B0aW1hbCBib3ggc2l6ZVxyXG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihBdmdUcnVlUmFuZ2VFeHRlbnNpb24udW5hbWUsIG5ldyBBdmdUcnVlUmFuZ2VFeHRlbnNpb24oKSk7XHJcblxyXG4gICAgICAgIC8vIENvbXB1dGUgaW5pdGlhbCBkYXRhIHNldFxyXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgLy8gR2V0IEFUUiBmcm9tIGxhc3QgaXRlbSBpbiB0aGUgdGltZSByYW5nZS4gVGhpcyB3aWxsIGJlIGJveCBzaXplLlxyXG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMuc2V0dGluZ3MucmFuZ2U7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubW9kZSA9PT0gTW9kZS5BVFIgJiYgdGhpcy50aW1lUmFuZ2UpIHtcclxuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IHRoaXMudGltZVJhbmdlLmVuZC5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgZmlyc3QgZWxlbWVudCB0aGF0IGlzIGdyZWF0ZXIgdGhhbiB0aW1lIHJhbmdlIGFuZCBtb3ZlIGJhY2tcclxuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID4gZW5kVGltZSlcclxuICAgICAgICAgICAgICAgICYmIHRoaXMuc291cmNlSXRlcmF0b3IubW92ZVByZXYoKVxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LmV4dFsnYXRyJ10pIHtcclxuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LmV4dFsnYXRyJ107XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0XHJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLnNvdXJjZUl0ZXJhdG9yLmxhc3QuZXh0WydhdHInXSkgeyAvLyBvciBnZXQgQVRSIGxhc3QgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmxhc3QuZXh0WydhdHInXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhgQVRSPSR7cmFuZ2V9YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRGF0YTogQ2FuZGxlc3RpY2tbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoYXJnKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBLZWVwIGFsbCB1aWQgdGhhdCBsZXNzIHRoYW4gYXJnLCBhbmQgcmVtb3ZlIGFsbCB0aGF0IFxyXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gYXJnLnVpZEZpcnN0LnQuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLnJlbW92ZUFmdGVySW5jbHVzaXZlKGMgPT4gYy51aWQudC5nZXRUaW1lKCkgPj0gdGltZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBGaW5kIGxhc3QgY29tcHV0ZWQgaXRlbVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhU3RvcmFnZS5sYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEucHVzaCh0aGlzLmRhdGFTdG9yYWdlLmxhc3QpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xyXG4gICAgICAgICAgICBpZiAoIXJlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBldmVyeXRoaW5nIGFuZCByZWNvbXB1dGVcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IHRydWUpOyAvLyBnbyB0byBmaXJzdCBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmICghcmVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wdXRlT25lKGNvbXB1dGVkRGF0YSwgdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LCByYW5nZSk7XHJcbiAgICAgICAgfSB3aGlsZSAodGhpcy5zb3VyY2VJdGVyYXRvci5tb3ZlTmV4dCgpKTtcclxuXHJcbiAgICAgICAgLy8gTWVyZ2UgbmV3IGRhdGEgYW5kIG5vdGlmeSBzdWJzY3JpYmVyc1xyXG4gICAgICAgIGlmIChjb21wdXRlZERhdGEubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KFxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhWzBdLnVpZCxcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YVtjb21wdXRlZERhdGEubGVuZ3RoIC0gMV0udWlkLFxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29tcHV0ZU9uZShjb21wdXRlZEFycmF5OiBDYW5kbGVzdGlja1tdLCBzb3VyY2U6IENhbmRsZXN0aWNrLCByYW5nZTogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIGxldCBsYXN0ID0gY29tcHV0ZWRBcnJheS5sZW5ndGggPiAwID8gY29tcHV0ZWRBcnJheVtjb21wdXRlZEFycmF5Lmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggXCJpc0VtcHR5XCIgZnVuY3Rpb246XHJcbiAgICAgICAgaWYgKCFzb3VyY2UubyB8fCAhc291cmNlLmMgfHwgIXNvdXJjZS5oIHx8ICFzb3VyY2UubCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBDID0gc291cmNlLmM7XHJcblxyXG4gICAgICAgIGlmIChsYXN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gQnVpbGQgYSBuZXcgcmFuZ2VcclxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xyXG4gICAgICAgICAgICBjb21wdXRlZC5vID0gc291cmNlLmM7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmggPSBzb3VyY2UuYztcclxuICAgICAgICAgICAgY29tcHV0ZWQubCA9IHNvdXJjZS5jO1xyXG4gICAgICAgICAgICAvLyBDbG9zZSBpcyB1bmRlZmluZWQgYXMgdGhlIHJhbmdlIGlzIG5vdCBidWlsdCB5ZXRcclxuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxhc3QuaCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QubyA9PT0gdW5kZWZpbmVkIHx8IGxhc3QubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG9mIGNvbXB1dGVkIGNhbmRsZSBpcyB1bmRlZmluZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vICB3aGlsZSBjYW4gYnVpbGQgYSBuZXcgcmFuZ2VcclxuICAgICAgICAgICAgd2hpbGUgKGxhc3QuaCAhPT0gdW5kZWZpbmVkICYmIGxhc3QubCAhPT0gdW5kZWZpbmVkICYmIChDIDwgKGxhc3QuaCAtIHJhbmdlKSB8fCBDID4gKGxhc3QubCArIHJhbmdlKSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSBwcmV2aW91c1xyXG4gICAgICAgICAgICAgICAgaWYgKEMgPCBsYXN0LmggLSByYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QubCA9IGxhc3QuaCAtIHJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QuYyA9IGxhc3QuaCAtIHJhbmdlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDID4gbGFzdC5sICsgcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LmggPSBsYXN0LmwgKyByYW5nZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LmMgPSBsYXN0LmwgKyByYW5nZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGltZSBvZiBwcmV2aW91c1xyXG4gICAgICAgICAgICAgICAgbGFzdC51aWQudCA9IHNvdXJjZS5kYXRlO1xyXG4gICAgICAgICAgICAgICAgbGFzdC51aWQubiA9IGNvdW50ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IG5ldyByYW5nZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xyXG4gICAgICAgICAgICAgICAgLy9jb21wdXRlZC51aWQubiA9IGNvdW50ZXI7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5vID0gbGFzdC5jO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGxhc3QuYztcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBsYXN0LmM7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxhc3QgPSBjb21wdXRlZDtcclxuICAgICAgICAgICAgICAgIC8vY291bnRlciArPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBKdXN0IHVwZGF0ZSBIIC8gTFxyXG4gICAgICAgICAgICBsYXN0LnVpZC50ID0gc291cmNlLmRhdGU7XHJcbiAgICAgICAgICAgIGxhc3QudWlkLm4gPSBjb3VudGVyO1xyXG4gICAgICAgICAgICBsYXN0LmggPSBNYXRoLm1heChsYXN0LmggIT09IHVuZGVmaW5lZCA/IGxhc3QuaCA6IC1JbmZpbml0eSwgQyk7XHJcbiAgICAgICAgICAgIGxhc3QubCA9IE1hdGgubWluKGxhc3QubCAhPT0gdW5kZWZpbmVkID8gbGFzdC5sIDogSW5maW5pdHksIEMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHRpbmdzOiBSYW5nZUJhclNldHRpbmdzID0gbmV3IFJhbmdlQmFyU2V0dGluZ3MoKTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ21vZGUnLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdtb2RlJyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdNb2RlJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MubW9kZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxyXG4gICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBNb2RlLkZpeGVkLnRvU3RyaW5nKCksIHRleHQ6ICdGaXhlZCd9LFxyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogTW9kZS5BVFIudG9TdHJpbmcoKSwgdGV4dDogJ0FUUid9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3JhbmdlJywgbmV3IFNldHRpbmdTZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiAncmFuZ2UnLFxyXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1JhbmdlJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucmFuZ2UudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMuc2V0dGluZ3MubW9kZSA9PT0gTW9kZS5GaXhlZFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG1vZGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLm1vZGUnKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLm1vZGUgPSAobW9kZSAmJiBtb2RlLnZhbHVlKSA/IHBhcnNlSW50KG1vZGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MubW9kZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnJhbmdlJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5yYW5nZSA9IChyYW5nZSAmJiByYW5nZS52YWx1ZSkgPyBwYXJzZUludChyYW5nZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5yYW5nZTtcclxuXHJcbiAgICAgICAgLy8gcmVjb21wdXRlXHJcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmVudW0gTW9kZSB7XHJcbiAgICBGaXhlZCA9IDEsXHJcbiAgICBBVFIgPSAyXHJcbn1cclxuXHJcbmNsYXNzIFJhbmdlQmFyU2V0dGluZ3Mge1xyXG4gICAgcHVibGljIG1vZGU6IE1vZGUgPSBNb2RlLkZpeGVkO1xyXG4gICAgcHVibGljIHJhbmdlID0gMTA7XHJcbn1cclxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ29tcHV0ZWREYXRhU291cmNlIH0gZnJvbSAnLi9Db21wdXRlZERhdGFTb3VyY2UnO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XG5pbXBvcnQgeyBJRGF0YVNvdXJjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cblxuZXhwb3J0IGNsYXNzIFJlbmtvQ2FuZGxlIGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIHB1YmxpYyB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGNsYXNzIFJlbmtvRGF0YVNvdXJjZSBleHRlbmRzIENvbXB1dGVkRGF0YVNvdXJjZTxSZW5rb0NhbmRsZT4ge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCB0aW1lUmFuZ2U6IElSYW5nZTxEYXRlPikge1xuICAgICAgICBzdXBlcihzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMudGltZVJhbmdlID0gdGltZVJhbmdlO1xuXG4gICAgICAgIC8vIFJlbmNvIHJlcXVpcmVzIEFUUiB0byBkZWZpbmUgb3B0aW1hbCBib3ggc2l6ZVxuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uLnVuYW1lLCBuZXcgQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uKCkpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgaW5pdGlhbCBkYXRhIHNldFxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgLy8gR2V0IEFUUiBmcm9tIGxhc3QgaXRlbSBpbiB0aGUgdGltZSByYW5nZS4gVGhpcyB3aWxsIGJlIGJveCBzaXplLlxuICAgICAgICBsZXQgYm94U2l6ZSA9IHRoaXMuc2V0dGluZ3MuYm94U2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYm94VHlwZSA9PT0gQm94VHlwZS5BVFIgJiYgdGhpcy50aW1lUmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSB0aGlzLnRpbWVSYW5nZS5lbmQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgLy8gRmluZCBmaXJzdCBlbGVtZW50IHRoYXQgaXMgZ3JlYXRlciB0aGFuIHRpbWUgcmFuZ2UgYW5kIG1vdmUgYmFja1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID4gZW5kVGltZSlcbiAgICAgICAgICAgICAgICAmJiB0aGlzLnNvdXJjZUl0ZXJhdG9yLm1vdmVQcmV2KClcbiAgICAgICAgICAgICAgICAmJiB0aGlzLnNvdXJjZUl0ZXJhdG9yLmN1cnJlbnQuZXh0WydhdHInXSkge1xuICAgICAgICAgICAgICAgIGJveFNpemUgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmN1cnJlbnQuZXh0WydhdHInXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0XG4gICAgICAgICAgICAgICAgJiYgdGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0LmV4dFsnYXRyJ10pIHsgLy8gb3IgZ2V0IEFUUiBsYXN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBib3hTaXplID0gdGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0LmV4dFsnYXRyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYEFUUj0ke2JveFNpemV9YCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWREYXRhOiBSZW5rb0NhbmRsZVtdID0gW107XG5cbiAgICAgICAgaWYgKGFyZykge1xuXG4gICAgICAgICAgICAvLyBLZWVwIGFsbCB1aWQgdGhhdCBsZXNzIHRoYW4gYXJnLCBhbmQgcmVtb3ZlIGFsbCB0aGF0IFxuICAgICAgICAgICAgY29uc3QgdGltZSA9IGFyZy51aWRGaXJzdC50LmdldFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UucmVtb3ZlQWZ0ZXJJbmNsdXNpdmUoYyA9PiBjLnVpZC50LmdldFRpbWUoKSA+PSB0aW1lKTtcblxuICAgICAgICAgICAgLy8gRmluZCBsYXN0IGNvbXB1dGVkIGl0ZW1cbiAgICAgICAgICAgIC8vY29uc3QgbGFzdCA9IHRoaXMuc3RvcmFnZS5maW5kTGFzdChjID0+IGMudWlkIDwgZmlyc3Rfc3VpZCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhU3RvcmFnZS5sYXN0KSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhLnB1c2godGhpcy5kYXRhU3RvcmFnZS5sYXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5zb3VyY2VJdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcbiAgICAgICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZXZlcnl0aGluZyBhbmQgcmVjb21wdXRlXG5cbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UuY2xlYXIoKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5zb3VyY2VJdGVyYXRvci5nb1RvKGl0ZW0gPT4gdHJ1ZSk7IC8vIGdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlT25lKGNvbXB1dGVkRGF0YSwgdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LCBib3hTaXplKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5zb3VyY2VJdGVyYXRvci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvLyBNZXJnZSBuZXcgZGF0YSBhbmQgbm90aWZ5IHN1YnNjcmliZXJzXG4gICAgICAgIGlmIChjb21wdXRlZERhdGEubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGNvbXB1dGVkRGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGFbMF0udWlkLFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YVtjb21wdXRlZERhdGEubGVuZ3RoIC0gMV0udWlkLFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlT25lKGNvbXB1dGVkQXJyYXk6IFJlbmtvQ2FuZGxlW10sIHNvdXJjZTogQ2FuZGxlc3RpY2ssIGJveDogbnVtYmVyKSB7XG4gICAgICAgIC8vICEgaWYgbm8gY2xvc2UgcHJpY2UsIHRoZW4gaWdub3JlIGl0ZW1cbiAgICAgICAgLy8gQXQgbGVhc3Qgb25lIGNhbmRsZSBzaG91bGQgYmUgZ2VuZXJhdGVkLCBldmVuIFxuXG4gICAgICAgIC8vIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKCdcInNvdXJjZVwiIGFyZ3VtZW50IGlzIHVuZGVmaW5lZC4nKTtcbiAgICAgICAgLy8gfVxuICAgICAgICBsZXQgbGFzdCA9IGNvbXB1dGVkQXJyYXkubGVuZ3RoID4gMCA/IGNvbXB1dGVkQXJyYXlbY29tcHV0ZWRBcnJheS5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHdpdGggXCJpc0VtcHR5XCIgZnVuY3Rpb246XG4gICAgICAgIGlmICghc291cmNlLm8gfHwgIXNvdXJjZS5jIHx8ICFzb3VyY2UuaCB8fCAhc291cmNlLmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb21wdXRlZDtcbiAgICAgICAgLy8gR2VuZXJhdGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAobGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZCA9IG5ldyBSZW5rb0NhbmRsZShzb3VyY2UuZGF0ZSwgc291cmNlLmMsIHNvdXJjZS5vLCBzb3VyY2UuaCwgc291cmNlLmwpO1xuICAgICAgICAgICAgY29tcHV0ZWQudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAobGFzdC5jID09PSB1bmRlZmluZWQgfHwgbGFzdC5oID09PSB1bmRlZmluZWQgfHwgbGFzdC5vID09PSB1bmRlZmluZWQgfHwgbGFzdC5sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG9mIGNvbXB1dGVkIGNhbmRsZSBpcyB1bmRlZmluZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaWZmID0gc291cmNlLmMgLSBsYXN0LmM7XG4gICAgICAgICAgICBsZXQgY2hhbmdlX2RpciA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGxhc3QuYyA8IGxhc3QubyAmJiBkaWZmID4gMCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZV9kaXIgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0LmMgPiBsYXN0Lm8gJiYgZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VfZGlyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKCghY2hhbmdlX2RpciAmJiBNYXRoLmFicyhkaWZmKSA+PSBib3gpIHx8IChjaGFuZ2VfZGlyICYmIE1hdGguYWJzKGRpZmYpID49IDIgKiBib3gpKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhZGRib3ggPSAoY2hhbmdlX2RpciAmJiBjb3VudGVyID09PSAwKSA/IDIgKiBib3ggOiBib3g7XG5cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiArIChkaWZmID4gMCA/ICgtYWRkYm94KSA6IGFkZGJveCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFzdC52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0LnVpZC50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgICAgICAgICBsYXN0LnVpZC5uID0gY291bnRlcjtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0LmMgPSA8bnVtYmVyPmxhc3QuYyArIChkaWZmID4gMCA/IGFkZGJveCA6ICgtYWRkYm94KSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QubyA9IGxhc3QuYyArIChkaWZmID4gMCA/ICgtYm94KSA6IGJveCk7IC8vIGRlcGVuZHMgb24gY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgbGFzdC5oID0gTWF0aC5tYXgobGFzdC5vLCBsYXN0LmMpOyAvLyBkZXBlbmRzIG9uIG9wZW4sIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGxhc3QubCA9IE1hdGgubWluKGxhc3QubywgbGFzdC5jKTsgLy8gZGVwZW5kcyBvbiBvcGVuLCBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsYXN0LnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQgPSBuZXcgUmVua29DYW5kbGUoc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC51aWQudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudWlkLm4gPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gPG51bWJlcj5sYXN0LmMgKyAoZGlmZiA+IDAgPyBhZGRib3ggOiAoLWFkZGJveCkpO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5vID0gY29tcHV0ZWQuYyArIChkaWZmID4gMCA/ICgtYm94KSA6IGJveCk7IC8vIGRlcGVuZHMgb24gY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IE1hdGgubWF4KGNvbXB1dGVkLm8sIGNvbXB1dGVkLmMpOyAvLyBkZXBlbmRzIG9uIG9wZW4sIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBNYXRoLm1pbihjb21wdXRlZC5vLCBjb21wdXRlZC5jKTsgLy8gZGVwZW5kcyBvbiBvcGVuLCBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBjb21wdXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogUmVuY29TZXR0aW5ncyA9IG5ldyBSZW5jb1NldHRpbmdzKCk7XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2JveFR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnYm94VHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0JveCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5ib3hUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IEJveFR5cGUuRml4ZWQudG9TdHJpbmcoKSwgdGV4dDogJ0ZpeGVkJ30sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogQm94VHlwZS5BVFIudG9TdHJpbmcoKSwgdGV4dDogJ0FUUid9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdib3hTaXplJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2JveFNpemUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdCb3ggc2l6ZScsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5ib3hTaXplLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMuc2V0dGluZ3MuYm94VHlwZSA9PT0gQm94VHlwZS5GaXhlZFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBib3hUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5ib3hUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYm94VHlwZSA9IChib3hUeXBlICYmIGJveFR5cGUudmFsdWUpID8gcGFyc2VJbnQoYm94VHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5ib3hUeXBlO1xuXG4gICAgICAgIGNvbnN0IGJveFNpemUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLmJveFNpemUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5ib3hTaXplID0gKGJveFNpemUgJiYgYm94U2l6ZS52YWx1ZSkgPyBwYXJzZUludChib3hTaXplLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLmJveFNpemU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZW51bSBCb3hUeXBlIHtcbiAgICBGaXhlZCA9IDEsXG4gICAgQVRSID0gMlxufVxuXG5jbGFzcyBSZW5jb1NldHRpbmdzIHtcbiAgICAvL3B1YmxpYyBwZXJpb2Q6IG51bWJlciA9IDIwO1xuICAgIHB1YmxpYyBib3hUeXBlOiBCb3hUeXBlID0gQm94VHlwZS5GaXhlZDtcbiAgICBwdWJsaWMgYm94U2l6ZSA9IDEwO1xufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQXJyYXlEYXRhU291cmNlIH0gZnJvbSAnLi9BcnJheURhdGFTb3VyY2UnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSB9IGZyb20gJy4vQXJyYXlEYXRhU3RvcmFnZSc7XG5pbXBvcnQgeyBBcnJheUl0ZXJhdG9yIH0gZnJvbSAnLi9BcnJheUl0ZXJhdG9yJztcbmltcG9ydCB7IERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFDaGFuZ2VkRXZlbnQgfSBmcm9tICcuL0RhdGFDaGFuZ2VkRXZlbnQnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IERhdGFTb3VyY2VGYWN0b3J5IH0gZnJvbSAnLi9EYXRhU291cmNlRmFjdG9yeSc7XG5pbXBvcnQgeyBEYXRhU291cmNlUmVnaXN0ZXIsIElEYXRhU291cmNlUmVnaXN0ZXIgfSBmcm9tICcuL0RhdGFTb3VyY2VSZWdpc3Rlcic7XG5pbXBvcnQgeyBEYXRhVHlwZSB9IGZyb20gJy4vRGF0YVR5cGUnO1xuaW1wb3J0IHsgQ29tcG9zaXRlUmFuZ2UsIEh0dHBEYXRhU291cmNlIH0gZnJvbSAnLi9IdHRwRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBIZWlraW5Bc2hpRGF0YVNvdXJjZSB9IGZyb20gJy4vSGVpa2luQXNoaURhdGFTb3VyY2UnO1xuaW1wb3J0IHsgSHR0cERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0h0dHBEYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuL0luZGljYXRvckRhdGFTb3VyY2UnO1xuaW1wb3J0IHtcbiAgICBJQ29udGV4dCxcbiAgICBJRGF0YUl0ZXJhdG9yLFxuICAgIElEYXRhUmVhZGVyRGVsZWdhdGUsXG4gICAgSURhdGFTb3VyY2UsXG4gICAgSURhdGFTdG9yYWdlLFxuICAgIElJbmRpY2F0b3IsXG4gICAgSVJlc3BvbnNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IHtcbiAgICBBcnJheUl0ZXJhdG9yLFxuICAgIEFycmF5RGF0YVNvdXJjZSxcbiAgICBBcnJheURhdGFTdG9yYWdlLFxuICAgIENvbXBvc2l0ZVJhbmdlLFxuICAgIERhdGFTb3VyY2VGYWN0b3J5LFxuICAgIERhdGFTb3VyY2VSZWdpc3RlcixcbiAgICBIZWlraW5Bc2hpRGF0YVNvdXJjZSxcbiAgICBIdHRwRGF0YVNvdXJjZSxcbiAgICBEYXRhQ2hhbmdlZEFyZ3VtZW50LFxuICAgIERhdGFDaGFuZ2VkRXZlbnQsXG4gICAgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLFxuICAgIEh0dHBEYXRhU291cmNlQ29uZmlnLFxuICAgIEluZGljYXRvckRhdGFTb3VyY2UsXG4gICAgRGF0YVR5cGUsXG4gICAgSUNvbnRleHQsXG4gICAgSURhdGFJdGVyYXRvcixcbiAgICBJRGF0YVJlYWRlckRlbGVnYXRlLFxuICAgIElEYXRhU291cmNlLFxuICAgIElEYXRhU291cmNlUmVnaXN0ZXIsXG4gICAgLy9JRGF0YVNvdXJjZVVudHlwZWQsXG4gICAgSURhdGFTdG9yYWdlLFxuICAgIElJbmRpY2F0b3IsXG4gICAgSVJlc3BvbnNlXG59O1xuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGN1cnZlLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgQ3VydmVGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IEN1cnZlU2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBjOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QygpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBjLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRDKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBjLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ0N1cnZlJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYiAmJiBjKSA/IERyYXdVdGlscy5JU19QT0lOVF9PTl9RVUFEQ1VSVkUocCwgYSwgYiwgYywgNSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5wYy5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiIHx8IGM7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiICYmIGMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMucXVhZHJhdGljQ3VydmVUbyhiLngsIGIueSwgYy54LCBjLnkpO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0Q3VydmVTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc2V0dGluZ3Mud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1cnZlU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd0N1cnZlU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3Q3VydmVTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdDdXJ2ZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBDdXJ2ZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGZpcnN0WFk6IElQb2ludHx1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Q3VydmVGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5jdXJ2ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcblxuICAgICAgICAgICAgdGhpcy5maXJzdFhZID0gdGhpcy5zdGFjay50b1hZKHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuXG4gICAgICAgICAgICAgICAgLy8gcmVjb21wdXRlIEJcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5zdGFjay50b1hZKHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChhICYmIHRoaXMuZmlyc3RYWSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWQgPSBEcmF3VXRpbHMuTUlEKGEsIHRoaXMuZmlyc3RYWSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHRoaXMuc3RhY2sueHlUb1ZhbHVlKG1pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRDdXJ2ZVN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRDdXJ2ZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRDdXJ2ZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3QgPSBuZXcgUG9pbnQoKTtcbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGxpbmU/OiBDdXJ2ZUZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSBtb3VzZSB4L3kgb25seSBpZiBsaW5lIHdhcyBzaGlmdGVkLiBJZ25vcmluZyBcImVtcHR5XCIgbW92ZW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5saW5lLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0LngsIG1vdXNlLnBvcy55IC0gdGhpcy5sYXN0LnkpO1xuICAgICAgICAgICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG5cbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gc3RhY2s7XG5cbiAgICAgICAgaWYgKGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5saW5lID0gPEN1cnZlRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGRhdGUgcmFuZ2VzLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgRGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBEYXRlUmFuZ2VTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2OiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignRGF0ZSBSYW5nZScsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnVpZCwgZW5kOiB0aGlzLnBiLnBvaW50LnVpZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC52LCBlbmQ6IHRoaXMucGIucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBuZXcgUG9pbnQoYS54LCBiLnkpO1xuICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBQb2ludChiLngsIGEueSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFycm93MSA9IERyYXdVdGlscy5NSUQoYSwgYyk7XG4gICAgICAgICAgICBjb25zdCBhcnJvdzIgPSBEcmF3VXRpbHMuTUlEKGIsIGQpO1xuXG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYywgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYywgYiwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYiwgZCwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgZCwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYXJyb3cxLCBhcnJvdzIsIDUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuXG4gICAgICAgICAgICBjb25zdCBjID0gbmV3IFBvaW50KGEueCwgYi55KTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgUG9pbnQoYi54LCBhLnkpO1xuICAgICAgICAgICAgY29uc3QgYXJyb3cxID0gRHJhd1V0aWxzLk1JRChhLCBjKTtcbiAgICAgICAgICAgIGNvbnN0IGFycm93MiA9IERyYXdVdGlscy5NSUQoYiwgZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJ3JnYmEoMTkwLCAyMzAsIDI1NSwgMC4zKScpO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KE1hdGgubWluKGEueCwgYi54KSwgTWF0aC5taW4oYS55LCBiLnkpLCBNYXRoLmFicyhiLnggLSBhLngpLCBNYXRoLmFicyhiLnkgLSBhLnkpKTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGMueCwgYy55KTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhkLngsIGQueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgYi55KTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhcnJvdzEueCwgYXJyb3cxLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhhcnJvdzIueCwgYXJyb3cyLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXREYXRlUmFuZ2VTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc2V0dGluZ3Mud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGVSYW5nZVNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdEYXRlUmFuZ2VTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdEYXRlUmFuZ2VTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdEYXRlUmFuZ2VTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogRGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxEYXRlUmFuZ2VGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5kYXRlcmFuZ2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0RGF0ZVJhbmdlU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdERhdGVSYW5nZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXREYXRlUmFuZ2VTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogRGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5saW5lICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmxpbmUuc2hpZnQobW91c2UucG9zLnggLSB0aGlzLmxhc3QueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3QueSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcblxuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8RGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGVsbGlwc2VzLlxuICovXG5cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBFbGxpcHNlRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBFbGxpcHNlU2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBjOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBkOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHIxOiBudW1iZXIgPSAwO1xuICAgIC8vcHJpdmF0ZSByMjogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIGFuZ2xlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBzdG9yZTogRWxsaXBzZVN0b3JlO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJhZGl1c0IoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUucmFkaXVzQjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhZGl1c0IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3JlLnJhZGl1c0IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignRWxsaXBzZScsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG4gICAgICAgIHRoaXMucGMgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB0aGlzLnBkID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBjKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBkKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IEVsbGlwc2VTdG9yZShjb250YWluZXIpO1xuICAgICAgICAvLyByZWNvbXB1dGUgcG9pbnRzIGFmdGVyIGxvYWRpbmcgZmlndXJlXG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBwb2ludCA9IHA7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBEcmF3VXRpbHMuQU5HTEUoYSwgYik7XG4gICAgICAgICAgICBjb25zdCBtaWQgPSBEcmF3VXRpbHMuTUlEKGEsIGIpO1xuICAgICAgICAgICAgY29uc3QgcjEgPSBEcmF3VXRpbHMuRElTVChhLCBiKSAvIDI7XG4gICAgICAgICAgICBjb25zdCByMiA9IHRoaXMuc3RvcmUucmFkaXVzQjtcblxuICAgICAgICAgICAgLy8gdHJhbnNmZXIgdG8gKDAsMClcbiAgICAgICAgICAgIHBvaW50ID0geyB4OiBwLnggLSBtaWQueCwgeTogcC55IC0gbWlkLnkgfTtcblxuICAgICAgICAgICAgLy8gcm90YXRlXG4gICAgICAgICAgICBwb2ludCA9IHsgeDogcG9pbnQueCAqIE1hdGguY29zKGFuZ2xlKSArIHBvaW50LnkgKiBNYXRoLnNpbihhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgICAgeTogLXBvaW50LnggKiBNYXRoLnNpbihhbmdsZSkgKyBwb2ludC55ICogTWF0aC5jb3MoYW5nbGUpIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IChyMSAhPT0gMCAmJiByMiAhPT0gMClcbiAgICAgICAgICAgICAgICA/IChwb2ludC54ICogcG9pbnQueCkgLyAocjEgKiByMSkgKyAocG9pbnQueSAqIHBvaW50LnkpIC8gKHIyICogcjIpXG4gICAgICAgICAgICAgICAgOiAwO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzID4gMC43ICYmIHJlcyA8IDEuMztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgICAgICAvLyBjb25zdCBjID0gdGhpcy5wYy5zaGlmdChkeCwgZHkpO1xuICAgICAgICAvLyBjb25zdCBkID0gdGhpcy5wZC5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IHIyID0gdGhpcy5zdG9yZS5yYWRpdXNCO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICBpZiAoYSAmJiBiICYmIHIyKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY29tcHV0ZWQgcG9pbnRzJyBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcblxuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBEcmF3VXRpbHMuQU5HTEUoYSwgYik7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gRHJhd1V0aWxzLkRJU1QoYSwgYik7XG4gICAgICAgICAgICBjb25zdCBtaWQgPSBEcmF3VXRpbHMuTUlEKGEsIGIpO1xuXG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zZXR0aW5ncy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5lbGxpcHNlKG1pZC54LCBtaWQueSwgZGlzdCAvIDIsIHIyLCBhbmdsZSwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0RWxsaXBzZVN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlUmFkaXVzKHA6IElQb2ludCk6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBEcmF3VXRpbHMuRElTVF9UT19MSU5FKHAsIGEsIGIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaW1lUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGMucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wZC5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogVWlkLm1pbih0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkLCB0aGlzLnBkLnBvaW50LnVpZCksXG4gICAgICAgICAgICAgICAgZW5kOiBVaWQubWF4KHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQsIHRoaXMucGQucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBkLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiwgdGhpcy5wZC5wb2ludC52KSxcbiAgICAgICAgICAgICAgICBlbmQ6IE1hdGgubWF4KHRoaXMucGEucG9pbnQudiwgdGhpcy5wYi5wb2ludC52LCB0aGlzLnBjLnBvaW50LnYsIHRoaXMucGQucG9pbnQudilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN1YnNjcmliZShzdWI6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGlmIChzdWIpIHtcbiAgICAgICAgICAgIHRoaXMucGEuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGMuY2hhbmdlZC5vbih0aGlzLm9uUDNjaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGQuY2hhbmdlZC5vbih0aGlzLm9uUDRjaGFuZ2VkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGEuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBiLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYy5jaGFuZ2VkLm9mZih0aGlzLm9uUDNjaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGQuY2hhbmdlZC5vZmYodGhpcy5vblA0Y2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QM2NoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZFJhZGl1cyA9IHRoaXMuY29tcHV0ZVJhZGl1cyh0aGlzLnBjLnBpeGVsKTtcbiAgICAgICAgdGhpcy5zdG9yZS5yYWRpdXNCID0gdXBkUmFkaXVzIHx8IHRoaXMuc3RvcmUucmFkaXVzQjtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUDRjaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRSYWRpdXMgPSB0aGlzLmNvbXB1dGVSYWRpdXModGhpcy5wZC5waXhlbCk7XG4gICAgICAgIHRoaXMuc3RvcmUucmFkaXVzQiA9IHVwZFJhZGl1cyB8fCB0aGlzLnN0b3JlLnJhZGl1c0I7XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludHMoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKGZhbHNlKTsgLy8gcHJldmVudCBjaGFuZ2UgZXZlbnRzIHdoaWxlIHJlY29tcHV0aW5nXG5cbiAgICAgICAgLy8gVXBkYXRlIHAzLCBwNFxuICAgICAgICBjb25zdCByMiA9IHRoaXMuc3RvcmUucmFkaXVzQjtcbiAgICAgICAgY29uc3QgeTEgPSByMjtcbiAgICAgICAgY29uc3QgeTIgPSAtcjI7XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IERyYXdVdGlscy5BTkdMRShhLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYSwgYik7XG5cbiAgICAgICAgICAgIC8vIHJvdGF0ZVxuICAgICAgICAgICAgY29uc3Qgcm90cDEgPSB7IHg6IHkxICogTWF0aC5zaW4oLWFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHkxICogTWF0aC5jb3MoLWFuZ2xlKSB9O1xuICAgICAgICAgICAgY29uc3Qgcm90cDIgPSB7IHg6IHkyICogTWF0aC5zaW4oLWFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHkyICogTWF0aC5jb3MoLWFuZ2xlKSB9O1xuXG4gICAgICAgICAgICAvLyB0cmFuc2ZlclxuICAgICAgICAgICAgY29uc3QgdHAxID0geyB4OiByb3RwMS54ICsgbWlkLngsIHk6IHJvdHAxLnkgKyBtaWQueSB9O1xuICAgICAgICAgICAgY29uc3QgdHAyID0geyB4OiByb3RwMi54ICsgbWlkLngsIHk6IHJvdHAyLnkgKyBtaWQueSB9O1xuXG4gICAgICAgICAgICB0aGlzLnBjLnBpeGVsID0geyB4OiB0cDEueCwgeTogdHAxLnkgfTtcbiAgICAgICAgICAgIHRoaXMucGQucGl4ZWwgPSB7IHg6IHRwMi54LCB5OiB0cDIueSB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWxsaXBzZVNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdFbGxpcHNlU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3RWxsaXBzZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd0VsbGlwc2VTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogRWxsaXBzZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBhPzogSVBvaW50O1xuICAgIHByaXZhdGUgcGI/OiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxFbGxpcHNlRmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUuZWxsaXBzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5wYSA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYiA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDIgJiYgdGhpcy5wYSAmJiB0aGlzLnBiKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gRHJhd1V0aWxzLkRJU1RfVE9fTElORSh7IHg6IHJlbFgsIHk6IHJlbFkgfSwgdGhpcy5wYSwgdGhpcy5wYik7XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5yYWRpdXNCID0gZGlzdDtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmZpZ3VyZS5wb2ludEIudWlkID0gY29vcmRYO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZmlndXJlLnBvaW50Qi52ID0gY29vcmRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMucGIgPSB7IHg6IHJlbFgsIHk6IHJlbFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzICYmIHRoaXMucGEgJiYgdGhpcy5wYikge1xuICAgICAgICAgICAgY29uc3QgZGlzdCA9IERyYXdVdGlscy5ESVNUX1RPX0xJTkUoeyB4OiByZWxYLCB5OiByZWxZIH0sIHRoaXMucGEsIHRoaXMucGIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucmFkaXVzQiA9IGRpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEVsbGlwc2VTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0RWxsaXBzZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRFbGxpcHNlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdCA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgZmlndXJlPzogRWxsaXBzZUZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlndXJlICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmZpZ3VyZS5zaGlmdChtb3VzZS5wb3MueCAtIHRoaXMubGFzdC54LCBtb3VzZS5wb3MueSAtIHRoaXMubGFzdC55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFZGl0IHN0YXRlOiBsaW5lIG9yIGNoYXJ0U3RhY2sgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmV4aXQoYm9hcmQsIG1vdXNlKTtcbiAgICB9XG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPEVsbGlwc2VGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cblxuY2xhc3MgRWxsaXBzZVN0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgcmFkaXVzQigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3BvaW50JykgfHwgMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhZGl1c0IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncG9pbnQnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBmaWJvbmFjY2kgZmFuLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBGaWJvRmFuRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBGaWJvRmFuU2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignRmlibyBGYW4nLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy50aW1lUmVnaW9uID0gbmV3IFRpbWVSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFhBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRUaW1lUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbiA9IG5ldyBOdW1iZXJSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFlBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHlheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRWYWx1ZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZhbHVlUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnBhID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdhJykpO1xuICAgICAgICB0aGlzLnBiID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdiJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaW1lUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC51aWQsIGVuZDogdGhpcy5wYi5wb2ludC51aWQgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudiwgZW5kOiB0aGlzLnBiLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYilcbiAgICAgICAgICAgID8gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFtZSA9IHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0IH07XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGgxMDAgPSBiLnkgLSBhLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxID0geyB4OiBiLnggLCB5OiBhLnkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzFdIH07XG4gICAgICAgICAgICBjb25zdCBwMiA9IHsgeDogYi54ICwgeTogYS55ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVsyXSB9O1xuICAgICAgICAgICAgY29uc3QgcDMgPSB7IHg6IGIueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbM10gfTtcblxuICAgICAgICAgICAgY29uc3QgZXh0UDEgPSBEcmF3VXRpbHMuRVhURU5EKGEsIHAxLCBmcmFtZSk7XG4gICAgICAgICAgICBjb25zdCBleHRQMiA9IERyYXdVdGlscy5FWFRFTkQoYSwgcDIsIGZyYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAzID0gRHJhd1V0aWxzLkVYVEVORChhLCBwMywgZnJhbWUpO1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpOyBjYW52YXMubGluZVRvKGV4dFAxLngsIGV4dFAxLnkpO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7IGNhbnZhcy5saW5lVG8oZXh0UDIueCwgZXh0UDIueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTsgY2FudmFzLmxpbmVUbyhleHRQMy54LCBleHRQMy55KTtcblxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0Rmlib0ZhblN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlib0ZhblNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdGaWJvRmFuU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3Rmlib0ZhblN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd0ZpYm9GYW5TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogRmlib0ZhbkZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Rmlib0ZhbkZpZ3VyZUNvbXBvbmVudD50aGlzLnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmZpYm9mYW4pO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0Rmlib0ZhblN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRGaWJvRmFuU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdEZpYm9GYW5TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogRmlib0ZhbkZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSBtb3VzZSB4L3kgb25seSBpZiBsaW5lIHdhcyBzaGlmdGVkLiBJZ25vcmluZyBcImVtcHR5XCIgbW92ZW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5saW5lLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0LngsIG1vdXNlLnBvcy55IC0gdGhpcy5sYXN0LnkpO1xuICAgICAgICAgICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG5cbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gc3RhY2s7XG5cbiAgICAgICAgaWYgKGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5saW5lID0gPEZpYm9GYW5GaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgZmlib25hY2NpIGxldmVscy5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgRmlib0xldmVsRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBGaWJvTGV2ZWxTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdGaWJvIExldmVsJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudWlkLCBlbmQ6IHRoaXMucGIucG9pbnQudWlkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnYsIGVuZDogdGhpcy5wYi5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIpXG4gICAgICAgICAgICA/IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoMTAwID0gYi55IC0gYS55O1xuXG4gICAgICAgICAgICBjb25zdCBtaW54ID0gTWF0aC5taW4oYi54LCBhLngpO1xuICAgICAgICAgICAgY29uc3QgbWF4eCA9IGZyYW1lLnggKyBmcmFtZS53O1xuICAgICAgICAgICAgY29uc3QgcDEgPSB7IHg6IG1pbnggLCB5OiBhLnkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzFdIH07XG4gICAgICAgICAgICBjb25zdCBwMiA9IHsgeDogbWlueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbMl0gfTtcbiAgICAgICAgICAgIGNvbnN0IHAzID0geyB4OiBtaW54ICwgeTogYS55ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVszXSB9O1xuXG4gICAgICAgICAgICBjb25zdCBleHRQMSA9IHsgeDogbWF4eCwgeTogcDEueSB9O1xuICAgICAgICAgICAgY29uc3QgZXh0UDIgPSB7IHg6IG1heHgsIHk6IHAyLnkgfTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAzID0geyB4OiBtYXh4LCB5OiBwMy55IH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7IGNhbnZhcy5saW5lVG8obWF4eCwgYS55KTsgLy8gbGV2ZWwgMFxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhwMS54LCBwMS55KTsgY2FudmFzLmxpbmVUbyhleHRQMS54LCBleHRQMS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocDIueCwgcDIueSk7IGNhbnZhcy5saW5lVG8oZXh0UDIueCwgZXh0UDIueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKHAzLngsIHAzLnkpOyBjYW52YXMubGluZVRvKGV4dFAzLngsIGV4dFAzLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRGaWJvTGV2ZWxTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc2V0dGluZ3Mud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpYm9MZXZlbFNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdGaWJvTGV2ZWxTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdGaWJvTGV2ZWxTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdGaWJvTGV2ZWxTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogRmlib0xldmVsRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxGaWJvTGV2ZWxGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5maWJvbGV2ZWwpO1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0Rmlib0xldmVsU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdEZpYm9MZXZlbFN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRGaWJvTGV2ZWxTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogRmlib0xldmVsRmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5saW5lICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmxpbmUuc2hpZnQobW91c2UucG9zLnggLSB0aGlzLmxhc3QueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3QueSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcblxuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8Rmlib0xldmVsRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGZpYm9uYWNjaSBwcm9qZWN0aW9uLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSUNvbmZpZ3VyYWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgc2V0dGluZ3MgPSBuZXcgRmlib1Byb2plY3Rpb25TZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGM6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRDKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGMucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEModmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGMucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignRmlibyBQcm9qZWN0aW9uJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiICYmIGMpIHtcbiAgICAgICAgICAgIHJldHVybiBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBhLCBiLCA1KVxuICAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGIgfHwgYztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcblxuICAgICAgICBpZiAoYSAmJiBiICYmICFjKSB7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYi54LCBiLnkpO1xuICAgICAgICB9IGVsc2UgaWYgKGEgJiYgYiAmJiBjKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGgxMDAgPSBiLnkgLSBhLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHggPSBjLng7XG4gICAgICAgICAgICBjb25zdCBtYXh4ID0gZnJhbWUueCArIGZyYW1lLnc7XG4gICAgICAgICAgICBjb25zdCBiYXNleSA9IGMueTtcblxuICAgICAgICAgICAgY29uc3QgcDEgPSB7IHg6IHggLCB5OiBiYXNleSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbMV0gfTtcbiAgICAgICAgICAgIGNvbnN0IHAyID0geyB4OiB4ICwgeTogYmFzZXkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzJdIH07XG4gICAgICAgICAgICBjb25zdCBwMyA9IHsgeDogeCAsIHk6IGJhc2V5ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVszXSB9O1xuXG4gICAgICAgICAgICBjb25zdCBleHRQMSA9IHsgeDogbWF4eCwgeTogcDEueSB9O1xuICAgICAgICAgICAgY29uc3QgZXh0UDIgPSB7IHg6IG1heHgsIHk6IHAyLnkgfTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAzID0geyB4OiBtYXh4LCB5OiBwMy55IH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGMueCwgYy55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhjLngsIGMueSk7IGNhbnZhcy5saW5lVG8obWF4eCwgYy55KTsgLy8gbGV2ZWwgMFxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhwMS54LCBwMS55KTsgY2FudmFzLmxpbmVUbyhleHRQMS54LCBleHRQMS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocDIueCwgcDIueSk7IGNhbnZhcy5saW5lVG8oZXh0UDIueCwgZXh0UDIueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKHAzLngsIHAzLnkpOyBjYW52YXMubGluZVRvKGV4dFAzLngsIGV4dFAzLnkpO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRQaXRjaGZvcmtTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc2V0dGluZ3Mud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpYm9Qcm9qZWN0aW9uU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd0ZpYm9Qcm9qZWN0aW9uU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3Rmlib1Byb2plY3Rpb25TdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdGaWJvUHJvamVjdGlvblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudD50aGlzLnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmZpYm9wcm9qZWN0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID4gMikge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UGl0Y2hmb3JrU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFBpdGNoZm9ya1N0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRQaXRjaGZvcmtTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogRmlib1Byb2plY3Rpb25GaWd1cmVDb21wb25lbnQ7XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZU1vdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxpbmUgJiYgdGhpcy5jaGFydFN0YWNrKSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgbW91c2UgeC95IG9ubHkgaWYgbGluZSB3YXMgc2hpZnRlZC4gSWdub3JpbmcgXCJlbXB0eVwiIG1vdmVtZW50LlxuICAgICAgICAgICAgY29uc3Qgc2hpZnRlZCA9IHRoaXMubGluZS5zaGlmdChtb3VzZS5wb3MueCAtIHRoaXMubGFzdC54LCBtb3VzZS5wb3MueSAtIHRoaXMubGFzdC55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFZGl0IHN0YXRlOiBsaW5lIG9yIGNoYXJ0U3RhY2sgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmV4aXQoYm9hcmQsIG1vdXNlKTtcbiAgICB9XG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMubGluZSA9IDxGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHByaXZhdGUgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBmaWJvbmFjY2kgdGltZSBwcm9qZWN0aW9uLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmNsYXNzIExpbmUge1xuICAgIGNvbnN0cnVjdG9yKHVpZDogVWlkLCBwZXJjZW50YWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51aWQgPSB1aWQ7XG4gICAgICAgIHRoaXMucGVyY2VudGFnZSA9IHBlcmNlbnRhZ2U7XG4gICAgfVxuICAgIHB1YmxpYyB1aWQ6IFVpZDtcbiAgICBwdWJsaWMgcGVyY2VudGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBGaWJvVGltZVByb2plY3Rpb25TZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBsaW5lczogTGluZVtdID0gW107XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdGaWJvIFRpbWUgUHJvamVjdGlvbicsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudWlkLCBlbmQ6IHRoaXMucGIucG9pbnQudWlkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnYsIGVuZDogdGhpcy5wYi5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIpXG4gICAgICAgICAgICA/IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgbWlueCA9IE1hdGgubWluKGEueCwgYi54KTtcbiAgICAgICAgICAgIGNvbnN0IG1heHggPSBNYXRoLm1pbihhLngsIGIueCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgdGhpcy5saW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWChsaW5lLnVpZCk7XG4gICAgICAgICAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyh4LCBmcmFtZS55KTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh4LCBmcmFtZS55ICsgZnJhbWUuaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnNldHRpbmdzLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN1YnNjcmliZShzdWI6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGlmIChzdWIpIHtcbiAgICAgICAgICAgIHRoaXMucGEuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGEuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBiLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50Q2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVMaW5lcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlTGluZXMoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKGZhbHNlKTsgLy8gcHJldmVudCBjaGFuZ2UgZXZlbnRzIHdoaWxlIHJlY29tcHV0aW5nXG5cbiAgICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgJiYgdGhpcy5wYi5wb2ludC51aWQpIHtcblxuICAgICAgICAgICAgY29uc3QgdWlkU3RhcnQgPSB0aGlzLnBhLnBvaW50LnVpZC5jb21wYXJlKHRoaXMucGIucG9pbnQudWlkKSA8PSAwID8gdGhpcy5wYS5wb2ludC51aWQgOiB0aGlzLnBiLnBvaW50LnVpZDtcbiAgICAgICAgICAgIGNvbnN0IHVpZEVuZCA9IHRoaXMucGEucG9pbnQudWlkLmNvbXBhcmUodGhpcy5wYi5wb2ludC51aWQpIDw9IDAgPyB0aGlzLnBiLnBvaW50LnVpZCA6IHRoaXMucGEucG9pbnQudWlkO1xuXG4gICAgICAgICAgICBsZXQgZGlzdDEwMCA9IHRoaXMudGF4aXMuZGlzdCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQpO1xuICAgICAgICAgICAgaWYgKGRpc3QxMDAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRpc3QxMDAgPSBNYXRoLmFicyhkaXN0MTAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJjYW50YWdlID0gW1xuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzFdLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzJdLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzNdLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzZdXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGVyYyBvZiBwZXJjYW50YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoaWZ0ID0gTWF0aC5mbG9vcihkaXN0MTAwICogcGVyYyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVpZCA9IHRoaXMudGF4aXMuYWRkKHVpZFN0YXJ0LCBzaGlmdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZXMucHVzaChuZXcgTGluZSh1aWQsIHBlcmMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlib1RpbWVQcm9qZWN0aW9uU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd0ZpYm9UaW1lUHJvamVjdGlvblN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRHJhd0ZpYm9UaW1lUHJvamVjdGlvblN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd0ZpYm9UaW1lUHJvamVjdGlvblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Rmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUuZmlib3RpbWVwcm9qZWN0aW9uKTtcblxuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEZpYm9UaW1lUHJvamVjdGlvblN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRGaWJvVGltZVByb2plY3Rpb25TdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdCA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgbGluZT86IEZpYm9UaW1lUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSBtb3VzZSB4L3kgb25seSBpZiBsaW5lIHdhcyBzaGlmdGVkLiBJZ25vcmluZyBcImVtcHR5XCIgbW92ZW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5saW5lLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0LngsIG1vdXNlLnBvcy55IC0gdGhpcy5sYXN0LnkpO1xuICAgICAgICAgICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG5cbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gc3RhY2s7XG5cbiAgICAgICAgaWYgKGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5saW5lID0gPEZpYm9UaW1lUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHByaXZhdGUgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBHYW5uIGZhbi5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5jbGFzcyBMaW5lIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IGNvZmY6IG51bWJlcixcbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHRleHQ6IHN0cmluZ1xuICAgICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEdhbm5GYW5GaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IEdhbm5GYW5TZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwcml2YXRlIGxpbmVzOiBSZWFkb25seUFycmF5PExpbmU+ID0gW1xuICAgICAgICBuZXcgTGluZSgwLjEyNSwgJzgvMScpLFxuICAgICAgICBuZXcgTGluZSgwLjI1LCAnNC8xJyksXG4gICAgICAgIG5ldyBMaW5lKDAuMzMzMzMsICczLzEnKSxcbiAgICAgICAgbmV3IExpbmUoMC41LCAnMi8xJyksXG4gICAgICAgIG5ldyBMaW5lKDEsICcxLzEnKSxcbiAgICAgICAgbmV3IExpbmUoMiwgJzEvMicpLFxuICAgICAgICBuZXcgTGluZSgzLCAnMS8zJyksXG4gICAgICAgIG5ldyBMaW5lKDQsICcxLzQnKSxcbiAgICAgICAgbmV3IExpbmUoOCwgJzEvOCcpXG4gICAgXTtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ0dhbm4gRmFuJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudWlkLCBlbmQ6IHRoaXMucGIucG9pbnQudWlkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnYsIGVuZDogdGhpcy5wYi5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIpXG4gICAgICAgICAgICA/IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoMTAwID0gYi55IC0gYS55O1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgdGhpcy5saW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB7IHg6IGIueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIGxpbmUuY29mZiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IERyYXdVdGlscy5FWFRFTkQoYSwgcCwgZnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhleHQueCwgZXh0LnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRHYW5uRmFuU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnNldHRpbmdzLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYW5uRmFuU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd0dhbm5GYW5TdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdHYW5uRmFuU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBEcmF3R2FubkZhblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBHYW5uRmFuRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPEdhbm5GYW5GaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5nYW5uZmFuKTtcblxuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEdhbm5GYW5TdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0R2FubkZhblN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRHYW5uRmFuU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdCA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgbGluZT86IEdhbm5GYW5GaWd1cmVDb21wb25lbnQ7XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZU1vdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxpbmUgJiYgdGhpcy5jaGFydFN0YWNrKSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgbW91c2UgeC95IG9ubHkgaWYgbGluZSB3YXMgc2hpZnRlZC4gSWdub3JpbmcgXCJlbXB0eVwiIG1vdmVtZW50LlxuICAgICAgICAgICAgY29uc3Qgc2hpZnRlZCA9IHRoaXMubGluZS5zaGlmdChtb3VzZS5wb3MueCAtIHRoaXMubGFzdC54LCBtb3VzZS5wb3MueSAtIHRoaXMubGFzdC55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFZGl0IHN0YXRlOiBsaW5lIG9yIGNoYXJ0U3RhY2sgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmV4aXQoYm9hcmQsIG1vdXNlKTtcbiAgICB9XG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMubGluZSA9IDxHYW5uRmFuRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGhvcml6b250YWwgbGluZXMuXG4gKi9cblxuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElDaGFydFBvaW50LCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSB7XG4gICAgcHJpdmF0ZSBwOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnQodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucC5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdIb3Jpem9udGFsIExpbmUnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5wID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdwJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnAucG9pbnQudWlkIHx8ICF0aGlzLnAucG9pbnQudikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLy8gVE9ETzogQ2FuIGJlIHN0b3JlZCB3aGVuIGNvb3JkcyBhcmUgY2hhbmdlZFxuICAgICAgICAvLyBjb25zdCBheCA9IHRoaXMuY29vcmRzLnRvWCh0aGlzLnBhLnBvaW50LnQgPT09IHVuZGVmaW5lZCA/IDxzdHJpbmc+dGhpcy5wYS5wb2ludC51aWQgOiB0aGlzLnBhLnBvaW50LnQpO1xuICAgICAgICAvLyBjb25zdCBieCA9IHRoaXMuY29vcmRzLnRvWCh0aGlzLnBiLnBvaW50LnQgPT09IHVuZGVmaW5lZCA/IDxzdHJpbmc+dGhpcy5wYi5wb2ludC51aWQgOiB0aGlzLnBiLnBvaW50LnQpO1xuXG4gICAgICAgIGNvbnN0IHBvaW50eSA9IHRoaXMueWF4aXMudG9YKHRoaXMucC5wb2ludC52KTtcbiAgICAgICAgLy8gY29uc3QgYnkgPSB0aGlzLmNvb3Jkcy50b1kodGhpcy5wYi5wb2ludC52KTtcblxuICAgICAgICByZXR1cm4gcC55ID49IHBvaW50eSAtIDMgJiYgcC55IDw9IHBvaW50eSArIDM7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucC5wb2ludC51aWQgJiYgdGhpcy5wLnBvaW50LnYpIHtcblxuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHRoaXMucC5wb2ludC52KTtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvdmVyZWQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNGRjAwMDAnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkYwMDAwJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKDAsIHkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh0aGlzLnNpemUud2lkdGgsIHkpO1xuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRIb3Jpem9udGFsTGluZVN0YXRlLmluc3RhbmNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdIb3Jpem9udGFsTGluZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRHJhd0hvcml6b250YWxMaW5lU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBEcmF3SG9yaXpvbnRhbExpbmVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogSG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8SG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5obGluZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuXG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRIb3Jpem9udGFsTGluZVN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRIb3Jpem9udGFsTGluZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRIb3Jpem9udGFsTGluZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGxpbmU/OiBIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuY2hhcnRTdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIGJvYXJkLm9mZnNldC55IC0gdGhpcy5jaGFydFN0YWNrLm9mZnNldC55KTtcbiAgICAgICAgICAgIHRoaXMubGluZS5wb2ludCA9IHsgdWlkOiB0aGlzLmxpbmUucG9pbnQudWlkLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8SG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgbGluZXMuXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBMaW5lU2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignVHJlbmQgTGluZScsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnVpZCwgZW5kOiB0aGlzLnBiLnBvaW50LnVpZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC52LCBlbmQ6IHRoaXMucGIucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIHJldHVybiAoYSAmJiBiKVxuICAgICAgICAgICAgPyBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBhLCBiLCA1KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zZXR0aW5ncy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRMaW5lU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnNldHRpbmdzLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5lU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd0xpbmVTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdMaW5lU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBEcmF3TGluZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBMaW5lRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0Q2hhcnRTdGFjayhzdGFjazogSUNoYXJ0U3RhY2spOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPExpbmVGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5saW5lKTtcblxuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdExpbmVTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0TGluZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRMaW5lU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdCA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgbGluZT86IExpbmVGaWd1cmVDb21wb25lbnQ7XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZU1vdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxpbmUgJiYgdGhpcy5jaGFydFN0YWNrKSB7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgbW91c2UgeC95IG9ubHkgaWYgbGluZSB3YXMgc2hpZnRlZC4gSWdub3JpbmcgXCJlbXB0eVwiIG1vdmVtZW50LlxuICAgICAgICAgICAgY29uc3Qgc2hpZnRlZCA9IHRoaXMubGluZS5zaGlmdChtb3VzZS5wb3MueCAtIHRoaXMubGFzdC54LCBtb3VzZS5wb3MueSAtIHRoaXMubGFzdC55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFZGl0IHN0YXRlOiBsaW5lIG9yIGNoYXJ0U3RhY2sgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmV4aXQoYm9hcmQsIG1vdXNlKTtcbiAgICB9XG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMubGluZSA9IDxMaW5lRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIE9ITEMgcHJvamVjdGlvbi5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzV3JhcHBlciB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElTb3VyY2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIE9obGNQcm9qRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBPaGxjUHJvalNldHRpbmdzKCk7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYzogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIGhobGw6IENhbmRsZXN0aWNrfHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEMoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYy5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qyh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYy5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIsXG4gICAgICAgIHByaXZhdGUgc291cmNlPzogSVNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ09ITEMgUHJvamVjdGlvbicsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG4gICAgICAgIHRoaXMucGMgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2MnKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBjKTtcblxuICAgICAgICAvLyB1cGRhdGUgdmFsdWVzIGFmdGVyIGxvYWRpbmcgZmlndXJlc1xuICAgICAgICB0aGlzLnVwZGF0ZUhITEwoKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYiAmJiBjKVxuICAgICAgICAgICAgPyAoRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpXG4gICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBjLCBhLCA1KSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYiB8fCBjO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyYW1lID0geyB4OiB0aGlzLm9mZnNldC54LCB5OiB0aGlzLm9mZnNldC55LCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfTtcblxuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5wYy5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBmcmFtZS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYS54LCBmcmFtZS55ICsgZnJhbWUuaCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYi54LCBmcmFtZS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYi54LCBmcmFtZS55ICsgZnJhbWUuaCk7XG5cbiAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhjLngsIGZyYW1lLnkpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYy54LCBmcmFtZS55ICsgZnJhbWUuaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtaW54ID0gTWF0aC5taW4oYS54LCBiLngpO1xuICAgICAgICAgICAgbGV0IG1heHggPSBNYXRoLm1heChhLngsIGIueCwgYyA/IGMueCA6IC1JbmZpbml0eSk7XG4gICAgICAgICAgICBpZiAodGhpcy5oaGxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGhsbC5vKSB7IHRoaXMuaGxpbmUoY2FudmFzLCBtaW54LCB0aGlzLnlheGlzLnRvWCh0aGlzLmhobGwubyksIG1heHggLSBtaW54KTsgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhobGwuYykgeyB0aGlzLmhsaW5lKGNhbnZhcywgbWlueCwgdGhpcy55YXhpcy50b1godGhpcy5oaGxsLmMpLCBtYXh4IC0gbWlueCk7IH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oaGxsLmgpIHsgdGhpcy5obGluZShjYW52YXMsIG1pbngsIHRoaXMueWF4aXMudG9YKHRoaXMuaGhsbC5oKSwgbWF4eCAtIG1pbngpOyB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGhsbC5sKSB7IHRoaXMuaGxpbmUoY2FudmFzLCBtaW54LCB0aGlzLnlheGlzLnRvWCh0aGlzLmhobGwubCksIG1heHggLSBtaW54KTsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBobGluZShjYW52YXM6IENhbnZhc1dyYXBwZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBsOiBudW1iZXIpIHtcbiAgICAgICAgY2FudmFzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4ICsgbCwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRPaGxjUHJvalN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmUoc3ViOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub24odGhpcy5vblBvaW50QUNoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYi5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludEJDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGMuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRDQ2hhbmdlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludEFDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50QkNoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYy5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRDQ2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRBQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRQb2ludExhc3QodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFBvaW50KHRoaXMucGEsIHVuZGVmaW5lZCwgdGhpcy5wYi5wb2ludCk7XG4gICAgICAgIHRoaXMudXBkYXRlSEhMTCgpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludEJDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnN1YnNjcmliZShmYWxzZSk7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFBvaW50TGFzdCh0aGlzLnBiKTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50UG9pbnQodGhpcy5wYiwgdGhpcy5wYS5wb2ludCwgdGhpcy5wYy5wb2ludCk7XG4gICAgICAgIHRoaXMudXBkYXRlSEhMTCgpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludENDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnN1YnNjcmliZShmYWxzZSk7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFBvaW50KHRoaXMucGMsIHRoaXMucGIucG9pbnQsIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJhaW50UG9pbnQocDogUG9pbnRGaWd1cmVDb21wb25lbnQsIHBmcm9tPzogSUNoYXJ0UG9pbnQsIHB0bz86IElDaGFydFBvaW50KSB7XG4gICAgICAgIGlmIChwZnJvbSAmJiBwLnBvaW50LnVpZCAmJiBwZnJvbS51aWQgJiYgcC5wb2ludC51aWQuY29tcGFyZShwZnJvbS51aWQpIDwgMCkge1xuICAgICAgICAgICAgcC5wb2ludCA9IHsgdWlkOiBwZnJvbS51aWQsIHY6IHAucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwdG8gJiYgcC5wb2ludC51aWQgJiYgcHRvLnVpZCAmJiBwLnBvaW50LnVpZC5jb21wYXJlKHB0by51aWQpID4gMCkge1xuICAgICAgICAgICAgcC5wb2ludCA9IHsgdWlkOiBwdG8udWlkLCB2OiBwLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RyYWludFBvaW50TGFzdChwOiBQb2ludEZpZ3VyZUNvbXBvbmVudCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnNvdXJjZS5nZXRMYXN0Q2FuZGxlKCk7XG4gICAgICAgICAgICBpZiAobGFzdCAmJiBwLnBvaW50LnVpZCAmJiBwLnBvaW50LnVpZC5jb21wYXJlKGxhc3QudWlkKSA+IDApIHtcbiAgICAgICAgICAgICAgICBwLnBvaW50ID0geyB1aWQ6IGxhc3QudWlkLCB2OiBwLnBvaW50LnYgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlSEhMTCgpIHtcbiAgICAgICAgdGhpcy5oaGxsID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgJiYgdGhpcy5wYS5wb2ludC51aWQgJiYgdGhpcy5wYi5wb2ludC51aWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGhsbCA9IHRoaXMuc291cmNlLmdldEhITEwodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9obGNQcm9qU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjRkYwMDAwJztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd09obGNQcm9qU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3T2hsY1Byb2pTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdPaGxjUHJvalN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBPaGxjUHJvakZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPE9obGNQcm9qRmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUub2hsY3Byb2opO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRPaGxjUHJvalN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRPaGxjUHJvalN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRPaGxjUHJvalN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3QgPSBuZXcgUG9pbnQoKTtcbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGxpbmU/OiBPaGxjUHJvakZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSBtb3VzZSB4L3kgb25seSBpZiBsaW5lIHdhcyBzaGlmdGVkLiBJZ25vcmluZyBcImVtcHR5XCIgbW92ZW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5saW5lLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0LngsIG1vdXNlLnBvcy55IC0gdGhpcy5sYXN0LnkpO1xuICAgICAgICAgICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG5cbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gc3RhY2s7XG5cbiAgICAgICAgaWYgKGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5saW5lID0gPE9obGNQcm9qRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHBhdGguXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUFycmF5LCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVJhbmdlLCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFBhdGhGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IFBhdGhTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcDogUG9pbnRGaWd1cmVDb21wb25lbnRbXSA9IFtdO1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBfY2xvc2VkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBwb2ludHNTdG9yZTogU3RvcmVBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBwcml2YXRlIGNoYXJ0U2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignUGF0aCcsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIGNoYXJ0U2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgY2hhcnRTZXR0aW5ncywgdGhpcy5nZXRWYWx1ZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZhbHVlUmVnaW9uKTtcblxuICAgICAgICAvLyByZXN0b3JlIHBvaW50c1xuICAgICAgICB0aGlzLnBvaW50c1N0b3JlID0gY29udGFpbmVyLmdldEFycmF5UHJvcGVydHkoJ3BvaW50cycpO1xuICAgICAgICBmb3IgKGNvbnN0IHBTdG9yZSBvZiB0aGlzLnBvaW50c1N0b3JlLmFzQXJyYXkoKSkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRQb2ludChwU3RvcmUpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlOyAvLyBmb3IgbG9hZGVkIGZpZ3VyZSBzZXQgY2xvc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY2xvc2VkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2VkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY2xvc2VkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQb2ludCh1aWQ6IFVpZCwgdjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBvaW50Q29udGFpbmVyID0gdGhpcy5wb2ludHNTdG9yZS5hZGRJdGVtKCk7XG4gICAgICAgIGNvbnN0IHBmID0gdGhpcy5pbnNlcnRQb2ludChwb2ludENvbnRhaW5lcik7XG4gICAgICAgIHBmLnBvaW50ID0geyB1aWQ6IHVpZCwgdjogdiB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0UG9pbnQoY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lcik6IFBvaW50RmlndXJlQ29tcG9uZW50IHtcbiAgICAgICAgY29uc3QgcGYgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQodGhpcy5hcmVhLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0aGlzLmNoYXJ0U2V0dGluZ3MsIHRoaXMudGF4aXMsIHRoaXMueWF4aXMsIGNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMucC5wdXNoKHBmKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChwZik7XG4gICAgICAgIHJldHVybiBwZjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UG9pbnQoaW5kZXg6IG51bWJlcik6IElDaGFydFBvaW50IHtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnAubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wW2luZGV4XS5wb2ludDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggb3V0IG9mIHJhbmdlcyAke2luZGV4fS4gTGVuZ3RoID0gJHt0aGlzLnAubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldFBvaW50KGluZGV4OiBudW1iZXIsIHY6IElDaGFydFBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5wLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wW2luZGV4XS5wb2ludCA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4IG91dCBvZiByYW5nZXMgJHtpbmRleH0uIExlbmd0aCA9ICR7dGhpcy5wLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVQb2ludChpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5wLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gc3RvcmUgYW5kIGZyb20gcG9udHMgYXJyYXlcbiAgICAgICAgICAgIHRoaXMucG9pbnRzU3RvcmUucmVtb3ZlSXRlbShpbmRleCk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkID0gdGhpcy5wLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHJlbW92ZWRbMF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogSVJhbmdlPFVpZD58dW5kZWZpbmVkID0+IHtcbiAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbWluOiBVaWR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IG1heDogVWlkfHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGhpcy5wLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVpZCA9IHZhbHVlLnBvaW50LnVpZDtcbiAgICAgICAgICAgICAgICBpZiAodWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IG1pbiA/IChtaW4uY29tcGFyZSh1aWQpIDw9IDAgPyBtaW4gOiB1aWQpIDogdWlkO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBtYXggPyAobWF4LmNvbXBhcmUodWlkKSA+PSAwID8gbWF4IDogdWlkKSA6IHVpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIChtaW4gJiYgbWF4KSA/IHsgc3RhcnQ6IG1pbiwgZW5kOiBtYXggfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogSVJhbmdlPG51bWJlcj58dW5kZWZpbmVkID0+IHtcbiAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbWluOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IG1heDogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdGhpcy5wLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZS5wb2ludC52O1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IG1pbiA/IChtaW4gPD0gdiA/IG1pbiA6IHYpIDogdjtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gbWF4ID8gKG1heCA+PSB2ID8gbWF4IDogdikgOiB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKG1pbiAmJiBtYXgpID8geyBzdGFydDogbWluLCBlbmQ6IG1heCB9IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgY3VyOiBJUG9pbnR8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJldjogSVBvaW50fHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBDaGVjayBmaXJzdCBsYXN0XG4gICAgICAgIGNvbnN0IGhpdCA9IHRoaXMucC5zb21lKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGN1ciA9IHZhbHVlLmdldFhZKCk7XG4gICAgICAgICAgICBpZiAoY3VyICYmIHByZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgY3VyLCBwcmV2LCA1KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2ID0gY3VyO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjaGVjayBsYXN0IGxpbmVcbiAgICAgICAgaWYgKCFoaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5wWzBdLmdldFhZKCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1ciAmJiBmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgZmlyc3QsIGN1ciwgNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnAuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgICAgICAgICByZXN1bHQgPSBwb2ludC5zaGlmdChkeCwgZHkpIHx8IHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLndpZHRoO1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgbGV0IHByZXY6IElQb2ludHx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucC5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1ciA9IHZhbHVlLmdldFhZKCk7XG4gICAgICAgICAgICBpZiAoY3VyICYmIHByZXYpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGN1ci54LCBjdXIueSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1cikge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oY3VyLngsIGN1ci55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0UGF0aFN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGF0aFNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdQYXRoU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3UGF0aFN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd1BhdGhTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogUGF0aEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGZpcnN0WFk/OiBQb2ludDtcbiAgICBwcml2YXRlIGxhc3RYWT86IFBvaW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmICghY29vcmRYIHx8IGNvb3JkWSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8UGF0aEZpZ3VyZUNvbXBvbmVudD50aGlzLnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLnBhdGgpO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5hZGRQb2ludChjb29yZFgsIGNvb3JkWSk7XG4gICAgICAgICAgICB0aGlzLmZpcnN0WFkgPSBuZXcgUG9pbnQocmVsWCwgcmVsWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5hZGRQb2ludChjb29yZFgsIGNvb3JkWSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0WFkgPSBuZXcgUG9pbnQocmVsWCwgcmVsWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZpeFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyc3RYWSAmJiB0aGlzLmxhc3RYWSAmJiBEcmF3VXRpbHMuSVNfUE9JTlRfT1ZFUih0aGlzLmZpcnN0WFksIHRoaXMubGFzdFhZLCAxMCkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBsYXN0IHBvaW50XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5yZW1vdmVQb2ludCh0aGlzLmZpZ3VyZS5jb3VudCAtIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWxYID0gbW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueDtcbiAgICAgICAgY29uc3QgcmVsWSA9IG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0Lnk7XG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocmVsWCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocmVsWSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WFkgPSBuZXcgUG9pbnQocmVsWCwgcmVsWSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkgJiYgdGhpcy5maWd1cmUuY291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5zZXRQb2ludCh0aGlzLmZpZ3VyZS5jb3VudCAtIDEsIHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdFhZID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmZpcnN0WFkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UGF0aFN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRQYXRoU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFBhdGhTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogUGF0aEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubGluZSAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIC8vIENoYW5nZSBtb3VzZSB4L3kgb25seSBpZiBsaW5lIHdhcyBzaGlmdGVkLiBJZ25vcmluZyBcImVtcHR5XCIgbW92ZW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzaGlmdGVkID0gdGhpcy5saW5lLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0LngsIG1vdXNlLnBvcy55IC0gdGhpcy5sYXN0LnkpO1xuICAgICAgICAgICAgaWYgKHNoaWZ0ZWQpIHtcbiAgICAgICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VkaXQgc3RhdGU6IGxpbmUgb3IgY2hhcnRTdGFjayBpcyBub3QgZm91bmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCwgbW91c2UpO1xuICAgIH1cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG5cbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gc3RhY2s7XG5cbiAgICAgICAgaWYgKGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5saW5lID0gPFBhdGhGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgcGl0Y2hmb3JrLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBQaXRjaGZvcmtTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGM6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRDKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGMucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEModmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGMucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignUGl0Y2hmb3JrJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiICYmIGMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYiwgYyk7XG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgbWlkLCA1KVxuICAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGIgfHwgYztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG4gICAgICAgIGxldCBleHRBID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbWlkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIG1pZCA9IERyYXdVdGlscy5NSUQoYiwgYyk7XG4gICAgICAgICAgICAgICAgZXh0QSA9IERyYXdVdGlscy5FWFRFTkQoYSwgbWlkLCBmcmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dEEgPSBEcmF3VXRpbHMuRVhURU5EKGEsIGIsIGZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zZXR0aW5ncy53aWR0aDtcblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChhICYmIGIgJiYgIWMgJiYgZXh0QSkge1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGV4dEEueCwgZXh0QS55KTtcbiAgICAgICAgfSBlbHNlIGlmIChhICYmIGIgJiYgYyAmJiBleHRBICYmIG1pZCkge1xuICAgICAgICAgICAgLy8gZmluZCBsZWZ0IGFuZCByaWdodCBleHRlbnNpb25zXG4gICAgICAgICAgICBjb25zdCBtaWRBQyA9IERyYXdVdGlscy5NSUQoYSwgYyk7XG4gICAgICAgICAgICBjb25zdCBtaWRBQiA9IERyYXdVdGlscy5NSUQoYSwgYik7XG5cbiAgICAgICAgICAgIC8vIGZpbmQgNHRoIHZlcnRleCBvZiBwYXJhbGxlbG9ncmFtXG4gICAgICAgICAgICBjb25zdCBhMSA9IHtcbiAgICAgICAgICAgICAgICB4OiAyICogbWlkQUMueCAtIG1pZC54LFxuICAgICAgICAgICAgICAgIHk6IDIgKiBtaWRBQy55IC0gbWlkLnlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGEyID0ge1xuICAgICAgICAgICAgICAgIHg6IDIgKiBtaWRBQi54IC0gbWlkLngsXG4gICAgICAgICAgICAgICAgeTogMiAqIG1pZEFCLnkgLSBtaWQueVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZXh0ZW5kIHNpZGUgbGluZXNcbiAgICAgICAgICAgIGNvbnN0IGV4dDEgPSBEcmF3VXRpbHMuRVhURU5EKGExLCBjLCBmcmFtZSk7XG4gICAgICAgICAgICBjb25zdCBleHQyID0gRHJhd1V0aWxzLkVYVEVORChhMiwgYiwgZnJhbWUpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYy54LCBjLnkpO1xuXG4gICAgICAgICAgICAvLyBleHRlbnNpb25zXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0QS54LCBleHRBLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGMueCwgYy55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0MS54LCBleHQxLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0Mi54LCBleHQyLnkpO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRQaXRjaGZvcmtTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc2V0dGluZ3Mud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpdGNoZm9ya1NldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdQaXRjaGZvcmtTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdQaXRjaGZvcmtTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdQaXRjaGZvcmtTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8UGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUucGl0Y2hmb3JrKTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID4gMikge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUobW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UGl0Y2hmb3JrU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFBpdGNoZm9ya1N0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRQaXRjaGZvcmtTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXN0ID0gbmV3IFBvaW50KCk7XG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBsaW5lPzogUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5saW5lICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmxpbmUuc2hpZnQobW91c2UucG9zLnggLSB0aGlzLmxhc3QueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3QueSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcblxuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8UGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmxpbmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHJlY3RhbmdsZXMuXG4gKi9cblxuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFJlY3RGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IFJlY3RTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2OiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignUmVjdGFuZ2xlJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudWlkLCBlbmQ6IHRoaXMucGIucG9pbnQudWlkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnYsIGVuZDogdGhpcy5wYi5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgYyA9IG5ldyBQb2ludChhLngsIGIueSk7XG4gICAgICAgICAgICBjb25zdCBkID0gbmV3IFBvaW50KGIueCwgYS55KTtcblxuICAgICAgICAgICAgcmV0dXJuIERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGMsIDUpXG4gICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGMsIGIsIDUpXG4gICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGQsIDUpXG4gICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGQsIDUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBjYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoY2EgJiYgY2IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlUmVjdChjYS54LCBjYS55LCBjYi54IC0gY2EueCwgY2IueSAtIGNhLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0UmVjdFN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVjdFNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdSZWN0U3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3UmVjdFN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd1JlY3RTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogUmVjdEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxSZWN0RmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUucmVjdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRSZWN0U3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFJlY3RTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0UmVjdFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3QgPSBuZXcgUG9pbnQoKTtcbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGxpbmU/OiBSZWN0RmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5saW5lICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmxpbmUuc2hpZnQobW91c2UucG9zLnggLSB0aGlzLmxhc3QueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3QueSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcblxuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8UmVjdEZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHByaXZhdGUgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saW5lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyB0ZXh0LlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QWxpZ24gfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElDaGFydFBvaW50LCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVJlY3QsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVGV4dEZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBUZXh0U2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHA6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcmVjdDogSVJlY3R8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGdldCBwb2ludCgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnAucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludCh2OiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnAucG9pbnQgPSB2O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdUZXh0Jywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMucCA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMpO1xuICAgICAgICB0aGlzLnAudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucCk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICghdGhpcy5wLnBvaW50LnVpZCB8fCAhdGhpcy5wLnBvaW50LnYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnAucG9pbnQudWlkKTtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHRoaXMucC5wb2ludC52KTtcblxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIERyYXdVdGlscy5JU19QT0lOVF9PVkVSX1JFQ1QocCwgdGhpcy5yZWN0LCA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucC5wb2ludC51aWQgJiYgdGhpcy5wLnBvaW50LnYpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnAucG9pbnQudWlkKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLnlheGlzLnRvWCh0aGlzLnAucG9pbnQudik7XG5cbiAgICAgICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkYwMDAwJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmZvbnQgPSAnMTVwdCBBcmlhbCc7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFRleHRBbGlnbihDYW52YXNUZXh0QWxpZ24uQ2VudGVyKTtcbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjRkYwMDAwJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IGNhbnZhcy5tZWFzdXJlVGV4dCh0aGlzLnNldHRpbmdzLnRleHQpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5maWxsVGV4dCh0aGlzLnNldHRpbmdzLnRleHQsIHgsIHkpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0ID0geyB4OiB4LCB5OiB5LCB3OiBtZXRyaWNzLndpZHRoLCBoOiAxNSB9OyAvLyBIZWlnaHQgaW4gcHggaXMgZXF1YWwgdG8gZm9udCBzaXplIGluIHB0c1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0VGV4dFN0YXRlLmluc3RhbmNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHRTZXR0aW5ncyB7XG4gICAgcHVibGljIGNvbG9yID0gJyNGRjAwMDAnO1xuICAgIHB1YmxpYyB0ZXh0ID0gJ1RleHQnO1xufVxuXG5leHBvcnQgY2xhc3MgRHJhd1RleHRTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdUZXh0U3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBEcmF3VGV4dFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBUZXh0RmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IDxUZXh0RmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUudGV4dCk7XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuXG4gICAgICAgIHRoaXMuZXhpdCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdFRleHRTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0VGV4dFN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRUZXh0U3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgZmlndXJlPzogVGV4dEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlndXJlICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5jaGFydFN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gYm9hcmQub2Zmc2V0LnggLSB0aGlzLmNoYXJ0U3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5jaGFydFN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gYm9hcmQub2Zmc2V0LnkgLSB0aGlzLmNoYXJ0U3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPFRleHRGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyB0cmVuZCBjaGFubmVscy5cbiAqL1xuXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBUcmVuZENoYW5uZWxTZXR0aW5ncygpO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGM6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBzdG9yZTogQ2hhbm5lbFN0b3JlO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNwcmVhZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5zcHJlYWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBzcHJlYWQodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3JlLnNwcmVhZCA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdUcmVuZCBjaGFubmVsJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYyk7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBDaGFubmVsU3RvcmUoY29udGFpbmVyKTtcbiAgICAgICAgLy8gcmVjb21wdXRlIHBvaW50IGFmdGVyIGxvYWRpbmcgZmlndXJlXG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgbGV0IGhpdCA9IGZhbHNlO1xuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBzcHJlYWQgPSB0aGlzLnN0b3JlLnNwcmVhZDtcbiAgICAgICAgICAgIGhpdCA9IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCB7IHg6IGEueCAsIHk6IGEueSArIHNwcmVhZCB9LCB7IHg6IGIueCAsIHk6IGIueSArIHNwcmVhZCB9LCA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbXB1dGVkIHBvaW50cycgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwcmVhZCA9IHRoaXMuc3RvcmUuc3ByZWFkO1xuICAgICAgICAgICAgaWYgKHNwcmVhZCkgeyAvLyBpZiBub3QgMCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSArIHNwcmVhZCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSArIHNwcmVhZCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0VHJlbmRDaGFubmVsU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnNldHRpbmdzLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVTcHJlYWQocDogSVBvaW50KTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgeSA9IERyYXdVdGlscy5MSU5FQVIoYSwgYiwgcC54KTtcbiAgICAgICAgICAgIHJldHVybiB5ICE9PSB1bmRlZmluZWQgPyBwLnkgLSB5IDogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IFVpZC5taW4odGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmUoc3ViOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub24odGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBiLmNoYW5nZWQub24odGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBjLmNoYW5nZWQub24odGhpcy5vblAzY2hhbmdlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYi5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGMuY2hhbmdlZC5vZmYodGhpcy5vblAzY2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QM2NoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZFNwcmVhZCA9IHRoaXMuY29tcHV0ZVNwcmVhZCh0aGlzLnBjLnBpeGVsKTtcbiAgICAgICAgdGhpcy5zdG9yZS5zcHJlYWQgPSB1cGRTcHJlYWQgfHwgdGhpcy5zdG9yZS5zcHJlYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludHMoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKGZhbHNlKTsgLy8gcHJldmVudCBjaGFuZ2UgZXZlbnRzIHdoaWxlIHJlY29tcHV0aW5nXG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBtaWQgPSBEcmF3VXRpbHMuTUlEKGEsIGIpO1xuICAgICAgICAgICAgdGhpcy5wYy5waXhlbCA9IHsgeDogbWlkLngsIHk6IG1pZC55ICsgdGhpcy5zdG9yZS5zcHJlYWQgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyZW5kQ2hhbm5lbFNldHRpbmdzIHtcbiAgICBwdWJsaWMgY29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgcHVibGljIHdpZHRoID0gMTtcbn1cblxuZXhwb3J0IGNsYXNzIERyYXdUcmVuZENoYW5uZWxTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdUcmVuZENoYW5uZWxTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IERyYXdUcmVuZENoYW5uZWxTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogVHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGE/OiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBwYj86IElQb2ludDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbFggPSBtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54O1xuICAgICAgICBjb25zdCByZWxZID0gbW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueTtcbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShyZWxYKTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShyZWxZKTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8VHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50PnRoaXMuc3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUudHJlbmRjaGFubmVsKTtcblxuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB0aGlzLnBhID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBiID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMykge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbFggPSBtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54O1xuICAgICAgICBjb25zdCByZWxZID0gbW91c2UucG9zLnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueTtcbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShyZWxYKTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShyZWxZKTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnBiID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMyAmJiB0aGlzLnBhICYmIHRoaXMucGIpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBEcmF3VXRpbHMuTElORUFSKHRoaXMucGEsIHRoaXMucGIsIHJlbFgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUuc3ByZWFkID0geSAhPT0gdW5kZWZpbmVkID8gcmVsWSAtIHkgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRUcmVuZENoYW5uZWxTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0VHJlbmRDaGFubmVsU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFRyZW5kQ2hhbm5lbFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxhc3QgPSBuZXcgUG9pbnQoKTtcbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGZpZ3VyZT86IFRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlndXJlICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmZpZ3VyZS5zaGlmdChtb3VzZS5wb3MueCAtIHRoaXMubGFzdC54LCBtb3VzZS5wb3MueSAtIHRoaXMubGFzdC55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdFZGl0IHN0YXRlOiBsaW5lIG9yIGNoYXJ0U3RhY2sgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmV4aXQoYm9hcmQsIG1vdXNlKTtcbiAgICB9XG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPFRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHByaXZhdGUgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgfVxufVxuXG5jbGFzcyBDaGFubmVsU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBzcHJlYWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdzcHJlYWQnKSB8fCAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgc3ByZWFkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3NwcmVhZCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHRyaWFuZ2xlLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGVGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IFRyaWFuZ2xlU2V0dGluZ3MoKTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBjOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QygpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBjLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRDKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBjLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ1RyaWFuZ2xlJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYiAmJiBjKVxuICAgICAgICAgICAgPyAoRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpXG4gICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBjLCBhLCA1KSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYiB8fCBjO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zZXR0aW5ncy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYy54LCBjLnkpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRUcmlhbmdsZVN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zZXR0aW5ncy5jb2xvcik7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zZXR0aW5ncy53aWR0aCk7XG5cbiAgICAgICAgLy8gcmVyZW5kZXJcbiAgICAgICAgLy90aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGVTZXR0aW5ncyB7XG4gICAgcHVibGljIGNvbG9yID0gJyNGRjAwMDAnO1xuICAgIHB1YmxpYyB3aWR0aCA9IDE7XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3VHJpYW5nbGVTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IERyYXdUcmlhbmdsZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRHJhd1RyaWFuZ2xlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IFRyaWFuZ2xlRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShtb3VzZS5wb3MueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShtb3VzZS5wb3MueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8VHJpYW5nbGVGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS50cmlhbmdsZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKG1vdXNlLnBvcy54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdFRyaWFuZ2xlU3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFRyaWFuZ2xlU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFRyaWFuZ2xlU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgbGFzdCA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgY2hhcnRTdGFjaz86IElDaGFydFN0YWNrO1xuICAgIHByaXZhdGUgbGluZT86IFRyaWFuZ2xlRmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5saW5lICYmIHRoaXMuY2hhcnRTdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLmxpbmUuc2hpZnQobW91c2UucG9zLnggLSB0aGlzLmxhc3QueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3QueSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0LngsIHRoaXMubGFzdC55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdC54LCB0aGlzLmxhc3QueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcblxuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSBzdGFjaztcblxuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUgPSA8VHJpYW5nbGVGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgdmVydGljYWwgbGluZXMuXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU3RhdGVDb250cm9sbGVyIH1cbiAgICBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElDaGFydFBvaW50LCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9XG4gICAgZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFZlcnRpY2FsTGluZUZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSB7XG4gICAgcHJpdmF0ZSBwOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnQodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucC5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdWZXJ0aWNhbCBMaW5lJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMucCA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgncCcpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucCk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICghdGhpcy5wLnBvaW50LnVpZCB8fCAhdGhpcy5wLnBvaW50LnYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50eCA9IHRoaXMudGF4aXMudG9YKHRoaXMucC5wb2ludC51aWQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludHggPyAocC54ID49IHBvaW50eCAtIDMgJiYgcC54IDw9IHBvaW50eCArIDMpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucC5wb2ludC51aWQgJiYgdGhpcy5wLnBvaW50LnYpIHtcblxuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMudGF4aXMudG9YKHRoaXMucC5wb2ludC51aWQpO1xuXG4gICAgICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDAwMCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDAwMCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oeCwgMCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh4LCB0aGlzLnNpemUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRWZXJ0aWNhbExpbmVTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3VmVydGljYWxMaW5lU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBEcmF3VmVydGljYWxMaW5lU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBEcmF3VmVydGljYWxMaW5lU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IFZlcnRpY2FsTGluZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQ+dGhpcy5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS52bGluZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKG1vdXNlLnBvcy55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuXG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRWZXJ0aWNhbExpbmVTdGF0ZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0VmVydGljYWxMaW5lU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFZlcnRpY2FsTGluZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYXJ0U3RhY2s/OiBJQ2hhcnRTdGFjaztcbiAgICBwcml2YXRlIGxpbmU/OiBWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQ7XG5cbiAgICBwdWJsaWMgb25Nb3VzZU1vdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxpbmUgJiYgdGhpcy5jaGFydFN0YWNrKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLmNoYXJ0U3RhY2sueFRvVmFsdWUobW91c2UucG9zLnggLSBib2FyZC5vZmZzZXQueCAtIHRoaXMuY2hhcnRTdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICB0aGlzLmxpbmUucG9pbnQgPSB7IHVpZDogY29vcmRYLCB2OiB0aGlzLmxpbmUucG9pbnQudiB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuXG4gICAgICAgIGlmIChhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMubGluZSA9IDxWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGluZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEZpZ3VyZVN0YXRlQmFzZSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNoYXJ0Qm9hcmQsIElDaGFydFN0YWNrLCBJU3RhdGVDb250cm9sbGVyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IElNb3VzZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWd1cmVTdGF0ZUJhc2UgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHJpdmF0ZSBzdGF0ZSA9IDA7ICAvLyBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAwIC0gaW5pdGlhbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSAtIHNlbGVjdGluZyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMiAtIGRyYXdpbmcgbGluZVxuICAgIC8vcHJpdmF0ZSBzdGFja0lzU2V0ID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIHN0YWNrPzogSUNoYXJ0U3RhY2s7XG5cbiAgICBwdWJsaWMgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrKTogdm9pZCB7XG4gICAgICAgIGlmICghc3RhY2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhY2sgaXMgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICAvL3RoaXMuc2V0Q2hhcnRTdGFjayhzdGFjayk7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gYWRkIGZpcnN0IHBvaW50IGFuZCBmaXggaXRcbiAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQobW91c2UpO1xuICAgICAgICAgICAgdGhpcy5maXhQb2ludChtb3VzZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmaXggbGFzdCBwb2ludCA9IGZpbmlzaCBsaW5lXG4gICAgICAgICAgICB0aGlzLmZpeFBvaW50KG1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gaG92ZXJpbmdcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAvLyBmaXggbGFzdCBwb2ludFxuICAgICAgICAgICAgdGhpcy5maXhQb2ludChtb3VzZSk7XG4gICAgICAgICAgICAvLyBhZGQgbmV3IHBvaW50ID0gc3RhcnQgZHJhd2luZyBsaW5lXG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50KG1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGNoYW5nZSBsYXN0IHBvaW50XG4gICAgICAgICAgICB0aGlzLnNldExhc3RQb2ludChtb3VzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gcG9pbnQgaXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIC8vIGZpeCBsYXN0IHBvaW50XG4gICAgICAgICAgICB0aGlzLmZpeFBvaW50KG1vdXNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAyKSB7XG4gICAgICAgICAgICAvLyBsaW5lIGlzIGRyYXduLiBBZGQgbmV3IHBvaW50IGFuZCBnb1xuICAgICAgICAgICAgLy8gZml4IGxhc3QgcG9pbnRcbiAgICAgICAgICAgIHRoaXMuZml4UG9pbnQobW91c2UpO1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBwb2ludCA9IHN0YXJ0IGRyYXdpbmcgbGluZVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy8gc3RhcnQgYW5vdGhlciBsaW5lXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDA7XG4gICAgICAgIC8vdGhpcy5zdGFja0lzU2V0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKCk6IHZvaWQgeyB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgYWRkUG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgcHJvdGVjdGVkIGZpeFBvaW50KG1vdXNlOiBJTW91c2UpOiB2b2lkIHt9O1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzZXRMYXN0UG9pbnQobW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgLy9wcm90ZWN0ZWQgYWJzdHJhY3Qgc2V0Q2hhcnRTdGFjayhzdGFjazogSUNoYXJ0U3RhY2spOiB2b2lkO1xufVxuIiwiLyoqXG4gKiBQb2ludEZpZ3VyZUNvbXBvbmVudCBjbGFzc1xuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlck1hcmtlciwgVGltZU1hcmtlciB9XG4gICAgZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvb3Jkc0NvbnZlcnRlciwgSU1vdXNlLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfVxuICAgIGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEV2ZW50LCBJRXZlbnQsIElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIFBvaW50Q2hhbmdlZEV2ZW50IGV4dGVuZHMgRXZlbnQ8dm9pZD4ge1xufVxuXG5leHBvcnQgY2xhc3MgUG9pbnRDaGFuZ2VkQXJndW1lbnQge1xuICAgIHByaXZhdGUgcDogSVBvaW50O1xuXG4gICAgY29uc3RydWN0b3IocDogSVBvaW50KSB7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2ludEZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgdGltZU1hcmtlcjogVGltZU1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlTWFya2VyOiBOdW1iZXJNYXJrZXI7XG4gICAgcHJpdmF0ZSBzdG9yZTogUG9pbnRTdG9yZTtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50KHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnN0b3JlLnBvaW50LnVpZCA9IHZhbHVlLnVpZDtcbiAgICAgICAgdGhpcy5zdG9yZS5wb2ludC52ID0gdmFsdWUudjtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZEV2ZW50LnRyaWdnZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBpeGVsKCk6IElQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnBpeGVsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcGl4ZWwodmFsdWU6IElQb2ludCkge1xuICAgICAgICB0aGlzLnN0b3JlLnBpeGVsLnggPSB2YWx1ZS54O1xuICAgICAgICB0aGlzLnN0b3JlLnBpeGVsLnkgPSB2YWx1ZS55O1xuICAgICAgICB0aGlzLmNoYW5nZWRFdmVudC50cmlnZ2VyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwaXhlbE1vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnBpeGVsTW9kZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2hhbmdlZEV2ZW50ID0gbmV3IFBvaW50Q2hhbmdlZEV2ZW50KCk7XG4gICAgcHVibGljIGdldCBjaGFuZ2VkKCk6IElFdmVudDx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZWRFdmVudDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcj86IFN0b3JlQ29udGFpbmVyLFxuICAgICAgICBwaXhlbE1vZGUgPSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ1BvaW50Jywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIgfHwgbmV3IFN0b3JlQ29udGFpbmVyKCkpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUG9pbnRTdG9yZShjb250YWluZXIgfHwgbmV3IFN0b3JlQ29udGFpbmVyKCkpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUucGl4ZWxNb2RlID0gcGl4ZWxNb2RlO1xuXG4gICAgICAgIHRoaXMudmFsdWVNYXJrZXIgPSBuZXcgTnVtYmVyTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWUpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMudGltZU1hcmtlciA9IG5ldyBUaW1lTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgdGhpcy5nZXRVaWQpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZU1hcmtlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRVaWQgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbE1vZGUgPyB0aGlzLnRheGlzLnRvVmFsdWUodGhpcy5waXhlbC54KSA6IHRoaXMucG9pbnQudWlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWUgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbE1vZGUgPyB0aGlzLnlheGlzLnRvVmFsdWUodGhpcy5waXhlbC55KSA6IHRoaXMucG9pbnQudjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBpeGVsTW9kZSkge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguc3FydCgodGhpcy5waXhlbC54IC0gcC54KSAqICh0aGlzLnBpeGVsLnggLSBwLngpICsgKHRoaXMucGl4ZWwueSAtIHAueSkgKiAodGhpcy5waXhlbC55IC0gcC55KSk7XG4gICAgICAgICAgICByZXR1cm4gZGlmZiA8IDU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2ludC51aWQgJiYgdGhpcy5wb2ludC52KSB7XG4gICAgICAgICAgICBjb25zdCBweCA9IHRoaXMudGF4aXMudG9YKHRoaXMucG9pbnQudWlkKTtcbiAgICAgICAgICAgIGNvbnN0IHB5ID0gdGhpcy55YXhpcy50b1godGhpcy5wb2ludC52KTtcblxuICAgICAgICAgICAgaWYgKHB4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguc3FydCgocHggLSBwLngpICogKHB4IC0gcC54KSArIChweSAtIHAueSkgKiAocHkgLSBwLnkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlmZiA8IDU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudGltZU1hcmtlci52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudmFsdWVNYXJrZXIudmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRYWSgpOiBJUG9pbnR8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXhlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb2ludC51aWQgJiYgdGhpcy5wb2ludC52KSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy50YXhpcy50b1godGhpcy5wb2ludC51aWQpO1xuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHRoaXMucG9pbnQudik7XG4gICAgICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsID0geyB4OiB0aGlzLnBpeGVsLnggKyBkeCwgeTogdGhpcy5waXhlbC55ICsgZHkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50LnVpZCAmJiB0aGlzLnBvaW50LnYpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdQb2ludCA9IG5ldyBDaGFydFBvaW50KHRoaXMucG9pbnQudWlkLCB0aGlzLnBvaW50LnYpO1xuICAgICAgICAgICAgY29uc3QgcHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnBvaW50LnVpZCk7XG4gICAgICAgICAgICBjb25zdCBweSA9IHRoaXMueWF4aXMudG9YKHRoaXMucG9pbnQudik7XG5cbiAgICAgICAgICAgIGlmIChweCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnQgPSB7IHVpZDogdGhpcy50YXhpcy50b1ZhbHVlKHB4ICsgZHgpLCB2OiB0aGlzLnlheGlzLnRvVmFsdWUocHkgKyBkeSkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnN0b3JlLnBvaW50LmVxdWFscyhvcmlnUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29vcmQ6IElQb2ludHx1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLnBpeGVsTW9kZSkge1xuICAgICAgICAgICAgY29vcmQgPSB0aGlzLnBpeGVsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9pbnQudWlkICYmIHRoaXMucG9pbnQudikge1xuICAgICAgICAgICAgY29vcmQgPSB0aGlzLmdldFhZKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29vcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSG92ZXJlZCB8fCB0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuYXJjKGNvb3JkLngsIGNvb3JkLnksIDUsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjRkZGRkZGJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNjA2MDYwJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmZpbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjQzkwMDFEJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3JlYXRlU3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRQb2ludFN0YXRlLmluc3RhbmNlO1xuICAgIH1cbn1cblxuY2xhc3MgRWRpdFBvaW50U3RhdGUgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFBvaW50U3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0UG9pbnRTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGFydFN0YWNrPzogSUNoYXJ0U3RhY2s7XG4gICAgcHJpdmF0ZSBwb2ludD86IFBvaW50RmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5wb2ludCAmJiB0aGlzLmNoYXJ0U3RhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbFggPSBtb3VzZS5wb3MueCAtIGJvYXJkLm9mZnNldC54IC0gdGhpcy5jaGFydFN0YWNrLm9mZnNldC54O1xuICAgICAgICAgICAgY29uc3QgcmVsWSA9IG1vdXNlLnBvcy55IC0gYm9hcmQub2Zmc2V0LnkgLSB0aGlzLmNoYXJ0U3RhY2sub2Zmc2V0Lnk7XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludC5waXhlbE1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50LnBpeGVsID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuY2hhcnRTdGFjay54VG9WYWx1ZShyZWxYKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLmNoYXJ0U3RhY2sueVRvVmFsdWUocmVsWSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludC5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRWRpdCBzdGF0ZTogbGluZSBvciBjaGFydFN0YWNrIGlzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlRW50ZXIoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leGl0KGJvYXJkLCBtb3VzZSk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFjayA9IHN0YWNrO1xuICAgICAgICBpZiAoYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50ID0gPFBvaW50RmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICB0aGlzLnBvaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cblxuY2xhc3MgUG9pbnRTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50KCk6IENoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3BvaW50Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludCh2YWx1ZTogQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncG9pbnQnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwaXhlbCgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgncGl4ZWwnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBpeGVsKHZhbHVlOiBQb2ludCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncGl4ZWwnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwaXhlbE1vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgncGl4ZWxtb2RlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwaXhlbE1vZGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3BpeGVsbW9kZScsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGVuc3VyZSB2YWx1ZXMgYXJlIGluaXRpYWxpemVkXG4gICAgICAgIGNvbnN0IGR0byA9IGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgncG9pbnQnKTtcbiAgICAgICAgY29uc3QgdWlkID0gZHRvLmdldE9iamVjdFByb3BlcnR5KCd1aWQnKTtcbiAgICAgICAgY29uc3QgbW9kZWxVaWQgPSBuZXcgVWlkKHVpZC5nZXRQcm9wZXJ0eSgndCcpLCB1aWQuZ2V0UHJvcGVydHkoJ24nKSk7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gZHRvID8gbmV3IENoYXJ0UG9pbnQobW9kZWxVaWQsIGR0by5nZXRQcm9wZXJ0eSgndicpKSA6IG5ldyBDaGFydFBvaW50KCk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncG9pbnQnLCBtb2RlbCk7XG5cbiAgICAgICAgY29udGFpbmVyLnNldFByb3BlcnR5KCdwaXhlbCcsIG5ldyBQb2ludCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0Q2hhbmdlZCgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IEN1cnZlRmlndXJlQ29tcG9uZW50LCBEcmF3Q3VydmVTdGF0ZSB9IGZyb20gJy4vRHJhd0N1cnZlU3RhdGUnO1xuaW1wb3J0IHsgRGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50LCBEcmF3RGF0ZVJhbmdlU3RhdGUgfSBmcm9tICcuL0RyYXdEYXRlUmFuZ2VTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3RWxsaXBzZVN0YXRlLCBFbGxpcHNlRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3RWxsaXBzZVN0YXRlJztcbmltcG9ydCB7IERyYXdGaWJvRmFuU3RhdGUsIEZpYm9GYW5GaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdGaWJvRmFuU3RhdGUnO1xuaW1wb3J0IHsgRHJhd0ZpYm9MZXZlbFN0YXRlLCBGaWJvTGV2ZWxGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdGaWJvTGV2ZWxTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3Rmlib1Byb2plY3Rpb25TdGF0ZSwgRmlib1Byb2plY3Rpb25GaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdGaWJvUHJvamVjdGlvblN0YXRlJztcbmltcG9ydCB7IERyYXdGaWJvVGltZVByb2plY3Rpb25TdGF0ZSwgRmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUnO1xuaW1wb3J0IHsgRHJhd0dhbm5GYW5TdGF0ZSwgR2FubkZhbkZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0dhbm5GYW5TdGF0ZSc7XG5pbXBvcnQgeyBEcmF3SG9yaXpvbnRhbExpbmVTdGF0ZSwgSG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdIb3Jpem9udGFsTGluZVN0YXRlJztcbmltcG9ydCB7IERyYXdMaW5lU3RhdGUsIExpbmVGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdMaW5lU3RhdGUnO1xuaW1wb3J0IHsgRHJhd09obGNQcm9qU3RhdGUsIE9obGNQcm9qRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3T2hsY1Byb2pTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3UGF0aFN0YXRlLCBQYXRoRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3UGF0aFN0YXRlJztcbmltcG9ydCB7IERyYXdQaXRjaGZvcmtTdGF0ZSwgUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3UGl0Y2hmb3JrU3RhdGUnO1xuaW1wb3J0IHsgRHJhd1JlY3RTdGF0ZSwgUmVjdEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd1JlY3RTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3VGV4dFN0YXRlLCBUZXh0RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3VGV4dFN0YXRlJztcbmltcG9ydCB7IERyYXdUcmVuZENoYW5uZWxTdGF0ZSwgVHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3VHJlbmRDaGFubmVsU3RhdGUnO1xuaW1wb3J0IHsgRHJhd1RyaWFuZ2xlU3RhdGUsIFRyaWFuZ2xlRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3VHJpYW5nbGVTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3VmVydGljYWxMaW5lU3RhdGUsIFZlcnRpY2FsTGluZUZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd1ZlcnRpY2FsTGluZVN0YXRlJztcblxuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IHtcbiAgICBEcmF3Q3VydmVTdGF0ZSxcbiAgICBEcmF3RGF0ZVJhbmdlU3RhdGUsXG4gICAgRHJhd0VsbGlwc2VTdGF0ZSxcbiAgICBEcmF3Rmlib0ZhblN0YXRlLFxuICAgIERyYXdGaWJvTGV2ZWxTdGF0ZSxcbiAgICBEcmF3Rmlib1Byb2plY3Rpb25TdGF0ZSxcbiAgICBEcmF3Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUsXG4gICAgRHJhd0dhbm5GYW5TdGF0ZSxcbiAgICBEcmF3SG9yaXpvbnRhbExpbmVTdGF0ZSxcbiAgICBEcmF3TGluZVN0YXRlLFxuICAgIERyYXdPaGxjUHJvalN0YXRlLFxuICAgIERyYXdQYXRoU3RhdGUsXG4gICAgRHJhd1BpdGNoZm9ya1N0YXRlLFxuICAgIERyYXdSZWN0U3RhdGUsXG4gICAgRHJhd1RleHRTdGF0ZSxcbiAgICBEcmF3VHJlbmRDaGFubmVsU3RhdGUsXG4gICAgRHJhd1RyaWFuZ2xlU3RhdGUsXG4gICAgRHJhd1ZlcnRpY2FsTGluZVN0YXRlLFxuICAgIFBvaW50RmlndXJlQ29tcG9uZW50LFxuICAgIC8vIGZpZ3VyZXNcbiAgICBDdXJ2ZUZpZ3VyZUNvbXBvbmVudCxcbiAgICBEYXRlUmFuZ2VGaWd1cmVDb21wb25lbnQsXG4gICAgRWxsaXBzZUZpZ3VyZUNvbXBvbmVudCxcbiAgICBGaWJvRmFuRmlndXJlQ29tcG9uZW50LFxuICAgIEZpYm9MZXZlbEZpZ3VyZUNvbXBvbmVudCxcbiAgICBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCxcbiAgICBGaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQsXG4gICAgR2FubkZhbkZpZ3VyZUNvbXBvbmVudCxcbiAgICBIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudCxcbiAgICBMaW5lRmlndXJlQ29tcG9uZW50LFxuICAgIE9obGNQcm9qRmlndXJlQ29tcG9uZW50LFxuICAgIFBhdGhGaWd1cmVDb21wb25lbnQsXG4gICAgUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50LFxuICAgIFJlY3RGaWd1cmVDb21wb25lbnQsXG4gICAgVGV4dEZpZ3VyZUNvbXBvbmVudCxcbiAgICBUcmVuZENoYW5uZWxGaWd1cmVDb21wb25lbnQsXG4gICAgVHJpYW5nbGVGaWd1cmVDb21wb25lbnQsXG4gICAgVmVydGljYWxMaW5lRmlndXJlQ29tcG9uZW50XG59O1xuIiwiLyoqXG4gKiBBdmVyYWdlIERpcmVjdGlvbmFsIEluZGV4IEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQge1xuICAgIERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLFxuICAgIFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcbiAgICBUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBETUlDYW5kbGVzdGljaywgRE1JSW5kaWNhdG9yIH0gZnJvbSAnLi9ETUlJbmRpY2F0b3InO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gZXhwb3J0IGNsYXNzIEFEWENhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuLy8gICAgIC8qKiBcbi8vICAgICAgKiBTbW9vdGhlZCBUUlxuLy8gICAgICAqL1xuLy8gICAgIHB1YmxpYyBUUkE6IG51bWJlciB8IHVuZGVmaW5lZDtcbi8vICAgICAvKipcbi8vICAgICAgKiBTbW9vdGhlZCArRE1cbi8vICAgICAgKi9cbi8vICAgICBwdWJsaWMgcERNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuLy8gICAgIC8qKlxuLy8gICAgICAqIFNtb290aGVkIC1ETVxuLy8gICAgICAqL1xuLy8gICAgIHB1YmxpYyBtRE1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbi8vICAgICBwdWJsaWMgRFg6IG51bWJlciB8IHVuZGVmaW5lZDtcbi8vIH1cblxuZXhwb3J0IGNsYXNzIEFEWENhbmRsZXN0aWNrIGV4dGVuZHMgRE1JQ2FuZGxlc3RpY2sge1xuICAgIHB1YmxpYyBEWDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAnQURYOiAnXG4gICAgICAgICAgICArIGAke3RoaXMuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQURYSW5kaWNhdG9yIGV4dGVuZHMgRE1JSW5kaWNhdG9yIHtcblxuICAgIHByaXZhdGUgYWR4bWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBRFgnO1xuXG4gICAgICAgIHRoaXMuYWR4bWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuQURYKTtcblxuICAgICAgICAvLyBBRFggcmVxdWlyZXMgVFIsICtETSwgLURNXG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihUcnVlUmFuZ2VFeHRlbnNpb24udW5hbWUsIG5ldyBUcnVlUmFuZ2VFeHRlbnNpb24oKSk7XG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihVcERpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24udW5hbWUsIG5ldyBVcERpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24oKSk7XG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbi51bmFtZSwgbmV3IERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uKCkpO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxBRFhDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IEFEWENhbmRsZXN0aWNrIHtcblxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRETUkgPSBzdXBlci5jb21wdXRlT25lKHNvdXJjZUl0ZW1zLCBjb21wdXRlZEFycmF5LCBhY2Nlc3Nvcik7XG5cbiAgICAgICAgICAgIC8vIENvcHkgdmFsdWVzIGZyb20gY29tcHV0ZWQgRE1JXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBBRFhDYW5kbGVzdGljayhjb21wdXRlZERNSS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IGNvbXB1dGVkRE1JLnVpZC50O1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gY29tcHV0ZWRETUkudWlkLm47XG5cbiAgICAgICAgICAgIGNvbXB1dGVkLlRSQSA9IGNvbXB1dGVkRE1JLlRSQTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnBETUEgPSBjb21wdXRlZERNSS5wRE1BO1xuICAgICAgICAgICAgY29tcHV0ZWQubURNQSA9IGNvbXB1dGVkRE1JLm1ETUE7XG4gICAgICAgICAgICBjb21wdXRlZC5EWCA9IGNvbXB1dGVkRE1JLmM7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgQURYXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRBRFggPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5jIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IHRoaXMuYWR4bWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8QURYQ2FuZGxlc3RpY2s+aXRlbSkuRFgsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRBRFgpO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcblxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBdmVyYWdlIFRydWUgUmFuZ2UgSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IFRydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBBVFIgPSAoQVRSIHByZXYgeCAobiAtIDEpICsgVFIpIC8gblxuXG5leHBvcnQgY2xhc3MgQVRSSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FUUic7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5BRFgpO1xuXG4gICAgICAgIC8vIEFEWCByZXF1aXJlcyBUUlxuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oVHJ1ZVJhbmdlRXh0ZW5zaW9uLnVuYW1lLCBuZXcgVHJ1ZVJhbmdlRXh0ZW5zaW9uKCkpO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgICAgICAvLyBjb25zdCB2YWx1ZSA9IHRoaXMuYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIC8vIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBjID0+IGMuZXh0Wyd0ciddLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFZhbHVlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBbGxpZ2F0b3JJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgVHJpcGxlQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGljayB7XG4gICAgcHVibGljIGphdzogQ2FuZGxlc3RpY2s7XG4gICAgcHVibGljIHRlZXRoOiBDYW5kbGVzdGljaztcbiAgICBwdWJsaWMgbGlwczogQ2FuZGxlc3RpY2s7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcblxuICAgICAgICB0aGlzLmphdyA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcbiAgICAgICAgdGhpcy50ZWV0aCA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcbiAgICAgICAgdGhpcy5saXBzID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5qYXcgJiYgdGhpcy5qYXcuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5qYXcuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMudGVldGggJiYgdGhpcy50ZWV0aC5jICE9PSB1bmRlZmluZWQgPyB0aGlzLnRlZXRoLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmxpcHMgJiYgdGhpcy5saXBzLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMubGlwcy5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWxsaWdhdG9ySW5kaWNhdG9yIGV4dGVuZHMgSW5kaWNhdG9yRGF0YVNvdXJjZTxUcmlwbGVDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihUcmlwbGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ2FsbGlnYXRvcic7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIHVuZGUgKHVwZGF0ZSBkYXRhIGZyb20gY3VycmVudCBwbGFjZSB0byBlbmQpXG4gICAgICAgIC8vIEdlbmVyYXRlIGZ1dHVyZSB0aW1lIHdoZW4gc2hpZnQgaW5kaWNhdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IFZhbHVlQWNjZXNzb3JGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZSk7XG5cbiAgICAgICAgY29uc3QgTiA9IDEzO1xuXG4gICAgICAgIGNvbnN0IGZzYXJyYXkgPSBuZXcgRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KE4sIChsaHMsIHJocykgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfSk7XG5cbiAgICAgICAgLy8gR2V0IHNvdXJjZSBkYXRhIHdpdGhvdXQgbG9hZGluZ1xuICAgICAgICBjb25zdCBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gPSB0aGlzLnNvdXJjZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIC8vIFNlbGVjdCBsYXN0IHNvdXJjZSB2YWx1ZXNcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gSW5kaWNhdG9yRGF0YVNvdXJjZS5nZXRQcmV2aW91c0l0ZW1zKGl0ZXJhdG9yLCBOIC0gMSk7XG4gICAgICAgICAgICBmc2FycmF5LnB1c2hSYW5nZShwcmV2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwcmV2SmF3OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwcmV2VGVldGg6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByZXZMaXBzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIC8vIEdldCBsYXRlc3QgbW92aW5nIGF2ZXJhZ2UgZnJvbSBzdG9yYWdlLiBBcyByZXN1bHQgd2lsbCBiZSBzaGlmdGVkIHRoZSBsYXN0IE1BIHdlIGFyZSB0YWtpbmcgaXMgYWxzbyBzaGlmdGVkLlxuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlci5tb3ZlVGltZXMoMykgPT09IDMpIHsgIC8vIHRvdGFsIG1vdmUgPSA1XG4gICAgICAgICAgICAgICAgICAgIHByZXZMaXBzID0gaXRlci5jdXJyZW50LmxpcHMuYztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlci5tb3ZlVGltZXMoMikgPT09IDIpIHsgIC8vIHRvdGFsIG1vdmUgPSA1XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2VGVldGggPSBpdGVyLmN1cnJlbnQudGVldGguYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZXIubW92ZVRpbWVzKDMpID09PSAzKSB7ICAvLyB0b3RhbCBtb3ZlID0gOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZKYXcgPSBpdGVyLmN1cnJlbnQuamF3LmM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5tb3ZlTmV4dCgpKSB7IHJldHVybjsgfSAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpb25zXG4gICAgICAgIC8vIGdlbmVyYXRlIGphdzogYXJyYXlbXVxuICAgICAgICAvLyBnZW5lcmF0ZSB0ZWV0aDogYXJyYXlbXVxuICAgICAgICAvLyBnZW5lcmF0ZSBsaXBzOiBhcnJheVtdXG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCBqYXc6IENhbmRsZXN0aWNrW10gPSBbXTtcbiAgICAgICAgY29uc3QgdGVldGg6IENhbmRsZXN0aWNrW10gPSBbXTtcbiAgICAgICAgY29uc3QgbGlwczogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IG1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNtb290aGVkKTtcblxuICAgICAgICBjb25zdCBmaXJzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGFzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBpdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAgICAgZnNhcnJheS5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBqID0gbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGoudWlkLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBqLnVpZC5uID0gc291cmNlLnVpZC5uO1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICB0LnVpZC50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgdC51aWQubiA9IHNvdXJjZS51aWQubjtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgbC51aWQudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGwudWlkLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgai5jID0gbWEuY29tcHV0ZSgxMywgZnNhcnJheSwgYWNjZXNzb3IsIHVuZGVmaW5lZCwgcHJldkphdyk7ICBwcmV2SmF3ID0gai5jO1xuICAgICAgICAgICAgICAgIHQuYyA9IG1hLmNvbXB1dGUoOCwgZnNhcnJheSwgYWNjZXNzb3IsIHVuZGVmaW5lZCwgcHJldlRlZXRoKTsgcHJldlRlZXRoID0gdC5jO1xuICAgICAgICAgICAgICAgIGwuYyA9IG1hLmNvbXB1dGUoNSwgZnNhcnJheSwgYWNjZXNzb3IsIHVuZGVmaW5lZCwgcHJldkxpcHMpOyAgcHJldkxpcHMgPSBsLmM7XG5cbiAgICAgICAgICAgICAgICBqLmggPSBqLmM7XG4gICAgICAgICAgICAgICAgai5sID0gai5jO1xuICAgICAgICAgICAgICAgIHQuaCA9IHQuYztcbiAgICAgICAgICAgICAgICB0LmwgPSB0LmM7XG4gICAgICAgICAgICAgICAgbC5oID0gbC5jO1xuICAgICAgICAgICAgICAgIGwubCA9IGwuYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgamF3LnB1c2goaik7XG4gICAgICAgICAgICB0ZWV0aC5wdXNoKHQpO1xuICAgICAgICAgICAgbGlwcy5wdXNoKGwpO1xuXG4gICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIFNoaWZ0IGFsbCAvIFNoaWZ0IFVJRCBBTkQgVElNRS4gTWVyZ2luZyB3aWxsIGJlIGRvbmUgd2l0aCBVSUQsIHNvIFVJRCBzaG91bGQgc3RheSBvbiB0aGUgc2FtZSBwbGFjZS5cbiAgICAgICAgLy8gLi4uIEFkZCBYIGJhcnMgaW4gdGhlIGZ1dHVyZVxuICAgICAgICAvLyAuLi4gY29weSBkYXRhIHRvIHJpZ2h0XG4gICAgICAgIC8vIC4uLiBcbiAgICAgICAgLy8gamF3IHNoaWZ0IGJ5IDggYmFycyAgXG4gICAgICAgIC8vIHRlZXRoIHNoaWZ0IGJ5IDUgYmFyc1xuICAgICAgICAvLyBsaXBzIHNoaWZ0IGJ5IDMgYmFyc1xuXG4gICAgICAgIC8vIE1ha2UgZmFrZSBjYW5kbGVzIG9uIHRoZSByaWdodCBzaWRlLlxuICAgICAgICBsZXQgbGFzdERhdGUgPSBqYXdbamF3Lmxlbmd0aCAtIDFdLmRhdGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAxKSB7XG4gICAgICAgICAgICBsYXN0RGF0ZSA9IHRoaXMuYWRkSW50ZXJ2YWwobGFzdERhdGUsIDEpO1xuICAgICAgICAgICAgY29uc3QgZmFrZSA9IG5ldyBDYW5kbGVzdGljayhsYXN0RGF0ZSk7XG4gICAgICAgICAgICAvL2Zha2UudWlkLnQgPSBsYXN0RGF0ZS5nZXRUaW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGphdy5wdXNoKGZha2UpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3REYXRlID0gdGVldGhbdGVldGgubGVuZ3RoIC0gMV0uZGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGxhc3REYXRlID0gdGhpcy5hZGRJbnRlcnZhbChsYXN0RGF0ZSwgMSk7XG4gICAgICAgICAgICBjb25zdCBmYWtlID0gbmV3IENhbmRsZXN0aWNrKGxhc3REYXRlKTtcbiAgICAgICAgICAgIC8vZmFrZS51aWQgPSBsYXN0RGF0ZS5nZXRUaW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRlZXRoLnB1c2goZmFrZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdERhdGUgPSBsaXBzW2xpcHMubGVuZ3RoIC0gMV0uZGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGxhc3REYXRlID0gdGhpcy5hZGRJbnRlcnZhbChsYXN0RGF0ZSwgMSk7XG4gICAgICAgICAgICBjb25zdCBmYWtlID0gbmV3IENhbmRsZXN0aWNrKGxhc3REYXRlKTtcbiAgICAgICAgICAgIC8vZmFrZS51aWQgPSBsYXN0RGF0ZS5nZXRUaW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGxpcHMucHVzaChmYWtlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNoaWZ0IHZhbHVlc1xuXG4gICAgICAgIHRoaXMuc2hpZnQoamF3LCA4KTtcbiAgICAgICAgdGhpcy5zaGlmdCh0ZWV0aCwgNSk7XG4gICAgICAgIHRoaXMuc2hpZnQobGlwcywgMyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGZpcnN0IGl0ZW1zIGFzIHRoZXkgYXJlIGVtcHR5XG4gICAgICAgIGphdy5zcGxpY2UoMCwgOCk7XG4gICAgICAgIHRlZXRoLnNwbGljZSgwLCA1KTtcbiAgICAgICAgbGlwcy5zcGxpY2UoMCwgMyk7XG5cbiAgICAgICAgLy8gbWVyZ2UgYWxsIDMgdG8gb25lLiBDdXN0b20gbWVyZ2Ugb25lIGJ5IG9uZSwgbm90IGFsbCAzIHRvZ2V0aGVyLiBCZWNhdXNlIG9mIHRoZWlyIGRpZmZlcmVudCByZWxhdGl2ZSBzaGlmdC5cbiAgICAgICAgdGhpcy5tZXJnZUxpbmUoamF3LCAwKTtcbiAgICAgICAgdGhpcy5tZXJnZUxpbmUodGVldGgsIDEpO1xuICAgICAgICB0aGlzLm1lcmdlTGluZShsaXBzLCAyKTtcblxuICAgICAgICAvLyBNZXJnZSBuZXcgZGF0YSBhbmQgbm90aWZ5IHN1YnNjcmliZXJzXG4gICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgamF3Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtZXJnZUxpbmUoYXJyYXk6IENhbmRsZXN0aWNrW10sIGxpbmU6IG51bWJlcikge1xuICAgICAgICAvLyBQcmVwYXJlIFRyaXBsZUNhbmRsZXN0aWNrIGFycmF5XG4gICAgICAgIGNvbnN0IHRyaXBsZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVHJpcGxlQ2FuZGxlc3RpY2soaXRlbS5kYXRlKTtcbiAgICAgICAgICAgIHN3aXRjaCAobGluZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogdC5qYXcgPSBpdGVtOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHQudGVldGggPSBpdGVtOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHQubGlwcyA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0LnVpZC50ID0gaXRlbS51aWQudDtcbiAgICAgICAgICAgIHQudWlkLm4gPSBpdGVtLnVpZC5uO1xuICAgICAgICAgICAgLy90LmMgPSBpdGVtLmM7XG4gICAgICAgICAgICB0LmggPSBpdGVtLmg7XG4gICAgICAgICAgICB0LmwgPSBpdGVtLmw7XG4gICAgICAgICAgICB0cmlwbGUucHVzaCh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lcmdlIGVhY2ggcGFydCBzZXBhcmF0ZWx5XG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UodHJpcGxlLCAodGFyZ2V0LCB1cGRhdGUpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAobGluZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmphdyA9IHVwZGF0ZS5qYXc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnRlZXRoID0gdXBkYXRlLnRlZXRoO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5saXBzID0gdXBkYXRlLmxpcHM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhcmdldC5oICE9PSB1bmRlZmluZWQgJiYgdXBkYXRlLmggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuaCA8IHVwZGF0ZS5oKVxuICAgICAgICAgICAgICAgIHx8ICh0YXJnZXQuaCA9PT0gdW5kZWZpbmVkICYmIHVwZGF0ZS5oICE9PSB1bmRlZmluZWQpKSB7IHRhcmdldC5oID0gdXBkYXRlLmg7IH1cbiAgICAgICAgICAgIGlmICgodGFyZ2V0LmwgIT09IHVuZGVmaW5lZCAmJiB1cGRhdGUubCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5sID4gdXBkYXRlLmwpXG4gICAgICAgICAgICAgICAgfHwgKHRhcmdldC5sID09PSB1bmRlZmluZWQgJiYgdXBkYXRlLmwgIT09IHVuZGVmaW5lZCkpIHsgdGFyZ2V0LmwgPSB1cGRhdGUubDsgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaGlmdChhcnJheTogQ2FuZGxlc3RpY2tbXSwgbjogbnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IG47IGkgLT0gMSkge1xuICAgICAgICAgICAgYXJyYXlbaV0uYyA9IGFycmF5W2kgLSBuXS5jO1xuICAgICAgICAgICAgYXJyYXlbaV0ubyA9IGFycmF5W2kgLSBuXS5vO1xuICAgICAgICAgICAgYXJyYXlbaV0uaCA9IGFycmF5W2kgLSBuXS5oO1xuICAgICAgICAgICAgYXJyYXlbaV0ubCA9IGFycmF5W2kgLSBuXS5sO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWxsaWdhdG9ySW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIC8vcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEFsbGlnYXRvckluZGljYXRvclJlbmRlcmVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICAvLyBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBBbGxpZ2F0b3JJbmRpY2F0b3JSZW5kZXJlciB7XG4gICAgLy8gICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgLy8gICAgICAgICB0aGlzLmluc3QgPSBuZXcgQWxsaWdhdG9ySW5kaWNhdG9yUmVuZGVyZXIoKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIC8vIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICAvLyBSZW5kZXJcbiAgICAgICAgLy9cbiAgICAgICAgLy8gYm9yZGVyIGxpbmVzXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzMzMzMzJyk7XG4gICAgICAgIC8vIC4uLiBsZWZ0XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgZnJhbWUueSk7XG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcbiAgICAgICAgLy8gLi4uIGJvdHRvbVxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53IC0gMSwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcbiAgICAgICAgLy8gLi4uIHJpZ2h0XG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55KTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMwMDI2RkYnKTtcbiAgICAgICAgLy8gSmF3XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUcmlwbGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaXBsZSA9IDxUcmlwbGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmICh0cmlwbGUuamF3ICYmIHRyaXBsZS5qYXcuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHJpcGxlLmphdy5jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDgwMCcpO1xuICAgICAgICAvLyBUZWV0aFxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVHJpcGxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlwbGUgPSA8VHJpcGxlQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAodHJpcGxlLnRlZXRoICYmIHRyaXBsZS50ZWV0aC5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0cmlwbGUudGVldGguYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzOTlGMTYnKTtcbiAgICAgICAgLy8gTGlwc1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVHJpcGxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlwbGUgPSA8VHJpcGxlQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAodHJpcGxlLmxpcHMgJiYgdHJpcGxlLmxpcHMuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHJpcGxlLmxpcHMuYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBcm9vbiBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFJlbmRlcmVyLCBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBEb3VibGVDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcblxuICAgIHB1YmxpYyB1cDogQ2FuZGxlc3RpY2s7XG4gICAgcHVibGljIGRvd246IENhbmRsZXN0aWNrO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRhdGU6IERhdGUsIGM/OiBudW1iZXIsIG8/OiBudW1iZXIsIGg/OiBudW1iZXIsIGw/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoZGF0ZSwgYywgbywgaCwgbCk7XG5cbiAgICAgICAgdGhpcy51cCA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcbiAgICAgICAgdGhpcy5kb3duID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy51cCAmJiB0aGlzLnVwLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMudXAuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMuZG93biAmJiB0aGlzLmRvd24uYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5kb3duLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcm9vbkluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxEb3VibGVDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FSTyc7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERvdWJsZUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRG91YmxlQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIHJldHVybiBjb21wdXRlQXJvb24oc291cmNlSXRlbXMsIHRoaXMuc2V0dGluZ3MucGVyaW9kKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndXBwZXJ0aHJlc2hvbGQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndXBwZXJ0aHJlc2hvbGQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudXBwZXJUaHJlc2hvbGQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdVcHBlciB0aHJlc2hvbGQnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdsb3dlcnRocmVzaG9sZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsb3dlcnRocmVzaG9sZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5sb3dlclRocmVzaG9sZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0xvd2VyIHRocmVzaG9sZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHVwcGVydGhyZXNob2xkID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS51cHBlcnRocmVzaG9sZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnVwcGVyVGhyZXNob2xkID1cbiAgICAgICAgICAgICh1cHBlcnRocmVzaG9sZCAmJiB1cHBlcnRocmVzaG9sZC52YWx1ZSkgPyBwYXJzZUludCh1cHBlcnRocmVzaG9sZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy51cHBlclRocmVzaG9sZDtcblxuICAgICAgICBjb25zdCBsb3dlcnRocmVzaG9sZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UubG93ZXJ0aHJlc2hvbGQnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5sb3dlclRocmVzaG9sZCA9XG4gICAgICAgICAgICAobG93ZXJ0aHJlc2hvbGQgJiYgbG93ZXJ0aHJlc2hvbGQudmFsdWUpID8gcGFyc2VJbnQobG93ZXJ0aHJlc2hvbGQudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MubG93ZXJUaHJlc2hvbGQ7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFyb29uT3NjaWxsYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxEb3VibGVDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FPUyc7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERvdWJsZUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRG91YmxlQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIHJldHVybiBjb21wdXRlQXJvb24oc291cmNlSXRlbXMsIHRoaXMuc2V0dGluZ3MucGVyaW9kKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogLTEwMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFyb29uSW5kaWNhdG9yUmVuZGVyZXIgZXh0ZW5kcyBDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3Qgem9uZXZpc2libGUgPSB0aGlzLnNldHRpbmdzLnpvbmUudmlzaWJsZTtcbiAgICAgICAgY29uc3QgZmlsbCA9IHRoaXMuc2V0dGluZ3Muem9uZS5maWxsO1xuICAgICAgICBjb25zdCBmaWxsY29sb3IgPSB0aGlzLnNldHRpbmdzLnpvbmUuZmlsbGNvbG9yO1xuICAgICAgICBjb25zdCBzaG93dGhyZXNob2xkID0gdGhpcy5zZXR0aW5ncy56b25lLnNob3d0aHJlc2hvbGQ7XG4gICAgICAgIGNvbnN0IHVwdGhyZXNob2xkID0gdGhpcy5zZXR0aW5ncy56b25lLnVwdGhyZXNob2xkO1xuICAgICAgICBjb25zdCBsb3d0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLnpvbmUubG93dGhyZXNob2xkO1xuXG4gICAgICAgIGNvbnN0IHVwcGVyID0geUF4aXMudG9YKHVwdGhyZXNob2xkKTtcbiAgICAgICAgY29uc3QgbG93ZXIgPSB5QXhpcy50b1gobG93dGhyZXNob2xkKTtcblxuICAgICAgICAvLyBGaWxsIGFyZWEgYi93IHRvcCBhbmQgYm90dG9tIHpvbmUgbGluZXNcbiAgICAgICAgaWYgKHpvbmV2aXNpYmxlICYmIGZpbGwpIHtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoZmlsbGNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdChmcmFtZS54LCBNYXRoLm1pbih1cHBlciwgbG93ZXIpLCBmcmFtZS54ICsgZnJhbWUudywgTWF0aC5hYnModXBwZXIgLSBsb3dlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRHJhdyB6b25lIGxpbmVzXG4gICAgICAgIGlmICh6b25ldmlzaWJsZSAmJiBzaG93dGhyZXNob2xkKSB7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy56b25lLnRsaW5lY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLnNldExpbmVEYXNoKFJlbmRlclV0aWxzLlBBVFRFUk4yU0VHKHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXBhdHRlcm4pKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmV3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgdXBwZXIpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudywgdXBwZXIpO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zZXR0aW5ncy56b25lLmJsaW5lY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLnNldExpbmVEYXNoKFJlbmRlclV0aWxzLlBBVFRFUk4yU0VHKHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZXBhdHRlcm4pKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmV3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgbG93ZXIpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudywgbG93ZXIpO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNGRjU5MDAnKTtcbiAgICAgICAgY2FudmFzLnNldExpbmVEYXNoKFtdKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDE7XG5cbiAgICAgICAgLy8gVXBcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkICYmIGQudXAgJiYgZC51cC5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLnVwLmM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjM0Q1QUZGJyk7XG4gICAgICAgIC8vIERvd25cbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkICYmIGQuZG93biAmJiBkLmRvd24uYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZC5kb3duLmM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3Qgem9uZSA9IHN1cGVyLmdldFpvbmVzU2V0dGluZ3MoKTtcblxuICAgICAgICBjb25zdCB2aXN1YWwgPSBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgICAgIHZpc3VhbC5zZXRTZXR0aW5nKCd6b25lcycsIHpvbmUpO1xuICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCB6b25lID0gc2V0dGluZ3MuZ2V0U2V0dGluZygndmlzdWFsLnpvbmVzJyk7XG4gICAgICAgIGlmICh6b25lKSB7XG4gICAgICAgICAgICBzdXBlci5zZXRab25lc1NldHRpbmdzKHpvbmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlQXJvb24oc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPiwgcGVyaW9kOiBudW1iZXIpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICBjb25zdCBOID0gcGVyaW9kO1xuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcblxuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IERvdWJsZUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgY29uc3QgaW5kZXhPZkhpZ2hlc3QgPSBzb3VyY2VJdGVtcy5tYXhJbmRleChpdGVtID0+IGl0ZW0uaCk7XG4gICAgY29uc3QgaW5kZXhPZkxvd2VzdCA9IHNvdXJjZUl0ZW1zLm1pbkluZGV4KGl0ZW0gPT4gaXRlbS5sKTtcblxuICAgIGlmIChpbmRleE9mSGlnaGVzdCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGRheVNpbmNlID0gc291cmNlSXRlbXMubGVuZ3RoIC0gKGluZGV4T2ZIaWdoZXN0ICsgMSk7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IDEwMCAqIChOIC0gZGF5U2luY2UpIC8gTjtcbiAgICAgICAgY29tcHV0ZWQudXAuYyA9IGluZGljYXRvcjtcbiAgICAgICAgY29tcHV0ZWQudXAuaCA9IGluZGljYXRvcjtcbiAgICAgICAgY29tcHV0ZWQudXAubCA9IGluZGljYXRvcjtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXhPZkxvd2VzdCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGRheVNpbmNlID0gc291cmNlSXRlbXMubGVuZ3RoIC0gKGluZGV4T2ZMb3dlc3QgKyAxKTtcbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gMTAwICogKE4gLSBkYXlTaW5jZSkgLyBOO1xuICAgICAgICBjb21wdXRlZC5kb3duLmMgPSBpbmRpY2F0b3I7XG4gICAgICAgIGNvbXB1dGVkLmRvd24uaCA9IGluZGljYXRvcjtcbiAgICAgICAgY29tcHV0ZWQuZG93bi5sID0gaW5kaWNhdG9yO1xuICAgIH1cblxuICAgIC8vIEFyb29uIG9zY2lsbGF0b3IgPSBBcm9vbi1VcCAtIEFyb29uLURvd25cbiAgICBpZiAoY29tcHV0ZWQudXAuYyAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLmRvd24uYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXB1dGVkLmMgPSBjb21wdXRlZC51cC5jIC0gY29tcHV0ZWQuZG93bi5jO1xuICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xufVxuIiwiLyoqXG4gKiBCb2xsaW5nZXJJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuZXhwb3J0IGNsYXNzIFRyaXBsZUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIHB1YmxpYyB0b3A6IENhbmRsZXN0aWNrO1xuICAgIHB1YmxpYyBtaWRkbGU6IENhbmRsZXN0aWNrO1xuICAgIHB1YmxpYyBib3R0b206IENhbmRsZXN0aWNrO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRhdGU6IERhdGUsIGM/OiBudW1iZXIsIG8/OiBudW1iZXIsIGg/OiBudW1iZXIsIGw/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoZGF0ZSwgYywgbywgaCwgbCk7XG5cbiAgICAgICAgdGhpcy50b3AgPSBuZXcgQ2FuZGxlc3RpY2soZGF0ZSk7XG4gICAgICAgIHRoaXMubWlkZGxlID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgICAgICB0aGlzLmJvdHRvbSA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudG9wICYmIHRoaXMudG9wLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMudG9wLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLm1pZGRsZSAmJiB0aGlzLm1pZGRsZS5jICE9PSB1bmRlZmluZWQgPyB0aGlzLm1pZGRsZS5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyAvICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5ib3R0b20gJiYgdGhpcy5ib3R0b20uYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5ib3R0b20uYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvbGxpbmdlckluZGljYXRvciBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8VHJpcGxlQ2FuZGxlc3RpY2s+IHtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoVHJpcGxlQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdib2xsaW5nZXInO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gSWYgYXJnIGlzIG5vdCBkZWZpbmVkIGJ1aWxkIGFsbCBkYXRhXG4gICAgICAgIC8vIENvbXB1dGUgZGF0YSB0aWxsIHRoZSBlbmQgKHVwZGF0ZSBkYXRhIGZyb20gY3VycmVudCBwbGFjZSB0byBlbmQpXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlKTtcblxuICAgICAgICBjb25zdCBOID0gMjA7XG4gICAgICAgIGNvbnN0IEsgPSAyO1xuICAgICAgICBjb25zdCBmc2FycmF5ID0gbmV3IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPihOLCAobGhzLCByaHMpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH0pO1xuXG4gICAgICAgIC8vIEdldCBzb3VyY2UgZGF0YSB3aXRob3V0IGxvYWRpbmdcbiAgICAgICAgY29uc3QgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+ID0gdGhpcy5zb3VyY2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICAvLyBTZWxlY3QgbGFzdCBzb3VyY2UgdmFsdWVzXG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGlmICghaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBkb2VzIG5vdCBjb250YWluIHVwZGF0ZWQgZGF0YScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldiA9IEluZGljYXRvckRhdGFTb3VyY2UuZ2V0UHJldmlvdXNJdGVtcyhpdGVyYXRvciwgTiAtIDEpO1xuICAgICAgICAgICAgZnNhcnJheS5wdXNoUmFuZ2UocHJldik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgbGF0ZXN0IG1vdmluZyBhdmVyYWdlIGZyb20gc3RvcmFnZVxuICAgICAgICBsZXQgcHJldk1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoaXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSAmJiBpdGVyLm1vdmVQcmV2KCkpIHtcbiAgICAgICAgICAgICAgICBwcmV2TUEgPSBpdGVyLmN1cnJlbnQubWlkZGxlLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5tb3ZlTmV4dCgpKSB7IHJldHVybjsgfSAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpb25zXG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCBjb21wdXRlZEFycmF5OiBUcmlwbGVDYW5kbGVzdGlja1tdID0gW107XG5cbiAgICAgICAgY29uc3QgbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU21vb3RoZWQpO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG4gICAgICAgIGxldCBsYXN0VWlkO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsYXN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBpdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBUcmlwbGVDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWQudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZC5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgICAgICBmc2FycmF5LnB1c2goc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsgLy8gaGFzIHZhbHVlXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubWlkZGxlLmMgPSBtYS5jb21wdXRlKE4sIGZzYXJyYXksIGFjY2Vzc29yLCB1bmRlZmluZWQsIHByZXZNQSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubWlkZGxlLmggPSBjb21wdXRlZC5taWRkbGUuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5taWRkbGUubCA9IGNvbXB1dGVkLm1pZGRsZS5jO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkLm1pZGRsZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgbW92aW5nIGF2ZyBpcyBjb21wdXRlZCwgY3VycmVudCB2YWx1ZSBjYW4gYmUgcHVzaGVkIHRvIGFycmF5LCB0byBjYWxjdWxhdGUgc3RkIGRldmlhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmREZXZpYXRpb24gPSBVdGlscy5TVERERVYoZnNhcnJheSwgYWNjZXNzb3IsIGNvbXB1dGVkLm1pZGRsZS5jKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhbmRhcmREZXZpYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudG9wLmMgPSBjb21wdXRlZC5taWRkbGUuYyArIEsgKiBzdGFuZGFyZERldmlhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRvcC5oID0gY29tcHV0ZWQudG9wLmM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50b3AubCA9IGNvbXB1dGVkLm1pZGRsZS5jO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5ib3R0b20uYyA9IGNvbXB1dGVkLm1pZGRsZS5jIC0gSyAqIHN0YW5kYXJkRGV2aWF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYm90dG9tLmggPSBjb21wdXRlZC5ib3R0b20uYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmJvdHRvbS5sID0gY29tcHV0ZWQuYm90dG9tLmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBNYXRoLm1heChjb21wdXRlZC50b3AuaCwgY29tcHV0ZWQuYm90dG9tLmgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubWlkZGxlLmggIT09IHVuZGVmaW5lZCA/IGNvbXB1dGVkLm1pZGRsZS5oIDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBNYXRoLm1pbihjb21wdXRlZC50b3AubCwgY29tcHV0ZWQuYm90dG9tLmwsIGNvbXB1dGVkLm1pZGRsZS5sIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldk1BID0gY29tcHV0ZWQubWlkZGxlLmM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIE1lcmdlXG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWRBcnJheSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgbmV3IGRhdGEgYW5kIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoZmlyc3RVaWQsIGxhc3RVaWQsIGNvbXB1dGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCb2xsaW5nZXJJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG5cbiAgICAgICAgLy8gQ29sbGVjdCBjaGFydHMgcG9pbnRzXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHRvcDogSVBvaW50W10gPSBbXTtcbiAgICAgICAgdG9wLmxlbmd0aCA9IHRpbWVBeGlzLmNvdW50OyAvLyBwcmVhbGxvY2F0ZSBtZW1vcnlcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGEsIChpdGVtLCB4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRyaXBsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IDxUcmlwbGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmICh0ICYmIHQudG9wICYmIHQudG9wLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKHQudG9wLmMpO1xuICAgICAgICAgICAgICAgICAgICB0b3BbaV0gPSB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYm90dG9tOiBJUG9pbnRbXSA9IFtdO1xuICAgICAgICBib3R0b20ubGVuZ3RoID0gdGltZUF4aXMuY291bnQ7IC8vIHByZWFsbG9jYXRlIG1lbW9yeVxuICAgICAgICBsZXQgaiA9IDA7XG5cbiAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YSwgKGl0ZW0sIHgpID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVHJpcGxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gPFRyaXBsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKHQgJiYgdC5ib3R0b20gJiYgdC5ib3R0b20uYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1godC5ib3R0b20uYyk7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVtqXSA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgICAgICAgICBqICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGaWxsIGFyZWEgYmV0d2VlbiBsaW5lc1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgdG9wLmZvckVhY2goKHAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgIChpbmRleCA9PT0gMCkgPyBjYW52YXMubW92ZVRvKHAueCwgcC55KSA6IGNhbnZhcy5saW5lVG8ocC54LCBwLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBrID0gYm90dG9tLmxlbmd0aCAtIDE7IGsgPj0gMDsgayAtPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gYm90dG9tW2tdO1xuICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKHAueCwgcC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgncmdiYSgwLCAxMDAsIDE1MCwgMC4zKScpO1xuICAgICAgICBjYW52YXMuZmlsbCgpO1xuXG4gICAgICAgIC8vIExpbmVzXG4gICAgICAgIC8vXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzMzMzMzJyk7XG5cbiAgICAgICAgLy8gTWlkZGxlXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUcmlwbGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaXBsZSA9IDxUcmlwbGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmICh0cmlwbGUubWlkZGxlICYmIHRyaXBsZS5taWRkbGUuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHJpcGxlLm1pZGRsZS5jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICAvLyBUb3BcbiAgICAgICAgLy9cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMwNDAwRkYnKTtcbiAgICAgICAgdG9wLmZvckVhY2goKHAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgIChpbmRleCA9PT0gMCkgPyBjYW52YXMubW92ZVRvKHAueCwgcC55KSA6IGNhbnZhcy5saW5lVG8ocC54LCBwLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIEJvdHRvbVxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzA0MDBGRicpO1xuICAgICAgICBib3R0b20uZm9yRWFjaCgocCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICAgICAgKGluZGV4ID09PSAwKSA/IGNhbnZhcy5tb3ZlVG8ocC54LCBwLnkpIDogY2FudmFzLmxpbmVUbyhwLngsIHAueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgncmVuZGVyZXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIENvbW1vZGl0eSBDaGFubmVsIEluZGV4IG9zY2lsbGF0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgR2Fpbkxvc3NFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gQ0NJID0gKDEvMC4wMTUpICogKFB0IC0gU01BKFB0KSkgLyBEZXZpYXRpb24oUHQpLFxuLy8gICAgUHQgLSB0eXBpY2FsIHByaWNlXG4vLyAgICBEZXZpYXRpb24gLSBNZWFuIGFic29sdXRlIGRldmlhdGlvblxuXG5leHBvcnQgY2xhc3MgQ0NJQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgcHVibGljIFNNQTogbnVtYmVyfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIENDSU9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q0NJQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHQ6IEdhaW5Mb3NzRXh0ZW5zaW9uO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDQ0lDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NDSSc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5TaW1wbGUpO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMjA7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gVmFsdWVBY2Nlc3NvclR5cGUuaGxjMztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENDSUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ0NJQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENDSUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAvLyBDb21wdXRlIFNNQVxuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU01BID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuU01BIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuU01BID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRTTUEpO1xuXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQuU01BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGRldmlhdGlvbiBhcm91bmQgU01BLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1hZCA9IFV0aWxzLk1BRChOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIGNvbXB1dGVkLlNNQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWFkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBDQ0lcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9ICh2YWx1ZSAtIGNvbXB1dGVkLlNNQSkgLyAoMC4wMTUgKiBtYWQpO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENvcnJlbGF0aW9uIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSWRWYWx1ZSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBWYXJpYW5jZShQKSA9IEFWRyhQMikgLSBBVkcoUCkgKiBBVkcoUClcbi8vIFZhcmlhbmNlKFMpID0gQVZHKFMyKSAtIEFWRyhTKSAqIEFWRyhTKVxuLy8gQ292YXJpYW5jZShQLFMpID0gQVZHKFAgeCBTKSAtIEFWRyhQKSB4IEFWRyhTKVxuLy8gQ29ycmVsYXRpb24oUCxTKSA9IENvdmFyaWFuY2UoUCxTKSAvIFNRUlQoVmFyaWFuY2UoUCkgeCBWYXJpYW5jZShTKSlcblxuZXhwb3J0IGNsYXNzIENPUkNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgcHVibGljIHA6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHM6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgYXZncDogbnVtYmVyfHVuZGVmaW5lZDsgLy8gYXZnIG9mIHBcbiAgICBwdWJsaWMgYXZnczogbnVtYmVyfHVuZGVmaW5lZDsgLy8gYXZnIG9mIHNcblxuICAgIHB1YmxpYyBwMjogbnVtYmVyfHVuZGVmaW5lZDsgLy8gc3F1YXJlIG9mIHBcbiAgICBwdWJsaWMgczI6IG51bWJlcnx1bmRlZmluZWQ7IC8vIHNxdWFyZSBvZiBzXG5cbiAgICBwdWJsaWMgYXZncDI6IG51bWJlcnx1bmRlZmluZWQ7IC8vIGF2ZyBvZiBwMiBcbiAgICBwdWJsaWMgYXZnczI6IG51bWJlcnx1bmRlZmluZWQ7IC8vIGF2ZyBvZiBzMlxuXG4gICAgcHVibGljIHB4czogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgYXZncHhzOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENPUkluZGljYXRvciBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8Q09SQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogQ09SU2V0dGluZ3MgPSBuZXcgQ09SU2V0dGluZ3MoKTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ09SQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdDT1InO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlKTtcblxuICAgICAgICBsZXQgY29tcHV0ZWRBcnJheTogQ09SQ2FuZGxlc3RpY2tbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3Qgc291cmNlSXRlbXMgPSBuZXcgRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KE4sIChsaHMsIHJocykgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfSk7XG4gICAgICAgIGNvbnN0IGNvbXBhcmVJdGVtcyA9IG5ldyBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRJdGVtcyA9IG5ldyBGaXhlZFNpemVBcnJheTxDT1JDYW5kbGVzdGljaz4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcblxuICAgICAgICAvLyBHZXQgY29tcGFyZSBkYXRhIHNvdWNlXG5cbiAgICAgICAgbGV0IGNvbXBhcmVJdGVyOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPnx1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmV4dHNldHRpbmdzLnVpZCkge1xuICAgICAgICAgICAgY29uc3QgY29tcGFyZURhdGFTb3VyY2UgPSB0aGlzLmNvbnRleHQucmVnaXN0ZXIuZ2V0SXRlbSh0aGlzLmV4dHNldHRpbmdzLnVpZCk7XG4gICAgICAgICAgICBpZiAoY29tcGFyZURhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBjb21wYXJlSXRlciA9IGNvbXBhcmVEYXRhU291cmNlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBjYW4ndCBnZXQgY29tcGFyZSBkYXRhIHNvdXJjZSByZXR1cm5cbiAgICAgICAgaWYgKCFjb21wYXJlSXRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vIEdldCBzb3VyY2UgZGF0YSB3aXRob3V0IGxvYWRpbmdcbiAgICAgICAgY29uc3Qgc291cmNlSXRlcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gPSB0aGlzLnNvdXJjZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIC8vIFNlbGVjdCBsYXN0IHNvdXJjZSBpdGVtcyBhbmQgY29tcGFyZSBpdGVtc1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBkb2VzIG5vdCBjb250YWluIHVwZGF0ZWQgZGF0YScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBjb25zdCBwcmV2OiBDYW5kbGVzdGlja1tdID0gW107XG4gICAgICAgICAgICBjb25zdCBwcmV2Q29tcGFyZTogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuICAgICAgICAgICAgc291cmNlSXRlci5zb21lYmFja3dhcmQoKGl0ZW0sIGNvdW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlciA+IE4pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXYucHVzaChpdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZUl0ZXIgJiYgY29tcGFyZUl0ZXIuZ29UbyhjaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGNpdGVtLnVpZCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q29tcGFyZS5wdXNoKGNvbXBhcmVJdGVyLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTa2lwIGN1cnJlbnQgaXRlbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2LnJldmVyc2UoKTtcbiAgICAgICAgICAgIHByZXZDb21wYXJlLnJldmVyc2UoKTtcbiAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgLy9jb25zdCBwcmV2ID0gSW5kaWNhdG9yRGF0YVNvdXJjZS5nZXRQcmV2aW91c0l0ZW1zKHNvdXJjZUl0ZXIsIE4gLSAxKTtcbiAgICAgICAgICAgIHNvdXJjZUl0ZW1zLnB1c2hSYW5nZShwcmV2KTtcbiAgICAgICAgICAgIGNvbXBhcmVJdGVtcy5wdXNoUmFuZ2UocHJldkNvbXBhcmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGxhc3QgY29tcHV0ZWQgaXRlbXNcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChpdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZE9yaWcuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkgPSBJbmRpY2F0b3JEYXRhU291cmNlLmdldFByZXZpb3VzSXRlbXMoaXRlciwgTiAtIDEpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkSXRlbXMucHVzaFJhbmdlKGNvbXB1dGVkQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR28gdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBzb3VyY2VJdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VJdGVyLm1vdmVOZXh0KCkpIHsgcmV0dXJuOyB9IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gXG5cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZpcnN0VWlkID0gc291cmNlSXRlci5jdXJyZW50LnVpZDtcbiAgICAgICAgbGV0IGxhc3RVaWQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZXIuY3VycmVudDtcbiAgICAgICAgICAgIGxhc3RVaWQgPSBzb3VyY2UudWlkO1xuICAgICAgICAgICAgc291cmNlSXRlbXMucHVzaChzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbXBhcmVJdGVyLm1vdmVUbyhjaXRlbSA9PiBzb3VyY2UudWlkLmNvbXBhcmUoY2l0ZW0udWlkKSA9PT0gMCkgIT09IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbXBhcmVJdGVyLmdvVG8oY2l0ZW0gPT4gc291cmNlLnVpZC5jb21wYXJlKGNpdGVtLnVpZCkgPT09IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbXBhcmVJdGVtcy5wdXNoKGZvdW5kID8gY29tcGFyZUl0ZXIuY3VycmVudCA6IG5ldyBDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSkpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZU9uZShzb3VyY2VJdGVtcywgY29tcGFyZUl0ZW1zLCBjb21wdXRlZEl0ZW1zLCBhY2Nlc3Nvcik7XG5cbiAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgICBjb21wdXRlZEl0ZW1zLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICB9IHdoaWxlIChzb3VyY2VJdGVyLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIE1lcmdlIHVzaW5nIG9yaWdVaWQsIG5vdCB1aWRcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZEFycmF5KTtcblxuICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoZmlyc3RVaWQsIGxhc3RVaWQsIGNvbXB1dGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENPUkNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ09SQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGNvbXBhcmUgPSBjb21wYXJlSXRlbXMubGFzdE9yRGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBwID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgY29uc3QgcyA9IGNvbXBhcmUgPyBhY2Nlc3Nvcihjb21wYXJlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDT1JDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIC8vIEJvdGggdmFsdWVzIHNob3VsZCBwcmVzZW50XG4gICAgICAgIGNvbXB1dGVkLnAgPSAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCkgPyBwIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5zID0gKHAgIT09IHVuZGVmaW5lZCAmJiBzICE9PSB1bmRlZmluZWQpID8gcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQucDIgPSAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCkgPyBwICogcCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuczIgPSAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCkgPyBzICogcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQucHhzID0gKHAgIT09IHVuZGVmaW5lZCAmJiBzICE9PSB1bmRlZmluZWQpID8gcCAqIHMgOiB1bmRlZmluZWQ7ICAgIC8vIFAgeCBTXG5cbiAgICAgICAgLy8gQVZHIG9mIHNvdXJjZVxuICAgICAgICBjb25zdCBsYXN0QXZnUCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z3AgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z3AgPSB0aGlzLm1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPENPUkNhbmRsZXN0aWNrPml0ZW0pLnAsIGNvbXB1dGVkLCBsYXN0QXZnUCk7XG5cbiAgICAgICAgLy8gQVZHIG9mIGNvbXBhcmVcbiAgICAgICAgY29uc3QgbGFzdEF2Z1MgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5hdmdzIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5hdmdzID0gdGhpcy5tYS5jb21wdXRlKE4sIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxDT1JDYW5kbGVzdGljaz5pdGVtKS5zLCBjb21wdXRlZCwgbGFzdEF2Z1MpO1xuXG4gICAgICAgIC8vIEFWRyBvZiBzcXVhcmVkIHNvdXJjZVxuICAgICAgICBjb25zdCBsYXN0QXZnUDIgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5hdmdwMiA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuYXZncDIgPSB0aGlzLm1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPENPUkNhbmRsZXN0aWNrPml0ZW0pLnAyLCBjb21wdXRlZCwgbGFzdEF2Z1AyKTtcblxuICAgICAgICAvLyBBVkcgb2Ygc3F1YXJlZCBjb21wYXJlXG4gICAgICAgIGNvbnN0IGxhc3RBdmdTMiA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z3MyIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5hdmdzMiA9IHRoaXMubWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8Q09SQ2FuZGxlc3RpY2s+aXRlbSkuczIsIGNvbXB1dGVkLCBsYXN0QXZnUzIpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgUCB4IFMgYXZlcmFnZVxuICAgICAgICBjb25zdCBsYXN0QXZnUHhTID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYXZncHhzIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5hdmdweHMgPSB0aGlzLm1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPENPUkNhbmRsZXN0aWNrPml0ZW0pLnB4cywgY29tcHV0ZWQsIGxhc3RBdmdQeFMpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgY29ycmVsYXRpb25cbiAgICAgICAgaWYgKGNvbXB1dGVkLmF2Z3AgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5hdmdzICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuYXZncDIgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5hdmdzMiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAmJiBjb21wdXRlZC5hdmdweHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFuY2VQID0gY29tcHV0ZWQuYXZncDIgLSAoY29tcHV0ZWQuYXZncCAqIGNvbXB1dGVkLmF2Z3ApO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFuY2VTID0gY29tcHV0ZWQuYXZnczIgLSAoY29tcHV0ZWQuYXZncyAqIGNvbXB1dGVkLmF2Z3MpO1xuICAgICAgICAgICAgY29uc3QgY292YXJpYW5jZSA9IGNvbXB1dGVkLmF2Z3B4cyAtIChjb21wdXRlZC5hdmdwICogY29tcHV0ZWQuYXZncyk7XG4gICAgICAgICAgICBpZiAodmFyaWFuY2VQICE9PSAwICYmIHZhcmlhbmNlUyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcnJlbGF0aW9uID0gY292YXJpYW5jZSAvIE1hdGguc3FydCh2YXJpYW5jZVAgKiB2YXJpYW5jZVMpO1xuXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IGlzTmFOKGNvcnJlbGF0aW9uKSA/IHVuZGVmaW5lZCA6IGNvcnJlbGF0aW9uO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAtMSwgZW5kOiAxIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLmNvbnRleHQucmVnaXN0ZXIubGlzdCgpO1xuICAgICAgICBzb3VyY2VzLnB1c2gobmV3IElkVmFsdWUoJycsICcnKSk7XG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3VpZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd1aWQnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb21wYXJlJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnVpZCxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBzb3VyY2VzLm1hcChpdGVtID0+IHsgcmV0dXJuIHsgdmFsdWU6IGl0ZW0uaWQsIHRleHQ6IGl0ZW0udmFsdWUgfTsgfSlcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCB1aWQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnVpZCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnVpZCA9ICh1aWQgJiYgdWlkLnZhbHVlKSA/IHVpZC52YWx1ZSA6IHRoaXMuZXh0c2V0dGluZ3MudWlkO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBDT1JTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZDogbnVtYmVyID0gMTA7XG4gICAgcHVibGljIHVpZDogc3RyaW5nfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgdmFsdWVUeXBlOiBWYWx1ZUFjY2Vzc29yVHlwZSA9IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlO1xufVxuIiwiLyoqXHJcbiAqIFxyXG4gKi9cclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5kbGVzdGlja0V4dCBleHRlbmRzIENhbmRsZXN0aWNrIHtcclxuICAgIHB1YmxpYyB1aWRPcmlnOiBVaWQgPSBuZXcgVWlkKCk7XHJcbiAgICBwdWJsaWMgaXNGYWtlOiBib29sZWFuID0gZmFsc2U7XHJcbn1cclxuIiwiLyoqXG4gKiBEb3VibGUgRXhwb25lbnRpYWwgTW92aW5nIEF2ZXJhZ2UgSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuZXhwb3J0IGNsYXNzIERFTUFDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgRU1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIERFTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIERFTUFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8REVNQUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoREVNQUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnREVNQSc7XG5cbiAgICAgICAgdGhpcy5lbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuRXhwb25lbnRpYWwpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8REVNQUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogREVNQUNhbmRsZXN0aWNrIHtcblxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7IC8vIHNvdXJjZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0uXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IERFTUFDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyAxLiBDb21wdXRlIEVNQVxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVNQSA9IHRoaXMuZW1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZEVNQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuRU1BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gQ29tcHV0ZSBERU1BLiBPbiBiYXNlIG9mIGNvbXB1dGVkIEVNQVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZERFTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5ERU1BIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZGluZyBsYXN0IGNvbXB1dGVkIEVNQSB0byBjYWxjdWxhdGUgREVNQVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5ERU1BID0gdGhpcy5lbWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8REVNQUNhbmRsZXN0aWNrPml0ZW0pLkVNQSwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZERFTUEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuREVNQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gMiAqIGNvbXB1dGVkLkVNQSAtIGNvbXB1dGVkLkRFTUE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBEaXNwYXJpdHkgSW5kZXggb3NjaWxsYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIERJWCA9IDEwMCAqIChjbG9zZSAtIE1BKSAvIE1BXG5cbmV4cG9ydCBjbGFzcyBESVhPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RJWCc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5TaW1wbGUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBtYSA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gMTAwICogKHZhbHVlIC0gbWEpIC8gbWE7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBEaXJlY3Rpb25hbCBNb3ZlbWVudCBJbmRleCBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHtcbiAgICBEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcbiAgICBVcERpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24sXG4gICAgVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuZXhwb3J0IGNsYXNzIERNSUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIC8qKiBcbiAgICAgKiBTbW9vdGhlZCBUUlxuICAgICAqL1xuICAgIHB1YmxpYyBUUkE6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBTbW9vdGhlZCArRE1cbiAgICAgKi9cbiAgICBwdWJsaWMgcERNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIFNtb290aGVkIC1ETVxuICAgICAqL1xuICAgIHB1YmxpYyBtRE1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBTbW9vdGhlZCArRElcbiAgICAgKi9cbiAgICBwdWJsaWMgcERJOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogU21vb3RoZWQgLURJXG4gICAgICovXG4gICAgcHVibGljIG1ESTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAnRFg6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnICtESTogJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLnBESSAhPT0gdW5kZWZpbmVkID8gdGhpcy5wREkudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC1ESSAnXG4gICAgICAgICAgICArIGAke3RoaXMubURJICE9PSB1bmRlZmluZWQgPyB0aGlzLm1ESS50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERNSUluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxETUlDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJvdGVjdGVkIHdtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoRE1JQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdETUknO1xuXG4gICAgICAgIHRoaXMud21hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLldpbGRlcik7XG4gICAgICAgIC8vdGhpcy5hZHhtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5BRFgpO1xuXG4gICAgICAgIC8vIERNSSByZXF1aXJlcyBUUiwgK0RNLCAtRE1cbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKFRydWVSYW5nZUV4dGVuc2lvbi51bmFtZSwgbmV3IFRydWVSYW5nZUV4dGVuc2lvbigpKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbi51bmFtZSwgbmV3IFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbigpKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLnVuYW1lLCBuZXcgRG93bkRpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24oKSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERNSUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRE1JQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBETUlDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBVc2luZyBXaWxkZXIgZm9yIHNtb290aGluZyArRE0sIC1ETSwgVFJcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFBETUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5leHRbJ3BkbSddIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLnBETUEgPSB0aGlzLndtYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBpdGVtID0+IGl0ZW0uZXh0WydwZG0nXSwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRQRE1BKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZE1ETUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5leHRbJ21kbSddIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLm1ETUEgPSB0aGlzLndtYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBpdGVtID0+IGl0ZW0uZXh0WydtZG0nXSwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRNRE1BKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFRSQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmV4dFsndHInXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5UUkEgPSB0aGlzLndtYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBpdGVtID0+IGl0ZW0uZXh0Wyd0ciddLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFRSQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQucERNQSAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLm1ETUEgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5UUkEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHNtb290aGVkICtESSwgLURJXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBESSA9IChjb21wdXRlZC5wRE1BIC8gY29tcHV0ZWQuVFJBKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbURJID0gKGNvbXB1dGVkLm1ETUEgLyBjb21wdXRlZC5UUkEpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5wREkgPSBwREk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLm1ESSA9IG1ESTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIERYXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSAxMDAgKiBNYXRoLmFicyhwREkgLSBtREkpIC8gKHBESSArIG1ESSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERNSUluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzAwMjZGRicpO1xuICAgICAgICAvLyBKYXdcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERNSUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG1pID0gPERNSUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGRtaSAmJiBkbWkuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG1pLmM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkYwODAwJyk7XG4gICAgICAgIC8vIFRlZXRoXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBETUlDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRtaSA9IDxETUlDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkbWkgJiYgZG1pLm1ESSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG1pLm1ESTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzOTlGMTYnKTtcbiAgICAgICAgLy8gTGlwc1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRE1JQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkbWkgPSA8RE1JQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoZG1pICYmIGRtaS5wREkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRtaS5wREk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3Zpc3VhbCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBEb3VibGUgU21vb3RoZWQgU3RvY2hhc3RpYyBvc2NpbGxhdG9yIGNsYXNzLlxyXG4gKi9cclxuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XHJcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcclxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XHJcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XHJcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcclxuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XHJcblxyXG4vLyBEU1MgPSAxMDAgeCAoRU1BeShFTUF4KEMtTCkpKSAvIEVNQXkoRU1BeChIIC0gTCkpXHJcbi8vIERTUyhzbG93KSA9IEVNQShEU1MpXHJcblxyXG5leHBvcnQgY2xhc3MgRFNTQlJDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcclxuICAgIC8qKlxyXG4gICAgICogQyAtIExuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBDTDogbnVtYmVyfHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhuIC0gTG5cclxuICAgICAqL1xyXG4gICAgcHVibGljIEhMOiBudW1iZXJ8dW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBFTUExb2ZDTDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgcHVibGljIEVNQTFvZkhMOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIEVNQTJvZkNMOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICBwdWJsaWMgRU1BMm9mSEw6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgRFNTOiBudW1iZXJ8dW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBEU1NzbG93OiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuRFNTICE9PSB1bmRlZmluZWQgPyB0aGlzLkRTUy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXHJcbiAgICAgICAgICAgICsgJyAvICdcclxuICAgICAgICAgICAgKyBgJHt0aGlzLkRTU3Nsb3cgIT09IHVuZGVmaW5lZCA/IHRoaXMuRFNTc2xvdy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRFNTQlJPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERTU0JSQ2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcclxuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IERTU0JSU2V0dGluZ3MgPSBuZXcgRFNTQlJTZXR0aW5ncygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcclxuICAgICAgICBzdXBlcihEU1NCUkNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdEU1NCUic7XHJcblxyXG4gICAgICAgIHRoaXMuZW1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLLCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFgsIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERTU0JSQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEU1NCUkNhbmRsZXN0aWNrIHtcclxuXHJcbiAgICAgICAgY29uc3QgcGVyaW9kSyA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSztcclxuICAgICAgICBjb25zdCBwZXJpb2RYID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RYO1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZFogPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFo7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cclxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IERTU0JSQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xyXG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcclxuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gc291cmNlLmM7IC8vdGhpcy5hY2Nlc3Nvcihzb3VyY2UpO1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGluZyBtaW4vbWF4IHdpdGggY3VycmVudCB2YWx1ZVxyXG4gICAgICAgICAgICBjb25zdCBIID0gc291cmNlSXRlbXMubWF4KGMgPT4gYy5oLCBwZXJpb2RLKTsgICAvLyBoaWdoZXN0IGhpZ2ggZm9yIHRoZSBwZXJpb2RcclxuICAgICAgICAgICAgY29uc3QgTCA9IHNvdXJjZUl0ZW1zLm1pbihjID0+IGMubCwgcGVyaW9kSyk7ICAgLy8gbG93ZXN0IGxvdyBmb3IgdGhlIHBlcmlvZFxyXG5cclxuICAgICAgICAgICAgaWYgKEggIT09IHVuZGVmaW5lZCAmJiBMICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkNMID0gdmFsdWUgLSBMO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuSEwgPSBIIC0gTDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGZpcnN0IEVNQXhcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTFjbCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQTFvZkNMIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRU1BMW9mQ0wgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZFgsIHNvdXJjZUl0ZW1zLCBjID0+ICg8RFNTQlJDYW5kbGVzdGljaz5jKS5DTCwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEVNQTFjbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BMWhsID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1BMW9mSEwgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5FTUExb2ZITCA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kWCwgc291cmNlSXRlbXMsIGMgPT4gKDxEU1NCUkNhbmRsZXN0aWNrPmMpLkhMLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkRU1BMWhsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHNlY29uZCBFTUF5XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUEyY2wgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUEyb2ZDTCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVNQTJvZkNMID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2RYLCBzb3VyY2VJdGVtcywgYyA9PiAoPERTU0JSQ2FuZGxlc3RpY2s+YykuRU1BMW9mQ0wsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRFTUEyY2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTJobCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQTJvZkhMIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRU1BMm9mSEwgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZFgsIHNvdXJjZUl0ZW1zLCBjID0+ICg8RFNTQlJDYW5kbGVzdGljaz5jKS5FTUExb2ZITCwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEVNQTJobCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkLkVNQTJvZkNMICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuRU1BMm9mSEwgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5FTUEyb2ZITCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgRFNTXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuRFNTID0gMTAwICogY29tcHV0ZWQuRU1BMm9mQ0wgLyBjb21wdXRlZC5FTUEyb2ZITDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBEU1Mgc2xvd1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZERTU3Nsb3cgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5EU1NzbG93IDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLkRTU3Nsb3cgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZFosIHNvdXJjZUl0ZW1zLCBjID0+ICg8RFNTQlJDYW5kbGVzdGljaz5jKS5EU1MsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWREU1NzbG93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IDAsIGVuZDogMTAwIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RLJywgbmV3IFNldHRpbmdTZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kSycsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnU3RvY2hhc3RpYyBwZXJpb2QnXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RYJywgbmV3IFNldHRpbmdTZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kWCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFgudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnU21vb3RoaW5nIHBlcmlvZCdcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZFonLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RaJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWi50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdUcmlnZ2VyIHBlcmlvZCdcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBncm91cDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBwZXJpb2RLID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RLJyk7XHJcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLID0gKHBlcmlvZEsgJiYgcGVyaW9kSy52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RLLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEs7XHJcblxyXG4gICAgICAgIGNvbnN0IHBlcmlvZFggPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZFgnKTtcclxuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFggPSAocGVyaW9kWCAmJiBwZXJpb2RYLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZFgudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWDtcclxuXHJcbiAgICAgICAgY29uc3QgcGVyaW9kWiA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kWicpO1xyXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWiA9IChwZXJpb2RaICYmIHBlcmlvZFoudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kWi52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RaO1xyXG5cclxuICAgICAgICAvLyByZWNvbXB1dGVcclxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRFNTQlJTZXR0aW5ncyB7XHJcbiAgICBwdWJsaWMgcGVyaW9kSzogbnVtYmVyID0gMTQ7ICAgIC8vIHN0b2NoYXN0aWMgcGVyaW9kXHJcbiAgICBwdWJsaWMgcGVyaW9kWDogbnVtYmVyID0gMzsgICAgIC8vIHNtb290aGluZyBwZXJpb2RzXHJcbiAgICAvL3B1YmxpYyBwZXJpb2RZOiBudW1iZXIgPSAzO1xyXG4gICAgcHVibGljIHBlcmlvZFo6IG51bWJlciA9IDM7ICAgICAvLyBUcmlnZ2VyIHBlcmlvZFxyXG4gICAgY29uc3RydWN0b3IoKSB7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERTU0JST3NjaWxsYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcclxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMwMEI3MzAnKTtcclxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEU1NCUkNhbmRsZXN0aWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3VibGUgPSA8RFNTQlJDYW5kbGVzdGljaz5pdGVtO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvdWJsZS5EU1MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3QgeCA9IHRpbWVBeGlzLnRvWChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkb3VibGUuRFNTO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNCNTAwMjEnKTtcclxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEU1NCUkNhbmRsZXN0aWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3VibGUgPSA8RFNTQlJDYW5kbGVzdGljaz5pdGVtO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvdWJsZS5EU1NzbG93ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRvdWJsZS5EU1NzbG93O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcclxuXHJcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBFeHBvbmVudGlhbCBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgRU1BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0VNQSc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFZhbHVlID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcclxuICogSGlnaGVzdCBIaWdoIC8gTG93ZXN0IExvdyBJbmRpY2F0b3IgY2xhc3MuXHJcbiAqL1xyXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxyXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XHJcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XHJcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcclxuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRG91YmxlQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XHJcblxyXG4gICAgcHVibGljIGhoOiBDYW5kbGVzdGljaztcclxuICAgIHB1YmxpYyBsbDogQ2FuZGxlc3RpY2s7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRhdGU6IERhdGUsIGM/OiBudW1iZXIsIG8/OiBudW1iZXIsIGg/OiBudW1iZXIsIGw/OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcclxuXHJcbiAgICAgICAgdGhpcy5oaCA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcclxuICAgICAgICB0aGlzLmxsID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLmhoICYmIHRoaXMuaGguYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5oaC5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcclxuICAgICAgICAgICAgKyAnIC8gJ1xyXG4gICAgICAgICAgICArIGAke3RoaXMubGwgJiYgdGhpcy5sbC5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmxsLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhITExJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8RG91YmxlQ2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XHJcbiAgICAgICAgc3VwZXIoRG91YmxlQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ0hITEwnO1xyXG5cclxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERvdWJsZUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRG91YmxlQ2FuZGxlc3RpY2sge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgRG91YmxlQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xyXG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhoID0gc291cmNlSXRlbXMubWF4KGl0ZW0gPT4gaXRlbS5oKTtcclxuICAgICAgICAgICAgY29uc3QgbGwgPSBzb3VyY2VJdGVtcy5taW4oaXRlbSA9PiBpdGVtLmwpO1xyXG5cclxuICAgICAgICAgICAgY29tcHV0ZWQuaGguYyA9IGhoO1xyXG4gICAgICAgICAgICBjb21wdXRlZC5oaC5oID0gaGg7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmhoLmwgPSBoaDtcclxuXHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmxsLmMgPSBsbDtcclxuICAgICAgICAgICAgY29tcHV0ZWQubGwuaCA9IGxsO1xyXG4gICAgICAgICAgICBjb21wdXRlZC5sbC5sID0gbGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xyXG5cclxuICAgICAgICAvLyByZWNvbXB1dGVcclxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhITExJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGNTkwMCcpO1xyXG4gICAgICAgIC8vIFVwXHJcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRG91YmxlQ2FuZGxlc3RpY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSA8RG91YmxlQ2FuZGxlc3RpY2s+aXRlbTtcclxuICAgICAgICAgICAgICAgIGlmIChkICYmIGQuaGggJiYgZC5oaC5jICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQuaGguYztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XHJcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjM0Q1QUZGJyk7XHJcbiAgICAgICAgLy8gRG93blxyXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gPERvdWJsZUNhbmRsZXN0aWNrPml0ZW07XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAmJiBkLmxsICYmIGQubGwuYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLmxsLmM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXHJcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBJY2hpbW9rdSBLaW5rbyBIeW8gaW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gVGVua2FuLXNlbiAoQ29udmVyc2lvbiBMaW5lKTogKDktcGVyaW9kIGhpZ2ggKyA5LXBlcmlvZCBsb3cpLzIpKVxuLy8gS2lqdW4tc2VuIChCYXNlIExpbmUpOiAoMjYtcGVyaW9kIGhpZ2ggKyAyNi1wZXJpb2QgbG93KS8yKSlcbi8vIFNlbmtvdSBTcGFuIEEgKExlYWRpbmcgU3BhbiBBKTogKENvbnZlcnNpb24gTGluZSArIEJhc2UgTGluZSkvMikpXG4vLyBTZW5rb3UgU3BhbiBCIChMZWFkaW5nIFNwYW4gQik6ICg1Mi1wZXJpb2QgaGlnaCArIDUyLXBlcmlvZCBsb3cpLzIpKVxuLy8gQ2hpa291IFNwYW4gKExhZ2dpbmcgU3BhbilcblxuZXhwb3J0IGNsYXNzIElLSENhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIC8qKlxuICAgICAqIENvbnZlcnNpb24gbGluZVxuICAgICAqL1xuICAgIHB1YmxpYyBjb252ZXJzaW9uOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBMaW5lXG4gICAgICovXG4gICAgcHVibGljIGJhc2U6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBMZWFkaW5nIFNwYW4gQVxuICAgICAqL1xuICAgIHB1YmxpYyBsZWFkaW5nQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBsZWFkaW5nQVNoaWZ0ZWQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIExlYWRpbmcgU3BhbiBCXG4gICAgICovXG4gICAgcHVibGljIGxlYWRpbmdCOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIGxlYWRpbmdCU2hpZnRlZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogTGFnZ2luZyBTcGFuXG4gICAgICovXG4gICAgcHVibGljIGxhZ2dpbmc6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgbGFnZ2luZ1NoaWZ0ZWQ6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgICArIGAke3RoaXMuY29udmVyc2lvbiAhPT0gdW5kZWZpbmVkID8gdGhpcy5jb252ZXJzaW9uLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyAvICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5iYXNlICE9PSB1bmRlZmluZWQgPyB0aGlzLmJhc2UudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmxlYWRpbmdBU2hpZnRlZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5sZWFkaW5nQVNoaWZ0ZWQudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmxlYWRpbmdCU2hpZnRlZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5sZWFkaW5nQlNoaWZ0ZWQudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmxhZ2dpbmdTaGlmdGVkICE9PSB1bmRlZmluZWQgPyB0aGlzLmxhZ2dpbmdTaGlmdGVkLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSUtISW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPElLSENhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dHNldHRpbmdzOiBJS0hTZXR0aW5ncyA9IG5ldyBJS0hTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihJS0hDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0lLSCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmV4dHNldHRpbmdzLnBlcmlvZENvbnZlcnNpb24sIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQmFzZSwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTcGFuQik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxJS0hDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IElLSENhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBwZXJpb2RDb252ZXJzaW9uID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RDb252ZXJzaW9uO1xuICAgICAgICBjb25zdCBwZXJpb2RCYXNlID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RCYXNlO1xuICAgICAgICBjb25zdCBwZXJpb2RTcGFuQiA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU3BhbkI7XG4gICAgICAgIGNvbnN0IGlraERpc3BsYWNlbWVudCA9IHRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50O1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IElLSENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2UuYzsgLy90aGlzLmFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGluZyBDb252ZXJzaW9uIExpbmVcbiAgICAgICAgICAgIGNvbnN0IEgxID0gc291cmNlSXRlbXMubWF4KGMgPT4gYy5oLCBwZXJpb2RDb252ZXJzaW9uKTsgICAvLyBoaWdoZXN0IGhpZ2ggZm9yIHRoZSBwZXJpb2RcbiAgICAgICAgICAgIGNvbnN0IEwxID0gc291cmNlSXRlbXMubWluKGMgPT4gYy5sLCBwZXJpb2RDb252ZXJzaW9uKTsgICAvLyBsb3dlc3QgbG93IGZvciB0aGUgcGVyaW9kXG4gICAgICAgICAgICBpZiAoSDEgIT09IHVuZGVmaW5lZCAmJiBMMSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jb252ZXJzaW9uID0gKEgxICsgTDEpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcHV0aW5nIEJhc2UgTGluZVxuICAgICAgICAgICAgY29uc3QgSDIgPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIHBlcmlvZEJhc2UpOyAgIC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgTDIgPSBzb3VyY2VJdGVtcy5taW4oYyA9PiBjLmwsIHBlcmlvZEJhc2UpOyAgIC8vIGxvd2VzdCBsb3cgZm9yIHRoZSBwZXJpb2RcbiAgICAgICAgICAgIGlmIChIMiAhPT0gdW5kZWZpbmVkICYmIEwyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5iYXNlID0gKEgyICsgTDIpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcHV0aW5nIExlYWRpbmcgU3BhbiBBXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQuYmFzZSAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLmNvbnZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmxlYWRpbmdBID0gKGNvbXB1dGVkLmJhc2UgKyBjb21wdXRlZC5jb252ZXJzaW9uKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGluZyBMZWFkaW5nIFNwYW4gQlxuICAgICAgICAgICAgY29uc3QgSDMgPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIHBlcmlvZFNwYW5CKTsgICAvLyBoaWdoZXN0IGhpZ2ggZm9yIHRoZSBwZXJpb2RcbiAgICAgICAgICAgIGNvbnN0IEwzID0gc291cmNlSXRlbXMubWluKGMgPT4gYy5sLCBwZXJpb2RTcGFuQik7ICAgLy8gbG93ZXN0IGxvdyBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgaWYgKEgzICE9PSB1bmRlZmluZWQgJiYgTDMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmxlYWRpbmdCID0gKEgzICsgTDMpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcHV0aW5nIExhZ2dpbmcgU3BhblxuICAgICAgICAgICAgY29tcHV0ZWQubGFnZ2luZyA9IHNvdXJjZS5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZnRlckNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCkge1xuICAgICAgICAvLyBBZnRlciBjb21wdXRlIHNoaWZ0IExhZ2dpbmcgYW5kIExlYWRpbmcgbGluZXNcblxuICAgICAgICAvLyBMZWFkaW5nIHNoaWZ0aW5nIHRvIHJpZ2h0XG4gICAgICAgIHRoaXMuc2hpZnREYXRhRXh0KHRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50LCAoZGVzdCwgc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVzdCAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmxlYWRpbmdBU2hpZnRlZCA9IHNvdXJjZS5sZWFkaW5nQTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVzdCkge1xuICAgICAgICAgICAgICAgIGRlc3QubGVhZGluZ0FTaGlmdGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMZWFkaW5nIHNoaWZ0aW5nIHRvIHJpZ2h0XG4gICAgICAgIHRoaXMuc2hpZnREYXRhRXh0KHRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50LCAoZGVzdCwgc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVzdCAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmxlYWRpbmdCU2hpZnRlZCA9IHNvdXJjZS5sZWFkaW5nQjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVzdCkge1xuICAgICAgICAgICAgICAgIGRlc3QubGVhZGluZ0JTaGlmdGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMZWFkaW5nIHNoaWZ0aW5nIHRvIHJpZ2h0XG4gICAgICAgIHRoaXMuc2hpZnREYXRhRXh0KC10aGlzLmV4dHNldHRpbmdzLmlraERpc3BsYWNlbWVudCwgKGRlc3QsIHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlc3QgJiYgc291cmNlKSB7XG4gICAgICAgICAgICAgICAgZGVzdC5sYWdnaW5nU2hpZnRlZCA9IHNvdXJjZS5sYWdnaW5nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXN0KSB7XG4gICAgICAgICAgICAgICAgZGVzdC5sYWdnaW5nU2hpZnRlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RDb252ZXJzaW9uJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZENvbnZlcnNpb24nLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQ29udmVyc2lvbi50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Rlbmthbi1TZW4gcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kQmFzZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RCYXNlJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEJhc2UudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdLaWp1bi1TZW4gcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kU3BhbkInLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kU3BhbkInLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU3BhbkIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdTZW5rb3UgU3BhbiBCIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2lraERpc3BsYWNlbWVudCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdpa2hEaXNwbGFjZW1lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50LnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnRGlzcGxhY21lbnQnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZENvbnZlcnNpb24gPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZENvbnZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RDb252ZXJzaW9uID0gKHBlcmlvZENvbnZlcnNpb24gJiYgcGVyaW9kQ29udmVyc2lvbi52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RDb252ZXJzaW9uLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZENvbnZlcnNpb247XG5cbiAgICAgICAgY29uc3QgcGVyaW9kQmFzZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kQmFzZScpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEJhc2UgPSAocGVyaW9kQmFzZSAmJiBwZXJpb2RCYXNlLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZEJhc2UudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQmFzZTtcblxuICAgICAgICBjb25zdCBwZXJpb2RTcGFuQiA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kU3BhbkInKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTcGFuQiA9IChwZXJpb2RTcGFuQiAmJiBwZXJpb2RTcGFuQi52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RTcGFuQi52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTcGFuQjtcblxuICAgICAgICBjb25zdCBpa2hEaXNwbGFjZW1lbnQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLmlraERpc3BsYWNlbWVudCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLmlraERpc3BsYWNlbWVudCA9IChpa2hEaXNwbGFjZW1lbnQgJiYgaWtoRGlzcGxhY2VtZW50LnZhbHVlKSA/IHBhcnNlSW50KGlraERpc3BsYWNlbWVudC52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5pa2hEaXNwbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgSUtIU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBwZXJpb2RDb252ZXJzaW9uOiBudW1iZXIgPSA5OyAgICAvLyBDb252ZXJzaW9uIExpbmUgcGVyaW9kXG4gICAgcHVibGljIHBlcmlvZEJhc2U6IG51bWJlciA9IDI2OyAgICAgLy8gQmFzZSBMaW5lIHBlcmlvZFxuICAgIHB1YmxpYyBwZXJpb2RTcGFuQjogbnVtYmVyID0gNTI7ICAgICAvLyBMZWFkaW5nIFNwYW4gQiBwZXJpb2RcbiAgICBwdWJsaWMgaWtoRGlzcGxhY2VtZW50OiBudW1iZXIgPSAyNjtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgSUtISW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzI2N0YwMCcpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSUtIQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpa2ggPSA8SUtIQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoaWtoLmNvbnZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlraC5jb252ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRDMwMDAwJyk7XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBJS0hDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlraCA9IDxJS0hDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChpa2guYmFzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaWtoLmJhc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNEMzAwMDAnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIElLSENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWtoID0gPElLSENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGlraC5sZWFkaW5nQVNoaWZ0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlraC5sZWFkaW5nQVNoaWZ0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNEMzAwMDAnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIElLSENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWtoID0gPElLSENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGlraC5sZWFkaW5nQlNoaWZ0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlraC5sZWFkaW5nQlNoaWZ0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMyNjdGMDAnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIElLSENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWtoID0gPElLSENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGlraC5sYWdnaW5nU2hpZnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaWtoLmxhZ2dpbmdTaGlmdGVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgncmVuZGVyZXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIEluZGljYXRvckZhYnJpYyBjbGFzcy5cbiAqIFxuICogQGNsYXNzZGVzYyBDcmVhdGVzIGluZGljYXRvciBpbnN0YW5jZXMuXG4gKi9cblxuaW1wb3J0IHsgSUNvbnRleHQsIElEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbnN0YW5jZUNyZWF0b3Ige1xuICAgIG5ldyhzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihcbiAgICBpbmRpY2F0b3JJZDogc3RyaW5nLFxuICAgIGNyZWF0b3I6IElJbnN0YW5jZUNyZWF0b3IpIHtcblxuICAgIEluZGljYXRvckZhYnJpYy5pbnN0YW5jZS5yZWdpc3RlcihpbmRpY2F0b3JJZCwgY3JlYXRvcik7XG59XG5cbmV4cG9ydCBjbGFzcyBJbmRpY2F0b3JGYWJyaWMge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBJbmRpY2F0b3JGYWJyaWM7XG4gICAgcHJpdmF0ZSBjdG9yczogSUhhc2hUYWJsZTxJSW5zdGFuY2VDcmVhdG9yPiA9IHt9O1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogSW5kaWNhdG9yRmFicmljIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBJbmRpY2F0b3JGYWJyaWMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3RlcihpbmRpY2F0b3JJZDogc3RyaW5nLCBjcmVhdG9yOiBJSW5zdGFuY2VDcmVhdG9yKSB7XG4gICAgICAgIHRoaXMuY3RvcnNbaW5kaWNhdG9ySWRdID0gY3JlYXRvcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5zdGFudGlhdGUoXG4gICAgICAgIGluZGljYXRvcklkOiBzdHJpbmcsXG4gICAgICAgIHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LFxuICAgICAgICBjb250ZXh0OiBJQ29udGV4dCk6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiB7XG5cbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY3RvcnNbaW5kaWNhdG9ySWRdO1xuICAgICAgICBpZiAoY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGljYXRvciB3aXRoIGlkPSR7aW5kaWNhdG9ySWR9IGlzIG5vdCByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBNb3ZpbmcgQXZlcmFnZSBDb252ZXJnZW5jZS9EaXZlcmdlbmNlIG9zY2lsbGF0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSwgSUluZGljYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBNQUNEIExpbmUgPSBFTUEgMTIgLSBFTUEgMjZcbi8vIFNpZ25hbCBsaW5lID0gRU1BKE1BQ0QpXG4vLyBIaXN0b3JnYW0gPSBNQUNEIC0gU2lnbmFsXG5cbmV4cG9ydCBjbGFzcyBNQUNEQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICBwdWJsaWMgRU1BZmFzdDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBFTUFzbG93OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogTUFDRCBsaW5lXG4gICAgICovXG4gICAgcHVibGljIE1BQ0Q6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBTaWduYWwgbGluZVxuICAgICAqL1xuICAgIHB1YmxpYyBTSUc6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBIaXN0b2dyYW1cbiAgICAgKi9cbiAgICBwdWJsaWMgSElTOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuICdNQUNEOiAnXG4gICAgICAgICAgICArIGAke3RoaXMuTUFDRCAhPT0gdW5kZWZpbmVkID8gdGhpcy5NQUNELnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyBTSUc6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5TSUcgIT09IHVuZGVmaW5lZCA/IHRoaXMuU0lHLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyBISVM6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5ISVMgIT09IHVuZGVmaW5lZCA/IHRoaXMuSElTLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTUFDREluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxNQUNEQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByb3RlY3RlZCBlbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogTUFDRFNldHRpbmdzID0gbmV3IE1BQ0RTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihNQUNEQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNQUNEJztcblxuICAgICAgICB0aGlzLmVtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEZhc3QsIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU2xvdywgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTaWduYWwpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8TUFDRENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogTUFDRENhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBwZXJpb2RGYXN0ID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RGYXN0O1xuICAgICAgICBjb25zdCBwZXJpb2RTbG93ID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTbG93O1xuICAgICAgICBjb25zdCBwZXJpb2RTaWcgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNpZ25hbDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IE1BQ0RDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBTbG93IEVNQVxuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1Bc2xvdyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQXNsb3cgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5FTUFzbG93ID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2RTbG93LCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkRU1Bc2xvdyk7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgRmFzdCBFTUFcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQWZhc3QgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUFmYXN0IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuRU1BZmFzdCA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kRmFzdCwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZEVNQWZhc3QpO1xuXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQuRU1Bc2xvdyAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLkVNQWZhc3QgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBNQUNEIGxpbmVcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5NQUNEID0gY29tcHV0ZWQuRU1BZmFzdCAtIGNvbXB1dGVkLkVNQXNsb3c7XG5cbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIFNpZ25hbCBsaW5lXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU2lnID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuU0lHIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLlNJRyA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kU2lnLCBjb21wdXRlZEFycmF5LCBjID0+ICg8TUFDRENhbmRsZXN0aWNrPmMpLk1BQ0QsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRTaWcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkLlNJRyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGVkIEhpc3RvZ3JhbVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5ISVMgPSBjb21wdXRlZC5NQUNEIC0gY29tcHV0ZWQuU0lHO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBjb21wdXRlZC5NQUNEO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBNYXRoLm1heChjb21wdXRlZC5NQUNELCBjb21wdXRlZC5TSUcgIT09IHVuZGVmaW5lZCA/IGNvbXB1dGVkLlNJRyA6IC1JbmZpbml0eSwgY29tcHV0ZWQuSElTICE9PSB1bmRlZmluZWQgPyBjb21wdXRlZC5ISVMgOiAtSW5maW5pdHkpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBNYXRoLm1pbihjb21wdXRlZC5NQUNELCBjb21wdXRlZC5TSUcgIT09IHVuZGVmaW5lZCA/IGNvbXB1dGVkLlNJRyA6IC1JbmZpbml0eSwgY29tcHV0ZWQuSElTICE9PSB1bmRlZmluZWQgPyBjb21wdXRlZC5ISVMgOiAtSW5maW5pdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kRmFzdCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RGYXN0JyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEZhc3QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdGYXN0IHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZFNsb3cnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kU2xvdycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTbG93LnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnU2xvdyBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RTaWduYWwnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kU2lnbmFsJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNpZ25hbC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1NpZ25hbCBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2RGYXN0ID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RGYXN0Jyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRmFzdCA9IChwZXJpb2RGYXN0ICYmIHBlcmlvZEZhc3QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kRmFzdC52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RGYXN0O1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZFNsb3cgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZFNsb3cnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTbG93ID0gKHBlcmlvZFNsb3cgJiYgcGVyaW9kU2xvdy52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RTbG93LnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNsb3c7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kU2lnbmFsID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RTaWduYWwnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTaWduYWwgPSAocGVyaW9kU2lnbmFsICYmIHBlcmlvZFNpZ25hbC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RTaWduYWwudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU2lnbmFsO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBNQUNEU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBwZXJpb2RGYXN0OiBudW1iZXIgPSAxMjsgICAgLy8gRmFzdCBwZXJpb2RcbiAgICBwdWJsaWMgcGVyaW9kU2xvdzogbnVtYmVyID0gMjY7ICAgICAvLyBTbG93IHBlcmlvZFxuICAgIHB1YmxpYyBwZXJpb2RTaWduYWw6IG51bWJlciA9IDk7ICAgICAvLyBTaWduYWwgcGVyaW9kXG4gICAgY29uc3RydWN0b3IoKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE1BQ0RJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIC8vIE1BQ0RcbiAgICAgICAgLy9cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMwMDI2RkYnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIE1BQ0RDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSA8TUFDRENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGMgJiYgYy5NQUNEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjLk1BQ0Q7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFNpZ25hbFxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDgwMCcpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgTUFDRENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IDxNQUNEQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoYyAmJiBjLlNJRyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYy5TSUc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIEhpc3RvZ3JhbVxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzM5OUYxNicpO1xuXG4gICAgICAgIGNvbnN0IHkwID0geUF4aXMudG9YKDApO1xuICAgICAgICBjb25zdCB3aSA9IGZyYW1lLncgLyB0aW1lQXhpcy5jb3VudDtcblxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhLCAoaXRlbSwgeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBNQUNEQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtID0gPE1BQ0RDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChtICYmIG0uSElTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChtLkhJUyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVjdCh4IC0gd2kgLyAyLCBNYXRoLm1pbih5LCB5MCksIHdpLCBNYXRoLmFicyh5IC0geTApKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oeCwgeTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBNZWFuIERldmlhdGlvbiBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSwgSUluZGljYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBNRCA9IEVNQShFTUEocHJpY2UgLSBFTUEocHJpY2UpKSlcblxuZXhwb3J0IGNsYXNzIE1EQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgcHVibGljIEVNQTE6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgRU1BMjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBkZXY6IG51bWJlciB8IHVuZGVmaW5lZDsgLy8gPSBwcmljZSAtIEVNQVxufVxuXG5leHBvcnQgY2xhc3MgTURJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8TURDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBlbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogTURTZXR0aW5ncyA9IG5ldyBNRFNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKE1EQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNRCc7XG5cbiAgICAgICAgdGhpcy5lbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuRXhwb25lbnRpYWwpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5leHRzZXR0aW5ncy5wZXJpb2QxLCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDIsIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxNRENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogTURDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kMSA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMTtcbiAgICAgICAgY29uc3QgcGVyaW9kMiA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMjtcbiAgICAgICAgY29uc3QgcGVyaW9kMyA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMztcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7IC8vIHNvdXJjZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0uXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpOyAvLyBjb21wdXRlZCBjYW4gY29udGFpbiBubyBpdGVtcy5cblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBNRENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUExID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1BMSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gMS4gQ29tcHV0ZSBFTUExXG4gICAgICAgICAgICBjb21wdXRlZC5FTUExID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2QxLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkRU1BMSk7XG5cbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5FTUExICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5kZXYgPSB2YWx1ZSAtIGNvbXB1dGVkLkVNQTE7XG5cbiAgICAgICAgICAgICAgICAvLyAyLiBDb21wdXRlIEVNQSAyIG9uIGJhc2Ugb2YgRU1BMVxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTIgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUEyIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVNQTIgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZDIsIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxNRENhbmRsZXN0aWNrPml0ZW0pLmRldiwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEVNQTIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkLkVNQTIgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgRU1BM1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUEzID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kMywgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPE1EQ2FuZGxlc3RpY2s+aXRlbSkuRU1BMiwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEVNQTMpO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kMScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QxJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDEudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcxc3Qgc21vb3RoaW5nIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZDInLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kMicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnMm5kIHNtb290aGluZyBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QzJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZDMnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMy50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJzNkIHNtb290aGluZyBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QxID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QxJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMSA9IChwZXJpb2QxICYmIHBlcmlvZDEudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kMS52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QxO1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZDIgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZDInKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyID0gKHBlcmlvZDIgJiYgcGVyaW9kMi52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QyLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDI7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kMyA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kMycpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDMgPSAocGVyaW9kMyAmJiBwZXJpb2QzLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZDMudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMztcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgTURTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZDE6IG51bWJlciA9IDE0OyAgICAvLyBzbW9vdGhpbmcgcGVyaW9kIDFcbiAgICBwdWJsaWMgcGVyaW9kMjogbnVtYmVyID0gMzsgICAgIC8vIHNtb290aGluZyBwZXJpb2QgMlxuICAgIHB1YmxpYyBwZXJpb2QzOiBudW1iZXIgPSAzOyAgICAgLy8gc21vb3RoaW5nIHBlcmlvZCAzXG4gICAgY29uc3RydWN0b3IoKSB7IH1cbn1cbiIsIi8qKlxuICogTW9tZW50dW0gSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIElJbmRpY2F0b3IgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBNb21lbnR1bSA9IENsb3NlW3RdIC0gQ2xvc2VbdC1OXVxuXG5leHBvcnQgY2xhc3MgTU9NSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTU9NJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucGVyaW9kICsgMTsgLy8gTU9NIHJlcXVpcmVzIG9uZSBleHRyYSBpdGVtXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG4gICAgICAgIGNvbnN0IEwgPSBzb3VyY2VJdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgaSA9IEwgLSAoTiArIDEpO1xuICAgICAgICBpZiAoaSA+PSAwICYmIGkgPCBzb3VyY2VJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBzb3VyY2VJdGVtcy5nZXRJdGVtKGkpO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBhY2Nlc3NvcihwcmV2KTtcblxuICAgICAgICAgICAgaWYgKGN1clZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJldlZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gY3VyVmFsdWUgLSBwcmV2VmFsdWU7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGVudW0gTW92aW5nQXZlcmFnZVR5cGUge1xyXG4gICAgQURYLFxyXG4gICAgRG91YmxlRXhwb25lbnRpYWwsXHJcbiAgICBFeHBvbmVudGlhbCxcclxuICAgIFNpbXBsZSxcclxuICAgIFNtb290aGVkLFxyXG4gICAgVHJpYW5ndWxhcixcclxuICAgIFRyaXBsZUV4cG9uZW50aWFsLFxyXG4gICAgV2VpZ2h0LFxyXG4gICAgV2lsZGVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG4gUmFuZ2VcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBDdXJyZW50IGl0ZW0gZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSBNQS4gSWYgbm90IHNwZWNpZmllZCwgdGhlbiBsYXN0IHZhbHVlIGZyb20gRlNBcnJheSBpcyBjb25zaWRlcmVkIGN1cnJlbnQuXHJcbiAgICAgKiBAcGFyYW0gcHJlY2VkaW5nVmFsdWVzIEl0ZW1zIGJlZm9yZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0gcHJlY2VkaW5nTW92aW5nQXZlcmFnZSBNQSB2YWx1ZSBmb3IgcHJldmlvdXMgaXRlbS5cclxuICAgICAqL1xyXG4gICAgY29tcHV0ZShuOiBudW1iZXIsXHJcbiAgICAgICAgICAgIHByZWNlZGluZ1ZhbHVlczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxyXG4gICAgICAgICAgICBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlPzogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBNb3ZpbmdBdmVyYWdlRmFjdG9yeTtcclxuXHJcbiAgICBwcml2YXRlIGFkeG1hID0gbmV3IEFEWE1vdmluZ0F2ZXJhZ2UoKTtcclxuICAgIHByaXZhdGUgZW1hID0gbmV3IEV4cG9uZW50aWFsTW92aW5nQXZlcmFnZSgpO1xyXG4gICAgcHJpdmF0ZSBzbWEgPSBuZXcgU2ltcGxlTW92aW5nQXZlcmFnZSgpO1xyXG4gICAgcHJpdmF0ZSBzbW1hID0gbmV3IFNtb290aGVkTW92aW5nQXZlcmFnZSgpO1xyXG4gICAgcHJpdmF0ZSB0bWEgPSBuZXcgVHJpYW5ndWxhck1vdmluZ0F2ZXJhZ2UoKTtcclxuICAgIHByaXZhdGUgd21hID0gbmV3IFdlaWdodE1vdmluZ0F2ZXJhZ2UoKTtcclxuICAgIHByaXZhdGUgd2lsZGVybWEgPSBuZXcgV2lsZGVyTW92aW5nQXZlcmFnZSgpO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBNb3ZpbmdBdmVyYWdlRmFjdG9yeSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZShtYVR5cGU6IE1vdmluZ0F2ZXJhZ2VUeXBlKTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XHJcbiAgICAgICAgc3dpdGNoIChtYVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBNb3ZpbmdBdmVyYWdlVHlwZS5BRFg6IHJldHVybiB0aGlzLmFkeG1hO1xyXG4gICAgICAgICAgICBjYXNlIE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsOiByZXR1cm4gdGhpcy5lbWE7XHJcbiAgICAgICAgICAgIGNhc2UgTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlOiByZXR1cm4gdGhpcy5zbWE7XHJcbiAgICAgICAgICAgIGNhc2UgTW92aW5nQXZlcmFnZVR5cGUuU21vb3RoZWQ6IHJldHVybiB0aGlzLnNtbWE7XHJcbiAgICAgICAgICAgIGNhc2UgTW92aW5nQXZlcmFnZVR5cGUuVHJpYW5ndWxhcjogcmV0dXJuIHRoaXMudG1hO1xyXG4gICAgICAgICAgICBjYXNlIE1vdmluZ0F2ZXJhZ2VUeXBlLldlaWdodDogcmV0dXJuIHRoaXMud21hO1xyXG4gICAgICAgICAgICBjYXNlIE1vdmluZ0F2ZXJhZ2VUeXBlLldpbGRlcjogcmV0dXJuIHRoaXMud2lsZGVybWE7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBtb3ZpbmcgYXZlcmFnZSB0eXBlPScgKyBtYVR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXhwb25lbnRpYWxNb3ZpbmdBdmVyYWdlIGltcGxlbWVudHMgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XHJcbiAgICBwcml2YXRlIHNtYSA9IG5ldyBTaW1wbGVNb3ZpbmdBdmVyYWdlKCk7XHJcbiAgICBwdWJsaWMgY29tcHV0ZShuOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgIGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxyXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XHJcblxyXG4gICAgICAgIGlmIChoYXZlQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBmaXJzdCA0IE1BIGFzIFNpbXBsZSBNQVxyXG4gICAgICAgIGlmIChwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlICE9PSB1bmRlZmluZWQgJiYgaGF2ZUNvdW50ID4gNCkge1xyXG4gICAgICAgICAgICAvLyBTdCA9IGEgKiBZdCArICgxIC0gYSkgKiBTdC0xO1xyXG4gICAgICAgICAgICBjb25zdCBhID0gMiAvIChuICsgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RWYWx1ZSA9IGFjY2Vzc29yKHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHByZWNlZGluZ1ZhbHVlcy5sYXN0KCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyBhICogbGFzdFZhbHVlICsgKDEgLSBhKSAqIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2VcclxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBwcmV2aW91cyBNQSB2YWx1ZSwgY2FsY3VsYXRlIGFzIHNpbXBsZSBtYTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc21hLmNvbXB1dGUobiwgcHJlY2VkaW5nVmFsdWVzLCBhY2Nlc3NvciwgdmFsdWUsIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2ltcGxlTW92aW5nQXZlcmFnZSBpbXBsZW1lbnRzIElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xyXG4gICAgcHVibGljIGNvbXB1dGUobjogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgdmFsdWU/OiBDYW5kbGVzdGljayxcclxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgdGFrZUNvdW50ID0gMDtcclxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XHJcbiAgICAgICAgaWYgKHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggPT09IDAgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJlY2VkaW5nVmFsdWVzLmxlbmd0aCA9PT0gMSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vIHByZXZpb3VzIHZhbHVlcywgcmV0dXJuIHRoZSBvbmx5IHZhbHVlXHJcbiAgICAgICAgICAgIHJldHVybiBhY2Nlc3NvcihwcmVjZWRpbmdWYWx1ZXMubGFzdCgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggPT09IDAgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBpZiBubyBwcmV2aW91cyB2YWx1ZXMsIHJldHVybiB0aGUgb25seSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzb3IodmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobiA+IGhhdmVDb3VudCkge1xyXG4gICAgICAgICAgICAvLyBpZiBub3QgZW5vdWdoIHZhbHVlcyB0byBidWlsZCBtb3ZpbmcgYXZlcmFnZSB1c2UgYXMgbXVjaCBhcyB3ZSBjYW4gZ2V0XHJcbiAgICAgICAgICAgIHRha2VDb3VudCA9IGhhdmVDb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGVub3VnaCB2YWx1ZXMgXHJcbiAgICAgICAgICAgIHRha2VDb3VudCA9IG47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc3VtID0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyBhY2Nlc3Nvcih2YWx1ZSkgfHwgMCA6IDApO1xyXG4gICAgICAgIGxldCBjb3VudGVyID0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XHJcbiAgICAgICAgdGFrZUNvdW50ID0gdGFrZUNvdW50IC0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XHJcbiAgICAgICAgLy8gQWRkIGxhc3QgdmFsdWVzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWtlQ291bnQ7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gYWNjZXNzb3IocHJlY2VkaW5nVmFsdWVzLmdldEl0ZW0ocHJlY2VkaW5nVmFsdWVzLmxlbmd0aCAtIChpICsgMSkpKTtcclxuICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3VtICs9IHY7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1bSAvIGNvdW50ZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFNtb290aGVkTW92aW5nQXZlcmFnZSBpbXBsZW1lbnRzIElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xyXG4gICAgcHJpdmF0ZSBzbWEgPSBuZXcgU2ltcGxlTW92aW5nQXZlcmFnZSgpO1xyXG4gICAgcHVibGljIGNvbXB1dGUobjogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgdmFsdWU/OiBDYW5kbGVzdGljayxcclxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGF2ZUNvdW50ID0gcHJlY2VkaW5nVmFsdWVzLmxlbmd0aCArICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMSA6IDApO1xyXG5cclxuICAgICAgICBpZiAoaGF2ZUNvdW50IDwgbikge1xyXG4gICAgICAgICAgICAvLyB1c2UgU2ltcGxlIE1vdmluZyBBdmVyYWdlIGlmIG5vdCBlbm91Z2ggZGF0YVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbWEuY29tcHV0ZShuLCBwcmVjZWRpbmdWYWx1ZXMsIGFjY2Vzc29yLCB2YWx1ZSwgcHJlY2VkaW5nTW92aW5nQXZlcmFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJldmlvdXMgbW92aW5nIGF2ZXJhZ2UgbXVzdCBiZSBzcGVjaWZpZWQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IGFjY2Vzc29yKHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHByZWNlZGluZ1ZhbHVlcy5sYXN0KCkpO1xyXG4gICAgICAgIHJldHVybiBjdXJWYWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgID8gKHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UgKiAobiAtIDEpICsgY3VyVmFsdWUpIC8gblxyXG4gICAgICAgICAgICAgICA6IHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFRyaWFuZ3VsYXJNb3ZpbmdBdmVyYWdlIGltcGxlbWVudHMgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XHJcbiAgICBwdWJsaWMgY29tcHV0ZShuOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgIGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxyXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XHJcblxyXG4gICAgICAgIC8vIElmIGFtb3VudCBvZiBpdGVtcyBpcyBub3QgZW5vdWdoIGRvIG5vdCBtYWtlIGNvbXB1dGF0aW9uLlxyXG4gICAgICAgIGlmIChuID4gaGF2ZUNvdW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtaWQgPSBNYXRoLnJvdW5kKG4gLyAyKTtcclxuXHJcbiAgICAgICAgbGV0IHN1bSA9ICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gbiAqIChhY2Nlc3Nvcih2YWx1ZSkgfHwgMCkgOiAwKTtcclxuICAgICAgICBsZXQgZGl2aWRlciA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9ICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMiA6IDEpO1xyXG4gICAgICAgIGxldCB0cmlhbmc7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gbjsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDw9IG1pZCkge1xyXG4gICAgICAgICAgICAgICAgdHJpYW5nID0gaTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyaWFuZyA9IG1pZCAtIChpIC0gbWlkKSArICgobiArIDEpICUgMik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBhY2Nlc3NvcihwcmVjZWRpbmdWYWx1ZXMuZ2V0SXRlbShwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoIC0gKChpIC0gc3RhcnRJbmRleCkgKyAxKSkpO1xyXG4gICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gdHJpYW5nICogdjtcclxuICAgICAgICAgICAgICAgIGRpdmlkZXIgKz0gdHJpYW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VtIC8gZGl2aWRlcjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgV2VpZ2h0TW92aW5nQXZlcmFnZSBpbXBsZW1lbnRzIElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xyXG4gICAgcHVibGljIGNvbXB1dGUobjogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgdmFsdWU/OiBDYW5kbGVzdGljayxcclxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGF2ZUNvdW50ID0gcHJlY2VkaW5nVmFsdWVzLmxlbmd0aCArICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMSA6IDApO1xyXG5cclxuICAgICAgICAvLyBJZiBhbW91bnQgb2YgaXRlbXMgaXMgbm90IGVub3VnaCB0aGVuIGNhbGN1bGF0ZSBmb3IgZGVjcmVhc2VkIE4gdmFsdWUuXHJcbiAgICAgICAgaWYgKG4gPiBoYXZlQ291bnQpIHtcclxuICAgICAgICAgICAgbiA9IGhhdmVDb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzdW0gPSAodmFsdWUgIT09IHVuZGVmaW5lZCA/IG4gKiAoYWNjZXNzb3IodmFsdWUpIHx8IDApIDogMCk7XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcclxuICAgICAgICBuID0gbiAtICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMSA6IDApO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBhY2Nlc3NvcihwcmVjZWRpbmdWYWx1ZXMuZ2V0SXRlbShwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoIC0gKGkgKyAxKSkpO1xyXG4gICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gKG4gLSBjb3VudGVyKSAqIHY7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdW0gLyB0aGlzLmRpdmlkZXIoY291bnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkaXZpZGVyKG46IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuICogKG4gKyAxKSAvIDI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFdpbGRlck1vdmluZ0F2ZXJhZ2UgaW1wbGVtZW50cyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5IHtcclxuICAgIHByaXZhdGUgc21hID0gbmV3IFNpbXBsZU1vdmluZ0F2ZXJhZ2UoKTtcclxuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ1ZhbHVlczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXHJcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlPzogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhdmVDb3VudCA9IHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggKyAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcclxuXHJcbiAgICAgICAgaWYgKGhhdmVDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgcHJldmlvdXMgTUEgdGhlbiB1c2UgaXRcclxuICAgICAgICBpZiAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1clZhbHVlID0gYWNjZXNzb3IodmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogcHJlY2VkaW5nVmFsdWVzLmxhc3QoKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJWYWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA/IChwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlICsgKHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UgLyBuKSArIGN1clZhbHVlKVxyXG4gICAgICAgICAgICAgICAgOiBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhdmVDb3VudCA+PSBuKSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0IGF2ZXJhZ2UgY2FsY3VsYXRlIGFzIHNpbXBsZSBhdmVyYWdlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNtYS5jb21wdXRlKG4sIHByZWNlZGluZ1ZhbHVlcywgYWNjZXNzb3IsIHZhbHVlLCBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdodCBkYXRhIGRvIG5vdCBjb21wdXRlXHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmlyc3QgLSBzaW1wbGUgYXZlcmFnZS5cclxuICogTmV4dCAtIChwcmV2IGF2ZyB4IChuIC0gMSkgKyBjdXJyZW50KSAvIG5cclxuICovXHJcbmNsYXNzIEFEWE1vdmluZ0F2ZXJhZ2UgaW1wbGVtZW50cyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5IHtcclxuICAgIHByaXZhdGUgc21hID0gbmV3IFNpbXBsZU1vdmluZ0F2ZXJhZ2UoKTtcclxuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcclxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ1ZhbHVlczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXHJcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlPzogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhdmVDb3VudCA9IHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggKyAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcclxuXHJcbiAgICAgICAgaWYgKGhhdmVDb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgcHJldmlvdXMgTUEgdGhlbiB1c2UgaXRcclxuICAgICAgICBpZiAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1clZhbHVlID0gYWNjZXNzb3IodmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogcHJlY2VkaW5nVmFsdWVzLmxhc3QoKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJWYWx1ZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICA/IChwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlICogKG4gLSAxKSArIGN1clZhbHVlKSAvIG5cclxuICAgICAgICAgICAgICAgIDogcHJlY2VkaW5nTW92aW5nQXZlcmFnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoYXZlQ291bnQgPj0gbikge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCBhdmVyYWdlIGNhbGN1bGF0ZSBhcyBzaW1wbGUgYXZlcmFnZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbWEuY29tcHV0ZShuLCBwcmVjZWRpbmdWYWx1ZXMsIGFjY2Vzc29yLCB2YWx1ZSwgcHJlY2VkaW5nTW92aW5nQXZlcmFnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgbm90IGVub3VnaHQgZGF0YSBkbyBub3QgY29tcHV0ZVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIFdpbGxpYW0ncyAlUiBvc2NpbGxhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IEdhaW5Mb3NzRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUmFuZ2U6IFstMTAwOyAwXVxuLy8gJVIgPSAoSGlnaGVzdCBIaWdoIC0gQ2xvc2UpLyhIaWdoZXN0IEhpZ2ggLSBMb3dlc3QgTG93KSAqIC0xMDBcblxuZXhwb3J0IGNsYXNzIFBDUk9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHQ6IEdhaW5Mb3NzRXh0ZW5zaW9uO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1BDUic7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgaWYgKHNvdXJjZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IEggPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIE4pOyAvLyBoaWdoZXN0IGhpZ2ggZm9yIHRoZSBwZXJpb2RcbiAgICAgICAgICAgIGNvbnN0IEwgPSBzb3VyY2VJdGVtcy5taW4oYyA9PiBjLmwsIE4pOyAvLyBsb3dlc3QgbG93IGZvciB0aGUgcGVyaW9kXG5cbiAgICAgICAgICAgIGlmIChIICE9PSB1bmRlZmluZWQgJiYgTCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IEggIT09IEwgPyAoLTEwMCkgKiAoSCAtIHNvdXJjZS5jKSAvIChIIC0gTCkgOiAwO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAtMTAwLCBlbmQ6IDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJVIgUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogUGl2b3QgUG9pbnRzIGluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElIYXNoVGFibGUsIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUGl2b3QgUG9pbnQgKFApID0gKEhpZ2ggKyBMb3cgKyBDbG9zZSkvM1xuLy8gU3VwcG9ydCAxIChTMSkgPSAoUCB4IDIpIC0gSGlnaFxuLy8gU3VwcG9ydCAyIChTMikgPSBQICAtICAoSGlnaCAgLSAgTG93KVxuLy8gUmVzaXN0YW5jZSAxIChSMSkgPSAoUCB4IDIpIC0gTG93XG4vLyBSZXNpc3RhbmNlIDIgKFIyKSA9IFAgKyAoSGlnaCAgLSAgTG93KVxuXG5leHBvcnQgY2xhc3MgUFBDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBjb25zdHJ1Y3RvcihkYXRlU3RhcnQ6IERhdGUsIGRhdGVFbmQ/OiBEYXRlKSB7XG4gICAgICAgIHN1cGVyKGRhdGVTdGFydCk7XG4gICAgICAgIHRoaXMuZGF0ZUVuZCA9IG5ldyBVaWQoZGF0ZUVuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBpdm90IFBvaW50XG4gICAgICovXG4gICAgcHVibGljIHA6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBTdXBwb3J0IDFcbiAgICAgKi9cbiAgICBwdWJsaWMgczE6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBTdXBwb3J0IDJcbiAgICAgKi9cbiAgICBwdWJsaWMgczI6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpc3RhbmNlIDFcbiAgICAgKi9cbiAgICBwdWJsaWMgcjE6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpc3RhbmNlIDJcbiAgICAgKi9cbiAgICBwdWJsaWMgcjI6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvL3B1YmxpYyBwb3NpdGlvbiA9IFBvaW50VHlwZS5NaWRkbGU7XG4gICAgcHVibGljIHByb21pc2U6IFByb21pc2U8Q2FuZGxlc3RpY2s+IHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGRhdGVFbmQ6IFVpZDtcblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gJ1BQOiAnXG4gICAgICAgICAgICArIGAke3RoaXMucCAhPT0gdW5kZWZpbmVkID8gdGhpcy5wLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUFBJbmRpY2F0b3IgZXh0ZW5kcyBJbmRpY2F0b3JEYXRhU291cmNlPFBQQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByb3RlY3RlZCBzZXR0aW5nczogUFBTZXR0aW5ncyA9IG5ldyBQUFNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKFBQQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdQUCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIGVuZCAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcblxuICAgICAgICBsZXQgY29tcHV0ZWRBcnJheTogUFBDYW5kbGVzdGlja1tdID0gW107XG5cbiAgICAgICAgLy8gR2V0IHNvdXJjZSBkYXRhIHdpdGhvdXQgbG9hZGluZ1xuICAgICAgICBjb25zdCBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gPSB0aGlzLnNvdXJjZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIC8vIEdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWl0ZXJhdG9yLm1vdmVOZXh0KCkpIHsgcmV0dXJuOyB9IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gXG5cbiAgICAgICAgY29uc3QgZmlyc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcbiAgICAgICAgbGV0IGxhc3RVaWQ7XG4gICAgICAgIGxldCBmb3VuZDtcbiAgICAgICAgY29uc3Qgc3RvcmVJdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsYXN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGl0ZXJhdG9yLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgYmFzZSB0aW1lXG4gICAgICAgICAgICAvLyBcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUludGVydmFsID0gdGhpcy5jb250ZXh0LmludGVydmFsKCk7XG4gICAgICAgICAgICBjb25zdCBleHRJbnRlcnZhbCA9IHRoaXMuZXh0ZW5kSW50ZXJ2YWwoc291cmNlSW50ZXJ2YWwpO1xuICAgICAgICAgICAgLy8gR2V0IGNhbmRsZSBmb3IgcHJldmlvdXMgcGVyaW9kXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlRGF0ZSA9IERhdGVVdGlscy50cnVuY2F0ZVRvSW50ZXJ2YWwoc291cmNlLnVpZC50LCBleHRJbnRlcnZhbCk7IC8vIERhdGUgb2YgY3VycmVudCBjb21wdXRlZCBjYW5kbGVcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVUaW1lID0gY29tcHV0ZURhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgYmFzZURhdGUgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoY29tcHV0ZURhdGUsIGV4dEludGVydmFsLCAtMSk7IC8vIERhdGUgZm9yIHByZXZpb3VzIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgYmFzZVRpbWUgPSBiYXNlRGF0ZS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgZXhpc3RpbmcgaXRlbVxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gc3RvcmVJdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY29tcHV0ZVRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHN0b3JlSXRlci5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY29tcHV0ZVRpbWUpICE9PSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBwcm9taXNlXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBQUENhbmRsZXN0aWNrKGNvbXB1dGVEYXRlLCBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoY29tcHV0ZURhdGUsIGV4dEludGVydmFsLCAxKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQcm9taXNlIHNob3VsZCBiZSBpbiBjbG9zdXJlXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuY29udGV4dC5nZXRDYW5kbGUodGhpcy5zb3VyY2UuYXNzZXQsIGJhc2VEYXRlLCBleHRJbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oY2FuZGxlID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuZGxlICYmIGNhbmRsZS5oICE9PSB1bmRlZmluZWQgJiYgY2FuZGxlLmwgIT09IHVuZGVmaW5lZCAmJiBjYW5kbGUuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5wID0gKGNhbmRsZS5oICsgY2FuZGxlLmwgKyBjYW5kbGUuYykgLyAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuczEgPSAyICogY29tcHV0ZWQucCAtIGNhbmRsZS5oO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuczIgPSBjb21wdXRlZC5wIC0gKGNhbmRsZS5oIC0gY2FuZGxlLmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQucjEgPSAyICogY29tcHV0ZWQucCAtIGNhbmRsZS5sO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQucjIgPSBjb21wdXRlZC5wICsgKGNhbmRsZS5oIC0gY2FuZGxlLmwpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShbY29tcHV0ZWRdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IHdoaWxlIChpdGVyYXRvci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvL2NvbnN0IG9yaWdBcmcgPSBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgY29tcHV0ZWRBcnJheS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXh0ZW5kSW50ZXJ2YWwoaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IFRpbWVJbnRlcnZhbCB7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogcmV0dXJuIFRpbWVJbnRlcnZhbC5kYXk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW46IHJldHVybiBUaW1lSW50ZXJ2YWwuZGF5O1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluNTogcmV0dXJuIFRpbWVJbnRlcnZhbC5kYXk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4xNTogcmV0dXJuIFRpbWVJbnRlcnZhbC5kYXk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4zMDogcmV0dXJuIFRpbWVJbnRlcnZhbC53ZWVrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjogcmV0dXJuIFRpbWVJbnRlcnZhbC53ZWVrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjQ6IHJldHVybiBUaW1lSW50ZXJ2YWwud2VlaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiByZXR1cm4gVGltZUludGVydmFsLndlZWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyMTI6IHJldHVybiBUaW1lSW50ZXJ2YWwubW9udGg7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXk6IHJldHVybiBUaW1lSW50ZXJ2YWwubW9udGg7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkzOiByZXR1cm4gVGltZUludGVydmFsLm1vbnRoO1xuICAgICAgICAgICAgLy9jYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogcmV0dXJuIFRpbWVJbnRlcnZhbC55ZWFyO1xuICAgICAgICAgICAgLy8gY2FzZSBUaW1lSW50ZXJ2YWwud2VlazogcmV0dXJuIFRpbWVJbnRlcnZhbC55ZWFyO1xuICAgICAgICAgICAgLy8gY2FzZSBUaW1lSW50ZXJ2YWwubW9udGg6IHJldHVybiBUaW1lSW50ZXJ2YWwueWVhcjtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0aW1lIGludGVydmFsICR7aW50ZXJ2YWx9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQUFNldHRpbmdzIHtcbiAgICBwdWJsaWMgdmFsdWVUeXBlOiBWYWx1ZUFjY2Vzc29yVHlwZSA9IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlO1xufVxuXG5jbGFzcyBMaW5lIHtcbiAgICBwdWJsaWMgeDE6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHgyOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIHkxOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyB5MjogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgeTM6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHk0OiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyB5NTogbnVtYmVyfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFBQSW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICAvLyBHZXQgZmlyc3QgdGltZSBhbmQgbGFzdCB0aW1lIG9mIHZpc2libGUgcmFuZ2VcblxuICAgICAgICBjb25zdCB0aW1lUmFuZ2UgPSB0aW1lQXhpcy5yYW5nZTtcblxuICAgICAgICAvLyBGaW5kIGNhbmRsZXMganVzdCBiZWZvcmUgdGhlIGZpcnN0LCBhbmQganVzdCBhZnRlciB0aGUgbGFzdCB0aW1lLlxuXG4gICAgICAgIGNvbnN0IGZpcnN0VGltZSA9IHRpbWVSYW5nZS5zdGFydC50LmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgbGFzdFRpbWUgPSB0aW1lUmFuZ2UuZW5kLnQuZ2V0VGltZSgpO1xuXG4gICAgICAgIC8vIEdvIHRvIGZpcnN0IGNhbmRsZXMganVzdCBiZWZvcmUgZmlyc3QgdmlzaWJsZSBvciBmaXJzdFxuICAgICAgICBpZiAoIWRhdGEuZ29XaGlsZShpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpIDwgZmlyc3RUaW1lKSkge1xuICAgICAgICAgICAgaWYgKCFkYXRhLmdvVG8oaXRlbSA9PiB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgbmV4dCB3aGlsZSBkYXRlIGlzIGluIHZpc2libGUgcmFuZ2VcbiAgICAgICAgLy9cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gUmVuZGVyIGN1cnJlbnQgY2FuZGxlXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSAoZGF0YS5jdXJyZW50IGluc3RhbmNlb2YgUFBDYW5kbGVzdGljaykgPyA8UFBDYW5kbGVzdGljaz5kYXRhLmN1cnJlbnQgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgeDEgPSB0aW1lQXhpcy50b1gocG9pbnRzLnVpZCk7XG4gICAgICAgICAgICAgICAgbGV0IHgyID0gdGltZUF4aXMudG9YKHBvaW50cy5kYXRlRW5kKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIGNhbiBub3QgZ2V0IHggY29vcmRpbmF0ZXMgYnkgdGltZSBheGlzLCBkcmF3IGxpbmUgdG8gdGhlIGJvcmRlclxuICAgICAgICAgICAgICAgIGlmICh4MSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMudWlkLnQuZ2V0VGltZSgpIDwgZmlyc3RUaW1lKSB7IHgxID0gLTE7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50cy51aWQudC5nZXRUaW1lKCkgPCBsYXN0VGltZSkgeyB4MSA9IGZyYW1lLnggKyBmcmFtZS53ICsgMTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeDIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzLmRhdGVFbmQudC5nZXRUaW1lKCkgPCBmaXJzdFRpbWUpIHsgeDIgPSAtMTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzLmRhdGVFbmQudC5nZXRUaW1lKCkgPCBsYXN0VGltZSkgeyB4MiA9IGZyYW1lLnggKyBmcmFtZS53ICsgMTsgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgTGluZSgpO1xuICAgICAgICAgICAgICAgIGxpbmUueDEgPSB4MTtcbiAgICAgICAgICAgICAgICBsaW5lLngyID0geDI7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50cy5wICE9PSB1bmRlZmluZWQgJiYgcG9pbnRzLnIxICE9PSB1bmRlZmluZWQgJiYgcG9pbnRzLnIyICE9PSB1bmRlZmluZWQgJiYgcG9pbnRzLnMxICE9PSB1bmRlZmluZWQgJiYgcG9pbnRzLnMyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZS55MSA9IHlBeGlzLnRvWChwb2ludHMucCk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUueTIgPSB5QXhpcy50b1gocG9pbnRzLnIxKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS55MyA9IHlBeGlzLnRvWChwb2ludHMucjIpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnk0ID0geUF4aXMudG9YKHBvaW50cy5zMSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUueTUgPSB5QXhpcy50b1gocG9pbnRzLnMyKTtcblxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzU2QjUwRScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIGxpbmUueDEsIGxpbmUueTEsIGxpbmUueDIsIGxpbmUueTEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCBsaW5lLngxLCBsaW5lLnkyLCBsaW5lLngyLCBsaW5lLnkyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgbGluZS54MSwgbGluZS55MywgbGluZS54MiwgbGluZS55Myk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIGxpbmUueDEsIGxpbmUueTQsIGxpbmUueDIsIGxpbmUueTQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCBsaW5lLngxLCBsaW5lLnk1LCBsaW5lLngyLCBsaW5lLnk1KTtcblxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkYXRhLm1vdmVOZXh0KCkgJiYgZGF0YS5jdXJyZW50LnVpZC50LmdldFRpbWUoKSA8PSBsYXN0VGltZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsaW5lKGNhbnZhczogSUNhbnZhcywgeDE/OiBudW1iZXIsIHkxPzogbnVtYmVyLCB4Mj86IG51bWJlciwgeTI/OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHgxICE9PSB1bmRlZmluZWQgJiYgeDIgIT09IHVuZGVmaW5lZCAmJiB5MSAhPT0gdW5kZWZpbmVkICYmIHkyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBQYXJhYm9saWMgU3RvcCBhbmQgUmV2ZXJzZSBpbmRpY2F0b3IgY2xhc3MuXHJcbiAqL1xyXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxyXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XHJcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XHJcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcclxuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XHJcblxyXG4vLyBTQVIobisxKSA9IFNBUihuKSArIEEgeCAoRVAgLSBTQVIobikpXHJcblxyXG5leHBvcnQgZW51bSBUcmVuZCB7XHJcbiAgICBOb25lID0gMCxcclxuICAgIFVwID0gMSxcclxuICAgIERvd24gPSAyXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQU0FSQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XHJcbiAgICAvKipcclxuICAgICAqIEFjY2VsZXJhdGlvbiBmYWN0b3JcclxuICAgICAqL1xyXG4gICAgcHVibGljIGE6IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRyZW1lIHBvaW50LiBIaWdoZXN0IGhpZ2ggKHVwdHJlbmQsIGxvbmcpIG9yIExvd2VzdCBsb3cgKGRvd250cmVuZCwgc2hvcnQpLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgRVA6IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMZWFkaW5nIFNwYW4gQVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgU0FSOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIHRyZW5kOiBUcmVuZCA9IFRyZW5kLk5vbmU7XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuICdTQVI6ICdcclxuICAgICAgICAgICAgKyBgJHt0aGlzLlNBUiAhPT0gdW5kZWZpbmVkID8gdGhpcy5TQVIudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxyXG4gICAgICAgICAgICArICcgLyBFUDogJ1xyXG4gICAgICAgICAgICArIGAke3RoaXMuRVAgIT09IHVuZGVmaW5lZCA/IHRoaXMuRVAudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBTQVJJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8UFNBUkNhbmRsZXN0aWNrPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBlbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XHJcbiAgICBwcml2YXRlIGV4dHNldHRpbmdzOiBQU0FSU2V0dGluZ3MgPSBuZXcgUFNBUlNldHRpbmdzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKFBTQVJDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnUFNBUic7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFBTQVJDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFBTQVJDYW5kbGVzdGljayB7XHJcblxyXG4gICAgICAgIGNvbnN0IGluaXRpYWxGYWN0b3IgPSB0aGlzLmV4dHNldHRpbmdzLmluaXRpYWxGYWN0b3I7XHJcbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gdGhpcy5leHRzZXR0aW5ncy5pbmNyZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgbWF4RmFjdG9yID0gdGhpcy5leHRzZXR0aW5ncy5tYXhGYWN0b3I7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvdXJjZUN1ciA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cclxuICAgICAgICBjb25zdCBzb3VyY2VQcmV2ID0gc291cmNlSXRlbXMubGVuZ3RoID4gMSA/IHNvdXJjZUl0ZW1zLmdldEl0ZW0oc291cmNlSXRlbXMubGVuZ3RoIC0gMikgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxyXG5cclxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBQU0FSQ2FuZGxlc3RpY2soc291cmNlQ3VyLmRhdGUpO1xyXG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZUN1ci51aWQudDtcclxuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2VDdXIudWlkLm47XHJcblxyXG4gICAgICAgIGlmIChzb3VyY2VDdXIuaCA9PT0gdW5kZWZpbmVkIHx8IHNvdXJjZUN1ci5sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5hID0gbGFzdENvbXB1dGVkLmE7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5FUCA9IGxhc3RDb21wdXRlZC5FUDtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLlNBUiA9IGxhc3RDb21wdXRlZC5TQVI7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IGxhc3RDb21wdXRlZC50cmVuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCAmJiBsYXN0Q29tcHV0ZWQuU0FSICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIDEuIENvbXB1dGUgU0FSXHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgbGV0IFNBUjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFNBUnByZXYgPSBsYXN0Q29tcHV0ZWQuU0FSO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IDxudW1iZXI+bGFzdENvbXB1dGVkLmE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBFUCA9IDxudW1iZXI+bGFzdENvbXB1dGVkLkVQO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJlbmQgPSBsYXN0Q29tcHV0ZWQudHJlbmQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyZW5kID09PSBUcmVuZC5VcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFNBUiA9IFNBUnByZXYgKyBhICogKEVQIC0gU0FScHJldik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyZW5kID09PSBUcmVuZC5Eb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU0FSID0gU0FScHJldiAtIGEgKiAoU0FScHJldiAtIEVQKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgdHJlbmQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gMi4gQ29ycmVjdCBTQVIuIFNBUiBjYW4ndCBnZXQgaW5zaWRlIG9yIGJleW91bmQgcHJldmlvdXMgKDIpIHJhbmdlLlxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VQcmV2ICE9PSB1bmRlZmluZWQgJiYgc291cmNlUHJldi5oICE9PSB1bmRlZmluZWQgJiYgc291cmNlUHJldi5sICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRyZW5kID09PSBUcmVuZC5VcCAmJiBTQVIgPiBzb3VyY2VQcmV2LmwgKSB7IC8vIFNBUiBpbiBwcmV2IHJhbmdlIG9yIGJleW9uZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWN0IFNBUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTQVIgPSBzb3VyY2VQcmV2Lmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmVuZCA9PT0gVHJlbmQuRG93biAmJiBTQVIgPCBzb3VyY2VQcmV2LmgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0FSID0gc291cmNlUHJldi5oO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyAzLiBDaGVjayBpZiB0cmVuZCBjaGFuZ2VzIG9yIGNvbnRpbnVlc1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIGlmICgodHJlbmQgPT09IFRyZW5kLlVwICYmIFNBUiA+IHNvdXJjZUN1ci5sKVxyXG4gICAgICAgICAgICAgICAgICAgICB8fCAodHJlbmQgPT09IFRyZW5kLkRvd24gJiYgU0FSIDwgc291cmNlQ3VyLmgpICkgeyAvLyBTQVIgaW4gY3VyIHJhbmdlIG9yIGJleW9uZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyZW5kIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IHRyZW5kID09PSBUcmVuZC5VcCA/IFRyZW5kLkRvd24gOiBUcmVuZC5VcDtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5hID0gaW5pdGlhbEZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5FUCA9IHRyZW5kID09PSBUcmVuZC5VcCA/IHNvdXJjZUN1ci5sIDogc291cmNlQ3VyLmg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuU0FSID0gRVA7IC8vIE5ldyBTQVIgaXMgRVAgZnJvbSBwcmV2aW91cyB0cmVuZFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmVuZCBjb250aW51ZXNcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IHRyZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLlNBUiA9IFNBUjtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5FUCA9IHRyZW5kID09PSBUcmVuZC5VcCA/IE1hdGgubWF4KEVQLCBzb3VyY2VDdXIuaCkgOiBNYXRoLm1pbihFUCwgc291cmNlQ3VyLmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCBcImFcIiBpZiBuZXcgaGlnaGVzdCBoaWdoIG9yIGxvd2VzdCBsb3cuIElmIEhIIC8gTEwgaXMgbm90IGNoYW5nZWQsIGRvIG5vdCBpbmNyZW1lbnQgXCJhXCIuXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYSA9IChjb21wdXRlZC5FUCAhPT0gRVApID8gTWF0aC5taW4oYSArIGluY3JlbWVudCwgbWF4RmFjdG9yKSA6IGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0aW5nIGZpcnN0IFNBUlxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQudHJlbmQgPSBUcmVuZC5VcDtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmEgPSBpbml0aWFsRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRVAgPSBzb3VyY2VDdXIuaDtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLlNBUiA9IHNvdXJjZUN1ci5sO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2luaXRpYWxGYWN0b3InLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdpbml0aWFsRmFjdG9yJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MuaW5pdGlhbEZhY3Rvci50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdJbml0aWFsIGZhY3RvcidcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2luY3JlbWVudCcsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ2luY3JlbWVudCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLmluY3JlbWVudC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdJbmNyZW1lbnQnXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdtYXhGYWN0b3InLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdtYXhGYWN0b3InLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5tYXhGYWN0b3IudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTWF4aW11bSBmYWN0b3InXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbEZhY3RvciA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UuaW5pdGlhbEZhY3RvcicpO1xyXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MuaW5pdGlhbEZhY3RvciA9IChpbml0aWFsRmFjdG9yICYmIGluaXRpYWxGYWN0b3IudmFsdWUpID8gcGFyc2VJbnQoaW5pdGlhbEZhY3Rvci52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5pbml0aWFsRmFjdG9yO1xyXG5cclxuICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLmluY3JlbWVudCcpO1xyXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MuaW5jcmVtZW50ID0gKGluY3JlbWVudCAmJiBpbmNyZW1lbnQudmFsdWUpID8gcGFyc2VJbnQoaW5jcmVtZW50LnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLmluY3JlbWVudDtcclxuXHJcbiAgICAgICAgY29uc3QgbWF4RmFjdG9yID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5tYXhGYWN0b3InKTtcclxuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLm1heEZhY3RvciA9IChtYXhGYWN0b3IgJiYgbWF4RmFjdG9yLnZhbHVlKSA/IHBhcnNlSW50KG1heEZhY3Rvci52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5tYXhGYWN0b3I7XHJcblxyXG4gICAgICAgIC8vIHJlY29tcHV0ZVxyXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQU0FSU2V0dGluZ3Mge1xyXG4gICAgcHVibGljIGluaXRpYWxGYWN0b3I6IG51bWJlciA9IDAuMDI7XHJcbiAgICBwdWJsaWMgaW5jcmVtZW50OiBudW1iZXIgPSAwLjAyO1xyXG4gICAgcHVibGljIG1heEZhY3RvcjogbnVtYmVyID0gMC4yO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUFNBUkluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGEsIChpdGVtLCB4KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJJdGVtID0gKGl0ZW0gaW5zdGFuY2VvZiBQU0FSQ2FuZGxlc3RpY2spID8gPFBTQVJDYW5kbGVzdGljaz5pdGVtOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3VySXRlbSAmJiBjdXJJdGVtLlNBUiAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChjdXJJdGVtLlNBUik7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1ckl0ZW0udHJlbmQgPT09IFRyZW5kLlVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNTZCNTBFJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnIzU2QjUwRScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNFQTBFMUMnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjRUEwRTFDJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmFyYyh4LCB5LCAyLCAwLCAzNjApO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmZpbGwoKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdGltZUF4aXMucmVzZXQoKTtcclxuICAgICAgICAvLyB3aGlsZSAodGltZUF4aXMubW92ZU5leHQoKSkge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBjdXJVaWQgPSB0aW1lQXhpcy5jdXJyZW50O1xyXG4gICAgICAgIC8vICAgICBjb25zdCBjdXJUaW1lID0gY3VyVWlkLnQuZ2V0VGltZSgpO1xyXG4gICAgICAgIC8vICAgICBjb25zdCBjdXJuID0gY3VyVWlkLm47XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHggPSB0aW1lQXhpcy5jdXJyZW50WDtcclxuXHJcbiAgICAgICAgLy8gICAgIGlmICghZm91bmQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGZvdW5kID0gZGF0YS5nb1RvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3Vybik7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3VuZCA9IGRhdGEubW92ZVRvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3VybikgIT09IC0xO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoZm91bmQpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBjdXJJdGVtID0gKGRhdGEuY3VycmVudCBpbnN0YW5jZW9mIFBTQVJDYW5kbGVzdGljaykgPyA8UFNBUkNhbmRsZXN0aWNrPmRhdGEuY3VycmVudCA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoY3VySXRlbSAmJiBjdXJJdGVtLlNBUiAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goY3VySXRlbS5TQVIpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGN1ckl0ZW0udHJlbmQgPT09IFRyZW5kLlVwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzU2QjUwRScpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjNTZCNTBFJyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRUEwRTFDJyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNFQTBFMUMnKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbnZhcy5hcmMoeCwgeSwgMiwgMCwgMzYwKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjYW52YXMuZmlsbCgpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXHJcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxuICogUmF0aW9jYXRvciBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJZFZhbHVlLCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0ZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFJBVElPQ0FUT1IgPSAxMDAgKiAocGEvcGIpIC8gKEExL0IxKVxuXG5leHBvcnQgY2xhc3MgUkFUSU9JbmRpY2F0b3IgZXh0ZW5kcyBJbmRpY2F0b3JEYXRhU291cmNlPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IFJBVElPU2V0dGluZ3MgPSBuZXcgUkFUSU9TZXR0aW5ncygpO1xuICAgIC8vcHJpdmF0ZSBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3I7XG4gICAgcHJpdmF0ZSBiYXNlOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JBVElPJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIGVuZCAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcblxuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IFZhbHVlQWNjZXNzb3JGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZSh0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZSk7XG5cbiAgICAgICAgLy8gR2V0IGNvbXBhcmUgZGF0YSBzb3VjZVxuICAgICAgICBjb25zdCBjb21wYXJlRGF0YVNvdXJjZSA9IHRoaXMuZXh0c2V0dGluZ3MudWlkID8gdGhpcy5jb250ZXh0LnJlZ2lzdGVyLmdldEl0ZW0odGhpcy5leHRzZXR0aW5ncy51aWQpIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIWNvbXBhcmVEYXRhU291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VJdGVyID0gdGhpcy5zb3VyY2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgY29tcGFyZUl0ZXIgPSBjb21wYXJlRGF0YVNvdXJjZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIC8vIEdldCBiYXNlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmJhc2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXh0c2V0dGluZ3MuYmFzZWRhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2FkIGNhbmRsZXMgb24gc3BlY2lmaWVkIGRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlQSA9IHRoaXMuY29udGV4dC5nZXRDYW5kbGUodGhpcy5zb3VyY2UuYXNzZXQsIHRoaXMuZXh0c2V0dGluZ3MuYmFzZWRhdGUsIHRoaXMuY29udGV4dC5pbnRlcnZhbCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlQiA9IHRoaXMuY29udGV4dC5nZXRDYW5kbGUoY29tcGFyZURhdGFTb3VyY2UuYXNzZXQsIHRoaXMuZXh0c2V0dGluZ3MuYmFzZWRhdGUsIHRoaXMuY29udGV4dC5pbnRlcnZhbCgpKTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbcHJvbWlzZUEsIHByb21pc2VCXSkudGhlbih0aGlzLmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBHbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIHNvdXJjZUl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUl0ZXIubW92ZU5leHQoKSkgeyByZXR1cm47IH0gLy8gRmluaXNoIGlmIG5vIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0aW9uc1xuICAgICAgICAvLyBcblxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZmlyc3RVaWQgPSBzb3VyY2VJdGVyLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRBcnJheTogQ2FuZGxlc3RpY2tFeHRbXSA9IFtdO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVyLmN1cnJlbnQ7XG4gICAgICAgICAgICBsYXN0VWlkID0gc291cmNlLnVpZDtcblxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBjb21wYXJlSXRlci5tb3ZlVG8oY2l0ZW0gPT4gc291cmNlLnVpZC5jb21wYXJlKGNpdGVtLnVpZCkgPT09IDApICE9PSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBjb21wYXJlSXRlci5nb1RvKGNpdGVtID0+IHNvdXJjZS51aWQuY29tcGFyZShjaXRlbS51aWQpID09PSAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSB0aGlzLmNvbXB1dGVPbmUoc291cmNlLCBjb21wYXJlSXRlci5jdXJyZW50LCB0aGlzLmJhc2UsIGFjY2Vzc29yKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gd2hpbGUgKHNvdXJjZUl0ZXIubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgdXNpbmcgb3JpZ1VpZCwgbm90IHVpZFxuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGNvbXB1dGVkQXJyYXkpO1xuXG4gICAgICAgIGNvbnN0IG9yaWdBcmcgPSBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgY29tcHV0ZWRBcnJheS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gb3JpZ0FyZztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZXIgPSAocmVzOiBbQ2FuZGxlc3RpY2ssIENhbmRsZXN0aWNrXSkgPT4ge1xuICAgICAgICBjb25zdCBbY2FuZGxlQSwgY2FuZGxlQl0gPSByZXM7XG4gICAgICAgIGlmIChjYW5kbGVBICE9PSB1bmRlZmluZWQgJiYgY2FuZGxlQiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIGJhc2Uga29lZmZpY2llbnQgYW5kIHJlY29tcHV0ZVxuICAgICAgICAgICAgY29uc3QgYWNjZXNzb3IgPSBWYWx1ZUFjY2Vzc29yRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUodGhpcy5leHRzZXR0aW5ncy52YWx1ZVR5cGUpO1xuICAgICAgICAgICAgY29uc3QgcCA9IGFjY2Vzc29yKGNhbmRsZUEpO1xuICAgICAgICAgICAgY29uc3QgcyA9IGFjY2Vzc29yKGNhbmRsZUIpO1xuICAgICAgICAgICAgaWYgKHAgIT09IHVuZGVmaW5lZCAmJiBzICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZSA9IHAgLyBzO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW06IENhbmRsZXN0aWNrLCBjb21wYXJlSXRlbTogQ2FuZGxlc3RpY2ssIGJhc2U6IG51bWJlciwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgIGNvbnN0IHAgPSBhY2Nlc3Nvcihzb3VyY2VJdGVtKTtcbiAgICAgICAgY29uc3QgcyA9IGFjY2Vzc29yKGNvbXBhcmVJdGVtKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2VJdGVtLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2VJdGVtLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2VJdGVtLnVpZC5uO1xuXG4gICAgICAgIGlmIChwICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gdW5kZWZpbmVkICYmIHMgIT09IDAgJiYgYmFzZSAhPT0gMCkge1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IDEwMCAqIChwIC8gcykgLyBiYXNlO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2Jhc2VkYXRlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2Jhc2VkYXRlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQmFzZSBkYXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLmJhc2VkYXRlID8gRGF0ZVV0aWxzLmZvcm1hdERhdGVJU08odGhpcy5leHRzZXR0aW5ncy5iYXNlZGF0ZSkgOiAnJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5kYXRlXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5jb250ZXh0LnJlZ2lzdGVyLmxpc3QoKTtcbiAgICAgICAgc291cmNlcy5wdXNoKG5ldyBJZFZhbHVlKCcnLCAnJykpO1xuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd1aWQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndWlkJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29tcGFyZScsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy51aWQsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogc291cmNlcy5tYXAoaXRlbSA9PiB7IHJldHVybiB7IHZhbHVlOiBpdGVtLmlkLCB0ZXh0OiBpdGVtLnZhbHVlIH07IH0pXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IHVpZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudWlkJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MudWlkID0gKHVpZCAmJiB1aWQudmFsdWUpID8gdWlkLnZhbHVlIDogdGhpcy5leHRzZXR0aW5ncy51aWQ7XG5cbiAgICAgICAgY29uc3QgZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UuYmFzZWRhdGUnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5iYXNlZGF0ZSA9IChkICYmIGQudmFsdWUpID8gRGF0ZVV0aWxzLnBhcnNlSVNPRGF0ZShkLnZhbHVlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gY2xlYXJlIHN0b3JlZCBiYXNlIHZhbHVlXG4gICAgICAgIHRoaXMuYmFzZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBSQVRJT1NldHRpbmdzIHtcbiAgICBwdWJsaWMgcGVyaW9kOiBudW1iZXIgPSAxMDtcbiAgICBwdWJsaWMgdWlkOiBzdHJpbmd8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyBiYXNlZGF0ZTogRGF0ZXx1bmRlZmluZWQ7XG4gICAgcHVibGljIHZhbHVlVHlwZTogVmFsdWVBY2Nlc3NvclR5cGUgPSBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZTtcbn1cbiIsIi8qKlxuICogUmFpbmJvdyBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgUmFpbmJvd0NhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgcHVibGljIGxpbmU6IChudW1iZXJ8dW5kZWZpbmVkKVtdID0gW107XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSQkluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxSYWluYm93Q2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcGVyaW9kcyA9IFs5LCAxMiwgMTUsIDE4LCAyMSwgMjQsIDI3LCAzMCwgMzUsIDQwLCA0NSwgNTAsIDU1LCA2MCwgNjUsIDcwLCA3NSwgODAsIDg1LCA5MCwgMTAwXTtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEsgPSBSQkluZGljYXRvci5wZXJpb2RzLmxlbmd0aDsgLy8gQW1vdW50IG9mIHBlcmlvZHNcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoUmFpbmJvd0NhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUkInO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuRXhwb25lbnRpYWwpO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gTWF0aC5tYXgoLi4uUkJJbmRpY2F0b3IucGVyaW9kcyk7IC8vIFRha2luZyBtYXggaXRlbSBhcyByZXF1aXJlZCBhbW91bnQgb2YgaXRlbXNcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFJhaW5ib3dDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFJhaW5ib3dDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBSYWluYm93Q2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUkJJbmRpY2F0b3IuSzsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVmFsdWUgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5saW5lW2ldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmxpbmVbaV0gPSB0aGlzLm1hLmNvbXB1dGUoUkJJbmRpY2F0b3IucGVyaW9kc1tpXSwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSQkluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBSQkluZGljYXRvci5LOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5yYWluYm93KFJCSW5kaWNhdG9yLkssIGkpO1xuXG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoY29sb3IpO1xuICAgICAgICAgICAgLy8gVXBcbiAgICAgICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUmFpbmJvd0NhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSA8UmFpbmJvd0NhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgICAgIGlmIChkICYmIGQubGluZVtpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQubGluZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3Zpc3VhbCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cblxuICAgIHByaXZhdGUgcmFpbmJvdyhudW1PZlN0ZXBzOiBudW1iZXIsIHN0ZXA6IG51bWJlcikge1xuICAgICAgICAgICAgbGV0IHIgPSAwLjA7XG4gICAgICAgICAgICBsZXQgZyA9IDAuMDtcbiAgICAgICAgICAgIGxldCBiID0gMC4wO1xuICAgICAgICAgICAgY29uc3QgaCA9IHN0ZXAgLyBudW1PZlN0ZXBzO1xuICAgICAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoaCAqIDYpO1xuICAgICAgICAgICAgY29uc3QgZiA9IGggKiA2LjAgLSBpO1xuICAgICAgICAgICAgY29uc3QgcSA9IDEgLSBmO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGkgJSA2KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZyA9IGY7XG4gICAgICAgICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBxO1xuICAgICAgICAgICAgICAgICAgICBnID0gMTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAxO1xuICAgICAgICAgICAgICAgICAgICBiID0gZjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZyA9IHE7XG4gICAgICAgICAgICAgICAgICAgIGIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIHIgPSBmO1xuICAgICAgICAgICAgICAgICAgICBnID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAwO1xuICAgICAgICAgICAgICAgICAgICBiID0gcTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICcjJ1xuICAgICAgICAgICAgICsgKCcwMCcgKyAocGFyc2VJbnQoKHIgKiAyNTUpLnRvU3RyaW5nKCksIDEwKSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMilcbiAgICAgICAgICAgICArICgnMDAnICsgKHBhcnNlSW50KChnICogMjU1KS50b1N0cmluZygpLCAxMCkpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpXG4gICAgICAgICAgICAgKyAoJzAwJyArIChwYXJzZUludCgoYiAqIDI1NSkudG9TdHJpbmcoKSwgMTApKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICAgICAgfVxufVxuIiwiLyoqXG4gKiBSYXRlIG9mIENoYW5nZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFJvYyA9IDEwMCB4ICggQ2xvc2VbdF0gLSBDbG9zZVt0LU5dICkgLyBDbG9zZVt0LU5dIFxuXG5leHBvcnQgY2xhc3MgUk9DSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUk9DJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucGVyaW9kICsgMTsgLy8gUk9DIHJlcXVpcmVzIG9uZSBleHRyYSBpdGVtXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG4gICAgICAgIGNvbnN0IEwgPSBzb3VyY2VJdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgaSA9IEwgLSAoTiArIDEpO1xuICAgICAgICBpZiAoaSA+PSAwICYmIGkgPCBzb3VyY2VJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBzb3VyY2VJdGVtcy5nZXRJdGVtKGkpO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBhY2Nlc3NvcihwcmV2KTtcblxuICAgICAgICAgICAgaWYgKGN1clZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJldlZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gMTAwICogKGN1clZhbHVlIC0gcHJldlZhbHVlKSAvIHByZXZWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogUmVsYXRpdmUgU3RyZW5ndGggT3NjaWxsYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBHYWluTG9zc0V4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFJTID0gQVZHICh1cHdhcmQpIC8gQVZHIChkb3dud2FyZCk7ICBcbi8vIFJTSSA9IDEwMCAtICgxMDAgLyAoMSArIFJTKSk7XG5cbmV4cG9ydCBjbGFzcyBSU0lDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgYXZnR2FpbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBhdmdMb3NzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBSU0lPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPFJTSUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0OiBHYWluTG9zc0V4dGVuc2lvbjtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoUlNJQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdSU0knO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuQURYKTtcblxuICAgICAgICAvLyBSU0kgcmVxdWlyZXMgR2Fpbi9Mb3NzXG4gICAgICAgIHRoaXMuaW5pdEV4dGVuc2lvbigpO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxSU0lDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFJTSUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBSU0lDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIC8vIENvbXB1dGUgYXZlcmFnZSBnYWluL2xvc3NcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkR2FpbiA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z0dhaW4gOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z0dhaW4gPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGNhbmRsZSA9PiB0aGlzLmV4dC52YWx1ZShjYW5kbGUpLmdhaW4sIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkR2Fpbik7XG5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkTG9zcyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z0xvc3MgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z0xvc3MgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGNhbmRsZSA9PiB0aGlzLmV4dC52YWx1ZShjYW5kbGUpLmxvc3MsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkTG9zcyk7XG5cbiAgICAgICAgaWYgKGNvbXB1dGVkLmF2Z0dhaW4gIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5hdmdMb3NzICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuYXZnTG9zcyAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgUlMgPSBjb21wdXRlZC5hdmdHYWluIC8gY29tcHV0ZWQuYXZnTG9zcztcbiAgICAgICAgICAgIGNvbnN0IFJTSSA9IDEwMCAtICgxMDAgLyAoMSArIFJTKSk7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gUlNJO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndmFsdWVUeXBlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGN1bGF0ZSB1c2luZycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2UudG9TdHJpbmcoKSwgdGV4dDogJ2Nsb3NlJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9wZW4udG9TdHJpbmcoKSwgdGV4dDogJ29wZW4nIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGlnaC50b1N0cmluZygpLCB0ZXh0OiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5sb3cudG9TdHJpbmcoKSwgdGV4dDogJ2xvdycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obDIudG9TdHJpbmcoKSwgdGV4dDogJ2hsMicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzLnRvU3RyaW5nKCksIHRleHQ6ICdobGMzJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9obGM0LnRvU3RyaW5nKCksIHRleHQ6ICdvaGxjNCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNC50b1N0cmluZygpLCB0ZXh0OiAnaGxjYzQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZS1pbml0IGV4dGVuc2lvbiB0byBuZXcgdmFsdWVcbiAgICAgICAgdGhpcy5pbml0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEV4dGVuc2lvbigpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBleHRlbnNpb24gYW5kIGFkZCBuZXcgb25lXG4gICAgICAgIC8vXG4gICAgICAgIGlmICh0aGlzLmV4dCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXh0ZW5zaW9uKHRoaXMuZXh0LnVuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlKTtcbiAgICAgICAgdGhpcy5leHQgPSBuZXcgR2Fpbkxvc3NFeHRlbnNpb24oYWNjZXNzb3IpO1xuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24odGhpcy5leHQudW5hbWUsIHRoaXMuZXh0KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFJlbGF0aXZlIFN0cmVuZ3RoIExldnkgT3NjaWxsYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBHYWluTG9zc0V4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBSU0wgPSBDbG9zZSAvIE1BXG5cbmV4cG9ydCBjbGFzcyBSU0xDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFJTTE9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8UlNMQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHQ6IEdhaW5Mb3NzRXh0ZW5zaW9uO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihSU0xDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JTTCc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAyNztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFJTTENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogUlNMQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFJTTENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgYXZlcmFnZSBnYWluL2xvc3NcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5NQSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuTUEgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZE1BKTtcblxuICAgICAgICBpZiAoY29tcHV0ZWQuTUEgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gY29tcHV0ZWQuTUEgIT09IDAgPyB2YWx1ZSAvIGNvbXB1dGVkLk1BIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFNpbXBsZSBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgU01BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NNQSc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5TaW1wbGUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBTbW9vdGhlZCBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgU01NQUluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDYW5kbGVzdGlja0V4dD4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrRXh0PiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTTU1BJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNtb290aGVkKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVmFsdWUgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5jIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFN0YW5kYXJkIERldmlhdGlvbiBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgU1RERVZJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU1RERVYnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuV2VpZ2h0KTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDEwO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHNvdXJjZUl0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiBhcnJheS5sZW5ndGggPCBOIDsgaSAtPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZUl0ZW1zLmdldEl0ZW0oaSkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoIDwgTiB8fCBhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF2ZyA9IHN1bSAvIGFycmF5Lmxlbmd0aDtcblxuICAgICAgICBjb25zdCBzdW1TcXJ0RGV2ID0gYXJyYXkucmVkdWNlKChwcmV2LCBjdXIpID0+IHsgcmV0dXJuIHByZXYgKyBNYXRoLnBvdyhjdXIgLSBhdmcsIDIpOyB9LCAwKTtcblxuICAgICAgICBjb21wdXRlZC5jID0gTWF0aC5zcXJ0KHN1bVNxcnREZXYgLyBhcnJheS5sZW5ndGgpO1xuICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFN1cGVydHJlbmQgSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IFRydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBVcHBlciA9IGhsMiArIE0geCBBVFIgKGlmIENsb3NlID4gU1QgcHJldiBvbiBkb3duIHRyZW5kKVxuLy8gTG93ZXIgPSBobDIgLSBNIHggQVRSIChpZiBDbG9zZSA8IFNUIHByZXYgb24gdXBwZXIgdHJlbmQpXG5cbmV4cG9ydCBlbnVtIFR5cGUge1xuICAgIFVuZGVmID0gMCxcbiAgICBVcCA9IDEsXG4gICAgRG93biA9IDJcbn1cblxuZXhwb3J0IGNsYXNzIFNUQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgLyoqXG4gICAgICogQVRSIHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIEFUUjogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyB0cmVuZFVwOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyB0cmVuZERvd246IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHRyZW5kOiBUeXBlID0gVHlwZS5VbmRlZjtcblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTVEluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxTVENhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IFNUU2V0dGluZ3MgPSBuZXcgU1RTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihTVENhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU1QnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuQURYKTtcblxuICAgICAgICAvLyBBZGRpbmcgVFIgdG8gYnVpbGQgQVRSXG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihUcnVlUmFuZ2VFeHRlbnNpb24udW5hbWUsIG5ldyBUcnVlUmFuZ2VFeHRlbnNpb24oKSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxMDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFNUQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBTVENhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSB0aGlzLmV4dHNldHRpbmdzLm11bHRpcGxpZXI7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgcHJldiA9IHNvdXJjZUl0ZW1zLmxlbmd0aCA+IDEgPyBzb3VyY2VJdGVtcy5nZXRJdGVtKHNvdXJjZUl0ZW1zLmxlbmd0aCAtIDEpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBTVENhbmRsZXN0aWNrKGN1cnJlbnQuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IGN1cnJlbnQudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IGN1cnJlbnQudWlkLm47XG5cbiAgICAgICAgLy8gQnVpbGQgQVRSXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFZhbHVlID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuQVRSIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5BVFIgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGMgPT4gYy5leHRbJ3RyJ10sIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50LmMgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmggIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50LmwgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5BVFIgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAvLyBEZWZpbmluZyBjdXJyZW50IHRyZW5kXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29tcHV0ZWQudHJlbmQgPSBUeXBlLlVwOyAvLyBkZWZhdWx0IHRyZW5kXG4gICAgICAgICAgICBpZiAobGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgJiYgbGFzdENvbXB1dGVkLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Q29tcHV0ZWQudHJlbmQgPT09IFR5cGUuVXAgJiYgY3VycmVudC5jIDwgbGFzdENvbXB1dGVkLmMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudHJlbmQgPSBUeXBlLkRvd247XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0Q29tcHV0ZWQudHJlbmQgPT09IFR5cGUuRG93biAmJiBjdXJyZW50LmMgPiBsYXN0Q29tcHV0ZWQuYykge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IFR5cGUuVXA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0Q29tcHV0ZWQudHJlbmQgIT09IFR5cGUuVW5kZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudHJlbmQgPSBsYXN0Q29tcHV0ZWQudHJlbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb21wdXRpbmcgdXAvZG93biB0cmVuZCB2YWx1ZXNcbiAgICAgICAgICAgIGNvbnN0IGhsMiA9IChjdXJyZW50LmggKyBjdXJyZW50LmwpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHVwID0gaGwyIC0gbXVsdGlwbGllciAqIGNvbXB1dGVkLkFUUjtcbiAgICAgICAgICAgIGNvbnN0IGRvd24gPSBobDIgKyBtdWx0aXBsaWVyICogY29tcHV0ZWQuQVRSO1xuXG4gICAgICAgICAgICAvL2NvbXB1dGVkLnRyZW5kVXAgPSAoIHByZXYuYyA+IGxhc3RDb21wdXRlZC50cmVuZFVwICkgPyBNYXRoLm1heCh1cCwgbGFzdENvbXB1dGVkLnRyZW5kVXApIDogdXA7XG4gICAgICAgICAgICBjb21wdXRlZC50cmVuZFVwID0gdXA7XG5cbiAgICAgICAgICAgIC8vY29tcHV0ZWQudHJlbmREb3duID0gKCBzb3VyY2VwcmV2LmMgPCBsYXN0Q29tcHV0ZWQudHJlbmREb3duICkgPyBNYXRoLm1pbihkb3duLCBsYXN0Q29tcHV0ZWQudHJlbmREb3duKSA6IGRvd247XG4gICAgICAgICAgICBjb21wdXRlZC50cmVuZERvd24gPSBkb3duO1xuXG4gICAgICAgICAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkICYmIHByZXYuYyAhPT0gdW5kZWZpbmVkICYmIGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkICYmIGxhc3RDb21wdXRlZC50cmVuZFVwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAmJiBwcmV2LmMgPiBsYXN0Q29tcHV0ZWQudHJlbmRVcCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kVXAgPSBNYXRoLm1heCh1cCwgbGFzdENvbXB1dGVkLnRyZW5kVXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXYgIT09IHVuZGVmaW5lZCAmJiBwcmV2LmMgIT09IHVuZGVmaW5lZCAmJiBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCAmJiBsYXN0Q29tcHV0ZWQudHJlbmREb3duICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAmJiBwcmV2LmMgPCBsYXN0Q29tcHV0ZWQudHJlbmREb3duKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQudHJlbmREb3duID0gTWF0aC5taW4oZG93biwgbGFzdENvbXB1dGVkLnRyZW5kRG93bik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGluZyBzdXBlcnRyZW5kXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkLnRyZW5kID09PSBUeXBlLlVwKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IGNvbXB1dGVkLnRyZW5kVXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXB1dGVkLnRyZW5kID09PSBUeXBlLkRvd24pIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gY29tcHV0ZWQudHJlbmREb3duO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdtdWx0aXBsaWVyJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ211bHRpcGxpZXInLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MubXVsdGlwbGllci50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0ZhY3RvcidcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLm11bHRpcGxpZXInKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5tdWx0aXBsaWVyID0gKG11bHRpcGxpZXIgJiYgbXVsdGlwbGllci52YWx1ZSkgPyBwYXJzZUZsb2F0KG11bHRpcGxpZXIudmFsdWUpIDogdGhpcy5leHRzZXR0aW5ncy5tdWx0aXBsaWVyO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmNsYXNzIFNUU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBtdWx0aXBsaWVyOiBudW1iZXIgPSAzO1xufVxuXG5leHBvcnQgY2xhc3MgU1RJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY3VyUG9pbnQ6IElQb2ludHx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwcmV2UG9pbnQ6IElQb2ludHx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjdXJJdGVtOiBTVENhbmRsZXN0aWNrfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByZXZJdGVtOiBTVENhbmRsZXN0aWNrfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhLCAoaXRlbSwgeCkgPT4ge1xuXG4gICAgICAgICAgICBjdXJJdGVtID0gKGl0ZW0gaW5zdGFuY2VvZiBTVENhbmRsZXN0aWNrKSA/IDxTVENhbmRsZXN0aWNrPml0ZW0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGxldCBjdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoY3VySXRlbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ID0gPFNUQ2FuZGxlc3RpY2s+Y3VySXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoc3QgJiYgc3QuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHsgdWlkOiBjdXJJdGVtLnVpZCwgdjogc3QuYyB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goY3VyLnYpO1xuICAgICAgICAgICAgICAgICAgICBjdXJQb2ludCA9IHsgeDogeCwgeTogeSB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckl0ZW0udHJlbmQgPT09IFR5cGUuVXAgJiYgcHJldkl0ZW0udHJlbmQgPT09IFR5cGUuVXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyM1NkI1MEUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VySXRlbS50cmVuZCA9PT0gVHlwZS5Eb3duICYmIHByZXZJdGVtLnRyZW5kID09PSBUeXBlLkRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNGRjAwMDAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNjA2MDYwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKHByZXZQb2ludC54LCBwcmV2UG9pbnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGN1clBvaW50LngsIGN1clBvaW50LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcHJldkl0ZW0gPSBjdXJJdGVtO1xuICAgICAgICAgICAgICAgICAgICBwcmV2UG9pbnQgPSBjdXJQb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3Zpc3VhbCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxuICogU2ltcGxlSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGxlSW5kaWNhdG9yPFQgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dD4gZXh0ZW5kcyBJbmRpY2F0b3JEYXRhU291cmNlPFQ+IHtcblxuICAgIHByb3RlY3RlZCBzZXR0aW5ncyA9IG5ldyBTaW1wbGVTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKGRhdGFUeXBlOiBuZXcoZGF0ZTogRGF0ZSkgPT4gVCwgc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKGRhdGFUeXBlLCBzb3VyY2UsIGNvbnRleHQsIChsaHM6IFQsIHJoczogVCkgPT4geyByZXR1cm4gbGhzLnVpZE9yaWcuY29tcGFyZShyaHMudWlkT3JpZyk7IH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7IC8vIEJ5IGRlZmF1bHQgbG9hZGluZyBwZXJpb2QgbnVtYmVyIG9mIGl0ZW1zXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIGVuZCAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcblxuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IFZhbHVlQWNjZXNzb3JGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZSh0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGV4dGVuZGVkIChmYWtlKSBpdGVtc1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLnRyaW1SaWdodChpdGVtID0+IGl0ZW0uaXNGYWtlKTtcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS50cmltTGVmdChpdGVtID0+IGl0ZW0uaXNGYWtlKTtcblxuICAgICAgICBsZXQgY29tcHV0ZWRBcnJheTogVFtdID0gW107XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMucmVxdWlyZWRJdGVtc09uQ29tcHV0ZTsgLy90aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3Qgc291cmNlSXRlbXMgPSBuZXcgRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KE4sIChsaHMsIHJocykgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfSk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkSXRlbXMgPSBuZXcgRml4ZWRTaXplQXJyYXk8VD4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcblxuICAgICAgICAvLyBHZXQgc291cmNlIGRhdGEgd2l0aG91dCBsb2FkaW5nXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuc291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gU2VsZWN0IGxhc3Qgc291cmNlIGl0ZW1zXG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGlmICghaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBkb2VzIG5vdCBjb250YWluIHVwZGF0ZWQgZGF0YScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldiA9IEluZGljYXRvckRhdGFTb3VyY2UuZ2V0UHJldmlvdXNJdGVtcyhpdGVyYXRvciwgTiAtIDEpO1xuICAgICAgICAgICAgc291cmNlSXRlbXMucHVzaFJhbmdlKHByZXYpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGxhc3QgY29tcHV0ZWQgaXRlbXNcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChpdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZE9yaWcuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkgPSBJbmRpY2F0b3JEYXRhU291cmNlLmdldFByZXZpb3VzSXRlbXMoaXRlciwgTiAtIDEpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkSXRlbXMucHVzaFJhbmdlKGNvbXB1dGVkQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR28gdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXRlcmF0b3IubW92ZU5leHQoKSkgeyByZXR1cm47IH0gLy8gRmluaXNoIGlmIG5vIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0aW9uc1xuICAgICAgICAvLyBcblxuICAgICAgICBjb25zdCBmaXJzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGFzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICAgICAgc291cmNlSXRlbXMucHVzaChpdGVyYXRvci5jdXJyZW50KTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSB0aGlzLmNvbXB1dGVPbmUoc291cmNlSXRlbXMsIGNvbXB1dGVkSXRlbXMsIGFjY2Vzc29yKTtcblxuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICAgIGNvbXB1dGVkSXRlbXMucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgICAvL2xhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9IHdoaWxlIChpdGVyYXRvci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvLyBNZXJnZSB1c2luZyBvcmlnVWlkLCBub3QgdWlkXG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWRBcnJheSk7XG5cbiAgICAgICAgdGhpcy5hZnRlckNvbXB1dGUoYXJnKTtcblxuICAgICAgICBjb25zdCBvcmlnQXJnID0gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoZmlyc3RVaWQsIGxhc3RVaWQsIGNvbXB1dGVkQXJyYXkubGVuZ3RoKTtcbiAgICAgICAgLy8gVXBkYXRlIHNoaWZ0XG4gICAgICAgIGNvbnN0IHNoaWZ0ZWRBcmcgPSB0aGlzLnNoaWZ0VGltZShvcmlnQXJnLCB0aGlzLnNldHRpbmdzLmRpc3BsYWNlbWVudCk7XG4gICAgICAgIHJldHVybiBzaGlmdGVkQXJnO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sIGNvbXB1dGVkOiBGaXhlZFNpemVBcnJheTxUPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogVDtcblxuICAgIHByb3RlY3RlZCBhZnRlckNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCkgeyB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnRUaW1lKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCwgc2hpZnQ6IG51bWJlcik6IERhdGFDaGFuZ2VkQXJndW1lbnQge1xuICAgICAgICAvLyBUT0RPOiBhcmcgY2FuIG5hcnJvdyBzaGlmdCBhcmVhXG5cbiAgICAgICAgaWYgKHNoaWZ0ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zaGlmdFRpbWVSaWdodChzaGlmdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hpZnQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0VGltZUxlZnQoc2hpZnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ub3NoaWZ0KCk7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgbmV3IERhdGFDaGFuZ2VBcmd1bWVudFxuICAgICAgICBsZXQgc2hpZnRlZEZpcnN0VWlkO1xuICAgICAgICBsZXQgc2hpZnRlZExhc3RVaWQ7XG4gICAgICAgIGNvbnN0IGl0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGlmIChpdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZE9yaWcuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSApIHtcbiAgICAgICAgICAgIHNoaWZ0ZWRGaXJzdFVpZCA9IGl0ZXIuY3VycmVudC51aWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkT3JpZy5jb21wYXJlKGFyZy51aWRMYXN0KSA9PT0gMCkgKSB7XG4gICAgICAgICAgICBzaGlmdGVkTGFzdFVpZCA9IGl0ZXIuY3VycmVudC51aWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBJbml0IGxhc3RVaWRCZWZvcmUvbGFzdFVpZEFmdGVyLlxuICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoXG4gICAgICAgICAgICBzaGlmdGVkRmlyc3RVaWQgfHwgYXJnLnVpZEZpcnN0LFxuICAgICAgICAgICAgc2hpZnRlZExhc3RVaWQgfHwgYXJnLnVpZExhc3QsXG4gICAgICAgICAgICBhcmcuY291bnRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vc2hpZnQoKSB7XG4gICAgICAgIC8vIEp1c3QgY29weSB1aWRcbiAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKGl0ZXIubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgaXRlci5jdXJyZW50LnVpZCA9IGl0ZXIuY3VycmVudC51aWRPcmlnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVW5pdGUgd2l0aCBzaGlmdFJpZ2h0XG4gICAgcHJpdmF0ZSBzaGlmdFRpbWVMZWZ0KHNoaWZ0OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGlzRmFrZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBpdGVyRmlyc3QgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IGl0ZXJMYXN0ID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIGlmICghaXRlckZpcnN0LmdvVG9MYXN0KCkgfHwgIWl0ZXJMYXN0LmdvVG9MYXN0KCkpIHtcbiAgICAgICAgICAgIC8vIG5vIGl0ZW1zIHRvIHNoaWZ0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaGlmdCBmaXJzdCBpdGVyYXRvciB0byBzdGFydCBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGxldCB1aWRGaXJzdCA9IGl0ZXJGaXJzdC5jdXJyZW50LnVpZE9yaWc7XG4gICAgICAgIHdoaWxlIChjb3VudGVyIDwgTWF0aC5hYnMoc2hpZnQpKSB7XG4gICAgICAgICAgICBpc0Zha2UgPSAhaXRlckZpcnN0Lm1vdmVQcmV2KCk7XG4gICAgICAgICAgICBpZiAoaXNGYWtlKSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSB0aGlzLnNoaWZ0VWlkKHVpZEZpcnN0LCAtMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpZEZpcnN0ID0gaXRlckZpcnN0LmN1cnJlbnQudWlkT3JpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IGNvcHlpbmcgdWlkIGxvb3AgXG4gICAgICAgIC8vXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIE1vdmUgdWlkXG4gICAgICAgICAgICBpdGVyTGFzdC5jdXJyZW50LnVpZCA9IG5ldyBVaWQodWlkRmlyc3QudCwgdWlkRmlyc3Qubik7XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IG9uZSBzdGVwXG4gICAgICAgICAgICBpc0Zha2UgPSAhaXRlckZpcnN0Lm1vdmVQcmV2KCk7XG4gICAgICAgICAgICBpZiAoaXNGYWtlKSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSB0aGlzLnNoaWZ0VWlkKHVpZEZpcnN0LCAtMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpZEZpcnN0ID0gaXRlckZpcnN0LmN1cnJlbnQudWlkT3JpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoaXRlckxhc3QubW92ZVByZXYoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaGlmdFRpbWVSaWdodChzaGlmdDogbnVtYmVyKSB7XG4gICAgICAgIGxldCBpc0Zha2UgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgaXRlckZpcnN0ID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBjb25zdCBpdGVyTGFzdCA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICBpZiAoIWl0ZXJGaXJzdC5tb3ZlTmV4dCgpIHx8ICFpdGVyTGFzdC5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICAvLyBubyBpdGVtcyB0byBzaGlmdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hpZnQgZmlyc3QgaXRlcmF0b3IgdG8gc3RhcnQgcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICBsZXQgdWlkRmlyc3QgPSBpdGVyRmlyc3QuY3VycmVudC51aWRPcmlnO1xuICAgICAgICB3aGlsZSAoY291bnRlciA8IE1hdGguYWJzKHNoaWZ0KSkge1xuICAgICAgICAgICAgaXNGYWtlID0gIWl0ZXJGaXJzdC5tb3ZlTmV4dCgpO1xuICAgICAgICAgICAgaWYgKGlzRmFrZSkge1xuICAgICAgICAgICAgICAgIHVpZEZpcnN0ID0gdGhpcy5zaGlmdFVpZCh1aWRGaXJzdCwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpZEZpcnN0ID0gaXRlckZpcnN0LmN1cnJlbnQudWlkT3JpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IGNvcHlpbmcgdWlkIGxvb3AgXG4gICAgICAgIC8vXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIE1vdmUgdWlkXG4gICAgICAgICAgICBpdGVyTGFzdC5jdXJyZW50LnVpZCA9IG5ldyBVaWQodWlkRmlyc3QudCwgdWlkRmlyc3Qubik7XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IG9uZSBzdGVwXG4gICAgICAgICAgICBpc0Zha2UgPSAhaXRlckZpcnN0Lm1vdmVOZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXNGYWtlKSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSB0aGlzLnNoaWZ0VWlkKHVpZEZpcnN0LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSBpdGVyRmlyc3QuY3VycmVudC51aWRPcmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChpdGVyTGFzdC5tb3ZlTmV4dCgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNoaWZ0VWlkKHVpZDogVWlkLCBzaGlmdDogbnVtYmVyKTogVWlkIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaWQoXG4gICAgICAgICAgICB0aGlzLmFkZEludGVydmFsKHVpZC50LCBzaGlmdClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnREYXRhRXh0KHNoaWZ0OiBudW1iZXIsIHJlcGxhY2U6IChkZXN0OiBULCBzb3VyY2U/OiBUKSA9PiB2b2lkKSB7XG5cbiAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICB0aGlzLmV4dGVuZChzaGlmdCwgaXRlcik7XG5cbiAgICAgICAgY29uc3QgaXRlckxlYWQgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IGl0ZXJGb2xsb3cgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgaWYgKHNoaWZ0ID4gMCkge1xuXG4gICAgICAgICAgICBsZXQgbGVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGZvbGxvdyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBNb3ZlIGxlYWQgaXRlcmF0b3IgdG8gdGhlIGxhc3Qgbm90IGZha2UgaXRlbVxuICAgICAgICAgICAgbGVhZCA9IGl0ZXJMZWFkLmdvVG9MYXN0KCk7XG5cbiAgICAgICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgICAgIGl0ZXJMZWFkLnNvbWViYWNrd2FyZChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNGYWtlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEZvbGxvdyBpdGVyYXRvciBzaG91bGQgYmUgXCJzaGlmdFwiIGl0ZW1zIGJhY2sgZnJvbSBsZWFkXG4gICAgICAgICAgICBmb2xsb3cgPSBpdGVyRm9sbG93LmdvVG9MYXN0KCk7XG4gICAgICAgICAgICBjb3VudGVyID0gY291bnRlciAtIChzaGlmdCArIDEpO1xuICAgICAgICAgICAgd2hpbGUgKGNvdW50ZXIgPiAwKSB7IGZvbGxvdyA9IGl0ZXJGb2xsb3cubW92ZVByZXYoKTsgY291bnRlciAtPSAxOyB9XG5cbiAgICAgICAgICAgIHdoaWxlIChmb2xsb3cpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGxlYWQgPyBpdGVyTGVhZC5jdXJyZW50IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc3QgPSBpdGVyRm9sbG93LmN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICByZXBsYWNlKGRlc3QsIHNvdXJjZSk7IC8vIHNvdXJjZSBjYW4gYmUgdW5kZWZpbmVkXG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGJvdGggaXRlcmF0b3JzIGxlZnRcbiAgICAgICAgICAgICAgICBsZWFkID0gaXRlckxlYWQubW92ZVByZXYoKTtcbiAgICAgICAgICAgICAgICBmb2xsb3cgPSBpdGVyRm9sbG93Lm1vdmVQcmV2KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChzaGlmdCA8IDApIHtcblxuICAgICAgICAgICAgbGV0IGxlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBmb2xsb3cgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTW92ZSBsZWFkIGl0ZXJhdG9yIHRvIHRoZSBmaXJzdCBub3QgZmFrZSBpdGVtXG4gICAgICAgICAgICBsZXQgbW92ZXMgPSBpdGVyTGVhZC5tb3ZlTmV4dCgpID8gaXRlckxlYWQubW92ZVRvKGl0ZW0gPT4gIWl0ZW0uaXNGYWtlKSA6IC0xOyAvLyBCZWZvcmUgbW92ZVRvLCBtb3ZlTmV4dCBzaG91bGQgYmUgY2FsbGVkXG4gICAgICAgICAgICBsZWFkID0gbW92ZXMgPiAwO1xuXG4gICAgICAgICAgICAvLyBGb2xsb3cgaXRlcmF0b3Igc2hvdWxkIGJlIFwic2hpZnRcIiBpdGVtcyBiYWNrIGZyb20gbGVhZFxuICAgICAgICAgICAgbW92ZXMgPSBtb3ZlcyAtIE1hdGguYWJzKHNoaWZ0KTtcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlcyA+IDApIHsgZm9sbG93ID0gaXRlckZvbGxvdy5tb3ZlTmV4dCgpOyBtb3ZlcyAtPSAxOyB9XG5cbiAgICAgICAgICAgIHdoaWxlIChmb2xsb3cpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGxlYWQgPyBpdGVyTGVhZC5jdXJyZW50IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc3QgPSBpdGVyRm9sbG93LmN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICByZXBsYWNlKGRlc3QsIHNvdXJjZSk7IC8vIHNvdXJjZSBjYW4gYmUgdW5kZWZpbmVkXG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGJvdGggaXRlcmF0b3JzIGxlZnRcbiAgICAgICAgICAgICAgICBsZWFkID0gaXRlckxlYWQubW92ZU5leHQoKTtcbiAgICAgICAgICAgICAgICBmb2xsb3cgPSBpdGVyRm9sbG93Lm1vdmVOZXh0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHsgLy8gc2hpZnQgPT09IDBcbiAgICAgICAgICAgIC8vIFNvdXJjZSBhbmQgZGVzdCBpcyB0aGUgc2FtZSBlbGVtZW50XG4gICAgICAgICAgICB3aGlsZSAoaXRlckxlYWQubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgICAgIHJlcGxhY2UoaXRlckxlYWQuY3VycmVudCwgaXRlckxlYWQuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4dGVuZChzaGlmdDogbnVtYmVyLCBpdGVyOiBJRGF0YUl0ZXJhdG9yPFQ+KSB7XG4gICAgICAgIGlmIChzaGlmdCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGZha2UgaXRlbXMuIFdvcmtpbmcgd2l0aCB1aWRfb3JpZ1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYWxyZWFkeSBmYWtlIGl0ZW1zLCB0aGV5IHNob3VsZCBub3QgYmUgcmVtb3ZlZC5cblxuICAgICAgICBjb25zdCBleHRlbmRlZDogVFtdID0gW107XG5cbiAgICAgICAgaWYgKHNoaWZ0IDwgMCkge1xuICAgICAgICAgICAgLy8gR2V0IGNvdW50IG9mIGZha2UgaXRlbXNcbiAgICAgICAgICAgIGNvbnN0IG1vdmVkID0gaXRlci5tb3ZlTmV4dCgpID8gaXRlci5tb3ZlVG8oaXRlbSA9PiAhaXRlbS5pc0Zha2UpIDogLTE7IC8vIEJlZm9yZSBtb3ZlVG8sIG1vdmVOZXh0IHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAgICAgIGNvbnN0IGZha2VJdGVtcyA9IChtb3ZlZCAhPT0gLTEpID8gbW92ZWQgLSAxIDogMDtcblxuICAgICAgICAgICAgLy8gQWRkIGZha2UgaXRlbXNcbiAgICAgICAgICAgIGNvbnN0IGFkZCA9IE1hdGguYWJzKHNoaWZ0KSAtIGZha2VJdGVtcztcblxuICAgICAgICAgICAgLy8gR2V0IGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChpdGVyLmdvVG8oaXRlbSA9PiB0cnVlKSkge1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBpdGVyLmN1cnJlbnQudWlkO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZGQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICB1aWQgPSB0aGlzLnNoaWZ0VWlkKHVpZCwgc2hpZnQgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gPFQ+bmV3IHRoaXMuZGF0YVR5cGUodWlkLnQpO1xuICAgICAgICAgICAgICAgICAgICBleHQuaXNGYWtlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZXh0LnVpZE9yaWcgPSBuZXcgVWlkKHVpZC50KTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWQucHVzaChleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGlmdCA+IDApIHtcbiAgICAgICAgICAgIGlmIChpdGVyLmdvVG9MYXN0KCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW92ZWQgPSAwO1xuICAgICAgICAgICAgICAgIGl0ZXIuc29tZWJhY2t3YXJkKChpdGVtLCBjb3VudGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkID0gY291bnRlcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNGYWtlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZha2VJdGVtcyA9IG1vdmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZCA9IE1hdGguYWJzKHNoaWZ0KSAtIGZha2VJdGVtcztcblxuICAgICAgICAgICAgICAgIGl0ZXIuZ29Ub0xhc3QoKTtcbiAgICAgICAgICAgICAgICBsZXQgdWlkID0gaXRlci5jdXJyZW50LnVpZDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpZCA9IHRoaXMuc2hpZnRVaWQodWlkLCBzaGlmdCA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHQgPSA8VD5uZXcgdGhpcy5kYXRhVHlwZSh1aWQudCk7XG4gICAgICAgICAgICAgICAgICAgIGV4dC5pc0Zha2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBleHQudWlkT3JpZyA9IG5ldyBVaWQodWlkLnQpO1xuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZC5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShleHRlbmRlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2RhdGFzb3VyY2UnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGlzcGxhY2VtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZGlzcGxhY2VtZW50LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0Rpc3BsYWNlbWVudCdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGlnaC50b1N0cmluZygpLCB0ZXh0OiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzLnRvU3RyaW5nKCksIHRleHQ6ICdobGMzJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2RhdGFzb3VyY2UucGVyaW9kJywgdGhpcy5zZXR0aW5ncy5wZXJpb2QpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRpc3BsYWNlbWVudCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2RhdGFzb3VyY2UuZGlzcGxhY2VtZW50JywgdGhpcy5zZXR0aW5ncy5kaXNwbGFjZW1lbnQpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2RhdGFzb3VyY2UudmFsdWVUeXBlJywgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUpO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZDogbnVtYmVyID0gMjA7XG4gICAgcHVibGljIGRpc3BsYWNlbWVudDogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgdXBwZXJUaHJlc2hvbGQ6IG51bWJlciA9IDA7XG4gICAgcHVibGljIGxvd2VyVGhyZXNob2xkOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyB2YWx1ZVR5cGU6IFZhbHVlQWNjZXNzb3JUeXBlID0gVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2U7XG59XG4iLCIvKipcbiAqIFN0b2NoYXN0aWNPc2NpbGxhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRSZW5kZXJlciwgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBGYXN0ICVLID0gMTAwIHggKEMtTCkgLyAoSC1MKSAvLyBoaWdoZXN0IGhpZ2gsIGxvd2VzdCBsb3dcbi8vIEZhc3QgJUQgPSBTTUEgKEZhc3QgJUssIDMpXG4vL1xuLy8gU2xvdyAlSyA9IFNNQSAoRmFzdCAlSywgMylcbi8vIFNsb3cgJUQgPSBTTUEgKFNsb3cgJUssIDMpXG5cbmV4cG9ydCBjbGFzcyBEb3VibGVDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgZmFzdEs6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIGZhc3REOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyBLOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyBEOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRhdGU6IERhdGUsIGM/OiBudW1iZXIsIG8/OiBudW1iZXIsIGg/OiBudW1iZXIsIGw/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoZGF0ZSwgYywgbywgaCwgbCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLksgIT09IHVuZGVmaW5lZCA/IHRoaXMuSy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMuRCAhPT0gdW5kZWZpbmVkID8gdGhpcy5ELnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmFzdFN0b2NoYXN0aWNPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERvdWJsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IEZhc3RTdG9jaGFzdGljU2V0dGluZ3MgPSBuZXcgRmFzdFN0b2NoYXN0aWNTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0ZTVE9DJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsgPSAxNDtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REID0gMztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSywgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERvdWJsZUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRG91YmxlQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3QgcGVyaW9kSyA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSztcbiAgICAgICAgY29uc3QgcGVyaW9kRCA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7IC8vIHNvdXJjZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0uXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpOyAvLyBjb21wdXRlZCBjYW4gY29udGFpbiBubyBpdGVtcy5cblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGNvbXB1dGVGYXN0Syhzb3VyY2VJdGVtcywgcGVyaW9kSyk7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2UuYzsgLy8gdGhpcy5hY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBTbG93ICVLIHNob3VsZCBzdGFydCBjb21wdXRpbmcgb25seSB3aGVuIHRoZXJlIGlzIGVub3VnaCB2YWx1ZXMuIE5vdCBmcm9tIHRoZSBzdGFydFxuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRGYXN0SyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLksgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5mYXN0RCA9IHRoaXMubWEuY29tcHV0ZShwZXJpb2RELCBjb21wdXRlZEFycmF5LCBjID0+ICg8RG91YmxlQ2FuZGxlc3RpY2s+YykuZmFzdEssIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRGYXN0Syk7XG5cbiAgICAgICAgICAgIGNvbXB1dGVkLksgPSBjb21wdXRlZC5mYXN0SztcbiAgICAgICAgICAgIGNvbXB1dGVkLkQgPSBjb21wdXRlZC5mYXN0RDtcblxuICAgICAgICAgICAgLy8gY29tcHV0ZWQuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgLy8gY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IDAsIGVuZDogMTAwIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RLJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZEsnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSy50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJyVLIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZEQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kRCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RELnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJUQgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2RLID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RLJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSyA9IChwZXJpb2RLICYmIHBlcmlvZEsudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kSy52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLO1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZEQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQgPSAocGVyaW9kRCAmJiBwZXJpb2RELnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZEQudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2xvd1N0b2NoYXN0aWNPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERvdWJsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IFNsb3dTdG9jaGFzdGljU2V0dGluZ3MgPSBuZXcgU2xvd1N0b2NoYXN0aWNTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NTVE9DJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsgPSAxNDtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REID0gMztcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyRCA9IDM7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEssIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRCwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyRCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxEb3VibGVDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IERvdWJsZUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG4gICAgICAgIGNvbnN0IHBlcmlvZEsgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEs7XG4gICAgICAgIGNvbnN0IHBlcmlvZEQgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQ7XG4gICAgICAgIGNvbnN0IHBlcmlvZDJEID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyRDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7IC8vIHNvdXJjZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0uXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpOyAvLyBjb21wdXRlZCBjYW4gY29udGFpbiBubyBpdGVtcy5cblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IGNvbXB1dGVGYXN0Syhzb3VyY2VJdGVtcywgcGVyaW9kSyk7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2UuYzsgLy8gdGhpcy5hY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBTbG93ICVLIHNob3VsZCBzdGFydCBjb21wdXRpbmcgb25seSB3aGVuIHRoZXJlIGlzIGVub3VnaCB2YWx1ZXMuIE5vdCBmcm9tIHRoZSBzdGFydFxuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTbG93SyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLksgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5LID0gdGhpcy5tYS5jb21wdXRlKHBlcmlvZEQsIGNvbXB1dGVkQXJyYXksIGMgPT4gKDxEb3VibGVDYW5kbGVzdGljaz5jKS5mYXN0SywgY29tcHV0ZWQsIGxhc3RDb21wdXRlZFNsb3dLKTtcblxuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU2xvd0QgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5EIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29tcHV0ZWQuRCA9IHRoaXMubWEuY29tcHV0ZShwZXJpb2QyRCwgY29tcHV0ZWRBcnJheSwgYyA9PiAoPERvdWJsZUNhbmRsZXN0aWNrPmMpLkssIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRTbG93RCk7XG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGVkLmMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIC8vIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kSycsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RLJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICclSyBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2REJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZEQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJyVEIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZDJEJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZDJEJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJELnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnMm5kICVEIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kSyA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kSycpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsgPSAocGVyaW9kSyAmJiBwZXJpb2RLLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZEsudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSztcblxuICAgICAgICBjb25zdCBwZXJpb2REID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REID0gKHBlcmlvZEQgJiYgcGVyaW9kRC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RELnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQ7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kMkQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJEID0gKHBlcmlvZDJEICYmIHBlcmlvZDJELnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZDJELnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJEO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPQk9TT3NjaWxsYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxEb3VibGVDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoRG91YmxlQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPQk9TJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDE0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RG91YmxlQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kSyA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gY29tcHV0ZUZhc3RLKHNvdXJjZUl0ZW1zLCBwZXJpb2RLKTtcblxuICAgICAgICBpZiAoY29tcHV0ZWQuZmFzdEsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQuYyA9IGNvbXB1dGVkLmZhc3RLO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgRmFzdFN0b2NoYXN0aWNTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZEs6IG51bWJlciA9IDE0O1xuICAgIHB1YmxpYyBwZXJpb2REOiBudW1iZXIgPSAzO1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG59XG5cbmNsYXNzIFNsb3dTdG9jaGFzdGljU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBwZXJpb2RLOiBudW1iZXIgPSAxNDtcbiAgICBwdWJsaWMgcGVyaW9kRDogbnVtYmVyID0gMztcbiAgICBwdWJsaWMgcGVyaW9kMkQ6IG51bWJlciA9IDM7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0b2NoYXN0aWNPc2NpbGxhdG9yUmVuZGVyZXIgZXh0ZW5kcyBDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxhcGZpbGwgPSB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGZpbGw7XG4gICAgICAgIGNvbnN0IHVwdGhyZXNob2xkID0gdGhpcy5zZXR0aW5ncy56b25lLnVwdGhyZXNob2xkO1xuICAgICAgICBjb25zdCBsb3d0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLnpvbmUubG93dGhyZXNob2xkO1xuXG4gICAgICAgIGNvbnN0IHVwcGVyID0geUF4aXMudG9YKHVwdGhyZXNob2xkKTtcbiAgICAgICAgY29uc3QgbG93ZXIgPSB5QXhpcy50b1gobG93dGhyZXNob2xkKTtcblxuICAgICAgICAvLyBDb2xsZWN0IGNoYXJ0cyBwb2ludHNcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgSzogSVBvaW50W10gPSBbXTtcbiAgICAgICAgSy5sZW5ndGggPSB0aW1lQXhpcy5jb3VudDsgLy8gcHJlYWxsb2NhdGUgbWVtb3J5XG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhLCAoaXRlbSwgeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEb3VibGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSA8RG91YmxlQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoZCAmJiBkLksgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKGQuSyk7XG4gICAgICAgICAgICAgICAgICAgIEtbaV0gPSB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIEsubGVuZ3RoID0gaTtcblxuICAgICAgICBpZiAob3ZlcmxhcGZpbGwgJiYgSy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBSZW5kZXJVdGlscy5maWxsT3ZlcmxhcChjYW52YXMsIEssIHVwcGVyLCB0cnVlLCAnZ3JlZW4nKTtcbiAgICAgICAgICAgIFJlbmRlclV0aWxzLmZpbGxPdmVybGFwKGNhbnZhcywgSywgbG93ZXIsIGZhbHNlLCAncmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEb3VibGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvdWJsZSA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkb3VibGUuSyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IGRvdWJsZS5LIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcblxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMwMEI3MzAnKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjQjUwMDIxJyk7XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEb3VibGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvdWJsZSA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkb3VibGUuRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG91YmxlLkQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcblxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCB6b25lID0gc3VwZXIuZ2V0Wm9uZXNTZXR0aW5ncygpO1xuXG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IG5ldyBTZXR0aW5nU2V0KCd2aXN1YWwnKTtcbiAgICAgICAgdmlzdWFsLnNldFNldHRpbmcoJ3pvbmVzJywgem9uZSk7XG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSBzZXR0aW5ncy5nZXRTZXR0aW5nKCd2aXN1YWwuem9uZXMnKTtcbiAgICAgICAgaWYgKHpvbmUpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldFpvbmVzU2V0dGluZ3Moem9uZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVGYXN0Syhzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LCBwZXJpb2RLOiBudW1iZXIpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7IC8vIHNvdXJjZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0uXG5cbiAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBEb3VibGVDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgIGNvbnN0IHZhbHVlID0gc291cmNlLmM7IC8vIGFjY2Vzc29yKHNvdXJjZSlcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIC8vIGNhbGN1bGF0aW5nIG1pbi9tYXggd2l0aCBjdXJyZW50IHZhbHVlXG4gICAgICAgIGNvbnN0IEggPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIHBlcmlvZEspOyAgIC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxuICAgICAgICBjb25zdCBMID0gc291cmNlSXRlbXMubWluKGMgPT4gYy5sLCBwZXJpb2RLKTsgICAvLyBsb3dlc3QgbG93IGZvciB0aGUgcGVyaW9kXG5cbiAgICAgICAgaWYgKEggIT09IHVuZGVmaW5lZCAmJiBMICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkLmZhc3RLID0gKEwgIT09IEgpID8gMTAwICogKHZhbHVlIC0gTCkgLyAoSCAtIEwpIDogMTAwOyAvLyBmYXN0ICVLXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG59XG4iLCIvKipcbiAqIFRyaXBsZSBFeHBvbmVudGlhbCBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgVEVNQUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBFTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgREVNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBURU1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBURU1BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPFRFTUFDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBlbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKFRFTUFDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RFTUEnO1xuXG4gICAgICAgIHRoaXMuZW1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFRFTUFDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFRFTUFDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFRFTUFDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1BIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyAxLiBDb21wdXRlIEVNQVxuICAgICAgICAgICAgY29tcHV0ZWQuRU1BID0gdGhpcy5lbWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkRU1BKTtcblxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkLkVNQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gMi4gQ29tcHV0ZSBERU1BLiBPbiBiYXNlIG9mIGNvbXB1dGVkIEVNQVxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZERFTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5ERU1BIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkaW5nIGxhc3QgY29tcHV0ZWQgRU1BIHRvIGNhbGN1bGF0ZSBERU1BXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuREVNQSA9IHRoaXMuZW1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPFRFTUFDYW5kbGVzdGljaz5pdGVtKS5FTUEsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRERU1BKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuREVNQSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gQ29tcHV0ZSBURU1BLiBPbiBiYXNlIG9mIGNvbXB1dGVkIERFTUFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVEVNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLlRFTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuVEVNQSA9IHRoaXMuZW1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPFRFTUFDYW5kbGVzdGljaz5pdGVtKS5ERU1BLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkVEVNQSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVkLlRFTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IDMgKiBjb21wdXRlZC5FTUEgLSAzICogY29tcHV0ZWQuREVNQSArIGNvbXB1dGVkLlRFTUE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVHJpYW5ndWxhciBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgVE1BQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgcHVibGljIFNNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgVE1BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPFRNQUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIHNtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIHRtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoVE1BQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUTUEnO1xuXG4gICAgICAgIHRoaXMuc21hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG4gICAgICAgIHRoaXMudG1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlRyaWFuZ3VsYXIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8VE1BQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBUTUFDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFRNQUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5TTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIC8vIDEuIENvbXB1dGUgU01BXG4gICAgICAgICAgICBjb21wdXRlZC5TTUEgPSB0aGlzLnNtYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRTTUEpO1xuXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQuU01BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAyLiBDb21wdXRlIFRNQS4gT24gYmFzZSBvZiBjb21wdXRlZCBUTUFcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFRNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcgbGFzdCBjb21wdXRlZCBFTUEgdG8gY2FsY3VsYXRlIERFTUFcbiAgICAgICAgICAgICAgICBjb25zdCBUTUEgPSB0aGlzLnRtYS5jb21wdXRlKE4sIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxUTUFDYW5kbGVzdGljaz5pdGVtKS5TTUEsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRUTUEpO1xuICAgICAgICAgICAgICAgIGlmIChUTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gVE1BO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVHlwaWNhbCBQcmljZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgVFBJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVFAnO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgaWYgKHNvdXJjZS5oICE9PSB1bmRlZmluZWQgJiYgc291cmNlLmwgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gKHNvdXJjZS5oICsgc291cmNlLmwgKyBzb3VyY2UuYykgLyAzO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAgIC8qKlxyXG4gICAgICogU3RhbmRhcmQgZGV2aWF0aW9uXHJcbiAgICAgKiBAcGFyYW0gYXJyYXlcclxuICAgICAqIEBwYXJhbSBhdmVyYWdlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgU1REREVWKGFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQsIGF2ZXJhZ2U6IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBzdW0gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihhcnJheS5nZXRJdGVtKGkpKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN1bSArPSBNYXRoLnBvdyh2YWx1ZSAtIGF2ZXJhZ2UsIDIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheS5sZW5ndGggPiAwID8gTWF0aC5zcXJ0KHN1bSAvIGFycmF5Lmxlbmd0aCkgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTUFEID0gU1VNKHxQaSAtIG18KSAvIE5cclxuICAgIC8qKlxyXG4gICAgICogTWVhbiBhYnNvbHV0ZSBkZXZpYXRpb25cclxuICAgICAqIEBwYXJhbSBOIE51bWJlciBvZiBpdGVtcyB0byB0YWtlXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkgU291cmNlIGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzb3IgQWNjZXNzb3IgZm9yIGEgaXRlbSdzIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gbWVhbiBNZWFuIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgTUFEKE46IG51bWJlciwgYXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCwgbWVhbjogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIC8vIFRha2luZyBOIGl0ZW1zIGZyb20gZW5kXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMCAmJiBjb3VudGVyIDwgTjsgaSAtPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3IoYXJyYXkuZ2V0SXRlbShpKSk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gTWF0aC5hYnModmFsdWUgLSBtZWFuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb3VudGVyICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY291bnRlciA+IDAgPyBzdW0gLyBjb3VudGVyIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC8qKlxyXG4gICAgLy8gICogU3RhbmRhcmQgZGV2aWF0aW9uXHJcbiAgICAvLyAgKiBAcGFyYW0gYXJyYXkgXHJcbiAgICAvLyAgKiBAcGFyYW0gYXZlcmFnZSBcclxuICAgIC8vICAqL1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBTVERERVZOKGFycmF5OiBudW1iZXIsKSB7XHJcbiAgICAvLyAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgLy8gICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGFycmF5LmdldEl0ZW0oaSkpO1xyXG4gICAgLy8gICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgLy8gICAgICAgICAgICAgc3VtICs9IE1hdGgucG93KHZhbHVlIC0gYXZlcmFnZSwgMik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIGFycmF5Lmxlbmd0aCA+IDAgPyBNYXRoLnNxcnQoc3VtIC8gYXJyYXkubGVuZ3RoKSA6IDA7XHJcbiAgICAvLyB9ICAgIFxyXG59XHJcbiIsIi8qKlxuICogSGlzdG9yaWMgVm9sYXRpbGl0eSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgTG9nUmV0dXJuRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFJpID0gTG9nIChQaSAvIFAoaS0xKSlcbi8vIEF2ZyA9IFNVTShSaSkgLyBuICAgICBvciBtb3ZpbmcgYXZlcmFnZVxuLy8gU1NEID0gU1VNIChSaSAtIEF2Zylcbi8vIEhWID0gU1FSVChTU0QgLyAobiAtIDEpKSAqIFNRUlQoVFApXG4vLyBcbi8vIFRQIGlzXG4vLyBNb250aGx5IC0gMTJcbi8vIFdlZWtseSAtICA1MlxuLy8gRGFpbHkgLSAyNTJcbi8vIEludHJhZGF5IC0gMjUyICogYmFycyBwZXIgZGF5XG5cbmV4cG9ydCBjbGFzcyBSU0lDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFZPTEFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8UlNJQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHQ6IExvZ1JldHVybkV4dGVuc2lvbjtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoUlNJQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdWT0xBJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG5cbiAgICAgICAgLy8gVk9MQSByZXF1aXJlcyBcIlJldHVyblwiXG4gICAgICAgIHRoaXMuaW5pdEV4dGVuc2lvbigpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8UlNJQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBSU0lDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFJTSUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5leHQ7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBtb3ZpbmcgYXZlcmFnZVxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLk1BIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5NQSA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgY2FuZGxlID0+IGV4dC52YWx1ZShjYW5kbGUpLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZE1BKTtcblxuICAgICAgICAvLyBDb21wdXRlIGRpdmVyc2VcbiAgICAgICAgaWYgKGNvbXB1dGVkLk1BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF2ZyA9IGNvbXB1dGVkLk1BO1xuICAgICAgICAgICAgY29uc3QgU1NEID0gc291cmNlSXRlbXMuc3VtKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IGV4dC52YWx1ZShpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHJldCAhPT0gdW5kZWZpbmVkKSA/IE1hdGguYWJzKHJldCAtIGF2ZykgOiAwO1xuICAgICAgICAgICAgfSwgTik7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5nZXRUUEJ5SW50ZXJ2YWwodGhpcy5jb250ZXh0LmludGVydmFsKCkpO1xuXG4gICAgICAgICAgICBpZiAoU1NEICE9PSB1bmRlZmluZWQgJiYgTiA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIEhWXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IFNTRCAhPT0gMCA/IE1hdGguc3FydChTU0QgLyAoTiAtIDEpKSAqIE1hdGguc3FydChpbnRlcnZhbCkgOiAwO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFRyYWRpbmcgUGVyaW9kXG4gICAgICogQHBhcmFtIGludGVydmFsIFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0VFBCeUludGVydmFsKGludGVydmFsOiBUaW1lSW50ZXJ2YWwpOiBudW1iZXIge1xuICAgICAgICBzd2l0Y2ggKGludGVydmFsKSB7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDogcmV0dXJuIDEyO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwud2VlazogcmV0dXJuIDUyO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MTA6IHJldHVybiAyNTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTogcmV0dXJuIDI1MjtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXIxMjogcmV0dXJuIDI1MiAqIDI7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNjogcmV0dXJuIDI1MiAqIDQ7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNDogcmV0dXJuIDI1MiAqIDY7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gMjUyICogMjQ7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4zMDogcmV0dXJuIDI1MiAqIDI0ICogMjtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjE1OiByZXR1cm4gMjUyICogMjQgKiA0O1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluNTogcmV0dXJuIDI1MiAqIDI0ICogMTI7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW46IHJldHVybiAyNTIgKiAyNCAqIDYwO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuc2VjOiByZXR1cm4gMjUyICogMjQgKiA2MCAqIDYwO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0aW1lIGludGVydmFsICR7aW50ZXJ2YWx9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndmFsdWVUeXBlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGN1bGF0ZSB1c2luZycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2UudG9TdHJpbmcoKSwgdGV4dDogJ2Nsb3NlJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9wZW4udG9TdHJpbmcoKSwgdGV4dDogJ29wZW4nIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGlnaC50b1N0cmluZygpLCB0ZXh0OiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5sb3cudG9TdHJpbmcoKSwgdGV4dDogJ2xvdycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obDIudG9TdHJpbmcoKSwgdGV4dDogJ2hsMicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzLnRvU3RyaW5nKCksIHRleHQ6ICdobGMzJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9obGM0LnRvU3RyaW5nKCksIHRleHQ6ICdvaGxjNCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNC50b1N0cmluZygpLCB0ZXh0OiAnaGxjYzQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZS1pbml0IGV4dGVuc2lvbiB3aXRoIG5ldyB2YWx1ZSB0eXBlXG4gICAgICAgIHRoaXMuaW5pdEV4dGVuc2lvbigpO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRFeHRlbnNpb24oKSB7XG4gICAgICAgIC8vIHJlbW92ZSBvbGQgZXh0ZW5zaW9uIGFuZCBhZGQgbmV3IG9uZVxuICAgICAgICAvL1xuICAgICAgICBpZiAodGhpcy5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV4dGVuc2lvbih0aGlzLmV4dC51bmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhY2Nlc3NvciA9IFZhbHVlQWNjZXNzb3JGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZSh0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSk7XG4gICAgICAgIHRoaXMuZXh0ID0gbmV3IExvZ1JldHVybkV4dGVuc2lvbihhY2Nlc3Nvcik7XG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbih0aGlzLmV4dC51bmFtZSwgdGhpcy5leHQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVmFsdWVBY2Nlc3NvckZhY3RvcnkgY2xhc3MuXG4gKi9cbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuXG5leHBvcnQgZW51bSBWYWx1ZUFjY2Vzc29yVHlwZSB7XG4gICAgb3BlbixcbiAgICBoaWdoLFxuICAgIGxvdyxcbiAgICBjbG9zZSxcbiAgICBobDIsXG4gICAgaGxjMyxcbiAgICBvaGxjNCxcbiAgICBobGNjNFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWYWx1ZUFjY2Vzc29yIHtcbiAgICAoY2FuZGxlOiBDYW5kbGVzdGljayk6IG51bWJlcnx1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBWYWx1ZUFjY2Vzc29yRmFjdG9yeSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IFZhbHVlQWNjZXNzb3JGYWN0b3J5O1xuXG4gICAgcHJpdmF0ZSBvcGVuID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7IHJldHVybiBjLm87IH07XG4gICAgcHJpdmF0ZSBoaWdoID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7IHJldHVybiBjLmg7IH07XG4gICAgcHJpdmF0ZSBsb3cgPSAoYzogQ2FuZGxlc3RpY2spID0+IHsgcmV0dXJuIGMubDsgfTtcbiAgICBwcml2YXRlIGNsb3NlID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7IHJldHVybiBjLmM7IH07XG4gICAgcHJpdmF0ZSBobDIgPSAoYzogQ2FuZGxlc3RpY2spID0+IHtcbiAgICAgICAgcmV0dXJuICAoYy5oICE9PSB1bmRlZmluZWQgJiYgYy5sICE9PSB1bmRlZmluZWQpID8gKGMuaCEgKyBjLmwpIC8gMiA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcHJpdmF0ZSBobGMzID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7XG4gICAgICAgIHJldHVybiAoYy5oICE9PSB1bmRlZmluZWQgJiYgYy5sICE9PSB1bmRlZmluZWQgJiYgYy5jICE9PSB1bmRlZmluZWQpID8gKGMuaCArIGMubCArIGMuYykgLyAzIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBwcml2YXRlIG9obGM0ID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7XG4gICAgICAgIHJldHVybiAoYy5vICE9PSB1bmRlZmluZWQgJiYgYy5oICE9PSB1bmRlZmluZWQgJiYgYy5sICE9PSB1bmRlZmluZWQgJiYgYy5jICE9PSB1bmRlZmluZWQpID8gKGMubyArIGMuaCArIGMubCArIGMuYykgLyA0IDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBwcml2YXRlIGhsY2M0ID0gKGM6IENhbmRsZXN0aWNrKSA9PiB7XG4gICAgICAgIHJldHVybiAoYy5oICE9PSB1bmRlZmluZWQgJiYgYy5sICE9PSB1bmRlZmluZWQgJiYgYy5jICE9PSB1bmRlZmluZWQpID8gKGMuaCArIGMubCArIGMuYyArIGMuYykgLyA0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IFZhbHVlQWNjZXNzb3JGYWN0b3J5IHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBWYWx1ZUFjY2Vzc29yRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZSh2YVR5cGU6IFZhbHVlQWNjZXNzb3JUeXBlKTogSVZhbHVlQWNjZXNzb3Ige1xuICAgICAgICBzd2l0Y2ggKHZhVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuOiByZXR1cm4gdGhpcy5vcGVuO1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoOiByZXR1cm4gdGhpcy5oaWdoO1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5sb3c6IHJldHVybiB0aGlzLmxvdztcbiAgICAgICAgICAgIGNhc2UgVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2U6IHJldHVybiB0aGlzLmNsb3NlO1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5obDI6IHJldHVybiB0aGlzLmhsMjtcbiAgICAgICAgICAgIGNhc2UgVmFsdWVBY2Nlc3NvclR5cGUuaGxjMzogcmV0dXJuIHRoaXMuaGxjMztcbiAgICAgICAgICAgIGNhc2UgVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQ6IHJldHVybiB0aGlzLm9obGM0O1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNDogcmV0dXJuIHRoaXMuaGxjYzQ7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgdmFsdWUgYWNjZXNzb3IgdHlwZT0nICsgdmFUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogV2VpZ2h0ZWQgTW92aW5nIEF2ZXJhZ2UgSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuZXhwb3J0IGNsYXNzIFdNQUluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDYW5kbGVzdGlja0V4dD4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdXTUEnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuV2VpZ2h0KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVmFsdWUgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5jIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7IEFEWEluZGljYXRvciB9IGZyb20gJy4vQURYSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgQWxsaWdhdG9ySW5kaWNhdG9yLCBBbGxpZ2F0b3JJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vQWxsaWdhdG9ySW5kaWNhdG9yJztcclxuaW1wb3J0IHsgQXJvb25JbmRpY2F0b3IsIEFyb29uSW5kaWNhdG9yUmVuZGVyZXIsIEFyb29uT3NjaWxsYXRvciB9IGZyb20gJy4vQXJvb25JbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBBVFJJbmRpY2F0b3IgfSBmcm9tICcuL0FUUkluZGljYXRvcic7XHJcbmltcG9ydCB7IEJvbGxpbmdlckluZGljYXRvciwgQm9sbGluZ2VySW5kaWNhdG9yUmVuZGVyZXIgfSBmcm9tICcuL0JvbGxpbmdlckluZGljYXRvcic7XHJcbmltcG9ydCB7IENDSU9zY2lsbGF0b3IgfSBmcm9tICcuL0NDSU9zY2lsbGF0b3InO1xyXG5pbXBvcnQgeyBDT1JJbmRpY2F0b3IgfSBmcm9tICcuL0NPUkluZGljYXRvcic7XHJcbmltcG9ydCB7IERFTUFJbmRpY2F0b3IgfSBmcm9tICcuL0RFTUFJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBESVhPc2NpbGxhdG9yIH0gZnJvbSAnLi9ESVhPc2NpbGxhdG9yJztcclxuaW1wb3J0IHsgRE1JSW5kaWNhdG9yLCBETUlJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vRE1JSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgRFNTQlJPc2NpbGxhdG9yLCBEU1NCUk9zY2lsbGF0b3JSZW5kZXJlcn0gZnJvbSAnLi9EU1NCUk9zY2lsbGF0b3InO1xyXG5pbXBvcnQgeyBFTUFJbmRpY2F0b3IgfSBmcm9tICcuL0VNQUluZGljYXRvcic7XHJcbmltcG9ydCB7IEhITExJbmRpY2F0b3IsIEhITExJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vSEhMTEluZGljYXRvcic7XHJcbmltcG9ydCB7IElLSEluZGljYXRvciwgSUtISW5kaWNhdG9yUmVuZGVyZXIgfSBmcm9tICcuL0lLSEluZGljYXRvcic7XHJcbmltcG9ydCB7IEluZGljYXRvckZhYnJpYywgcmVnaXN0ZXIgfSBmcm9tICcuL0luZGljYXRvckZhYnJpYyc7XHJcbmltcG9ydCB7IE1BQ0RJbmRpY2F0b3IsIE1BQ0RJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vTUFDREluZGljYXRvcic7XHJcbmltcG9ydCB7IE1ESW5kaWNhdG9yIH0gZnJvbSAnLi9NREluZGljYXRvcic7XHJcbmltcG9ydCB7IE1PTUluZGljYXRvciB9IGZyb20gJy4vTU9NSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUENST3NjaWxsYXRvciB9IGZyb20gJy4vUENST3NjaWxsYXRvcic7XHJcbmltcG9ydCB7IFBQSW5kaWNhdG9yLCBQUEluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9QUEluZGljYXRvcic7XHJcbmltcG9ydCB7IFBTQVJJbmRpY2F0b3IsIFBTQVJJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vUFNBUkluZGljYXRvcic7XHJcbmltcG9ydCB7IFJBVElPSW5kaWNhdG9yIH0gZnJvbSAnLi9SQVRJT0luZGljYXRvcic7XHJcbmltcG9ydCB7IFJCSW5kaWNhdG9yLCBSQkluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9SQkluZGljYXRvcic7XHJcbmltcG9ydCB7IFJPQ0luZGljYXRvciB9IGZyb20gJy4vUk9DSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUlNJT3NjaWxsYXRvciB9IGZyb20gJy4vUlNJT3NjaWxsYXRvcic7XHJcbmltcG9ydCB7IFJTTE9zY2lsbGF0b3IgfSBmcm9tICcuL1JTTE9zY2lsbGF0b3InO1xyXG5pbXBvcnQgeyBTTUFJbmRpY2F0b3IgfSBmcm9tICcuL1NNQUluZGljYXRvcic7XHJcbmltcG9ydCB7IFNNTUFJbmRpY2F0b3IgfSBmcm9tICcuL1NNTUFJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBTVERFVkluZGljYXRvciB9IGZyb20gJy4vU1RERVZJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBTVEluZGljYXRvciwgU1RJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vU1RJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBGYXN0U3RvY2hhc3RpY09zY2lsbGF0b3IsIE9CT1NPc2NpbGxhdG9yLCBTbG93U3RvY2hhc3RpY09zY2lsbGF0b3IsIFN0b2NoYXN0aWNPc2NpbGxhdG9yUmVuZGVyZXIgfSBmcm9tICcuL1N0b2NoYXN0aWNPc2NpbGxhdG9yJztcclxuaW1wb3J0IHsgVEVNQUluZGljYXRvciB9IGZyb20gJy4vVEVNQUluZGljYXRvcic7XHJcbmltcG9ydCB7IFRNQUluZGljYXRvciB9IGZyb20gJy4vVE1BSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVFBJbmRpY2F0b3IgfSBmcm9tICcuL1RQSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVk9MQUluZGljYXRvciB9IGZyb20gJy4vVk9MQUluZGljYXRvcic7XHJcbmltcG9ydCB7IFdNQUluZGljYXRvciB9IGZyb20gJy4vV01BSW5kaWNhdG9yJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBRFhJbmRpY2F0b3IsXHJcbiAgICBBbGxpZ2F0b3JJbmRpY2F0b3IsIEFsbGlnYXRvckluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgQXJvb25JbmRpY2F0b3IsIEFyb29uSW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBBcm9vbk9zY2lsbGF0b3IsXHJcbiAgICBBVFJJbmRpY2F0b3IsXHJcbiAgICBCb2xsaW5nZXJJbmRpY2F0b3IsIEJvbGxpbmdlckluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgQ0NJT3NjaWxsYXRvcixcclxuICAgIENPUkluZGljYXRvcixcclxuICAgIERFTUFJbmRpY2F0b3IsXHJcbiAgICBESVhPc2NpbGxhdG9yLFxyXG4gICAgRE1JSW5kaWNhdG9yLCBETUlJbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIERTU0JST3NjaWxsYXRvciwgRFNTQlJPc2NpbGxhdG9yUmVuZGVyZXIsXHJcbiAgICBFTUFJbmRpY2F0b3IsXHJcbiAgICBISExMSW5kaWNhdG9yLCBISExMSW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBJS0hJbmRpY2F0b3IsIElLSEluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgSW5kaWNhdG9yRmFicmljLFxyXG4gICAgTUFDREluZGljYXRvciwgTUFDREluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgTURJbmRpY2F0b3IsXHJcbiAgICBNT01JbmRpY2F0b3IsXHJcbiAgICBQQ1JPc2NpbGxhdG9yLFxyXG4gICAgUFBJbmRpY2F0b3IsIFBQSW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBQU0FSSW5kaWNhdG9yLCBQU0FSSW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBSQVRJT0luZGljYXRvcixcclxuICAgIFJCSW5kaWNhdG9yLCBSQkluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgcmVnaXN0ZXIsXHJcbiAgICBST0NJbmRpY2F0b3IsXHJcbiAgICBSU0lPc2NpbGxhdG9yLFxyXG4gICAgUlNMT3NjaWxsYXRvcixcclxuICAgIFNNQUluZGljYXRvcixcclxuICAgIFNNTUFJbmRpY2F0b3IsXHJcbiAgICBTVEluZGljYXRvciwgU1RJbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIFNUREVWSW5kaWNhdG9yLFxyXG4gICAgRmFzdFN0b2NoYXN0aWNPc2NpbGxhdG9yLCBPQk9TT3NjaWxsYXRvciwgU2xvd1N0b2NoYXN0aWNPc2NpbGxhdG9yLCBTdG9jaGFzdGljT3NjaWxsYXRvclJlbmRlcmVyLFxyXG4gICAgVEVNQUluZGljYXRvcixcclxuICAgIFRNQUluZGljYXRvcixcclxuICAgIFRQSW5kaWNhdG9yLFxyXG4gICAgVk9MQUluZGljYXRvcixcclxuICAgIFdNQUluZGljYXRvclxyXG59O1xyXG4iLCIvKipcbiAqIEFyZWEgY2xhc3NcbiAqL1xuaW1wb3J0IHsgQ2FudmFzV3JhcHBlciB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJRXZlbnQsIElQb2ludCwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgU2l6ZUNoYW5nZWRBcmd1bWVudCwgU2l6ZUNoYW5nZWRFdmVudCB9IGZyb20gJy4vU2l6ZUNoYW5nZWRFdmVudCc7XG5cbmV4cG9ydCBjbGFzcyBBcmVhIHtcbiAgICBwcm90ZWN0ZWQgX2RpdjogSFRNTERpdkVsZW1lbnR8dW5kZWZpbmVkO1xuICAgIHByb3RlY3RlZCBfb2Zmc2V0OiBJUG9pbnQ7XG4gICAgcHJvdGVjdGVkIF9zaXplOiBJU2l6ZTtcblxuICAgIHByb3RlY3RlZCBfYmFzZUNhbnZhczogQ2FudmFzV3JhcHBlcjtcbiAgICBwcm90ZWN0ZWQgX2Zyb250Q2FudmFzOiBDYW52YXNXcmFwcGVyO1xuICAgIHByb3RlY3RlZCBfYmFzZUNhbnZhc0VsOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgX2Zyb250Q2FudmFzRWw6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgcHJvdGVjdGVkIF9iYXNlQ2FudmFzU2hhZG93OiBDYW52YXNXcmFwcGVyO1xuICAgIHByb3RlY3RlZCBfZnJvbnRDYW52YXNTaGFkb3c6IENhbnZhc1dyYXBwZXI7XG4gICAgcHJvdGVjdGVkIF9iYXNlQ2FudmFzRWxTaGFkb3c6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfZnJvbnRDYW52YXNFbFNoYWRvdzogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICBwcm90ZWN0ZWQgc2l6ZUNoYW5nZWRFdmVudD0gbmV3IFNpemVDaGFuZ2VkRXZlbnQoKTtcblxuICAgIHByaXZhdGUgc2hhZG93ID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgZ2V0IHNpemVDaGFuZ2VkKCk6IElFdmVudDxTaXplQ2hhbmdlZEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemVDaGFuZ2VkRXZlbnQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemVcbiAgICApIHtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGJhc2VDYW52YXMoKTogQ2FudmFzV3JhcHBlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvdyA/IHRoaXMuX2Jhc2VDYW52YXNTaGFkb3cgOiB0aGlzLl9iYXNlQ2FudmFzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZnJvbnRDYW52YXMoKTogQ2FudmFzV3JhcHBlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRvdyA/IHRoaXMuX2Zyb250Q2FudmFzU2hhZG93IDogdGhpcy5fZnJvbnRDYW52YXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvZmZzZXQoKTogSVBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IG9mZnNldCh2YWx1ZTogSVBvaW50KSAge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNpemUoKTogSVNpemUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJCYXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VDYW52YXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJGcm9udCgpIHtcbiAgICAgICAgdGhpcy5mcm9udENhbnZhcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvdykge1xuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhcy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXMuY2xlYXIoKTtcblxuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhcy5kcmF3SW1hZ2UodGhpcy5fYmFzZUNhbnZhc0VsU2hhZG93LCAwLCAwLCB0aGlzLl9zaXplLndpZHRoLCB0aGlzLl9zaXplLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhcy5kcmF3SW1hZ2UodGhpcy5fZnJvbnRDYW52YXNFbFNoYWRvdywgMCwgMCwgdGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcikge1xuICAgICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbC53aWR0aCA9IHcgKiBkcHI7XG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbC5oZWlnaHQgPSBoICogZHByO1xuICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsLndpZHRoID0gdyAqIGRwcjtcbiAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbC5oZWlnaHQgPSBoICogZHByO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgaCArICdweCcpO1xuXG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXMucmVzaXplKHcsIGgpO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhcy5yZXNpemUodywgaCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWxTaGFkb3cud2lkdGggPSB3ICogZHByO1xuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsU2hhZG93LmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWxTaGFkb3cuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsU2hhZG93LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zyb250Q2FudmFzRWxTaGFkb3cud2lkdGggPSB3ICogZHByO1xuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbFNoYWRvdy5oZWlnaHQgPSBoICogZHByO1xuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbFNoYWRvdy5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB3ICsgJ3B4Jyk7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsU2hhZG93LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Jhc2VDYW52YXNTaGFkb3cucmVzaXplKHcsIGgpO1xuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNTaGFkb3cucmVzaXplKHcsIGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2l6ZSA9IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9O1xuXG4gICAgICAgIHRoaXMuc2l6ZUNoYW5nZWRFdmVudC50cmlnZ2VyKG5ldyBTaXplQ2hhbmdlZEFyZ3VtZW50KHRoaXMuX3NpemUpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXBwZW5kQ2FudmFzZXMoZGl2OiBIVE1MRGl2RWxlbWVudCwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcblxuICAgICAgICB0aGlzLl9kaXYgPSBkaXY7XG4gICAgICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgY29uc3QgYmFzZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBiYXNlQ2FudmFzLndpZHRoID0gdyAqIGRwcjtcbiAgICAgICAgYmFzZUNhbnZhcy5oZWlnaHQgPSBoICogZHByO1xuICAgICAgICBiYXNlQ2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgYmFzZUNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgaCArICdweCcpO1xuICAgICAgICBiYXNlQ2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgJzAnKTtcbiAgICAgICAgYmFzZUNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywgJzAnKTtcbiAgICAgICAgYmFzZUNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgnei1pbmRleCcsICcwJyk7XG4gICAgICAgIGJhc2VDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG5cbiAgICAgICAgY29uc3QgZnJvbnRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgZnJvbnRDYW52YXMud2lkdGggPSB3ICogZHByO1xuICAgICAgICBmcm9udENhbnZhcy5oZWlnaHQgPSBoICogZHByO1xuICAgICAgICBmcm9udENhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB3ICsgJ3B4Jyk7XG4gICAgICAgIGZyb250Q2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG4gICAgICAgIGZyb250Q2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgJzAnKTtcbiAgICAgICAgZnJvbnRDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsICcwJyk7XG4gICAgICAgIGZyb250Q2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCd6LWluZGV4JywgJzEnKTtcbiAgICAgICAgZnJvbnRDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG5cbiAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsID0gYmFzZUNhbnZhcztcbiAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbCA9IGZyb250Q2FudmFzO1xuICAgICAgICB0aGlzLl9iYXNlQ2FudmFzID0gdGhpcy5nZXRDb250ZXh0KGJhc2VDYW52YXMsIHcsIGgpO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhcyA9IHRoaXMuZ2V0Q29udGV4dChmcm9udENhbnZhcywgdywgaCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgICAgICBjb25zdCBiYXNlQ2FudmFzU2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBiYXNlQ2FudmFzU2hhZG93LndpZHRoID0gdyAqIGRwcjtcbiAgICAgICAgICAgIGJhc2VDYW52YXNTaGFkb3cuaGVpZ2h0ID0gaCAqIGRwcjtcblxuICAgICAgICAgICAgY29uc3QgZnJvbnRDYW52YXNTaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGZyb250Q2FudmFzU2hhZG93LndpZHRoID0gdyAqIGRwcjtcbiAgICAgICAgICAgIGZyb250Q2FudmFzU2hhZG93LmhlaWdodCA9IGggKiBkcHI7XG5cbiAgICAgICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbFNoYWRvdyA9IGJhc2VDYW52YXNTaGFkb3c7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsU2hhZG93ID0gZnJvbnRDYW52YXNTaGFkb3c7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzU2hhZG93ID0gdGhpcy5nZXRDb250ZXh0KGJhc2VDYW52YXNTaGFkb3csIHcsIGgpO1xuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNTaGFkb3cgPSB0aGlzLmdldENvbnRleHQoZnJvbnRDYW52YXNTaGFkb3csIHcsIGgpO1xuICAgICAgICB9XG5cblxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoYmFzZUNhbnZhcyk7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChmcm9udENhbnZhcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDb250ZXh0KGVsOiBIVE1MQ2FudmFzRWxlbWVudCwgdzogbnVtYmVyLCBoOiBudW1iZXIpOiBDYW52YXNXcmFwcGVyIHtcbiAgICAgICAgY29uc3QgY3R4ID0gZWwuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGN0eCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRleHQgaXMgbnVsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2FudmFzV3JhcHBlcihjdHgsIHcsIGgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQm9hcmRBcmVhIGNsYXNzXG4gKi9cbmltcG9ydCB7IElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSwgWEFyZWEgfSBmcm9tICcuL0NoYXJ0QXJlYSc7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZEFyZWEge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGFibGU6IEhUTUxUYWJsZUVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHlBeGlzV2lkdGggPSA5MDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHhBeGlzSGVpZ2h0ID0gMjU7XG5cbiAgICBwcml2YXRlIGNoYXJ0V2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIGNoYXJ0SGVpZ2h0OiBudW1iZXI7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGNoYXJ0QXJlYXM6IENoYXJ0QXJlYVtdID0gW107XG4gICAgcHJpdmF0ZSB0aW1lQXJlYTogWEFyZWE7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHNpemU6IElTaXplXG4gICAgKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgICAgICB0aGlzLnRhYmxlLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICAgICAgICB0aGlzLnRhYmxlLnN0eWxlLnNldFByb3BlcnR5KCdib3JkZXItc3BhY2luZycsICcwJyk7XG4gICAgICAgIHRoaXMudGFibGUuc3R5bGUuc2V0UHJvcGVydHkoJ2JvcmRlci1jb2xsYXBzZScsICdjb2xsYXBzZScpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtcblxuICAgICAgICB0aGlzLmNoYXJ0V2lkdGggPSB0aGlzLnNpemUud2lkdGggLSB0aGlzLnlBeGlzV2lkdGg7XG4gICAgICAgIHRoaXMuY2hhcnRIZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0IC0gdGhpcy54QXhpc0hlaWdodDtcblxuICAgICAgICAvLyBjcmVhdGUgeCBheGlzIGFyZWFcbiAgICAgICAgY29uc3QgeHJvdyA9IHRoaXMudGFibGUuaW5zZXJ0Um93KC0xKTsgLy8gdG8gZW5kXG4gICAgICAgIHRoaXMudGltZUFyZWEgPSBuZXcgWEFyZWEoeHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IHRoaXMuY2hhcnRIZWlnaHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHdpZHRoOiB0aGlzLmNoYXJ0V2lkdGgsIGhlaWdodDogdGhpcy54QXhpc0hlaWdodCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueEF4aXNIZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDaGFydCgpIDogQ2hhcnRBcmVhIHtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hhcnRBcmVhcy5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy50YWJsZS5pbnNlcnRSb3coaW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IGFyZWEgPSBuZXcgQ2hhcnRBcmVhKHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB3aWR0aDogdGhpcy5jaGFydFdpZHRoLCBoZWlnaHQ6IHRoaXMuY2hhcnRIZWlnaHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhpc1dpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVBcmVhKTtcbiAgICAgICAgdGhpcy5jaGFydEFyZWFzLnB1c2goYXJlYSk7XG4gICAgICAgIHJldHVybiBhcmVhO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXJlYSBvZiB0aGlzLmNoYXJ0QXJlYXMpIHtcbiAgICAgICAgICAgIGFyZWEucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lQXJlYS5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlKGFyZWE6IENoYXJ0QXJlYSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hhcnRBcmVhcy5pbmRleE9mKGFyZWEpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0QXJlYXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMudGFibGUuZGVsZXRlUm93KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRYQXJlYSgpOiBYQXJlYSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVBcmVhO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckJhc2UoKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXJlYSBvZiB0aGlzLmNoYXJ0QXJlYXMpIHtcbiAgICAgICAgICAgIGFyZWEuY2xlYXJCYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lQXJlYS5jbGVhckJhc2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJGcm9udCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBhcmVhIG9mIHRoaXMuY2hhcnRBcmVhcykge1xuICAgICAgICAgICAgYXJlYS5jbGVhckZyb250KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lQXJlYS5jbGVhckZyb250KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjaGFydExlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRXaWR0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG5cbiAgICAgICAgLy8gcmVzaXplIGlubmVyIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgZGggPSBNYXRoLmZsb29yKChoIC0gdGhpcy54QXhpc0hlaWdodCkgLyAodGhpcy5jaGFydEFyZWFzLmxlbmd0aCArIDEpKTtcblxuICAgICAgICB0aGlzLmNoYXJ0V2lkdGggPSB3IC0gdGhpcy55QXhpc1dpZHRoO1xuICAgICAgICAvL3RoaXMuY2hhcnRIZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0IC0gdGhpcy54QXhpc0hlaWdodDtcblxuICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCB0aGlzLmNoYXJ0QXJlYXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIC8vIHJlc2l6ZSBjaGFydHNcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBvZmZzZXRcbiAgICAgICAgICAgIHRoaXMuY2hhcnRBcmVhc1tpXS5vZmZzZXQgPSB7IHg6IHRoaXMuY2hhcnRBcmVhc1tpXS5vZmZzZXQueCwgeTogeU9mZnNldCB9O1xuICAgICAgICAgICAgdGhpcy5jaGFydEFyZWFzW2ldLnJlc2l6ZSh0aGlzLmNoYXJ0V2lkdGgsIGkgPT09IDAgPyBkaCAqIDIgOiBkaCk7XG5cbiAgICAgICAgICAgIHlPZmZzZXQgKz0gKGkgPT09IDAgPyBkaCAqIDIgOiBkaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzaXplIHRpbWUgYXhpc1xuXG4gICAgICAgIHRoaXMudGltZUFyZWEub2Zmc2V0ID0geyB4OiB0aGlzLnRpbWVBcmVhLm9mZnNldC54LCB5OiB5T2Zmc2V0IH07XG4gICAgICAgIHRoaXMudGltZUFyZWEucmVzaXplKHRoaXMuY2hhcnRXaWR0aCwgdGhpcy54QXhpc0hlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEN1cnNvcihzdHlsZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudGFibGUuc2V0QXR0cmlidXRlKCdjdXJzb3InLCBzdHlsZSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDaGFydEFyZWEgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElQb2ludCwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4vQXJlYSc7XG5cbmV4cG9ydCBjbGFzcyBZQXJlYSBleHRlbmRzIEFyZWEge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBjZWxsOiBIVE1MVGFibGVDZWxsRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBjZWxsOiBIVE1MVGFibGVDZWxsRWxlbWVudCxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgICAgICB0aGlzLmNlbGwgPSBjZWxsO1xuXG4gICAgICAgIGNlbGwuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmcnLCAnMCcpO1xuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdGhpcy5zaXplLndpZHRoICsgJ3B4Jyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgdGhpcy5fc2l6ZS5oZWlnaHQgKyAncHgnKTtcblxuICAgICAgICB0aGlzLmFwcGVuZENhbnZhc2VzKGRpdiwgdGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNpemUodzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5jZWxsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgc3VwZXIucmVzaXplKHcsIGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFhBcmVhIGV4dGVuZHMgQXJlYSB7XG5cbiAgICBwcml2YXRlIHJvdzogSFRNTFRhYmxlUm93RWxlbWVudDtcbiAgICBwcml2YXRlIHhBeGlzSGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcm93OiBIVE1MVGFibGVSb3dFbGVtZW50LFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHhBeGlzSGVpZ2h0OiBudW1iZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XG4gICAgICAgIHRoaXMueEF4aXNIZWlnaHQgPSB4QXhpc0hlaWdodDtcblxuICAgICAgICBjb25zdCBjZWxsID0gcm93Lmluc2VydENlbGwoMCk7XG4gICAgICAgIGNlbGwuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmcnLCAnMCcpO1xuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdGhpcy5fc2l6ZS53aWR0aCArICdweCcpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIHRoaXMuX3NpemUuaGVpZ2h0ICsgJ3B4Jyk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDYW52YXNlcyhkaXYsIHRoaXMuX3NpemUud2lkdGgsIHRoaXMuX3NpemUuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIC8vIHJlc2l6ZSBIVE1MIGVsZW1lbnRcbiAgICAgICAgY29uc3QgY2VsbHNDb3VudCA9IHRoaXMucm93LmNlbGxzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5yb3cuY2VsbHNbY2VsbHNDb3VudCAtIDFdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgc3VwZXIucmVzaXplKHcsIGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYXJ0QXJlYSBleHRlbmRzIEFyZWEge1xuXG4gICAgcHJpdmF0ZSByb3c6IEhUTUxUYWJsZVJvd0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSB5QXJlYTogWUFyZWE7XG4gICAgcHJpdmF0ZSB4QXJlYTogWEFyZWE7XG4gICAgcHJpdmF0ZSB5QXhpc1dpZHRoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBxdENvbnRhdGVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByb3c6IEhUTUxUYWJsZVJvd0VsZW1lbnQsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgeUF4aXNXaWR0aDogbnVtYmVyLFxuICAgICAgICB4QXJlYTogWEFyZWFcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5yb3cgPSByb3c7XG4gICAgICAgIHRoaXMueUF4aXNXaWR0aCA9IHlBeGlzV2lkdGg7XG4gICAgICAgIHRoaXMueEFyZWEgPSB4QXJlYTtcblxuICAgICAgICBjb25zdCBjZWxsID0gcm93Lmluc2VydENlbGwoMCk7XG4gICAgICAgIGNlbGwuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmcnLCAnMCcpO1xuICAgICAgICBjZWxsLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdyZWxhdGl2ZScpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIHRoaXMuX3NpemUuaGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB0aGlzLl9zaXplLndpZHRoICsgJ3B4Jyk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDYW52YXNlcyhkaXYsIHRoaXMuX3NpemUud2lkdGgsIHRoaXMuX3NpemUuaGVpZ2h0KTtcblxuICAgICAgICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBxdWlja3RpcHNcbiAgICAgICAgdGhpcy5xdENvbnRhdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMucXRDb250YXRlci5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcbiAgICAgICAgdGhpcy5xdENvbnRhdGVyLnN0eWxlLnNldFByb3BlcnR5KCd0b3AnLCAnNXB4Jyk7XG4gICAgICAgIHRoaXMucXRDb250YXRlci5zdHlsZS5zZXRQcm9wZXJ0eSgnbGVmdCcsICc1cHgnKTtcbiAgICAgICAgY2VsbC5hcHBlbmRDaGlsZCh0aGlzLnF0Q29udGF0ZXIpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB5IGF4aXMgYXJlYVxuICAgICAgICBjb25zdCB5Y2VsbCA9IHRoaXMucm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgICB0aGlzLnlBcmVhID0gbmV3IFlBcmVhKHljZWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgeDogMCwgeTogMH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB3aWR0aDogdGhpcy55QXhpc1dpZHRoLCBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHQgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBxdGlwQ29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXRDb250YXRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WEFyZWEoKSA6IFhBcmVhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueEFyZWE7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFlBcmVhKCkgOiBZQXJlYSB7XG4gICAgICAgIHJldHVybiB0aGlzLnlBcmVhO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckJhc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnlBcmVhKSB7XG4gICAgICAgICAgICB0aGlzLnlBcmVhLmNsZWFyQmFzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmNsZWFyQmFzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckZyb250KCkge1xuICAgICAgICBpZiAodGhpcy55QXJlYSkge1xuICAgICAgICAgICAgdGhpcy55QXJlYS5jbGVhckZyb250KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuY2xlYXJGcm9udCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnlBcmVhLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNpemUodzogbnVtYmVyLCBoOiBudW1iZXIpOiB2b2lkIHtcblxuICAgICAgICAvLyByZXNpemUgSFRNTCBlbGVtZW50c1xuICAgICAgICAvLyBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGogKz0gMSkge1xuICAgICAgICAvLyAgICAgY29uc3QgZGl2ID0gdGhpcy50YWJsZS5yb3dzLml0ZW0oaSkuY2VsbHNbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzBdO1xuICAgICAgICAvLyAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCAoaSA9PT0gMCA/IGRoICogMiA6IGRoKSArICdweCcpO1xuICAgICAgICAvLyAgICAgaWYgKGogPT09IDEpIHsgZGl2LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIGR3ICsgJ3B4Jyk7IH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGNvbnN0IGRpdiA9IHRoaXMucm93LmNlbGxzWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgaWYgKHRoaXMueUFyZWEpIHtcbiAgICAgICAgICAgIHRoaXMueUFyZWEucmVzaXplKHRoaXMueUF4aXNXaWR0aCwgaCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZXNpemUodywgaCk7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIFNpemVDaGFuZ2VkRXZlbnQgY2xhc3NcclxuICovXHJcbmltcG9ydCB7IEV2ZW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2l6ZUNoYW5nZWRFdmVudCBleHRlbmRzIEV2ZW50PFNpemVDaGFuZ2VkQXJndW1lbnQ+IHtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNpemVDaGFuZ2VkQXJndW1lbnQge1xyXG4gICAgcHJpdmF0ZSBzOiBJU2l6ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzaXplOiBJU2l6ZSkge1xyXG4gICAgICAgIHRoaXMucyA9IHNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnM7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEV4cG9ydHMgb2YgTGF5b3V0IG1vZHVsZS5cclxuICovXHJcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuL0FyZWEnO1xyXG5pbXBvcnQgeyBCb2FyZEFyZWEgfSBmcm9tICcuL0JvYXJkQXJlYSc7XHJcbmltcG9ydCB7IENoYXJ0QXJlYSwgWEFyZWEsIFlBcmVhIH0gZnJvbSAnLi9DaGFydEFyZWEnO1xyXG5pbXBvcnQgeyBTaXplQ2hhbmdlZEFyZ3VtZW50LCBTaXplQ2hhbmdlZEV2ZW50IH0gZnJvbSAnLi9TaXplQ2hhbmdlZEV2ZW50JztcclxuZXhwb3J0IHtcclxuICAgIEFyZWEsXHJcbiAgICBCb2FyZEFyZWEsXHJcbiAgICBDaGFydEFyZWEsXHJcbiAgICBTaXplQ2hhbmdlZEFyZ3VtZW50LFxyXG4gICAgU2l6ZUNoYW5nZWRFdmVudCxcclxuICAgIFhBcmVhLFxyXG4gICAgWUFyZWFcclxufVxyXG4iLCIvKipcbiAqIENhbmRsZSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJVGltZVZhbHVlLCBJVWlkVmFsdWUgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgVWlkIHtcbiAgICBwdWJsaWMgdDogRGF0ZTtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyB1bmlxdWVuZXNzIHdoZW4gdCBkYXRlIGlzIHJlcGVhdGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBuOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IodD86IERhdGUsIG4/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50ID0gdCB8fCBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLm4gPSBuIHx8IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdHdvIFVpZHMuXG4gICAgICogUmV0dXJucyAtMSBpZiB0aGlzIG9iamVjdCBpcyBsZXNzLCAwIC0gaWYgZXF1YWwsIDEgLSBpZiBncmVhdGVyIHRoYW4gb3RoZXIuXG4gICAgICogQHBhcmFtIG90aGVyIFVpZCB0byBjb21wYXJlIHdpdGguXG4gICAgICovXG4gICAgcHVibGljIGNvbXBhcmUob3RoZXI6IFVpZCk6IG51bWJlciB7XG4gICAgICAgIGlmIChvdGhlcikge1xuICAgICAgICAgICAgY29uc3QgdGhpc1RpbWUgPSB0aGlzLnQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJUaW1lID0gb3RoZXIudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICBpZiAodGhpc1RpbWUgPiBvdGhlclRpbWUgfHwgKHRoaXNUaW1lID09PSBvdGhlclRpbWUgJiYgdGhpcy5uID4gb3RoZXIubikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpc1RpbWUgPT09IG90aGVyVGltZSAmJiB0aGlzLm4gPT09IG90aGVyLm4pICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBlcXVhbHMob3RoZXI6IFVpZCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAob3RoZXIpIHtcbiAgICAgICAgICAgIGlmIChvdGhlciA9PT0gdGhpcykgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKG90aGVyLnQuZ2V0VGltZSgpID09PSB0aGlzLnQuZ2V0VGltZSgpICYmIG90aGVyLm4gPT09IHRoaXMubikgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIG1pbiguLi51aWRzOiBVaWRbXSk6IFVpZCB7XG4gICAgICAgIGlmICh1aWRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgaXMgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1pbjogVWlkID0gdWlkc1swXTtcbiAgICAgICAgdWlkcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIG1pbiA9IG1pbiA/IChtaW4uY29tcGFyZSh2YWx1ZSkgPD0gMCA/IG1pbiA6IHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIG1heCguLi51aWRzOiBVaWRbXSk6IFVpZCB7XG4gICAgICAgIGlmICh1aWRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgaXMgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1heDogVWlkID0gdWlkc1swXTtcbiAgICAgICAgdWlkcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIG1heCA9IG1heCA/IChtYXguY29tcGFyZSh2YWx1ZSkgPj0gMCA/IG1heCA6IHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYW5kbGVzdGljayBpbXBsZW1lbnRzIElUaW1lVmFsdWUsIElVaWRWYWx1ZSB7XG5cbiAgICBwdWJsaWMgdWlkOiBVaWQgPSBuZXcgVWlkKCk7XG4gICAgcHVibGljIGM/OiBudW1iZXI7XG4gICAgcHVibGljIG8/OiBudW1iZXI7XG4gICAgcHVibGljIGg/OiBudW1iZXI7XG4gICAgcHVibGljIGw/OiBudW1iZXI7XG4gICAgcHVibGljIGV4dDogSUhhc2hUYWJsZTxudW1iZXI+ID0ge307XG5cbiAgICBwdWJsaWMgZ2V0IGRhdGUoKTogRGF0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVpZC50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZGF0ZShkOiBEYXRlKSB7XG4gICAgICAgIHRoaXMudWlkLnQgPSBkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGU6IERhdGUsIGM/OiBudW1iZXIsIG8/OiBudW1iZXIsIGg/OiBudW1iZXIsIGw/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51aWQudCA9IGRhdGU7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMubyA9IG87XG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgICAgIHRoaXMubCA9IGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlcygpOiBudW1iZXJbXSB7XG4gICAgICAgIGNvbnN0IGFyOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jICE9PSB1bmRlZmluZWQpIHsgYXIucHVzaCh0aGlzLmMpOyB9XG4gICAgICAgIGlmICh0aGlzLm8gIT09IHVuZGVmaW5lZCkgeyBhci5wdXNoKHRoaXMubyk7IH1cbiAgICAgICAgaWYgKHRoaXMuaCAhPT0gdW5kZWZpbmVkKSB7IGFyLnB1c2godGhpcy5oKTsgfVxuICAgICAgICBpZiAodGhpcy5sICE9PSB1bmRlZmluZWQpIHsgYXIucHVzaCh0aGlzLmwpOyB9XG4gICAgICAgIHJldHVybiBhcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzZXJpYWxpemUoZGF0YTogYW55KSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5jICE9PSB1bmRlZmluZWQpIHsgdGhpcy5jID0gZGF0YS5jOyB9XG4gICAgICAgICAgICBpZiAoZGF0YS5vICE9PSB1bmRlZmluZWQpIHsgdGhpcy5vID0gZGF0YS5vOyB9XG4gICAgICAgICAgICBpZiAoZGF0YS5oICE9PSB1bmRlZmluZWQpIHsgdGhpcy5oID0gZGF0YS5oOyB9XG4gICAgICAgICAgICBpZiAoZGF0YS5sICE9PSB1bmRlZmluZWQpIHsgdGhpcy5sID0gZGF0YS5sOyB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGAgTzoke3RoaXMubyAhPT0gdW5kZWZpbmVkID8gdGhpcy5vLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgYCBIOiR7dGhpcy5oICE9PSB1bmRlZmluZWQgPyB0aGlzLmgudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyBgIEw6JHt0aGlzLmwgIT09IHVuZGVmaW5lZCA/IHRoaXMubC50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArIGAgQzoke3RoaXMuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBQb2ludCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSVRpbWVWYWx1ZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBQb2ludCBpbXBsZW1lbnRzIElUaW1lVmFsdWUge1xuICAgIHB1YmxpYyB1aWQ6IHN0cmluZyA9ICcwJztcbiAgICBwdWJsaWMgZGF0ZTogRGF0ZTtcbiAgICBwdWJsaWMgdmFsdWU/OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihkOiBEYXRlLCB2PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXMoKTogbnVtYmVyW10ge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnZhbHVlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkZXNlcmlhbGl6ZShkYXRhOiBhbnkpIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4vQ2FuZGxlc3RpY2snO1xyXG5pbXBvcnQgeyBJVGltZVZhbHVlLCBJVWlkVmFsdWUgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4vUG9pbnQnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIENhbmRsZXN0aWNrLFxyXG4gICAgSVRpbWVWYWx1ZSxcclxuICAgIElVaWRWYWx1ZSxcclxuICAgIFBvaW50LFxyXG4gICAgVWlkXHJcbn07XHJcbiIsIu+7vy8qKlxuICogQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyXG4gKiBcbiAqIEBjbGFzc2Rlc2MgUmVuZGVycyBzcGVjaWZpZWQgZGF0YSBpbiBhIGZvcm0gb2YgY2FuZGxlc3RpY2sgY2hhcnQuXG4gKi9cbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSURhdGFJdGVyYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBSZW5kZXJVdGlscyB9IGZyb20gJy4vUmVuZGVyVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiAge1xuXG4gICAgcHJpdmF0ZSBzZXR0aW5ncyA9IG5ldyBDYW5kbGVSZW5kZXJTZXR0aW5ncygpO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5DYW5kbGVXaWR0aCA9IDE7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhDYW5kbGVXaWR0aCA9IDIxO1xuXG4gICAgcHVibGljIHJlbmRlcihcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgIC8vXG5cbiAgICAgICAgLy8gYm9yZGVyIGxpbmVzXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzMzMzMzJyk7XG4gICAgICAgIC8vIC4uLiBsZWZ0XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgZnJhbWUueSk7XG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcbiAgICAgICAgLy8gLi4uIGJvdHRvbVxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53IC0gMSwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcbiAgICAgICAgLy8gLi4uIHJpZ2h0XG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55KTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIGNvbnN0IGNvbG9yRG93biA9IHRoaXMuc2V0dGluZ3MuY29sb3JEb3duO1xuICAgICAgICBjb25zdCBjb2xvclVwID0gdGhpcy5zZXR0aW5ncy5jb2xvclVwO1xuICAgICAgICBjb25zdCBjb2xvckJvcmRlciA9IHRoaXMuc2V0dGluZ3MuY29sb3JCb3JkZXI7XG5cbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcblxuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gMTtcblxuICAgICAgICAvLyBTZXBhcmF0ZSByZW5kZXJpbmcgb2YgbGluZXMgd2l0aCBkaWZmZXJlbnQgY29sb3JzXG4gICAgICAgIC8vIHRvIG1pbmltaXplIHN0YXRlIGNoYW5nZXMuXG4gICAgICAgIC8vXG4gICAgICAgIGlmIChjYW5kbGVXID4gMikge1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yQm9yZGVyKTtcbiAgICAgICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGFJdGVyYXRvciwgKGNhbmRsZSwgeCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU2hhZG93cyhjYW52YXMsIHRpbWVBeGlzLCB5QXhpcywgY2FuZGxlLCBmcmFtZSwgY2FuZGxlVywgeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICAgICAgLy8gdXAgYm9kaWVzXG4gICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKGNvbG9yVXApO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBkb3duIGJvZGllc1xuICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZShjb2xvckRvd24pO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCb2R5KGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVuZGVyIGRvd24gbGluZXNcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZShjb2xvckRvd24pO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMaW5lKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCBjb2xvckRvd24sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgICAgICAvLyByZW5kZXIgdXAgbGluZXNcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZShjb2xvclVwKTtcbiAgICAgICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGFJdGVyYXRvciwgKGNhbmRsZSwgeCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGluZShjYW52YXMsIHRpbWVBeGlzLCB5QXhpcywgY2FuZGxlLCBmcmFtZSwgY2FuZGxlVywgeCwgY29sb3JVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxuICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGxldCBjYW5kbGVIaXQ6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGNhbmRsZVcgPSB0aGlzLmNhbGN1bGF0ZUJvZHlXaWR0aCh0aW1lQXhpcywgZnJhbWUudyk7XG5cbiAgICAgICAgLy8gd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XG4gICAgICAgIC8vICAgICBpZiAodGhpcy50ZXN0SGl0QXJlYUNhbmRsZShoaXRQb2ludCwgdGltZUF4aXMsIHlBeGlzLCBkYXRhSXRlcmF0b3IuY3VycmVudCwgY2FuZGxlVykpIHtcbiAgICAgICAgLy8gICAgICAgICBjYW5kbGVIaXQgPSBkYXRhSXRlcmF0b3IuY3VycmVudDtcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHJldHVybiBjYW5kbGVIaXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB0ZXN0SGl0QXJlYUNhbmRsZShcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4sXG4gICAgICAgIGNhbmRsZTogQ2FuZGxlc3RpY2ssXG4gICAgICAgIGNhbmRsZVc6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0gdGltZUF4aXMudG9YKGNhbmRsZS51aWQpO1xuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcblxuICAgICAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcbiAgICAgICAgICAgIHJldHVybiAoaGl0UG9pbnQueCA+PSBib2R5LnggJiYgaGl0UG9pbnQueCA8PSAoYm9keS54ICsgYm9keS53KVxuICAgICAgICAgICAgICAgICAgICAmJiBoaXRQb2ludC55ID49IGJvZHkueSAmJiBoaXRQb2ludC55IDw9IChib2R5LnkgKyBib2R5LmgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJTaGFkb3dzKFxuICAgICAgICBjYW52YXM6IElDYW52YXMsIHRpbWVBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBjYW5kbGU6IENhbmRsZXN0aWNrLCBmcmFtZTogSVJlY3QsXG4gICAgICAgIGNhbmRsZVc6IG51bWJlciwgeDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgIGNvbnN0IGggPSB5QXhpcy50b1goY2FuZGxlLmgpO1xuICAgICAgICBjb25zdCBsID0geUF4aXMudG9YKGNhbmRsZS5sKTtcbiAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCwgbCwgeCwgaCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJCb2R5KFxuICAgICAgICBjYW52YXM6IElDYW52YXMsIHRpbWVBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBjYW5kbGU6IENhbmRsZXN0aWNrLCBmcmFtZTogSVJlY3QsXG4gICAgICAgIGNhbmRsZVc6IG51bWJlciwgeDogbnVtYmVyLCB1cDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xuXG4gICAgICAgIGlmICgodXAgJiYgY2FuZGxlLmMgPiBjYW5kbGUubykgfHwgKCF1cCAmJiBjYW5kbGUuYyA8PSBjYW5kbGUubykpIHtcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJMaW5lKFxuICAgICAgICBjYW52YXM6IElDYW52YXMsIHRpbWVBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBjYW5kbGU6IENhbmRsZXN0aWNrLCBmcmFtZTogSVJlY3QsXG4gICAgICAgIGNhbmRsZVc6IG51bWJlciwgeDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCB1cDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG5cbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcblxuICAgICAgICBpZiAoKHVwICYmIGNhbmRsZS5jID4gY2FuZGxlLm8pIHx8ICghdXAgJiYgY2FuZGxlLmMgPD0gY2FuZGxlLm8pKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBib2R5LnksIHgsIGJvZHkueSArIGJvZHkuaCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNhbGN1bGF0ZUJvZHkoeDogbnVtYmVyLCB5QXhpczogSUF4aXM8bnVtYmVyPiwgbzogbnVtYmVyLCBjOiBudW1iZXIsIGNhbmRsZVc6IG51bWJlcik6IElSZWN0IHtcbiAgICAgICAgY29uc3Qgb2NNaW4gPSB5QXhpcy50b1goTWF0aC5tYXgobywgYykpOyAvLyBJbnZlcnRlZCBZXG4gICAgICAgIGNvbnN0IG9jTWF4ID0geUF4aXMudG9YKE1hdGgubWluKG8sIGMpKTtcbiAgICAgICAgcmV0dXJuIHsgeDogeCAtIE1hdGguZmxvb3IoY2FuZGxlVyAvIDIpLCB5OiBvY01pbiwgdzogY2FuZGxlVywgaDogb2NNYXggLSBvY01pbiB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzOiBJVGltZUF4aXMsIGZyYW1lV2lkdGg6IG51bWJlcik6IG51bWJlciB7XG5cbiAgICAgICAgY29uc3QgY2FuZGxlc0NvdW50ID0gdGltZUF4aXMuY291bnQ7IC8vICByYW5nZSAvIHRpbWVBeGlzLmludGVydmFsO1xuICAgICAgICBsZXQgdyA9IGZyYW1lV2lkdGggLyAoMyAqIGNhbmRsZXNDb3VudCk7XG5cbiAgICAgICAgaWYgKHcgPCAxLjMpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdyA9IE1hdGguY2VpbCh3KTtcbiAgICAgICAgICAgIHcgPSB3ICsgKCh3ICsgMSkgJSAyKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMubWF4Q2FuZGxlV2lkdGgsIHcpO1xuICAgICAgICB9XG4gICB9XG5cbiAgICBwcml2YXRlIGxpbmUoY2FudmFzOiBJQ2FudmFzLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4MiwgeTIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICd2aXN1YWwnLCBncm91cDogdHJ1ZSwgZGlzcGxheU5hbWU6ICd2aXN1YWwnIH0pO1xuXG4gICAgICAgIHNldHRpbmdzLnNldFNldHRpbmcoJ2NvbG9yVXAnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnY29sb3JVcCcsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Jpc2luZyBjb2xvcicsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvclVwLnRvU3RyaW5nKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHNldHRpbmdzLnNldFNldHRpbmcoJ2NvbG9yRG93bicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvckRvd24nLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdGYWxsaW5nIGNvbG9yJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yRG93bi50b1N0cmluZygpXG4gICAgICAgIH0pKTtcblxuICAgICAgICBzZXR0aW5ncy5zZXRTZXR0aW5nKCdjb2xvckJvcmRlcicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvckJvcmRlcicsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0JvcmRlciBjb2xvcicsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5jb2xvckJvcmRlci50b1N0cmluZygpXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNvbG9yVXAgPSB2YWx1ZS5nZXRTZXR0aW5nKCd2aXN1YWwuY29sb3JVcCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yVXAgPSAoY29sb3JVcCAmJiBjb2xvclVwLnZhbHVlKSA/IGNvbG9yVXAudmFsdWUgOiB0aGlzLnNldHRpbmdzLmNvbG9yVXA7XG5cbiAgICAgICAgY29uc3QgY29sb3JEb3duID0gdmFsdWUuZ2V0U2V0dGluZygndmlzdWFsLmNvbG9yRG93bicpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yRG93biA9IChjb2xvckRvd24gJiYgY29sb3JEb3duLnZhbHVlKSA/IGNvbG9yRG93bi52YWx1ZSA6IHRoaXMuc2V0dGluZ3MuY29sb3JEb3duO1xuXG4gICAgICAgIGNvbnN0IGNvbG9yQm9yZGVyID0gdmFsdWUuZ2V0U2V0dGluZygndmlzdWFsLmNvbG9yQm9yZGVyJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3JCb3JkZXIgPSAoY29sb3JCb3JkZXIgJiYgY29sb3JCb3JkZXIudmFsdWUpID8gY29sb3JCb3JkZXIudmFsdWUgOiB0aGlzLnNldHRpbmdzLmNvbG9yQm9yZGVyO1xuICAgIH1cbn1cblxuY2xhc3MgQ2FuZGxlUmVuZGVyU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvclVwID0gICcjNTlFNDU5JztcbiAgICBwdWJsaWMgY29sb3JEb3duID0gJyNGMDNBM0QnO1xuICAgIHB1YmxpYyBjb2xvckJvcmRlciA9ICcjMzMzMzMzJztcbn1cbiIsIi8qKlxyXG4gKiBDYW5kbGVzdGlja1BvcHVwUmVuZGVyZXIgY2xhc3MuXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IElQb3B1cFJlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FuZGxlc3RpY2tQb3B1cFJlbmRlcmVyIGltcGxlbWVudHMgSVBvcHVwUmVuZGVyPENhbmRsZXN0aWNrPiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZGRpbmdMZWZ0ID0gNTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFkZGluZ1RvcCA9IDU7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsIG1vZGVsOiBDYW5kbGVzdGljaywgcG9pbnQ6IElQb2ludCwgZnJhbWVTaXplOiBJU2l6ZSwgcHJlY2lzaW9uOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgY29uc3QgdyA9IDkwO1xyXG4gICAgICAgIGNvbnN0IGggPSBsaW5lSGVpZ2h0ICogNCArIHRoaXMucGFkZGluZ1RvcCAqIDI7XHJcbiAgICAgICAgY29uc3QgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvaW50LngsIGZyYW1lU2l6ZS53aWR0aCAtIHcpKTtcclxuICAgICAgICBjb25zdCB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9pbnQueSwgZnJhbWVTaXplLmhlaWdodCAtIGgpKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWxwaGEgPSBjYW52YXMuZ2xvYmFsQWxwaGE7XHJcbiAgICAgICAgY2FudmFzLmdsb2JhbEFscGhhID0gMC44O1xyXG5cclxuICAgICAgICAvLyBib3JkZXJcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNDMEMwQzAnKTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlUmVjdCh4LCB5LCB3LCBoKTtcclxuXHJcbiAgICAgICAgLy8gZmlsbFxyXG4gICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNGMkYyRjInKTtcclxuICAgICAgICBjYW52YXMuZmlsbFJlY3QoeCwgeSwgdywgaCk7XHJcblxyXG4gICAgICAgIC8vIHRleHRcclxuICAgICAgICBjYW52YXMuZm9udCA9ICcxMHB4IEFyaWFsJztcclxuICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJ2JsYWNrJztcclxuICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5Ub3ApO1xyXG4gICAgICAgIGNhbnZhcy5maWxsVGV4dChgTzogJHsgdGhpcy5mb3JtYXRWYWx1ZShtb2RlbC5vLCBwcmVjaXNpb24pIH1gLCB4ICsgdGhpcy5wYWRkaW5nTGVmdCwgeSArIHRoaXMucGFkZGluZ1RvcCk7XHJcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KGBDOiAkeyB0aGlzLmZvcm1hdFZhbHVlKG1vZGVsLmMsIHByZWNpc2lvbikgfWAsIHggKyB0aGlzLnBhZGRpbmdMZWZ0LCB5ICsgdGhpcy5wYWRkaW5nVG9wICsgbGluZUhlaWdodCk7XHJcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KGBIOiAkeyB0aGlzLmZvcm1hdFZhbHVlKG1vZGVsLmgsIHByZWNpc2lvbikgfWAsIHggKyB0aGlzLnBhZGRpbmdMZWZ0LCB5ICsgdGhpcy5wYWRkaW5nVG9wICsgMiAqIGxpbmVIZWlnaHQpO1xyXG4gICAgICAgIGNhbnZhcy5maWxsVGV4dChgTDogJHsgdGhpcy5mb3JtYXRWYWx1ZShtb2RlbC5sLCBwcmVjaXNpb24pIH1gLCB4ICsgdGhpcy5wYWRkaW5nTGVmdCwgeSArIHRoaXMucGFkZGluZ1RvcCArIDMgKiBsaW5lSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gcmVzdG9yZSBnbG9iYWwgdmFsdWVcclxuICAgICAgICBjYW52YXMuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1hdFZhbHVlKG46IG51bWJlciB8IHVuZGVmaW5lZCwgcHJlY2lzaW9uOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAobiAhPT0gdW5kZWZpbmVkKSA/IG4udG9GaXhlZChwcmVjaXNpb24pIDogJyc7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgSUNhbnZhcywgTGluZVBhdHRlcm4gfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIENoYXJ0UmVuZGVyZXIge1xuXG4gICAgcHJvdGVjdGVkIHNldHRpbmdzID0gbmV3IFJlbmRlclNldHRpbmdzKCk7XG5cbiAgICBwcm90ZWN0ZWQgZ2V0Wm9uZXNTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcblxuICAgICAgICBjb25zdCB0b3BsaW5lR3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICd0b3BsaW5lJywgZ3JvdXA6IHRydWUsIGRpc3BsYXlOYW1lOiAnVG9wIGxpbmUnIH0pO1xuXG4gICAgICAgIHRvcGxpbmVHcm91cC5zZXRTZXR0aW5nKCdjb2xvcicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgdG9wbGluZUdyb3VwLnNldFNldHRpbmcoJ3BhdHRlcm4nLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGF0dGVybicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lcGF0dGVybi50b1N0cmluZygpLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBMaW5lUGF0dGVybi5Tb2xpZC50b1N0cmluZygpLCB0ZXh0OiAnc29saWQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogTGluZVBhdHRlcm4uRGFzaGVkLnRvU3RyaW5nKCksIHRleHQ6ICdkYXNoZWQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogTGluZVBhdHRlcm4uUG9pbnRlZC50b1N0cmluZygpLCB0ZXh0OiAncG9pbnRlZCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdG9wbGluZUdyb3VwLnNldFNldHRpbmcoJ3dpZHRoJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmV3aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IGJvdHRvbUdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnYm90dG9tbGluZScsIGdyb3VwOiB0cnVlLCBkaXNwbGF5TmFtZTogJ0JvdHRvbSBsaW5lJyB9KTtcblxuICAgICAgICBib3R0b21Hcm91cC5zZXRTZXR0aW5nKCdjb2xvcicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLmJsaW5lY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgYm90dG9tR3JvdXAuc2V0U2V0dGluZygncGF0dGVybicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwYXR0ZXJuJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVwYXR0ZXJuLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IExpbmVQYXR0ZXJuLlNvbGlkLnRvU3RyaW5nKCksIHRleHQ6ICdzb2xpZCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBMaW5lUGF0dGVybi5EYXNoZWQudG9TdHJpbmcoKSwgdGV4dDogJ2Rhc2hlZCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBMaW5lUGF0dGVybi5Qb2ludGVkLnRvU3RyaW5nKCksIHRleHQ6ICdwb2ludGVkJyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICBib3R0b21Hcm91cC5zZXRTZXR0aW5nKCd3aWR0aCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLmJsaW5ld2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBmaWxsR3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdmaWxsJywgZ3JvdXA6IHRydWUsIGRpc3BsYXlOYW1lOiAnRmlsbCBjb2xvcicgfSk7XG5cbiAgICAgICAgZmlsbEdyb3VwLnNldFNldHRpbmcoJ2ZpbGxlZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdmaWxsZWQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS5maWxsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZpbGxHcm91cC5zZXRTZXR0aW5nKCdjb2xvcicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLmZpbGxjb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBmaWxsT3ZlcmxhcEdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZmlsbG92ZXJsYXAnLCBncm91cDogdHJ1ZSwgZGlzcGxheU5hbWU6ICdGaWxsIGNvbG9ycycgfSk7XG5cbiAgICAgICAgZmlsbE92ZXJsYXBHcm91cC5zZXRTZXR0aW5nKCdmaWxsJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2ZpbGwnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwZmlsbC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNoZWNrLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBmaWxsT3ZlcmxhcEdyb3VwLnNldFNldHRpbmcoJ2NvbG9ydXAnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnY29sb3J1cCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBjb2xvclVwLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZpbGxPdmVybGFwR3JvdXAuc2V0U2V0dGluZygnY29sb3Jkb3duJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yZG93bicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBjb2xvckRvd24udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICd6b25lcycsIGdyb3VwOiB0cnVlLCBkaXNwbGF5TmFtZTogJ1pvbmVzJyB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2aXNpYmxlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3Zpc2libGUnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS52aXNpYmxlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Zpc2libGUnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd1cHRocmVzaG9sZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd1cHRocmVzaG9sZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLnVwdGhyZXNob2xkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVXBwZXIgdGhyZXNob2xkJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnbG93dGhyZXNob2xkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xvd3RocmVzaG9sZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLmxvd3RocmVzaG9sZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0xvd2VyIHRocmVzaG9sZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ByaWNldmFsdWVzJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3ByaWNldmFsdWVzJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUucHJpY2V2YWx1ZXMudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jaGVjayxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVmFsdWVzIG9uIHByaWNlIHNjYWxlJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnc2hvd3RocmVzaG9sZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdzaG93dGhyZXNob2xkJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUuc2hvd3RocmVzaG9sZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNoZWNrLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdTaG93IHRocmVzaG9sZCBsaW5lcydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3RvcGxpbmUnLCB0b3BsaW5lR3JvdXApO1xuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdib3R0b21saW5lJywgYm90dG9tR3JvdXApO1xuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdmaWxsJywgZmlsbEdyb3VwKTtcbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnZmlsbG92ZXJsYXAnLCBmaWxsT3ZlcmxhcEdyb3VwKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFpvbmVzU2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpIHtcbiAgICAgICAgbGV0IHN0OiBTZXR0aW5nU2V0fHVuZGVmaW5lZDtcblxuICAgICAgICBzdCA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLnZpc2libGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnZpc2libGUgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgPT09ICd0cnVlJyA6IHRoaXMuc2V0dGluZ3Muem9uZS52aXNpYmxlO1xuXG4gICAgICAgIC8vIHNob3d0aHJlc2hvbGRcbiAgICAgICAgc3QgPSB2YWx1ZS5nZXRTZXR0aW5nKCd6b25lcy5zaG93dGhyZXNob2xkJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5zaG93dGhyZXNob2xkID0gKHN0ICYmIHN0LnZhbHVlKSA/IHN0LnZhbHVlID09PSAndHJ1ZScgOiB0aGlzLnNldHRpbmdzLnpvbmUuc2hvd3RocmVzaG9sZDtcblxuICAgICAgICAvLyB1cHRocmVzaG9sZFxuICAgICAgICBzdCA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLnVwdGhyZXNob2xkJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS51cHRocmVzaG9sZCA9IChzdCAmJiBzdC52YWx1ZSkgPyBwYXJzZUludChzdC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy56b25lLnVwdGhyZXNob2xkO1xuXG4gICAgICAgIC8vIGxvd3RocmVzaG9sZFxuICAgICAgICBzdCA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLmxvd3RocmVzaG9sZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUubG93dGhyZXNob2xkID0gKHN0ICYmIHN0LnZhbHVlKSA/IHBhcnNlSW50KHN0LnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnpvbmUubG93dGhyZXNob2xkO1xuXG4gICAgICAgIC8vIHByaWNldmFsdWVzXG4gICAgICAgIHN0ID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMucHJpY2V2YWx1ZXMnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnByaWNldmFsdWVzID0gKHN0ICYmIHN0LnZhbHVlKSA/IHN0LnZhbHVlID09PSAndHJ1ZScgOiB0aGlzLnNldHRpbmdzLnpvbmUucHJpY2V2YWx1ZXM7XG5cbiAgICAgICAgLy8gdG9wbGluZSAoY29sb3IsIHBhdHRlcm4sIHdpZHRoKVxuICAgICAgICBjb25zdCB0b3BsaW5lID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMudG9wbGluZScpO1xuICAgICAgICBpZiAodG9wbGluZSkge1xuICAgICAgICAgICAgc3QgPSB0b3BsaW5lLmdldFNldHRpbmcoJ3RvcGxpbmUuY29sb3InKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS50bGluZWNvbG9yID0gKHN0ICYmIHN0LnZhbHVlKSA/IHN0LnZhbHVlIDogdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lY29sb3I7XG5cbiAgICAgICAgICAgIHN0ID0gdG9wbGluZS5nZXRTZXR0aW5nKCd0b3BsaW5lLnBhdHRlcm4nKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXBhdHRlcm4gPSAoc3QgJiYgc3QudmFsdWUpID8gcGFyc2VJbnQoc3QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXBhdHRlcm47XG5cbiAgICAgICAgICAgIHN0ID0gdG9wbGluZS5nZXRTZXR0aW5nKCd0b3BsaW5lLndpZHRoJyk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmV3aWR0aCA9IChzdCAmJiBzdC52YWx1ZSkgPyBwYXJzZUludChzdC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy56b25lLnRsaW5ld2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBib3R0b21saW5lIChjb2xvciwgcGF0dGVybiwgd2lkdGgpXG4gICAgICAgIGNvbnN0IGJvdHRvbWxpbmUgPSB2YWx1ZS5nZXRTZXR0aW5nKCd6b25lcy5ib3R0b21saW5lJyk7XG4gICAgICAgIGlmIChib3R0b21saW5lKSB7XG4gICAgICAgICAgICBzdCA9IGJvdHRvbWxpbmUuZ2V0U2V0dGluZygnYm90dG9tbGluZS5jb2xvcicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLmJsaW5lY29sb3IgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVjb2xvcjtcblxuICAgICAgICAgICAgc3QgPSBib3R0b21saW5lLmdldFNldHRpbmcoJ2JvdHRvbWxpbmUucGF0dGVybicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLmJsaW5lcGF0dGVybiA9IChzdCAmJiBzdC52YWx1ZSkgPyBwYXJzZUludChzdC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy56b25lLmJsaW5lcGF0dGVybjtcblxuICAgICAgICAgICAgc3QgPSBib3R0b21saW5lLmdldFNldHRpbmcoJ2JvdHRvbWxpbmUud2lkdGgnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZXdpZHRoID0gKHN0ICYmIHN0LnZhbHVlKSA/IHBhcnNlSW50KHN0LnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmV3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGwgKGZpbGwsIGNvbG9yKVxuICAgICAgICBjb25zdCBmaWxsID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMuZmlsbCcpO1xuICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgc3QgPSBmaWxsLmdldFNldHRpbmcoJ2ZpbGwuY29sb3InKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5maWxsY29sb3IgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgOiB0aGlzLnNldHRpbmdzLnpvbmUuZmlsbGNvbG9yO1xuXG4gICAgICAgICAgICBzdCA9IGZpbGwuZ2V0U2V0dGluZygnZmlsbC5maWxsZWQnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5maWxsID0gKHN0ICYmIHN0LnZhbHVlKSA/IHN0LnZhbHVlID09PSAndHJ1ZScgOiB0aGlzLnNldHRpbmdzLnpvbmUuZmlsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGxvdmVybGFwIChmaWxsLCBjb2xvcnVwLCBjb2xvcmRvd24pXG4gICAgICAgIGNvbnN0IG92cmxhcCA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLmZpbGxvdmVybGFwJyk7XG4gICAgICAgIGlmIChvdnJsYXApIHtcbiAgICAgICAgICAgIHN0ID0gb3ZybGFwLmdldFNldHRpbmcoJ2ZpbGxvdmVybGFwLmZpbGwnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwZmlsbCA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA9PT0gJ3RydWUnIDogdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBmaWxsO1xuXG4gICAgICAgICAgICBzdCA9IG92cmxhcC5nZXRTZXR0aW5nKCdmaWxsb3ZlcmxhcC5jb2xvcnVwJyk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yVXAgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgOiB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yVXA7XG5cbiAgICAgICAgICAgIHN0ID0gb3ZybGFwLmdldFNldHRpbmcoJ2ZpbGxvdmVybGFwLmNvbG9yZG93bicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBjb2xvckRvd24gPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgOiB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yRG93bjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlclNldHRpbmdzIHtcbiAgICBwdWJsaWMgem9uZSA9IG5ldyBab25lU2V0dGluZ3MoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFpvbmVTZXR0aW5ncyB7XG4gICAgcHVibGljIHZpc2libGUgPSB0cnVlO1xuICAgIHB1YmxpYyBzaG93dGhyZXNob2xkID0gdHJ1ZTtcbiAgICBwdWJsaWMgdXB0aHJlc2hvbGQgPSA4MDtcbiAgICBwdWJsaWMgbG93dGhyZXNob2xkID0gMjA7XG4gICAgcHVibGljIHByaWNldmFsdWVzID0gZmFsc2U7XG5cbiAgICAvLyBUb3AgbGluZVxuICAgIHB1YmxpYyB0bGluZWNvbG9yID0gJyM1NTU1NTUnO1xuICAgIHB1YmxpYyB0bGluZXBhdHRlcm4gPSBMaW5lUGF0dGVybi5Tb2xpZDtcbiAgICBwdWJsaWMgdGxpbmV3aWR0aCA9IDE7XG5cbiAgICAvLyBCb3R0b20gbGluZVxuICAgIHB1YmxpYyBibGluZWNvbG9yID0gJyM1NTU1NTUnO1xuICAgIHB1YmxpYyBibGluZXBhdHRlcm4gPSBMaW5lUGF0dGVybi5Tb2xpZDtcbiAgICBwdWJsaWMgYmxpbmV3aWR0aCA9IDE7XG5cbiAgICAvLyBGaWxsXG4gICAgcHVibGljIGZpbGwgPSBmYWxzZTtcbiAgICBwdWJsaWMgZmlsbGNvbG9yID0gJyM3Nzc3NzcnO1xuXG4gICAgLy8gT3ZlcmxhcFxuICAgIHB1YmxpYyBvdmVybGFwZmlsbCA9IGZhbHNlO1xuICAgIHB1YmxpYyBvdmVybGFwY29sb3JVcCA9ICcjM0FBMDAwJztcbiAgICBwdWJsaWMgb3ZlcmxhcGNvbG9yRG93biA9ICcjQ0UwMDAwJztcbn1cbiIsIi8qKlxuICogQ3Jvc3NoYWlyUmVuZGVyZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBDcm9zc2hhaXJSZW5kZXJlciB7XG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsIHBvaW50OiBJUG9pbnQsIGZyYW1lU2l6ZTogSVNpemUpOiB2b2lkIHtcblxuICAgICAgICAvLyBEcmF3IGNyb3NzaGFpclxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJ2JsYWNrJyk7XG4gICAgICAgIGNvbnN0IGN1ckRhc2ggPSBjYW52YXMuZ2V0TGluZURhc2goKTtcbiAgICAgICAgY2FudmFzLnNldExpbmVEYXNoKFs1LCA1XSk7XG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChwb2ludC54ID4gMCAmJiBwb2ludC54IDwgZnJhbWVTaXplLndpZHRoKSB7XG4gICAgICAgICAgICAvLyBkcmF3IHZlcnRpY2FsIGxpbmVcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocG9pbnQueCwgMCk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKHBvaW50LngsIGZyYW1lU2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludC55ID4gMCAmJiBwb2ludC55IDwgZnJhbWVTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gZHJhdyBob3Jpem9udGFsIGxpbmVcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oMCwgcG9pbnQueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lU2l6ZS53aWR0aCwgcG9pbnQueSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRMaW5lRGFzaChjdXJEYXNoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEF4aXNSZW5kZXJlclxuICogXG4gKiBAY2xhc3NkZXNjIENvbnRhaW5zIG1ldGhvZHMgZm9yIHJlbmRlcmluZyBheGVzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIEdyaWRSZW5kZXJlciB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgZnJhbWU6IElSZWN0LCB4QXhpczogSVRpbWVBeGlzLCB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRUFFQUVBJyk7XG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAxO1xuXG4gICAgICAgIC8vIFZlcnRpY2FsIGxpbmVzXG4gICAgICAgIGNvbnN0IGdyaWRYID0geEF4aXMuZ2V0R3JpZCgpO1xuICAgICAgICBncmlkWC5yZXNldCgpO1xuICAgICAgICB3aGlsZSAoZ3JpZFgubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IGdyaWRYLmN1cnJlbnQueDtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oeCwgZnJhbWUueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKHgsIGZyYW1lLnkgKyBmcmFtZS5oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhvcml6b250YWwgbGluZXNcbiAgICAgICAgY29uc3QgZ3JpZFkgPSB5QXhpcy5nZXRHcmlkKCk7XG4gICAgICAgIGZvciAoY29uc3QgYmFyIG9mIGdyaWRZLmJhcnMpIHtcbiAgICAgICAgICAgIGlmIChiYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goYmFyKTtcbiAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKGZyYW1lLngsIHkpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgfVxufVxuIiwi77u/LyoqXHJcbiAqIEhvbGxvd3N0aWNrQ2hhcnRSZW5kZXJlclxyXG4gKiBcclxuICogQGNsYXNzZGVzYyBSZW5kZXJzIHNwZWNpZmllZCBkYXRhIGluIGEgZm9ybSBvZiBob2xsb3cgY2FuZGxlcyBjaGFydC5cclxuICovXHJcbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XHJcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgSURhdGFJdGVyYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgSVBvaW50LCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IElDaGFydFJlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IFJlbmRlclV0aWxzIH0gZnJvbSAnLi9SZW5kZXJVdGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSG9sbG93c3RpY2tDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiAge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWluQ2FuZGxlV2lkdGggPSAxO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXhDYW5kbGVXaWR0aCA9IDIxO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcclxuXHJcbiAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FuZGxlKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCBkYXRhSXRlcmF0b3IucHJldmlvdXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsZXQgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aW1lQXhpcy5yZXNldCgpO1xyXG4gICAgICAgIC8vIHdoaWxlICh0aW1lQXhpcy5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clVpZCA9IHRpbWVBeGlzLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clRpbWUgPSBjdXJVaWQudC5nZXRUaW1lKCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1cm4gPSBjdXJVaWQubjtcclxuICAgICAgICAvLyAgICAgY29uc3QgeCA9IHRpbWVBeGlzLmN1cnJlbnRYO1xyXG5cclxuICAgICAgICAvLyAgICAgaWYgKCFmb3VuZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZm91bmQgPSBkYXRhSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID09PSBjdXJUaW1lICYmIGl0ZW0udWlkLm4gPT09IGN1cm4pO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgZm91bmQgPSBkYXRhSXRlcmF0b3IubW92ZVRvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3VybikgIT09IC0xO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoZm91bmQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGNhbmRsZSA9IGRhdGFJdGVyYXRvci5jdXJyZW50O1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIHRoaXMucmVuZGVyQ2FuZGxlKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCBkYXRhSXRlcmF0b3IucHJldmlvdXMpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxyXG4gICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBsZXQgY2FuZGxlSGl0OiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcclxuXHJcbiAgICAgICAgLy8gd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnRlc3RIaXRBcmVhQ2FuZGxlKGhpdFBvaW50LCB0aW1lQXhpcywgeUF4aXMsIGRhdGFJdGVyYXRvci5jdXJyZW50LCBjYW5kbGVXKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY2FuZGxlSGl0ID0gZGF0YUl0ZXJhdG9yLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbmRsZUhpdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRlc3RIaXRBcmVhQ2FuZGxlKFxyXG4gICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPixcclxuICAgICAgICBjYW5kbGU6IENhbmRsZXN0aWNrLFxyXG4gICAgICAgIGNhbmRsZVc6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHggPSB0aW1lQXhpcy50b1goY2FuZGxlLnVpZCk7XHJcbiAgICAgICAgaWYgKHggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNhbGN1bGF0ZUJvZHkoeCwgeUF4aXMsIGNhbmRsZS5vLCBjYW5kbGUuYywgY2FuZGxlVyk7XHJcbiAgICAgICAgICAgIHJldHVybiAoaGl0UG9pbnQueCA+PSBib2R5LnggJiYgaGl0UG9pbnQueCA8PSAoYm9keS54ICsgYm9keS53KVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGhpdFBvaW50LnkgPj0gYm9keS55ICYmIGhpdFBvaW50LnkgPD0gKGJvZHkueSArIGJvZHkuaCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJDYW5kbGUoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLCB0aW1lQXhpczogSVRpbWVBeGlzLCB5QXhpczogSUF4aXM8bnVtYmVyPiwgY2FuZGxlOiBDYW5kbGVzdGljaywgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIGNhbmRsZVc6IG51bWJlciwgeDogbnVtYmVyLFxyXG4gICAgICAgIHByZXZDYW5kbGU/OiBDYW5kbGVzdGljayk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb2xvclVwID0gJyMwMEI3MTInOyAvLyBibGFja1xyXG4gICAgICAgIGNvbnN0IGNvbG9yRG93biA9ICcjRUEwMDAwJzsgLy8gcmVkXHJcbiAgICAgICAgY29uc3Qgd2hpdGUgPSAnI0ZGRkZGRic7XHJcblxyXG4gICAgICAgIGxldCBjb2xvciA9IGNvbG9yRG93bjsgLy8gZGVmYXVsdCBjb2xvclxyXG4gICAgICAgIGlmIChwcmV2Q2FuZGxlICYmIHByZXZDYW5kbGUuYykge1xyXG4gICAgICAgICAgICBjb2xvciA9IChjYW5kbGUuYyA+IHByZXZDYW5kbGUuYykgPyBjb2xvclVwIDogY29sb3JEb3duO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXNIb2xsb3cgPSBjYW5kbGUuYyA+IGNhbmRsZS5vO1xyXG5cclxuICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuXHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcclxuICAgICAgICBjb25zdCBoID0geUF4aXMudG9YKGNhbmRsZS5oKTtcclxuICAgICAgICBjb25zdCBsID0geUF4aXMudG9YKGNhbmRsZS5sKTtcclxuXHJcbiAgICAgICAgLy8gU3RhcnRpbiBkcmF3aW5nXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZShjb2xvcik7XHJcblxyXG4gICAgICAgIGlmIChib2R5LncgPiAyKSB7XHJcbiAgICAgICAgICAgIC8vIERyYXdpbmcgdXBwZXIgc2hhZG93XHJcbiAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIHgsIGJvZHkueSwgeCwgaCApO1xyXG5cclxuICAgICAgICAgICAgLy8gRHJhd2luZyBsb3dlciBzaGFkb3dcclxuICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCwgbCwgeCwgYm9keS55ICsgYm9keS5oIC0gMSk7XHJcblxyXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEcmF3aW5nIGJvZHlcclxuICAgICAgICBpZiAoYm9keS53ID4gMikge1xyXG4gICAgICAgICAgICBpZiAoaXNIb2xsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUod2hpdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZShjb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xyXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCwgYm9keS55LCB4LCBib2R5LnkgKyBib2R5LmgpO1xyXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlQm9keSh4OiBudW1iZXIsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBvOiBudW1iZXIsIGM6IG51bWJlciwgY2FuZGxlVzogbnVtYmVyKTogSVJlY3Qge1xyXG4gICAgICAgIGNvbnN0IG9jTWluID0geUF4aXMudG9YKE1hdGgubWF4KG8sIGMpKTsgLy8gSW52ZXJ0ZWQgWVxyXG4gICAgICAgIGNvbnN0IG9jTWF4ID0geUF4aXMudG9YKE1hdGgubWluKG8sIGMpKTtcclxuICAgICAgICByZXR1cm4geyB4OiB4IC0gTWF0aC5mbG9vcihjYW5kbGVXIC8gMiksIHk6IG9jTWluLCB3OiBjYW5kbGVXLCBoOiBvY01heCAtIG9jTWluIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXM6IElUaW1lQXhpcywgZnJhbWVXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlc0NvdW50ID0gdGltZUF4aXMuY291bnQ7XHJcbiAgICAgICAgbGV0IHcgPSBmcmFtZVdpZHRoIC8gKDMgKiBjYW5kbGVzQ291bnQpO1xyXG5cclxuICAgICAgICBpZiAodyA8IDEuMykge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3ID0gTWF0aC5jZWlsKHcpO1xyXG4gICAgICAgICAgICB3ID0gdyArICgodyArIDEpICUgMik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5tYXhDYW5kbGVXaWR0aCwgdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGluZShjYW52YXM6IElDYW52YXMsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjYW52YXMubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgfSAgICBcclxufVxyXG4iLCLvu78vKipcclxuICogTGluZUNoYXJ0UmVuZGVyZXJcclxuICogXHJcbiAqIEBjbGFzc2Rlc2MgUmVuZGVycyBwb2ludHMgaW4gYSBmb3JtIG9mIGxpbmUgY2hhcnQuXHJcbiAqL1xyXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgU2V0dGluZ1NldCB9IGZyb20gXCIuLi9jb3JlL1NldHRpbmdTZXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5lQ2hhcnRSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxQb2ludD4ge1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxQb2ludD4sXHJcbiAgICAgICAgLy9kYXRhOiBQb2ludFtdLFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIC8vIFJlbmRlclxyXG4gICAgICAgIC8vIC8vXHJcbiAgICAgICAgLy8gLy8gYm9yZGVyIGxpbmVzXHJcbiAgICAgICAgLy8gY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIC8vIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzMzMzMzMycpO1xyXG4gICAgICAgIC8vIC8vIC4uLiBsZWZ0XHJcbiAgICAgICAgLy8gY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcclxuICAgICAgICAvLyBjYW52YXMubGluZVRvKGZyYW1lLngsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XHJcbiAgICAgICAgLy8gLy8gLi4uIGJvdHRvbVxyXG4gICAgICAgIC8vIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xyXG4gICAgICAgIC8vIC8vIC4uLiByaWdodFxyXG4gICAgICAgIC8vIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55KTtcclxuICAgICAgICAvLyBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIC8vIFN0YXJ0IGRyYXdpbmdcclxuICAgICAgICAvLyBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgLy8gY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNTU1NTU1Jyk7XHJcblxyXG4gICAgICAgIC8vIGlmIChkYXRhSXRlcmF0b3IubW92ZU5leHQoKSkge1xyXG4gICAgICAgIC8vICAgICBsZXQgeCA9IHRpbWVBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC5kYXRlKTtcclxuICAgICAgICAvLyAgICAgbGV0IHkgPSB5QXhpcy50b1goPG51bWJlcj5kYXRhSXRlcmF0b3IuY3VycmVudC52YWx1ZSk7XHJcbiAgICAgICAgLy8gICAgIGNhbnZhcy5tb3ZlVG8oeCwgeSk7XHJcbiAgICAgICAgLy8gICAgIHdoaWxlIChkYXRhSXRlcmF0b3IubW92ZU5leHQoKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGRhdGFJdGVyYXRvci5jdXJyZW50LnZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgeCA9IHRpbWVBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC5kYXRlKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB5ID0geUF4aXMudG9YKDxudW1iZXI+ZGF0YUl0ZXJhdG9yLmN1cnJlbnQudmFsdWUpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oeCwgeSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gY2FudmFzLnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxQb2ludD4sXHJcbiAgICAgICAgLy9kYXRhOiBQb2ludFtdLFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogUG9pbnQgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKGRhdGFJdGVyYXRvci5jdXJyZW50LnZhbHVlKSB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgeCA9IHRpbWVBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC5kYXRlKTtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goZGF0YUl0ZXJhdG9yLmN1cnJlbnQudmFsdWUpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IFIgPSBNYXRoLnNxcnQoTWF0aC5wb3coTWF0aC5hYnMoeCAtIGhpdFBvaW50LngpLCAyKSArIE1hdGgucG93KE1hdGguYWJzKHkgLSBoaXRQb2ludC55KSwgMikpO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKFIgPCAyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVyYXRvci5jdXJyZW50O1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9ICAgIFxyXG59XHJcbiIsIi8qKlxuICogTGluZVBvcHVwUmVuZGVyZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSVBvcHVwUmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIExpbmVQb3B1cFJlbmRlcmVyIGltcGxlbWVudHMgSVBvcHVwUmVuZGVyPFBvaW50PiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nTGVmdCA9IDU7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nVG9wID0gNTtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLCBtb2RlbDogUG9pbnQsIHBvaW50OiBJUG9pbnQsIGZyYW1lU2l6ZTogSVNpemUsIHByZWNpc2lvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSAyMDtcbiAgICAgICAgY29uc3QgdyA9IDkwO1xuICAgICAgICBjb25zdCBoID0gbGluZUhlaWdodCArIHRoaXMucGFkZGluZ1RvcCAqIDI7XG4gICAgICAgIGNvbnN0IHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb2ludC54LCBmcmFtZVNpemUud2lkdGggLSB3KSk7XG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb2ludC55LCBmcmFtZVNpemUuaGVpZ2h0IC0gaCkpO1xuXG4gICAgICAgIGNvbnN0IGFscGhhID0gY2FudmFzLmdsb2JhbEFscGhhO1xuICAgICAgICBjYW52YXMuZ2xvYmFsQWxwaGEgPSAwLjg7XG5cbiAgICAgICAgLy8gYm9yZGVyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0MwQzBDMCcpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlUmVjdCh4LCB5LCB3LCBoKTtcblxuICAgICAgICAvLyBmaWxsXG4gICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNGMkYyRjInKTtcbiAgICAgICAgY2FudmFzLmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuXG4gICAgICAgIC8vIHRleHRcbiAgICAgICAgY2FudmFzLmZvbnQgPSAnMTBweCBBcmlhbCc7XG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5Ub3ApO1xuICAgICAgICBjYW52YXMuZmlsbFRleHQoYCR7IChtb2RlbC52YWx1ZSAhPT0gdW5kZWZpbmVkID8gbW9kZWwudmFsdWUudG9GaXhlZChwcmVjaXNpb24pIDogJycgKSB9YCwgeCArIHRoaXMucGFkZGluZ0xlZnQsIHkgKyB0aGlzLnBhZGRpbmdUb3ApO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgZ2xvYmFsIHZhbHVlXG4gICAgICAgIGNhbnZhcy5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cbn1cbiIsIu+7vy8qKlxuICogTGluZXN0aWNrQ2hhcnRSZW5kZXJlclxuICogXG4gKiBAY2xhc3NkZXNjIFJlbmRlcnMgY2FuZGxlc3RpY2tzIGluIGEgZm9ybSBvZiBsaW5lIGNoYXJ0LlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IFJlbmRlclV0aWxzIH0gZnJvbSAnLi9SZW5kZXJVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lc3RpY2tDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IFJlbmRlclNldHRpbmdzKCk7XG5cbiAgICBwdWJsaWMgcmVuZGVyKFxuICAgICAgICBjYW52YXM6IElDYW52YXMsXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgIC8vZGF0YTogQ2FuZGxlc3RpY2tbXSxcbiAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIC8vIFJlbmRlclxuICAgICAgICAvL1xuICAgICAgICAvLyBib3JkZXIgbGluZXNcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcbiAgICAgICAgLy8gLi4uIGxlZnRcbiAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54LCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gYm90dG9tXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gcmlnaHRcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLmNvbG9yKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG5cbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YUl0ZXJhdG9yLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IGl0ZW0uYyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzLCBmYWxzZSk7XG5cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxuICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIC8vIHdoaWxlIChkYXRhSXRlcmF0b3IubW92ZU5leHQoKSkge1xuICAgICAgICAvLyAgICAgaWYgKGRhdGFJdGVyYXRvci5jdXJyZW50LmMgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgeCA9IHRpbWVBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC5kYXRlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmMpO1xuXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgUiA9IE1hdGguc3FydChNYXRoLnBvdyhNYXRoLmFicyh4IC0gaGl0UG9pbnQueCksIDIpICsgTWF0aC5wb3coTWF0aC5hYnMoeSAtIGhpdFBvaW50LnkpLCAyKSk7XG4gICAgICAgIC8vICAgICAgICAgaWYgKFIgPCAyKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBkYXRhSXRlcmF0b3IuY3VycmVudDtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAndmlzdWFsJywgZ3JvdXA6IHRydWUsIGRpc3BsYXlOYW1lOiAndmlzdWFsJyB9KTtcblxuICAgICAgICBzZXR0aW5ncy5zZXRTZXR0aW5nKCdjb2xvcicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yLnRvU3RyaW5nKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHNldHRpbmdzLnNldFNldHRpbmcoJ3dpZHRoJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTGluZSB3aWR0aCcsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBzZXR0aW5ncztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29sb3JVcCA9IHZhbHVlLmdldFNldHRpbmcoJ3Zpc3VhbC5jb2xvcicpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmNvbG9yID0gKGNvbG9yVXAgJiYgY29sb3JVcC52YWx1ZSkgPyBjb2xvclVwLnZhbHVlIDogdGhpcy5zZXR0aW5ncy5jb2xvcjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHZhbHVlLmdldFNldHRpbmcoJ3Zpc3VhbC53aWR0aCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gKHdpZHRoICYmIHdpZHRoLnZhbHVlKSA/IHBhcnNlSW50KHdpZHRoLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLndpZHRoO1xuXG4gICAgICAgIFxuICAgIH1cbn1cblxuY2xhc3MgUmVuZGVyU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBjb2xvciA9ICcjNTU1NTU1JztcbiAgICBwdWJsaWMgd2lkdGggPSAxO1xufVxuIiwi77u/LyoqXHJcbiAqIE1vdW50YWluQ2hhcnRSZW5kZXJlclxyXG4gKiBcclxuICogQGNsYXNzZGVzYyBSZW5kZXJzIGNhbmRsZXN0aWNrcyBpbiBhIGZvcm0gb2YgbW91bnRhaW4gY2hhcnQuXHJcbiAqL1xyXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgUmVuZGVyVXRpbHMgfSBmcm9tICcuL1JlbmRlclV0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3VudGFpbkNoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKFxyXG4gICAgICAgIGNhbnZhczogSUNhbnZhcyxcclxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgIC8vZGF0YTogQ2FuZGxlc3RpY2tbXSxcclxuICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBSZW5kZXJcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIGJvcmRlciBsaW5lc1xyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcclxuICAgICAgICAvLyAuLi4gbGVmdFxyXG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgZnJhbWUueSk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54LCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xyXG4gICAgICAgIC8vIC4uLiBib3R0b21cclxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53IC0gMSwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcclxuICAgICAgICAvLyAuLi4gcmlnaHRcclxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53IC0gMSwgZnJhbWUueSk7XHJcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzU1NTU1NScpO1xyXG5cclxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhSXRlcmF0b3IsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IGl0ZW0uYyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnI0NDRUFGMCc7XHJcbiAgICAgICAgY2FudmFzLmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXHJcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgIC8vZGF0YTogQ2FuZGxlc3RpY2tbXSxcclxuICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgLy8gd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGlmIChkYXRhSXRlcmF0b3IuY3VycmVudC5jICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCB4ID0gdGltZUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmRhdGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC5jKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBSID0gTWF0aC5zcXJ0KE1hdGgucG93KE1hdGguYWJzKHggLSBoaXRQb2ludC54KSwgMikgKyBNYXRoLnBvdyhNYXRoLmFicyh5IC0gaGl0UG9pbnQueSksIDIpKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChSIDwgMikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBkYXRhSXRlcmF0b3IuY3VycmVudDtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxuICogTnVtYmVyQXhpc1JlbmRlcmVyXG4gKiBcbiAqIEBjbGFzc2Rlc2MgQ29udGFpbnMgbWV0aG9kcyBmb3IgcmVuZGVyaW5nIGF4ZXMuXG4gKi9cbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUF4ZXNSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVyQXhpc1JlbmRlcmVyIGltcGxlbWVudHMgSUF4ZXNSZW5kZXI8bnVtYmVyPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgYXhpczogSUF4aXM8bnVtYmVyPiwgZnJhbWU6IElSZWN0KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgZ3JpZCA9IGF4aXMuZ2V0R3JpZCgpO1xuXG4gICAgICAgIGNhbnZhcy5mb250ID0gJzExcHggQXJpYWwnO1xuICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJ2JsYWNrJyk7XG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGJhciBvZiBncmlkLmJhcnMpIHtcbiAgICAgICAgICAgIGlmIChiYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBheGlzLnRvWChiYXIpO1xuICAgICAgICAgICAgICAgIGlmICh5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3QmFyKGNhbnZhcywgYmFyLCB5LCBncmlkLnByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3QmFyKGNhbnZhczogSUNhbnZhcywgdmFsdWU6IG51bWJlciwgeTogbnVtYmVyLCBwcmVjaXNpb246IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgY2FudmFzLm1vdmVUbygwLCB5KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbygzLCB5KTtcblxuICAgICAgICAvLyBkcmF3IHRpbWUgbWFya1xuICAgICAgICBjb25zdCBtYXJrVGV4dCA9IHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICAgICAgY2FudmFzLnNldFRleHRCYXNlTGluZShDYW52YXNUZXh0QmFzZUxpbmUuTWlkZGxlKTtcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KG1hcmtUZXh0LCA0LCB5KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE51bWJlck1hcmtSZW5kZXJlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVyTWFya1JlbmRlcmVyIGltcGxlbWVudHMgSU1hcmtSZW5kZXI8bnVtYmVyPiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nTGVmdCA9IDQ7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgdmFsdWU6IG51bWJlciwgcG9pbnQ6IElQb2ludCwgZnJhbWVTaXplOiBJU2l6ZSwgcHJlY2lzaW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKS50b1N0cmluZygpO1xuXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGNhbnZhcy5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjM0YzRjNGJztcbiAgICAgICAgY2FudmFzLmZpbGxSZWN0KHBvaW50LngsIHBvaW50LnkgLSA4LCB0ZXh0V2lkdGggKyB0aGlzLnBhZGRpbmdMZWZ0ICogMiwgMTYpO1xuXG4gICAgICAgIGNhbnZhcy5mb250ID0gJzExcHggQXJpYWwnO1xuICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJyNFQUVBRUEnO1xuICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5NaWRkbGUpO1xuICAgICAgICBjYW52YXMuZmlsbFRleHQodGV4dCwgcG9pbnQueCArIHRoaXMucGFkZGluZ0xlZnQsIHBvaW50LnkpO1xuICAgIH1cbn1cbiIsIu+7vy8qKlxyXG4gKiBPaGxjQ2hhcnRSZW5kZXJlciBjbGFzcy5cclxuICogXHJcbiAqIEBjbGFzc2Rlc2MgUmVuZGVycyBzcGVjaWZpZWQgZGF0YSBpbiBhIGZvcm0gb2YgT0hMQyBjaGFydC5cclxuICovXHJcbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XHJcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgSURhdGFJdGVyYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgSVBvaW50LCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IElDaGFydFJlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IFJlbmRlclV0aWxzIH0gZnJvbSAnLi9SZW5kZXJVdGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgT2hsY0NoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+ICB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5DYW5kbGVXaWR0aCA9IDE7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heENhbmRsZVdpZHRoID0gMztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKFxyXG4gICAgICAgIGNhbnZhczogSUNhbnZhcyxcclxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpbmVXID0gdGhpcy5jYWxjdWxhdGVMaW5lV2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xyXG5cclxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChjYW5kbGUsIHgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW5kbGUoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGxpbmVXLCB4LCBkYXRhSXRlcmF0b3IucHJldmlvdXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsZXQgZm91bmQgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aW1lQXhpcy5yZXNldCgpO1xyXG4gICAgICAgIC8vIHdoaWxlICh0aW1lQXhpcy5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clVpZCA9IHRpbWVBeGlzLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clRpbWUgPSBjdXJVaWQudC5nZXRUaW1lKCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1cm4gPSBjdXJVaWQubjtcclxuICAgICAgICAvLyAgICAgY29uc3QgeCA9IHRpbWVBeGlzLmN1cnJlbnRYO1xyXG5cclxuICAgICAgICAvLyAgICAgaWYgKCFmb3VuZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZm91bmQgPSBkYXRhSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID09PSBjdXJUaW1lICYmIGl0ZW0udWlkLm4gPT09IGN1cm4pO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgZm91bmQgPSBkYXRhSXRlcmF0b3IubW92ZVRvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3VybikgIT09IC0xO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoZm91bmQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGNhbmRsZSA9IGRhdGFJdGVyYXRvci5jdXJyZW50O1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5yZW5kZXJDYW5kbGUoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGxpbmVXLCB4LCBkYXRhSXRlcmF0b3IucHJldmlvdXMpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxyXG4gICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBsZXQgY2FuZGxlSGl0OiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlTGluZVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcclxuXHJcbiAgICAgICAgLy8gd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnRlc3RIaXRBcmVhQ2FuZGxlKGhpdFBvaW50LCB0aW1lQXhpcywgeUF4aXMsIGRhdGFJdGVyYXRvci5jdXJyZW50LCBjYW5kbGVXKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY2FuZGxlSGl0ID0gZGF0YUl0ZXJhdG9yLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbmRsZUhpdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRlc3RIaXRBcmVhQ2FuZGxlKFxyXG4gICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPixcclxuICAgICAgICBjYW5kbGU6IENhbmRsZXN0aWNrLFxyXG4gICAgICAgIGNhbmRsZVc6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbGV0IHggPSB0aW1lQXhpcy50b1goY2FuZGxlLnVpZCk7XHJcbiAgICAgICAgLy8gaWYgKHggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuXHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNhbGN1bGF0ZUJvZHkoeCwgeUF4aXMsIGNhbmRsZS5vLCBjYW5kbGUuYywgY2FuZGxlVyk7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiAoaGl0UG9pbnQueCA+PSBib2R5LnggJiYgaGl0UG9pbnQueCA8PSAoYm9keS54ICsgYm9keS53KVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICYmIGhpdFBvaW50LnkgPj0gYm9keS55ICYmIGhpdFBvaW50LnkgPD0gKGJvZHkueSArIGJvZHkuaCkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJDYW5kbGUoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLCB0aW1lQXhpczogSVRpbWVBeGlzLCB5QXhpczogSUF4aXM8bnVtYmVyPiwgY2FuZGxlOiBDYW5kbGVzdGljayxcclxuICAgICAgICBmcmFtZTogSVJlY3QsIGxpbmVXOiBudW1iZXIsIHg6IG51bWJlcixcclxuICAgICAgICBwcmV2Q2FuZGxlPzogQ2FuZGxlc3RpY2tcclxuICAgICAgICApOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29sb3JVcCA9ICcjMDBCNzEyJztcclxuICAgICAgICBjb25zdCBjb2xvckRvd24gPSAnI0VBMDAwMCc7XHJcblxyXG4gICAgICAgIGxldCBjb2xvcjtcclxuICAgICAgICBpZiAocHJldkNhbmRsZSAmJiBwcmV2Q2FuZGxlLmMpIHtcclxuICAgICAgICAgICAgY29sb3IgPSAoY2FuZGxlLmMgPiBwcmV2Q2FuZGxlLmMpID8gY29sb3JVcCA6IGNvbG9yRG93bjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvciA9IChjYW5kbGUuYyA+IGNhbmRsZS5vKSA/IGNvbG9yVXAgOiBjb2xvckRvd247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuICAgICAgICBjb25zdCBoID0geUF4aXMudG9YKGNhbmRsZS5oKTtcclxuICAgICAgICBjb25zdCBsID0geUF4aXMudG9YKGNhbmRsZS5sKTtcclxuICAgICAgICBjb25zdCBvID0geUF4aXMudG9YKGNhbmRsZS5vKTtcclxuICAgICAgICBjb25zdCBjID0geUF4aXMudG9YKGNhbmRsZS5jKTtcclxuICAgICAgICBjb25zdCB3ID0gbGluZVcgKyAzO1xyXG5cclxuICAgICAgICAvLyBTdGFydGluIGRyYXdpbmdcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IGxpbmVXO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZShjb2xvcik7XHJcbiAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCwgaCwgeCwgbCk7XHJcbiAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCAtIHcsIG8sIHgsIG8pOyAvLyBvcGVuIHNpZGVcclxuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBjLCB4ICsgdywgYyk7IC8vIGNsb3NlIHNpZGVcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVMaW5lV2lkdGgodGltZUF4aXM6IElUaW1lQXhpcywgZnJhbWVXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlc0NvdW50ID0gdGltZUF4aXMuY291bnQ7XHJcbiAgICAgICAgbGV0IHcgPSBmcmFtZVdpZHRoIC8gKDMgKiBjYW5kbGVzQ291bnQpO1xyXG5cclxuICAgICAgICBpZiAodyA8IDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdyA9IE1hdGguY2VpbCh3KTtcclxuICAgICAgICAgICAgdyA9IHcgKyAoKHcgKyAxKSAlIDIpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMubWF4Q2FuZGxlV2lkdGgsIHcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpbmUoY2FudmFzOiBJQ2FudmFzLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY2FudmFzLm1vdmVUbyh4MSwgeTEpO1xyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oeDIsIHkyKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgncmVuZGVyZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgIH0gICAgXHJcbn1cclxuIiwiLyoqXG4gKiBBeGlzUmVuZGVyZXJcbiAqIFxuICogQGNsYXNzZGVzYyBDb250YWlucyBtZXRob2RzIGZvciByZW5kZXJpbmcgYXhlcy5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQXhlc1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBQcmljZUF4aXNSZW5kZXJlciBpbXBsZW1lbnRzIElBeGVzUmVuZGVyPG51bWJlcj4ge1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsIGF4aXM6IElBeGlzPG51bWJlcj4sIGZyYW1lOiBJUmVjdCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGdyaWQgPSBheGlzLmdldEdyaWQoKTtcblxuICAgICAgICBjYW52YXMuZm9udCA9ICcxMXB4IEFyaWFsJztcbiAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCdibGFjaycpO1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBiYXIgb2YgZ3JpZC5iYXJzKSB7XG4gICAgICAgICAgICBpZiAoYmFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gYXhpcy50b1goYmFyKTtcbiAgICAgICAgICAgICAgICBpZiAoeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0JhcihjYW52YXMsIGJhciwgeSwgZ3JpZC5wcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd0JhcihjYW52YXM6IElDYW52YXMsIHZhbHVlOiBudW1iZXIsIHk6IG51bWJlciwgcHJlY2lzaW9uOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oMCwgeSk7XG4gICAgICAgIGNhbnZhcy5saW5lVG8oMywgeSk7XG5cbiAgICAgICAgLy8gZHJhdyB0aW1lIG1hcmtcbiAgICAgICAgY29uc3QgbWFya1RleHQgPSB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLk1pZGRsZSk7XG4gICAgICAgIGNhbnZhcy5maWxsVGV4dChtYXJrVGV4dCwgNCwgeSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBSZW5kZXJMb2NhdG9yIHNpbmdsZXRvbi5cbiAqL1xuaW1wb3J0IHsgQ2hhcnRUeXBlIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IENhbmRsZXN0aWNrUG9wdXBSZW5kZXJlciB9IGZyb20gJy4vQ2FuZGxlc3RpY2tQb3B1cFJlbmRlcmVyJztcbmltcG9ydCB7IENyb3NzaGFpclJlbmRlcmVyIH0gZnJvbSAnLi9Dcm9zc2hhaXJSZW5kZXJlcic7XG5pbXBvcnQgeyBHcmlkUmVuZGVyZXIgfSBmcm9tICcuL0dyaWRSZW5kZXJlcic7XG5pbXBvcnQgeyBIb2xsb3dzdGlja0NoYXJ0UmVuZGVyZXIgfSBmcm9tICcuL0hvbGxvd3N0aWNrQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IExpbmVDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9MaW5lQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBMaW5lUG9wdXBSZW5kZXJlciB9IGZyb20gJy4vTGluZVBvcHVwUmVuZGVyZXInO1xuaW1wb3J0IHsgTGluZXN0aWNrQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vTGluZXN0aWNrQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBNb3VudGFpbkNoYXJ0UmVuZGVyZXIgfSBmcm9tICcuL01vdW50YWluQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBOdW1iZXJBeGlzUmVuZGVyZXIgfSBmcm9tICcuL051bWJlckF4aXNSZW5kZXJlcic7XG5pbXBvcnQgeyBOdW1iZXJNYXJrUmVuZGVyZXIgfSBmcm9tICcuL051bWJlck1hcmtSZW5kZXJlcic7XG5pbXBvcnQgeyBPaGxjQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vT2hsY0NoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgUHJpY2VBeGlzUmVuZGVyZXIgfSBmcm9tICcuL1ByaWNlQXhpc1JlbmRlcmVyJztcbmltcG9ydCB7IFJlbmtvQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vUmVua29DaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IFRpbWVBeGlzUmVuZGVyZXIgfSBmcm9tICcuL1RpbWVBeGlzUmVuZGVyZXInO1xuaW1wb3J0IHsgVGltZU1hcmtSZW5kZXJlciB9IGZyb20gJy4vVGltZU1hcmtSZW5kZXJlcic7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJMb2NhdG9yIGltcGxlbWVudHMgSVJlbmRlckxvY2F0b3Ige1xuXG4gICAgcHJpdmF0ZSBsaW5lQ2hhcnRSZW5kZXIgPSBuZXcgTGluZUNoYXJ0UmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIHRpbWVBeGlzUmVuZGVyID0gbmV3IFRpbWVBeGlzUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIHByaWNlQXhpc1JlbmRlciA9IG5ldyBQcmljZUF4aXNSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgbnVtYmVyQXhpc1JlbmRlciA9IG5ldyBOdW1iZXJBeGlzUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIGNhbmRsZVBvcHVwUmVuZGVyZXIgPSBuZXcgQ2FuZGxlc3RpY2tQb3B1cFJlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSBsaW5lUG9wdXBSZW5kZXJlciA9IG5ldyBMaW5lUG9wdXBSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgdGltZU1hcmtSZW5kZXIgPSBuZXcgVGltZU1hcmtSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgbnVtYmVyTWFya1JlbmRlciA9IG5ldyBOdW1iZXJNYXJrUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIGNyb3NzaGFpclJlbmRlcmVyID0gbmV3IENyb3NzaGFpclJlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSBncmlkUmVuZGVyZXIgPSBuZXcgR3JpZFJlbmRlcmVyKCk7XG5cbiAgICBwcml2YXRlIHJlbmRlcnM6IElIYXNoVGFibGU8eyBuZXcoKTogSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB9PiA9IHt9O1xuICAgIHByaXZhdGUgYnVpbHRpblJlbmRlcnM6IElIYXNoVGFibGU8eyBuZXcoKTogSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB9PiA9IHsgfTtcblxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBSZW5kZXJMb2NhdG9yO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgSW5zdGFuY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2UgfHwgKHRoaXMuaW5zdGFuY2UgPSBuZXcgdGhpcygpKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUuY2FuZGxlXSA9IENhbmRsZXN0aWNrQ2hhcnRSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUuaGVpa2luYXNoaV0gPSBDYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYnVpbHRpblJlbmRlcnNbQ2hhcnRUeXBlLmhvbGxvd10gPSBIb2xsb3dzdGlja0NoYXJ0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYnVpbHRpblJlbmRlcnNbQ2hhcnRUeXBlLmxpbmVdID0gTGluZXN0aWNrQ2hhcnRSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUubW91bnRhaW5dID0gTW91bnRhaW5DaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5vaGxjXSA9IE9obGNDaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5yYW5nZWJhcl0gPSBPaGxjQ2hhcnRSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUucmVua29dID0gUmVua29DaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5saW5lYnJlYWtdID0gUmVua29DaGFydFJlbmRlcmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3RlcihjaGFydFR5cGU6IHN0cmluZywgcmVuZGVyOiB7IG5ldygpOiBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IH0pIHtcbiAgICAgICAgdGhpcy5yZW5kZXJzW2NoYXJ0VHlwZV0gPSByZW5kZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXJ0UmVuZGVyPFQ+KGRhdGFUeXBlOiB7IG5ldyhkOiBEYXRlKTogVCB9LCBjaGFydFR5cGU6IHN0cmluZyk6IGFueSB7XG5cbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgcmVnaXN0ZXJlZCByZW5kZXJzXG4gICAgICAgIGNvbnN0IHJlbmRlciA9IHRoaXMucmVuZGVyc1tjaGFydFR5cGVdO1xuICAgICAgICBpZiAocmVuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IGRhdGFUeXBlKG5ldyBEYXRlKCkpO1xuXG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICAgICAgaWYgKGNoYXJ0VHlwZSA9PT0gQ2hhcnRUeXBlLmxpbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lQ2hhcnRSZW5kZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5idWlsdGluUmVuZGVyc1tjaGFydFR5cGVdO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyByZW5kZXJlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGRhdGEgdHlwZTogJyArIGRhdGFUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBjaGFydCB0eXBlICcgKyBjaGFydFR5cGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBeGVzUmVuZGVyKHVpZDogc3RyaW5nKTogYW55IHtcbiAgICAgICAgc3dpdGNoICh1aWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOiByZXR1cm4gdGhpcy50aW1lQXhpc1JlbmRlcjtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6IHJldHVybiB0aGlzLm51bWJlckF4aXNSZW5kZXI7XG4gICAgICAgICAgICBjYXNlICdwcmljZSc6IHJldHVybiB0aGlzLnByaWNlQXhpc1JlbmRlcjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGF4ZXMgcmVuZGVyIHVpZDogJyArIHVpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UG9wdXBSZW5kZXI8VD4oZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBUIH0pOiBhbnkge1xuICAgICAgICBjb25zdCBvYmogPSBuZXcgZGF0YVR5cGUobmV3IERhdGUoKSk7XG4gICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBQb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZVBvcHVwUmVuZGVyZXI7XG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmRsZVBvcHVwUmVuZGVyZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZGF0YSB0eXBlOiAnICsgZGF0YVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldE1hcmtSZW5kZXIodWlkOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHVpZCkge1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6IHJldHVybiB0aGlzLnRpbWVNYXJrUmVuZGVyO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuIHRoaXMubnVtYmVyTWFya1JlbmRlcjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGF4ZXMgcmVuZGVyIHVpZDogJyArIHVpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3Jvc3NoYWlyUmVuZGVyKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyb3NzaGFpclJlbmRlcmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHcmlkUmVuZGVyKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRSZW5kZXJlcjtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBJQ2FudmFzLCBMaW5lUGF0dGVybiB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSUNoYXJ0UG9pbnQsIElUaW1lQXhpcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSURhdGFJdGVyYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIElVaWRWYWx1ZSB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFJlbmRlclV0aWxzIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgcmVuZGVyTGluZUNoYXJ0KFxuICAgICAgICBjYW52YXM6IElDYW52YXMsXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgIGdldFBvaW50OiAoaXRlbTogQ2FuZGxlc3RpY2spID0+IElDaGFydFBvaW50IHwgdW5kZWZpbmVkLFxuICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+LFxuICAgICAgICBjbG9zZVBhdGg/OiBib29sZWFuXG4gICAgKSB7XG5cbiAgICAgICAgbGV0IGlzRmlyc3RQb2ludCA9IHRydWU7XG4gICAgICAgIGxldCBmaXJzdFBvaW50OiBJUG9pbnQgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBsYXN0UG9pbnQ6IElQb2ludCB8IHVuZGVmaW5lZDtcblxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChkYXRhLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGdldFBvaW50KGRhdGEpO1xuICAgICAgICAgICAgaWYgKHBvaW50ICE9PSB1bmRlZmluZWQgJiYgcG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgcG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChwb2ludC52KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RQb2ludCA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0UG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0UG9pbnQgPSB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjbG9zZVBhdGggJiYgZmlyc3RQb2ludCAmJiBsYXN0UG9pbnQpIHtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8obGFzdFBvaW50LngsIGZyYW1lLmggLSAxKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZmlyc3RQb2ludC54LCBmcmFtZS5oIC0gMSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGZpcnN0UG9pbnQueCwgZmlyc3RQb2ludC55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXRlcmF0ZTxUIGV4dGVuZHMgSVVpZFZhbHVlPih0aW1lYXhpczogSVRpbWVBeGlzLCBpdGVyOiBJRGF0YUl0ZXJhdG9yPFQ+LCBhY3Rpb246IChkYXRhOiBULCB4OiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcblxuICAgICAgICBpZiAoIWl0ZXIuZ29UbyhpdGVtID0+IHRydWUpKSB7XG4gICAgICAgICAgICAvLyBlbmQgcmVuZGVyaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgdGltZWF4aXMucmVzZXQoKTtcbiAgICAgICAgd2hpbGUgKHRpbWVheGlzLm1vdmVOZXh0KCkpIHtcblxuICAgICAgICAgICAgY29uc3QgdGltZVVpZCA9IHRpbWVheGlzLmN1cnJlbnQudWlkO1xuICAgICAgICAgICAgY29uc3QgeCA9IHRpbWVheGlzLmN1cnJlbnQueDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBpdGVyLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudWlkLmNvbXBhcmUodGltZVVpZCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudWlkLmNvbXBhcmUodGltZVVpZCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWl0ZXIubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbmQgcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcblxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uKGl0ZXIuY3VycmVudCwgeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBvdmVybGFwIG9mIHRoZSBsaW5lIG92ZXIgc3BlY2lmaWVkIGxldmVsLlxuICAgICAqIEBwYXJhbSBjYW52YXMgXG4gICAgICogQHBhcmFtIHBvaW50cyBQb2ludHMgb2YgbGluZVxuICAgICAqIEBwYXJhbSBsZXZlbCBZIGNvb3JkaW5hdGUgdG8gY2FsY3VsYXRlIG92ZXJsYXBwaW5nXG4gICAgICogQHBhcmFtIHVwIElmIHRydWUgLSBvdmVybGFwcGluZyBmcm9tIHVwLCBmYWxzZSAtIGZyb20gYm90dG9tLlxuICAgICAqIEBwYXJhbSBmaWxsU3R5bGVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGZpbGxPdmVybGFwKGNhbnZhczogSUNhbnZhcywgcG9pbnRzOiBJUG9pbnRbXSwgbGV2ZWw6IG51bWJlciwgdXA6IGJvb2xlYW4sIGZpbGxTdHlsZTogYW55KSB7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBwb2ludHNbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgcG9pbnRzLmZvckVhY2goKHAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICAgICAgKGluZGV4ID09PSAwKSA/IGNhbnZhcy5tb3ZlVG8ocC54LCBwLnkpIDogY2FudmFzLmxpbmVUbyhwLngsIHAueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGxhc3QueCwgdXAgPyBjYW52YXMuaCA6IDApO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhmaXJzdC54LCB1cCA/IGNhbnZhcy5oIDogMCk7XG4gICAgICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zYXZlKCk7XG4gICAgICAgICAgICBjYW52YXMuY2xpcCgpO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKGZpbGxTdHlsZSk7XG4gICAgICAgICAgICBjYW52YXMuZmlsbFJlY3QoMCwgdXAgPyAwIDogbGV2ZWwsIGNhbnZhcy53LCB1cCA/IGxldmVsIDogKGNhbnZhcy5oIC0gbGV2ZWwpKTtcblxuICAgICAgICAgICAgY2FudmFzLnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgUEFUVEVSTjJTRUcocGF0dGVybjogTGluZVBhdHRlcm4pIHtcbiAgICAgICAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICBjYXNlIExpbmVQYXR0ZXJuLlNvbGlkOiByZXR1cm4gW107XG4gICAgICAgICAgICBjYXNlIExpbmVQYXR0ZXJuLkRhc2hlZDogcmV0dXJuIFs1LCAxMF07XG4gICAgICAgICAgICBjYXNlIExpbmVQYXR0ZXJuLlBvaW50ZWQ6IHJldHVybiBbMiwgOF07XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgbGluZSBwYXR0ZXJuOiAke3BhdHRlcm59YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCLvu78vKipcclxuICogUmVua29DaGFydFJlbmRlcmVyXHJcbiAqIFxyXG4gKiBAY2xhc3NkZXNjIFJlbmRlcnMgc3BlY2lmaWVkIGRhdGEgaW4gYSBmb3JtIG9mIHJlbmtvIGNoYXJ0LlxyXG4gKi9cclxuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgUmVuZGVyVXRpbHMgfSBmcm9tICcuL1JlbmRlclV0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSZW5rb0NoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+ICB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5DYW5kbGVXaWR0aCA9IDM7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heENhbmRsZVdpZHRoID0gMjE7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihcclxuICAgICAgICBjYW52YXM6IElDYW52YXMsXHJcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXHJcbiAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gUmVuZGVyXHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgLy8gYm9yZGVyIGxpbmVzXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzMzMzMzMycpO1xyXG4gICAgICAgIC8vIC4uLiBsZWZ0XHJcbiAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcclxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLngsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XHJcbiAgICAgICAgLy8gLi4uIGJvdHRvbVxyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xyXG4gICAgICAgIC8vIC4uLiByaWdodFxyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55KTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhbmRsZVcgPSB0aGlzLmNhbGN1bGF0ZUJvZHlXaWR0aCh0aW1lQXhpcywgZnJhbWUudyk7XHJcblxyXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGFJdGVyYXRvciwgKGNhbmRsZSwgeCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbmRsZShjYW52YXMsIHRpbWVBeGlzLCB5QXhpcywgY2FuZGxlLCBmcmFtZSwgY2FuZGxlVywgeCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxyXG4gICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXHJcbiAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGxldCBjYW5kbGVIaXQ6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvLyBjb25zdCBjYW5kbGVXID0gdGhpcy5jYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xyXG5cclxuICAgICAgICAvLyAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAvLyAgICAgaWYgKHRoaXMudGVzdEhpdEFyZWFDYW5kbGUoaGl0UG9pbnQsIHRpbWVBeGlzLCB5QXhpcywgZGF0YUl0ZXJhdG9yLmN1cnJlbnQsIGNhbmRsZVcpKSB7XHJcbiAgICAgICAgLy8gLy8gICAgICAgICBjYW5kbGVIaXQgPSBkYXRhSXRlcmF0b3IuY3VycmVudDtcclxuICAgICAgICAvLyAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vIC8vICAgICB9XHJcbiAgICAgICAgLy8gLy8gfVxyXG5cclxuICAgICAgICAvLyBkYXRhLmZvckVhY2goKHZhbHVlOiBDYW5kbGVzdGljaywgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAodGhpcy50ZXN0SGl0QXJlYUNhbmRsZShoaXRQb2ludCwgdGltZUF4aXMsIHlBeGlzLCB2YWx1ZSwgaW5kZXgsIGNhbmRsZVcpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbmRsZUhpdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRlc3RIaXRBcmVhQ2FuZGxlKFxyXG4gICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPixcclxuICAgICAgICBjYW5kbGU6IENhbmRsZXN0aWNrLFxyXG4gICAgICAgIGNhbmRsZVc6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogVXNlIHByZXBhaXJlZCBYXHJcbiAgICAgICAgbGV0IHggPSB0aW1lQXhpcy50b1goY2FuZGxlLnVpZCk7XHJcbiAgICAgICAgLy8gbGV0IHggPSB0aW1lQXhpcy50b1goaW5kZXgpO1xyXG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xyXG4gICAgICAgICAgICByZXR1cm4gKGhpdFBvaW50LnggPj0gYm9keS54ICYmIGhpdFBvaW50LnggPD0gKGJvZHkueCArIGJvZHkudylcclxuICAgICAgICAgICAgICAgICAgICAmJiBoaXRQb2ludC55ID49IGJvZHkueSAmJiBoaXRQb2ludC55IDw9IChib2R5LnkgKyBib2R5LmgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgcmVuZGVyQ2FuZGxlKFxyXG4gICAgLy8gICAgIGNhbnZhczogSUNhbnZhcywgdGltZUF4aXM6IElUaW1lQXhpcywgeUF4aXM6IElBeGlzPG51bWJlcj4sIGNhbmRsZTogQ2FuZGxlc3RpY2ssIGZyYW1lOiBJUmVjdCwgY2FuZGxlVzogbnVtYmVyKTogdm9pZCB7XHJcblxyXG4gICAgLy8gICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vIC8vIFN0YXJ0aW4gZHJhd2luZ1xyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgIC8vICAgICAvLyBjYW52YXMubGluZVdpZHRoID0gMTtcclxuICAgIC8vICAgICAvLyBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcclxuXHJcbiAgICAvLyAgICAgLy8gLy9sZXQgeCA9IHRpbWVBeGlzLnRvWChjYW5kbGUuZGF0ZSk7XHJcbiAgICAvLyAgICAgLy8gbGV0IHggPSB0aW1lQXhpcy50b1goaW5kZXgpO1xyXG4gICAgLy8gICAgIC8vIHggPSBNYXRoLnJvdW5kKHgpO1xyXG5cclxuICAgIC8vICAgICAvLyBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xyXG4gICAgLy8gICAgIC8vIGNvbnN0IGggPSB5QXhpcy50b1goY2FuZGxlLmgpO1xyXG4gICAgLy8gICAgIC8vIGNvbnN0IGwgPSB5QXhpcy50b1goY2FuZGxlLmwpO1xyXG5cclxuICAgIC8vICAgICAvLyBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgLy8gICAgIC8vIC8vIERyYXdpbmcgYm9keVxyXG4gICAgLy8gICAgIC8vIGlmIChjYW5kbGUuYyA+IGNhbmRsZS5vKSB7XHJcbiAgICAvLyAgICAgLy8gICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNmZmZmZmYnKTtcclxuICAgIC8vICAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICAgIC8vICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjMDAwMDAwJyk7XHJcbiAgICAvLyAgICAgLy8gfVxyXG5cclxuICAgIC8vICAgICAvLyBjYW52YXMuZmlsbFJlY3QoYm9keS54LCBib2R5LnksIGJvZHkudywgYm9keS5oKTtcclxuICAgIC8vICAgICAvLyBjYW52YXMuc3Ryb2tlUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyQ2FuZGxlKFxyXG4gICAgICAgIGNhbnZhczogSUNhbnZhcywgdGltZUF4aXM6IElUaW1lQXhpcywgeUF4aXM6IElBeGlzPG51bWJlcj4sIGNhbmRsZTogQ2FuZGxlc3RpY2ssIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICBjYW5kbGVXOiBudW1iZXIsIHg6IG51bWJlcik6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdGFydGluIGRyYXdpbmdcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMTkxOTE5Jyk7XHJcblxyXG4gICAgICAgIC8vIFdlIGFyZSBub3QgY2FsY3VsYXRpbmcgeCwgYXMgY3VycmVudFggaXMgZmFzdGVyXHJcbiAgICAgICAgLy8gbGV0IHggPSB0aW1lQXhpcy50b1goY2FuZGxlLnVpZCk7XHJcbiAgICAgICAgLy8gaWYgKHggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuXHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcclxuICAgICAgICBjb25zdCBoID0geUF4aXMudG9YKGNhbmRsZS5oKTtcclxuICAgICAgICBjb25zdCBsID0geUF4aXMudG9YKGNhbmRsZS5sKTtcclxuXHJcbiAgICAgICAgLy8gRHJhd2luZyB1cHBlciBzaGFkb3dcclxuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBib2R5LnksIHgsIGggKTtcclxuXHJcbiAgICAgICAgLy8gRHJhd2luZyBsb3dlciBzaGFkb3dcclxuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBsLCB4LCBib2R5LnkgKyBib2R5LmgpO1xyXG5cclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIERyYXdpbmcgYm9keVxyXG4gICAgICAgIGlmIChjYW5kbGUuYyA+IGNhbmRsZS5vKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNGN0Y3RjcnKTsgLy8jMDA4OTEwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnIzE5MTkxOScpOyAvLyNEODAzMDAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhbnZhcy5maWxsUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2VSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XHJcblxyXG4gICAgICAgIC8vIC8vIERyYXcgdWlkXHJcbiAgICAgICAgLy8gY2FudmFzLnNldEZpbGxTdHlsZSgnIzExMTExMScpO1xyXG4gICAgICAgIC8vIGNvbnN0IG1hcmtUZXh0ID0gY2FuZGxlLnVpZDtcclxuICAgICAgICAvLyBjb25zdCB3ID0gY2FudmFzLm1lYXN1cmVUZXh0KG1hcmtUZXh0KS53aWR0aDtcclxuICAgICAgICAvLyBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5Ub3ApO1xyXG4gICAgICAgIC8vIGNhbnZhcy5maWxsVGV4dChtYXJrVGV4dCwgeCAtIHcgLyAyLCBib2R5LnkpO1xyXG4gICAgICAgIC8vIGNhbnZhcy5maWxsVGV4dChtYXJrVGV4dCwgeCAtIHcgLyAyLCBib2R5LnkgKyBib2R5LmgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlQm9keSh4OiBudW1iZXIsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBvOiBudW1iZXIsIGM6IG51bWJlciwgY2FuZGxlVzogbnVtYmVyKTogSVJlY3Qge1xyXG4gICAgICAgIGNvbnN0IG9jTWluID0geUF4aXMudG9YKE1hdGgubWF4KG8sIGMpKTsgLy8gSW52ZXJ0ZWQgWVxyXG4gICAgICAgIGNvbnN0IG9jTWF4ID0geUF4aXMudG9YKE1hdGgubWluKG8sIGMpKTtcclxuICAgICAgICByZXR1cm4geyB4OiB4IC0gTWF0aC5mbG9vcihjYW5kbGVXIC8gMiksIHk6IG9jTWluLCB3OiBjYW5kbGVXLCBoOiBvY01heCAtIG9jTWluIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXM6IElUaW1lQXhpcywgZnJhbWVXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHRpbWVBeGlzLmNvdW50ID4gMCkgPyBmcmFtZVdpZHRoIC8gdGltZUF4aXMuY291bnQgOiAwO1xyXG5cclxuICAgICAgICAvLyAvLyBjb25zdCByYW5nZSA9IHRpbWVBeGlzLnJhbmdlLmVuZC5nZXRUaW1lKCkgLSB0aW1lQXhpcy5yYW5nZS5zdGFydC5nZXRUaW1lKCk7XHJcbiAgICAgICAgLy8gLy8gaWYgKHJhbmdlID09PSAwIHx8IHRpbWVBeGlzLmludGVydmFsID09PSAwKSB7XHJcbiAgICAgICAgLy8gLy8gICAgIHJldHVybiB0aGlzLm1pbkNhbmRsZVdpZHRoO1xyXG4gICAgICAgIC8vIC8vIH1cclxuICAgICAgICAvLyAvLyBjb25zdCBjYW5kbGVzQ291bnQgPSByYW5nZSAvIHRpbWVBeGlzLmludGVydmFsO1xyXG4gICAgICAgIC8vIGNvbnN0IGNhbmRsZXNDb3VudCA9IHRpbWVBeGlzLmNvdW50OyAvLyAgcmFuZ2UgLyB0aW1lQXhpcy5pbnRlcnZhbDtcclxuICAgICAgICAvLyBsZXQgdyA9IE1hdGguZmxvb3IoZnJhbWVXaWR0aCAvIGNhbmRsZXNDb3VudCk7XHJcbiAgICAgICAgLy8gLy8gbWFrZSB3aWR0aCBvZGQgKDEsIDMsIDUsIC4uLilcclxuICAgICAgICAvLyB3ID0gdyAtICgodyArIDEpICUgMik7XHJcbiAgICAgICAgLy8gLy8gYmV0d2VlbiBtaW5DYW5kbGVXaWR0aCBhbmQgbWF4Q2FuZGxlV2lkdGhcclxuICAgICAgICAvLyByZXR1cm4gTWF0aC5taW4odGhpcy5tYXhDYW5kbGVXaWR0aCwgTWF0aC5tYXgodGhpcy5taW5DYW5kbGVXaWR0aCwgdykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGluZShjYW52YXM6IElDYW52YXMsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjYW52YXMubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxuICogQXhpc1JlbmRlcmVyXG4gKiBcbiAqIEBjbGFzc2Rlc2MgQ29udGFpbnMgbWV0aG9kcyBmb3IgcmVuZGVyaW5nIGF4ZXMuXG4gKi9cbmltcG9ydCB7IFRpbWVBdXRvR3JpZCB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IElBeGVzUmVuZGVyLCBJVGltZUF4aXNSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgVGltZUF4aXNSZW5kZXJlciBpbXBsZW1lbnRzIElUaW1lQXhpc1JlbmRlciB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vbnRoTmFtZXMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgYXhpczogSVRpbWVBeGlzLCBmcmFtZTogSVJlY3QpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBncmlkID0gYXhpcy5nZXRHcmlkKCk7XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSBheGlzLnJhbmdlO1xuICAgICAgICBjb25zdCBzY2FsZSA9IFRpbWVBdXRvR3JpZC5zZWxlY3RTY2FsZShmcmFtZS53LCBheGlzLmludGVydmFsLCByYW5nZSk7XG5cbiAgICAgICAgY2FudmFzLmZvbnQgPSAnMTFweCBBcmlhbCc7XG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnYmxhY2snKTtcbiAgICAgICAgY2FudmFzLnNldFRleHRCYXNlTGluZShDYW52YXNUZXh0QmFzZUxpbmUuVG9wKTtcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGdyaWQucmVzZXQoKTtcbiAgICAgICAgd2hpbGUgKGdyaWQubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3QmFyKGNhbnZhcywgZ3JpZC5jdXJyZW50LnVpZC50LCBncmlkLmN1cnJlbnQueCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdCYXIoY2FudmFzOiBJQ2FudmFzLCBkYXRlOiBEYXRlLCB4OiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oeCwgMCk7XG4gICAgICAgIGNhbnZhcy5saW5lVG8oeCwgMyk7XG5cbiAgICAgICAgLy8gZHJhdyB0aW1lIG1hcmtcbiAgICAgICAgY29uc3QgbWFya1RleHQgPSB0aGlzLmZvcm1hdERhdGUoZGF0ZSk7XG4gICAgICAgIGNvbnN0IHcgPSBjYW52YXMubWVhc3VyZVRleHQobWFya1RleHQpLndpZHRoO1xuXG4gICAgICAgIGNhbnZhcy5maWxsVGV4dChtYXJrVGV4dCwgeCAtIHcgLyAyLCA1KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgICAgIC8vIElmIGhvdXJzIGFyZSBub3QgMCBvciBtaW51dGVzIGFyZSBub3QgMCB0aGVuIHJlbmRlciBoaDptbVxuICAgICAgICAvLyBlbHNlIGlmIDEgSmFuIHRoZW4gcmVuZGVyIFllYXJcbiAgICAgICAgLy8gZWxzZSBpZiAxIGRheSB0aGVuIHJlbmRlciBNb250aFxuICAgICAgICAvLyBlbHNlIHJlbmRlciBkYXlcbiAgICAgICAgaWYgKGRhdGUuZ2V0VVRDSG91cnMoKSAhPT0gMCB8fCBkYXRlLmdldFVUQ01pbnV0ZXMoKSAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgaGggPSBkYXRlLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgICAgICBjb25zdCBtbSA9IGRhdGUuZ2V0VVRDTWludXRlcygpO1xuICAgICAgICAgICAgcmV0dXJuICgnMCcgKyBoaC50b0ZpeGVkKDApKS5zbGljZSgtMikgKyAnOicgKyAoJzAnICsgbW0udG9GaXhlZCgwKSkuc2xpY2UoLTIpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGUuZ2V0VVRDRGF0ZSgpID09PSAxICYmIGRhdGUuZ2V0VVRDTW9udGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGAkeyBkYXRlLmdldFVUQ0Z1bGxZZWFyKCkgfWA7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0ZS5nZXRVVENEYXRlKCkgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHsgdGhpcy5tb250aE5hbWVzW2RhdGUuZ2V0VVRDTW9udGgoKV0gfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7IGRhdGUuZ2V0VVRDRGF0ZSgpIH1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaW1lTWFya1JlbmRlcmVyIGNsYXNzLlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJTWFya1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lTWFya1JlbmRlcmVyIGltcGxlbWVudHMgSU1hcmtSZW5kZXI8RGF0ZT4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFkZGluZ0xlZnQgPSAzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFkZGluZ1RvcCAgPSA1O1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsIGRhdGE6IERhdGUsIHBvaW50OiBJUG9pbnQsIGZyYW1lU2l6ZTogSVNpemUpOiB2b2lkIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhoID0gZGF0YS5nZXRVVENIb3VycygpO1xuICAgICAgICAgICAgY29uc3QgbW0gPSBkYXRhLmdldFVUQ01pbnV0ZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGhobW0gPSAoJzAnICsgaGgudG9GaXhlZCgwKSkuc2xpY2UoLTIpICsgJzonICsgKCcwJyArIG1tLnRvRml4ZWQoMCkpLnNsaWNlKC0yKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBgJHtkYXRhLmdldFVUQ0Z1bGxZZWFyKCl9LSR7ZGF0YS5nZXRVVENNb250aCgpICsgMX0tJHtkYXRhLmdldFVUQ0RhdGUoKX0gJHtoaG1tfWA7XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGNhbnZhcy5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnIzNGM0YzRic7XG4gICAgICAgICAgICBjYW52YXMuZmlsbFJlY3QocG9pbnQueCAtIHRleHRXaWR0aCAvIDIgLSB0aGlzLnBhZGRpbmdMZWZ0LCBwb2ludC55LCB0ZXh0V2lkdGggKyB0aGlzLnBhZGRpbmdMZWZ0ICogMiwgMTgpO1xuXG4gICAgICAgICAgICBjYW52YXMuZm9udCA9ICcxMXB4IEFyaWFsJztcbiAgICAgICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnI0VBRUFFQSc7XG4gICAgICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5Ub3ApO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxUZXh0KHRleHQsIHBvaW50LnggLSB0ZXh0V2lkdGggLyAyLCBwb2ludC55ICsgdGhpcy5wYWRkaW5nVG9wKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IENhbmRsZXN0aWNrQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IENoYXJ0UmVuZGVyZXIgfSBmcm9tICcuL0NoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgSUF4ZXNSZW5kZXIsIElDaGFydFJlbmRlciwgSU1hcmtSZW5kZXIsIElQb3B1cFJlbmRlciwgSVJlbmRlckxvY2F0b3IsIElUaW1lQXhpc1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBMaW5lQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vTGluZUNoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgTGluZXN0aWNrQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vTGluZXN0aWNrQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBQcmljZUF4aXNSZW5kZXJlciB9IGZyb20gJy4vUHJpY2VBeGlzUmVuZGVyZXInO1xuaW1wb3J0IHsgUmVuZGVyTG9jYXRvciB9IGZyb20gJy4vUmVuZGVyTG9jYXRvcic7XG5pbXBvcnQgeyBSZW5kZXJVdGlscyB9IGZyb20gJy4vUmVuZGVyVXRpbHMnO1xuaW1wb3J0IHsgVGltZUF4aXNSZW5kZXJlciB9IGZyb20gJy4vVGltZUF4aXNSZW5kZXJlcic7XG5cbmV4cG9ydCB7XG4gICAgQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyLFxuICAgIENoYXJ0UmVuZGVyZXIsXG4gICAgSUF4ZXNSZW5kZXIsXG4gICAgSUNoYXJ0UmVuZGVyLFxuICAgIElNYXJrUmVuZGVyLFxuICAgIElQb3B1cFJlbmRlcixcbiAgICBJUmVuZGVyTG9jYXRvcixcbiAgICBJVGltZUF4aXNSZW5kZXIsXG4gICAgTGluZUNoYXJ0UmVuZGVyZXIsXG4gICAgTGluZXN0aWNrQ2hhcnRSZW5kZXJlcixcbiAgICBQcmljZUF4aXNSZW5kZXJlcixcbiAgICBSZW5kZXJMb2NhdG9yLFxuICAgIFJlbmRlclV0aWxzLFxuICAgIFRpbWVBeGlzUmVuZGVyZXJcbiB9O1xuIiwiLyoqXG4gKiBUeXBlZCBldmVudHMgZm9yIFR5cGVTY3JpcHQuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnRIYW5kbGVyPFQ+IHtcbiAgICAoYXJnPzogVCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50PFQ+IHtcbiAgICBvbihoYW5kbGVyOiBJRXZlbnRIYW5kbGVyPFQ+KTogdm9pZDtcbiAgICBvZmYoaGFuZGxlcjogSUV2ZW50SGFuZGxlcjxUPik6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudDxUPiBpbXBsZW1lbnRzIElFdmVudDxUPiB7XG4gICAgcHJpdmF0ZSBoYW5kbGVyczogSUV2ZW50SGFuZGxlcjxUPltdID0gW107XG5cbiAgICBwdWJsaWMgb24oaGFuZGxlcjogSUV2ZW50SGFuZGxlcjxUPikge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHVibGljIG9mZihoYW5kbGVyOiBJRXZlbnRIYW5kbGVyPFQ+KSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihoID0+IGggIT09IGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0cmlnZ2VyKGRhdGE/OiBUKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnNcbiAgICAgICAgICAgIC5zbGljZSgwKVxuICAgICAgICAgICAgLmZvckVhY2goaCA9PiBoKGRhdGEpKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhyb3R0bGVzIGV2ZW50LlxuICogQHBhcmFtIGNhbGxiYWNrIEV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSBsaW1pdCBMaW1pdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGNhbGxiYWNrOiAoZTogYW55KSA9PiB2b2lkLCBsaW1pdDogbnVtYmVyKSB7XG4gICAgbGV0IHdhaXQgPSBmYWxzZTtcbiAgICByZXR1cm4gKGU6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIXdhaXQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgICAgICAgd2FpdCA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgd2FpdCA9IGZhbHNlOyB9LCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwiLyoqXHJcbiAqIEZpeGVkU2l6ZUFycmF5IGNsYXNzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZpeGVkU2l6ZUFycmF5PFQ+IHtcclxuICAgIHByaXZhdGUgc2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfbGVuZ3RoOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBjb250YWluZXI6IFRbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb21wYXJlcjogKGxoczogVCwgcmhzOiBUKSA9PiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgaW5zdGFuY2Ugb2YgYXJyYXlcclxuICAgICAqIEBwYXJhbSBzaXplIE1heGltdW0gYW1vdW50IG9mIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzaXplOiBudW1iZXIsIGNvbXBhcmVyOiAobGhzOiBULCByaHM6IFQpID0+IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5jb21wYXJlciA9IGNvbXBhcmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudCBhbW91bnQgb2YgaXRlbXMgaW4gdGhlIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5kZXhlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SXRlbShpbmRleDogbnVtYmVyKTogVCB7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLl9sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCBpcyBvdXQgb2YgcmFuZ2UuIGluZGV4PSR7aW5kZXh9LCBsZW5ndGg9JHt0aGlzLl9sZW5ndGh9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcltpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxhc3QoKTogVCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyW3RoaXMuX2xlbmd0aCAtIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJyYXkgaXMgZW1wdHkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsYXN0T3JEZWZhdWx0KCk6IFR8dW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodGhpcy5fbGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJbdGhpcy5fbGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHNwZWNpZmllZCBlbGVtZW50IHRvIHRoZSBlbmQgb2YgYXJyYXkuXHJcbiAgICAgKiBJZiBhbW91bnQgb2YgZWxlbWVudHMgZXhjZWVkcyBhbGxvd2VkIGFtb3VudCwgZmlyc3QgZWxlbWVudCBpcyByZW1vdmVkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcHVzaChlbGVtZW50OiBUKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA8IHRoaXMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclt0aGlzLl9sZW5ndGhdID0gZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoICs9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2hpZnQgbGVmdFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuX2xlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lcltpIC0gMV0gPSB0aGlzLmNvbnRhaW5lcltpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclt0aGlzLl9sZW5ndGggLSAxXSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwdXNoUmFuZ2UoZWxlbWVudHM6IFRbXSkge1xyXG4gICAgICAgIGlmICghZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBpcyBudWxsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgbWF4aW11bSB2YWx1ZS5cclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvciBcclxuICAgICAqIEBwYXJhbSB0YWtlIElmIHNwZWNpZmllZCwgY2hlY2tzIG9ubHkgbGFzdCBAdGFrZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWF4KGFjY2Vzc29yOiAoaXRlbTogVCkgPT4gbnVtYmVyfHVuZGVmaW5lZCwgdGFrZT86IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IG1heDogbnVtYmVyfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCBMID0gdGhpcy5jb250YWluZXIubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFrZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4IDwgKEwgLSB0YWtlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBpZ25vcmUgZWxlbWVudCBpZiB0YWtlIGlzIHNwZWNpZmllZCBhbmQgaXQgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihlbCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heCh2YWx1ZSwgbWF4ICE9PSB1bmRlZmluZWQgPyBtYXggOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgbWluaW11bSB2YWx1ZS5cclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvciBcclxuICAgICAqIEBwYXJhbSB0YWtlIElmIHNwZWNpZmllZCwgY2hlY2tzIG9ubHkgbGFzdCBAdGFrZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWluKGFjY2Vzc29yOiAoaXRlbTogVCkgPT4gbnVtYmVyfHVuZGVmaW5lZCwgdGFrZT86IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IG1pbjogbnVtYmVyfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCBMID0gdGhpcy5jb250YWluZXIubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFrZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4IDwgKEwgLSB0YWtlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBpZ25vcmUgZWxlbWVudCBpZiB0YWtlIGlzIHNwZWNpZmllZCBhbmQgaXQgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihlbCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLm1pbih2YWx1ZSwgbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1pbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaW5kZXggb2YgbWF4IGVsZW1lbnQgb3IgLTFcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWF4SW5kZXgoYWNjZXNzb3I6IChpdGVtOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbWF4OiBudW1iZXJ8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBtYXhJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGVsKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG1heCA9PT0gdW5kZWZpbmVkIHx8IChtYXggIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+IG1heCkpKSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIG1heEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF4SW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluZGV4IG9mIG1pbiBlbGVtZW50IG9yIC0xXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzb3JcclxuICAgICAqL1xyXG4gICAgcHVibGljIG1pbkluZGV4KGFjY2Vzc29yOiAoaXRlbTogVCkgPT4gbnVtYmVyfHVuZGVmaW5lZCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IG1pbjogbnVtYmVyfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgbWluSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihlbCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChtaW4gPT09IHVuZGVmaW5lZCB8fCAobWluICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgPCBtaW4pKSkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBtaW5JbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1pbkluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBzdW0gb2YgaXRlbXNcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvciBcclxuICAgICAqIEBwYXJhbSB0YWtlIElmIHNwZWNpZmllZCwgY2hlY2tzIG9ubHkgbGFzdCBAdGFrZSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3VtKGFjY2Vzc29yOiAoaXRlbTogVCkgPT4gbnVtYmVyfHVuZGVmaW5lZCwgdGFrZT86IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgY29uc3QgTCA9IHRoaXMuY29udGFpbmVyLmxlbmd0aDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRha2UgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA8IChMIC0gdGFrZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaWdub3JlIGVsZW1lbnQgaWYgdGFrZSBpcyBzcGVjaWZpZWQgYW5kIGl0IGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3IoZWwpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3VtICs9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHN1bTtcclxuICAgIH1cclxufVxyXG4iLCLvu78vKipcbiAqIENvbW1vbmx5IHVzZWQgaW50ZXJmYWNlcywgdGhhdCBjYW4gYmUgdXNlZCBpbiBvdGhlciBwcm9qZWN0cy5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIElSYW5nZTxUPiB7XG4gICAgcmVhZG9ubHkgc3RhcnQ6IFQ7XG4gICAgcmVhZG9ubHkgZW5kOiBUO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQb2ludCB7XG4gICAgcmVhZG9ubHkgeDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xuICAgIHB1YmxpYyB5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4PzogbnVtYmVyLCB5PzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMueCA9IHggPyB4IDogMDtcbiAgICAgICAgdGhpcy55ID0geSA/IHkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbmV3IHBvaW50IHdoaWNoIGlzIGEgc3VtIG9mIHRoaXMgYW5kIG90aGVyIHBvaW50LiBPcmlnaW5hbCBwb2ludCBpcyBub3QgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIHB1YmxpYyBhZGQocDogSVBvaW50KTogUG9pbnQge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCArIHAueCwgdGhpcy55ICsgcC55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG5ldyBwb2ludCB3aGljaCBpcyBkaWZmZXJlbmNlIGIvdyB0aGlzIGFuZCBvdGhlciBwb2ludC4gT3JpZ2luYWwgcG9pbnQgaXMgbm90IGNoYW5nZWQuXG4gICAgICogQHBhcmFtIHBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3ViKHA6IElQb2ludCk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBwLngsIHRoaXMueSAtIHAueSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGlhbFBvaW50IHtcbiAgICBwdWJsaWMgeD86IG51bWJlcjtcbiAgICBwdWJsaWMgeT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2l6ZSB7XG4gICAgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFNpemUge1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3Iodz86IG51bWJlciwgaD86IG51bWJlcikge1xuICAgICAgICB0aGlzLndpZHRoID0gdyA/IHcgOiAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGggPyBoIDogMDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlY3Qge1xuICAgIHJlYWRvbmx5IHg6IG51bWJlcjtcbiAgICByZWFkb25seSB5OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdzogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSGFzaFRhYmxlPFQ+IHtcbiAgICBba2V5OiBzdHJpbmddOiBUO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElEaXNwb3NhYmxlIHtcbiAgICBkaXNwb3NlKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBJZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGlkOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJdGVyYXRvcjxUPiB7XG4gICAgcmVzZXQoKTogdm9pZDtcbiAgICBtb3ZlTmV4dCgpOiBib29sZWFuO1xuICAgIGN1cnJlbnQ6IFQ7XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBFdmVudCwgSUV2ZW50LCBJRXZlbnRIYW5kbGVyLCB0aHJvdHRsZSB9IGZyb20gJy4vRXZlbnQnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuL0ZpeGVkU2l6ZUFycmF5JztcbmltcG9ydCB7IElEaXNwb3NhYmxlLCBJZFZhbHVlLCBJSGFzaFRhYmxlLCBJUG9pbnQsIElSYW5nZSwgSVJlY3QsIElTaXplLCBJdGVyYXRvciwgUGFydGlhbFBvaW50LCBQb2ludCwgU2l6ZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCB7XG4gICAgRXZlbnQsXG4gICAgRml4ZWRTaXplQXJyYXksXG4gICAgSURpc3Bvc2FibGUsXG4gICAgSWRWYWx1ZSxcbiAgICBJRXZlbnQsXG4gICAgSUV2ZW50SGFuZGxlcixcbiAgICBJSGFzaFRhYmxlLFxuICAgIElQb2ludCxcbiAgICBJUmFuZ2UsXG4gICAgSVJlY3QsXG4gICAgSVNpemUsXG4gICAgSXRlcmF0b3IsXG4gICAgUGFydGlhbFBvaW50LFxuICAgIFBvaW50LFxuICAgIFNpemUsXG4gICAgdGhyb3R0bGVcbn07XG4iLCIvKipcbiAqIEFycmF5VXRpbHMgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDb21wYXJlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbi8qKlxuICogVXRpbGl0eSBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggYXJyYXlzLlxuICovXG5leHBvcnQgY2xhc3MgQXJyYXlVdGlscyB7XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHVwZGF0ZSBhcnJheSBpbnRvIHRhcmdldCBhcnJheSB1c2luZyBzcGVjaWZpZWQgY29tcGFyYXJlci5cbiAgICAgKiBFcXVhbCBlbGVtZW50cyBmcm9tIHVwZGF0ZSBvdmVycmlkZSBlbGVtZW50cyBmcm9tIHRhcmdldC5cbiAgICAgKiBNZXRob2QgZXhwZWN0cyB0YXJnZXQgYW5kIHVwZGF0ZSBhcnJheXMgdG8gYmUgaW4gc29ydGVkIG9yZGVyLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIE5ldyBhcnJheSBjb250YWluaW5nIGVsZW1lbnRzIGZyb20gdGFyZ2V0IGFuZCB1cGRhdGUgYXJyYXlzLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgbWVyZ2U8VD4odGFyZ2V0OiBUW10sIHVwZGF0ZTogVFtdLCBjb21wYXJlcjogSUNvbXBhcmVyPFQ+LCB1cGRhdGVGdW5jdGlvbj86ICh0YXJnZXQ6IFQsIHVwZGF0ZTogVCkgPT4gVCkgOiBUW10ge1xuXG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBBcnJheTxUPih0YXJnZXQubGVuZ3RoICsgdXBkYXRlLmxlbmd0aCk7IC8vIHByZWFsbG9jYXRlIG1lbW9yeVxuXG4gICAgICAgIGxldCBpYSA9IDA7XG4gICAgICAgIGxldCBpYiA9IDA7XG4gICAgICAgIGxldCBhY3R1YWxTaXplOiBudW1iZXIgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpYSA8IHRhcmdldC5sZW5ndGggfHwgaWIgPCB1cGRhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaWEgPCB0YXJnZXQubGVuZ3RoICYmIGliIDwgdXBkYXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBhcmUgZGF0ZXNcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZXIodGFyZ2V0W2lhXSwgdXBkYXRlW2liXSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZFthY3R1YWxTaXplXSA9IHRhcmdldFtpYV07XG4gICAgICAgICAgICAgICAgICAgIGlhICs9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wYXJlcih0YXJnZXRbaWFdLCB1cGRhdGVbaWJdKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2FjdHVhbFNpemVdID0gdXBkYXRlW2liXTtcbiAgICAgICAgICAgICAgICAgICAgaWIgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUYWtlIG5ld2VzdCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZFthY3R1YWxTaXplXSA9IHVwZGF0ZUZ1bmN0aW9uKHRhcmdldFtpYV0sIHVwZGF0ZVtpYl0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2FjdHVhbFNpemVdID0gdXBkYXRlW2liXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpYSArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpYiArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWEgPCB0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBBIGxlZnRcbiAgICAgICAgICAgICAgICBtZXJnZWRbYWN0dWFsU2l6ZV0gPSB0YXJnZXRbaWFdO1xuICAgICAgICAgICAgICAgIGlhICs9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGliIDwgdXBkYXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgQiBsZWZ0XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2FjdHVhbFNpemVdID0gdXBkYXRlW2liXTtcbiAgICAgICAgICAgICAgICBpYiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0dWFsU2l6ZSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlZC5sZW5ndGggPSBhY3R1YWxTaXplO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVXRpbGl0eSBvcGVyYXRpb25zIGZvciBkYXRlcy5cbiAqL1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBUaW1lU3BhbiB9IGZyb20gJy4vVGltZVNwYW4nO1xuXG5leHBvcnQgY2xhc3MgRGF0ZVV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIHV0Y05vdygpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRVdGNEYXRlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5PzogbnVtYmVyLCBob3VyPzogbnVtYmVyLCBtaW51dGU/OiBudW1iZXIsIHNlY29uZD86IG51bWJlciwgbXM/OiBudW1iZXIpIDogRGF0ZSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5IHx8IDEsIGhvdXIgfHwgMCwgbWludXRlIHx8IDAsIHNlY29uZCB8fCAwLCBtcyB8fCAwKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmb3JtYXQxNChkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICgnMDAwMDAwMDAwMDAwMDAnICsgZGF0ZS5nZXRUaW1lKCkpLnNsaWNlKC0xNCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBmb3JtYXREYXRlSVNPKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICBjb25zdCBtb250aCA9ICgnMDAnICsgKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpKS5zbGljZSgtMik7XG4gICAgICAgIGNvbnN0IGRheSA9ICgnMDAnICsgZGF0ZS5nZXRVVENEYXRlKCkpLnNsaWNlKC0yKTtcbiAgICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZUlTT0RhdGUodGV4dDogc3RyaW5nKTogRGF0ZSB7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFwidGV4dFwiIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb3VudCBvZiBpbnRlcnZhbHMgYi93IHR3byBkYXRlcy4gQm90aCBkYXRlcyBzaG91bGQgYmUgVVRDLlxuICAgICAqIEBwYXJhbSBkYXRlMSBcbiAgICAgKiBAcGFyYW0gZGF0ZTIgXG4gICAgICogQHBhcmFtIGludGVydmFsIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGlmZkludGVydmFscyhkYXRlMTogRGF0ZSwgZGF0ZTI6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoZGF0ZTEuZ2V0VGltZSgpIC0gZGF0ZTIuZ2V0VGltZSgpKTtcblxuICAgICAgICBzd2l0Y2ggKGludGVydmFsKSB7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5zZWM6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAxMDAwKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjApKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjU6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluMTU6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogMTUpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjMwOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDMwKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNDogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDQpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogNikpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjEyOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMTIpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkzOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAzKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC53ZWVrOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiA3KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0ICogMTApKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1vbnRoOlxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVNaW4gPSBkYXRlMSA8IGRhdGUyID8gZGF0ZTEgOiBkYXRlMjtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlTWF4ID0gZGF0ZTEgPCBkYXRlMiA/IGRhdGUyIDogZGF0ZTE7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9udGhzID0gZGF0ZU1heC5nZXRNb250aCgpIC0gZGF0ZU1pbi5nZXRNb250aCgpXG4gICAgICAgICAgICAgICAgICAgICsgKDEyICogKGRhdGVNYXguZ2V0RnVsbFllYXIoKSAtIGRhdGVNaW4uZ2V0RnVsbFllYXIoKSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBhZGRpbmcgZGlmZiB3aWxsIG5vdCBleGNlZWQgZ3JlYXRlciBkYXRlXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoZGF0ZU1pbiwgaW50ZXJ2YWwsIG1vbnRocyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjb21wdXRlZCA8PSBkYXRlTWF4KSA/IG1vbnRocyA6IE1hdGgubWF4KG1vbnRocyAtIDEsIDApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJ2YWwgJHsgaW50ZXJ2YWwgfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbnRlcnZhbChkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsLCB0aW1lczogbnVtYmVyID0gMSk6IERhdGUge1xuICAgICAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICBzd2l0Y2ggKGludGVydmFsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiB2YW5pbGxhIEpTIGNhbiBpbmNvcnJlY3RseSBoYW5kbGUgXCJzZXQqXCIgZnVuY3Rpb25zLiBDaGVjayB3aXRoIFwiZGF5bGlnaHQgc2F2aW5nIHRpbWVcIi5cbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogbmV3RGF0ZS5zZXRTZWNvbmRzKGRhdGUuZ2V0U2Vjb25kcygpICsgdGltZXMgKiAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW46IG5ld0RhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIHRpbWVzICogMSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluNTogbmV3RGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgdGltZXMgKiA1KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4xNTogbmV3RGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgdGltZXMgKiAxNSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluMzA6IG5ld0RhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIHRpbWVzICogMzApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI6IG5ld0RhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpICsgdGltZXMgKiAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNDogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyB0aW1lcyAqIDQpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSArIHRpbWVzICogNik7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjEyOiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSArIHRpbWVzICogMTIpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgdGltZXMgKiAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkzOiBuZXdEYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyB0aW1lcyAqIDMpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLndlZWs6IG5ld0RhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHRpbWVzICogNyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MTA6IG5ld0RhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHRpbWVzICogMTApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1vbnRoOiBuZXdEYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIHRpbWVzICogMSk7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJ2YWwgJHsgaW50ZXJ2YWwgfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc3Vic3RyYWN0SW50ZXJ2YWwoZGF0ZTogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IERhdGUge1xuICAgICAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICBzd2l0Y2ggKGludGVydmFsKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiB2YW5pbGxhIEpTIGNhbiBpbmNvcnJlY3RseSBoYW5kbGUgXCJzZXQqXCIgZnVuY3Rpb25zLiBDaGVjayB3aXRoIFwiZGF5bGlnaHQgc2F2aW5nIHRpbWVcIi5cbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogbmV3RGF0ZS5zZXRTZWNvbmRzKGRhdGUuZ2V0U2Vjb25kcygpIC0gMSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluOiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgLSAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW41OiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgLSA1KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4xNTogbmV3RGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpIC0gMTUpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjMwOiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgLSAzMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgLSAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNDogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgLSA0KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNjogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgLSA2KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyMTI6IG5ld0RhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpIC0gMTIpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MzogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwud2VlazogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gNyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MTA6IG5ld0RhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIDEwKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDogbmV3RGF0ZS5zZXRNb250aChkYXRlLmdldE1vbnRoKCkgLSAxKTsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnZhbCAkeyBpbnRlcnZhbCB9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGVzIHNwZWNpZmllZCBkYXRlIHRvIHRoZSBzcGVjaWZpZWQgaW50ZXJ2YWwuIERhdGUgaXMgZXhwZWN0ZWQgdG8gYmUgVVRDLlxuICAgICAqIEBwYXJhbSBkYXRlIFxuICAgICAqIEBwYXJhbSBpbnRlcnZhbCBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHRydW5jYXRlVG9JbnRlcnZhbChkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsKTogRGF0ZSB7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9TRUNPTkRTKDEpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9NSU5VVEVTKDEpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjU6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fTUlOVVRFUyg1KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4xNTogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9NSU5VVEVTKDE1KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4zMDogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9NSU5VVEVTKDMwKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0hPVVJTKDEpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI0OiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0hPVVJTKDQpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0hPVVJTKDYpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXIxMjogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9IT1VSUygxMikpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0RBWVMoMSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MzogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9EQVlTKDMpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLndlZWs6XG4gICAgICAgICAgICAgICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cnVuY2F0ZWQgPSBEYXRlVXRpbHMuZ2V0VXRjRGF0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIGRhdGUuZ2V0VVRDTW9udGgoKSwgZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgICAgICAgICAgICAgIHRydW5jYXRlZC5zZXREYXRlKHRydW5jYXRlZC5nZXREYXRlKCkgLSAoZGF5ICE9PSAwID8gZGF5IC0gMSA6IDYpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1bmNhdGVkO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5MTA6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fREFZUygxMCkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubW9udGg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVVdGlscy5nZXRVdGNEYXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgZGF0ZS5nZXRVVENNb250aCgpLCAxKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVydmFsICR7IGludGVydmFsIH1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGU6IERhdGUsIHRpbWVTcGFuOiBUaW1lU3Bhbik6IERhdGUge1xuICAgICAgICBpZiAodGltZVNwYW4udG90YWxNaWxsaXNlY29uZHMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGVNaWxsaXNlY29uZHMgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVNaWxsaXNlY29uZHMgLSAoZGF0ZU1pbGxpc2Vjb25kcyAlIHRpbWVTcGFuLnRvdGFsTWlsbGlzZWNvbmRzKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc1RydW5jYXRlZChkYXRlOiBEYXRlLCB0aW1lU3BhbjogVGltZVNwYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRpbWVTcGFuLnRvdGFsTWlsbGlzZWNvbmRzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRlTWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiAoKGRhdGVNaWxsaXNlY29uZHMgJSB0aW1lU3Bhbi50b3RhbE1pbGxpc2Vjb25kcykgPT09IDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNSb3VuZChkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRydW5jYXRlZCA9IERhdGVVdGlscy50cnVuY2F0ZVRvSW50ZXJ2YWwoZGF0ZSwgaW50ZXJ2YWwpO1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPT09IHRydW5jYXRlZC5nZXRUaW1lKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBEcmF3VXRpbHMgY2xhc3NcbiAqL1xuaW1wb3J0IHsgSVBvaW50LCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmNvbnN0IE1JTkRJU1QgPSAwLjAwMTtcblxuZXhwb3J0IGNsYXNzIERyYXdVdGlscyB7XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdldGhlciB0aGUgcG9pbnQgbGllcyBvbiB0aGUgc3BlY2lmaWVkIGxpbmUuXG4gICAgICogQHBhcmFtIHAgUG9pbnQgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHAxIFN0YXJ0IHBvaW50IG9mIGxpbmUuXG4gICAgICogQHBhcmFtIHAyIEVuZCBwb2ludCBvZiBsaW5lLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgSVNfUE9JTlRfT05fTElORShwOiBJUG9pbnQsIHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQsIHByZWNpc2lvbjogbnVtYmVyKTogYm9vbGVhbiB7XG5cbiAgICAgICAgY29uc3QgbWlueCA9IE1hdGgubWluKHBhLngsIHBiLngpO1xuICAgICAgICBjb25zdCBtYXh4ID0gTWF0aC5tYXgocGEueCwgcGIueCk7XG4gICAgICAgIGNvbnN0IG1pbnkgPSBNYXRoLm1pbihwYS55LCBwYi55KTtcbiAgICAgICAgY29uc3QgbWF4eSA9IE1hdGgubWF4KHBhLnksIHBiLnkpO1xuXG4gICAgICAgIC8vIENoZWNrIGhpdHRpbmcgdGhlIHJlY3RhbmdsZSBhcmVhIGFyb3VuZCB0aGUgbGluZVxuICAgICAgICBpZiAocC54IDwgbWlueCAtIHByZWNpc2lvbiB8fCBwLnggPiBtYXh4ICsgcHJlY2lzaW9uIHx8IHAueSA8IG1pbnkgLSBwcmVjaXNpb24gfHwgcC55ID4gbWF4eSArIHByZWNpc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGlzdHggPSBwYi54IC0gcGEueDtcbiAgICAgICAgY29uc3QgZGlzdHkgPSBwYi55IC0gcGEueTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdHgpID4gTUlORElTVCAmJiBNYXRoLmFicyhkaXN0eSkgPiBNSU5ESVNUKSB7XG4gICAgICAgICAgICAvLyBDb21wdXRlIGRpc3RhbmNlIGZyb20gYSBwb2ludCB0byBhIGxpbmVcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmFicyggZGlzdHkgKiBwLnggLSBkaXN0eCAqIHAueSArIHBiLnggKiBwYS55IC0gcGIueSAqIHBhLnggKVxuICAgICAgICAgICAgICAgIC8gTWF0aC5zcXJ0KCBkaXN0eSAqIGRpc3R5ICsgZGlzdHggKiBkaXN0eCApO1xuICAgICAgICAgICAgcmV0dXJuIGRpc3QgPCBwcmVjaXNpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBJU19QT0lOVF9PTl9RVUFEQ1VSVkUocDogSVBvaW50LCBwYTogSVBvaW50LCBwYjogSVBvaW50LCBwYzogSVBvaW50LCBwcmVjaXNpb246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB4ID0gcC54OyBjb25zdCB5ID0gcC55O1xuICAgICAgICBjb25zdCB4MSA9IHBhLng7IGNvbnN0IHkxID0gcGEueTtcbiAgICAgICAgY29uc3QgeDIgPSBwYi54OyBjb25zdCB5MiA9IHBiLnk7XG4gICAgICAgIGNvbnN0IHgzID0gcGMueDsgY29uc3QgeTMgPSBwYy55O1xuXG4gICAgICAgIGNvbnN0IGEgPSAoeDEgLSAyICogeDIgKyB4Myk7XG4gICAgICAgIGNvbnN0IGIgPSAyICogeDIgLSAyICogeDE7XG5cbiAgICAgICAgLy8gRmluZCBwb3NzaWJsZSBcInRcIiB2YWx1ZXNcbiAgICAgICAgY29uc3QgdmFsdWVzID0gRHJhd1V0aWxzLlNPTFZFX1FVQUQoYSwgYiwgeDEgLSB4KS5zb3J0KCk7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIGNvcnJlc3BvbmRlbnQgXCJ5XCIgdmFsdWVzIHdpdGggXCJ0XCIgdmFsdWVzXG4gICAgICAgIGNvbnN0IHRlc3RlZFk6IG51bWJlcltdID0gW107XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgdGVzdGVkWS5wdXNoKCgxIC0gdCkgKiAoMSAtIHQpICogeTEgKyAyICogKDEgLSB0KSAqIHQgKiB5MiArIHQgKiB0ICogeTMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUZXN0IHBvaW50IFwieVwiIHZhbHVlIFxuICAgICAgICByZXR1cm4gdGVzdGVkWS5zb21lKHl0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoeSA+PSB5dCAtIHByZWNpc2lvbiAmJiB5IDw9IHl0ICsgcHJlY2lzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29sdmVzIHF1YWRyYXRpYyBlcXVhdGlvbi5cbiAgICAgKiBAcGFyYW0gYVxuICAgICAqIEBwYXJhbSBiXG4gICAgICogQHBhcmFtIGNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIFNPTFZFX1FVQUQoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgaWYgKGEgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBiICE9PSAwID8gWy1jIC8gYl0gOiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGQgPSBiICogYiAtIDQgKiBhICogYztcbiAgICAgICAgaWYgKGQgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZCA9PT0gMFxuICAgICAgICAgICAgICAgID8gKFstYiAvICgyICogYSldKVxuICAgICAgICAgICAgICAgIDogWygtYiArIE1hdGguc3FydChkKSkgLyAoMiAqIGEpLFxuICAgICAgICAgICAgICAgICAgICgtYiAtIE1hdGguc3FydChkKSkgLyAoMiAqIGEpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGRpc3RhbmNlIGZyb20gYSBwb2ludCB0byB0aGUgc3BlY2lmaWVkIGxpbmVcbiAgICAgKiBAcGFyYW0gcCBcbiAgICAgKiBAcGFyYW0gcGEgXG4gICAgICogQHBhcmFtIHBiIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgRElTVF9UT19MSU5FKHA6IElQb2ludCwgcGE6IElQb2ludCwgcGI6IElQb2ludCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGRpc3R4ID0gcGIueCAtIHBhLng7XG4gICAgICAgIGNvbnN0IGRpc3R5ID0gcGIueSAtIHBhLnk7XG5cbiAgICAgICAgcmV0dXJuIChkaXN0eCAhPT0gMCB8fCBkaXN0eSAhPT0gMClcbiAgICAgICAgICAgID8gTWF0aC5hYnMoIGRpc3R5ICogcC54IC0gZGlzdHggKiBwLnkgKyBwYi54ICogcGEueSAtIHBiLnkgKiBwYS54IClcbiAgICAgICAgICAgICAgLyBNYXRoLnNxcnQoIGRpc3R5ICogZGlzdHkgKyBkaXN0eCAqIGRpc3R4IClcbiAgICAgICAgICAgIDogMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIERJU1QocGE6IElQb2ludCwgcGI6IElQb2ludCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGRpc3R4ID0gcGIueCAtIHBhLng7XG4gICAgICAgIGNvbnN0IGRpc3R5ID0gcGIueSAtIHBhLnk7XG5cbiAgICAgICAgcmV0dXJuIChkaXN0eCAhPT0gMCB8fCBkaXN0eSAhPT0gMClcbiAgICAgICAgICAgID8gTWF0aC5zcXJ0KE1hdGgucG93KHBiLnggLSBwYS54LCAyKSArIE1hdGgucG93KHBiLnkgLSBwYS55LCAyKSlcbiAgICAgICAgICAgIDogMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIE1JRChwYTogSVBvaW50LCBwYjogSVBvaW50KTogSVBvaW50IHtcbiAgICAgICAgcmV0dXJuIHsgeDogKHBhLnggKyBwYi54KSAvIDIsIHk6IChwYS55ICsgcGIueSkgLyAyIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbmdsZSBvZiB0aGUgc3BlY2lmaWVkIGxpbmUgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSBwYVxuICAgICAqIEBwYXJhbSBwYiBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIEFOR0xFKHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQpOiBudW1iZXIge1xuICAgICAgICAvLyBhbmdsZSBpbiByYWRpYW5zXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHBiLnkgLSBwYS55LCBwYi54IC0gcGEueCk7IC8vIGluIGRlZ3JlZXM6IFxuXG4gICAgICAgIC8vIC8vIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgICAgLy8gdmFyIGFuZ2xlRGVnID0gTWF0aC5hdGFuMihwMi55IC0gcDEueSwgcDIueCAtIHAxLngpICogMTgwIC8gTWF0aC5QSTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHBvaW50IEEgaXMgbmVhciBwb2ludCBCIChpLmUuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIGlzIGxlc3MgdGhlbiBwcmVjaXNpb24pLlxuICAgICAqIEBwYXJhbSBwYSBcbiAgICAgKiBAcGFyYW0gcGIgXG4gICAgICogQHBhcmFtIHByZWNpc2lvbiBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIElTX1BPSU5UX09WRVIocGE6IElQb2ludCwgcGI6IElQb2ludCwgcHJlY2lzaW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHBhLnggLSBwYi54KSA8IHByZWNpc2lvblxuICAgICAgICAgICAgICAgJiYgTWF0aC5hYnMocGEueSAtIHBiLnkpIDwgcHJlY2lzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3ZXRoZXIgdGhlIHBvaW50IGxpZXMgb24gdGhlIHNwZWNpZmllZCByZWN0YW5nbGUuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBJU19QT0lOVF9PVkVSX1JFQ1QocDogSVBvaW50LCByZWN0OiBJUmVjdCwgcHJlY2lzaW9uOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChwLnggPj0gcmVjdC54IC0gcHJlY2lzaW9uICYmIHAueCA8PSByZWN0LnggKyByZWN0LncgKyBwcmVjaXNpb25cbiAgICAgICAgICAgJiYgcC55ID49IHJlY3QueSAtIHByZWNpc2lvbiAmJiBwLnkgPD0gcmVjdC55ICsgcmVjdC5oICsgcHJlY2lzaW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaW5lYXIgZnVuY3Rpb24gYnkgdHdvIHBvaW50cy4gUmV0dXJucyBZIHZhbHVlIGZvciB0aGUgc3BlY2lmZWQgWCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gcGEgXG4gICAgICogQHBhcmFtIHBiIFxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgTElORUFSKHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQsIHg6IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBkaXN0eCA9IHBiLnggLSBwYS54O1xuXG4gICAgICAgIHJldHVybiAoTWF0aC5hYnMoZGlzdHgpID4gTUlORElTVClcbiAgICAgICAgICAgID8gKChwYi54ICogcGEueSAtIHBhLnggKiBwYi55KSAtIChwYS55IC0gcGIueSkgKiB4KSAvIGRpc3R4XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDsgLy8gZm9yIHZlcnRpY2FsIGxpbmVcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEVYVEVORChwYTogSVBvaW50LCBwYjogSVBvaW50LCBmcmFtZTogSVJlY3QpOiBJUG9pbnQge1xuICAgICAgICBjb25zdCB4MSA9IHBhLng7IGNvbnN0IHkxID0gcGEueTtcbiAgICAgICAgY29uc3QgeDIgPSBwYi54OyBjb25zdCB5MiA9IHBiLnk7XG5cbiAgICAgICAgY29uc3QgYSA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IGIgPSB4MSAtIHgyO1xuICAgICAgICBjb25zdCBjID0geDIgKiB5MSAtIHgxICogeTI7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGEpID4gTWF0aC5hYnMoYikpIHtcbiAgICAgICAgICAgIC8vIGV4dGVuZGluZyBZXG4gICAgICAgICAgICBsZXQgeTtcbiAgICAgICAgICAgIGlmICh5MSA+IHkyKSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gbG93ZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgeSA9IGZyYW1lLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRvIGdyZWF0ZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgeSA9IGZyYW1lLnkgKyBmcmFtZS5oO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeCA9IChhICE9PSAwKSA/IC0oYiAqIHkgKyBjKSAvIGEgOiB5MTtcbiAgICAgICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGV4dGVuZGluZyBYXG4gICAgICAgICAgICBsZXQgeDtcbiAgICAgICAgICAgIGlmICh4MSA+IHgyKSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gbG93ZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgeCA9IGZyYW1lLng7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRvIGdyZWF0ZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgeCA9IGZyYW1lLnggKyBmcmFtZS53O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeSA9IChiICE9PSAwKSA/IC0oYSAqIHggKyBjKSAvIGIgOiB4MTtcbiAgICAgICAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogSlNPTiB1dGlsc1xuICovXG5jb25zdCByZUlTTyA9IC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSlUKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSg/OlxcLlxcZCopKSg/Olp8KFxcK3wtKShbXFxkfDpdKikpPyQvO1xuY29uc3QgcmVNc0FqYXggPSAvXlxcL0RhdGVcXCgoZHwtfC4qKVxcKVtcXC98XFxcXF0kLztcblxuZXhwb3J0IGNsYXNzIEpzb25VdGlscyB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGRhdGUgZnJvbSBzdHJpbmcgdG8gRGF0ZSBvYmplY3QuXG4gICAgICogVXNlZCB3aXRoIEpTT04gcGFyc2VyLlxuICAgICAqIEBwYXJhbSBrZXkgUHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgU3RyaW5nIHZhbHVlIHRvIHBhcnNlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgREFURVBBUlNFUihrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IGEgPSByZUlTTy5leGVjKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSByZU1zQWpheC5leGVjKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IGFbMV0uc3BsaXQoL1stKywuXS8pO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiWzBdID8gK2JbMF0gOiAwIC0gK2JbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufVxuIiwiLyoqXG4gKiBOdW1iZXJVdGlscyBjbGFzcy5cbiAqIFxuICogQGNsYXNzIFV0aWxpdGllcyBmb3IgbnVtYmVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIE51bWJlclV0aWxzIHtcbiAgICAgLyoqXG4gICAgICogUmV0dXJucyBhIG51bWJlciByb3VuZGVkIHRvIGZyYWN0aW9uRGlnaXRzIGFmdGVyIHBvaW50LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuIG51bWJlciB0byByb3VuZFxuICAgICAqIEBwYXJhbSBmcmFjdGlvbkRpZ2l0cyBob3cgbWFueSBkaWdpdHMgYWZ0ZXIgcG9pbnQuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByb3VuZFRvKG46IG51bWJlciwgZnJhY3Rpb25EaWdpdHM6IG51bWJlciA9IDApIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgZnJhY3Rpb25EaWdpdHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25zdCBudW06IGFueSA9IChuICsgJ2UrJyArIGZyYWN0aW9uRGlnaXRzKTtcbiAgICAgICAgICAgIHJldHVybiArKE1hdGgucm91bmQobnVtKSArICdlLScgKyBmcmFjdGlvbkRpZ2l0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3RyaW5nVXRpbHMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wYXJlcyBzdHJpbmdzIGJlZm9yZSBzcGVjaWZpZWQgY2hhcmFjdGVyLlxyXG4gICAgICogQHBhcmFtIGxoc1xyXG4gICAgICogQHBhcmFtIHJocyBcclxuICAgICAqIEBwYXJhbSBjaGFyYWN0ZXIgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY29tcGFyZShsaHM6IHN0cmluZywgcmhzOiBzdHJpbmcsIGNoYXJhY3Rlcjogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgaTEgPSBsaHMuaW5kZXhPZihjaGFyYWN0ZXIpO1xyXG4gICAgICAgIGNvbnN0IGkyID0gcmhzLmluZGV4T2YoY2hhcmFjdGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgoaTEgIT09IC0xICkgPyBsaHMuc3Vic3RyaW5nKDAsIGkxKSA6IGxocylcclxuICAgICAgICAgICAgICAgID09PSAoKGkyICE9PSAtMSApID8gcmhzLnN1YnN0cmluZygwLCBpMikgOiByaHMpO1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIFRpbWVTcGFuIGNsYXNzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRpbWVTcGFuIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3RvdGFsTWlsbGlzZWNvbmRzOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGdldCB0b3RhbE1pbGxpc2Vjb25kcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbE1pbGxpc2Vjb25kcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHZhbHVlOiBudW1iZXIsIHVuaXQ6IFRpbWVVbml0KSB7XHJcbiAgICAgICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuU2Vjb25kczpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsTWlsbGlzZWNvbmRzID0gdmFsdWUgKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuTWludXRlczpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsTWlsbGlzZWNvbmRzID0gdmFsdWUgKiA2MDAwMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRpbWVVbml0LkhvdXJzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxNaWxsaXNlY29uZHMgPSB2YWx1ZSAqIDM2MDAwMDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5EYXlzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxNaWxsaXNlY29uZHMgPSB2YWx1ZSAqIDg2NDAwMDAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgVGltZVVuaXQgdmFsdWUgJHsgdW5pdCB9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgRlJPTV9EQVlTKHZhbHVlOiBudW1iZXIpOiBUaW1lU3BhbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lU3Bhbih2YWx1ZSwgVGltZVVuaXQuRGF5cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBGUk9NX0hPVVJTKHZhbHVlOiBudW1iZXIpOiBUaW1lU3BhbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lU3Bhbih2YWx1ZSwgVGltZVVuaXQuSG91cnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgRlJPTV9NSU5VVEVTKHZhbHVlOiBudW1iZXIpOiBUaW1lU3BhbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lU3Bhbih2YWx1ZSwgVGltZVVuaXQuTWludXRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBGUk9NX1NFQ09ORFModmFsdWU6IG51bWJlcik6IFRpbWVTcGFuIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTcGFuKHZhbHVlLCBUaW1lVW5pdC5TZWNvbmRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIENPTVBBUkUobDogVGltZVNwYW4sIHI6IFRpbWVTcGFuKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbC5fdG90YWxNaWxsaXNlY29uZHMgLSByLl90b3RhbE1pbGxpc2Vjb25kcztcclxuICAgIH1cclxufVxyXG5cclxuZW51bSBUaW1lVW5pdCB7XHJcbiAgICBTZWNvbmRzLFxyXG4gICAgTWludXRlcyxcclxuICAgIEhvdXJzLFxyXG4gICAgRGF5cyxcclxuICAgIE1vbnRoc1xyXG59XHJcbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBVaWRVdGlscyB7XHJcbiAgICBwdWJsaWMgc3RhdGljIE5FV1VJRCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5yYW5kb20oKSAqIDEwMDAwMCkudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSAnLi9BcnJheVV0aWxzJztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4vRGF0ZVV0aWxzJztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4vRHJhd1V0aWxzJztcbmltcG9ydCB7IElDb21wYXJlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBKc29uVXRpbHMgfSBmcm9tICcuL0pzb25VdGlscyc7XG5pbXBvcnQgeyBOdW1iZXJVdGlscyB9IGZyb20gJy4vTnVtYmVyVXRpbHMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuL1N0cmluZ1V0aWxzJztcbmltcG9ydCB7IFRpbWVTcGFuIH0gZnJvbSAnLi9UaW1lU3Bhbic7XG5pbXBvcnQgeyBVaWRVdGlscyB9IGZyb20gJy4vVWlkVXRpbHMnO1xuXG5leHBvcnQge1xuICAgIEFycmF5VXRpbHMsXG4gICAgRGF0ZVV0aWxzLFxuICAgIERyYXdVdGlscyxcbiAgICBJQ29tcGFyZXIsXG4gICAgSnNvblV0aWxzLFxuICAgIE51bWJlclV0aWxzLFxuICAgIFN0cmluZ1V0aWxzLFxuICAgIFRpbWVTcGFuLFxuICAgIFVpZFV0aWxzXG59O1xuIiwiLyoqXG4gKiBNYWluIG1vZHVsZS5cbiAqL1xuaW1wb3J0IHtcbiAgICBDaGFydCxcbiAgICBDaGFydEJvYXJkLFxuICAgIEZpZ3VyZUNvbXBvbmVudCxcbiAgICBGaWd1cmVGYWN0b3J5LFxuICAgIEZpZ3VyZVR5cGUsXG4gICAgSG92ZXJTdGF0ZSxcbiAgICBJU3RhdGVDb250cm9sbGVyLFxuICAgIE1vdmVDaGFydFN0YXRlLFxuICAgIFN0YXRlRmFicmljXG59IGZyb20gJy4vbGliL2NvbXBvbmVudCc7XG5cbmltcG9ydCAqIGFzIGF4ZXMgZnJvbSAnLi9saWIvYXhlcyc7XG5pbXBvcnQgKiBhcyBjYW52YXMgZnJvbSAnLi9saWIvY2FudmFzJztcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSAnLi9saWIvY29yZSc7XG5pbXBvcnQgKiBhcyBkYXRhIGZyb20gJy4vbGliL2RhdGEnO1xuaW1wb3J0ICogYXMgZHJhd2luZyBmcm9tICcuL2xpYi9kcmF3aW5nJztcbmltcG9ydCAqIGFzIGluZGljYXRvciBmcm9tICcuL2xpYi9pbmRpY2F0b3InO1xuaW1wb3J0ICogYXMgbW9kZWwgZnJvbSAnLi9saWIvbW9kZWwnO1xuaW1wb3J0ICogYXMgcmVuZGVyIGZyb20gJy4vbGliL3JlbmRlcic7XG5pbXBvcnQgKiBhcyBzaGFyZWQgZnJvbSAnLi9saWIvc2hhcmVkJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vbGliL3V0aWxzJztcblxuZnVuY3Rpb24gcmVnaXN0ZXIoc3RhdGVJZDogc3RyaW5nLCBzdGF0ZTogSVN0YXRlQ29udHJvbGxlcikge1xuICAgIC8vIFRPRE86IHNob3VsZCBiZSBzZXBhcmF0ZSBpbnN0YW5jZSBmb3IgZWFjaCBib2FyZFxuICAgIFN0YXRlRmFicmljLmluc3RhbmNlLnNldFN0YXRlKHN0YXRlSWQsIHN0YXRlKTtcbn1cblxuLy8gUmVnaXN0ZXIgYnVpbHQtaW4gc3RhdGVzXG5yZWdpc3RlcignaG92ZXInLCBIb3ZlclN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdtb3ZlY2hhcnQnLCBNb3ZlQ2hhcnRTdGF0ZS5pbnN0YW5jZSk7XG5cbi8vIFJlZ2lzdGVyIGJ1aWx0LWluIGRyYXdpbmcgdG9vbHNcbnJlZ2lzdGVyKCdjdXJ2ZScsIGRyYXdpbmcuRHJhd0N1cnZlU3RhdGUuaW5zdGFuY2UpO1xucmVnaXN0ZXIoJ2xpbmUnLCBkcmF3aW5nLkRyYXdMaW5lU3RhdGUuaW5zdGFuY2UpO1xucmVnaXN0ZXIoJ2hsaW5lJywgZHJhd2luZy5EcmF3SG9yaXpvbnRhbExpbmVTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcigndmxpbmUnLCBkcmF3aW5nLkRyYXdWZXJ0aWNhbExpbmVTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcigncmVjdCcsIGRyYXdpbmcuRHJhd1JlY3RTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcigndHJpYW5nbGUnLCBkcmF3aW5nLkRyYXdUcmlhbmdsZVN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdwYXRoJywgZHJhd2luZy5EcmF3UGF0aFN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdwaXRjaGZvcmsnLCBkcmF3aW5nLkRyYXdQaXRjaGZvcmtTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcigndGV4dCcsIGRyYXdpbmcuRHJhd1RleHRTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcignZWxsaXBzZScsIGRyYXdpbmcuRHJhd0VsbGlwc2VTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcigndHJlbmRjaGFubmVsJywgZHJhd2luZy5EcmF3VHJlbmRDaGFubmVsU3RhdGUuaW5zdGFuY2UpO1xucmVnaXN0ZXIoJ2RhdGVyYW5nZScsIGRyYXdpbmcuRHJhd0RhdGVSYW5nZVN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdmaWJvZmFuJywgZHJhd2luZy5EcmF3Rmlib0ZhblN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdmaWJvbGV2ZWwnLCBkcmF3aW5nLkRyYXdGaWJvTGV2ZWxTdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcignZmlib3Byb2plY3Rpb24nLCBkcmF3aW5nLkRyYXdGaWJvUHJvamVjdGlvblN0YXRlLmluc3RhbmNlKTtcbnJlZ2lzdGVyKCdmaWJvdGltZXByb2plY3Rpb24nLCBkcmF3aW5nLkRyYXdGaWJvVGltZVByb2plY3Rpb25TdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3RlcignZ2FubmZhbicsIGRyYXdpbmcuRHJhd0dhbm5GYW5TdGF0ZS5pbnN0YW5jZSk7XG5yZWdpc3Rlcignb2hsY3Byb2onLCBkcmF3aW5nLkRyYXdPaGxjUHJvalN0YXRlLmluc3RhbmNlKTtcblxuLy8gUmVnaXN0ZXIgZHJhd2luZyBmaWd1cmVzXG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuY3VydmUsIGRyYXdpbmcuQ3VydmVGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmxpbmUsIGRyYXdpbmcuTGluZUZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuaGxpbmUsIGRyYXdpbmcuSG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLnZsaW5lLCBkcmF3aW5nLlZlcnRpY2FsTGluZUZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUucmVjdCwgZHJhd2luZy5SZWN0RmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS50cmlhbmdsZSwgZHJhd2luZy5UcmlhbmdsZUZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUucGF0aCwgZHJhd2luZy5QYXRoRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5waXRjaGZvcmssIGRyYXdpbmcuUGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS50ZXh0LCBkcmF3aW5nLlRleHRGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmVsbGlwc2UsIGRyYXdpbmcuRWxsaXBzZUZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUudHJlbmRjaGFubmVsLCBkcmF3aW5nLlRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZGF0ZXJhbmdlLCBkcmF3aW5nLkRhdGVSYW5nZUZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZmlib2ZhbiwgZHJhd2luZy5GaWJvRmFuRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5maWJvbGV2ZWwsIGRyYXdpbmcuRmlib0xldmVsRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5maWJvcHJvamVjdGlvbiwgZHJhd2luZy5GaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZmlib3RpbWVwcm9qZWN0aW9uLCBkcmF3aW5nLkZpYm9UaW1lUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZ2FubmZhbiwgZHJhd2luZy5HYW5uRmFuRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5vaGxjcHJvaiwgZHJhd2luZy5PaGxjUHJvakZpZ3VyZUNvbXBvbmVudCk7XG5cbmNvbnN0IHN0YXRlcyA9IHtcbiAgICByZWdpc3RlcjogcmVnaXN0ZXJcbn07XG5cbi8vIFJlZ2lzdGVyIGJ1aWx0LWluIGluZGljYXRvcnNcbmluZGljYXRvci5yZWdpc3RlcignYWxsaWdhdG9yJywgaW5kaWNhdG9yLkFsbGlnYXRvckluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ2JvbGxpbmdlcicsIGluZGljYXRvci5Cb2xsaW5nZXJJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdTU1RPQycsIGluZGljYXRvci5TbG93U3RvY2hhc3RpY09zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdGU1RPQycsIGluZGljYXRvci5GYXN0U3RvY2hhc3RpY09zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdDQ0knLCBpbmRpY2F0b3IuQ0NJT3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0NPUicsIGluZGljYXRvci5DT1JJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdERU1BJywgaW5kaWNhdG9yLkRFTUFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdESVgnLCBpbmRpY2F0b3IuRElYT3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0RNSScsIGluZGljYXRvci5ETUlJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdEU1NCUicsIGluZGljYXRvci5EU1NCUk9zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdFTUEnLCBpbmRpY2F0b3IuRU1BSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignTUFDRCcsIGluZGljYXRvci5NQUNESW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignTU9NJywgaW5kaWNhdG9yLk1PTUluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ01EJywgaW5kaWNhdG9yLk1ESW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignQURYJywgaW5kaWNhdG9yLkFEWEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0FUUicsIGluZGljYXRvci5BVFJJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdBUk8nLCBpbmRpY2F0b3IuQXJvb25JbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdBT1MnLCBpbmRpY2F0b3IuQXJvb25Pc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignSEhMTCcsIGluZGljYXRvci5ISExMSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignSUtIJywgaW5kaWNhdG9yLklLSEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ09CT1MnLCBpbmRpY2F0b3IuT0JPU09zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdQQ1InLCBpbmRpY2F0b3IuUENST3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1BQJywgaW5kaWNhdG9yLlBQSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUFNBUicsIGluZGljYXRvci5QU0FSSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUkInLCBpbmRpY2F0b3IuUkJJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdTVERFVicsIGluZGljYXRvci5TVERFVkluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1RQJywgaW5kaWNhdG9yLlRQSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUkFUSU8nLCBpbmRpY2F0b3IuUkFUSU9JbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdSU0knLCBpbmRpY2F0b3IuUlNJT3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1JTTCcsIGluZGljYXRvci5SU0xPc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUk9DJywgaW5kaWNhdG9yLlJPQ0luZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1NUJywgaW5kaWNhdG9yLlNUSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignU01BJywgaW5kaWNhdG9yLlNNQUluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1NNTUEnLCBpbmRpY2F0b3IuU01NQUluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1RFTUEnLCBpbmRpY2F0b3IuVEVNQUluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1RNQScsIGluZGljYXRvci5UTUFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdWT0xBJywgaW5kaWNhdG9yLlZPTEFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdXTUEnLCBpbmRpY2F0b3IuV01BSW5kaWNhdG9yKTtcblxuLy8gUmVnaXN0ZXIgYnVpbHQtaW4gcmVuZGVyZXJzXG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignYWxsaWdhdG9yJywgaW5kaWNhdG9yLkFsbGlnYXRvckluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdib2xsaW5nZXInLCBpbmRpY2F0b3IuQm9sbGluZ2VySW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1NTVE9DJywgaW5kaWNhdG9yLlN0b2NoYXN0aWNPc2NpbGxhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0ZTVE9DJywgaW5kaWNhdG9yLlN0b2NoYXN0aWNPc2NpbGxhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0NDSScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdDT1InLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignREVNQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdETUknLCBpbmRpY2F0b3IuRE1JSW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0VNQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdTTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignU01NQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdURU1BJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1RNQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdXTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignQURYJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0FUUicsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdBUk8nLCBpbmRpY2F0b3IuQXJvb25JbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignQU9TJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0hITEwnLCBpbmRpY2F0b3IuSEhMTEluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdJS0gnLCBpbmRpY2F0b3IuSUtISW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1BTQVInLCBpbmRpY2F0b3IuUFNBUkluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdSQicsIGluZGljYXRvci5SQkluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdTVERFVicsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdUUCcsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdSQVRJTycsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdSU0knLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUlNMJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ01PTScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdST0MnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignT0JPUycsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdESVgnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignRFNTQlInLCBpbmRpY2F0b3IuRFNTQlJPc2NpbGxhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1BDUicsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdQUCcsIGluZGljYXRvci5QUEluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdNRCcsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdNQUNEJywgaW5kaWNhdG9yLk1BQ0RJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignU1QnLCBpbmRpY2F0b3IuU1RJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignVk9MQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcblxuY29uc3QgbHljaGFydCA9IHtcbiAgICAvLyB0eXBlczpcbiAgICBDaGFydDogQ2hhcnQsXG4gICAgQ2hhcnRCb2FyZDogQ2hhcnRCb2FyZCxcbiAgICBGaWd1cmVDb21wb25lbnQ6IEZpZ3VyZUNvbXBvbmVudCxcbiAgICAvLyBuYW1lc3BhY2VzOlxuICAgIGF4ZXM6IGF4ZXMsXG4gICAgY2FudmFzOiBjYW52YXMsXG4gICAgY29yZTogY29yZSxcbiAgICBkYXRhOiBkYXRhLFxuICAgIGRyYXdpbmc6IGRyYXdpbmcsXG4gICAgaW5kaWNhdG9yOiBpbmRpY2F0b3IsXG4gICAgbW9kZWw6IG1vZGVsLFxuICAgIHJlbmRlcjogcmVuZGVyLFxuICAgIHN0YXRlczogc3RhdGVzLFxuICAgIHNoYXJlZDogc2hhcmVkLFxuICAgIHV0aWxzOiB1dGlsc1xufTtcblxuKDxhbnk+d2luZG93KS5seWNoYXJ0ID0gbHljaGFydDtcblxuZXhwb3J0IHtcbiAgICAvLyB0eXBlczpcbiAgICBDaGFydCxcbiAgICBDaGFydEJvYXJkLFxuICAgIEZpZ3VyZUNvbXBvbmVudCxcbiAgICAvLyBuYW1lc3BhY2VzOlxuICAgIGF4ZXMsXG4gICAgY2FudmFzLFxuICAgIGNvcmUsXG4gICAgZGF0YSxcbiAgICBkcmF3aW5nLFxuICAgIGluZGljYXRvcixcbiAgICBtb2RlbCxcbiAgICByZW5kZXIsXG4gICAgc3RhdGVzLFxuICAgIHNoYXJlZCxcbiAgICB1dGlsc1xufTtcbiJdfQ==
