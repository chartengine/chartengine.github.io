(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KnockoutComponents = (function () {
    function KnockoutComponents(appvm) {
        ko.components.register('chart-component', {
            viewModel: {
                createViewModel: function (params, componentInfo) {
                    // - 'params' is an object whose key/value pairs are the parameters
                    //   passed from the component binding or custom element
                    // - 'componentInfo.element' is the element the component is being
                    //   injected into. When createViewModel is called, the template has
                    //   already been injected into this element, but isn't yet bound.
                    // - 'componentInfo.templateNodes' is an array containing any DOM
                    //   nodes that have been supplied to the component. See below.
                    return appvm.insertChart(params.index, params, componentInfo ? componentInfo.element : undefined);
                }
            },
            template: { element: 'chart-component-template' }
        });
    }
    return KnockoutComponents;
}());
exports.KnockoutComponents = KnockoutComponents;
},{}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Main module
 */
var KnockoutComponents_1 = require("./KnockoutComponents");
var jQueryExtensions_1 = require("./plugins/jQueryExtensions");
var KnockoutExtensions_1 = require("./plugins/KnockoutExtensions");
var AppViewModel_1 = require("./vm/AppViewModel");
var appModel = new AppViewModel_1.AppViewModel();
// init jquery extensions
jQueryExtensions_1.jQueryExtensions();
// init knockout extensions and components
//
var ext = new KnockoutExtensions_1.KnockoutExtensions();
var components = new KnockoutComponents_1.KnockoutComponents(appModel);
// bind view model
ko.applyBindings(appModel);
// init application
appModel
    .init()
    .then(function () {
    // hide splash screen
    $('#page-splash').hide();
})
    .catch(function (reason) {
    $('#page-splash').hide();
});
},{"./KnockoutComponents":1,"./plugins/KnockoutExtensions":3,"./plugins/jQueryExtensions":4,"./vm/AppViewModel":8}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Custom knockout bindings
 */
var KnockoutExtensions = (function () {
    function KnockoutExtensions() {
        ko.bindingHandlers.winsize = {
            init: function (element, valueAccessor) {
                $(window).resize(function () {
                    var value = valueAccessor();
                    value({ width: $(window).width(), height: $(window).height() });
                });
            }
        };
        ko.bindingHandlers.domready = {
            init: function (element, valueAccessor) {
                $(document).ready(function () {
                    var value = valueAccessor();
                    value();
                });
            }
        };
        ko.virtualElements.allowedBindings.updateListviewOnChange = true;
        ko.bindingHandlers.updateListviewOnChange = {
            update: function (element, valueAccessor) {
                ko.utils.unwrapObservable(valueAccessor()); //grab dependency
                $('.list-component').listview({ refresh: true, mini: true, icon: '' });
                $('.collapsible-component').collapsible({ refresh: true, mini: true });
            }
        };
        ko.bindingHandlers.popupVisible = {
            init: function (element, valueAccessor) {
                var unwrapValue = ko.unwrap(valueAccessor());
                $(element).draggable({ cursor: 'move' });
                $(element).popup({ history: false });
            },
            update: function (element, valueAccessor) {
                var unwrapValue = ko.unwrap(valueAccessor());
                // close opened popups
                $('[data-role="popup"]').each(function (i, el) {
                    var $el = $(el);
                    if ($el.parent().hasClass('ui-popup-active')) {
                        $el.popup('close');
                    }
                });
                $(element).popup(unwrapValue ? 'open' : 'close');
            }
        };
    }
    return KnockoutExtensions;
}());
exports.KnockoutExtensions = KnockoutExtensions;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function jQueryExtensions() {
    (function ($) {
        function f(ev, evType) {
            if (!(ev.originalEvent.touches.length > 1)) {
                ev.preventDefault();
                var c = ev.originalEvent.changedTouches[0];
                var d = document.createEvent('MouseEvents');
                d.initMouseEvent(evType, !0, !0, window, 1, c.screenX, c.screenY, c.clientX, c.clientY, !1, !1, !1, !1, 0, null);
                ev.target.dispatchEvent(d);
            }
        }
        if ('ontouchend' in document) {
            var e_1;
            var $mouseproto = $.ui.mouse.prototype;
            var c_1 = $mouseproto._mouseInit;
            var d_1 = $mouseproto._mouseDestroy;
            $mouseproto._touchStart = function (ev) {
                var self = this;
                !e_1 && self._mouseCapture(ev.originalEvent.changedTouches[0]) && (e_1 = !0, self._touchMoved = !1, f(ev, 'mouseover'), f(ev, 'mousemove'), f(ev, 'mousedown'));
            };
            $mouseproto._touchMove = function (ev) {
                e_1 && (this._touchMoved = !0, f(ev, 'mousemove'));
            };
            $mouseproto._touchEnd = function (ev) {
                e_1 && (f(ev, 'mouseup'), f(ev, 'mouseout'), this._touchMoved || f(ev, 'click'), e_1 = !1);
            };
            $mouseproto._mouseInit = function () {
                var self = this;
                self.element.bind({
                    touchstart: $.proxy(self, '_touchStart'),
                    touchmove: $.proxy(self, '_touchMove'),
                    touchend: $.proxy(self, '_touchEnd')
                });
                c_1.call(self);
            };
            $mouseproto._mouseDestroy = function () {
                var self = this;
                self.element.unbind({
                    touchstart: $.proxy(self, '_touchStart'),
                    touchmove: $.proxy(self, '_touchMove'),
                    touchend: $.proxy(self, '_touchEnd')
                });
                d_1.call(self);
            };
        }
    })(jQuery);
}
exports.jQueryExtensions = jQueryExtensions;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var lychart = require("../../../src/lychart");
var DateUtils = lychart.utils.DateUtils;
var Uid = lychart.model.Uid;
var Utils_1 = require("./Utils");
var AssetService = (function () {
    function AssetService() {
    }
    AssetService.getAssets = function () {
        var self = this;
        if (this._assets) {
            return new Promise(function (resolve, reject) {
                resolve(self._assets);
            });
        }
        return new Promise(function (resolve, reject) {
            $.support.cors = true; // Otherwise "no transport" in IE 11.
            $.ajax({
                method: 'GET',
                dataType: 'json',
                url: settings.assetsUrl,
                contentType: 'application/json'
            })
                .then(function (data) {
                // save data and resolve
                self._assets = data;
                resolve(data);
            }, reject);
        });
    };
    return AssetService;
}());
exports.AssetService = AssetService;
function sendRequest(asset, timeStart, timeEnd, interval) {
    $.support.cors = true;
    var sets = {
        method: 'POST',
        crossDomain: true,
        dataType: 'json',
        url: settings.candlesUrl + asset,
        contentType: 'application/json',
        data: JSON.stringify({
            period: Utils_1.Utils.INTERVAL2PERIOD(interval),
            type: 'Bid',
            dateFrom: timeStart.toISOString(),
            dateTo: timeEnd.toISOString()
        })
    };
    return $.ajax(sets);
}
var DataService = (function () {
    function DataService() {
        this.readData = function (asset, timeStart, timeEnd, interval) {
            return sendRequest(asset, timeStart, timeEnd, interval);
        };
    }
    DataService.prototype.getCandle = function (asset, date, interval) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.readData(asset, date, DateUtils.addInterval(date, interval), interval)
                .then(function (response) { return DataService.resolveData(response); })
                .then(function (resolved) {
                resolve(resolved.data.length > 0 ? resolved.data[0] : undefined);
            });
        });
    };
    DataService.prototype.getCandles = function (asset, dateFrom, dateTo, interval) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.readData(asset, dateFrom, dateTo, interval)
                .then(function (response) { return DataService.resolveData(response); })
                .then(function (resolved) {
                resolve(resolved.data);
            });
        });
    };
    DataService.prototype.createDataSource = function (assetPairId, timeInterval) {
        var dataSource = new lychart.data.HttpDataSource(lychart.model.Candlestick, {
            url: '',
            autoupdate: false,
            readData: this.createDataReader(assetPairId),
            resolveData: DataService.resolveData,
            timeInterval: timeInterval,
            precision: 3
        });
        dataSource.asset = assetPairId;
        return dataSource;
    };
    DataService.prototype.createDataReader = function (asset) {
        return function (timeStart, timeEnd, interval) {
            return sendRequest(asset, timeStart, timeEnd, interval);
        };
    };
    return DataService;
}());
/**
 * Converts json from server to model.
 */
DataService.resolveData = function (response) {
    if (response) {
        var data = response.data
            .map(function (item) {
            var date = new Date(item.t);
            var stick = new lychart.model.Candlestick(date, item.c, item.o, item.h, item.l);
            // init uid
            stick.uid = new Uid(date);
            return stick;
        });
        return {
            dateFrom: new Date(response.dateFrom),
            dateTo: new Date(response.dateTo),
            interval: Utils_1.Utils.PERIOD2INTERVAL(response.period),
            data: data
        };
    }
    return {
        dateFrom: new Date(),
        dateTo: new Date(),
        interval: lychart.core.TimeInterval.notSet,
        data: []
    };
};
exports.DataService = DataService;
},{"../../../src/lychart":181,"./Utils":7}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Storage = (function () {
    function Storage() {
    }
    Storage.prototype.getItem = function (key) {
        if (localStorage) {
            return localStorage.getItem(key);
        }
        else {
            throw new Error('Local storage is not available.');
        }
    };
    Storage.prototype.setItem = function (key, value) {
        if (localStorage) {
            localStorage.setItem(key, value);
        }
        else {
            throw new Error('Local storage is not available.');
        }
    };
    return Storage;
}());
exports.Storage = Storage;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utils class.
 */
var lychart = require("../../../src/lychart");
var TimeInterval = lychart.core.TimeInterval;
var Utils = (function () {
    function Utils() {
    }
    Utils.INTERVAL2PERIOD = function (interval) {
        switch (interval) {
            case TimeInterval.sec: return 'Sec';
            case TimeInterval.min: return 'Minute';
            case TimeInterval.hour: return 'Hour';
            case TimeInterval.day: return 'Day';
            case TimeInterval.month: return 'Month';
            default: throw new Error('Unexpected interval.');
        }
    };
    Utils.PERIOD2INTERVAL = function (period) {
        switch (period) {
            case 'Sec': return TimeInterval.sec;
            case 'Minute': return TimeInterval.min;
            case 'Hour': return TimeInterval.hour;
            case 'Day': return TimeInterval.day;
            case 'Month': return TimeInterval.month;
            default: throw new Error('Unexpected period.');
        }
    };
    return Utils;
}());
exports.Utils = Utils;
},{"../../../src/lychart":181}],8:[function(require,module,exports){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var DataService_1 = require("../services/DataService");
var ChartViewModel_1 = require("./ChartViewModel");
var AppViewModel = (function () {
    function AppViewModel() {
        var _this = this;
        this.frameSize = { width: 0, height: 0 };
        this.mode = 1;
        this.charts = [];
        this.initialized = [];
        this.assets = [];
        this.dataService = new DataService_1.DataService();
        this.figures = ko.observableArray([
            { name: 'line', text: 'Line' },
            { name: 'hline', text: 'H-Line' },
            { name: 'vline', text: 'V-Line' },
            { name: 'rect', text: 'Rect' },
            { name: 'triangle', text: 'Triangle' },
            { name: 'path', text: 'Path' },
            { name: 'pitchfork', text: 'Pitchfork' },
            { name: 'text', text: 'Text' },
            { name: 'ellipse', text: 'Ellipse' },
            { name: 'trendchannel', text: 'Trend Channel' },
            { name: 'curve', text: 'Curve' },
            { name: 'daterange', text: 'Date Range' },
            { name: 'fibofan', text: 'Fibo Fan' },
            { name: 'fibolevel', text: 'Fibo Level' },
            { name: 'fiboprojection', text: 'Fibo Projection' },
            { name: 'fibotimeprojection', text: 'Fibo Time Projection' },
            { name: 'gannfan', text: 'Gann Fan' },
            { name: 'ohlcproj', text: 'OHLC Proj' }
        ]);
        this.onComponentLoaded = function (chartComponent) { };
        this.onready = function () {
            _this.updateChildComponents();
        };
        this.onresize = function (size) {
            _this.resizeFrame(size.width, size.height);
            _this.updateChildComponents();
        };
    }
    AppViewModel.prototype.cmdAddFigure = function (figureName) {
        // close popup
        $('#popupMenu').popup('close');
        // start drawing
        if (this.selectedChart) {
            this.selectedChart.cmdAddFigure(figureName);
        }
    };
    AppViewModel.prototype.cmdSetCurrentChart = function (vm) {
        this.selectedChart = vm;
    };
    AppViewModel.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _i, _b, chart, e_1;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.$frame = $('#frame');
                        this.resizeFrame($(window).width(), $(window).height());
                        console.log('Loading assets.');
                        _c.label = 1;
                    case 1:
                        _c.trys.push([1, 3, , 4]);
                        _a = this;
                        return [4 /*yield*/, DataService_1.AssetService.getAssets()];
                    case 2:
                        _a.assets = _c.sent();
                        console.log('Assets are loaded.');
                        for (_i = 0, _b = this.charts; _i < _b.length; _i++) {
                            chart = _b[_i];
                            chart.assets(this.assets);
                        }
                        this.initChildComponents();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _c.sent();
                        console.error('Error during loading: ' + e_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    AppViewModel.prototype.insertChart = function (index, params, node) {
        if (!node) {
            throw new Error('Node must be specified.');
        }
        if (this.charts[index] === undefined) {
            this.charts[index] = new ChartViewModel_1.ChartViewModel(params, node, this.assets, this.dataService);
            this.initialized[index] = false;
            return this.charts[index];
        }
        else {
            throw new Error("Chart is already created at index = " + index + ".");
        }
    };
    AppViewModel.prototype.setMode = function (n) {
        this.mode = n;
        this.updateChildComponents();
    };
    AppViewModel.prototype.resizeFrame = function (w, h) {
        this.frameSize = { width: w, height: h };
        this.$frame.height(h - 2);
    };
    AppViewModel.prototype.initChildComponents = function () {
        var _this = this;
        this.charts.forEach(function (chart, index) {
            if (!_this.initialized[index]) {
                var layout = _this.getChartLayout(index);
                _this.initialized[index] = chart.init(layout.w, layout.h, layout.v);
            }
        });
    };
    AppViewModel.prototype.updateChildComponents = function () {
        var _this = this;
        this.charts.forEach(function (c, i) {
            var layout = _this.getChartLayout(i);
            c.setVisible(layout.v);
            c.resize(layout.w, layout.h);
        });
    };
    AppViewModel.prototype.getChartLayout = function (chartIndex) {
        var frameHeight = this.frameSize.height - 50;
        var frameWidth = this.frameSize.width - 6;
        if (chartIndex === 0) {
            return this.mode === 1
                ? { w: this.frameSize.width, h: frameHeight - 2, v: true }
                : { w: frameWidth / 2, h: frameHeight / 2 - 2, v: true };
        }
        else {
            return this.mode === 1
                ? { w: frameWidth / 2, h: frameHeight / 2 - 2, v: false }
                : { w: frameWidth / 2, h: frameHeight / 2 - 2, v: true };
        }
    };
    return AppViewModel;
}());
exports.AppViewModel = AppViewModel;
},{"../services/DataService":5,"./ChartViewModel":9}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var ChartBoard = lychart.ChartBoard;
var DateUtils = lychart.utils.DateUtils;
var Storage_1 = require("../services/Storage");
var PopupViewModel_1 = require("./PopupViewModel");
var PropsViewModel_1 = require("./PropsViewModel");
var TreeViewModel_1 = require("./TreeViewModel");
var PANEL_WIDTH = 200;
var ChartViewModel = (function () {
    function ChartViewModel(params, node, assets, dataService) {
        var _this = this;
        this.actualIndicators = [];
        this.editPropertiesMode = ko.observable(false);
        this.visible = ko.observable(false);
        this.width = ko.observable(0);
        this.height = ko.observable(0);
        this.assets = ko.observableArray([]);
        this.selectedAsset = ko.observable('BTCCHF');
        this.selectedInterval = ko.observable('hour');
        this.selectedChartType = ko.observable('candle');
        this.selectedCompareAsset = ko.observable('BTCCHF');
        this.selectedIndicators = ko.observableArray([]);
        this.panelVisible = ko.observable(false);
        this.panelWidth = ko.observable(44);
        this.panelHeight = ko.observable(0);
        this.chartUid = ko.observable(Math.random());
        this.undoDisabled = ko.observable(true);
        this.autoupdatePeriod = 10; // In seconds
        /*
         * Event handlers
        */
        this.onAssetChanged = function () {
            console.log('cvm: event "asset changed"');
            _this.resetChart();
        };
        this.onIntervalChanged = function () {
            console.log('cvm: event "interval changed"');
            _this.resetChart();
        };
        this.onChartTypeChanged = function () {
            _this.board.setChartType(_this.selectedChartType());
            _this.treeVM.update();
            // this.board.render();
        };
        this.onIndicatorsChanged = function () {
            var selected = _this.selectedIndicators();
            var added = selected ? selected.filter(function (item) { return !_this.actualIndicators.some(function (existing) { return existing === item; }); }) : [];
            var removed = selected ? _this.actualIndicators.filter(function (existing) { return !selected.some(function (sel) { return sel === existing; }); }) : _this.actualIndicators;
            added.forEach(function (indicator) {
                var splits = indicator.split('_');
                _this.changeIndicator(splits[0], splits[0], parseInt(splits[1], 10), true);
            });
            removed.forEach(function (indicator) {
                var splits = indicator.split('_');
                _this.changeIndicator(splits[0], splits[0], parseInt(splits[1], 10), false);
            });
            _this.actualIndicators = selected ? selected : [];
            _this.treeVM.update();
            _this.board.render();
        };
        this.tree_itemSelected = function (arg) {
            if (arg.object) {
                _this.propsVM.rebuild(arg.object);
                _this.editPropertiesMode(true);
            }
        };
        this.props_closing = function () {
            _this.editPropertiesMode(false);
            _this.updateView();
        };
        this.props_applied = function () {
            _this.board.render();
            _this.updateView();
        };
        this.popup_executed = function () {
            _this.updateView();
        };
        this.board_selectionChanged = function (arg) {
            //this.popupVisible(arg.obj ? true : false);
            _this.popupVM.visible(arg.obj ? true : false);
            _this.popupVM.rebuild(arg.obj);
            _this.tree_itemSelected(new TreeViewModel_1.ItemSelectedArg('', arg.obj));
        };
        this.board_treeChanged = function (arg) {
            _this.treeVM.update();
            _this.updateView();
        };
        this.board_historyChanged = function (arg) {
            _this.updateView();
        };
        this.changeIndicator = function (uid, indicatorType, index, state) {
            if (state) {
                _this.board.addIndicator(uid, indicatorType, index);
            }
            else {
                _this.board.removeIndicator(uid);
            }
        };
        /**
         * Timer event handler. Updates chart.
         */
        this.autoUpdate = function () {
            console.log('auto update');
            var interval = str2interval(_this.selectedInterval());
            var end = new Date();
            var start = DateUtils.addInterval(end, interval, -10);
            _this.dataService
                .getCandles(_this.selectedAsset(), start, end, interval)
                .then(function (data) { _this.dataSource.merge(data); });
            _this.board.render();
            // schedule next autoupdate
            _this.autoupdateTimer = setTimeout(_this.autoUpdate, _this.autoupdatePeriod * 1000);
        };
        this.assets(assets);
        this.node = node;
        this.params = params;
        this.dataService = dataService;
        this.selectedAsset.subscribe(this.onAssetChanged);
        this.selectedInterval.subscribe(this.onIntervalChanged);
        this.selectedChartType.subscribe(this.onChartTypeChanged);
        this.selectedIndicators.subscribe(this.onIndicatorsChanged);
        this.$chartContainer = $('.chart-container', this.node);
        // Init chart board
        //
        var offset = this.$chartContainer.offset();
        this.board = new ChartBoard(this.$chartContainer[0], offset.left, offset.top, 200, 200, lychart.core.TimeInterval.min, new Storage_1.Storage(), this.dataService);
        this.board.selectionChanged.on(this.board_selectionChanged);
        this.board.treeChanged.on(this.board_treeChanged);
        this.board.historyChanged.on(this.board_historyChanged);
        console.log('cvm: chart board created.');
        // Init tree vm
        //
        this.treeVM = new TreeViewModel_1.TreeViewModel(this.board);
        this.treeVM.itemSelected.on(this.tree_itemSelected);
        // Init props vm
        //
        this.propsVM = new PropsViewModel_1.PropsViewModel($('.properties', this.node)[0], this.board);
        this.propsVM.closingEvt.on(this.props_closing);
        this.propsVM.appliedEvt.on(this.props_applied);
        // Init popup vm
        this.popupVM = new PopupViewModel_1.PopupViewModel($('.popupmenu', this.node)[0], this.board);
        this.popupVM.executedEvt.on(this.popup_executed);
        // Set up auto update timer
        this.autoupdateTimer = setTimeout(this.autoUpdate, this.autoupdatePeriod * 1000);
    }
    ChartViewModel.prototype.afterLoad = function () {
        if (this.params.loaded) {
            this.params.loaded(this);
        }
    };
    ChartViewModel.prototype.cmdAddFigure = function (figureType) {
        if (figureType) {
            this.board.drawing.start(figureType);
        }
    };
    ChartViewModel.prototype.cmdCompare = function () {
        var asset = this.selectedCompareAsset();
        var ds = this.dataService.createDataSource(asset, str2interval(this.selectedInterval()));
        this.board.addChart(lychart.utils.UidUtils.NEWUID(), asset, lychart.core.ChartType.candle, ds);
    };
    ChartViewModel.prototype.cmdShowPanel = function (visible) {
        this.panelVisible(visible);
        this.panelWidth(visible ? PANEL_WIDTH : 44);
        this.resizeChartContainer();
        this.board.render();
    };
    ChartViewModel.prototype.cmdUndo = function () {
        this.board.undo();
        this.board.render();
        this.updateView();
    };
    ChartViewModel.prototype.init = function (w, h, visible) {
        this.width(w);
        this.height(h);
        this.visible(visible);
        var initialized = this.resetChart();
        this.treeVM.update();
        return initialized;
    };
    ChartViewModel.prototype.resize = function (w, h) {
        this.width(w);
        this.height(h);
        this.resizeChartContainer();
        this.board.render();
    };
    ChartViewModel.prototype.setVisible = function (value) {
        this.visible(value);
    };
    ChartViewModel.prototype.resizeChartContainer = function () {
        // Compute size of chart based on component size and panels size
        //
        var w = this.width();
        var h = this.height();
        var $chartToolbar = $('.chart-toolbar', this.node);
        var chartH = Math.max(h - $chartToolbar.height(), 0);
        var chartW = Math.max(this.panelVisible() ? w - PANEL_WIDTH : w - 44, 0);
        // resize container
        //
        this.$chartContainer.height(chartH);
        this.$chartContainer.width(chartW);
        // resize board
        //
        this.board.resize(chartW, chartH);
        var offset = this.$chartContainer.offset();
        this.board.offset = new lychart.shared.Point(offset.left, offset.top);
        // resize panel
        this.panelHeight(chartH - 2);
    };
    /**
     * Changes chart to the selected asset pair and time interval.
     * @param assetPairId
     * @param timeInterval
     */
    ChartViewModel.prototype.setChart = function (assetPairId, timeInterval) {
        if (!assetPairId || !timeInterval) {
            return false;
        }
        if (this.dataSource) {
            this.dataSource.dispose();
        }
        console.log('cvm: creating data source...');
        // recreate data source
        this.dataSource = this.dataService.createDataSource(assetPairId, timeInterval);
        this.board.setTimeInterval(timeInterval);
        this.board.setDataSource(assetPairId, // uid
        assetPairId, // name
        (timeInterval === lychart.core.TimeInterval.sec) ? lychart.core.ChartType.line : lychart.core.ChartType.candle, this.dataSource);
        return true;
    };
    ChartViewModel.prototype.resetChart = function () {
        return this.setChart(this.selectedAsset(), str2interval(this.selectedInterval()));
    };
    ChartViewModel.prototype.updateView = function () {
        this.undoDisabled(this.board ? this.board.history.length === 0 : true);
    };
    return ChartViewModel;
}());
exports.ChartViewModel = ChartViewModel;
function str2interval(value) {
    var timeinterval = value;
    return lychart.core.TimeInterval[timeinterval];
}
},{"../../../src/lychart":181,"../services/Storage":6,"./PopupViewModel":10,"./PropsViewModel":11,"./TreeViewModel":12}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * PopupViewModel class.
 */
var lychart = require("../../../src/lychart");
var Event = lychart.shared.Event;
/**
 * View model for popup dialog.
 */
var PopupViewModel = (function () {
    function PopupViewModel(container, board) {
        this.container = container;
        this.board = board;
        this.executedEvt = new Event();
        this.visible = ko.observable(false);
        this.vmUid = ko.observable();
        var rand = Math.random();
        this.vmUid(rand);
        console.log('PopupViewModel ctor: ' + rand);
    }
    PopupViewModel.prototype.cmdMoveUp = function () {
        if (this.obj) {
            this.board.moveUp(this.obj.uid);
            this.executedEvt.trigger();
        }
    };
    PopupViewModel.prototype.cmdMoveDown = function () {
        if (this.obj) {
            this.board.moveDown(this.obj.uid);
            this.executedEvt.trigger();
        }
    };
    PopupViewModel.prototype.cmdRemove = function () {
        if (this.obj) {
            this.board.removeObject(this.obj.uid);
            this.visible(false);
            this.executedEvt.trigger();
        }
    };
    PopupViewModel.prototype.rebuild = function (obj) {
        this.obj = obj;
    };
    return PopupViewModel;
}());
exports.PopupViewModel = PopupViewModel;
},{"../../../src/lychart":181}],11:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * PropsViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var Event = lychart.shared.Event;
var SettingSet = lychart.core.SettingSet;
var SettingType = lychart.core.SettingType;
var PropsEvent = (function (_super) {
    __extends(PropsEvent, _super);
    function PropsEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return PropsEvent;
}(Event));
exports.PropsEvent = PropsEvent;
var PropsViewModel = (function () {
    function PropsViewModel(container, board) {
        this.container = container;
        this.board = board;
        this.closingEvt = new PropsEvent();
        this.appliedEvt = new PropsEvent();
        this.title = ko.observable('');
    }
    PropsViewModel.prototype.cmdApply = function () {
        if (this.obj) {
            var settings = this.collectSettings();
            this.board.setObjectSettings(this.obj.uid, settings);
        }
        this.appliedEvt.trigger();
    };
    PropsViewModel.prototype.cmdCancel = function () {
        this.closingEvt.trigger();
    };
    PropsViewModel.prototype.rebuild = function (obj) {
        if (!obj) {
            throw new Error('Object uid is not specified');
        }
        this.obj = obj;
        // set title
        this.title(obj.name || '');
        // clear controls
        $(this.container).empty();
        var settings = this.board.getObjectSettings(obj.uid);
        if (settings) {
            this.settingName = settings.name;
            this.iterate(settings, '', this.title());
        }
        else {
            this.settingName = '';
        }
    };
    PropsViewModel.prototype.iterate = function (ss, path, title) {
        path = path ? path + '.' + ss.name : ss.name;
        for (var _i = 0, _a = Object.keys(ss.settings); _i < _a.length; _i++) {
            var s = _a[_i];
            var setting = ss.settings[s];
            // Set group's name
            if (setting.group && setting.dispalyName) {
                var $div = $('<h4 />')
                    .text(setting.dispalyName)
                    .addClass('subtitle')
                    .appendTo(this.container);
            }
            this.populateSetting(setting, path + '.' + setting.name);
            this.iterate(setting, path, '');
        }
    };
    PropsViewModel.prototype.populateSetting = function (ss, fullPath) {
        if (ss.group) {
            return;
        }
        var $div = $('<div />')
            .addClass('field-contain')
            .appendTo(this.container);
        $('<label />')
            .text(ss.dispalyName)
            .addClass('field-title')
            .appendTo($div);
        switch (ss.settingType) {
            case SettingType.check:
                $('<input />', {
                    type: 'checkbox',
                    name: fullPath,
                    checked: ss.value === 'true',
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.color:
                $('<input />', {
                    type: 'color',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.numeric:
                $('<input />', {
                    type: 'text',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.date:
                $('<input />', {
                    type: 'date',
                    name: fullPath,
                    value: ss.value
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                break;
            case SettingType.select:
                var sel_1 = $('<select />', {
                    name: fullPath
                })
                    .addClass('field-input')
                    .attr('data-type', ss.settingType)
                    .appendTo($div);
                ss.options.forEach(function (option) {
                    $('<option />', {
                        value: option.value,
                        text: option.text,
                        selected: (option.value === ss.value) ? 'selected' : false
                    })
                        .appendTo(sel_1);
                });
                break;
            default:
        }
    };
    PropsViewModel.prototype.collectSettings = function () {
        var s = new SettingSet(this.settingName);
        var elements = $('.field-input', this.container).get();
        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {
            var element = elements_1[_i];
            var attrType = element.getAttribute('type');
            var path = element.getAttribute('name');
            if (path) {
                var parts = path.split('.');
                var name_1 = parts.length > 0 ? parts[parts.length - 1] : '';
                var ss = new SettingSet(name_1);
                ss.settingType = element.getAttribute('data-type') || '';
                if (attrType === 'checkbox') {
                    ss.value = element.checked.toString();
                }
                else if (attrType === 'color') {
                    ss.value = element.value;
                }
                else if (attrType === 'text') {
                    ss.value = element.value;
                }
                else if (attrType === 'date') {
                    ss.value = element.value;
                }
                else if (element instanceof HTMLSelectElement) {
                    var options = element.options;
                    ss.value = options[options.selectedIndex].value;
                }
                s.setSetting(path, ss);
            }
        }
        return s;
    };
    return PropsViewModel;
}());
exports.PropsViewModel = PropsViewModel;
},{"../../../src/lychart":181}],12:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TreeViewModel class. View model of a specific chart.
 */
var lychart = require("../../../src/lychart");
var Event = lychart.shared.Event;
var ItemSelectedArg = (function () {
    function ItemSelectedArg(uid, object) {
        this.uid = uid;
        this.object = object;
    }
    return ItemSelectedArg;
}());
exports.ItemSelectedArg = ItemSelectedArg;
var ItemSelectedEvent = (function (_super) {
    __extends(ItemSelectedEvent, _super);
    function ItemSelectedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ItemSelectedEvent;
}(Event));
exports.ItemSelectedEvent = ItemSelectedEvent;
var TreeViewModel = (function () {
    function TreeViewModel(board) {
        this.board = board;
        this.itemSelected = new ItemSelectedEvent();
        this.stacks = ko.observableArray();
        this.rebuild();
    }
    TreeViewModel.prototype.cmdSelectChart = function (chart) {
        if (chart && chart.uid) {
            this.selectObjectByUid(chart.uid);
        }
    };
    TreeViewModel.prototype.cmdSelectFigure = function (figure) {
        if (figure && figure.uid) {
            this.selectObjectByUid(figure.uid);
        }
    };
    TreeViewModel.prototype.selectObjectByUid = function (uid) {
        if (uid) {
            var obj = this.board.getObjectById(uid);
            if (obj) {
                this.itemSelected.trigger(new ItemSelectedArg(uid, obj));
            }
            else {
                console.error('Object is not found, uid = ' + uid);
            }
        }
    };
    TreeViewModel.prototype.update = function () {
        this.rebuild();
        $('[data-role="collapsible"]').trigger('create');
    };
    TreeViewModel.prototype.rebuild = function () {
        this.stacks.removeAll();
        var self = this;
        this.board.stacks.forEach(function (stack) {
            var charts = stack.charts.map(function (s) {
                return { uid: s.uid, name: s.name };
            });
            var figures = stack.figures.map(function (f) {
                return { uid: f.uid, name: f.name };
            });
            self.stacks.push({
                uid: stack.uid,
                name: 'Chart',
                charts: charts,
                figures: figures
            });
        });
    };
    return TreeViewModel;
}());
exports.TreeViewModel = TreeViewModel;
},{"../../../src/lychart":181}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes related to grid calculation.
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var Scale = (function () {
    function Scale(step, precision) {
        this.step = step;
        this.precision = precision;
    }
    return Scale;
}());
var NumberAutoGrid = (function () {
    function NumberAutoGrid(length, minInterval, range) {
        if (!length || length <= 0) {
            throw new Error("Argument \"length\" " + length + " is out of range.");
        }
        if (!minInterval || minInterval <= 0) {
            throw new Error("Argument \"minInterval\" " + minInterval + " is out of range.");
        }
        if (!range || range.end === undefined || range.start === undefined) {
            throw new Error('Argument "range" is not specified.');
        }
        this.length = length;
        this.minInterval = minInterval;
        this.range = range;
    }
    NumberAutoGrid.prototype.getGrid = function () {
        var grid = new index_1.Grid();
        // 1. Define how many bars can be fitted
        var _a = [1, Math.floor(this.length / 20)], minBars = _a[0], maxBars = _a[1];
        // 2. Choose fitting scale
        var rangeAbs = Math.abs(this.range.end - this.range.start);
        var selectedScale = undefined;
        for (var _i = 0, _b = NumberAutoGrid.scales; _i < _b.length; _i++) {
            var scale = _b[_i];
            if (scale.step < this.minInterval) {
                continue;
            }
            // how many bars does this scale require:
            var barsRequired = Math.floor(rangeAbs / scale.step) + 1;
            if (barsRequired >= minBars && barsRequired <= maxBars) {
                selectedScale = scale;
                break;
            }
        }
        if (selectedScale === undefined) {
            return grid;
        }
        // 3. Calculate first bar
        //
        // ... if start time is placed on bar use it, otherwise calculate where first bar lies
        var bar = 0;
        if (this.range.start % selectedScale.step === 0) {
            bar = this.range.start;
        }
        else {
            // ... add scale value and truncate 
            var num = this.range.start + (this.range.start >= 0 ? selectedScale.step : -selectedScale.step);
            bar = num - (num % selectedScale.step);
        }
        // 4. Calculate remaining bars
        var t = bar;
        while (t <= this.range.end + selectedScale.step) {
            grid.bars.push(t);
            t += selectedScale.step;
        }
        grid.precision = selectedScale.precision;
        return grid;
    };
    return NumberAutoGrid;
}());
NumberAutoGrid.scales = [
    new Scale(0.0001, 0),
    new Scale(0.0005, 0),
    new Scale(0.0010, 0),
    new Scale(0.0025, 0),
    new Scale(0.0050, 0),
    new Scale(0.0100, 0),
    new Scale(0.0250, 0),
    new Scale(0.0500, 0),
    new Scale(0.1000, 0),
    new Scale(0.2500, 0),
    new Scale(0.5000, 0),
    new Scale(1.0000, 0),
    new Scale(5.0000, 0),
    new Scale(10.0000, 0),
    new Scale(25.0000, 0),
    new Scale(50.0000, 0),
    new Scale(100, 0),
    new Scale(250, 0),
    new Scale(500, 0),
    new Scale(1000, 0),
    new Scale(2500, 0),
    new Scale(5000, 0),
    new Scale(10000, 0),
    new Scale(25000, 0),
    new Scale(50000, 0),
    new Scale(100000, 0),
    new Scale(250000, 0),
    new Scale(500000, 0)
];
exports.NumberAutoGrid = NumberAutoGrid;
var TimeAutoGrid = (function () {
    function TimeAutoGrid(width, minInterval, time, range) {
        if (!width || width <= 0) {
            throw new Error("Argument \"width\" " + width + " is out of range.");
        }
        if (!minInterval || minInterval < 0) {
            throw new Error("Argument \"minInterval\" " + minInterval + " is out of range.");
        }
        this.width = width;
        this.minInterval = minInterval;
        this.range = range;
        this.time = time;
        this.scale = TimeAutoGrid.selectScale(this.width, this.minInterval, this.range);
    }
    TimeAutoGrid.selectScale = function (width, minInterval, range) {
        var grid = [];
        // 1. Define how many bars can be fitted
        var _a = [1, Math.floor(width / 75)], minBars = _a[0], maxBars = _a[1];
        // 2. Choose fitting scale
        var rangeInMs = Math.abs(range.end.t.getTime() - range.start.t.getTime());
        var selectedScale = 0;
        for (var _i = 0, _b = TimeAutoGrid.scales; _i < _b.length; _i++) {
            var scale = _b[_i];
            if (scale < minInterval) {
                continue;
            }
            // how many bars does this scale require:
            var barsRequired = Math.floor(rangeInMs / scale) + 1;
            if (barsRequired >= minBars && barsRequired <= maxBars) {
                selectedScale = scale;
                break;
            }
        }
        return selectedScale;
    };
    Object.defineProperty(TimeAutoGrid.prototype, "current", {
        get: function () {
            return this.time.current;
        },
        enumerable: true,
        configurable: true
    });
    TimeAutoGrid.prototype.reset = function () {
        this.time.reset();
    };
    TimeAutoGrid.prototype.moveNext = function () {
        var found = false;
        while (this.time.moveNext()) {
            if (index_2.DateUtils.isRound(this.time.current.uid.t, this.scale)) {
                found = true;
                break;
            }
        }
        return found;
    };
    return TimeAutoGrid;
}());
TimeAutoGrid.scales = [
    index_1.TimeInterval.sec,
    index_1.TimeInterval.min,
    index_1.TimeInterval.min5,
    index_1.TimeInterval.min15,
    index_1.TimeInterval.min30,
    index_1.TimeInterval.hour,
    index_1.TimeInterval.hour4,
    index_1.TimeInterval.hour6,
    index_1.TimeInterval.hour12,
    index_1.TimeInterval.day,
    index_1.TimeInterval.day3,
    index_1.TimeInterval.week,
    index_1.TimeInterval.day10,
    index_1.TimeInterval.month
];
exports.TimeAutoGrid = TimeAutoGrid;
},{"../core/index":56,"../utils/index":180}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AutoGrid_1 = require("./AutoGrid");
var NumberAxis = (function () {
    function NumberAxis(length, interval, // Defines maximum zoom
        initialRange) {
        this._length = length;
        this._interval = interval;
        this._range = initialRange ? initialRange : { start: 0, end: 0 };
    }
    Object.defineProperty(NumberAxis.prototype, "length", {
        set: function (value) {
            this._length = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberAxis.prototype, "range", {
        get: function () {
            return this._range;
        },
        set: function (newRange) {
            this._range = newRange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        enumerable: true,
        configurable: true
    });
    NumberAxis.prototype.getGrid = function () {
        var autoGrid = new AutoGrid_1.NumberAutoGrid(this._length, this.interval, this.range);
        return autoGrid.getGrid();
    };
    NumberAxis.prototype.getValuesRange = function (fromX, toX) {
        if (fromX > 0 && toX > 0 && fromX < this._length && toX < this._length) {
            return {
                start: this.toValue(Math.max(fromX, toX)),
                end: this.toValue(Math.min(fromX, toX))
            };
        }
        else {
            return { start: undefined, end: undefined };
        }
    };
    NumberAxis.prototype.toValue = function (x) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = x / this._length;
        return max - d * range;
    };
    NumberAxis.prototype.toX = function (value) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = (max - value) / range; // inverted Y
        return d * this._length;
    };
    NumberAxis.prototype.toIndex = function (x) {
        return this.toValue(x);
    };
    NumberAxis.prototype.move = function (direction) {
    };
    NumberAxis.prototype.scale = function (direction) {
    };
    return NumberAxis;
}());
exports.NumberAxis = NumberAxis;
},{"./AutoGrid":13}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AutoGrid_1 = require("./AutoGrid");
var PriceAxis = (function () {
    function PriceAxis(length, interval, // defines maximum zoom
        initialRange) {
        this._length = length;
        this._interval = interval;
        this._range = initialRange ? initialRange : { start: 0, end: 0 };
    }
    Object.defineProperty(PriceAxis.prototype, "range", {
        get: function () {
            return this._range;
        },
        set: function (newRange) {
            this._range = newRange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PriceAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PriceAxis.prototype, "length", {
        set: function (value) {
            this._length = value;
        },
        enumerable: true,
        configurable: true
    });
    PriceAxis.prototype.getGrid = function () {
        var autoGrid = new AutoGrid_1.NumberAutoGrid(this._length, this.interval, this.range);
        return autoGrid.getGrid();
    };
    PriceAxis.prototype.getValuesRange = function (fromX, toX) {
        if (fromX > 0 && toX > 0 && fromX < this._length && toX < this._length) {
            return {
                start: this.toValue(Math.max(fromX, toX)),
                end: this.toValue(Math.min(fromX, toX))
            };
        }
        else {
            return { start: undefined, end: undefined };
        }
    };
    PriceAxis.prototype.toValue = function (x) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = x / this._length;
        return max - d * range;
    };
    PriceAxis.prototype.toX = function (value) {
        var range = Math.abs(this.range.end - this.range.start);
        var max = Math.max(this.range.end, this.range.start);
        var d = (max - value) / range; // inverted Y
        return d * this._length;
    };
    PriceAxis.prototype.toIndex = function (x) {
        return this.toValue(x);
    };
    PriceAxis.prototype.move = function (direction) {
    };
    PriceAxis.prototype.scale = function (direction) {
    };
    return PriceAxis;
}());
exports.PriceAxis = PriceAxis;
},{"./AutoGrid":13}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var AutoGrid_1 = require("./AutoGrid");
exports.TimeAutoGrid = AutoGrid_1.TimeAutoGrid;
var NumberAxis_1 = require("./NumberAxis");
exports.NumberAxis = NumberAxis_1.NumberAxis;
var PriceAxis_1 = require("./PriceAxis");
exports.PriceAxis = PriceAxis_1.PriceAxis;
},{"./AutoGrid":13,"./NumberAxis":14,"./PriceAxis":15}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
* CanvasWrapper class.
*
* @classdesc Incapsulates usage of canvas.
*/
var Enums_1 = require("./Enums");
var CanvasWrapper = (function () {
    function CanvasWrapper(context, width, height) {
        this.adj = 0.5; // Adjusment to remove blury lines. Default value for line width = 1.
        this.ctx = context;
        var dpr = window.devicePixelRatio || 1;
        var bsr = this.ctx.webkitBackingStorePixelRatio ||
            this.ctx.mozBackingStorePixelRatio ||
            this.ctx.msBackingStorePixelRatio ||
            this.ctx.oBackingStorePixelRatio ||
            this.ctx.backingStorePixelRatio || 1;
        this.ratio = dpr / bsr;
        this.w = width;
        this.h = height;
        this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
    }
    Object.defineProperty(CanvasWrapper.prototype, "font", {
        get: function () {
            return this.ctx.font;
        },
        set: function (font) {
            this.ctx.font = font;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "fillStyle", {
        set: function (fillStyle) {
            this.ctx.fillStyle = fillStyle;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "globalAlpha", {
        get: function () {
            return this.ctx.globalAlpha;
        },
        set: function (alpha) {
            this.ctx.globalAlpha = alpha;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CanvasWrapper.prototype, "lineWidth", {
        get: function () {
            return this.ctx.lineWidth;
        },
        set: function (w) {
            this.adj = (w % 2) / 2; // If line is width 1, 3, 5... then adjust coords to remove blur.
            this.ctx.lineWidth = w;
        },
        enumerable: true,
        configurable: true
    });
    CanvasWrapper.prototype.clear = function () {
        this.ctx.clearRect(0, 0, this.round(this.w), this.round(this.h));
    };
    CanvasWrapper.prototype.getLineDash = function () {
        return this.ctx.getLineDash();
    };
    CanvasWrapper.prototype.setLineDash = function (segments) {
        this.ctx.setLineDash(segments);
    };
    CanvasWrapper.prototype.moveTo = function (x, y) {
        this.ctx.moveTo(this.round(x) + this.adj, this.round(y) + this.adj);
    };
    CanvasWrapper.prototype.lineTo = function (x, y) {
        this.ctx.lineTo(this.round(x) + this.adj, this.round(y) + this.adj);
    };
    CanvasWrapper.prototype.fill = function (fillRule) {
        this.ctx.fill(fillRule);
    };
    CanvasWrapper.prototype.fillRect = function (x, y, w, h) {
        this.ctx.fillRect(this.round(x), this.round(y), this.round(w), this.round(h));
    };
    CanvasWrapper.prototype.strokeRect = function (x, y, w, h) {
        this.ctx.strokeRect(this.round(x) + this.adj, this.round(y) + this.adj, this.round(w) - this.adj * 2, this.round(h) - this.adj * 2);
    };
    // Used with beginPath() / stroke() / strokeStyle / fill()
    CanvasWrapper.prototype.rect = function (x, y, w, h) {
        this.ctx.rect(this.round(x) + this.adj, this.round(y) + this.adj, this.round(w) - this.adj * 2, this.round(h) - this.adj * 2);
    };
    CanvasWrapper.prototype.arc = function (x, y, radius, startAngle, endAngle, anticlockwise) {
        this.ctx.arc(this.round(x), this.round(y), radius, startAngle, endAngle, anticlockwise);
    };
    CanvasWrapper.prototype.ellipse = function (x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise) {
        this.ctx.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise);
    };
    CanvasWrapper.prototype.quadraticCurveTo = function (cpx, cpy, x, y) {
        this.ctx.quadraticCurveTo(cpx, cpy, x, y);
    };
    CanvasWrapper.prototype.fillText = function (s, x, y) {
        this.ctx.fillText(s, this.round(x), this.round(y));
    };
    CanvasWrapper.prototype.drawImage = function (canvas, offsetX, offsetY, width, height) {
        this.ctx.drawImage(canvas, offsetX, offsetY, width, height);
    };
    CanvasWrapper.prototype.resize = function (w, h) {
        this.w = w;
        this.h = h;
        // restore transformation
        this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
    };
    CanvasWrapper.prototype.beginPath = function () {
        this.ctx.beginPath();
    };
    CanvasWrapper.prototype.stroke = function () {
        this.ctx.stroke();
    };
    CanvasWrapper.prototype.closePath = function () {
        this.ctx.closePath();
    };
    CanvasWrapper.prototype.setStrokeStyle = function (style) {
        this.ctx.strokeStyle = style;
    };
    CanvasWrapper.prototype.setFillStyle = function (style) {
        this.ctx.fillStyle = style;
    };
    CanvasWrapper.prototype.setTextAlign = function (v) {
        this.ctx.textAlign = Enums_1.CanvasTextBaseLine[v].toLowerCase();
    };
    CanvasWrapper.prototype.setTextBaseLine = function (v) {
        this.ctx.textBaseline = Enums_1.CanvasTextBaseLine[v].toLowerCase();
    };
    CanvasWrapper.prototype.measureText = function (text) {
        return this.ctx.measureText(text);
    };
    CanvasWrapper.prototype.strokeText = function (text, x, y, maxWidth) {
        this.ctx.strokeText(text, this.round(x), this.round(y), maxWidth);
    };
    CanvasWrapper.prototype.save = function () {
        this.ctx.save();
    };
    CanvasWrapper.prototype.restore = function () {
        this.ctx.restore();
    };
    CanvasWrapper.prototype.clip = function (fillRule) {
        this.ctx.clip(fillRule);
    };
    CanvasWrapper.prototype.round = function (n) {
        return (0.5 + n) | 0;
    };
    return CanvasWrapper;
}());
exports.CanvasWrapper = CanvasWrapper;
},{"./Enums":18}],18:[function(require,module,exports){
/**
* Canvas related enumerations.
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CanvasTextAlign;
(function (CanvasTextAlign) {
    CanvasTextAlign[CanvasTextAlign["Left"] = 0] = "Left";
    CanvasTextAlign[CanvasTextAlign["Center"] = 1] = "Center";
    CanvasTextAlign[CanvasTextAlign["Right"] = 2] = "Right";
})(CanvasTextAlign = exports.CanvasTextAlign || (exports.CanvasTextAlign = {}));
var CanvasTextBaseLine;
(function (CanvasTextBaseLine) {
    CanvasTextBaseLine[CanvasTextBaseLine["Top"] = 0] = "Top";
    CanvasTextBaseLine[CanvasTextBaseLine["Middle"] = 1] = "Middle";
    CanvasTextBaseLine[CanvasTextBaseLine["Bottom"] = 2] = "Bottom";
})(CanvasTextBaseLine = exports.CanvasTextBaseLine || (exports.CanvasTextBaseLine = {}));
var LinePattern;
(function (LinePattern) {
    LinePattern[LinePattern["Solid"] = 0] = "Solid";
    LinePattern[LinePattern["Dashed"] = 1] = "Dashed";
    LinePattern[LinePattern["Pointed"] = 2] = "Pointed";
})(LinePattern = exports.LinePattern || (exports.LinePattern = {}));
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CanvasWrapper_1 = require("./CanvasWrapper");
exports.CanvasWrapper = CanvasWrapper_1.CanvasWrapper;
var Enums_1 = require("./Enums");
exports.CanvasTextAlign = Enums_1.CanvasTextAlign;
exports.CanvasTextBaseLine = Enums_1.CanvasTextBaseLine;
exports.LinePattern = Enums_1.LinePattern;
},{"./CanvasWrapper":17,"./Enums":18}],20:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Chart class.
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var Chart = (function (_super) {
    __extends(Chart, _super);
    function Chart(uid, name, chartType, chartArea, tAxis, offset, size, dataSource, yAxis, qtip) {
        var _this = _super.call(this, offset, size, uid, name) || this;
        _this.chartType = chartType;
        _this.dataSource = dataSource;
        _this.yAxis = yAxis;
        _this.qtip = qtip;
        _this.isMouseOver = false;
        _this.area = chartArea;
        _this.tAxis = tAxis;
        // this.popup = new ChartPopup<T>(chartType, this.area, { x: 0, y: 0 }, size, dataSource, timeAxis, yAxis);
        // this.addChild(this.popup);
        //this.qtip.addTextBlock('title', 'CHART ' + uid);
        _this.renderer = index_3.RenderLocator.Instance.getChartRender(index_2.Candlestick, _this.chartType);
        return _this;
    }
    Object.defineProperty(Chart.prototype, "precision", {
        get: function () {
            return this.dataSource.precision;
        },
        enumerable: true,
        configurable: true
    });
    Chart.prototype.getValuesRange = function (range) {
        return this.dataSource.getValuesRange(range);
    };
    Chart.prototype.handleMouse = function (relX, relY) {
        var iterator = this.dataSource.getIterator();
        this.qtip.removeTextBlock('name');
        this.qtip.removeTextBlock('value');
        this.qtip.addTextBlock('name', this.dataSource.name);
        var uid = this.tAxis.toValue(relX);
        if (uid !== undefined && iterator.goTo(function (item) { return item.uid.compare(uid) === 0; })) {
            var c = iterator.current;
            var text = c.toString(this.precision);
            this.qtip.addTextBlock('value', text);
        }
        _super.prototype.handleMouse.call(this, relX, relY);
    };
    Chart.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            var iterator = this.dataSource.getIterator();
            this.renderer.render(this.area.baseCanvas, iterator, { x: 0, y: 0, w: this.size.width, h: this.size.height }, this.tAxis, this.yAxis);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    Chart.prototype.isHit = function (p) {
        // if (mouseX > 0 && mouseX < this.size.width
        //     && mouseY > 0 && mouseY < this.size.height) {
        //     const renderLocator = RenderLocator.Instance;
        //     // 1. Get approximate range
        //     // 2. Get data in that range            
        //     // 3. Test hit area
        //     //
        //     const indexRange = this.frame.getIndexesRange(mouseX - 10, mouseX + 10);
        //     if (indexRange && indexRange.start && indexRange.end) {
        //         const data = this.frame.getDataBetween(this._uid, indexRange.start, indexRange.end);
        //         //const dataIterator = this.dataSource.getData(dateRange, this.timeAxis.interval);
        //         const dataRender = <IChartRender<Candlestick>>renderLocator.getChartRender(Candlestick, this.chartType);
        //         const item = dataRender.testHitArea(
        //             { x: mouseX, y: mouseY },
        //             data,
        //             {x: 0, y: 0, w: this.size.width, h: this.size.height },
        //             this.frame.xAxis,
        //             this.yAxis);
        //         if (item) {
        //             // TODO: uncomment
        //             //this.popup.item = item;
        //             return true;
        //         }
        //     }
        // }
        return this.isMouseOver;
    };
    Chart.prototype.setHovered = function (visible) {
        // TODO: uncomment
        //this.popup.visible = visible;
    };
    Chart.prototype.getSettings = function () {
        var merged = new index_1.SettingSet('chartsettings');
        merged.setSetting('datasource', this.dataSource.getSettings());
        merged.setSetting('visual', this.renderer.getSettings());
        return merged;
    };
    Chart.prototype.setSettings = function (settings) {
        var renderSettings = settings.getSetting('chartsettings.visual');
        if (renderSettings) {
            this.renderer.setSettings(renderSettings);
        }
        var dsSettings = settings.getSetting('chartsettings.datasource');
        if (dsSettings) {
            this.dataSource.setSettings(dsSettings);
        }
    };
    return Chart;
}(index_1.VisualComponent));
exports.Chart = Chart;
},{"../core/index":56,"../model/index":146,"../render/index":166}],21:[function(require,module,exports){
(function (global){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartBoard class.
 *
 * @classdesc Facade for the chart library.
 */
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../indicator/index");
var index_4 = require("../layout/index");
var index_5 = require("../render/index");
var index_6 = require("../shared/index");
var index_7 = require("../utils/index");
var ChartStack_1 = require("./ChartStack");
var Interfaces_1 = require("./Interfaces");
var StateFabric_1 = require("./StateFabric");
var TimeAxis_1 = require("./TimeAxis");
var TimeAxisComponent_1 = require("./TimeAxisComponent");
var $ = (typeof window !== "undefined" ? window['$'] : typeof global !== "undefined" ? global['$'] : null);
var IndicatorDescription = (function () {
    function IndicatorDescription(uid, indicatorType) {
        this.uid = uid;
        this.indicatorType = indicatorType;
    }
    return IndicatorDescription;
}());
var ChartBoard = (function (_super) {
    __extends(ChartBoard, _super);
    function ChartBoard(container, offsetLeft, offsetTop, w, h, interval, storage, dataService) {
        var _this = _super.call(this, { x: offsetLeft, y: offsetTop }, { width: Math.max(w, 100), height: Math.max(h, 50) }) || this;
        _this.container = container;
        _this.chartStacks = [];
        _this.originalUid = '';
        _this.originalName = '';
        _this.dataSources = {};
        _this.indicators = {};
        _this.indicatorDescriptions = [];
        _this.dataSourceRegister = new index_2.DataSourceRegister();
        _this.events = new index_1.Events();
        _this.commands = new CommandHistory();
        _this.stateFabric = new StateFabric_1.StateFabric();
        _this.isDestroyed = false;
        _this.touchMode = false;
        _this.addInterval = function (date, times) {
            return index_7.DateUtils.addInterval(date, _this.timeAxis.interval, times);
        };
        _this.onDataChanged = function (arg) {
            if (arg.lastUidBefore && arg.lastUidAfter
                && _this.timeAxis.isVisible(arg.lastUidBefore)
                && !_this.timeAxis.isVisible(arg.lastUidAfter)) {
                _this.timeAxis.moveTo(arg.lastUidAfter);
            }
            _this.render();
        };
        _this.onLoadingRange = function (arg) {
            for (var _i = 0, _a = Object.keys(_this.dataSources); _i < _a.length; _i++) {
                var key = _a[_i];
                if (key !== 'primary-data-source') {
                    var ds = _this.dataSources[key];
                    if (arg.end) {
                        ds.loadRange(arg.start, arg.end);
                    }
                    else if (arg.count) {
                        ds.load(arg.start, arg.count);
                    }
                }
            }
        };
        _this.mouse = new index_1.Mouse();
        _this.ignoreNextMove = false;
        _this.onMouseWheel = function (event) {
            if (false == !!event) {
                event = window.event;
            }
            _this.state.onMouseWheel(_this, event);
            var direction = ((event.wheelDelta) ? event.wheelDelta / 120 : event.detail / -3) || 0;
            if (direction) {
                _this.timeAxis.scale(direction);
                _this.render();
            }
        };
        _this.onMouseMove = function (event) {
            // handle chrome behavior: click = down + move + up
            if (_this.ignoreNextMove) {
                _this.ignoreNextMove = false;
                return;
            }
            _a = [event.pageX, event.pageY], _this.mouse.pos.x = _a[0], _this.mouse.pos.y = _a[1];
            _this.state.onMouseMove(_this, _this.mouse);
            _super.prototype.handleMouse.call(_this, _this.mouse.pos.x - _this.offset.x, _this.mouse.pos.y - _this.offset.y);
            //Events.instance.mouseMove.trigger(new MouseEventArgument(this.mouse));
            if (_this.mouse.isEntered && _this.mouse.isDown) {
                _this.renderLayers(true, true);
            }
            else if (_this.mouse.isEntered) {
                _this.renderLayers(false, true);
            }
            var _a;
        };
        _this.onMouseEnter = function (event) {
            _this.mouse.isEntered = true;
            _this.state.onMouseEnter(_this, _this.mouse);
        };
        _this.onMouseLeave = function (event) {
            _this.mouse.isEntered = false;
            _this.mouse.isDown = false;
            _this.state.onMouseLeave(_this, _this.mouse);
        };
        _this.onMouseUp = function (event) {
            _this.ignoreNextMove = true;
            _this.mouse.isDown = false;
            _this.state.onMouseUp(_this, _this.mouse);
            _this.renderLayers(false, true);
        };
        _this.onMouseDown = function (event) {
            _this.mouse.isDown = true;
            var hitStack = _this.getHitStack(_this.mouse.pos);
            _this.state.onMouseDown(_this, _this.mouse, hitStack);
        };
        _this.onTouchPinch = function (ev) {
            if (!_this.touchMode) {
                return;
            }
            var direction = ev.deltaX;
            if (direction) {
                _this.timeAxis.scale(direction);
                _this.render();
            }
        };
        _this.onTouchPan = function (ev) {
            if (!_this.touchMode) {
                return;
            }
            _this.state.onTouchPan(_this, ev);
            _this.renderLayers(true, true);
        };
        _this.onTouchPress = function (ev) {
            if (!_this.touchMode) {
                return;
            }
        };
        _this.onTouchTap = function (ev) {
            if (!_this.touchMode) {
                return;
            }
            var hitStack = _this.getHitStack(ev.center);
            _this.state.onTouchTap(_this, ev, hitStack);
            _this.renderLayers(false, true);
        };
        _this.onTouchSwipe = function (ev) {
            if (!_this.touchMode) {
                return;
            }
        };
        _this.onTouchStart = function (ev) {
            _this.touchMode = true;
        };
        _this.onTouchEnd = function (ev) {
            _this.touchMode = false;
            ev.preventDefault();
        };
        _this.onTouchCancel = function (ev) {
            _this.touchMode = false;
        };
        var N = 5;
        _this.storageMgr = new index_1.StorageManager(storage);
        _this.dataService = dataService;
        _this.area = new index_4.BoardArea(container, _this._size);
        var start = new Date();
        start.setUTCHours(start.getUTCHours() - 2);
        var now = new Date();
        _this.timeRange = { start: start, end: now };
        _this.timeAxis = new TimeAxis_1.TimeAxis(interval, now, N, _this.area.chartLength);
        _this.timeAxis.loadingRange.on(_this.onLoadingRange);
        _this.timeAxisComponent = new TimeAxisComponent_1.TimeAxisComponent(_this.area, _this.timeAxis);
        _this.addChild(_this.timeAxisComponent);
        // Create main chart area.
        // Create empty store container as the asset pair is not set yet.
        var chartStack = new ChartStack_1.ChartStack(index_7.UidUtils.NEWUID(), _this.area, _this.timeAxis, true, _this.events, new index_1.StoreContainer(), _this);
        _this.chartStacks.push(chartStack);
        _this.addChild(chartStack);
        // tune touch events
        _this.ghostClickSuppressor = index_7.TouchUtils.PREVENT_GHOST_CLICK(_this.container);
        // Hook up event handlers
        //
        _this.hammer = new Hammer(container, {});
        _this.hammer.get('pinch').set({ enable: true });
        _this.hammer.on('pinch', _this.onTouchPinch);
        _this.hammer.on('pan', _this.onTouchPan);
        _this.hammer.on('tap', _this.onTouchTap);
        _this.hammer.on('press', _this.onTouchPress);
        _this.hammer.on('swipe', _this.onTouchSwipe);
        _this.container.addEventListener('DOMMouseScroll', _this.onMouseWheel, false);
        _this.container.addEventListener('mousewheel', _this.onMouseWheel, false);
        _this.container.addEventListener('mouseup', _this.onMouseUp, false);
        _this.container.addEventListener('mousedown', _this.onMouseDown, false);
        _this.container.addEventListener('mouseenter', _this.onMouseEnter, false);
        _this.container.addEventListener('mouseleave', _this.onMouseLeave, false);
        $(_this.container).mousemove(index_6.throttle(_this.onMouseMove, 10));
        $(_this.container).on('touchstart', _this.onTouchStart);
        $(_this.container).on('touchend', _this.onTouchEnd);
        $(_this.container).on('touchcancel', _this.onTouchCancel);
        // Go to default state
        _this.state = _this.stateFabric.getState('hover');
        return _this;
    }
    Object.defineProperty(ChartBoard.prototype, "selectionChanged", {
        // Public Events
        get: function () {
            return this.events.selectionChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "treeChanged", {
        get: function () {
            return this.events.treeChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "historyChanged", {
        get: function () {
            return this.events.historyChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "treeChangedEvt", {
        // -- End of "Public Events" --
        // TODO: Make internal, accessible only to States.
        get: function () {
            return this.events.treeChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "stacks", {
        get: function () {
            return this.chartStacks.slice();
        },
        enumerable: true,
        configurable: true
    });
    ChartBoard.prototype.getObjectById = function (uid) {
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var stack = _a[_i];
            if (stack.uid === uid) {
                return stack;
            }
            for (var _b = 0, _c = stack.charts; _b < _c.length; _b++) {
                var chart = _c[_b];
                if (chart.uid === uid) {
                    return chart;
                }
            }
            for (var _d = 0, _e = stack.figures; _d < _e.length; _d++) {
                var figure = _e[_d];
                if (figure.uid === uid) {
                    return figure;
                }
            }
        }
    };
    ChartBoard.prototype.getObjectSettings = function (uid) {
        var obj = this.getObjectById(uid);
        if (obj && obj.uid && obj.uid === uid && index_1.isConfigurable(obj)) {
            return obj.getSettings();
        }
    };
    ChartBoard.prototype.setObjectSettings = function (uid, settings) {
        var obj = this.getObjectById(uid);
        if (obj && obj.uid && obj.uid === uid && index_1.isConfigurable(obj)) {
            if (index_1.isStateful(obj)) {
                var state_1;
                this.push2history(new index_1.Command(function () {
                    state_1 = obj.getState();
                    obj.setSettings(settings);
                }, function () {
                    if (state_1) {
                        obj.restore(state_1);
                    }
                })
                    .execute());
            }
            else {
                obj.setSettings(settings);
            }
        }
    };
    ChartBoard.prototype.removeObject = function (uid) {
        var stack = this.chartStacks.filter(function (s) { return s.contains(uid); })[0];
        if (stack) {
            var state_2;
            this.push2history(new index_1.Command(function () {
                state_2 = stack.getState();
                stack.removeFigure(uid);
            }, function () {
                if (state_2) {
                    stack.restore(state_2);
                }
            })
                .execute());
        }
        this.events.treeChanged.trigger();
        this.renderLayers(false, true);
    };
    ChartBoard.prototype.moveUp = function (uid) {
        var stack = this.chartStacks.filter(function (s) { return s.contains(uid); })[0];
        if (stack) {
            var state_3;
            this.push2history(new index_1.Command(function () {
                state_3 = stack.getState();
                stack.moveUp(uid);
            }, function () {
                if (state_3) {
                    stack.restore(state_3);
                }
            })
                .execute());
        }
        this.renderLayers(false, true);
    };
    ChartBoard.prototype.moveDown = function (uid) {
        var stack = this.chartStacks.filter(function (s) { return s.contains(uid); })[0];
        if (stack) {
            var state_4;
            this.push2history(new index_1.Command(function () {
                state_4 = stack.getState();
                stack.moveDown(uid);
            }, function () {
                if (state_4) {
                    stack.restore(state_4);
                }
            })
                .execute());
        }
        this.renderLayers(false, true);
    };
    ChartBoard.prototype.moveTop = function (uid) {
        var stack = this.chartStacks.filter(function (s) { return s.contains(uid); })[0];
        if (stack) {
            var state_5;
            this.push2history(new index_1.Command(function () {
                state_5 = stack.getState();
                stack.moveTop(uid);
            }, function () {
                if (state_5) {
                    stack.restore(state_5);
                }
            })
                .execute());
        }
        this.renderLayers(false, true);
    };
    ChartBoard.prototype.moveBottom = function (uid) {
        var stack = this.chartStacks.filter(function (s) { return s.contains(uid); })[0];
        if (stack) {
            var state_6;
            this.push2history(new index_1.Command(function () {
                state_6 = stack.getState();
                stack.moveBottom(uid);
            }, function () {
                if (state_6) {
                    stack.restore(state_6);
                }
            })
                .execute());
        }
        this.renderLayers(false, true);
    };
    ChartBoard.prototype.addChart = function (uid, name, chartType, dataSource) {
        // Preload data range
        dataSource.loadRange(this.timeAxis.range.start, this.timeAxis.range.end);
        // TODO: Store original datasource
        var ctx = this.createContext(this.dataService);
        dataSource = index_2.DataSourceFactory.CREATE(chartType, dataSource, this.timeRange, ctx);
        this.dataSourceRegister.register(uid, dataSource);
        this.insertChart(uid, name, chartType, dataSource);
        // re-render charts
        this.render();
    };
    ChartBoard.prototype.insertChart = function (uid, name, chartType, dataSource) {
        this.dataSources[uid] = dataSource;
        // add event handlers
        dataSource.dataChanged.on(this.onDataChanged);
        this.chartStacks[0].addChart(uid, name, chartType, dataSource);
    };
    ChartBoard.prototype.deleteChart = function (uid) {
        // get data source
        var dataSource = this.dataSources[uid];
        if (dataSource) {
            dataSource.dataChanged.off(this.onDataChanged);
            // TODO: Chart can be not only on first stack
            this.chartStacks[0].removeChart(uid);
        }
        // // re-render charts
        // this.render();
    };
    ChartBoard.prototype.setDataSource = function (uid, name, chartType, dataSource) {
        var _this = this;
        this.originalDataSource = dataSource;
        this.originalUid = uid;
        this.originalName = name;
        var ctx = this.createContext(this.dataService);
        dataSource = index_2.DataSourceFactory.CREATE(chartType, dataSource, this.timeRange, ctx);
        this.timeAxis.setDataSource(dataSource);
        var stackStorage = this.getStackStorage(uid, 0);
        this.chartStacks[0].setStore(stackStorage);
        // replace primary data source
        this.deleteChart('primary-data-source');
        this.insertChart('primary-data-source', name, chartType, dataSource);
        this.primaryDataSource = dataSource;
        // remove existing indicators and recreate on base of new data source.
        this.indicatorDescriptions.forEach(function (array, stackIndex) {
            array.forEach(function (desc, index) {
                _this.deleteIndicator(desc.uid);
                _this.insertIndicator(desc.uid, desc.indicatorType, stackIndex);
            });
        });
        // re-render charts
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.setChartType = function (chartType) {
        if (this.originalDataSource) {
            this.setDataSource(this.originalUid, this.originalName, chartType, this.originalDataSource); // keep figures
            // this.removeChart('primary-data-source');
            // this.addChart<Candlestick>('primary-data-source', chartType, this.primaryDataSource);
        }
        // TODO: Remove existing indicators and recreate on base of new data source.
    };
    ChartBoard.prototype.setTimeRange = function (range) {
        this.timeRange = range;
        this.primaryDataSource.setTimeRange(range);
        // for (const uid of Object.keys(this.dataSources)) {
        //     const ext = this.extensions[uid];
    };
    ChartBoard.prototype.addIndicator = function (uid, indicatorType, index) {
        if (!this.primaryDataSource) {
            throw new Error('Primary data source is not set');
        }
        this.insertIndicator(uid, indicatorType, index);
        // Update indicator's description
        var arr = this.indicatorDescriptions[index];
        if (!arr) {
            this.indicatorDescriptions[index] = [];
        }
        this.indicatorDescriptions[index].push(new IndicatorDescription(uid, indicatorType));
        // recalculate size of all elements
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.removeIndicator = function (uid) {
        if (!uid || !this.indicators[uid]) {
            return;
        }
        this.deleteIndicator(uid);
        // remove indicator's description
        this.indicatorDescriptions.some(function (value, index, array) {
            return value.some(function (v, i, a) {
                if (v.uid === uid) {
                    a.splice(i, 1);
                    return true;
                }
                return false;
            });
        });
        // recalculate size of all elements
        this.resize(this._size.width, this._size.height);
        this.render();
    };
    ChartBoard.prototype.insertIndicator = function (uid, indicatorType, index) {
        // Create indicator
        //
        var ctx = this.createContext(this.dataService);
        var indicatorDataSource = index_3.IndicatorFabric.instance.instantiate(indicatorType, this.primaryDataSource, ctx);
        this.indicators[uid] = indicatorDataSource;
        indicatorDataSource.dataChanged.on(this.onDataChanged);
        // Update stack. Use existing or add new one.
        //
        var chartStack;
        if (index >= 0 && index < this.chartStacks.length) {
            chartStack = this.chartStacks[index];
        }
        else {
            index = this.chartStacks.length;
            var stackStorage = this.getStackStorage(this.originalUid, index);
            chartStack = new ChartStack_1.ChartStack(index_7.UidUtils.NEWUID(), this.area, this.timeAxis, true, this.events, stackStorage);
            this.chartStacks.push(chartStack);
            this.addChild(chartStack);
        }
        chartStack.addChart(uid, indicatorType, indicatorType, indicatorDataSource);
    };
    ChartBoard.prototype.deleteIndicator = function (uid) {
        var _this = this;
        // remove indicator from board
        // ... find stack
        this.chartStacks.some(function (cs, stackIndex) {
            if (cs.chartIds.indexOf(uid) !== -1) {
                cs.removeChart(uid);
                // If chart stack is empty remove it. Do not remove first stack.
                if (stackIndex !== 0 && cs.chartIds.length === 0) {
                    cs.dispose();
                    _this.chartStacks.splice(stackIndex, 1);
                    _this.removeChild(cs);
                }
                return true;
            }
            return false;
        });
        // remove indicator
        //
        var indicator = this.indicators[uid];
        // ... unsubscribe from events
        indicator.dataChanged.off(this.onDataChanged);
        // ... dispose indicator
        indicator.dispose();
        //this.indicators[uid] = undefined;
    };
    ChartBoard.prototype.getStackStorage = function (assetId, stackIndex) {
        var assets = this.storageMgr.root().getObjectProperty('assets');
        var asset = assets.getObjectProperty(assetId);
        var stacks = asset.getArrayProperty('stacks');
        var arrayStacks = stacks.asArray();
        return arrayStacks.length > 0 ? arrayStacks[0] : stacks.addItem();
    };
    ChartBoard.prototype.render = function () {
        this.renderLayers(true, true);
    };
    ChartBoard.prototype.renderLayers = function (renderBase, renderFront) {
        renderBase = renderBase === undefined ? true : renderBase;
        renderFront = renderFront === undefined ? true : renderFront;
        if (renderBase) {
            this.area.clearBase();
        }
        if (renderFront) {
            this.area.clearFront();
        }
        // Mouse position
        var relMouse = this.mouse.isEntered ? this.mouse.pos.sub(this.offset) : undefined;
        // Render stacks
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var cStack = _a[_i];
            // Prepare rendering objects: locator and context.
            var context_1 = new index_1.VisualContext(renderBase, renderFront);
            cStack.render(context_1, index_5.RenderLocator.Instance);
        }
        // Render time axis
        var context = new index_1.VisualContext(renderBase, renderFront);
        this.timeAxisComponent.render(context, index_5.RenderLocator.Instance);
        // Swap render layers
        this.area.render();
    };
    ChartBoard.prototype.resize = function (w, h) {
        w = Math.max(w, 100);
        h = Math.max(h, 50);
        this._size = { width: w, height: h };
        this.area.resize(w, h);
        this.timeAxis.width = this.area.chartLength;
    };
    ChartBoard.prototype.setTimeInterval = function (interval) {
        if (interval) {
            this.timeAxis.interval = interval;
        }
    };
    ChartBoard.prototype.createContext = function (dataService) {
        var _this = this;
        var self = this;
        return {
            addInterval: this.addInterval,
            interval: function () { return _this.timeAxis.interval; },
            getCandle: function (asset, date, interval) {
                if (dataService) {
                    return dataService.getCandle(asset, date, interval);
                }
                return new Promise(function (resolve) {
                    resolve(undefined);
                });
            },
            render: function () { self.render(); },
            register: this.dataSourceRegister
        };
    };
    ChartBoard.prototype.moveX = function (diffX) {
        this.timeAxis.move(diffX);
    };
    ChartBoard.prototype.getHitStack = function (hit) {
        var localX = hit.x - this.offset.x;
        var localY = hit.y - this.offset.y;
        for (var _i = 0, _a = this.chartStacks; _i < _a.length; _i++) {
            var cStack = _a[_i];
            var relativeX = localX - cStack.offset.x;
            var relativeY = localY - cStack.offset.y;
            if (relativeX >= 0 && relativeX < cStack.size.width
                && relativeY >= 0 && relativeY < cStack.size.height) {
                return cStack;
            }
        }
    };
    ChartBoard.prototype.setCursor = function (style) {
        //this.area.setCursor(style);
        this.container.style.setProperty('cursor', style);
    };
    Object.defineProperty(ChartBoard.prototype, "drawing", {
        get: function () {
            return this;
        },
        enumerable: true,
        configurable: true
    });
    ChartBoard.prototype.start = function (figureId) {
        this.changeState(figureId);
    };
    ChartBoard.prototype.cancel = function () {
        this.changeState('hover');
    };
    ChartBoard.prototype.changeState = function (state, activationParameters) {
        var stateInstance;
        if (Interfaces_1.isStateController(state)) {
            stateInstance = state;
        }
        else if (typeof state === 'string') {
            stateInstance = this.stateFabric.getState(state);
        }
        if (!stateInstance) {
            throw new Error("State is not defined for the specified stateId '" + state + "'");
        }
        var hitStack = this.getHitStack(this.mouse.pos);
        this.state.deactivate(this, this.mouse);
        this.state = stateInstance;
        this.state.activate(this, this.mouse, hitStack, activationParameters);
        this.ignoreNextMove = false;
    };
    /**
     * "IChartBoard" implementation
     */
    ChartBoard.prototype.select = function (component) {
        if (component) {
            if (Interfaces_1.isSelectable(component)) {
                component.setSelected(true);
            }
        }
        // TODO: Pass events to state instances
        this.events.selectionChanged.trigger(new index_1.ObjectEventArgument(component));
    };
    /**
     * "ISource" implementation. Works with primary data source.
     */
    ChartBoard.prototype.getHHLL = function (uidFrom, uidTo) {
        if (this.primaryDataSource) {
            return this.primaryDataSource.getHHLL(uidFrom, uidTo);
        }
    };
    ChartBoard.prototype.getLastCandle = function () {
        if (this.primaryDataSource) {
            return this.primaryDataSource.getLastCandle();
        }
    };
    ChartBoard.prototype.destroy = function () {
        if (this.hammer) {
            this.hammer.destroy();
        }
        if (this.ghostClickSuppressor) {
            this.ghostClickSuppressor.destroy();
        }
        this.isDestroyed = true;
    };
    Object.defineProperty(ChartBoard.prototype, "history", {
        get: function () {
            return this;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartBoard.prototype, "length", {
        /**
         * "IHistory" implementation
         */
        get: function () {
            return this.commands.length;
        },
        enumerable: true,
        configurable: true
    });
    ChartBoard.prototype.push2history = function (cmd) {
        this.commands.push(cmd);
        this.events.historyChanged.trigger();
    };
    ChartBoard.prototype.undo = function () {
        var cmd = this.commands.pop();
        if (cmd) {
            cmd.undo();
            this.events.historyChanged.trigger();
        }
    };
    return ChartBoard;
}(index_1.VisualComponent));
exports.ChartBoard = ChartBoard;
var CommandHistory = (function () {
    function CommandHistory() {
        this.commands = [];
    }
    Object.defineProperty(CommandHistory.prototype, "length", {
        get: function () {
            return this.commands.length;
        },
        enumerable: true,
        configurable: true
    });
    CommandHistory.prototype.push = function (cmd) {
        this.commands.push(cmd);
    };
    CommandHistory.prototype.pop = function () {
        return this.commands.pop();
    };
    return CommandHistory;
}());
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/index":56,"../data/index":74,"../indicator/index":138,"../layout/index":143,"../render/index":166,"../shared/index":170,"../utils/index":180,"./ChartStack":22,"./Interfaces":27,"./StateFabric":34,"./TimeAxis":36,"./TimeAxisComponent":37}],22:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ChartStack class.
 */
var index_1 = require("../axes/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var Chart_1 = require("./Chart");
var Crosshair_1 = require("./Crosshair");
var FigureComponent_1 = require("./FigureComponent");
var FigureFactory_1 = require("./FigureFactory");
var Grid_1 = require("./Grid");
var NumberAxisComponent_1 = require("./NumberAxisComponent");
var PriceAxisComponent_1 = require("./PriceAxisComponent");
var Quicktip_1 = require("./Quicktip");
var ChartStack = (function (_super) {
    __extends(ChartStack, _super);
    function ChartStack(uid, boardArea, timeAxis, yIsPrice, events, store, source) {
        var _this = _super.call(this, undefined, undefined, uid) || this;
        _this._charts = [];
        _this._precision = 0;
        _this.onresize = function (arg) {
            _a = [_this.area.offset.x, _this.area.offset.y], _this._offset.x = _a[0], _this._offset.y = _a[1];
            var w = _this.area.size.width;
            var h = _this.area.size.height;
            // Instead of default resize using custom resizing
            _this._size = { width: w, height: h };
            var axisSize = _this.getAxisSize(_this._size);
            _this.yAxis.length = axisSize.height;
            _this.yAxisComponent.resize(axisSize.width, axisSize.height);
            for (var _i = 0, _b = _this._children; _i < _b.length; _i++) {
                var vc = _b[_i];
                vc.resize(w, h);
            }
            _this.crosshair.resize(w, h);
            _this.grid.resize(w, h);
            var _a;
            // resize self and all children
            //super.resize(w, h);
        };
        _this.settings = new ChartStackSettings();
        _this.boardArea = boardArea;
        _this.tAxis = timeAxis;
        _this.events = events;
        _this.store = store;
        _this.source = source;
        _this.area = boardArea.addChart();
        _this.area.sizeChanged.on(_this.onresize);
        _this._offset = new index_3.Point(_this.area.offset.x, _this.area.offset.y);
        _this._size = _this.area.size;
        _this.qtBuilder = new Quicktip_1.QuicktipBuilder(_this.area.qtipContainer);
        // create Y axis
        //
        var p = { x: 0, y: 0 };
        var size = _this.getAxisSize(_this._size);
        if (yIsPrice) {
            _this.yAxis = new index_1.PriceAxis(size.height, 0.0001);
            _this.yAxisComponent = new PriceAxisComponent_1.PriceAxisComponent(_this.area, _this.yAxis, p, size, _this);
        }
        else {
            _this.yAxis = new index_1.NumberAxis(size.height, 0.0001);
            _this.yAxisComponent = new NumberAxisComponent_1.NumberAxisComponent(_this.area, _this.yAxis, p, size, _this);
        }
        _this.addChild(_this.yAxisComponent);
        // create crosshair
        // TODO: this._size = chart size + YAxis.size
        _this.crosshair = new Crosshair_1.Crosshair(_this.area, { x: 0, y: 0 }, _this._size, _this.tAxis);
        _this.addChild(_this.crosshair);
        // add grid
        // TODO: this._size = chart size + YAxis.size
        _this.grid = new Grid_1.Grid(_this.area, { x: 0, y: 0 }, _this._size, _this.tAxis, _this.yAxis);
        _this.addChild(_this.grid);
        _this.figureContainer = new FigureContainer(_this._offset, _this._size, _this.area, _this.tAxis, _this.yAxis, _this, _this.store.getArrayProperty('figures'), _this.source);
        _this.addChild(_this.figureContainer);
        _this.applySettings();
        return _this;
    }
    Object.defineProperty(ChartStack.prototype, "precision", {
        get: function () {
            return this._precision;
        },
        enumerable: true,
        configurable: true
    });
    ChartStack.prototype.getAxisSize = function (size) {
        return { width: size.width, height: size.height > 20 ? size.height - 20 : size.height };
    };
    /**
     * Removes chart area
     */
    ChartStack.prototype.dispose = function () {
        this.area.sizeChanged.off(this.onresize);
        this.boardArea.remove(this.area);
    };
    Object.defineProperty(ChartStack.prototype, "chartIds", {
        /**
         * Returns contained charts' identifiers.
         */
        get: function () {
            return this._charts.map(function (c) { return c.uid; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartStack.prototype, "charts", {
        get: function () {
            return this._charts.slice();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ChartStack.prototype, "figures", {
        get: function () {
            return this.figureContainer.children
                .filter(function (el) { return (el instanceof FigureComponent_1.FigureComponent); })
                .map(function (vc) { return vc; });
        },
        enumerable: true,
        configurable: true
    });
    ChartStack.prototype.contains = function (uid) {
        return this.figureContainer.contains(uid);
    };
    ChartStack.prototype.addChart = function (uid, name, chartType, dataSource) {
        var qtip = this.qtBuilder.addQuicktip(uid);
        var newChart = new Chart_1.Chart(uid, name, chartType, this.area, this.tAxis, new index_3.Point(0, 0), this.size, dataSource, this.yAxis, qtip);
        this._charts.push(newChart);
        this.addChild(newChart);
        this.updateChartingSettings();
    };
    ChartStack.prototype.removeChart = function (uid) {
        for (var i = 0; i < this._charts.length; i += 1) {
            if (this._charts[i].uid === uid) {
                this.removeChild(this._charts[i]);
                this._charts.splice(i, 1);
            }
        }
        this.qtBuilder.removeQuicktip(uid);
        this.updateChartingSettings();
    };
    ChartStack.prototype.addFigure = function (figureType) {
        return this.figureContainer.addFigure(figureType);
    };
    ChartStack.prototype.removeFigure = function (uid) {
        this.figureContainer.removeFigure(uid);
    };
    ChartStack.prototype.moveUp = function (uid) {
        this.figureContainer.moveUp(uid);
    };
    ChartStack.prototype.moveDown = function (uid) {
        this.figureContainer.moveDown(uid);
    };
    ChartStack.prototype.moveTop = function (uid) {
        this.figureContainer.moveTop(uid);
    };
    ChartStack.prototype.moveBottom = function (uid) {
        this.figureContainer.moveBottom(uid);
    };
    ChartStack.prototype.getState = function () {
        return this.store.serialize();
    };
    ChartStack.prototype.restore = function (state) {
        this.store.deserialize(state);
        this.figureContainer.setStore(this.store.getArrayProperty('figures'));
    };
    ChartStack.prototype.setStore = function (store) {
        this.store = store;
        this.figureContainer.setStore(store.getArrayProperty('figures'));
    };
    // TODO: Rename
    ChartStack.prototype.mouseToCoords = function (localX, localY) {
        throw new Error('Not implemented');
    };
    ChartStack.prototype.toX = function (value) {
        return this.tAxis.toX(value);
    };
    ChartStack.prototype.xToValue = function (x) {
        return this.tAxis.toValue(x);
    };
    ChartStack.prototype.toY = function (value) {
        return this.yAxis.toX(value);
    };
    ChartStack.prototype.yToValue = function (y) {
        return this.yAxis.toValue(y);
    };
    ChartStack.prototype.toXY = function (point) {
        if (point.uid && point.v !== undefined) {
            var x = this.toX(point.uid);
            var y = this.toY(point.v);
            return x !== undefined ? { x: x, y: y } : undefined;
        }
    };
    ChartStack.prototype.xyToValue = function (point) {
        return {
            uid: this.xToValue(point.x),
            v: this.yToValue(point.y)
        };
    };
    ChartStack.prototype.setFixedRange = function (range) {
        this._fixedRange = range;
    };
    ChartStack.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            // 1. Update y axis before rendering charts
            if (this._fixedRange) {
                this.yAxis.range = this._fixedRange;
            }
            else {
                //
                // TODO: Make DataSource.DefaultYRange or take last known data:
                var yRange = { start: Number.MAX_VALUE, end: Number.MIN_VALUE };
                for (var _i = 0, _a = this._charts; _i < _a.length; _i++) {
                    var chart = _a[_i];
                    var valuesRange = chart.getValuesRange(this.tAxis.range);
                    if (valuesRange.end > yRange.end) {
                        yRange.end = valuesRange.end;
                    }
                    if (valuesRange.start < yRange.start) {
                        yRange.start = valuesRange.start;
                    }
                }
                if (this._charts.length > 0) {
                    this.yAxis.range = yRange;
                }
                else {
                    this.yAxis.range = { start: 0, end: 100 }; // default values
                }
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    ChartStack.prototype.getSettings = function () {
        var settings = new index_2.SettingSet({ name: 'stacksettings', group: true });
        settings.setSetting('showGrid', new index_2.SettingSet({
            name: 'showGrid',
            displayName: 'Show grid',
            settingType: index_2.SettingType.check,
            value: this.settings.showGrid.toString()
        }));
        return settings;
    };
    ChartStack.prototype.setSettings = function (value) {
        var showGrid = value.getSetting('stacksettings.showGrid');
        if (showGrid) {
            this.settings.showGrid = (showGrid.value === 'true');
        }
        this.applySettings();
    };
    ChartStack.prototype.applySettings = function () {
        this.grid.visible = this.settings.showGrid;
    };
    ChartStack.prototype.updateChartingSettings = function () {
        // select maximum precision among data sources
        this._precision = 0;
        for (var _i = 0, _a = this._charts; _i < _a.length; _i++) {
            var chart = _a[_i];
            this._precision = Math.max(this._precision, chart.precision);
        }
    };
    return ChartStack;
}(index_2.VisualComponent));
exports.ChartStack = ChartStack;
/**
 * Auxillary class for storing and managing figures inside chart stack.
 */
var FigureContainer = (function (_super) {
    __extends(FigureContainer, _super);
    function FigureContainer(offset, size, area, tAxis, yAxis, chartSettings, store, source) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.tAxis = tAxis;
        _this.yAxis = yAxis;
        _this.chartSettings = chartSettings;
        _this.store = store;
        _this.source = source;
        return _this;
    }
    FigureContainer.prototype.contains = function (uid) {
        return this._children.some(function (vc) {
            return (vc instanceof FigureComponent_1.FigureComponent && vc.uid === uid);
        });
    };
    FigureContainer.prototype.addFigure = function (figureType) {
        var figures = this.store;
        var figureDesc = figures.addItem();
        var figureContainer = figureDesc.getObjectProperty('figure');
        var figure = this.createFigure(figureType, figureContainer);
        figureDesc.setProperty('type', figureType);
        return figure;
    };
    FigureContainer.prototype.removeFigure = function (uid) {
        // Remove from storage
        //
        var figures = this.store;
        figures.remove(function (sc) {
            return uid === sc.getProperty('figure.uid');
        });
        // Remove form list and trigger change event
        //
        var index = -1;
        this._children.forEach(function (vc, i) {
            if (vc instanceof FigureComponent_1.FigureComponent && vc.uid === uid) {
                index = i;
            }
        });
        if (index !== -1) {
            this._children.splice(index, 1);
            return true;
        }
        else {
            return false;
        }
    };
    FigureContainer.prototype.moveUp = function (uid) {
        var i = this.store.indexOf(function (el) { return uid === el.getProperty('figure.uid'); });
        if (i !== -1) {
            this.store.shift(i, 1);
            index_4.ArrayUtils.SHIFT(this._children, i, 1);
        }
    };
    FigureContainer.prototype.moveDown = function (uid) {
        var i = this.store.indexOf(function (el) { return uid === el.getProperty('figure.uid'); });
        if (i !== -1) {
            this.store.shift(i, -1);
            index_4.ArrayUtils.SHIFT(this._children, i, -1);
        }
    };
    FigureContainer.prototype.moveTop = function (uid) {
        var i = this.store.indexOf(function (el) { return uid === el.getProperty('figure.uid'); });
        if (i !== -1) {
            this.store.shift(i, Infinity);
            index_4.ArrayUtils.SHIFT(this._children, i, Infinity);
        }
    };
    FigureContainer.prototype.moveBottom = function (uid) {
        var i = this.store.indexOf(function (el) { return uid === el.getProperty('figure.uid'); });
        if (i !== -1) {
            this.store.shift(i, -Infinity);
            index_4.ArrayUtils.SHIFT(this._children, i, -Infinity);
        }
    };
    FigureContainer.prototype.createFigure = function (figureType, container) {
        var figure = FigureFactory_1.FigureFactory.instance
            .instantiate(figureType, this.area, { x: 0, y: 0 }, this.size, this.chartSettings, this.tAxis, this.yAxis, container, this.source);
        this.addChild(figure); // to the end
        return figure;
    };
    FigureContainer.prototype.setStore = function (store) {
        this.store = store;
        this.reloadFigures();
    };
    FigureContainer.prototype.reloadFigures = function () {
        // remove figures
        this._children = this._children.filter(function (value, index, array) {
            return !(value instanceof FigureComponent_1.FigureComponent);
        });
        var figures = this.store;
        for (var _i = 0, _a = figures.asArray(); _i < _a.length; _i++) {
            var figureDesc = _a[_i];
            // add figure
            var figureType = figureDesc.getProperty('type');
            var figureContainer = figureDesc.getObjectProperty('figure');
            this.createFigure(figureType, figureContainer);
        }
    };
    return FigureContainer;
}(index_2.VisualComponent));
var ChartStackSettings = (function () {
    function ChartStackSettings() {
        this.showGrid = true;
    }
    return ChartStackSettings;
}());
},{"../axes/index":16,"../core/index":56,"../shared/index":170,"../utils/index":180,"./Chart":20,"./Crosshair":23,"./FigureComponent":24,"./FigureFactory":25,"./Grid":26,"./NumberAxisComponent":28,"./PriceAxisComponent":31,"./Quicktip":33}],23:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Crosshair class.
 */
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var Crosshair = (function (_super) {
    __extends(Crosshair, _super);
    function Crosshair(area, offset, size, axis) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.axis = axis;
        return _this;
    }
    Crosshair.prototype.handleMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handleMouse.call(this, relX, relY);
    };
    Crosshair.prototype.render = function (context, renderLocator) {
        if (!context.renderFront) {
            // only render on front
            return;
        }
        if (this.mouse) {
            // ... calculate mouse position related to this element
            var mouseX = this.mouse.x;
            var mouseY = this.mouse.y;
            var uid = this.axis.toValue(mouseX);
            if (uid !== undefined) {
                var newX = this.axis.toX(uid);
                var render = renderLocator.getCrosshairRender();
                render.render(this.area.frontCanvas, { x: newX, y: mouseY }, this.size);
            }
        }
    };
    return Crosshair;
}(index_1.VisualComponent));
exports.Crosshair = Crosshair;
},{"../core/index":56,"../shared/index":170}],24:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Class FigureComponent
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var FigureComponent = (function (_super) {
    __extends(FigureComponent, _super);
    function FigureComponent(name, offset, size, container) {
        var _this = _super.call(this, offset, size, (container && container.getProperty('uid')) ? container.getProperty('uid') : index_2.UidUtils.NEWUID(), name) || this;
        _this.container = container;
        _this.isHovered = false;
        _this.isSelected = false;
        container.setProperty('uid', _this._uid);
        return _this;
    }
    FigureComponent.prototype.setHovered = function (hovered) {
        this.isHovered = hovered;
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var vc = _a[_i];
            if (vc instanceof FigureComponent) {
                vc.setHovered(hovered);
            }
        }
    };
    FigureComponent.prototype.getSelected = function () {
        return this.isSelected;
    };
    FigureComponent.prototype.setSelected = function (selected) {
        this.isSelected = selected;
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var vc = _a[_i];
            if (vc instanceof FigureComponent) {
                vc.setSelected(selected);
            }
        }
    };
    /**
     * "IStateful" implementation
     */
    FigureComponent.prototype.getState = function () {
        return this.container.serialize();
    };
    FigureComponent.prototype.restore = function (state) {
        this.container.deserialize(state);
    };
    return FigureComponent;
}(index_1.VisualComponent));
exports.FigureComponent = FigureComponent;
},{"../core/index":56,"../utils/index":180}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FigureType = (function () {
    function FigureType() {
    }
    return FigureType;
}());
FigureType.curve = 'curve';
FigureType.line = 'line';
FigureType.hline = 'hline';
FigureType.vline = 'vline';
FigureType.rect = 'rect';
FigureType.triangle = 'triangle';
FigureType.path = 'path';
FigureType.pitchfork = 'pitchfork';
FigureType.text = 'text';
FigureType.ellipse = 'ellipse';
FigureType.trendchannel = 'trendchannel';
FigureType.daterange = 'daterange';
FigureType.fibofan = 'fibofan';
FigureType.fibolevel = 'fibolevel';
FigureType.fiboprojection = 'fiboprojection';
FigureType.fibotimeprojection = 'fibotimeprojection';
FigureType.gannfan = 'gannfan';
FigureType.ohlcproj = 'ohlcproj';
exports.FigureType = FigureType;
var FigureFactory = (function () {
    function FigureFactory() {
        this.ctors = {};
    }
    Object.defineProperty(FigureFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new FigureFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    FigureFactory.prototype.register = function (indicatorId, creator) {
        this.ctors[indicatorId] = creator;
    };
    FigureFactory.prototype.instantiate = function (figureType, area, offset, size, settings, tcoord, vcoord, container, source) {
        var ctor = this.ctors[figureType];
        if (ctor) {
            return new ctor(area, offset, size, settings, tcoord, vcoord, container, source);
        }
        else {
            throw new Error("Indicator with id=" + figureType + " is not registered.");
        }
    };
    return FigureFactory;
}());
exports.FigureFactory = FigureFactory;
},{}],26:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Grid class.
 */
var index_1 = require("../core/index");
var Grid = (function (_super) {
    __extends(Grid, _super);
    function Grid(area, offset, size, timeAxis, yAxis) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.timeAxis = timeAxis;
        _this.yAxis = yAxis;
        return _this;
    }
    Grid.prototype.render = function (context, renderLocator) {
        if (context.renderBase && this.visible) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getGridRender();
            render.render(this.area.baseCanvas, { x: 0, y: 0, w: this.size.width, h: this.size.height }, this.timeAxis, this.yAxis);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    return Grid;
}(index_1.VisualComponent));
exports.Grid = Grid;
},{"../core/index":56}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function isSelectable(obj) {
    return obj.setSelected !== undefined;
}
exports.isSelectable = isSelectable;
function isHoverable(obj) {
    return obj.isHit !== undefined
        && obj.setHovered !== undefined;
}
exports.isHoverable = isHoverable;
function isEditable(obj) {
    return obj.getEditState !== undefined;
}
exports.isEditable = isEditable;
function isStateController(obj) {
    return obj.activate !== undefined
        && obj.deactivate !== undefined;
}
exports.isStateController = isStateController;
},{}],28:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var NumberMarker_1 = require("./NumberMarker");
var NumberAxisComponent = (function (_super) {
    __extends(NumberAxisComponent, _super);
    function NumberAxisComponent(chartArea, numberAxis, offset, size, settings) {
        var _this = _super.call(this, offset, size) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
        };
        _this.getMarkPos = function (ctx, size) {
            if (_this.mouse) {
                return (_this.mouse.y > 0 && _this.mouse.y < _this.size.height) ? _this.axis.toValue(_this.mouse.y) : undefined;
            }
        };
        _this.axis = numberAxis;
        _this.area = chartArea.getYArea();
        _this.area.sizeChanged.on(_this.onresize);
        var priceMarker = new NumberMarker_1.NumberMarker(_this.area, { x: 0, y: 0 }, size, numberAxis, settings, _this.getMarkPos);
        _this.addChild(priceMarker);
        return _this;
    }
    NumberAxisComponent.prototype.handleMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handleMouse.call(this, relX, relY);
    };
    NumberAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getAxesRender('number');
            render.render(this.area.baseCanvas, this.axis, { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height });
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    return NumberAxisComponent;
}(index_1.VisualComponent));
exports.NumberAxisComponent = NumberAxisComponent;
},{"../core/index":56,"../shared/index":170,"./NumberMarker":29}],29:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var NumberMarker = (function (_super) {
    __extends(NumberMarker, _super);
    function NumberMarker(area, offset, size, yaxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.yaxis = yaxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    NumberMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var render = renderLocator.getMarkRender('number');
            var y = this.yaxis.toX(value);
            render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision);
        }
    };
    return NumberMarker;
}(index_1.VisualComponent));
exports.NumberMarker = NumberMarker;
},{"../core/index":56}],30:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var NumberRegionMarker = (function (_super) {
    __extends(NumberRegionMarker, _super);
    function NumberRegionMarker(area, offset, size, yaxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.yaxis = yaxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    NumberRegionMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            //const render = <IMarkRender<number>>renderLocator.getMarkRender('number');
            var y1 = this.yaxis.toX(value.start);
            var y2 = this.yaxis.toX(value.end);
            //render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision());
            var canvas = this.area.frontCanvas;
            canvas.fillStyle = 'rgba(190, 230, 255, 0.3)';
            canvas.fillRect(0, Math.min(y1, y2), this.size.width, Math.abs(y2 - y1));
        }
    };
    return NumberRegionMarker;
}(index_1.VisualComponent));
exports.NumberRegionMarker = NumberRegionMarker;
},{"../core/index":56}],31:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var PriceMarker_1 = require("./PriceMarker");
var PriceAxisComponent = (function (_super) {
    __extends(PriceAxisComponent, _super);
    function PriceAxisComponent(chartArea, priceAxis, offset, size, settings) {
        var _this = _super.call(this, offset, size) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
        };
        _this.getMarkPos = function (ctx, size) {
            if (_this.mouse) {
                return (_this.mouse.y > 0 && _this.mouse.y < _this.size.height) ? _this.axis.toValue(_this.mouse.y) : undefined;
            }
        };
        _this.axis = priceAxis;
        _this.area = chartArea.getYArea();
        _this.area.sizeChanged.on(_this.onresize);
        var priceMarker = new PriceMarker_1.PriceMarker(_this.area, { x: 0, y: 0 }, size, priceAxis, settings, _this.getMarkPos);
        _this.addChild(priceMarker);
        return _this;
    }
    PriceAxisComponent.prototype.handleMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handleMouse.call(this, relX, relY);
    };
    PriceAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            var render = renderLocator.getAxesRender('price');
            render.render(this.area.baseCanvas, this.axis, { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height });
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    return PriceAxisComponent;
}(index_1.VisualComponent));
exports.PriceAxisComponent = PriceAxisComponent;
},{"../core/index":56,"../shared/index":170,"./PriceMarker":32}],32:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var PriceMarker = (function (_super) {
    __extends(PriceMarker, _super);
    function PriceMarker(area, offset, size, axis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.axis = axis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    PriceMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var render = renderLocator.getMarkRender('number');
            var y = this.axis.toX(value);
            render.render(this.area.frontCanvas, value, { x: 0, y: y }, this.size, this.settings.precision);
        }
    };
    return PriceMarker;
}(index_1.VisualComponent));
exports.PriceMarker = PriceMarker;
},{"../core/index":56}],33:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var QuicktipBuilder = (function () {
    function QuicktipBuilder(container) {
        this.items = {};
        this.container = container;
    }
    QuicktipBuilder.prototype.addQuicktip = function (uid) {
        var div = document.createElement('div');
        //div.style.setProperty('data-uid', 'uid');
        this.container.appendChild(div);
        var qt = new Quicktip(div);
        this.items[uid] = qt;
        return qt;
    };
    QuicktipBuilder.prototype.removeQuicktip = function (uid) {
        var removedElement = this.items[uid];
        if (removedElement) {
            this.items[uid] = undefined;
            this.container.removeChild(removedElement.container);
        }
    };
    return QuicktipBuilder;
}());
exports.QuicktipBuilder = QuicktipBuilder;
var Quicktip = (function () {
    function Quicktip(container) {
        this._container = container;
    }
    Object.defineProperty(Quicktip.prototype, "container", {
        get: function () {
            return this._container;
        },
        enumerable: true,
        configurable: true
    });
    Quicktip.prototype.addTextBlock = function (uid, text) {
        var div = document.createElement('div');
        div.setAttribute('data-uid', uid);
        div.style.setProperty('display', 'inline');
        div.style.setProperty('margin-right', '5px');
        div.innerText = text;
        this._container.appendChild(div);
    };
    Quicktip.prototype.removeTextBlock = function (uid) {
        var nodes = this.container.getElementsByTagName('div');
        for (var i = 0; i < nodes.length; i += 1) {
            var el = nodes[i];
            var attr = el.getAttribute('data-uid');
            if (attr && attr === uid) {
                this.container.removeChild(el);
                break;
            }
        }
    };
    Quicktip.prototype.addButton = function (uid, click) {
        //-----------------
    };
    return Quicktip;
}());
exports.Quicktip = Quicktip;
},{}],34:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StateFabric = (function () {
    function StateFabric() {
        this.instances = {};
    }
    StateFabric.REGISTER = function (stateId, ctor) {
        if (!this.reg[stateId]) {
            this.reg[stateId] = ctor;
        }
        else {
            throw new Error('State constructor is already registered.');
        }
    };
    StateFabric.prototype.getState = function (stateId) {
        var instance = this.instances[stateId];
        if (!instance) {
            var ctor = StateFabric.reg[stateId];
            if (ctor) {
                instance = new ctor();
            }
            else {
                throw new Error("Specified stateId \"" + stateId + "\" is not registered.");
            }
        }
        return instance;
    };
    return StateFabric;
}());
StateFabric.reg = {};
exports.StateFabric = StateFabric;
},{}],35:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var Interfaces_1 = require("./Interfaces");
var HoverState = (function () {
    function HoverState() {
        this.selectionMode = false;
    }
    HoverState.prototype.onMouseDown = function (board, mouse) {
        this.selectionMode = true;
        this.hitComponent = this.getHitComponent(board, mouse.pos);
    };
    HoverState.prototype.onMouseUp = function (board, mouse) {
        if (this.selectionMode) {
            this.clearSelection(board);
        }
        // If mouse was moved do not select
        board.select(this.hitComponent);
    };
    HoverState.prototype.onMouseMove = function (board, mouse) {
        if (mouse.isDown && this.hitComponent) {
            if (Interfaces_1.isHoverable(this.hitComponent)) {
                this.hitComponent.setHovered(false);
            }
            if (Interfaces_1.isSelectable(this.hitComponent)) {
                this.hitComponent.setSelected(true);
            }
            // change state
            if (Interfaces_1.isEditable(this.hitComponent)) {
                var editState = this.hitComponent.getEditState();
                board.changeState(editState, { component: this.hitComponent });
            }
        }
        else if (mouse.isDown && !this.hitComponent) {
            board.changeState('movechart');
        }
        else if (!mouse.isDown) {
            var hitComponent = this.getHitComponent(board, mouse.pos);
            if (hitComponent) {
                hitComponent.setHovered(true);
                board.setCursor('pointer');
            }
            else {
                board.setCursor('crosshair');
            }
        }
        this.selectionMode = false;
        this.hitComponent = undefined;
    };
    HoverState.prototype.onMouseEnter = function (board, mouse) { };
    HoverState.prototype.onMouseLeave = function (board, mouse) { };
    HoverState.prototype.onMouseWheel = function (board, mouse) { };
    HoverState.prototype.onTouchPan = function (board, touch) {
        // if selected component
        //      edit figure
        // if nothing selected
        //      movechart
        var _a = this.getSelectedComponent(board), selectedComponent = _a[0], offset = _a[1];
        if (selectedComponent && offset && Interfaces_1.isHoverable(selectedComponent) && Interfaces_1.isEditable(selectedComponent)) {
            var p = new index_1.Point(touch.center.x - offset.x, touch.center.y - offset.y);
            if (selectedComponent.isHit(p)) {
                var editState = selectedComponent.getEditState();
                board.changeState(editState, { component: selectedComponent });
            }
        }
        else {
            board.changeState('movechart');
        }
    };
    HoverState.prototype.onTouchTap = function (board, touch) {
        // 1. clear selection
        this.clearSelection(board);
        // 2. get hit component
        this.hitComponent = this.getHitComponent(board, touch.center);
        // 3. select component
        board.select(this.hitComponent);
    };
    HoverState.prototype.onTouchPress = function (board, touch) { };
    HoverState.prototype.onTouchSwipe = function (board, touch) { };
    HoverState.prototype.activate = function (board, mouse) {
        this.selectionMode = false;
        this.hitComponent = undefined;
        board.setCursor('crosshair');
    };
    HoverState.prototype.deactivate = function (board, mouse) {
        board.forEach(function (component) {
            if (Interfaces_1.isHoverable(component)) {
                component.setHovered(false);
            }
            return true; // continue
        });
    };
    HoverState.prototype.clearSelection = function (board) {
        // clear current selection
        board.forEach(function (component) {
            if (Interfaces_1.isSelectable(component)) {
                component.setSelected(false);
            }
            return true; // continue
        });
    };
    HoverState.prototype.getHitComponent = function (board, hitpoint) {
        var hitComponent;
        // traverse all hoverable components, clear all popups and find hit component.
        board.forEach(function (component, aggregatedOffset) {
            if (Interfaces_1.isHoverable(component)) {
                var p = new index_1.Point(hitpoint.x - aggregatedOffset.x, hitpoint.y - aggregatedOffset.y);
                if (component.isHit(p) && !hitComponent) {
                    hitComponent = component;
                    //component.setPopupVisibility(true);
                    //return false; // do not continue
                }
                else {
                    component.setHovered(false);
                }
            }
            return true; // continue
        }, true, // check children first
        false); // iterating in reverse order so that rendered last charts will be asked first.
        return hitComponent;
    };
    HoverState.prototype.getSelectedComponent = function (board) {
        var selectedComponent;
        var offset;
        // traverse all components and find selected component.
        board.forEach(function (component, aggregatedOffset) {
            if (Interfaces_1.isSelectable(component)) {
                if (component.getSelected()) {
                    selectedComponent = component;
                    offset = aggregatedOffset;
                    return false; // stop iterating
                }
            }
            return true; // continue
        });
        return [selectedComponent, offset];
    };
    return HoverState;
}());
exports.HoverState = HoverState;
var MoveChartState = (function () {
    function MoveChartState() {
        this.lastMouse = new index_1.Point();
    }
    MoveChartState.prototype.onMouseWheel = function (board, mouse) { };
    MoveChartState.prototype.onMouseEnter = function (board, mouse) { };
    MoveChartState.prototype.onMouseLeave = function (board, mouse) {
        this.exit(board);
    };
    MoveChartState.prototype.onMouseUp = function (board, mouse) {
        this.exit(board);
    };
    MoveChartState.prototype.onMouseDown = function (board, mouse) { };
    MoveChartState.prototype.onMouseMove = function (board, mouse) {
        var diffX = mouse.pos.x - this.lastMouse.x;
        board.moveX(diffX);
        _a = [mouse.pos.x, mouse.pos.y], this.lastMouse.x = _a[0], this.lastMouse.y = _a[1];
        var _a;
    };
    MoveChartState.prototype.onTouchPan = function (board, touch) {
        if (this.lastTouch) {
            var diffX = touch.center.x - this.lastTouch.x;
            board.moveX(diffX);
            _a = [touch.center.x, touch.center.y], this.lastTouch.x = _a[0], this.lastTouch.y = _a[1];
        }
        else {
            this.lastTouch = new index_1.Point(touch.center.x, touch.center.y);
        }
        if (touch.isFinal) {
            this.exit(board);
        }
        var _a;
    };
    MoveChartState.prototype.onTouchPress = function (board, touch) { };
    MoveChartState.prototype.onTouchSwipe = function (board, touch) { };
    MoveChartState.prototype.onTouchTap = function (board, touch) { };
    MoveChartState.prototype.activate = function (board, mouse) {
        _a = [mouse.pos.x, mouse.pos.y], this.lastMouse.x = _a[0], this.lastMouse.y = _a[1];
        this.lastTouch = undefined;
        var _a;
    };
    MoveChartState.prototype.deactivate = function (board, mouse) { };
    MoveChartState.prototype.exit = function (board) {
        board.changeState('hover');
    };
    return MoveChartState;
}());
exports.MoveChartState = MoveChartState;
},{"../shared/index":170,"./Interfaces":27}],36:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeAxis class.
 */
var index_1 = require("../axes/index");
var index_2 = require("../model/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var LoadRangeEvent = (function (_super) {
    __extends(LoadRangeEvent, _super);
    function LoadRangeEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return LoadRangeEvent;
}(index_3.Event));
exports.LoadRangeEvent = LoadRangeEvent;
var LoadRangeArgument = (function () {
    function LoadRangeArgument(start, end, count) {
        this.start = start;
        this.end = end;
        this.count = count;
    }
    return LoadRangeArgument;
}());
exports.LoadRangeArgument = LoadRangeArgument;
var TimeAxis = (function () {
    function TimeAxis(interval, initialDate, N, width) {
        this.loadRangeEvent = new LoadRangeEvent();
        this.iteratorCounter = 0;
        this.g = 0;
        if (N <= 0) {
            throw new Error('Argument "N" must be positive.');
        }
        if (width <= 0) {
            throw new Error('Argument "width" must be positive.');
        }
        // Round initial date to interval
        initialDate = index_4.DateUtils.truncateToInterval(initialDate, interval);
        this._interval = interval;
        this.N = N;
        this.w = width;
        var dateStart = index_4.DateUtils.addInterval(initialDate, interval, -N);
        this.frameStart = new index_2.Uid(initialDate);
    }
    Object.defineProperty(TimeAxis.prototype, "loadingRange", {
        get: function () {
            return this.loadRangeEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "interval", {
        get: function () {
            return this._interval;
        },
        set: function (value) {
            this._interval = value;
            // truncate frame start to interval
            this.frameStart.t = index_4.DateUtils.truncateToInterval(this.frameStart.t, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "width", {
        get: function () {
            return this.w;
        },
        set: function (value) {
            this.w = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Determines if specified uid is located inside visible range
     * @param uid
     */
    TimeAxis.prototype.isVisible = function (uid) {
        if (this.frameStart.compare(uid) > 0) {
            return false;
        }
        var frameEnd = this.shiftBy(this.tempIter, this.N, this.frameStart);
        return frameEnd.compare(uid) >= 0;
    };
    /**
     * Moves visible range so that the specified uid gets into that range.
     * @param uid
     */
    TimeAxis.prototype.moveTo = function (uid) {
        if (this.frameStart.compare(uid) > 0) {
            if (this.tempIter && this.tempIter.goWhile(function (item) { return item.uid.compare(uid) <= 0; })) {
                this.frameStart = this.tempIter.current.uid;
            }
        }
        else if (this.frameStart.compare(uid) < 0) {
            this.frameStart = this.shiftBy(this.tempIter, -this.N, uid);
        }
    };
    TimeAxis.prototype.setDataSource = function (dataSource) {
        // frameStart and count remain the same.
        // clear n
        this.frameStart.n = 0;
        this.dataSource = dataSource;
        this.iter = dataSource.getIterator();
        this.tempIter = dataSource.getIterator();
        // load 3 screens
        this.load(this.frameStart, 2 * this.N);
        this.load(this.frameStart, -this.N);
    };
    TimeAxis.prototype.load = function (uid, count) {
        if (this.dataSource) {
            this.dataSource.load(uid, count);
            this.loadRangeEvent.trigger(new LoadRangeArgument(uid, undefined, count));
        }
    };
    TimeAxis.prototype.loadRange = function (start, end) {
        if (this.dataSource) {
            this.dataSource.loadRange(start, end);
            this.loadRangeEvent.trigger(new LoadRangeArgument(start, end));
        }
    };
    Object.defineProperty(TimeAxis.prototype, "current", {
        get: function () {
            if (this.iteratorPointer === undefined) {
                throw new Error('Iterator is not initialized.');
            }
            return { uid: this.iteratorPointer, x: this.index2x(this.iteratorCounter) };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TimeAxis.prototype, "count", {
        get: function () {
            return this.N;
        },
        enumerable: true,
        configurable: true
    });
    TimeAxis.prototype.reset = function () {
        // go to frameStart
        this.iteratorPointer = undefined;
        this.iteratorCounter = -1;
        this.found = false;
    };
    TimeAxis.prototype.moveNext = function () {
        if (this.iteratorPointer === undefined) {
            this.iteratorPointer = new index_2.Uid(this.frameStart.t, this.frameStart.n);
            this.iteratorCounter = 0;
            var time_1 = this.iteratorPointer.t.getTime();
            var n_1 = this.iteratorPointer.n;
            if (this.iter) {
                this.found = this.iter.goTo(function (item) { return item.uid.t.getTime() === time_1 && item.uid.n === n_1; });
            }
            else {
                this.found = false;
            }
            return true;
        }
        else if (this.iteratorCounter < (this.N - 1)) {
            var res = this.shiftNext(this.iter, this.found, this.iteratorPointer);
            this.found = res.f;
            this.iteratorPointer = res.uid;
            this.iteratorCounter += 1;
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Should search most nearest Uid to the specified Uid, as interval can be changed
     * @param uid
     */
    TimeAxis.prototype.toX = function (uid) {
        // ensure that require uid is loaded
        if (this.dataSource) {
            this.loadRange(this.frameStart, uid);
        }
        // Compute distance b/w frame start Ð¸ uid
        var dist = this.getDistance(this.frameStart, uid);
        return dist !== undefined ? this.index2x(dist) : undefined;
    };
    TimeAxis.prototype.toValue = function (x) {
        var index = this.x2index(x);
        return this.shiftBy(this.tempIter, index, this.frameStart);
    };
    TimeAxis.prototype.move = function (direction) {
        if (!direction || direction === 0) {
            return;
        }
        var gnext = this.g + direction;
        var wi = this.w / this.N;
        var count = Math.floor(gnext / wi);
        gnext = gnext - (count * wi);
        if (count !== 0) {
            direction = count;
            if (this.dataSource) {
                this.load(this.frameStart, direction > 0 ? (direction + 2 * this.N) : (direction - this.N));
            }
            this.frameStart = this.shiftBy(this.tempIter, -direction, this.frameStart);
        }
        this.g = gnext;
    };
    TimeAxis.prototype.scale = function (direction) {
        this.g = 0;
        var newN = this.N;
        if (direction > 0) {
            newN = Math.floor(this.N * 0.9);
        }
        else if (direction < 0) {
            newN = Math.ceil(this.N * 1.1);
            this.load(this.frameStart, -2 * newN);
        }
        else {
            return;
        }
        if (newN >= 1 && newN <= 2000) {
            this.frameStart = this.shiftBy(this.tempIter, this.N - newN, this.frameStart);
            this.N = newN;
        }
    };
    Object.defineProperty(TimeAxis.prototype, "range", {
        /**
         * Visible range
         */
        get: function () {
            var start = new index_2.Uid();
            start.t = this.frameStart.t;
            start.n = this.frameStart.n;
            var end = this.shiftBy(this.tempIter, this.N, this.frameStart);
            return { start: start, end: end };
        },
        enumerable: true,
        configurable: true
    });
    TimeAxis.prototype.lock = function (uid) {
        if (this.dataSource) {
            this.dataSource.lock(uid);
        }
    };
    /**
     * For rendering grid
     */
    TimeAxis.prototype.getGrid = function () {
        return new index_1.TimeAutoGrid(this.w, this._interval, this, this.range);
    };
    TimeAxis.prototype.dist = function (uidFrom, uidTo) {
        return this.getDistance(uidFrom, uidTo);
    };
    TimeAxis.prototype.add = function (uid, amount) {
        return this.shiftBy(this.tempIter, amount, uid);
    };
    /**
     * Determines distance (amount of intervals) b/w specified Uids.
     * @param uidFrom
     * @param uidTo
     */
    TimeAxis.prototype.getDistance = function (uidFrom, uidTo) {
        var counter = 0;
        var curUid = uidFrom.compare(uidTo) <= 0 ? uidFrom : uidTo;
        var lastUid = uidFrom.compare(uidTo) <= 0 ? uidTo : uidFrom;
        var curTime = curUid.t.getTime();
        var lastTime = lastUid.t.getTime();
        var fo = this.tempIter ? this.tempIter.goTo(function (item) { return item.uid.compare(curUid) > 0; }) : false;
        if (fo && this.tempIter && this.tempIter.current.uid.compare(lastUid) < 0) {
            counter = index_4.DateUtils.diffIntervals(curUid.t, this.tempIter.current.uid.t, this.interval);
            var outOfRange = false;
            while (this.tempIter.moveNext()) {
                curUid = this.tempIter.current.uid;
                if (curUid.compare(lastUid) > 0) {
                    outOfRange = true;
                    break;
                }
                counter += 1;
            }
            if (!outOfRange) {
                counter += index_4.DateUtils.diffIntervals(curUid.t, lastUid.t, this.interval);
            }
        }
        else {
            counter = index_4.DateUtils.diffIntervals(curUid.t, lastUid.t, this.interval);
        }
        // Compute coordinate by index
        return (uidFrom.t < uidTo.t) ? counter : -counter;
    };
    /**
     * Searches Uid at "shift" distance from current. Adds fake values if needed.
     * @param iterator
     * @param shift Can be positive and negative
     * @param curPosition
     */
    TimeAxis.prototype.shiftBy = function (iterator, shift, curPosition) {
        var cur = new index_2.Uid();
        cur.t = curPosition.t;
        cur.n = curPosition.n;
        if (shift === 0) {
            return cur;
        }
        // 1. Find first candle before or after current position
        //
        var found = false;
        if (iterator) {
            found = (shift > 0)
                ? iterator.goTo(function (item) { return item.uid.compare(cur) > 0; })
                : iterator.goWhile(function (item) { return item.uid.compare(cur) < 0; });
        }
        if (iterator && found) {
            // Define distance b/w frame start and first found item
            var diff = index_4.DateUtils.diffIntervals(cur.t, iterator.current.uid.t, this.interval); // diff is positive
            if ((shift > 0 && diff > shift) || (shift < 0 && -diff < shift)) {
                cur.t = index_4.DateUtils.addInterval(cur.t, this._interval, shift);
                cur.n = 0;
                return cur;
            }
            shift = shift - ((shift > 0) ? diff : -diff);
            // Shift over the data items
            var actualMoved = iterator.moveTimes(shift);
            cur.t = iterator.current.uid.t;
            cur.n = iterator.current.uid.n;
            shift = shift - actualMoved;
        }
        if (shift !== 0) {
            cur.t = index_4.DateUtils.addInterval(cur.t, this._interval, shift);
            cur.n = 0;
        }
        return cur;
    };
    TimeAxis.prototype.shiftNext = function (iterator, found, curPosition) {
        var newPosition = new index_2.Uid();
        var f = found;
        if (found) {
            f = (iterator !== undefined) ? iterator.moveNext() : false;
            if (f && iterator !== undefined) {
                var cur = iterator.current;
                newPosition.t = cur.uid.t;
                newPosition.n = cur.uid.n;
            }
            else {
                // generate fake
                // do not try to move
                newPosition.t = index_4.DateUtils.addInterval(curPosition.t, this._interval);
                newPosition.n = 0;
            }
        }
        else {
            // generate fake time
            // try move pointer
            newPosition.t = index_4.DateUtils.addInterval(curPosition.t, this._interval);
            newPosition.n = 0;
        }
        return { f: f, uid: newPosition };
    };
    /**
     * Converts index of interval to x coordinate
     * @param index Interval's index
     */
    TimeAxis.prototype.index2x = function (index) {
        var wi = this.w / this.N;
        return (wi * index) + (wi / 2) + this.g;
    };
    /**
     * Converts x coordinate to interval's index
     * @param x Coordinate
     */
    TimeAxis.prototype.x2index = function (x) {
        var wi = this.w / this.N;
        return Math.floor((x - this.g) / wi);
    };
    return TimeAxis;
}());
exports.TimeAxis = TimeAxis;
},{"../axes/index":16,"../model/index":146,"../shared/index":170,"../utils/index":180}],37:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeAxisComponent class.
 */
var index_1 = require("../core/index");
var index_2 = require("../shared/index");
var TimeMarker_1 = require("./TimeMarker");
var TimeAxisComponent = (function (_super) {
    __extends(TimeAxisComponent, _super);
    function TimeAxisComponent(area, timeAxis) {
        var _this = _super.call(this) || this;
        _this.onresize = function (arg) {
            _this._size = arg.size;
            _this.marker.resize(arg.size.width, arg.size.height);
        };
        _this.getMarkPos = function (ctx, size) {
            if (_this.mouse) {
                return (_this.mouse.x > 0 && _this.mouse.x < size.width) ? _this.tAxis.toValue(_this.mouse.x) : undefined;
            }
        };
        _this.tAxis = timeAxis;
        _this.area = area.getXArea();
        _this.area.sizeChanged.on(_this.onresize);
        _this._size = _this.area.size;
        _this.marker = new TimeMarker_1.TimeMarker(_this.area, _this.offset, _this.size, timeAxis, _this.getMarkPos);
        _this.addChild(_this.marker);
        return _this;
    }
    TimeAxisComponent.prototype.handleMouse = function (relX, relY) {
        if (this.mouse) {
            this.mouse.x = relX;
            this.mouse.y = relY;
        }
        else {
            this.mouse = new index_2.Point(relX, relY);
        }
        _super.prototype.handleMouse.call(this, relX, relY);
    };
    TimeAxisComponent.prototype.render = function (context, renderLocator) {
        if (context.renderBase) {
            //const canvas = context.getCanvas(this.target);
            var render = renderLocator.getAxesRender('date');
            render.render(this.area.baseCanvas, this.tAxis, { x: 0, y: 0, w: this.size.width, h: this.size.height });
        }
        // const childContext = new VisualContext(context.renderBase, context.renderFront,
        //                                        context.getCanvas('base'), context.getCanvas('front'), context.mousePosition);
        _super.prototype.render.call(this, context, renderLocator);
    };
    return TimeAxisComponent;
}(index_1.VisualComponent));
exports.TimeAxisComponent = TimeAxisComponent;
},{"../core/index":56,"../shared/index":170,"./TimeMarker":38}],38:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeMarker class.
 */
var index_1 = require("../core/index");
var TimeMarker = (function (_super) {
    __extends(TimeMarker, _super);
    function TimeMarker(area, offset, size, taxis, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.getter = getter;
        return _this;
    }
    TimeMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var uid = this.getter(context, this.size);
        if (uid) {
            var x = this.taxis.toX(uid);
            var render = renderLocator.getMarkRender('date');
            render.render(this.area.frontCanvas, uid.t, { x: x, y: 0 }, this.size);
        }
    };
    return TimeMarker;
}(index_1.VisualComponent));
exports.TimeMarker = TimeMarker;
},{"../core/index":56}],39:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var TimeRegionMarker = (function (_super) {
    __extends(TimeRegionMarker, _super);
    function TimeRegionMarker(area, offset, size, taxis, settings, getter) {
        var _this = _super.call(this, offset, size) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.settings = settings;
        _this.getter = getter;
        return _this;
    }
    TimeRegionMarker.prototype.render = function (context, renderLocator) {
        if (!context.renderFront || !this.visible) {
            // only render on front
            return;
        }
        var value = this.getter(context, this.size);
        if (value) {
            var x1 = this.taxis.toX(value.start);
            var x2 = this.taxis.toX(value.end);
            // Render
            if (x1 !== undefined && x2 !== undefined) {
                var canvas = this.area.frontCanvas;
                canvas.fillStyle = 'rgba(190, 230, 255, 0.3)';
                canvas.fillRect(Math.min(x1, x2), 0, Math.abs(x2 - x1), this.size.height);
            }
        }
    };
    return TimeRegionMarker;
}(index_1.VisualComponent));
exports.TimeRegionMarker = TimeRegionMarker;
},{"../core/index":56}],40:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var Chart_1 = require("./Chart");
exports.Chart = Chart_1.Chart;
var ChartBoard_1 = require("./ChartBoard");
exports.ChartBoard = ChartBoard_1.ChartBoard;
var ChartStack_1 = require("./ChartStack");
exports.ChartStack = ChartStack_1.ChartStack;
var FigureComponent_1 = require("./FigureComponent");
exports.FigureComponent = FigureComponent_1.FigureComponent;
var FigureFactory_1 = require("./FigureFactory");
exports.FigureFactory = FigureFactory_1.FigureFactory;
exports.FigureType = FigureFactory_1.FigureType;
var Interfaces_1 = require("./Interfaces");
exports.isEditable = Interfaces_1.isEditable;
exports.isHoverable = Interfaces_1.isHoverable;
exports.isSelectable = Interfaces_1.isSelectable;
exports.isStateController = Interfaces_1.isStateController;
var NumberAxisComponent_1 = require("./NumberAxisComponent");
exports.NumberAxisComponent = NumberAxisComponent_1.NumberAxisComponent;
var NumberMarker_1 = require("./NumberMarker");
exports.NumberMarker = NumberMarker_1.NumberMarker;
var NumberRegionMarker_1 = require("./NumberRegionMarker");
exports.NumberRegionMarker = NumberRegionMarker_1.NumberRegionMarker;
var PriceAxisComponent_1 = require("./PriceAxisComponent");
exports.PriceAxisComponent = PriceAxisComponent_1.PriceAxisComponent;
var StateFabric_1 = require("./StateFabric");
exports.StateFabric = StateFabric_1.StateFabric;
var States_1 = require("./States");
exports.HoverState = States_1.HoverState;
exports.MoveChartState = States_1.MoveChartState;
var TimeAxisComponent_1 = require("./TimeAxisComponent");
exports.TimeAxisComponent = TimeAxisComponent_1.TimeAxisComponent;
var TimeMarker_1 = require("./TimeMarker");
exports.TimeMarker = TimeMarker_1.TimeMarker;
var TimeRegionMarker_1 = require("./TimeRegionMarker");
exports.TimeRegionMarker = TimeRegionMarker_1.TimeRegionMarker;
},{"./Chart":20,"./ChartBoard":21,"./ChartStack":22,"./FigureComponent":24,"./FigureFactory":25,"./Interfaces":27,"./NumberAxisComponent":28,"./NumberMarker":29,"./NumberRegionMarker":30,"./PriceAxisComponent":31,"./StateFabric":34,"./States":35,"./TimeAxisComponent":37,"./TimeMarker":38,"./TimeRegionMarker":39}],41:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../utils/index");
var IndicatorExtension = (function () {
    function IndicatorExtension() {
    }
    return IndicatorExtension;
}());
exports.IndicatorExtension = IndicatorExtension;
/**
 * TR = max(H - L, |H - C prev|, |L - C prev|)
 */
var TrueRangeExtension = (function (_super) {
    __extends(TrueRangeExtension, _super);
    function TrueRangeExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(TrueRangeExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    TrueRangeExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.c !== undefined) {
            current.ext['tr'] = Math.max(current.h, prev.c) - Math.min(current.l, prev.c);
        }
    };
    return TrueRangeExtension;
}(IndicatorExtension));
TrueRangeExtension.uname = 'truerange';
exports.TrueRangeExtension = TrueRangeExtension;
/**
 * +DM
 */
var UpDirectionalMovementExtension = (function (_super) {
    __extends(UpDirectionalMovementExtension, _super);
    function UpDirectionalMovementExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(UpDirectionalMovementExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    UpDirectionalMovementExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.h !== undefined && prev.l !== undefined) {
            // UpMove = Current High - Previous High
            // DownMove = Previous Low - Current Low
            var upmove = current.h - prev.h;
            var downmove = prev.l - current.l;
            // If UpMove > DownMove and UpMove > 0, then +DM = UpMove, else +DM = 0
            current.ext['pdm'] = (upmove > downmove && upmove > 0) ? upmove : 0;
        }
    };
    return UpDirectionalMovementExtension;
}(IndicatorExtension));
UpDirectionalMovementExtension.uname = 'pdm';
exports.UpDirectionalMovementExtension = UpDirectionalMovementExtension;
/**
 * -DM
 */
var DownDirectionalMovementExtension = (function (_super) {
    __extends(DownDirectionalMovementExtension, _super);
    function DownDirectionalMovementExtension() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(DownDirectionalMovementExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    DownDirectionalMovementExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        if (current && current.h !== undefined && current.l !== undefined
            && prev && prev.h !== undefined && prev.l !== undefined) {
            // UpMove = Current High - Previous High
            // DownMove = Previous Low - Current Low            
            var upmove = current.h - prev.h;
            var downmove = prev.l - current.l;
            // If DownMove > Upmove and Downmove > 0, then -DM = DownMove, else -DM = 0 
            current.ext['mdm'] = (downmove > upmove && downmove > 0) ? downmove : 0;
        }
    };
    return DownDirectionalMovementExtension;
}(IndicatorExtension));
DownDirectionalMovementExtension.uname = 'mdm';
exports.DownDirectionalMovementExtension = DownDirectionalMovementExtension;
/**
 * ATR
 */
var AvgTrueRangeExtension = (function (_super) {
    __extends(AvgTrueRangeExtension, _super);
    function AvgTrueRangeExtension(period) {
        var _this = _super.call(this) || this;
        // ATR requires TR
        _this.trExt = new TrueRangeExtension();
        if (period !== undefined && period < 1) {
            throw new Error('Period less then 1 is not supported.');
        }
        _this.period = period || 14;
        if (_this.period < _this.trExt.amountRequires) {
            throw new Error('Period can not be less then True Range period.');
        }
        return _this;
    }
    Object.defineProperty(AvgTrueRangeExtension.prototype, "amountRequires", {
        get: function () {
            return this.period;
        },
        enumerable: true,
        configurable: true
    });
    AvgTrueRangeExtension.prototype.extend = function (line) {
        // Calculate True Range before calculating ATR
        this.trExt.extend(line);
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        // If there is previous ATR, than use it, otherwise - use average
        //
        if (current && prev) {
            var prevATR = prev.ext['atr'];
            var curTR = current.ext['tr'];
            if (prevATR !== undefined && curTR !== undefined) {
                current.ext['atr'] = (prevATR * (this.period - 1) + curTR) / this.period;
                return;
            }
        }
        // Using TR values to calculate ATR
        var sum = 0;
        var counter = 0;
        for (var i = line.length - 1; i >= 0 && counter <= this.period; i -= 1) {
            var tr = current.ext['tr'];
            if (tr !== undefined) {
                sum += tr;
                counter += 1;
            }
        }
        // If amount of TR is enough, calculate ATR
        if (counter === this.period) {
            current.ext['atr'] = sum / this.period;
        }
    };
    return AvgTrueRangeExtension;
}(IndicatorExtension));
AvgTrueRangeExtension.uname = 'avgtruerange';
exports.AvgTrueRangeExtension = AvgTrueRangeExtension;
/**
 * Gain/Loss
 */
var GainLossExtension = (function (_super) {
    __extends(GainLossExtension, _super);
    /**
     * Creates extension
     * @param fieldName Name of the field to use
     */
    function GainLossExtension(accessor) {
        var _this = _super.call(this) || this;
        _this.accessor = accessor;
        _this.uid = index_1.UidUtils.NEWUID();
        return _this;
    }
    Object.defineProperty(GainLossExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GainLossExtension.prototype, "uname", {
        get: function () {
            return 'gainloss' + this.uid;
        },
        enumerable: true,
        configurable: true
    });
    GainLossExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        var curValue = this.accessor(current);
        var prevValue = this.accessor(prev);
        if (curValue && prevValue) {
            var gain = 0;
            var loss = 0;
            if (curValue > prevValue) {
                gain = curValue - prevValue;
            }
            else if (curValue < prevValue) {
                loss = prevValue - curValue;
            }
            current.ext['gain_' + this.uid] = gain;
            current.ext['loss_' + this.uid] = loss;
        }
    };
    GainLossExtension.prototype.value = function (c) {
        return {
            gain: c && c.ext ? c.ext['gain_' + this.uid] : undefined,
            loss: c && c.ext ? c.ext['loss_' + this.uid] : undefined
        };
    };
    return GainLossExtension;
}(IndicatorExtension));
exports.GainLossExtension = GainLossExtension;
/**
 * Log Return extension. R(i) = log(Pi / P(i-1))
 */
var LogReturnExtension = (function (_super) {
    __extends(LogReturnExtension, _super);
    /**
     * Creates extension
     * @param fieldName Name of the field to use
     */
    function LogReturnExtension(accessor) {
        var _this = _super.call(this) || this;
        _this.accessor = accessor;
        _this.uid = index_1.UidUtils.NEWUID();
        return _this;
    }
    Object.defineProperty(LogReturnExtension.prototype, "amountRequires", {
        get: function () {
            return 2;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LogReturnExtension.prototype, "uname", {
        get: function () {
            return 'logreturn' + this.uid;
        },
        enumerable: true,
        configurable: true
    });
    LogReturnExtension.prototype.extend = function (line) {
        if (line.length < 2) {
            return;
        }
        var current = line.getItem(line.length - 1); // last is current
        var prev = line.getItem(line.length - 2); // Take previous;
        var curValue = this.accessor(current);
        var prevValue = this.accessor(prev);
        if (curValue && prevValue) {
            current.ext['logreturn_' + this.uid] = Math.log(curValue / prevValue);
            //current.ext['logreturn_' + this.uid] = (curValue - prevValue) / prevValue;
        }
    };
    LogReturnExtension.prototype.value = function (c) {
        return (c && c.ext) ? c.ext['logreturn_' + this.uid] : undefined;
    };
    return LogReturnExtension;
}(IndicatorExtension));
exports.LogReturnExtension = LogReturnExtension;
},{"../utils/index":180}],42:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var IndicatorExtension_1 = require("./IndicatorExtension");
exports.AvgTrueRangeExtension = IndicatorExtension_1.AvgTrueRangeExtension;
exports.DownDirectionalMovementExtension = IndicatorExtension_1.DownDirectionalMovementExtension;
exports.GainLossExtension = IndicatorExtension_1.GainLossExtension;
exports.LogReturnExtension = IndicatorExtension_1.LogReturnExtension;
exports.TrueRangeExtension = IndicatorExtension_1.TrueRangeExtension;
exports.UpDirectionalMovementExtension = IndicatorExtension_1.UpDirectionalMovementExtension;
},{"./IndicatorExtension":41}],43:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AmountRange = (function () {
    function AmountRange(uidStart, uidEnd, count) {
        this.uidStart = uidStart;
        this.uidEnd = uidEnd;
        this.count = count;
    }
    AmountRange.prototype.isEqual = function (other) {
        return (other
            && this.uidStart.compare(other.uidStart) === 0
            && (this.uidEnd === other.uidEnd || (this.uidEnd && other.uidEnd && this.uidEnd.compare(other.uidEnd) === 0))
            && (this.count === other.count));
    };
    return AmountRange;
}());
exports.AmountRange = AmountRange;
var AmountRangeOps = (function () {
    function AmountRangeOps() {
    }
    AmountRangeOps.difference = function (minuend, subtrahend) {
        var M = minuend;
        var S = subtrahend;
        if (M.uidEnd && S.uidEnd) {
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            var S1 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidEnd : S.uidStart;
            var S2 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidStart : S.uidEnd;
            if (M1.compare(S1) < 0 && M2.compare(S1) <= 0) {
                return [new AmountRange(M1, M2)]; // { M1, M2 };
            }
            else if (M1.compare(S2) >= 0 && M2.compare(S2) > 0) {
                return [new AmountRange(M1, M2)]; //{ M1, M2};
            }
            else if (M1.compare(S1) >= 0 && M2.compare(S2) <= 0) {
                return undefined;
            }
            else if (M1.compare(S1) < 0 && M2.compare(S2) > 0) {
                return [
                    new AmountRange(M1, S1),
                    new AmountRange(S2, M2)
                ]; //{M1, S1} + {S2, M2};
            }
            else if (M1.compare(S1) <= 0) {
                return [new AmountRange(M1, S1)]; // { M1, S1 };
            }
            else if (M2.compare(S2) >= 0) {
                return [new AmountRange(S2, M2)]; // { S2, M2 };
            }
            else {
                throw new Error('Operation exception.');
            }
        }
        else if (M.count !== undefined && S.uidEnd) {
            if (S.count === undefined) {
                throw new Error('When range has uidEnd it must define count.');
            }
            var M1 = M.uidStart;
            var S1 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidEnd : S.uidStart;
            var S2 = S.uidStart.compare(S.uidEnd) > 0 ? S.uidStart : S.uidEnd;
            if ((M.count < 0 && M1.compare(S1) <= 0) || (M.count > 0 && M1.compare(S2) >= 0)) {
                return [new AmountRange(M1, undefined, M.count)]; // { M1, M.count };
            }
            else if (M.count < 0 && M1.compare(S2) > 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(S2, M1),
                        new AmountRange(S1, undefined, M.count)
                    ];
                    //{ S2, M1 } + { S1, M.count };
                }
                else {
                    return [new AmountRange(S2, M1)]; // { S2, M1 };
                }
            }
            else if (M.count > 0 && M1.compare(S1) < 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(M1, S1),
                        new AmountRange(S2, undefined, M.count)
                    ];
                    // { M1, S1 } + { S2, M.count };
                }
                else {
                    return [new AmountRange(M1, S1)]; // { M1, S1 };
                }
            }
            else if (M1.compare(S1) >= 0 && M1.compare(S2) <= 0) {
                throw new Error('Subtrahend must not start in minuend.');
            }
            else {
                throw new Error('Operation exception');
            }
        }
        else if (M.uidEnd && S.count !== undefined) {
            if (M.count === undefined) {
                throw new Error('When range has uidEnd it must define count.');
            }
            var S1 = S.uidStart;
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            if ((S.count < 0 && S1.compare(M1) <= 0) || (S.count > 0 && S1.compare(M2) >= 0)) {
                return [M];
            }
            else if (S1.compare(M1) >= 0 && S1.compare(M2) <= 0 && S.count < 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(S1, M2),
                        new AmountRange(M1, undefined, S.count)
                    ];
                    // { S1, M2 } + { M1, S.count };
                }
                else {
                    return [new AmountRange(S1, M2)]; // { S1, M2 };
                }
            }
            else if (S1.compare(M1) >= 0 && S1.compare(M2) <= 0 && S.count > 0) {
                if (Math.abs(M.count) > Math.abs(S.count)) {
                    return [
                        new AmountRange(M1, S1),
                        new AmountRange(M2, undefined, S.count)
                    ];
                    // { M1, S1 } + { M2, S.count };
                }
                else {
                    return [new AmountRange(M1, S1)]; // { M1, S1 };
                }
            }
            throw new Error('Operation exception');
        }
        else if (M.count !== undefined && S.count !== undefined) {
            throw new Error('Invalid operation');
        }
        else {
            throw new Error('Operation exception');
        }
    };
    AmountRangeOps.isIntersected = function (lhs, rhs) {
        var M = lhs.uidEnd ? lhs : rhs;
        var S = lhs.uidEnd ? rhs : lhs;
        if (!M.uidEnd) {
            throw new Error('One of ranges must have specified uidEnd.');
        }
        if (M.uidEnd && S.uidEnd) {
            var diff = AmountRangeOps.difference(M, S);
            if (diff && diff.length === 1) {
                return !M.isEqual(diff[0]); // if range is the same, that means that they are not intersected.
            }
            return true;
        }
        else {
            var S1 = S.uidStart;
            var M1 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidEnd : M.uidStart;
            var M2 = M.uidStart.compare(M.uidEnd) > 0 ? M.uidStart : M.uidEnd;
            if (S.count === undefined) {
                throw new Error('Count and uidEnd not defined.');
            }
            if ((S1.compare(M1) <= 0 && S.count < 0) || (S1.compare(M2) >= 0 && S.count > 0)) {
                return false; // Not intersected
            }
            else {
                return true; // Any other case assume intersected.
            }
        }
    };
    return AmountRangeOps;
}());
exports.AmountRangeOps = AmountRangeOps;
},{}],44:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CObject = (function () {
    function CObject(uid, name) {
        this._uid = uid;
        this._name = name || '';
    }
    Object.defineProperty(CObject.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CObject.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (value) {
            this._name = value;
        },
        enumerable: true,
        configurable: true
    });
    return CObject;
}());
exports.CObject = CObject;
},{}],45:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ChartType = (function () {
    function ChartType() {
    }
    return ChartType;
}());
ChartType.candle = 'candle';
ChartType.heikinashi = 'heikinashi';
ChartType.hollow = 'hollow';
ChartType.line = 'line';
ChartType.linebreak = 'linebreak';
ChartType.mountain = 'mountain';
ChartType.ohlc = 'ohlc';
ChartType.rangebar = 'rangebar';
ChartType.renko = 'renko';
exports.ChartType = ChartType;
},{}],46:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Command = (function () {
    function Command(exec, undo) {
        this.isExecuted = false;
        this.isUndone = false;
        this._exec = exec;
        this._undo = undo;
    }
    Command.prototype.execute = function () {
        if (!this.isExecuted) {
            this._exec();
            this.isExecuted = true;
            return this;
        }
        else {
            throw new Error('Command is already executed');
        }
    };
    Command.prototype.undo = function () {
        if (!this.isUndone) {
            this._undo();
            this.isUndone = true;
        }
        else {
            throw new Error('Command is already undone');
        }
    };
    return Command;
}());
exports.Command = Command;
},{}],47:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Core constants.
 */
var Constants = (function () {
    function Constants() {
    }
    Object.defineProperty(Constants, "FIBO_PERCENTAGE", {
        get: function () {
            return this._fiboPercantage;
        },
        enumerable: true,
        configurable: true
    });
    return Constants;
}());
Constants._fiboPercantage = [
    0.236,
    0.382,
    0.5,
    0.618,
    0.764,
    0.786,
    1,
    1.272,
    1.382,
    1.618,
    2,
    2.618,
    4.236
];
Constants.DEFAULT_FORECOLOR = '#FF0000';
exports.Constants = Constants;
},{}],48:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
* Core enumerations.
*/
var TimeInterval;
(function (TimeInterval) {
    TimeInterval[TimeInterval["notSet"] = 0] = "notSet";
    TimeInterval[TimeInterval["sec"] = 1000] = "sec";
    TimeInterval[TimeInterval["min"] = 60000] = "min";
    TimeInterval[TimeInterval["min5"] = 300000] = "min5";
    TimeInterval[TimeInterval["min15"] = 900000] = "min15";
    TimeInterval[TimeInterval["min30"] = 1800000] = "min30";
    TimeInterval[TimeInterval["hour"] = 3600000] = "hour";
    TimeInterval[TimeInterval["hour4"] = 14400000] = "hour4";
    TimeInterval[TimeInterval["hour6"] = 21600000] = "hour6";
    TimeInterval[TimeInterval["hour12"] = 43200000] = "hour12";
    TimeInterval[TimeInterval["day"] = 86400000] = "day";
    TimeInterval[TimeInterval["day3"] = 259200000] = "day3";
    TimeInterval[TimeInterval["week"] = 604800000] = "week";
    TimeInterval[TimeInterval["day10"] = 864000000] = "day10";
    TimeInterval[TimeInterval["month"] = 2678400000] = "month"; // 31 days
})(TimeInterval = exports.TimeInterval || (exports.TimeInterval = {}));
},{}],49:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../shared/index");
var EventArgument = (function () {
    function EventArgument() {
    }
    return EventArgument;
}());
exports.EventArgument = EventArgument;
var ObjectEventArgument = (function (_super) {
    __extends(ObjectEventArgument, _super);
    function ObjectEventArgument(obj) {
        var _this = _super.call(this) || this;
        _this.obj = obj;
        return _this;
    }
    return ObjectEventArgument;
}(EventArgument));
exports.ObjectEventArgument = ObjectEventArgument;
var MouseEventArgument = (function (_super) {
    __extends(MouseEventArgument, _super);
    function MouseEventArgument(mouse) {
        var _this = _super.call(this) || this;
        _this.mouse = mouse;
        return _this;
    }
    return MouseEventArgument;
}(EventArgument));
exports.MouseEventArgument = MouseEventArgument;
var Events = (function () {
    function Events() {
        this._selectionChanged = new index_1.Event();
        this._treeChanged = new index_1.Event();
        this._historyChanged = new index_1.Event();
    }
    Object.defineProperty(Events.prototype, "selectionChanged", {
        get: function () {
            return this._selectionChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "treeChanged", {
        get: function () {
            return this._treeChanged;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Events.prototype, "historyChanged", {
        get: function () {
            return this._historyChanged;
        },
        enumerable: true,
        configurable: true
    });
    return Events;
}());
exports.Events = Events;
},{"../shared/index":170}],50:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var TimeBar = (function () {
    function TimeBar() {
    }
    return TimeBar;
}());
exports.TimeBar = TimeBar;
var Grid = (function () {
    function Grid() {
        this.bars = [];
        this.precision = 0;
    }
    return Grid;
}());
exports.Grid = Grid;
function isConfigurable(obj) {
    return obj.setSettings !== undefined;
}
exports.isConfigurable = isConfigurable;
function isStateful(obj) {
    return obj.getState !== undefined;
}
exports.isStateful = isStateful;
},{}],51:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var ChartPoint = (function () {
    function ChartPoint(uid, value) {
        this.uid = uid;
        this.v = value;
    }
    ChartPoint.prototype.equals = function (other) {
        if (other) {
            if (other === this) {
                return true;
            }
            if (((this.uid && other.uid && this.uid.equals(other.uid)) || (this.uid === other.uid))
                && (this.v === other.v)) {
                return true;
            }
        }
        return false;
    };
    return ChartPoint;
}());
exports.ChartPoint = ChartPoint;
var Mouse = (function () {
    function Mouse() {
        this.pos = new index_1.Point();
        this.isDown = false;
        this.isEntered = false;
    }
    return Mouse;
}());
exports.Mouse = Mouse;
},{"../shared/index":170}],52:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../utils/index");
var SettingType = (function () {
    function SettingType() {
    }
    return SettingType;
}());
SettingType.check = 'check';
SettingType.color = 'color';
SettingType.numeric = 'numeric';
SettingType.select = 'select';
SettingType.date = 'date';
exports.SettingType = SettingType;
var SettingSet = (function () {
    function SettingSet(param) {
        this.name = '';
        this.value = '';
        this.dispalyName = '';
        this.settingType = '';
        this.visible = true;
        this.group = false;
        this.options = [];
        this.settings = {};
        if (typeof param === 'string') {
            this.name = param;
        }
        else {
            SettingSet.init(this, param);
        }
    }
    SettingSet.prototype.setSetting = function (path, setting) {
        var parts = path.split('.');
        var dest = this.settings;
        for (var i = 0; i < parts.length; i += 1) {
            var part = parts[i];
            if (i === 0 && part === this.name) {
                // Ignore root name if it points to this setting
                continue;
            }
            if (!dest[part]) {
                dest[part] = new SettingSet(part);
            }
            if (i === parts.length - 1) {
                dest[part] = setting;
            }
            dest = dest[part].settings;
        }
    };
    SettingSet.prototype.getValueOrDefault = function (path, defaultValue) {
        var setting = this.getSetting(path);
        if (setting && !setting.settingType) {
            throw new Error("Setting type is unspecified for setting " + setting.name);
        }
        if (setting && setting.settingType && setting.value) {
            switch (setting.settingType) {
                case SettingType.check:
                    return (setting.value === 'true');
                case SettingType.color:
                    return setting.value;
                case SettingType.numeric:
                    return parseInt(setting.value, 10);
                case SettingType.select:
                    return parseInt(setting.value, 10);
                case SettingType.date:
                    return index_1.DateUtils.parseISODate(setting.value);
                default: throw new Error("Unexpected setting type " + setting.settingType);
            }
        }
        return defaultValue;
    };
    SettingSet.prototype.getSetting = function (path) {
        return this.getSettingImpl(path, '', this);
    };
    SettingSet.prototype.getSettingImpl = function (path, counter, ss) {
        counter = counter ? counter + '.' + ss.name : ss.name;
        if (counter === path) {
            return ss;
        }
        for (var _i = 0, _a = Object.keys(ss.settings); _i < _a.length; _i++) {
            var s = _a[_i];
            var res = this.getSettingImpl(path, counter, ss.settings[s]);
            if (res) {
                return res;
            }
        }
    };
    SettingSet.init = function (obj, values) {
        obj.name = values.name;
        obj.value = values.value || '';
        obj.settingType = values.settingType || '';
        obj.dispalyName = values.displayName || '';
        obj.visible = values.visible !== undefined ? values.visible : true;
        obj.group = values.group || false;
        obj.options = values.options || [];
        if (values.settings) {
            for (var _i = 0, _a = values.settings; _i < _a.length; _i++) {
                var s = _a[_i];
                var nested = new SettingSet(s.name);
                SettingSet.init(nested, s);
                obj.setSetting(s.name, nested);
            }
        }
    };
    return SettingSet;
}());
exports.SettingSet = SettingSet;
},{"../utils/index":180}],53:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Storage classes.
 */
var index_1 = require("../shared/index");
var index_2 = require("../utils/index");
/**
 * Loads and saves storage tree from/to external storage.
 */
var StorageManager = (function () {
    function StorageManager(storage) {
        var _this = this;
        this._root = new StoreContainer();
        this.onChanged = function () {
            _this.save();
        };
        this.storage = storage;
        this._root.changed.on(this.onChanged);
        this.load();
    }
    StorageManager.prototype.root = function () {
        return this._root;
    };
    StorageManager.prototype.load = function () {
        if (this.storage) {
            var serialized = this.storage.getItem('__chartboard_storage__');
            if (serialized) {
                // unsubscribe
                if (this._root) {
                    this._root.changed.off(this.onChanged);
                }
                // initialize new container
                this._root = new StoreContainer();
                this._root.deserialize(serialized);
                // subscribe
                this._root.changed.on(this.onChanged);
            }
        }
    };
    StorageManager.prototype.save = function () {
        if (this.storage) {
            var serialized = this._root.serialize();
            this.storage.setItem('__chartboard_storage__', serialized);
        }
    };
    return StorageManager;
}());
exports.StorageManager = StorageManager;
/**
 * Represents a node from storage tree.
 */
var StoreContainer = (function () {
    function StoreContainer(obj, root) {
        this._changedEvt = new index_1.Event();
        this.obj = obj || new Object();
        this.root = root;
    }
    Object.defineProperty(StoreContainer.prototype, "changed", {
        get: function () {
            return this._changedEvt;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets property's value
     * @param propertyName Can be composite path ("one.two.three")
     */
    StoreContainer.prototype.getProperty = function (propertyName) {
        if (propertyName) {
            // Break path into object names
            var parts = propertyName.split('.');
            var source = this.obj;
            for (var i = 0; i < (parts.length - 1); i += 1) {
                source = source[parts[i]];
                if (!source) {
                    return undefined;
                }
            }
            return source[parts[parts.length - 1]];
        }
    };
    StoreContainer.prototype.setProperty = function (propertyName, value) {
        this.obj[propertyName] = value;
        this.setChanged();
    };
    StoreContainer.prototype.getObjectProperty = function (propName) {
        var o = this.obj[propName];
        if (o === undefined) {
            o = new Object();
            this.obj[propName] = o;
        }
        return new StoreContainer(o, this.root || this);
    };
    StoreContainer.prototype.getArrayProperty = function (propName) {
        var o = this.obj[propName];
        if (o === undefined) {
            o = new Array();
            this.obj[propName] = o;
        }
        return new StoreArray(o, this.root || this);
    };
    StoreContainer.prototype.deserialize = function (source) {
        var sourceObj = JSON.parse(source, index_2.JsonUtils.DATEPARSER); // Parsing dates as Date()
        // Attach each property
        for (var _i = 0, _a = Object.keys(sourceObj); _i < _a.length; _i++) {
            var prop = _a[_i];
            this.obj[prop] = sourceObj[prop];
        }
    };
    StoreContainer.prototype.serialize = function () {
        return JSON.stringify(this.obj);
    };
    StoreContainer.prototype.setChanged = function () {
        if (this.root) {
            this.root.setChanged();
        }
        else {
            this._changedEvt.trigger();
        }
    };
    return StoreContainer;
}());
exports.StoreContainer = StoreContainer;
/**
 * Represents array of nodes from storage tree.
 */
var StoreArray = (function () {
    function StoreArray(a, root) {
        this.array = [];
        this.containers = [];
        this.count = 0;
        this.array = a;
        this.root = root;
        this.containers = a.map(function (el) {
            return new StoreContainer(el, root);
        });
    }
    StoreArray.prototype.addItem = function () {
        var o = new Object();
        this.array.push(o);
        var container = new StoreContainer(o, this.root);
        this.containers.push(container);
        this.root.setChanged();
        return container;
    };
    StoreArray.prototype.indexOf = function (predicate) {
        var index = -1;
        this.containers.some(function (sc, i) {
            if (predicate(sc)) {
                index = i;
                return true;
            }
            return false;
        });
        return index;
    };
    StoreArray.prototype.remove = function (predicate) {
        var removeIndexes = [];
        this.containers = this.containers.filter(function (sc, i) {
            var result = predicate(sc);
            if (result) {
                removeIndexes.push(i);
            }
            return !result;
        });
        for (var _i = 0, removeIndexes_1 = removeIndexes; _i < removeIndexes_1.length; _i++) {
            var i = removeIndexes_1[_i];
            this.array.splice(i, 1);
        }
        this.root.setChanged();
    };
    StoreArray.prototype.removeItem = function (index) {
        this.array.splice(index, 1);
        this.containers.splice(index, 1);
        this.root.setChanged();
    };
    StoreArray.prototype.shift = function (index, shift) {
        if (index >= 0 && index < this.array.length) {
            index_2.ArrayUtils.SHIFT(this.array, index, shift);
            index_2.ArrayUtils.SHIFT(this.containers, index, shift);
        }
    };
    StoreArray.prototype.asArray = function () {
        return this.containers;
    };
    Object.defineProperty(StoreArray.prototype, "length", {
        get: function () {
            return this.array.length;
        },
        enumerable: true,
        configurable: true
    });
    return StoreArray;
}());
exports.StoreArray = StoreArray;
},{"../shared/index":170,"../utils/index":180}],54:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var index_2 = require("../utils/index");
var CObject_1 = require("./CObject");
var VisualComponent = (function (_super) {
    __extends(VisualComponent, _super);
    function VisualComponent(offset, size, uid, name) {
        var _this = _super.call(this, uid || index_2.UidUtils.NEWUID(), name) || this;
        _this._children = [];
        _this._visible = true;
        _this._offset = offset ? new index_1.Point(offset.x, offset.y) : new index_1.Point(0, 0);
        _this._size = size ? new index_1.Size(size.width, size.height) : new index_1.Size(0, 0);
        return _this;
    }
    Object.defineProperty(VisualComponent.prototype, "offset", {
        get: function () {
            return this._offset;
        },
        set: function (value) {
            this._offset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "children", {
        get: function () {
            return this._children.slice();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualComponent.prototype, "visible", {
        get: function () {
            return this._visible;
        },
        set: function (value) {
            this._visible = value;
        },
        enumerable: true,
        configurable: true
    });
    VisualComponent.prototype.addChild = function (child) {
        this._children.push(child);
    };
    VisualComponent.prototype.removeChild = function (child) {
        this._children = this._children.filter(function (value) { return value !== child; });
    };
    VisualComponent.prototype.handleMouse = function (relX, relY) {
        // Default behavior: just passing message to children
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.handleMouse(relX - child.offset.x, relY - child.offset.y);
        }
    };
    VisualComponent.prototype.render = function (context, renderLocator) {
        // Default behavior: just passing message to children
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.render(context, renderLocator);
        }
    };
    VisualComponent.prototype.resize = function (w, h) {
        // Default behavior: set size and pass message to children
        this._size = { width: w, height: h };
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            child.resize(w, h);
        }
    };
    VisualComponent.prototype.forEach = function (delegate, childrenFirst, directOrder) {
        if (childrenFirst === void 0) { childrenFirst = false; }
        if (directOrder === void 0) { directOrder = true; }
        this.forEachAggregator(delegate, childrenFirst, directOrder, new index_1.Point(0, 0));
    };
    VisualComponent.prototype.forEachAggregator = function (delegate, childrenFirst, directOrder, initialOffset) {
        // 1. Execute for this component
        //
        var offset = new index_1.Point(initialOffset.x + this.offset.x, initialOffset.y + this.offset.y);
        if (!childrenFirst && !delegate(this, offset)) {
            return false; // stop iterating
        }
        // 2. Iterating through children in direct or reverse order
        //
        var index = directOrder ? 0 : this._children.length - 1;
        while ((directOrder && index < this._children.length)
            || (!directOrder && index >= 0)) {
            if (!this._children[index].forEachAggregator(delegate, childrenFirst, directOrder, offset)) {
                return false; // stop iterating through children
            }
            index = directOrder ? index + 1 : index - 1;
        }
        if (childrenFirst && !delegate(this, offset)) {
            return false; // stop iterating
        }
        return true; // continue
    };
    return VisualComponent;
}(CObject_1.CObject));
exports.VisualComponent = VisualComponent;
},{"../shared/index":170,"../utils/index":180,"./CObject":44}],55:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var VisualContext = (function () {
    function VisualContext(renderBase, renderFront) {
        this._renderBase = renderBase;
        this._renderFront = renderFront;
    }
    Object.defineProperty(VisualContext.prototype, "renderBase", {
        get: function () {
            return this._renderBase;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VisualContext.prototype, "renderFront", {
        get: function () {
            return this._renderFront;
        },
        enumerable: true,
        configurable: true
    });
    return VisualContext;
}());
exports.VisualContext = VisualContext;
},{}],56:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var AmountRange_1 = require("./AmountRange");
exports.AmountRange = AmountRange_1.AmountRange;
exports.AmountRangeOps = AmountRange_1.AmountRangeOps;
var ChartType_1 = require("./ChartType");
exports.ChartType = ChartType_1.ChartType;
var CObject_1 = require("./CObject");
exports.CObject = CObject_1.CObject;
var Command_1 = require("./Command");
exports.Command = Command_1.Command;
var Constants_1 = require("./Constants");
exports.Constants = Constants_1.Constants;
var Enums_1 = require("./Enums");
exports.TimeInterval = Enums_1.TimeInterval;
var Events_1 = require("./Events");
exports.EventArgument = Events_1.EventArgument;
exports.Events = Events_1.Events;
exports.MouseEventArgument = Events_1.MouseEventArgument;
exports.ObjectEventArgument = Events_1.ObjectEventArgument;
var Interfaces_1 = require("./Interfaces");
exports.Grid = Interfaces_1.Grid;
exports.isConfigurable = Interfaces_1.isConfigurable;
exports.isStateful = Interfaces_1.isStateful;
exports.TimeBar = Interfaces_1.TimeBar;
var Model_1 = require("./Model");
exports.ChartPoint = Model_1.ChartPoint;
exports.Mouse = Model_1.Mouse;
var SettingSet_1 = require("./SettingSet");
exports.SettingSet = SettingSet_1.SettingSet;
exports.SettingType = SettingSet_1.SettingType;
var StorageManager_1 = require("./StorageManager");
exports.StorageManager = StorageManager_1.StorageManager;
exports.StoreArray = StorageManager_1.StoreArray;
exports.StoreContainer = StorageManager_1.StoreContainer;
var VisualComponent_1 = require("./VisualComponent");
exports.VisualComponent = VisualComponent_1.VisualComponent;
var VisualContext_1 = require("./VisualContext");
exports.VisualContext = VisualContext_1.VisualContext;
},{"./AmountRange":43,"./CObject":44,"./ChartType":45,"./Command":46,"./Constants":47,"./Enums":48,"./Events":49,"./Interfaces":50,"./Model":51,"./SettingSet":52,"./StorageManager":53,"./VisualComponent":54,"./VisualContext":55}],57:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var ArrayDataSource = (function (_super) {
    __extends(ArrayDataSource, _super);
    //    protected readonly comparer = (item1: IUidValue, item2: IUidValue) => { return item1.date.getTime() - item2.date.getTime(); };
    function ArrayDataSource(dataType, config, data, comparer) {
        var _this = _super.call(this, dataType, config) || this;
        // private readonly defaultMinValue = 0;
        // private readonly defaultMaxValue = 100;
        _this.comparer = function (item1, item2) { return item1.uid.compare(item2.uid); };
        if (comparer) {
            _this.comparer = comparer;
        }
        var initData = data.slice();
        initData.sort(_this.comparer);
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer, initData);
        return _this;
    }
    ArrayDataSource.prototype.load = function (uid, count) {
    };
    ArrayDataSource.prototype.loadRange = function (uidFirst, uidLast) {
    };
    ArrayDataSource.prototype.getIterator = function (filter) {
        // return everything
        return this.dataStorage.getIterator(filter);
    };
    ArrayDataSource.prototype.lock = function (uid) { };
    ArrayDataSource.prototype.dispose = function () { };
    return ArrayDataSource;
}(DataSource_1.DataSource));
exports.ArrayDataSource = ArrayDataSource;
},{"./ArrayDataStorage":58,"./DataSource":62}],58:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * ArrayDataStorage class.
 */
var index_1 = require("../utils/index");
var ArrayIterator_1 = require("./ArrayIterator");
/**
 * Stores items in sorted array.
 */
var ArrayDataStorage = (function () {
    function ArrayDataStorage(comparer, initArray) {
        if (!comparer) {
            throw new Error('Argument \'comparer\' is null.');
        }
        this.comparer = comparer;
        this.dataSnapshot = {
            data: initArray ? initArray.slice() : [],
            timestamp: 0
        };
        // sort initial array
        this.dataSnapshot.data.sort(this.comparer);
    }
    Object.defineProperty(ArrayDataStorage.prototype, "length", {
        get: function () {
            return this.dataSnapshot.data.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "first", {
        get: function () {
            var data = this.dataSnapshot.data;
            return (data.length > 0) ? data[0] : undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "last", {
        get: function () {
            var data = this.dataSnapshot.data;
            var length = data.length;
            return (length > 0) ? data[length - 1] : undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayDataStorage.prototype, "isEmpty", {
        get: function () {
            return this.dataSnapshot.data.length === 0;
        },
        enumerable: true,
        configurable: true
    });
    ArrayDataStorage.prototype.clear = function () {
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
        this.dataSnapshot.data = [];
    };
    ArrayDataStorage.prototype.merge = function (update, updateFunction) {
        if (update && update.length) {
            // Sort incoming array
            update.sort(this.comparer);
            // Update current timestamp
            this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
            // Import incoming data to the array
            this.dataSnapshot.data = index_1.ArrayUtils.MERGE(this.dataSnapshot.data, update, this.comparer, updateFunction);
        }
    };
    /**
     * Finds first element that matches the condition and removes all follwing items the element.
     * @param predicate
     */
    ArrayDataStorage.prototype.removeAfterInclusive = function (predicate) {
        var itemIndex = -1;
        this.dataSnapshot.data.some(function (e, i, array) {
            if (predicate(e)) {
                itemIndex = i;
                return true;
            }
            return false;
        });
        if (itemIndex === -1) {
            //throw new Error('Element is not found.');
            return;
        }
        // Update current timestamp
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
        // Import incoming data to the array
        this.dataSnapshot.data.length = itemIndex;
        //this.dataSnapshot.data = this.dataSnapshot.data.slice(0, itemIndex + 1);
    };
    /**
     * Removes items from the start.
     * Iteratest through items from beginning, finds first item that is not fit to condition and removes all preceding.
     * @param predicate
     */
    ArrayDataStorage.prototype.trimLeft = function (predicate) {
        var index = -1;
        this.dataSnapshot.data.some(function (e, i) {
            if (!predicate(e)) {
                index = i;
                return true;
            }
            return false;
        });
        if (index === -1) {
            // If no elements in array or all elements fit the condition.
            this.dataSnapshot.data = [];
        }
        else {
            this.dataSnapshot.data.splice(0, index);
        }
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
    };
    /**
     * Removes items from the end.
     * Iteratest through items from end, finds first item that is not fit to condition and removes all following.
     * @param predicate
     */
    ArrayDataStorage.prototype.trimRight = function (predicate) {
        var l = this.dataSnapshot.data.length;
        var index = -1;
        for (var i = l - 1; i >= 0; i -= 1) {
            if (!predicate(this.dataSnapshot.data[i])) {
                index = i;
                break;
            }
        }
        if (index === -1) {
            // If no elements in array or all elements fit the condition.
            this.dataSnapshot.data = [];
        }
        else if ((index + 1) < l) {
            this.dataSnapshot.data.splice(index + 1); // remove all items after specified index (inclusive)
        }
        this.dataSnapshot.timestamp = this.dataSnapshot.timestamp + 1;
    };
    // public filter(filter?: (item: T) => boolean): IDataIterator<T> {
    //     return new ArrayIterator<T>(this.dataSnapshot, this.dataSnapshot.timestamp, filter);
    // }
    ArrayDataStorage.prototype.getIterator = function (filter) {
        return new ArrayIterator_1.ArrayIterator(this.dataSnapshot, this.dataSnapshot.timestamp, filter);
        // // Find the element
        // const itemIndex = this.findIndex(predicate);
        // if (itemIndex !== -1) {
        //     const imin = Math.min(itemIndex, itemIndex + count);
        //     const imax = Math.max(itemIndex, itemIndex + count);
        //     return new ArrayIterator(this.dataSnapshot, this.dataSnapshot.timestamp,
        //                              (e: T, i: number) => { return (i >= imin && i <= imax); });
        // } else {
        //     return new ArrayIterator(
        //         this.dataSnapshot, this.dataSnapshot.timestamp, (e: T, i: number) => false); // Do not return anything               
        // }
    };
    return ArrayDataStorage;
}());
exports.ArrayDataStorage = ArrayDataStorage;
},{"../utils/index":180,"./ArrayIterator":59}],59:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayIterator = (function () {
    function ArrayIterator(dataSnapshot, timestamp, filter) {
        this.dataSnapshot = dataSnapshot;
        this.timestamp = timestamp;
        this.currentIndex = 0;
        this.currentIndex = -1;
        this.filter = filter;
    }
    ArrayIterator.prototype.reset = function () {
        this.currentIndex = -1;
        this.timestamp = this.dataSnapshot.timestamp;
    };
    /**
     * Starts from the beginning of data.
     * If item is found returns true, if not - false.
     */
    ArrayIterator.prototype.goTo = function (predicate) {
        this.reset();
        while (this.moveNext()) {
            if (predicate(this.current)) {
                return true;
            }
        }
        return false;
    };
    /**
     * Moves iterator while condition is met. Stays on the last element that satisfies condition.
     * Starts from the beginning.
     * @param predicate
     */
    ArrayIterator.prototype.goWhile = function (predicate) {
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        this.reset();
        var nextIndex = 0;
        while (nextIndex < this.dataSnapshot.data.length
            && predicate(this.dataSnapshot.data[nextIndex])) {
            this.currentIndex = nextIndex;
            nextIndex += 1;
        }
        return (this.currentIndex >= 0 && this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Moves pointer from current position untill condition is met.
     * Returns count of moves done. Or -1 if could not find element.
     */
    ArrayIterator.prototype.moveTo = function (predicate) {
        var countMoves = 0;
        // First check current element:
        do {
            if (predicate(this.current)) {
                return countMoves;
            }
            countMoves += 1;
        } while (this.moveNext());
        return -1;
    };
    // public find(predicate: (item: T) => boolean): T | undefined {
    //     // Should not change state
    //     let index = -1;
    //     while (index < this.dataSnapshot.data.length) {
    //         index = this.skipFilteredForward(index);
    //         if (index < this.dataSnapshot.data.length && predicate(this.dataSnapshot.data[index])) {
    //             return this.dataSnapshot.data[index];
    //         }
    //     }
    // }
    // public count(): number {
    //     // Should not change state
    //     let count = 0;
    //     let index = -1;
    //     while (index < this.dataSnapshot.data.length) {
    //         index = this.skipFilteredForward(index);
    //         if (index < this.dataSnapshot.data.length) {
    //             count += 1;
    //         }
    //     }
    //     return count;
    // }
    ArrayIterator.prototype.skipFilteredForward = function (index) {
        if (this.filter) {
            do {
                index += 1;
            } while (index < this.dataSnapshot.data.length && !this.filter(this.dataSnapshot.data[index]));
        }
        else {
            index += 1;
        }
        return index;
    };
    ArrayIterator.prototype.skipFilteredBackward = function (index) {
        if (this.filter) {
            do {
                index -= 1;
            } while (index >= 0 && !this.filter(this.dataSnapshot.data[index]));
        }
        else {
            index -= 1;
        }
        return index;
    };
    /**
     * Moves pointer forward n times.
     * Returns actual count of moves done.
     */
    ArrayIterator.prototype.moveNextTimes = function (n) {
        var i = 0;
        while (i < n && this.moveNext()) {
            i += 1;
        }
        return i; //(i === n);
    };
    /**
     * Moves pointer forward/backward n times.
     * Returns actual count of moves done (positive or negative).
     * Current can not become undefined.
     */
    ArrayIterator.prototype.moveTimes = function (n) {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0 || n === 0) {
            return 0;
        }
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        var shift;
        if (n < 0) {
            shift = Math.max(-this.currentIndex, n);
        }
        else {
            shift = Math.min(this.dataSnapshot.data.length - (this.currentIndex + 1), n);
        }
        this.currentIndex += shift;
        return shift;
    };
    /**
     * Moves pointer on 1 item forward.
     * Returns false if can not move.
     */
    ArrayIterator.prototype.moveNext = function () {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0) {
            return false;
        }
        // Current index must not get greater then length
        if (this.currentIndex === this.dataSnapshot.data.length) {
            return false;
        }
        do {
            this.currentIndex += 1;
        } while (this.currentIndex < this.dataSnapshot.data.length
            && this.filter && !this.filter(this.dataSnapshot.data[this.currentIndex])); // If filter is defined use it.
        return (this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Moves pointer on 1 item backwards.
     * Returns false if can not move.
     */
    ArrayIterator.prototype.movePrev = function () {
        this.checkTimestamp();
        if (this.dataSnapshot.data.length === 0) {
            return false;
        }
        // Current index must not get less then -1
        if (this.currentIndex === -1) {
            return false;
        }
        // Using filter to skip some elements
        do {
            this.currentIndex -= 1;
        } while (this.currentIndex >= 0
            && this.filter && !this.filter(this.dataSnapshot.data[this.currentIndex])); // If filter is defined use it.
        return (this.currentIndex >= 0 && this.currentIndex < this.dataSnapshot.data.length);
    };
    /**
     * Iterates backwards starting from the current position.
     * Iterats till @func returns "true" and begginning of storage is not reached.
     * Counter: [
     *   0 - current element,
     *   1 - previous element,
     *   ...
     * ]
     * @param func
     */
    ArrayIterator.prototype.somebackward = function (func) {
        this.checkTimestamp();
        if (this.currentIndex < 0 || this.currentIndex >= this.dataSnapshot.data.length) {
            return;
        }
        var counter = 0;
        do {
            if (!func(this.current, counter)) {
                break;
            }
            counter += 1;
        } while (this.movePrev());
    };
    Object.defineProperty(ArrayIterator.prototype, "current", {
        get: function () {
            this.checkTimestamp();
            return this.dataSnapshot.data[this.currentIndex];
        },
        enumerable: true,
        configurable: true
    });
    ArrayIterator.prototype.goToLast = function () {
        if (this.filter) {
            throw new Error('Not implemented.');
        }
        this.reset();
        if (this.dataSnapshot.data.length > 0) {
            this.currentIndex = this.dataSnapshot.data.length - 1;
            return true;
        }
        return false;
    };
    Object.defineProperty(ArrayIterator.prototype, "last", {
        get: function () {
            if (this.filter) {
                throw new Error('Not implemented.');
            }
            this.checkTimestamp();
            if (this.dataSnapshot.data.length > 0) {
                return this.dataSnapshot.data[this.dataSnapshot.data.length - 1];
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ArrayIterator.prototype, "previous", {
        get: function () {
            if (this.filter) {
                throw new Error('Not implemented.');
            }
            this.checkTimestamp();
            if (this.currentIndex >= 1) {
                return this.dataSnapshot.data[this.currentIndex - 1];
            }
        },
        enumerable: true,
        configurable: true
    });
    ArrayIterator.prototype.checkTimestamp = function () {
        if (this.dataSnapshot.timestamp !== this.timestamp) {
            // TODO: Check behavior
            throw new Error('Data iterator is expired.');
        }
    };
    return ArrayIterator;
}());
exports.ArrayIterator = ArrayIterator;
},{}],60:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var DataSourceConfig_1 = require("./DataSourceConfig");
var TaskParams = (function () {
    function TaskParams(cuid, cuidLast, count) {
        this.cuid = cuid;
        this.cuidLast = cuidLast;
        this.count = count;
    }
    return TaskParams;
}());
var Request = (function () {
    function Request(uid, uidlast, count) {
        this.suid = uid;
        this.uidlast = uidlast;
        this.count = count;
    }
    Request.prototype.isEqual = function (other) {
        // return (other
        // && this.suid.compare(other.suid) === 0
        // && this.count === other.count);
        return (other !== undefined
            && this.suid.compare(other.suid) === 0
            && (this.uidlast === other.uidlast
                || (this.uidlast !== undefined && other.uidlast !== undefined && this.uidlast.compare(other.uidlast) === 0))
            && (this.count === other.count));
    };
    return Request;
}());
var ComputeTask = (function () {
    function ComputeTask(storage, params, datachanged, sendrequest, compute, next) {
        this.requests = [];
        this.isFinished = false;
        this.storage = storage;
        this.iterator = storage.getIterator();
        this.triggerDataChanged = datachanged;
        this.sendrequest = sendrequest;
        this.compute = compute;
        this.startTime = new Date();
        this.next = next;
        this.params = params;
        console.log("new ComputeTask( " + params.cuid.t.toISOString() + " " + (params.cuidLast ? params.cuidLast.t.toISOString() : "") + " " + params.count + " )");
        if (!params.count && !params.cuidLast) {
            throw new Error('Arguments "count" and "cuidLast" not defined.');
        }
    }
    Object.defineProperty(ComputeTask.prototype, "isOutdated", {
        get: function () {
            return ((new Date().getTime()) - this.startTime.getTime()) > (60 * 1000); // 1 min
        },
        enumerable: true,
        configurable: true
    });
    ComputeTask.prototype.start = function () {
        var _this = this;
        // clear timer
        this.startTime = new Date();
        console.log('----- Task.start -----');
        // Narrow load range
        if (this.params.count !== undefined && this.storage.first && this.storage.last) {
            if (this.params.cuid.compare(this.storage.first.uid) >= 0 && this.params.cuid.compare(this.storage.last.uid) <= 0) {
                var shift = void 0;
                if (this.storage.last.uid.compare(this.params.cuid) <= 0) {
                    shift = this.storage.length;
                }
                else {
                    this.iterator.goTo(function (item) { return true; }); // go to first element
                    shift = this.iterator.moveTo(function (item) { return item.uid.compare(_this.params.cuid) >= 0; });
                    if (shift === -1) {
                        shift = 0;
                    }
                }
                if (this.params.count > 0) {
                    this.params.cuid = this.storage.last.uid;
                    // Get distance b/w UID-LAST
                    this.params.count -= (this.storage.length - shift);
                    console.log("Narrowing range: " + this.storage.last.uid.t.toISOString() + " " + this.params.count);
                    if (this.params.count <= 0) {
                        this.params.count = 0;
                        this.isFinished = true;
                        return;
                    }
                }
                else {
                    this.params.cuid = this.storage.first.uid;
                    // Get distance b/w FIRST-UID
                    this.params.count += shift;
                    console.log("Narrowing range: " + this.storage.first.uid.t.toISOString() + " " + this.params.count);
                    if (this.params.count >= 0) {
                        this.params.count = 0;
                        this.isFinished = true;
                        return;
                    }
                }
            }
        }
        var newReqs = this.makeRequests();
        var _loop_1 = function (newReq) {
            // Check that requests are not repeated
            var some = this_1.requests.some(function (req) { return req.isEqual(newReq); });
            if (!some) {
                this_1.requests.push(newReq);
                // Send request
                this_1.sendrequest(newReq.suid, newReq.uidlast, newReq.count);
            }
        };
        var this_1 = this;
        for (var _i = 0, newReqs_1 = newReqs; _i < newReqs_1.length; _i++) {
            var newReq = newReqs_1[_i];
            _loop_1(newReq);
        }
    };
    ComputeTask.prototype.makeRequests = function () {
        var REQ_COUNT = 500;
        if (this.storage.first && this.storage.last) {
            var M = new index_1.AmountRange(this.params.cuid, this.params.cuidLast, this.params.count);
            var S = new index_1.AmountRange(this.storage.first.uid, this.storage.last.uid, this.storage.length);
            var diff = index_1.AmountRangeOps.difference(M, S);
            if (diff) {
                return diff.map(function (d) {
                    //-----------------------------------------------
                    var count = d.count;
                    if (d.count !== undefined) {
                        count = d.count > 0 ? REQ_COUNT : -REQ_COUNT; // extending to REQ_COUNT
                    }
                    //-----------------------------------------------
                    return new Request(d.uidStart, d.uidEnd, count);
                });
            }
            else {
                return [];
            }
        }
        else {
            return [
                new Request(this.params.cuid, undefined, REQ_COUNT)
            ];
        }
        // // Make request
        // let cuidRequest: Uid;
        // let countRequest: number;
        // if (this.params.count !== undefined) {
        //     if (this.params.count > 0) {
        //         cuidRequest = (this.storage.last !== undefined) ? this.storage.last.uid : this.params.cuid;
        //         countRequest = REQ_COUNT;
        //     } else if (this.params.count < 0) {
        //         cuidRequest = (this.storage.first !== undefined) ? this.storage.first.uid : this.params.cuid;
        //         countRequest = -REQ_COUNT;
        //     } else {
        //         this.isFinished = true;
        //         return;
        //     }
        // } else if (this.params.cuidLast !== undefined) {
        //     // get last uid
        //     cuidRequest = (this.storage.last !== undefined) ? this.storage.last.uid : this.params.cuid;
        //     countRequest = REQ_COUNT;
        // } else {
        //     throw new Error('Arguments "count" and "cuidLast" not defined.');
        // }
    };
    ComputeTask.prototype.computeAndTriggerEvent = function (arg) {
        var argres = this.compute(arg);
        if (argres) {
            this.triggerDataChanged(argres);
        }
    };
    ComputeTask.prototype.isArgRelated = function (arg) {
        var M = new index_1.AmountRange(arg.uidFirst, arg.uidLast, arg.count);
        var S = new index_1.AmountRange(this.params.cuid, this.params.cuidLast, this.params.count);
        return index_1.AmountRangeOps.isIntersected(M, S);
        // const argFirstTime = arg.uidFirst.t.getTime();
        // const argLastTime = arg.uidLast.t.getTime();
        // const cuidTime = this.params.cuid.t.getTime();
        // if (this.params.cuidLast !== undefined) {
        //     // Checking if at least one time is inside interval
        //     const cuidLastTime = this.params.cuidLast.t.getTime();
        //     return ((argFirstTime >= cuidTime && argFirstTime <= cuidLastTime)
        //     || (argLastTime >= cuidTime && argLastTime <= cuidLastTime));
        // } else if (this.params.count !== undefined) {
        //     // Check if one of incoming Uid is on the right side
        //     if (this.params.count > 0) {
        //         return argLastTime >= cuidTime;
        //     } else if (this.params.count < 0) {
        //         return argFirstTime <= cuidTime;
        //     }
        // } else {
        //     throw new Error('Arguments "count" and "cuidLast" not defined.');
        // }
        // return false;
    };
    ComputeTask.prototype.checkIfDataEnough = function (params) {
        var _this = this;
        // TODO: There can be no exact Uid. Use gt/lt comparing
        if (this.iterator.goTo(function (item) { return item.uid.compare(_this.params.cuid) === 0; })) {
            if (this.params.count !== undefined) {
                return (this.iterator.moveTimes(this.params.count) === this.params.count);
            }
            else if (this.params.cuidLast !== undefined) {
                // There can be no exact Uid
                return this.iterator.moveTo(function (item) { return item.uid.compare(_this.params.cuid) >= 0; });
            }
            else {
                throw new Error('Arguments "count" and "cuidLast" not defined.');
            }
        }
    };
    ComputeTask.prototype.handleEvent = function (arg, sourceIterator) {
        // if (this.isFinished) {
        //     if (this.next) {
        //         this.next.handleEvent(arg, sourceIterator);
        //     }
        //     return;
        // }
        // Check if data is related to this task
        var related = this.isArgRelated(arg);
        console.log('----- Task.handleEvent -----');
        console.log("arg " + arg.uidFirst.t.toISOString() + " - " + arg.uidLast.t.toISOString() + " ");
        console.log("params " + this.params.cuid.t.toISOString() + " - " + (this.params.cuidLast ? this.params.cuidLast.t.toISOString() : "N/A") + " / " + this.params.count + " ");
        console.log('Related: ' + related);
        if (!related && this.next) {
            // If not - pass it further
            this.next.handleEvent(arg, sourceIterator);
            return;
        }
        // If yes
        // Compute values
        this.computeAndTriggerEvent(arg);
        if (!related) {
            // do not send requests
            return;
        }
        // Recheck data.
        if (this.checkIfDataEnough(this.params)) {
            console.log('task is finished');
            // If data is enough, finish.
            this.isFinished = true;
        }
        else {
            // If data is not enough
            // send one more request
            // clear timer
            this.startTime = new Date();
            this.start();
        }
    };
    return ComputeTask;
}());
var ComputedDataSource = (function (_super) {
    __extends(ComputedDataSource, _super);
    function ComputedDataSource(source) {
        var _this = _super.call(this, index_2.Candlestick, new DataSourceConfig_1.DataSourceConfig(source.precision)) || this;
        _this.comparer = function (lhs, rhs) { return lhs.uid.compare(rhs.uid); };
        _this.triggerDataChanged = function (arg) {
            _this.dateChangedEvent.trigger(arg);
        };
        _this.sendDataRequest = function (uid, uidLast, count) {
            console.log("Sending request: " + uid.t.toISOString() + " " + count);
            if (uidLast) {
                _this.source.loadRange(uid, uidLast);
            }
            else if (count) {
                _this.source.load(uid, count);
            }
            else {
                throw new Error('uid or count must be defined.');
            }
        };
        _this.onDataSourceChanged = function (arg) {
            console.log('============ STARTING TASKS CHAIN ============================');
            // Pass result to the tasks
            if (_this.task) {
                _this.task.handleEvent(arg, _this.sourceIterator);
                // Remove "outdated" tasks
                if (_this.task.isOutdated) {
                    _this.task = undefined;
                }
                else {
                    var current = _this.task;
                    while (current.next && !current.next.isOutdated) {
                        current = current.next;
                    }
                    current.next = undefined;
                }
            }
            else {
                // If not current task then create a new task
                _this.task = _this.createTask(arg.uidFirst, arg.uidLast, arg.count);
                _this.task.handleEvent(arg, _this.sourceIterator);
                //this.task.start();
            }
        };
        _this.computeDelegate = function (arg) {
            return _this.compute(arg);
        };
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer);
        _this.iterator = _this.dataStorage.getIterator();
        _this.source = source;
        _this.source.dataChanged.on(_this.onDataSourceChanged);
        _this.sourceIterator = source.getIterator();
        return _this;
    }
    ComputedDataSource.prototype.getIterator = function () {
        return this.dataStorage.getIterator();
    };
    ComputedDataSource.prototype.load = function (uid, count) {
        if (!uid || count === 0) {
            return;
        }
        console.log("CDS.load " + uid.t.toISOString() + " / " + count + " ");
        if (this.iterator.goTo(function (item) { return item.uid.compare(uid) === 0; })) {
            if (this.iterator.moveTimes(count) === count) {
                // data already loaded
                return;
            }
        }
        var params = new TaskParams(uid, undefined, count);
        this.task = new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, this.computeDelegate, this.task);
        this.task.start();
    };
    ComputedDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        if (!uidFirst || !uidLast || uidFirst.compare(uidLast) === 0) {
            return;
        }
        console.log("CDS.load " + uidFirst.t.toISOString() + " / " + uidLast.t.toISOString() + " ");
        // sort arguments
        if (uidFirst.compare(uidLast) > 0) {
            var temp = uidFirst;
            uidFirst = uidLast;
            uidLast = temp;
        }
        // TODO: There can be no exact Uid. Use gt/lt comparing
        if (this.iterator.goTo(function (item) { return item.uid.compare(uidFirst) === 0; })) {
            if (this.iterator.moveTo(function (item) { return item.uid.compare(uidLast) >= 0; })) {
                // data already loaded
                return;
            }
        }
        // const params = new TaskParams(uidFirst, uidLast);
        // this.task = new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, 
        //                             this.computeDelegate, this.task);
        this.task = this.createTask(uidFirst, uidLast, undefined, this.task);
        this.task.start();
    };
    ComputedDataSource.prototype.createTask = function (uidFirst, uidLast, count, nextTask) {
        var params = new TaskParams(uidFirst, uidLast, count);
        return new ComputeTask(this.dataStorage, params, this.triggerDataChanged, this.sendDataRequest, this.computeDelegate, nextTask);
    };
    ComputedDataSource.prototype.lock = function (uid) { };
    ComputedDataSource.prototype.dispose = function () {
        this.source.dataChanged.off(this.onDataSourceChanged);
    };
    return ComputedDataSource;
}(DataSource_1.DataSource));
exports.ComputedDataSource = ComputedDataSource;
},{"../core/index":56,"../model/index":146,"./ArrayDataStorage":58,"./DataSource":62,"./DataSourceConfig":63}],61:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var DataChangedEvent = (function (_super) {
    __extends(DataChangedEvent, _super);
    function DataChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return DataChangedEvent;
}(index_1.Event));
exports.DataChangedEvent = DataChangedEvent;
var DataChangedArgument = (function () {
    function DataChangedArgument(uidFirst, // uid of first element that changed
        uidLast, // uid of last element that changed
        count // count of elements that changed
    ) {
        this.uidFirst = uidFirst;
        this.uidLast = uidLast;
        this.count = count; // count of elements that changed
        if (count < 0) {
            throw new Error('DataChangedArgument property "count" must be positive.');
        }
    }
    return DataChangedArgument;
}());
exports.DataChangedArgument = DataChangedArgument;
},{"../shared/index":170}],62:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../shared/index");
var DataChangedEvent_1 = require("./DataChangedEvent");
var DataSource = (function () {
    function DataSource(dataType, config) {
        this.dateChangedEvent = new DataChangedEvent_1.DataChangedEvent();
        this._asset = '';
        this._name = '';
        this.defaultMinValue = 0;
        this.defaultMaxValue = 100;
        this.extensions = {};
        this._dataType = dataType;
        this._config = config;
    }
    Object.defineProperty(DataSource.prototype, "config", {
        // TODO: Derived classes have their own settings.
        get: function () {
            return this._config;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "dataChanged", {
        get: function () {
            return this.dateChangedEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "dataType", {
        get: function () {
            return this._dataType;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "asset", {
        get: function () {
            return this._asset;
        },
        set: function (value) {
            this._asset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "name", {
        get: function () {
            return this._name;
        },
        set: function (value) {
            this._name = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DataSource.prototype, "precision", {
        get: function () {
            return this._config.precision;
        },
        set: function (value) {
            this.config.precision = value;
        },
        enumerable: true,
        configurable: true
    });
    DataSource.prototype.getValuesRange = function (range) {
        this.validateRange(range);
        if (this.dataStorage.isEmpty) {
            return { start: this.defaultMinValue, end: this.defaultMaxValue };
        }
        var minValue = Number.MAX_VALUE;
        var maxValue = Number.MIN_VALUE;
        var iterator = this.dataStorage.getIterator();
        if (iterator.goTo(function (item) { return item.uid.compare(range.start) >= 0; })) {
            do {
                var h = iterator.current.h;
                var l = iterator.current.l;
                if (l !== undefined && l < minValue) {
                    minValue = l;
                }
                if (h !== undefined && h > maxValue) {
                    maxValue = h;
                }
            } while (iterator.moveNext() && iterator.current.uid.compare(range.end) <= 0);
        }
        return { start: minValue, end: maxValue };
    };
    DataSource.prototype.getHHLL = function (uidFrom, uidTo) {
        var start = uidFrom.compare(uidTo) <= 0 ? uidFrom : uidTo;
        var end = uidFrom.compare(uidTo) <= 0 ? uidTo : uidFrom;
        var o = undefined;
        var c = undefined;
        var ll = undefined;
        var hh = undefined;
        var uid = undefined;
        var iterator = this.dataStorage.getIterator();
        if (iterator.goTo(function (item) { return item.uid.compare(start) >= 0; })) {
            o = iterator.current.o;
            do {
                var h = iterator.current.h;
                var l = iterator.current.l;
                ll = ll === undefined ? l : Math.min(ll, l !== undefined ? l : +Infinity);
                hh = hh === undefined ? h : Math.max(hh, h !== undefined ? h : -Infinity);
                c = iterator.current.c;
                uid = iterator.current.uid;
            } while (iterator.moveNext() && iterator.current.uid.compare(end) <= 0);
        }
        return uid !== undefined ? new index_2.Candlestick(uid.t, c, o, hh, ll) : undefined;
    };
    DataSource.prototype.getLastCandle = function () {
        return this.dataStorage.last;
    };
    DataSource.prototype.addExtension = function (name, ext) {
        this.extensions[name] = ext;
        // recompute only new extension over whole extension
        this.computeExtensions(undefined, name);
    };
    DataSource.prototype.removeExtension = function (name) {
        // replace
        this.extensions[name] = undefined;
    };
    /**
     * Computes extension values over specified range.
     * @param arg Specified range. If not specified, recompute all data.
     * @param extUid If undefined, calculates for all extensions.
     */
    DataSource.prototype.computeExtensions = function (arg, extName) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        // 1. Determine required amount of previous values. Select max of all extensions. 
        //    Check if there any extension.
        //
        var requiredLength = -1;
        var extCount = 0;
        for (var _i = 0, _a = Object.keys(this.extensions); _i < _a.length; _i++) {
            var uid = _a[_i];
            var ext = this.extensions[uid];
            if (ext && extName && uid === extName) {
                requiredLength = ext.amountRequires;
                extCount = 1;
            }
            else if (ext && !extName) {
                requiredLength = Math.max(requiredLength, ext.amountRequires);
                extCount += 1;
            }
        }
        if (requiredLength === -1 || extCount === 0) {
            return arg;
        }
        // 2. Load previous values (if range is constrained). Init fixed size array
        //
        var line = new index_3.FixedSizeArray(requiredLength, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var iterator = this.dataStorage.getIterator();
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            // Fill fixed sized array
            var array = [];
            var counter = 0;
            while (counter < requiredLength && iterator.movePrev()) {
                array[counter] = iterator.current;
                counter += 1;
            }
            // Put in back order
            for (var i = array.length - 1; i >= 0; i -= 1) {
                line.push(array[i]);
            }
            // Return to first element
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            // go to first element
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
            // Fixed size array can not be filled
        }
        // 3. Compute (if range is constrained - till the end of array)
        //
        do {
            // Add current element
            line.push(iterator.current);
            for (var _b = 0, _c = Object.keys(this.extensions); _b < _c.length; _b++) {
                var uid = _c[_b];
                var ext = this.extensions[uid];
                if (ext && extName && uid === extName) {
                    ext.extend(line);
                }
                else if (ext && !extName) {
                    ext.extend(line);
                }
            }
        } while (iterator.moveNext());
        // 4. Return __original__ range.
        return arg;
    };
    DataSource.prototype.setTimeRange = function (range) {
        this.timeRange = range;
    };
    DataSource.prototype.getSettings = function () {
        return new index_1.SettingSet('datasource');
    };
    DataSource.prototype.setSettings = function (settings) {
        return;
    };
    DataSource.prototype.validateDateRange = function (range) {
        if (!range) {
            throw new Error('Argument "range" is not defined.');
        }
        if (!range.start || !range.end) {
            throw new Error('Range is not defined.');
        }
        if (range.start > range.end) {
            throw new Error('Start of specified range should not be less then end.');
        }
    };
    DataSource.prototype.validateRange = function (range) {
        if (!range) {
            throw new Error('Argument "range" is not defined.');
        }
        if (!range.start || !range.end) {
            throw new Error('Range is not defined.');
        }
        if (range.start.t > range.end.t) {
            throw new Error('Start of specified range should not be less then end.');
        }
        else if (range.start.t.getTime() === range.end.t.getTime() && range.start.n > range.end.n) {
            throw new Error('Start of specified range should not be less then end.');
        }
    };
    DataSource.prototype.validateInterval = function (interval) {
        if (!interval) {
            throw new Error('Argument "interval" is not defined.');
        }
    };
    return DataSource;
}());
exports.DataSource = DataSource;
},{"../core/index":56,"../model/index":146,"../shared/index":170,"./DataChangedEvent":61}],63:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DataSourceConfig = (function () {
    function DataSourceConfig(precision) {
        this.precision = precision;
    }
    return DataSourceConfig;
}());
exports.DataSourceConfig = DataSourceConfig;
},{}],64:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * DataSourceFactory class.
 */
var index_1 = require("../core/index");
var LineBreakDataSource_1 = require("./LineBreakDataSource");
var RangeBarDataSource_1 = require("./RangeBarDataSource");
var RenkoDataSource_1 = require("./RenkoDataSource");
var HeikinAshiDataSource_1 = require("./HeikinAshiDataSource");
var DataSourceFactory = (function () {
    function DataSourceFactory() {
    }
    DataSourceFactory.CREATE = function (chartType, source, timeRange, context) {
        switch (chartType) {
            case index_1.ChartType.candle:
                return source;
            case index_1.ChartType.heikinashi:
                return new HeikinAshiDataSource_1.HeikinAshiDataSource(source, context);
            case index_1.ChartType.hollow:
                return source;
            case index_1.ChartType.line:
                return source;
            case index_1.ChartType.mountain:
                return source;
            case index_1.ChartType.ohlc:
                return source;
            case index_1.ChartType.rangebar:
                return new RangeBarDataSource_1.RangeBarDataSource(source, timeRange);
            case index_1.ChartType.renko:
                return new RenkoDataSource_1.RenkoDataSource(source, timeRange);
            case index_1.ChartType.linebreak:
                return new LineBreakDataSource_1.LineBreakDataSource(source, timeRange);
            default:
                throw new Error("Unexpected chart type=" + chartType);
        }
    };
    return DataSourceFactory;
}());
exports.DataSourceFactory = DataSourceFactory;
},{"../core/index":56,"./HeikinAshiDataSource":67,"./LineBreakDataSource":71,"./RangeBarDataSource":72,"./RenkoDataSource":73}],65:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var DataSourceRegister = (function () {
    //private static instance: DataSourceLocator;
    // public static get Instance() {
    //     return this.instance || (this.instance = new this());
    // }
    function DataSourceRegister() {
        this.sources = {};
    }
    DataSourceRegister.prototype.register = function (uid, ds) {
        this.sources[uid] = ds;
    };
    DataSourceRegister.prototype.list = function () {
        var ar = [];
        for (var _i = 0, _a = Object.keys(this.sources); _i < _a.length; _i++) {
            var id = _a[_i];
            var ds = this.sources[id];
            ar.push(new index_1.IdValue(id, ds.asset));
        }
        return ar;
    };
    DataSourceRegister.prototype.getItem = function (uid) {
        var ds = this.sources[uid];
        if (ds) {
            return ds;
        }
        else {
            throw new Error("Can not find data source with id='" + uid + "'.");
        }
    };
    return DataSourceRegister;
}());
exports.DataSourceRegister = DataSourceRegister;
},{"../shared/index":170}],66:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DataType = (function () {
    function DataType() {
    }
    return DataType;
}());
DataType.point = 'point';
DataType.candle = 'candle';
exports.DataType = DataType;
},{}],67:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../data/index");
var index_2 = require("../model/index");
var IndicatorDataSource_1 = require("./IndicatorDataSource");
var HeikinAshiDataSource = (function (_super) {
    __extends(HeikinAshiDataSource, _super);
    function HeikinAshiDataSource(source, context) {
        return _super.call(this, index_2.Candlestick, source, context) || this;
    }
    HeikinAshiDataSource.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        // Get source data without loading
        var iterator = this.source.getIterator();
        var move;
        move = arg ? iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; }) : iterator.moveNext();
        if (!move) {
            return; // Finish if no data
        }
        // Calculations
        // 
        var computedArray = [];
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var computed = this.computeCandle(iterator.current, iterator.previous);
            computedArray.push(computed);
        } while (iterator.moveNext());
        // Merge
        this.dataStorage.merge(computedArray);
        // Merge new data and notify subscribers
        return new index_1.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    HeikinAshiDataSource.prototype.computeCandle = function (current, previous) {
        var computed = new index_2.Candlestick(current.date);
        computed.uid.t = current.uid.t;
        computed.uid.n = current.uid.n;
        if (current.c !== undefined && current.o !== undefined && current.h !== undefined && current.l !== undefined
            && previous && previous.c !== undefined && previous.o !== undefined) {
            // HA-Close = (Open(0) + High(0) + Low(0) + Close(0)) / 4
            var hac = (current.o + current.h + current.l + current.c) / 4;
            computed.c = hac;
            // HA-Open = (HA-Open(-1) + HA-Close(-1)) / 2
            var hao = (previous.o + previous.c) / 2;
            computed.o = hao;
            // HA-High = Maximum of the High(0), HA-Open(0) or HA-Close(0) 
            computed.h = Math.max(current.h, hao, hac);
            // HA-Low = Minimum of the Low(0), HA-Open(0) or HA-Close(0)
            computed.l = Math.max(current.l, hao, hac);
        }
        else if (current.c !== undefined && current.o !== undefined && current.h !== undefined && current.l !== undefined) {
            computed.c = (current.o + current.h + current.l + current.c) / 4;
            computed.o = (current.o + current.c) / 2;
            computed.h = current.h;
            computed.l = current.l;
        }
        return computed;
    };
    HeikinAshiDataSource.prototype.load = function (uid, count) {
        this.source.load(uid, count);
    };
    HeikinAshiDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        this.source.loadRange(uidFirst, uidLast);
    };
    HeikinAshiDataSource.prototype.lock = function (uid) {
        this.source.lock(uid);
    };
    return HeikinAshiDataSource;
}(IndicatorDataSource_1.IndicatorDataSource));
exports.HeikinAshiDataSource = HeikinAshiDataSource;
},{"../data/index":74,"../model/index":146,"./IndicatorDataSource":70}],68:[function(require,module,exports){
(function (global){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * HttpDataSource class.
 *
 * @classdesc Data source with dynamic data loading.
 */
var index_1 = require("../core/index");
var index_2 = require("../utils/index");
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataChangedEvent_1 = require("./DataChangedEvent");
var DataSource_1 = require("./DataSource");
var $ = (typeof window !== "undefined" ? window['$'] : typeof global !== "undefined" ? global['$'] : null);
var HttpDataSource = (function (_super) {
    __extends(HttpDataSource, _super);
    function HttpDataSource(dataType, config) {
        var _this = _super.call(this, dataType, config) || this;
        //private readonly defaultMinDate = new Date(2000, 0, 1);
        //private readonly defaultMaxItemsRequested = 100;
        _this.autoUpdatePeriodSec = 10;
        //protected borderTime: Date|undefined;
        _this.comparer = function (item1, item2) { return item1.uid.compare(item2.uid); };
        _this.isDisposed = false;
        _this.autoUpdate = function () {
            console.debug("auto update, interval=" + index_1.TimeInterval[_this.config.timeInterval]);
            // Define now and time of last candle
            var now = new Date();
            var lastT = new Date();
            lastT.setDate(lastT.getDate() - 1); // default value is now minus 1 day
            var lastItem = _this.dataStorage.last;
            if (lastItem) {
                // Last candle should be also updated
                lastT = index_2.DateUtils.substractInterval(lastItem.uid.t, _this.config.timeInterval);
            }
            // make request
            _this.makeRequest({ start: lastT, end: now }, _this.config.timeInterval);
            // schedule next autoupdate
            _this.scheduleAutoupdate();
        };
        _this.onResolved = function (response) {
            if (_this.isDisposed) {
                console.debug('Ignoring response to the disposed data source.');
                return;
            }
            if (response && response.data && response.data.length > 0) {
                var timeInterval = response.interval; //this.stringToTimeInterval(response.interval);
                if (timeInterval !== _this.config.timeInterval) {
                    // if timeinterval changed ignore response
                    console.debug("Ignoring request with wrong time interval " + timeInterval);
                    return;
                }
                // Update data
                //
                var lastBefore = _this.dataStorage.last !== undefined ? _this.dataStorage.last.uid : undefined;
                _this.dataStorage.merge(response.data);
                var lastAfter = _this.dataStorage.last !== undefined ? _this.dataStorage.last.uid : undefined;
                var uidFirst = response.data[0].uid;
                var uidLast = response.data[response.data.length - 1].uid; // last
                var count = response.data.length;
                var arg = new DataChangedEvent_1.DataChangedArgument(uidFirst, uidLast, count);
                arg.lastUidBefore = lastBefore;
                arg.lastUidAfter = lastAfter;
                // Update borderTime. It can only increase.
                //this.borderTime = (this.borderTime === undefined || this.borderTime < uidLast.t) ? uidLast.t : this.borderTime;
                _this.computeExtensions(arg);
                console.debug("HTTP: triggering event " + uidFirst.t.toISOString() + "-" + uidLast.t.toISOString());
                // Notify subscribers:
                _this.dateChangedEvent.trigger(arg);
            }
        };
        if (!config || (!config.url && !config.readData)) {
            throw new Error('Url and readData are not initialized.');
        }
        if (config.timeInterval === undefined) {
            throw new Error('Time interval is not set.');
        }
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(_this.comparer);
        _this.config.readData = config.readData || _this.makeDefaultReader();
        _this.config.resolveData = config.resolveData || _this.makeDefaultResolver();
        _this.config.autoupdate = (config.autoupdate !== undefined) ? config.autoupdate : false;
        _this.requestManager = new HttpRequestManager(_this.config.readData, _this.config.resolveData);
        if (_this.config.autoupdate) {
            // start autoupdate
            _this.scheduleAutoupdate();
        }
        return _this;
    }
    Object.defineProperty(HttpDataSource.prototype, "config", {
        get: function () {
            return this._config;
        },
        enumerable: true,
        configurable: true
    });
    HttpDataSource.prototype.scheduleAutoupdate = function () {
        this.timer = setTimeout(this.autoUpdate, this.autoUpdatePeriodSec * 1000);
        console.debug("scheduled autoupdate, timer=" + this.timer);
    };
    HttpDataSource.prototype.getIterator = function (filter) {
        // return everything
        return this.dataStorage.getIterator(filter);
    };
    HttpDataSource.prototype.lock = function (uid) {
        // TODO: When unloading data from memory do not unload specified range.
    };
    HttpDataSource.prototype.load = function (uid, count) {
        // HttpDataSource ignores uid.n
        var dateStart = uid.t;
        var dateEnd = index_2.DateUtils.addInterval(dateStart, this.config.timeInterval, count);
        var range = (count > 0) ? { start: dateStart, end: dateEnd } : { start: dateEnd, end: dateStart };
        return this.getDataInRange(range, this.config.timeInterval);
    };
    // Both UID are inclusive.
    HttpDataSource.prototype.loadRange = function (uidFirst, uidLast) {
        var dateFirst = uidFirst.t;
        var dateLast = uidLast.t;
        var range = (dateLast > dateFirst) ? { start: dateFirst, end: dateLast } : { start: dateLast, end: dateFirst };
        return this.getDataInRange(range, this.config.timeInterval);
    };
    HttpDataSource.prototype.getDataInRange = function (range, interval) {
        this.validateDateRange(range);
        this.validateInterval(interval);
        this.makeRequest(range, interval);
    };
    HttpDataSource.prototype.setTimeInterval = function (interval) {
        // set interval and clear storage
        //
        this.config.timeInterval = interval;
        this.dataStorage.clear();
        this.requestManager.clear();
    };
    HttpDataSource.prototype.makeRequest = function (range, interval) {
        if (this.isDisposed) {
            console.debug('Ignoring request from the disposed data source.');
            return;
        }
        // Make request
        var promises = this.requestManager.makeRequest(range, this.config.timeInterval);
        var self = this;
        for (var _i = 0, promises_1 = promises; _i < promises_1.length; _i++) {
            var promise = promises_1[_i];
            promise
                .then(this.onResolved);
        }
    };
    HttpDataSource.prototype.makeDefaultReader = function () {
        var url = this.config.url;
        var timeIntervalToString = this.timeIntervalToString;
        return function (timeStart, timeEnd, interval) {
            var settings = {
                method: 'GET',
                dataType: 'jsonp',
                url: url,
                data: {
                    interval: timeIntervalToString(interval),
                    startDateTime: timeStart.toISOString(),
                    endDateTime: timeEnd.toISOString()
                }
            };
            return $.ajax(settings);
        };
    };
    HttpDataSource.prototype.makeDefaultResolver = function () {
        var _this = this;
        return function (response) {
            // Map incoming data to model
            //
            var objects = response.data
                .filter(function (el) { return el && el.date; })
                .map(function (el) {
                var date = new Date(el.date);
                var obj = new _this.dataType(date);
                obj.deserialize(el);
                //obj.uid = this.dateToUid(el.date);
                return obj;
            });
            return {
                data: objects,
                interval: response.interval,
                dateFrom: new Date(response.startDateTime),
                dateTo: new Date(response.endDateTime)
            };
        };
    };
    HttpDataSource.prototype.merge = function (data) {
        if (data && data.length > 0) {
            var lastBefore = this.dataStorage.last !== undefined ? this.dataStorage.last.uid : undefined;
            this.dataStorage.merge(data);
            var lastAfter = this.dataStorage.last !== undefined ? this.dataStorage.last.uid : undefined;
            var uidFirst = data[0].uid;
            var uidLast = data[data.length - 1].uid; // last
            var count = data.length;
            var arg = new DataChangedEvent_1.DataChangedArgument(uidFirst, uidLast, count);
            arg.lastUidBefore = lastBefore;
            arg.lastUidAfter = lastAfter;
            // Notify subscribers:
            this.dateChangedEvent.trigger(arg);
        }
    };
    HttpDataSource.prototype.timeIntervalToString = function (interval) {
        return index_1.TimeInterval[interval];
    };
    HttpDataSource.prototype.stringToTimeInterval = function (interval) {
        return index_1.TimeInterval[interval];
    };
    HttpDataSource.prototype.dispose = function () {
        if (this.timer) {
            console.debug("dispose, timer=" + this.timer);
            clearTimeout(this.timer);
        }
        this.isDisposed = true;
    };
    return HttpDataSource;
}(DataSource_1.DataSource));
exports.HttpDataSource = HttpDataSource;
/**
 *
 */
var HttpRequestManager = (function () {
    function HttpRequestManager(reader, resolver) {
        var _this = this;
        this.total = new CompositeRange();
        this.queue = [];
        this.isRunningRequest = false;
        this.throttle = 100; // milliseconds
        this.sendRequest = function () {
            // Send first request in queue and schedule next one
            var promise = _this.queue.shift();
            if (promise) {
                _this.isRunningRequest = true;
                // start request
                if (promise.resolve) {
                    promise.resolve();
                }
                else {
                    throw new Error('Resolve function is not initialized.');
                }
                // schedule next request
                setTimeout(_this.sendRequest, _this.throttle);
            }
            else {
                _this.isRunningRequest = false;
            }
        };
        this.onSucceeded = function (response) {
            // If no errors append range
            _this.total.append({ start: response.dateFrom, end: response.dateTo });
        };
        this.onFailed = function (jqXhr, textStatus, errorThrown) {
            console.error("Request failed: " + textStatus + " " + errorThrown);
        };
        this.reader = reader;
        this.resolver = resolver;
    }
    HttpRequestManager.prototype.clear = function () {
        this.total.clear();
    };
    HttpRequestManager.prototype.makeRequest = function (range, interval, force) {
        var _this = this;
        if (force === void 0) { force = false; }
        var ranges = [range];
        if (!force) {
            // Check loaded range
            ranges = this.total.diff(range);
            if (ranges.length === 0) {
                return [];
            }
        }
        // 2. Check the queue; filter out intersections with pending requests.
        var filteredRanges = [];
        for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {
            var requestedRange = ranges_1[_i];
            var reqStartTime = requestedRange.start.getTime();
            var reqEndTime = requestedRange.end.getTime();
            // If there are pending requests, compare new request to them and exclude overlapping ranges.
            for (var _a = 0, _b = this.queue; _a < _b.length; _a++) {
                var req = _b[_a];
                var pendingStart = req.range.start.getTime();
                var pendingEnd = req.range.end.getTime();
                if (reqStartTime >= pendingStart && reqEndTime <= pendingEnd) {
                    // Pending requests includes new request. Just ignore new request.
                    return [];
                }
                else if (reqStartTime < pendingStart && reqEndTime > pendingStart && reqEndTime <= pendingEnd) {
                    reqEndTime = pendingStart; // exclude overlapping end
                }
                else if (reqEndTime > pendingEnd && reqStartTime >= pendingStart && reqStartTime < pendingEnd) {
                    reqStartTime = pendingEnd; // exclude overlapping start
                }
            }
            filteredRanges.push({ start: new Date(reqStartTime), end: new Date(reqEndTime) });
        }
        if (filteredRanges.length === 0) {
            return [];
        }
        // 3. Push requested ranges to queue
        var promises = [];
        var self = this;
        var _loop_1 = function (req) {
            var queuedPromise = new Promise(function (resolved, rejected) {
                _this.queue.push({ resolve: resolved, range: req });
            });
            var promise = new Promise(function (resolved, rejected) {
                // Add new request to collection of pending requests
                queuedPromise.then(function () {
                    var request = _this.reader(req.start, req.end, interval);
                    request
                        .then(_this.resolver)
                        .then(function (resp) { self.onSucceeded(resp); resolved(resp); })
                        .fail(function (jqXhr, textStatus, errorThrown) { self.onFailed(jqXhr, textStatus, errorThrown); rejected(errorThrown); });
                });
            });
            promises.push(promise);
        };
        for (var _c = 0, filteredRanges_1 = filteredRanges; _c < filteredRanges_1.length; _c++) {
            var req = filteredRanges_1[_c];
            _loop_1(req);
        }
        // 4. Kick off requests if they are not kicked off yet
        if (!this.isRunningRequest) {
            this.sendRequest();
        }
        return promises;
    };
    return HttpRequestManager;
}());
exports.HttpRequestManager = HttpRequestManager;
var Node = (function () {
    function Node(data, start, prev, next) {
        this.data = data;
        this.start = start;
        this.prev = prev;
        this.next = next;
    }
    return Node;
}());
var CompositeRange = (function () {
    function CompositeRange() {
        this.start = new Node(new Date(1900, 0), false);
    }
    /**
     * Appends specified range.
     * @param range
     */
    CompositeRange.prototype.append = function (range) {
        var S = range.start.getTime();
        var E = range.end.getTime();
        var prev = undefined;
        var cur = this.start;
        // 1. Insert range.start
        //
        var handledS = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (cur.start) {
                var Rs = cur.data.getTime();
                if (S < Rs) {
                    // Insert S, move to next point, go to insert E
                    var node = new Node(new Date(S), true, prev, cur);
                    prev.next = node;
                    cur.prev = node;
                    cur = node;
                    // prev = node;    // go to next
                    // cur = node.next;
                    handledS = true;
                    break;
                }
                else if (S === Rs) {
                    // Do not insert S, move to next point go to insert E
                    // prev = cur;    // go to next
                    // cur = cur.next;
                    handledS = true;
                    break;
                }
                else {
                    continue;
                }
            }
            else {
                var Re = cur.data.getTime();
                if (S < Re) {
                    // Do not insert anything, go to insert E
                    cur = prev; // step back
                    // prev = cur;    // go to next
                    // cur = cur.next;
                    handledS = true;
                    break;
                }
                else if (S === Re) {
                    // Remove Re, go to insert E, stay on current point
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                    handledS = true;
                    break;
                }
                else {
                    continue;
                }
            }
        }
        // 2. Insert range.end
        //
        var handledE = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (cur.start) {
                var Rs = cur.data.getTime();
                if (E < Rs) {
                    // Insert E, finish
                    var node = new Node(new Date(E), false, prev, cur);
                    prev.next = node;
                    cur.prev = node;
                    handledE = true;
                    break;
                }
                else if (E === Rs) {
                    // Remove Rs and finish
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    handledE = true;
                    break;
                }
                else {
                    // Remove Rs and continue
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                }
            }
            else {
                var Re = cur.data.getTime();
                if (E <= Re) {
                    // Do nothing, finish
                    handledE = true;
                    break;
                }
                else {
                    // Remove Re and continue
                    prev.next = cur.next;
                    if (cur.next) {
                        cur.next.prev = prev;
                    }
                    cur = prev;
                }
            }
        }
        // Case 1: If no ranges yet  => insert S and E
        // Case 2: S > all     => insert S and E
        // Case 3: E > last    => insert E
        if (!handledS) {
            // insert S
            var node = new Node(new Date(S), true, cur, cur.next);
            cur.next = node;
            if (cur.next) {
                cur.next.prev = node;
            }
            cur = node;
        }
        if (!handledE) {
            // insert E
            var node = new Node(new Date(E), false, cur, cur.next);
            cur.next = node;
            if (cur.next) {
                cur.next.prev = node;
            }
        }
    };
    CompositeRange.prototype.clear = function () {
        this.start.next = undefined;
    };
    /**
     * Checks if the specified range intersects composite range.
     * Returns difference.
     * @param range
     */
    CompositeRange.prototype.diff = function (range) {
        var ranges = [];
        var curRange;
        var mode = true; // start, end
        var S = range.start.getTime();
        var E = range.end.getTime();
        var prev = this.start;
        var cur = this.start;
        var finished = false;
        while (cur.next) {
            prev = cur;
            cur = cur.next;
            if (mode === true) {
                if (cur.start) {
                    var Rs = cur.data.getTime();
                    if (S < Rs) {
                        // Create new range, go to end mode
                        curRange = new Range(new Date(S), new Date(S));
                        mode = false; // end mode
                        cur = prev; // go back one step
                        continue;
                    }
                    else if (S > Rs) {
                        continue;
                    }
                    else {
                        if (cur.next) {
                            var Re = cur.next.data.getTime();
                            if (E <= Re) {
                                // Return what's there
                                finished = true;
                                break;
                            }
                            else {
                                // S = next Re, continue
                                S = Re;
                                continue;
                            }
                        }
                        else {
                            throw new Error('End time is not found');
                        }
                    }
                }
                else {
                    var Re = cur.data.getTime();
                    if (S < Re) {
                        S = Re;
                        if (E < S) {
                            finished = true;
                        }
                        curRange = new Range(new Date(S), new Date(S));
                        mode = false;
                        continue;
                    }
                    else if (S >= Re) {
                        // Skip
                        continue;
                    }
                }
            }
            else {
                if (cur.start) {
                    var Rs = cur.data.getTime();
                    if (E <= Rs) {
                        if (curRange) {
                            curRange.end = new Date(E);
                            ranges.push(curRange);
                        }
                        else {
                            throw new Error('Range is not created');
                        }
                        finished = true;
                        break;
                    }
                    else {
                        if (curRange) {
                            curRange.end = new Date(Rs);
                            ranges.push(curRange);
                        }
                        else {
                            throw new Error('Range is not created');
                        }
                        S = Rs;
                        mode = true; // start mode
                        cur = prev; // go back one step
                        continue;
                    }
                }
                else {
                    var Re = cur.data.getTime();
                    throw new Error('Unexpected condition.');
                }
            }
        }
        if (!finished) {
            ranges.push({ start: new Date(S), end: new Date(E) });
        }
        return ranges;
    };
    return CompositeRange;
}());
exports.CompositeRange = CompositeRange;
var Range = (function () {
    function Range(start, end) {
        this.start = start;
        this.end = end;
    }
    return Range;
}());
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/index":56,"../utils/index":180,"./ArrayDataStorage":58,"./DataChangedEvent":61,"./DataSource":62}],69:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var DataSourceConfig_1 = require("./DataSourceConfig");
var HttpDataSourceConfig = (function (_super) {
    __extends(HttpDataSourceConfig, _super);
    function HttpDataSourceConfig(url, timeInterval, readData, resolveData, precision, autoupdate) {
        if (autoupdate === void 0) { autoupdate = false; }
        var _this = _super.call(this, precision) || this;
        _this.url = url;
        _this.timeInterval = timeInterval;
        _this.readData = readData;
        _this.resolveData = resolveData;
        _this.precision = precision;
        _this.autoupdate = autoupdate;
        return _this;
    }
    return HttpDataSourceConfig;
}(DataSourceConfig_1.DataSourceConfig));
exports.HttpDataSourceConfig = HttpDataSourceConfig;
},{"./DataSourceConfig":63}],70:[function(require,module,exports){
/**
 * IndicatorDataSource class.
 */
// import {
//     //ArrayDataStorage,
//     ArrayIterator,
//     DataChangedArgument,
//     DataSource,
//     DataSourceConfig,
//     IContext,
//     IDataIterator,
//     IDataSource } from '../data/index';
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var ArrayDataStorage_1 = require("./ArrayDataStorage");
var DataSource_1 = require("./DataSource");
var DataSourceConfig_1 = require("./DataSourceConfig");
/**
 * 1-to-1 mapping with source.
 * uid the same as in source.
 */
var IndicatorDataSource = (function (_super) {
    __extends(IndicatorDataSource, _super);
    function IndicatorDataSource(dataType, source, context, comparer) {
        var _this = _super.call(this, dataType, new DataSourceConfig_1.DataSourceConfig(source.precision)) || this;
        _this.isInitialized = false;
        _this.defaultComparer = function (lhs, rhs) { return lhs.uid.compare(rhs.uid); };
        _this.triggerDataChanged = function (arg) {
            _this.dateChangedEvent.trigger(arg);
        };
        _this.onDataSourceChanged = function (arg) {
            var generatedArg = _this.compute(arg);
            if (generatedArg) {
                _this.triggerDataChanged(generatedArg);
            }
        };
        _this.dataStorage = new ArrayDataStorage_1.ArrayDataStorage(comparer || _this.defaultComparer);
        _this.source = source;
        _this.source.dataChanged.on(_this.onDataSourceChanged);
        _this.addInterval = context.addInterval; // should be initialized before computing
        _this.context = context;
        return _this;
    }
    IndicatorDataSource.prototype.getIterator = function (filter) {
        if (!this.isInitialized) {
            this.compute();
            this.isInitialized = true;
        }
        return this.dataStorage.getIterator(filter);
    };
    IndicatorDataSource.prototype.dispose = function () {
        this.source.dataChanged.off(this.onDataSourceChanged);
    };
    IndicatorDataSource.prototype.load = function (uid, count) { };
    IndicatorDataSource.prototype.loadRange = function (uidFirst, uidLast) { };
    IndicatorDataSource.prototype.lock = function (uid) { };
    /**
     * Returns last values from source
     */
    IndicatorDataSource.getPreviousValues = function (iterator, N, arg, accessor) {
        if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
            throw new Error('Source does not contain updated data');
        }
        var array = [];
        iterator.somebackward(function (item, counter) {
            if (counter > N) {
                return false;
            }
            if (counter > 0) {
                var val = accessor(item);
                if (val !== undefined) {
                    array.push(val);
                }
                return true;
            }
            return true; // Skip current item
        });
        array.reverse();
        return array;
    };
    IndicatorDataSource.getPreviousItems = function (iterator, N) {
        var array = [];
        iterator.somebackward(function (item, counter) {
            if (counter > N) {
                return false;
            }
            if (counter > 0) {
                array.push(item);
                return true;
            }
            return true; // Skip current item
        });
        array.reverse();
        return array;
    };
    return IndicatorDataSource;
}(DataSource_1.DataSource));
exports.IndicatorDataSource = IndicatorDataSource;
},{"./ArrayDataStorage":58,"./DataSource":62,"./DataSourceConfig":63}],71:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var LineBreakDataSource = (function (_super) {
    __extends(LineBreakDataSource, _super);
    function LineBreakDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new LineBreakSettings();
        _this.timeRange = timeRange;
        // Compute initial data set
        _this.compute();
        return _this;
    }
    LineBreakDataSource.prototype.compute = function (arg) {
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find 2 or 3 last computed item.
            var iter = this.dataStorage.getIterator();
            if (iter.goToLast()) {
                computedData.push(iter.current);
                if (iter.movePrev()) {
                    computedData.push(iter.current);
                }
                if (this.settings.breakType === BreakType.LineBreak3 && iter.movePrev()) {
                    computedData.push(iter.current);
                }
                // invert array
                computedData.reverse();
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    LineBreakDataSource.prototype.computeOne = function (computedArray, source) {
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var computed;
        if (last === undefined) {
            // Generate first item, just copying first candlestick
            computed = new index_2.Candlestick(source.date, source.c, source.o, source.h, source.l);
            computedArray.push(computed);
        }
        else {
            if (!last.c || !last.o) {
                throw new Error('Value of computed candle is undefined.');
            }
            var lastSign = last.c - last.o; // -1 down / +1 up / 0 can go both way
            var reverseValues = this.computeReverseValue(computedArray, this.settings.breakType === BreakType.LineBreak2 ? 2 : 3);
            if ((lastSign >= 0 && (source.c > last.c || source.c < reverseValues.start))
                || (lastSign <= 0 && (source.c < last.c || source.c > reverseValues.end))) {
                computed = new index_2.Candlestick(source.date, source.c, last.c, Math.max(last.c, source.c), Math.min(last.c, source.c));
                computedArray.push(computed);
            }
        }
    };
    LineBreakDataSource.prototype.computeReverseValue = function (lines, count) {
        if (lines.length === 0) {
            throw new Error('Array is empty.');
        }
        var min = Number.MAX_VALUE;
        var max = Number.MIN_VALUE;
        for (var i = lines.length - 1; i >= lines.length - count && i >= 0; i -= 1) {
            var c = lines[i].c;
            var o = lines[i].o;
            if (c > max) {
                max = c;
            }
            if (o > max) {
                max = o;
            }
            if (c < min) {
                min = c;
            }
            if (o < min) {
                min = o;
            }
        }
        return { start: min, end: max };
    };
    LineBreakDataSource.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('breakType', new index_1.SettingSet({
            name: 'breakType',
            displayName: 'Box',
            value: this.settings.breakType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: BreakType.LineBreak2.toString(), text: '2-Line Break' },
                { value: BreakType.LineBreak3.toString(), text: '3-Line Break' }
            ]
        }));
        return group;
    };
    LineBreakDataSource.prototype.setSettings = function (value) {
        var breakType = value.getSetting('datasource.breakType');
        this.settings.breakType = (breakType && breakType.value) ? parseInt(breakType.value, 10) : this.settings.breakType;
        // recompute
        this.compute();
    };
    return LineBreakDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.LineBreakDataSource = LineBreakDataSource;
var BreakType;
(function (BreakType) {
    BreakType[BreakType["LineBreak2"] = 2] = "LineBreak2";
    BreakType[BreakType["LineBreak3"] = 3] = "LineBreak3";
})(BreakType || (BreakType = {}));
var LineBreakSettings = (function () {
    function LineBreakSettings() {
        this.breakType = BreakType.LineBreak2;
    }
    return LineBreakSettings;
}());
},{"../core/index":56,"../model/index":146,"./ComputedDataSource":60,"./DataChangedEvent":61}],72:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * RangeBarDataSource class
 */
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var RangeBarDataSource = (function (_super) {
    __extends(RangeBarDataSource, _super);
    function RangeBarDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new RangeBarSettings();
        _this.timeRange = timeRange;
        // Renco requires ATR to define optimal box size
        _this.source.addExtension(index_1.AvgTrueRangeExtension.uname, new index_1.AvgTrueRangeExtension());
        // Compute initial data set
        _this.compute();
        return _this;
    }
    RangeBarDataSource.prototype.compute = function (arg) {
        // Get ATR from last item in the time range. This will be box size.
        var range = this.settings.range;
        if (this.settings.mode === Mode.ATR && this.timeRange) {
            var endTime_1 = this.timeRange.end.getTime();
            // Find first element that is greater than time range and move back
            if (this.sourceIterator.goTo(function (item) { return item.uid.t.getTime() > endTime_1; })
                && this.sourceIterator.movePrev()
                && this.sourceIterator.current.ext['atr']) {
                range = this.sourceIterator.current.ext['atr'];
            }
            else if (this.sourceIterator.last
                && this.sourceIterator.last.ext['atr']) {
                range = this.sourceIterator.last.ext['atr'];
            }
        }
        console.log("ATR=" + range);
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find last computed item
            if (this.dataStorage.last) {
                computedData.push(this.dataStorage.last);
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current, range);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    RangeBarDataSource.prototype.computeOne = function (computedArray, source, range) {
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var C = source.c;
        if (last === undefined) {
            // Build a new range
            var computed = new index_3.Candlestick(source.date);
            computed.o = source.c;
            computed.h = source.c;
            computed.l = source.c;
            // Close is undefined as the range is not built yet
            computedArray.push(computed);
        }
        else {
            if (last.h === undefined || last.o === undefined || last.l === undefined) {
                throw new Error('Value of computed candle is undefined.');
            }
            var counter = 0;
            //  while can build a new range
            while (last.h !== undefined && last.l !== undefined && (C < (last.h - range) || C > (last.l + range))) {
                // Close previous
                if (C < last.h - range) {
                    last.l = last.h - range;
                    last.c = last.h - range;
                }
                else if (C > last.l + range) {
                    last.h = last.l + range;
                    last.c = last.l + range;
                }
                // update time of previous
                last.uid.t = source.date;
                last.uid.n = counter;
                counter += 1;
                // Start new range
                var computed = new index_3.Candlestick(source.date);
                //computed.uid.n = counter;
                computed.o = last.c;
                computed.h = last.c;
                computed.l = last.c;
                computedArray.push(computed);
                last = computed;
                //counter += 1;
            }
            // Just update H / L
            last.uid.t = source.date;
            last.uid.n = counter;
            last.h = Math.max(last.h !== undefined ? last.h : -Infinity, C);
            last.l = Math.min(last.l !== undefined ? last.l : Infinity, C);
        }
    };
    RangeBarDataSource.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('mode', new index_2.SettingSet({
            name: 'mode',
            displayName: 'Mode',
            value: this.settings.mode.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: Mode.Fixed.toString(), text: 'Fixed' },
                { value: Mode.ATR.toString(), text: 'ATR' }
            ]
        }));
        group.setSetting('range', new index_2.SettingSet({
            name: 'range',
            displayName: 'Range',
            value: this.settings.range.toString(),
            settingType: index_2.SettingType.numeric,
            visible: this.settings.mode === Mode.Fixed
        }));
        return group;
    };
    RangeBarDataSource.prototype.setSettings = function (value) {
        var mode = value.getSetting('datasource.mode');
        this.settings.mode = (mode && mode.value) ? parseInt(mode.value, 10) : this.settings.mode;
        var range = value.getSetting('datasource.range');
        this.settings.range = (range && range.value) ? parseInt(range.value, 10) : this.settings.range;
        // recompute
        this.compute();
    };
    return RangeBarDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.RangeBarDataSource = RangeBarDataSource;
var Mode;
(function (Mode) {
    Mode[Mode["Fixed"] = 1] = "Fixed";
    Mode[Mode["ATR"] = 2] = "ATR";
})(Mode || (Mode = {}));
var RangeBarSettings = (function () {
    function RangeBarSettings() {
        this.mode = Mode.Fixed;
        this.range = 10;
    }
    return RangeBarSettings;
}());
},{"../compute/index":42,"../core/index":56,"../model/index":146,"./ComputedDataSource":60,"./DataChangedEvent":61}],73:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var ComputedDataSource_1 = require("./ComputedDataSource");
var DataChangedEvent_1 = require("./DataChangedEvent");
var RenkoCandle = (function (_super) {
    __extends(RenkoCandle, _super);
    function RenkoCandle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.visible = true;
        return _this;
    }
    return RenkoCandle;
}(index_3.Candlestick));
exports.RenkoCandle = RenkoCandle;
var RenkoDataSource = (function (_super) {
    __extends(RenkoDataSource, _super);
    function RenkoDataSource(source, timeRange) {
        var _this = _super.call(this, source) || this;
        _this.settings = new RencoSettings();
        _this.timeRange = timeRange;
        // Renco requires ATR to define optimal box size
        _this.source.addExtension(index_1.AvgTrueRangeExtension.uname, new index_1.AvgTrueRangeExtension());
        // Compute initial data set
        _this.compute();
        return _this;
    }
    RenkoDataSource.prototype.compute = function (arg) {
        // Get ATR from last item in the time range. This will be box size.
        var boxSize = this.settings.boxSize;
        if (this.settings.boxType === BoxType.ATR && this.timeRange) {
            var endTime_1 = this.timeRange.end.getTime();
            // Find first element that is greater than time range and move back
            if (this.sourceIterator.goTo(function (item) { return item.uid.t.getTime() > endTime_1; })
                && this.sourceIterator.movePrev()
                && this.sourceIterator.current.ext['atr']) {
                boxSize = this.sourceIterator.current.ext['atr'];
            }
            else if (this.sourceIterator.last
                && this.sourceIterator.last.ext['atr']) {
                boxSize = this.sourceIterator.last.ext['atr'];
            }
        }
        console.log("ATR=" + boxSize);
        var computedData = [];
        if (arg) {
            // Keep all uid that less than arg, and remove all that 
            var time_1 = arg.uidFirst.t.getTime();
            this.dataStorage.removeAfterInclusive(function (c) { return c.uid.t.getTime() >= time_1; });
            // Find last computed item
            //const last = this.storage.findLast(c => c.uid < first_suid);
            if (this.dataStorage.last) {
                computedData.push(this.dataStorage.last);
            }
            var res = this.sourceIterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
            if (!res) {
                return;
            }
        }
        else {
            // Remove everything and recompute
            this.dataStorage.clear();
            var res = this.sourceIterator.goTo(function (item) { return true; }); // go to first element
            if (!res) {
                return;
            }
        }
        do {
            this.computeOne(computedData, this.sourceIterator.current, boxSize);
        } while (this.sourceIterator.moveNext());
        // Merge new data and notify subscribers
        if (computedData.length > 0) {
            this.dataStorage.merge(computedData);
            return new DataChangedEvent_1.DataChangedArgument(computedData[0].uid, computedData[computedData.length - 1].uid, computedData.length);
        }
    };
    RenkoDataSource.prototype.computeOne = function (computedArray, source, box) {
        // ! if no close price, then ignore item
        // At least one candle should be generated, even 
        // if (source === undefined) {
        //     throw new Error('"source" argument is undefined.');
        // }
        var last = computedArray.length > 0 ? computedArray[computedArray.length - 1] : undefined;
        // TODO: replace with "isEmpty" function:
        if (!source.o || !source.c || !source.h || !source.l) {
            return;
        }
        var computed;
        // Generate first item
        if (last === undefined) {
            computed = new RenkoCandle(source.date, source.c, source.o, source.h, source.l);
            computed.visible = false;
            computedArray.push(computed);
        }
        else {
            if (last.c === undefined || last.h === undefined || last.o === undefined || last.l === undefined) {
                throw new Error('Value of computed candle is undefined.');
            }
            var diff = source.c - last.c;
            var change_dir = false;
            if (last.c < last.o && diff > 0) {
                change_dir = true;
            }
            else if (last.c > last.o && diff < 0) {
                change_dir = true;
            }
            var counter = 0;
            while ((!change_dir && Math.abs(diff) >= box) || (change_dir && Math.abs(diff) >= 2 * box)) {
                var addbox = (change_dir && counter === 0) ? 2 * box : box;
                diff = diff + (diff > 0 ? (-addbox) : addbox);
                if (last.visible === false) {
                    last.uid.t = source.uid.t;
                    last.uid.n = counter;
                    last.c = last.c + (diff > 0 ? addbox : (-addbox));
                    last.o = last.c + (diff > 0 ? (-box) : box); // depends on close
                    last.h = Math.max(last.o, last.c); // depends on open, close
                    last.l = Math.min(last.o, last.c); // depends on open, close
                    last.visible = true;
                }
                else {
                    computed = new RenkoCandle(source.date);
                    computed.uid.t = source.uid.t;
                    computed.uid.n = counter;
                    computed.c = last.c + (diff > 0 ? addbox : (-addbox));
                    computed.o = computed.c + (diff > 0 ? (-box) : box); // depends on close
                    computed.h = Math.max(computed.o, computed.c); // depends on open, close
                    computed.l = Math.min(computed.o, computed.c); // depends on open, close
                    computed.visible = true;
                    computedArray.push(computed);
                    last = computed;
                }
                counter += 1;
            }
        }
    };
    RenkoDataSource.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('boxType', new index_2.SettingSet({
            name: 'boxType',
            displayName: 'Box',
            value: this.settings.boxType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: BoxType.Fixed.toString(), text: 'Fixed' },
                { value: BoxType.ATR.toString(), text: 'ATR' }
            ]
        }));
        group.setSetting('boxSize', new index_2.SettingSet({
            name: 'boxSize',
            displayName: 'Box size',
            value: this.settings.boxSize.toString(),
            settingType: index_2.SettingType.numeric,
            visible: this.settings.boxType === BoxType.Fixed
        }));
        return group;
    };
    RenkoDataSource.prototype.setSettings = function (value) {
        var boxType = value.getSetting('datasource.boxType');
        this.settings.boxType = (boxType && boxType.value) ? parseInt(boxType.value, 10) : this.settings.boxType;
        var boxSize = value.getSetting('datasource.boxSize');
        this.settings.boxSize = (boxSize && boxSize.value) ? parseInt(boxSize.value, 10) : this.settings.boxSize;
        // recompute
        this.compute();
    };
    return RenkoDataSource;
}(ComputedDataSource_1.ComputedDataSource));
exports.RenkoDataSource = RenkoDataSource;
var BoxType;
(function (BoxType) {
    BoxType[BoxType["Fixed"] = 1] = "Fixed";
    BoxType[BoxType["ATR"] = 2] = "ATR";
})(BoxType || (BoxType = {}));
var RencoSettings = (function () {
    function RencoSettings() {
        //public period: number = 20;
        this.boxType = BoxType.Fixed;
        this.boxSize = 10;
    }
    return RencoSettings;
}());
},{"../compute/index":42,"../core/index":56,"../model/index":146,"./ComputedDataSource":60,"./DataChangedEvent":61}],74:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ArrayDataSource_1 = require("./ArrayDataSource");
exports.ArrayDataSource = ArrayDataSource_1.ArrayDataSource;
var ArrayDataStorage_1 = require("./ArrayDataStorage");
exports.ArrayDataStorage = ArrayDataStorage_1.ArrayDataStorage;
var ArrayIterator_1 = require("./ArrayIterator");
exports.ArrayIterator = ArrayIterator_1.ArrayIterator;
var DataChangedEvent_1 = require("./DataChangedEvent");
exports.DataChangedArgument = DataChangedEvent_1.DataChangedArgument;
exports.DataChangedEvent = DataChangedEvent_1.DataChangedEvent;
var DataSource_1 = require("./DataSource");
exports.DataSource = DataSource_1.DataSource;
var DataSourceConfig_1 = require("./DataSourceConfig");
exports.DataSourceConfig = DataSourceConfig_1.DataSourceConfig;
var DataSourceFactory_1 = require("./DataSourceFactory");
exports.DataSourceFactory = DataSourceFactory_1.DataSourceFactory;
var DataSourceRegister_1 = require("./DataSourceRegister");
exports.DataSourceRegister = DataSourceRegister_1.DataSourceRegister;
var DataType_1 = require("./DataType");
exports.DataType = DataType_1.DataType;
var HttpDataSource_1 = require("./HttpDataSource");
exports.CompositeRange = HttpDataSource_1.CompositeRange;
exports.HttpDataSource = HttpDataSource_1.HttpDataSource;
var HeikinAshiDataSource_1 = require("./HeikinAshiDataSource");
exports.HeikinAshiDataSource = HeikinAshiDataSource_1.HeikinAshiDataSource;
var HttpDataSourceConfig_1 = require("./HttpDataSourceConfig");
exports.HttpDataSourceConfig = HttpDataSourceConfig_1.HttpDataSourceConfig;
var IndicatorDataSource_1 = require("./IndicatorDataSource");
exports.IndicatorDataSource = IndicatorDataSource_1.IndicatorDataSource;
},{"./ArrayDataSource":57,"./ArrayDataStorage":58,"./ArrayIterator":59,"./DataChangedEvent":61,"./DataSource":62,"./DataSourceConfig":63,"./DataSourceFactory":64,"./DataSourceRegister":65,"./DataType":66,"./HeikinAshiDataSource":67,"./HttpDataSource":68,"./HttpDataSourceConfig":69,"./IndicatorDataSource":70}],75:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing curve.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var CurveFigureComponent = (function (_super) {
    __extends(CurveFigureComponent, _super);
    function CurveFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Curve', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(CurveFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CurveFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CurveFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    CurveFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c) ? index_4.DrawUtils.IS_POINT_ON_QUADCURVE(p, a, b, c, 5) : false;
    };
    CurveFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    CurveFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    CurveFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.quadraticCurveTo(b.x, b.y, c.x, c.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    CurveFigureComponent.prototype.getEditState = function () {
        return EditCurveState.instance;
    };
    CurveFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    CurveFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return CurveFigureComponent;
}(index_1.FigureComponent));
exports.CurveFigureComponent = CurveFigureComponent;
var DrawCurveState = (function (_super) {
    __extends(DrawCurveState, _super);
    function DrawCurveState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawCurveState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawCurveState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 2) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.curve);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
                this.figure.pointC = { uid: coordX, v: coordY };
                this.firstXY = this.stack.toXY({ uid: coordX, v: coordY });
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointC = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawCurveState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointC = { uid: coordX, v: coordY };
                // recompute B
                var a = this.stack.toXY({ uid: coordX, v: coordY });
                if (a && this.firstXY) {
                    var mid = index_4.DrawUtils.MID(a, this.firstXY);
                    this.figure.pointB = this.stack.xyToValue(mid);
                }
            }
        }
    };
    DrawCurveState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawCurveState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawCurveState = DrawCurveState;
var EditCurveState = (function (_super) {
    __extends(EditCurveState, _super);
    function EditCurveState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditCurveState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditCurveState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditCurveState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditCurveState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditCurveState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditCurveState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],76:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing date ranges.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var DateRangeFigureComponent = (function (_super) {
    __extends(DateRangeFigureComponent, _super);
    function DateRangeFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Date Range', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(DateRangeFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DateRangeFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (v) {
            this.pb.point = v;
        },
        enumerable: true,
        configurable: true
    });
    DateRangeFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            var arrow1 = index_4.DrawUtils.MID(a, c);
            var arrow2 = index_4.DrawUtils.MID(b, d);
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, a, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, arrow1, arrow2, 5);
        }
        return false;
    };
    DateRangeFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    DateRangeFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    DateRangeFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            var arrow1 = index_4.DrawUtils.MID(a, c);
            var arrow2 = index_4.DrawUtils.MID(b, d);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.setFillStyle('rgba(190, 230, 255, 0.3)');
            canvas.fillRect(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.abs(b.x - a.x), Math.abs(b.y - a.y));
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(c.x, c.y);
            canvas.moveTo(d.x, d.y);
            canvas.lineTo(b.x, b.y);
            canvas.moveTo(arrow1.x, arrow1.y);
            canvas.lineTo(arrow2.x, arrow2.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    DateRangeFigureComponent.prototype.getEditState = function () {
        return EditDateRangeState.instance;
    };
    DateRangeFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    DateRangeFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
        // rerender
        //this.context.render();
    };
    return DateRangeFigureComponent;
}(index_1.FigureComponent));
exports.DateRangeFigureComponent = DateRangeFigureComponent;
var DrawDateRangeState = (function (_super) {
    __extends(DrawDateRangeState, _super);
    function DrawDateRangeState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawDateRangeState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawDateRangeState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.daterange);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawDateRangeState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawDateRangeState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawDateRangeState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawDateRangeState = DrawDateRangeState;
var EditDateRangeState = (function (_super) {
    __extends(EditDateRangeState, _super);
    function EditDateRangeState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditDateRangeState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditDateRangeState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditDateRangeState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditDateRangeState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditDateRangeState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditDateRangeState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../shared/index":170,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],77:[function(require,module,exports){
/**
 * Classes for drawing ellipses.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var EllipseFigureComponent = (function (_super) {
    __extends(EllipseFigureComponent, _super);
    function EllipseFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Ellipse', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.r1 = 0;
        _this.angle = 0;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined && _this.pd.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid, _this.pd.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid, _this.pd.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined && _this.pd.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v, _this.pd.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v, _this.pd.point.v)
                };
            }
        };
        _this.onPointChanged = function () {
            _this.updatePoints();
        };
        _this.onP3changed = function () {
            var updRadius = _this.computeRadius(_this.pc.pixel);
            _this.store.radiusB = updRadius || _this.store.radiusB;
            _this.updatePoints();
        };
        _this.onP4changed = function () {
            var updRadius = _this.computeRadius(_this.pd.pixel);
            _this.store.radiusB = updRadius || _this.store.radiusB;
            _this.updatePoints();
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.pd = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        _this.addChild(_this.pd);
        _this.store = new SettingStore(container);
        // recompute points after loading figure
        _this.updatePoints();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(EllipseFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EllipseFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(EllipseFigureComponent.prototype, "radiusB", {
        get: function () {
            return this.store.radiusB;
        },
        set: function (value) {
            this.store.radiusB = value;
            this.updatePoints();
        },
        enumerable: true,
        configurable: true
    });
    EllipseFigureComponent.prototype.isHit = function (p) {
        var point = p;
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var angle = index_4.DrawUtils.ANGLE(a, b);
            var mid = index_4.DrawUtils.MID(a, b);
            var r1 = index_4.DrawUtils.DIST(a, b) / 2;
            var r2 = this.store.radiusB;
            // transfer to (0,0)
            point = { x: p.x - mid.x, y: p.y - mid.y };
            // rotate
            point = { x: point.x * Math.cos(angle) + point.y * Math.sin(angle),
                y: -point.x * Math.sin(angle) + point.y * Math.cos(angle) };
            var res = (r1 !== 0 && r2 !== 0)
                ? (point.x * point.x) / (r1 * r1) + (point.y * point.y) / (r2 * r2)
                : 0;
            return res > 0.7 && res < 1.3;
        }
        return false;
    };
    EllipseFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    EllipseFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        this.updatePoints();
        // const c = this.pc.shift(dx, dy);
        // const d = this.pd.shift(dx, dy);
        return a || b;
    };
    EllipseFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var r2 = this.store.radiusB;
        var canvas = this.area.frontCanvas;
        if (a && b && r2) {
            // update computed points' coordinates
            this.updatePoints();
            var angle = index_4.DrawUtils.ANGLE(a, b);
            var dist = index_4.DrawUtils.DIST(a, b);
            var mid = index_4.DrawUtils.MID(a, b);
            canvas.beginPath();
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.ellipse(mid.x, mid.y, dist / 2, r2, angle, 0, 2 * Math.PI);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    EllipseFigureComponent.prototype.getEditState = function () {
        return EditEllipseState.instance;
    };
    EllipseFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    EllipseFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
        // rerender
        //this.context.render();
    };
    EllipseFigureComponent.prototype.computeRadius = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            return index_4.DrawUtils.DIST_TO_LINE(p, a, b);
        }
    };
    EllipseFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
            this.pc.changed.on(this.onP3changed);
            this.pd.changed.on(this.onP4changed);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
            this.pc.changed.off(this.onP3changed);
            this.pd.changed.off(this.onP4changed);
        }
    };
    EllipseFigureComponent.prototype.updatePoints = function () {
        this.subscribe(false); // prevent change events while recomputing
        // Update p3, p4
        var r2 = this.store.radiusB;
        var y1 = r2;
        var y2 = -r2;
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var angle = index_4.DrawUtils.ANGLE(a, b);
            var mid = index_4.DrawUtils.MID(a, b);
            // rotate
            var rotp1 = { x: y1 * Math.sin(-angle),
                y: y1 * Math.cos(-angle) };
            var rotp2 = { x: y2 * Math.sin(-angle),
                y: y2 * Math.cos(-angle) };
            // transfer
            var tp1 = { x: rotp1.x + mid.x, y: rotp1.y + mid.y };
            var tp2 = { x: rotp2.x + mid.x, y: rotp2.y + mid.y };
            this.pc.pixel = { x: tp1.x, y: tp1.y };
            this.pd.pixel = { x: tp2.x, y: tp2.y };
        }
        this.subscribe();
    };
    return EllipseFigureComponent;
}(index_1.FigureComponent));
exports.EllipseFigureComponent = EllipseFigureComponent;
var DrawEllipseState = (function (_super) {
    __extends(DrawEllipseState, _super);
    function DrawEllipseState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawEllipseState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawEllipseState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.ellipse);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.pa = { x: relX, y: relY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1) {
            if (this.figure) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.pb = { x: relX, y: relY };
        }
        else if (this.count === 2 && this.pa && this.pb) {
            var dist = index_4.DrawUtils.DIST_TO_LINE({ x: relX, y: relY }, this.pa, this.pb);
            if (this.figure) {
                this.figure.radiusB = dist;
                // this.figure.pointB.uid = coordX;
                // this.figure.pointB.v = coordY;
            }
        }
        else if (this.count > 2) {
            this.exit();
        }
        this.count += 1;
    };
    DrawEllipseState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 2) {
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
                this.pb = { x: relX, y: relY };
            }
        }
        else if (this.count === 3 && this.pa && this.pb) {
            var dist = index_4.DrawUtils.DIST_TO_LINE({ x: relX, y: relY }, this.pa, this.pb);
            if (this.figure) {
                this.figure.radiusB = dist;
            }
        }
    };
    DrawEllipseState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawEllipseState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawEllipseState = DrawEllipseState;
var EditEllipseState = (function (_super) {
    __extends(EditEllipseState, _super);
    function EditEllipseState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditEllipseState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditEllipseState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditEllipseState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditEllipseState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditEllipseState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditEllipseState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
        this.radiusB = this.radiusB;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "radiusB", {
        get: function () {
            return this.container.getProperty('point') || 0;
        },
        set: function (value) {
            this.container.setProperty('point', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],78:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci fan.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboFanFigureComponent = (function (_super) {
    __extends(FiboFanFigureComponent, _super);
    function FiboFanFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Fan', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(FiboFanFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboFanFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboFanFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_3.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboFanFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboFanFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboFanFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var p1 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: b.x, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = index_3.DrawUtils.EXTEND(a, p1, frame);
            var extP2 = index_3.DrawUtils.EXTEND(a, p2, frame);
            var extP3 = index_3.DrawUtils.EXTEND(a, p3, frame);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
            }
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extP3.x, extP3.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboFanFigureComponent.prototype.getEditState = function () {
        return EditFiboFanState.instance;
    };
    FiboFanFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboFanFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return FiboFanFigureComponent;
}(index_1.FigureComponent));
exports.FiboFanFigureComponent = FiboFanFigureComponent;
var DrawFiboFanState = (function (_super) {
    __extends(DrawFiboFanState, _super);
    function DrawFiboFanState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawFiboFanState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboFanState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.fibofan);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawFiboFanState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboFanState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboFanState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboFanState = DrawFiboFanState;
var EditFiboFanState = (function (_super) {
    __extends(EditFiboFanState, _super);
    function EditFiboFanState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditFiboFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboFanState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditFiboFanState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditFiboFanState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditFiboFanState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],79:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci levels.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboLevelFigureComponent = (function (_super) {
    __extends(FiboLevelFigureComponent, _super);
    function FiboLevelFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Level', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(FiboLevelFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboLevelFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboLevelFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_3.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboLevelFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboLevelFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboLevelFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var minx = Math.min(b.x, a.x);
            var maxx = frame.x + frame.w;
            var p1 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: minx, y: a.y + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = { x: maxx, y: p1.y };
            var extP2 = { x: maxx, y: p2.y };
            var extP3 = { x: maxx, y: p3.y };
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
            }
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(maxx, a.y); // level 0
            canvas.moveTo(p1.x, p1.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(p2.x, p2.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(p3.x, p3.y);
            canvas.lineTo(extP3.x, extP3.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboLevelFigureComponent.prototype.getEditState = function () {
        return EditFiboLevelState.instance;
    };
    FiboLevelFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboLevelFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
        // rerender
        //this.context.render();
    };
    return FiboLevelFigureComponent;
}(index_1.FigureComponent));
exports.FiboLevelFigureComponent = FiboLevelFigureComponent;
var DrawFiboLevelState = (function (_super) {
    __extends(DrawFiboLevelState, _super);
    function DrawFiboLevelState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawFiboLevelState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboLevelState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.fibolevel);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawFiboLevelState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboLevelState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboLevelState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboLevelState = DrawFiboLevelState;
var EditFiboLevelState = (function (_super) {
    __extends(EditFiboLevelState, _super);
    function EditFiboLevelState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditFiboLevelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboLevelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboLevelState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditFiboLevelState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditFiboLevelState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditFiboLevelState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],80:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci projection.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var FiboProjectionFigureComponent = (function (_super) {
    __extends(FiboProjectionFigureComponent, _super);
    function FiboProjectionFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboProjectionFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboProjectionFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5);
        }
        return false;
    };
    FiboProjectionFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboProjectionFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    FiboProjectionFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.store.color);
        canvas.lineWidth = this.store.width;
        canvas.beginPath();
        if (a && b && !c) {
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
        }
        else if (a && b && c) {
            var length100 = b.y - a.y;
            var x = c.x;
            var maxx = frame.x + frame.w;
            var basey = c.y;
            var p1 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[1] };
            var p2 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[2] };
            var p3 = { x: x, y: basey + length100 * index_2.Constants.FIBO_PERCENTAGE[3] };
            var extP1 = { x: maxx, y: p1.y };
            var extP2 = { x: maxx, y: p2.y };
            var extP3 = { x: maxx, y: p3.y };
            if (this.isSelected) {
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(b.x, b.y);
                canvas.lineTo(c.x, c.y);
            }
            canvas.moveTo(c.x, c.y);
            canvas.lineTo(maxx, c.y); // level 0
            canvas.moveTo(p1.x, p1.y);
            canvas.lineTo(extP1.x, extP1.y);
            canvas.moveTo(p2.x, p2.y);
            canvas.lineTo(extP2.x, extP2.y);
            canvas.moveTo(p3.x, p3.y);
            canvas.lineTo(extP3.x, extP3.y);
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboProjectionFigureComponent.prototype.getEditState = function () {
        return EditPitchforkState.instance;
    };
    FiboProjectionFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboProjectionFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return FiboProjectionFigureComponent;
}(index_1.FigureComponent));
exports.FiboProjectionFigureComponent = FiboProjectionFigureComponent;
var DrawFiboProjectionState = (function (_super) {
    __extends(DrawFiboProjectionState, _super);
    function DrawFiboProjectionState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawFiboProjectionState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboProjectionState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 2) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.fiboprojection);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2 && this.figure) {
            this.figure.pointC = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawFiboProjectionState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboProjectionState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboProjectionState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboProjectionState = DrawFiboProjectionState;
var EditPitchforkState = (function (_super) {
    __extends(EditPitchforkState, _super);
    function EditPitchforkState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditPitchforkState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPitchforkState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPitchforkState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditPitchforkState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditPitchforkState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditPitchforkState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],81:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing fibonacci time projection.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var Line = (function () {
    function Line(uid, percentage) {
        this.uid = uid;
        this.percentage = percentage;
    }
    return Line;
}());
var FiboTimeProjectionFigureComponent = (function (_super) {
    __extends(FiboTimeProjectionFigureComponent, _super);
    function FiboTimeProjectionFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Fibo Time Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.lines = [];
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.onPointChanged = function () {
            _this.updateLines();
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(FiboTimeProjectionFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FiboTimeProjectionFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    FiboTimeProjectionFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_3.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    FiboTimeProjectionFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    FiboTimeProjectionFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    FiboTimeProjectionFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var minx = Math.min(a.x, b.x);
            var maxx = Math.min(a.x, b.x);
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            for (var _i = 0, _a = this.lines; _i < _a.length; _i++) {
                var line = _a[_i];
                var x = this.taxis.toX(line.uid);
                if (x) {
                    canvas.moveTo(x, frame.y);
                    canvas.lineTo(x, frame.y + frame.h);
                }
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    FiboTimeProjectionFigureComponent.prototype.getEditState = function () {
        return EditFiboTimeProjectionState.instance;
    };
    FiboTimeProjectionFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    FiboTimeProjectionFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
        // rerender
        //this.context.render();
    };
    FiboTimeProjectionFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
        }
    };
    FiboTimeProjectionFigureComponent.prototype.updateLines = function () {
        this.subscribe(false); // prevent change events while recomputing
        this.lines = [];
        if (this.pa.point.uid && this.pb.point.uid) {
            var uidStart = this.pa.point.uid.compare(this.pb.point.uid) <= 0 ? this.pa.point.uid : this.pb.point.uid;
            var uidEnd = this.pa.point.uid.compare(this.pb.point.uid) <= 0 ? this.pb.point.uid : this.pa.point.uid;
            var dist100 = this.taxis.dist(this.pa.point.uid, this.pb.point.uid);
            if (dist100 !== undefined) {
                dist100 = Math.abs(dist100);
                var percantage = [
                    0,
                    index_2.Constants.FIBO_PERCENTAGE[1],
                    index_2.Constants.FIBO_PERCENTAGE[2],
                    index_2.Constants.FIBO_PERCENTAGE[3],
                    index_2.Constants.FIBO_PERCENTAGE[6]
                ];
                for (var _i = 0, percantage_1 = percantage; _i < percantage_1.length; _i++) {
                    var perc = percantage_1[_i];
                    var shift = Math.floor(dist100 * perc);
                    var uid = this.taxis.add(uidStart, shift);
                    if (uid) {
                        this.lines.push(new Line(uid, perc));
                    }
                }
            }
        }
        this.subscribe();
    };
    return FiboTimeProjectionFigureComponent;
}(index_1.FigureComponent));
exports.FiboTimeProjectionFigureComponent = FiboTimeProjectionFigureComponent;
var DrawFiboTimeProjectionState = (function (_super) {
    __extends(DrawFiboTimeProjectionState, _super);
    function DrawFiboTimeProjectionState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawFiboTimeProjectionState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawFiboTimeProjectionState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.fibotimeprojection);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawFiboTimeProjectionState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawFiboTimeProjectionState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawFiboTimeProjectionState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawFiboTimeProjectionState = DrawFiboTimeProjectionState;
var EditFiboTimeProjectionState = (function (_super) {
    __extends(EditFiboTimeProjectionState, _super);
    function EditFiboTimeProjectionState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditFiboTimeProjectionState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditFiboTimeProjectionState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditFiboTimeProjectionState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditFiboTimeProjectionState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditFiboTimeProjectionState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditFiboTimeProjectionState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],82:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing Gann fan.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var Line = (function () {
    function Line(coff, text) {
        this.coff = coff;
        this.text = text;
    }
    return Line;
}());
var GannFanFigureComponent = (function (_super) {
    __extends(GannFanFigureComponent, _super);
    function GannFanFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Gann Fan', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.lines = [
            new Line(0.125, '8/1'),
            new Line(0.25, '4/1'),
            new Line(0.33333, '3/1'),
            new Line(0.5, '2/1'),
            new Line(1, '1/1'),
            new Line(2, '1/2'),
            new Line(3, '1/3'),
            new Line(4, '1/4'),
            new Line(8, '1/8')
        ];
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(GannFanFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GannFanFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    GannFanFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_3.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    GannFanFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    GannFanFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    GannFanFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var length100 = b.y - a.y;
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            for (var _i = 0, _a = this.lines; _i < _a.length; _i++) {
                var line = _a[_i];
                var p = { x: b.x, y: a.y + length100 * line.coff };
                var ext = index_3.DrawUtils.EXTEND(a, p, frame);
                canvas.moveTo(a.x, a.y);
                canvas.lineTo(ext.x, ext.y);
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    GannFanFigureComponent.prototype.getEditState = function () {
        return EditGannFanState.instance;
    };
    GannFanFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    GannFanFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
        // rerender
        //this.context.render();
    };
    return GannFanFigureComponent;
}(index_1.FigureComponent));
exports.GannFanFigureComponent = GannFanFigureComponent;
var DrawGannFanState = (function (_super) {
    __extends(DrawGannFanState, _super);
    function DrawGannFanState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawGannFanState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawGannFanState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.gannfan);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawGannFanState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawGannFanState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawGannFanState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawGannFanState = DrawGannFanState;
var EditGannFanState = (function (_super) {
    __extends(EditGannFanState, _super);
    function EditGannFanState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditGannFanState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditGannFanState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditGannFanState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditGannFanState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditGannFanState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditGannFanState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],83:[function(require,module,exports){
/**
 * Classes for drawing horizontal lines.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var HorizontalLineFigureComponent = (function (_super) {
    __extends(HorizontalLineFigureComponent, _super);
    function HorizontalLineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Horizontal Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.store = new SettingStore(container);
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('p'));
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(HorizontalLineFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (value) {
            this.p.point = value;
        },
        enumerable: true,
        configurable: true
    });
    HorizontalLineFigureComponent.prototype.shift = function (dx, dy) {
        return this.p.shift(dx, dy);
    };
    HorizontalLineFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        // // TODO: Can be stored when coords are changed
        // const ax = this.coords.toX(this.pa.point.t === undefined ? <string>this.pa.point.uid : this.pa.point.t);
        // const bx = this.coords.toX(this.pb.point.t === undefined ? <string>this.pb.point.uid : this.pb.point.t);
        var pointy = this.yaxis.toX(this.p.point.v);
        // const by = this.coords.toY(this.pb.point.v);
        return p.y >= pointy - 3 && p.y <= pointy + 3;
    };
    HorizontalLineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var y = this.yaxis.toX(this.p.point.v);
            var canvas = this.area.frontCanvas;
            if (this.isHovered) {
                canvas.setStrokeStyle(this.store.color);
            }
            else {
                canvas.setStrokeStyle(this.store.color);
            }
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.moveTo(0, y);
            canvas.lineTo(this.size.width, y);
            canvas.stroke();
            canvas.closePath();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    HorizontalLineFigureComponent.prototype.getEditState = function () {
        return EditHorizontalLineState.instance;
    };
    return HorizontalLineFigureComponent;
}(index_1.FigureComponent));
exports.HorizontalLineFigureComponent = HorizontalLineFigureComponent;
var DrawHorizontalLineState = (function (_super) {
    __extends(DrawHorizontalLineState, _super);
    function DrawHorizontalLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawHorizontalLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawHorizontalLineState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.hline);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.point = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
            this.exit();
        }
        this.count += 1;
    };
    DrawHorizontalLineState.prototype.setLastPoint = function (point) { };
    DrawHorizontalLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawHorizontalLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawHorizontalLineState = DrawHorizontalLineState;
var EditHorizontalLineState = (function (_super) {
    __extends(EditHorizontalLineState, _super);
    function EditHorizontalLineState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditHorizontalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditHorizontalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditHorizontalLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditHorizontalLineState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditHorizontalLineState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditHorizontalLineState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],84:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing lines.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var LineFigureComponent = (function (_super) {
    __extends(LineFigureComponent, _super);
    function LineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Trend Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(LineFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LineFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    LineFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        return (a && b)
            ? index_3.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
            : false;
    };
    LineFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    LineFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    LineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    LineFigureComponent.prototype.getEditState = function () {
        return EditLineState.instance;
    };
    LineFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    LineFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return LineFigureComponent;
}(index_1.FigureComponent));
exports.LineFigureComponent = LineFigureComponent;
var DrawLineState = (function (_super) {
    __extends(DrawLineState, _super);
    function DrawLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawLineState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.line);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawLineState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawLineState = DrawLineState;
var EditLineState = (function (_super) {
    __extends(EditLineState, _super);
    function EditLineState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditLineState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditLineState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditLineState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],85:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var OhlcProjFigureComponent = (function (_super) {
    __extends(OhlcProjFigureComponent, _super);
    function OhlcProjFigureComponent(area, offset, size, settings, taxis, yaxis, container, source) {
        var _this = _super.call(this, 'OHLC Projection', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.source = source;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.onPointAChanged = function () {
            _this.subscribe(false);
            _this.constraintPointLast(_this.pa);
            _this.constraintPoint(_this.pa, undefined, _this.pb.point);
            _this.updateHHLL();
            _this.subscribe();
        };
        _this.onPointBChanged = function () {
            _this.subscribe(false);
            _this.constraintPointLast(_this.pb);
            _this.constraintPoint(_this.pb, _this.pa.point, _this.pc.point);
            _this.updateHHLL();
            _this.subscribe();
        };
        _this.onPointCChanged = function () {
            _this.subscribe(false);
            _this.constraintPoint(_this.pc, _this.pb.point, undefined);
            _this.subscribe();
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        // update values after loading figures
        _this.updateHHLL();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OhlcProjFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    OhlcProjFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c)
            ? (index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, a, 5))
            : false;
    };
    OhlcProjFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    OhlcProjFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    OhlcProjFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.moveTo(a.x, frame.y);
            canvas.lineTo(a.x, frame.y + frame.h);
            canvas.moveTo(b.x, frame.y);
            canvas.lineTo(b.x, frame.y + frame.h);
            if (c) {
                canvas.moveTo(c.x, frame.y);
                canvas.lineTo(c.x, frame.y + frame.h);
            }
            var minx = Math.min(a.x, b.x);
            var maxx = Math.max(a.x, b.x, c ? c.x : -Infinity);
            if (this.hhll) {
                if (this.hhll.o) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.o), maxx - minx);
                }
                if (this.hhll.c) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.c), maxx - minx);
                }
                if (this.hhll.h) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.h), maxx - minx);
                }
                if (this.hhll.l) {
                    this.hline(canvas, minx, this.yaxis.toX(this.hhll.l), maxx - minx);
                }
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    OhlcProjFigureComponent.prototype.hline = function (canvas, x, y, l) {
        canvas.moveTo(x, y);
        canvas.lineTo(x + l, y);
    };
    OhlcProjFigureComponent.prototype.getEditState = function () {
        return EditOhlcProjState.instance;
    };
    OhlcProjFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    OhlcProjFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    OhlcProjFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointAChanged);
            this.pb.changed.on(this.onPointBChanged);
            this.pc.changed.on(this.onPointCChanged);
        }
        else {
            this.pa.changed.off(this.onPointAChanged);
            this.pb.changed.off(this.onPointBChanged);
            this.pc.changed.off(this.onPointCChanged);
        }
    };
    OhlcProjFigureComponent.prototype.constraintPoint = function (p, pfrom, pto) {
        if (pfrom && p.point.uid && pfrom.uid && p.point.uid.compare(pfrom.uid) < 0) {
            p.point = { uid: pfrom.uid, v: p.point.v };
        }
        if (pto && p.point.uid && pto.uid && p.point.uid.compare(pto.uid) > 0) {
            p.point = { uid: pto.uid, v: p.point.v };
        }
    };
    OhlcProjFigureComponent.prototype.constraintPointLast = function (p) {
        if (this.source) {
            var last = this.source.getLastCandle();
            if (last && p.point.uid && p.point.uid.compare(last.uid) > 0) {
                p.point = { uid: last.uid, v: p.point.v };
            }
        }
    };
    OhlcProjFigureComponent.prototype.updateHHLL = function () {
        this.hhll = undefined;
        if (this.source && this.pa.point.uid && this.pb.point.uid) {
            this.hhll = this.source.getHHLL(this.pa.point.uid, this.pb.point.uid);
        }
    };
    return OhlcProjFigureComponent;
}(index_1.FigureComponent));
exports.OhlcProjFigureComponent = OhlcProjFigureComponent;
var DrawOhlcProjState = (function (_super) {
    __extends(DrawOhlcProjState, _super);
    function DrawOhlcProjState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawOhlcProjState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawOhlcProjState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 2) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.ohlcproj);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2 && this.figure) {
            this.figure.pointC = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawOhlcProjState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawOhlcProjState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawOhlcProjState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawOhlcProjState = DrawOhlcProjState;
var EditOhlcProjState = (function (_super) {
    __extends(EditOhlcProjState, _super);
    function EditOhlcProjState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditOhlcProjState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditOhlcProjState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditOhlcProjState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditOhlcProjState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditOhlcProjState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditOhlcProjState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],86:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing path.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var PathFigureComponent = (function (_super) {
    __extends(PathFigureComponent, _super);
    function PathFigureComponent(area, offset, size, chartSettings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Path', offset, size, container) || this;
        _this.area = area;
        _this.chartSettings = chartSettings;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.p = [];
        _this._closed = false;
        _this.getTimeRange = function (ctx, size) {
            if (_this.p.length > 0) {
                var min_1;
                var max_1;
                _this.p.forEach(function (value) {
                    var uid = value.point.uid;
                    if (uid) {
                        min_1 = min_1 ? (min_1.compare(uid) <= 0 ? min_1 : uid) : uid;
                        max_1 = max_1 ? (max_1.compare(uid) >= 0 ? max_1 : uid) : uid;
                    }
                });
                return (min_1 && max_1) ? { start: min_1, end: max_1 } : undefined;
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.p.length > 0) {
                var min_2;
                var max_2;
                _this.p.forEach(function (value) {
                    var v = value.point.v;
                    if (v) {
                        min_2 = min_2 ? (min_2 <= v ? min_2 : v) : v;
                        max_2 = max_2 ? (max_2 >= v ? max_2 : v) : v;
                    }
                });
                return (min_2 && max_2) ? { start: min_2, end: max_2 } : undefined;
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, chartSettings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, chartSettings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        // restore points
        _this.pointsStore = container.getArrayProperty('points');
        for (var _i = 0, _a = _this.pointsStore.asArray(); _i < _a.length; _i++) {
            var pStore = _a[_i];
            _this.insertPoint(pStore);
            _this.closed = true; // for loaded figure set close
        }
        return _this;
    }
    Object.defineProperty(PathFigureComponent.prototype, "closed", {
        get: function () {
            return this._closed;
        },
        set: function (value) {
            this._closed = value;
        },
        enumerable: true,
        configurable: true
    });
    PathFigureComponent.prototype.addPoint = function (uid, v) {
        var pointContainer = this.pointsStore.addItem();
        var pf = this.insertPoint(pointContainer);
        pf.point = { uid: uid, v: v };
    };
    PathFigureComponent.prototype.insertPoint = function (container) {
        var pf = new PointFigureComponent_1.PointFigureComponent(this.area, this.offset, this.size, this.chartSettings, this.taxis, this.yaxis, container);
        this.p.push(pf);
        this.addChild(pf);
        return pf;
    };
    PathFigureComponent.prototype.getPoint = function (index) {
        if (index >= 0 && index < this.p.length) {
            return this.p[index].point;
        }
        else {
            throw new Error("Index out of ranges " + index + ". Length = " + this.p.length);
        }
    };
    PathFigureComponent.prototype.setPoint = function (index, v) {
        if (index >= 0 && index < this.p.length) {
            this.p[index].point = v;
        }
        else {
            throw new Error("Index out of ranges " + index + ". Length = " + this.p.length);
        }
    };
    PathFigureComponent.prototype.removePoint = function (index) {
        if (index >= 0 && index < this.p.length) {
            // remove from store and from ponts array
            this.pointsStore.removeItem(index);
            var removed = this.p.splice(index, 1);
            this.removeChild(removed[0]);
        }
    };
    Object.defineProperty(PathFigureComponent.prototype, "count", {
        get: function () {
            return this.p.length;
        },
        enumerable: true,
        configurable: true
    });
    PathFigureComponent.prototype.isHit = function (p) {
        var cur = undefined;
        var prev = undefined;
        // Check first last
        var hit = this.p.some(function (value) {
            cur = value.getXY();
            if (cur && prev) {
                if (index_4.DrawUtils.IS_POINT_ON_LINE(p, cur, prev, 5)) {
                    return true;
                }
            }
            prev = cur;
            return false;
        });
        // check last line
        if (!hit) {
            if (this.p.length > 1) {
                var first = this.p[0].getXY();
                if (cur && first) {
                    return index_4.DrawUtils.IS_POINT_ON_LINE(p, first, cur, 5);
                }
            }
        }
        return hit;
    };
    PathFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    PathFigureComponent.prototype.shift = function (dx, dy) {
        var result = false;
        this.p.forEach(function (point) {
            result = point.shift(dx, dy) || result;
        });
        return result;
    };
    PathFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.store.color);
        canvas.lineWidth = this.store.width;
        canvas.beginPath();
        var prev = undefined;
        this.p.forEach(function (value) {
            var cur = value.getXY();
            if (cur && prev) {
                canvas.lineTo(cur.x, cur.y);
            }
            else if (cur) {
                canvas.moveTo(cur.x, cur.y);
            }
            prev = cur;
            //return false;
        });
        if (this._closed) {
            canvas.closePath();
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    PathFigureComponent.prototype.getEditState = function () {
        return EditPathState.instance;
    };
    PathFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    PathFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return PathFigureComponent;
}(index_1.FigureComponent));
exports.PathFigureComponent = PathFigureComponent;
var DrawPathState = (function (_super) {
    __extends(DrawPathState, _super);
    function DrawPathState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawPathState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawPathState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (!coordX || coordY === undefined) {
            return;
        }
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.path);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.addPoint(coordX, coordY);
                this.firstXY = new index_3.Point(relX, relY);
            }
            this.board.treeChangedEvt.trigger();
        }
        else {
            if (this.figure) {
                this.figure.addPoint(coordX, coordY);
                this.lastXY = new index_3.Point(relX, relY);
            }
        }
        this.count += 1;
    };
    DrawPathState.prototype.fixPoint = function (point) {
        if (this.firstXY && this.lastXY && index_4.DrawUtils.IS_POINT_OVER(this.firstXY, this.lastXY, 10)) {
            // remove last point
            if (this.figure) {
                this.figure.removePoint(this.figure.count - 1);
                this.figure.closed = true;
            }
            this.exit();
            return;
        }
    };
    DrawPathState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        this.lastXY = new index_3.Point(relX, relY);
        if (coordX && coordY && this.figure.count > 0) {
            this.figure.setPoint(this.figure.count - 1, { uid: coordX, v: coordY });
        }
    };
    DrawPathState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        this.lastXY = undefined;
        this.firstXY = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawPathState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawPathState = DrawPathState;
var EditPathState = (function (_super) {
    __extends(EditPathState, _super);
    function EditPathState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditPathState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPathState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPathState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditPathState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditPathState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditPathState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../shared/index":170,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],87:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing pitchfork.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var PitchforkFigureComponent = (function (_super) {
    __extends(PitchforkFigureComponent, _super);
    function PitchforkFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Pitchfork', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PitchforkFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    PitchforkFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b && c) {
            var mid = index_4.DrawUtils.MID(b, c);
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, mid, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5);
        }
        return false;
    };
    PitchforkFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    PitchforkFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    PitchforkFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var frame = { x: this.offset.x, y: this.offset.y, w: this.size.width, h: this.size.height };
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        var extA = undefined;
        var mid = undefined;
        if (a && b) {
            if (c) {
                mid = index_4.DrawUtils.MID(b, c);
                extA = index_4.DrawUtils.EXTEND(a, mid, frame);
            }
            else {
                extA = index_4.DrawUtils.EXTEND(a, b, frame);
            }
        }
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.store.color);
        canvas.lineWidth = this.store.width;
        canvas.beginPath();
        if (a && b && !c && extA) {
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extA.x, extA.y);
        }
        else if (a && b && c && extA && mid) {
            // find left and right extensions
            var midAC = index_4.DrawUtils.MID(a, c);
            var midAB = index_4.DrawUtils.MID(a, b);
            // find 4th vertex of parallelogram
            var a1 = {
                x: 2 * midAC.x - mid.x,
                y: 2 * midAC.y - mid.y
            };
            var a2 = {
                x: 2 * midAB.x - mid.x,
                y: 2 * midAB.y - mid.y
            };
            // extend side lines
            var ext1 = index_4.DrawUtils.EXTEND(a1, c, frame);
            var ext2 = index_4.DrawUtils.EXTEND(a2, b, frame);
            canvas.moveTo(b.x, b.y);
            canvas.lineTo(c.x, c.y);
            // extensions
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(extA.x, extA.y);
            canvas.moveTo(c.x, c.y);
            canvas.lineTo(ext1.x, ext1.y);
            canvas.moveTo(b.x, b.y);
            canvas.lineTo(ext2.x, ext2.y);
        }
        canvas.stroke();
        _super.prototype.render.call(this, context, renderLocator);
    };
    PitchforkFigureComponent.prototype.getEditState = function () {
        return EditPitchforkState.instance;
    };
    PitchforkFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    PitchforkFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return PitchforkFigureComponent;
}(index_1.FigureComponent));
exports.PitchforkFigureComponent = PitchforkFigureComponent;
var DrawPitchforkState = (function (_super) {
    __extends(DrawPitchforkState, _super);
    function DrawPitchforkState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawPitchforkState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawPitchforkState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 2) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.pitchfork);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2 && this.figure) {
            this.figure.pointC = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawPitchforkState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawPitchforkState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawPitchforkState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawPitchforkState = DrawPitchforkState;
var EditPitchforkState = (function (_super) {
    __extends(EditPitchforkState, _super);
    function EditPitchforkState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditPitchforkState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPitchforkState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPitchforkState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditPitchforkState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditPitchforkState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditPitchforkState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],88:[function(require,module,exports){
/**
 * Classes for drawing rectangles.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var RectFigureComponent = (function (_super) {
    __extends(RectFigureComponent, _super);
    function RectFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Rectangle', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined) {
                return { start: _this.pa.point.uid, end: _this.pb.point.uid };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return { start: _this.pa.point.v, end: _this.pb.point.v };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        return _this;
    }
    Object.defineProperty(RectFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RectFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (v) {
            this.pb.point = v;
        },
        enumerable: true,
        configurable: true
    });
    RectFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var c = new index_3.Point(a.x, b.y);
            var d = new index_3.Point(b.x, a.y);
            return index_4.DrawUtils.IS_POINT_ON_LINE(p, a, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, d, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, a, d, 5);
        }
        return false;
    };
    RectFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    RectFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        return a || b;
    };
    RectFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var ca = this.pa.getXY();
        var cb = this.pb.getXY();
        if (ca && cb) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.strokeRect(ca.x, ca.y, cb.x - ca.x, cb.y - ca.y);
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    RectFigureComponent.prototype.getEditState = function () {
        return EditRectState.instance;
    };
    RectFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    RectFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return RectFigureComponent;
}(index_1.FigureComponent));
exports.RectFigureComponent = RectFigureComponent;
var DrawRectState = (function (_super) {
    __extends(DrawRectState, _super);
    function DrawRectState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawRectState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawRectState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 1) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.rect);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawRectState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        if (this.count === 2) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
        }
    };
    DrawRectState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawRectState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawRectState = DrawRectState;
var EditRectState = (function (_super) {
    __extends(EditRectState, _super);
    function EditRectState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditRectState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditRectState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditRectState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditRectState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditRectState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditRectState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../shared/index":170,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],89:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing text.
 */
var index_1 = require("../canvas/index");
var index_2 = require("../component/index");
var index_3 = require("../core/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TextFigureComponent = (function (_super) {
    __extends(TextFigureComponent, _super);
    function TextFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Text', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.store = new SettingStore(container);
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis);
        _this.p.visible = false;
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(TextFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (v) {
            this.p.point = v;
        },
        enumerable: true,
        configurable: true
    });
    TextFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        var x = this.taxis.toX(this.p.point.uid);
        var y = this.yaxis.toX(this.p.point.v);
        if (x !== undefined && this.rect) {
            return index_4.DrawUtils.IS_POINT_OVER_RECT(p, this.rect, 5);
        }
        return false;
    };
    TextFigureComponent.prototype.shift = function (dx, dy) {
        return this.p.shift(dx, dy);
    };
    TextFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var x = this.taxis.toX(this.p.point.uid);
            var y = this.yaxis.toX(this.p.point.v);
            if (x !== undefined) {
                var canvas = this.area.frontCanvas;
                canvas.setStrokeStyle('#FF0000');
                canvas.font = '15pt Arial';
                canvas.setTextAlign(index_1.CanvasTextAlign.Center);
                canvas.setFillStyle('#FF0000');
                var metrics = canvas.measureText(this.store.text);
                canvas.fillText(this.store.text, x, y);
                this.rect = { x: x, y: y, w: metrics.width, h: 15 }; // Height in px is equal to font size in pts
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TextFigureComponent.prototype.getEditState = function () {
        return EditTextState.instance;
    };
    return TextFigureComponent;
}(index_2.FigureComponent));
exports.TextFigureComponent = TextFigureComponent;
var DrawTextState = (function (_super) {
    __extends(DrawTextState, _super);
    function DrawTextState() {
        return _super.call(this) || this;
    }
    DrawTextState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTextState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        var stack = this.stack;
        var state;
        var figure;
        this.board.push2history(new index_3.Command(function () {
            state = stack.getState();
            figure = stack.addFigure(index_2.FigureType.text);
        }, function () {
            if (state) {
                stack.restore(state);
            }
        })
            .execute());
        if (figure) {
            this.figure = figure;
            this.figure.point = { uid: coordX, v: coordY };
        }
        this.board.treeChangedEvt.trigger();
        this.exit();
    };
    DrawTextState.prototype.setLastPoint = function (point) { };
    DrawTextState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTextState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTextState = DrawTextState;
var EditTextState = (function (_super) {
    __extends(EditTextState, _super);
    function EditTextState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditTextState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTextState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTextState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_1 = stack.getState();
            this.undo = function () { stack.restore(state_1); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditTextState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditTextState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_3.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditTextState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.text = this.text;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_3.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "text", {
        get: function () {
            return this.container.getProperty('text') || '';
        },
        set: function (value) {
            this.container.setProperty('text', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../canvas/index":19,"../component/index":40,"../core/index":56,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],90:[function(require,module,exports){
/**
 * Classes for drawing trend channels.
 */
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TrendChannelFigureComponent = (function (_super) {
    __extends(TrendChannelFigureComponent, _super);
    function TrendChannelFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Trend channel', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v)
                };
            }
        };
        _this.onPointChanged = function () {
            _this.updatePoints();
        };
        _this.onP3changed = function () {
            var updSpread = _this.computeSpread(_this.pc.pixel);
            _this.store.spread = updSpread || _this.store.spread;
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, undefined, true);
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        // recompute point after loading figure
        _this.updatePoints();
        _this.subscribe();
        return _this;
    }
    Object.defineProperty(TrendChannelFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TrendChannelFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TrendChannelFigureComponent.prototype, "spread", {
        get: function () {
            return this.store.spread;
        },
        set: function (value) {
            this.store.spread = value;
            this.updatePoints();
        },
        enumerable: true,
        configurable: true
    });
    TrendChannelFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var hit = false;
        if (a && b) {
            var spread = this.store.spread;
            hit = index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, { x: a.x, y: a.y + spread }, { x: b.x, y: b.y + spread }, 5);
        }
        return hit;
    };
    TrendChannelFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    TrendChannelFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        this.updatePoints();
        return a || b;
    };
    TrendChannelFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var canvas = this.area.frontCanvas;
        canvas.setStrokeStyle(this.store.color);
        canvas.lineWidth = this.store.width;
        if (a && b) {
            // update computed points' coordinates
            this.updatePoints();
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            canvas.stroke();
            var spread = this.store.spread;
            if (spread) {
                canvas.beginPath();
                canvas.moveTo(a.x, a.y + spread);
                canvas.lineTo(b.x, b.y + spread);
                canvas.stroke();
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TrendChannelFigureComponent.prototype.getEditState = function () {
        return EditTrendChannelState.instance;
    };
    TrendChannelFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    TrendChannelFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    TrendChannelFigureComponent.prototype.computeSpread = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var y = index_4.DrawUtils.LINEAR(a, b, p.x);
            return y !== undefined ? p.y - y : 0;
        }
    };
    TrendChannelFigureComponent.prototype.subscribe = function (sub) {
        if (sub === void 0) { sub = true; }
        if (sub) {
            this.pa.changed.on(this.onPointChanged);
            this.pb.changed.on(this.onPointChanged);
            this.pc.changed.on(this.onP3changed);
        }
        else {
            this.pa.changed.off(this.onPointChanged);
            this.pb.changed.off(this.onPointChanged);
            this.pc.changed.off(this.onP3changed);
        }
    };
    TrendChannelFigureComponent.prototype.updatePoints = function () {
        this.subscribe(false); // prevent change events while recomputing
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        if (a && b) {
            var mid = index_4.DrawUtils.MID(a, b);
            this.pc.pixel = { x: mid.x, y: mid.y + this.store.spread };
        }
        this.subscribe();
    };
    return TrendChannelFigureComponent;
}(index_1.FigureComponent));
exports.TrendChannelFigureComponent = TrendChannelFigureComponent;
var DrawTrendChannelState = (function (_super) {
    __extends(DrawTrendChannelState, _super);
    function DrawTrendChannelState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawTrendChannelState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTrendChannelState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.trendchannel);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.pa = { x: relX, y: relY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
            this.pb = { x: relX, y: relY };
        }
        else if (this.count === 2 && this.figure && this.pa && this.pb) {
            var y = index_4.DrawUtils.LINEAR(this.pa, this.pb, relX);
            this.figure.spread = y !== undefined ? relY - y : 0;
            // this.figure.pointC = { uid: coordX, v: coordY };
            // this.pb = { x: relX, y: relY };
        }
        else if (this.count === 3) {
            this.exit();
        }
        this.count += 1;
    };
    DrawTrendChannelState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var relX = point.x - this.board.offset.x - this.stack.offset.x;
        var relY = point.y - this.board.offset.y - this.stack.offset.y;
        var coordX = this.stack.xToValue(relX);
        var coordY = this.stack.yToValue(relY);
        if (this.count === 2) {
            if (coordX && coordY) {
                this.figure.pointB = { uid: coordX, v: coordY };
                this.pb = { x: relX, y: relY };
            }
        }
        else if (this.count === 3 && this.pa && this.pb) {
            var y = index_4.DrawUtils.LINEAR(this.pa, this.pb, relX);
            this.figure.spread = y !== undefined ? relY - y : 0;
        }
    };
    DrawTrendChannelState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTrendChannelState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTrendChannelState = DrawTrendChannelState;
var EditTrendChannelState = (function (_super) {
    __extends(EditTrendChannelState, _super);
    function EditTrendChannelState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditTrendChannelState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTrendChannelState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTrendChannelState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditTrendChannelState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditTrendChannelState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditTrendChannelState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
        this.spread = this.spread;
    }
    Object.defineProperty(SettingStore.prototype, "spread", {
        get: function () {
            return this.container.getProperty('spread') || 0;
        },
        set: function (value) {
            this.container.setProperty('spread', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],91:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing triangle.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var TriangleFigureComponent = (function (_super) {
    __extends(TriangleFigureComponent, _super);
    function TriangleFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Triangle', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.getTimeRange = function (ctx, size) {
            if (_this.pa.point.uid !== undefined && _this.pb.point.uid !== undefined && _this.pc.point.uid !== undefined) {
                return {
                    start: index_3.Uid.min(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid),
                    end: index_3.Uid.max(_this.pa.point.uid, _this.pb.point.uid, _this.pc.point.uid)
                };
            }
        };
        _this.getValueRange = function (ctx, size) {
            if (_this.pa.point.v !== undefined && _this.pb.point.v !== undefined && _this.pc.point.v !== undefined) {
                return {
                    start: Math.min(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v),
                    end: Math.max(_this.pa.point.v, _this.pb.point.v, _this.pc.point.v)
                };
            }
        };
        _this.store = new SettingStore(container);
        _this.timeRegion = new index_1.TimeRegionMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, settings, _this.getTimeRange);
        _this.addChild(_this.timeRegion);
        _this.valueRegion = new index_1.NumberRegionMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValueRange);
        _this.addChild(_this.valueRegion);
        _this.pa = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('a'));
        _this.pb = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('b'));
        _this.pc = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('c'));
        _this.addChild(_this.pa);
        _this.addChild(_this.pb);
        _this.addChild(_this.pc);
        return _this;
    }
    Object.defineProperty(TriangleFigureComponent.prototype, "pointA", {
        get: function () {
            return this.pa.point;
        },
        set: function (value) {
            this.pa.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TriangleFigureComponent.prototype, "pointB", {
        get: function () {
            return this.pb.point;
        },
        set: function (value) {
            this.pb.point = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TriangleFigureComponent.prototype, "pointC", {
        get: function () {
            return this.pc.point;
        },
        set: function (value) {
            this.pc.point = value;
        },
        enumerable: true,
        configurable: true
    });
    TriangleFigureComponent.prototype.isHit = function (p) {
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        return (a && b && c)
            ? (index_4.DrawUtils.IS_POINT_ON_LINE(p, a, b, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, b, c, 5)
                || index_4.DrawUtils.IS_POINT_ON_LINE(p, c, a, 5))
            : false;
    };
    TriangleFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.valueRegion.visible = selected;
        this.timeRegion.visible = selected;
    };
    TriangleFigureComponent.prototype.shift = function (dx, dy) {
        var a = this.pa.shift(dx, dy);
        var b = this.pb.shift(dx, dy);
        var c = this.pc.shift(dx, dy);
        return a || b || c;
    };
    TriangleFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var a = this.pa.getXY();
        var b = this.pb.getXY();
        var c = this.pc.getXY();
        if (a && b) {
            var canvas = this.area.frontCanvas;
            canvas.setStrokeStyle(this.store.color);
            canvas.lineWidth = this.store.width;
            canvas.beginPath();
            canvas.moveTo(a.x, a.y);
            canvas.lineTo(b.x, b.y);
            if (c) {
                canvas.lineTo(c.x, c.y);
                canvas.lineTo(a.x, a.y);
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    TriangleFigureComponent.prototype.getEditState = function () {
        return EditTriangleState.instance;
    };
    TriangleFigureComponent.prototype.getSettings = function () {
        return new index_2.SettingSet({
            name: 'line',
            group: true,
            settings: [
                {
                    name: 'color',
                    value: this.store.color.toString(),
                    settingType: index_2.SettingType.color,
                    displayName: 'Color'
                }, {
                    name: 'width',
                    value: this.store.width.toString(),
                    settingType: index_2.SettingType.numeric,
                    displayName: 'Width'
                }
            ]
        });
    };
    TriangleFigureComponent.prototype.setSettings = function (value) {
        this.store.color = value.getValueOrDefault('line.color', this.store.color);
        this.store.width = value.getValueOrDefault('line.width', this.store.width);
    };
    return TriangleFigureComponent;
}(index_1.FigureComponent));
exports.TriangleFigureComponent = TriangleFigureComponent;
var DrawTriangleState = (function (_super) {
    __extends(DrawTriangleState, _super);
    function DrawTriangleState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawTriangleState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawTriangleState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count > 2) {
            this.exit();
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (this.count === 0) {
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.triangle);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.pointA = { uid: coordX, v: coordY };
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
        }
        else if (this.count === 1 && this.figure) {
            this.figure.pointB = { uid: coordX, v: coordY };
        }
        else if (this.count === 2 && this.figure) {
            this.figure.pointC = { uid: coordX, v: coordY };
        }
        this.count += 1;
    };
    DrawTriangleState.prototype.setLastPoint = function (point) {
        if (!this.board || !this.stack || !this.figure) {
            return;
        }
        var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
        var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
        if (coordX && coordY) {
            if (this.count === 2) {
                this.figure.pointB = { uid: coordX, v: coordY };
            }
            else if (this.count === 3) {
                this.figure.pointC = { uid: coordX, v: coordY };
            }
        }
    };
    DrawTriangleState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawTriangleState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawTriangleState = DrawTriangleState;
var EditTriangleState = (function (_super) {
    __extends(EditTriangleState, _super);
    function EditTriangleState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditTriangleState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditTriangleState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditTriangleState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditTriangleState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditTriangleState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditTriangleState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../utils/index":180,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],92:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Classes for drawing vertical lines.
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var FigureStateBase_1 = require("./FigureStateBase");
var PointFigureComponent_1 = require("./PointFigureComponent");
var VerticalLineFigureComponent = (function (_super) {
    __extends(VerticalLineFigureComponent, _super);
    function VerticalLineFigureComponent(area, offset, size, settings, taxis, yaxis, container) {
        var _this = _super.call(this, 'Vertical Line', offset, size, container) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.store = new SettingStore(container);
        _this.p = new PointFigureComponent_1.PointFigureComponent(area, offset, size, settings, taxis, yaxis, container.getObjectProperty('p'));
        _this.addChild(_this.p);
        return _this;
    }
    Object.defineProperty(VerticalLineFigureComponent.prototype, "point", {
        get: function () {
            return this.p.point;
        },
        set: function (value) {
            this.p.point = value;
        },
        enumerable: true,
        configurable: true
    });
    VerticalLineFigureComponent.prototype.isHit = function (p) {
        if (!this.p.point.uid || !this.p.point.v) {
            return false;
        }
        var pointx = this.taxis.toX(this.p.point.uid);
        return pointx ? (p.x >= pointx - 3 && p.x <= pointx + 3) : false;
    };
    VerticalLineFigureComponent.prototype.shift = function (dx, dy) {
        return this.p.shift(dx, dy);
    };
    VerticalLineFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        if (this.p.point.uid && this.p.point.v) {
            var x = this.taxis.toX(this.p.point.uid);
            if (x !== undefined) {
                var canvas = this.area.frontCanvas;
                if (this.isHovered) {
                    canvas.setStrokeStyle(this.store.color);
                }
                else {
                    canvas.setStrokeStyle(this.store.color);
                }
                canvas.lineWidth = this.store.width;
                canvas.beginPath();
                canvas.moveTo(x, 0);
                canvas.lineTo(x, this.size.height);
                canvas.stroke();
                canvas.closePath();
            }
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    VerticalLineFigureComponent.prototype.getEditState = function () {
        return EditVerticalLineState.instance;
    };
    return VerticalLineFigureComponent;
}(index_1.FigureComponent));
exports.VerticalLineFigureComponent = VerticalLineFigureComponent;
var DrawVerticalLineState = (function (_super) {
    __extends(DrawVerticalLineState, _super);
    function DrawVerticalLineState() {
        var _this = _super.call(this) || this;
        _this.count = 0;
        return _this;
    }
    DrawVerticalLineState.prototype.activate = function (board, mouse, stack, parameters) {
        this.board = board;
        this.stack = stack;
        this.count = 0;
        _super.prototype.activate.call(this, board, mouse, stack, parameters);
    };
    DrawVerticalLineState.prototype.addPoint = function (point) {
        if (!this.board || !this.stack) {
            return;
        }
        if (this.count === 0) {
            var coordX = this.stack.xToValue(point.x - this.board.offset.x - this.stack.offset.x);
            var coordY = this.stack.yToValue(point.y - this.board.offset.y - this.stack.offset.y);
            var stack_1 = this.stack;
            var state_1;
            var figure_1;
            this.board.push2history(new index_2.Command(function () {
                state_1 = stack_1.getState();
                figure_1 = stack_1.addFigure(index_1.FigureType.vline);
            }, function () {
                if (state_1) {
                    stack_1.restore(state_1);
                }
            })
                .execute());
            if (figure_1) {
                this.figure = figure_1;
                this.figure.point = { uid: coordX, v: coordY };
            }
            this.board.treeChangedEvt.trigger();
            this.exit();
        }
        this.count += 1;
    };
    DrawVerticalLineState.prototype.setLastPoint = function (point) { };
    DrawVerticalLineState.prototype.exit = function () {
        this.figure = undefined;
        this.stack = undefined;
        if (this.board) {
            this.board.changeState('hover');
        }
    };
    return DrawVerticalLineState;
}(FigureStateBase_1.FigureStateBase));
exports.DrawVerticalLineState = DrawVerticalLineState;
var EditVerticalLineState = (function (_super) {
    __extends(EditVerticalLineState, _super);
    function EditVerticalLineState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditVerticalLineState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditVerticalLineState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditVerticalLineState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            // save state
            var state_2 = stack.getState();
            this.undo = function () { stack.restore(state_2); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditVerticalLineState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditVerticalLineState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditVerticalLineState;
}(FigureEditStateBase_1.FigureEditStateBase));
var SettingStore = (function () {
    function SettingStore(container) {
        this.container = container;
        // write initial values
        this.width = this.width;
        this.color = this.color;
    }
    Object.defineProperty(SettingStore.prototype, "color", {
        get: function () {
            return this.container.getProperty('color') || index_2.Constants.DEFAULT_FORECOLOR;
        },
        set: function (value) {
            this.container.setProperty('color', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SettingStore.prototype, "width", {
        get: function () {
            return this.container.getProperty('width') || 1;
        },
        set: function (value) {
            this.container.setProperty('width', value);
        },
        enumerable: true,
        configurable: true
    });
    return SettingStore;
}());
},{"../component/index":40,"../core/index":56,"./FigureEditStateBase":93,"./FigureStateBase":94,"./PointFigureComponent":95}],93:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../shared/index");
var FigureEditStateBase = (function () {
    function FigureEditStateBase() {
        this.lastMouse = new index_1.Point();
    }
    FigureEditStateBase.prototype.onMouseWheel = function (board, mouse) { };
    FigureEditStateBase.prototype.onMouseEnter = function (board, mouse) { };
    FigureEditStateBase.prototype.onMouseLeave = function (board, mouse) { };
    FigureEditStateBase.prototype.onMouseUp = function (board, mouse) {
        this.exit(board);
    };
    FigureEditStateBase.prototype.onMouseDown = function (board, mouse) { };
    FigureEditStateBase.prototype.onMouseMove = function (board, mouse) {
        if (this.stack) {
            // Change mouse x/y only if line was shifted. Ignoring "empty" movement.
            var shifted = this.shift(mouse.pos.x - this.lastMouse.x, mouse.pos.y - this.lastMouse.y);
            if (shifted) {
                _a = [mouse.pos.x, mouse.pos.y], this.lastMouse.x = _a[0], this.lastMouse.y = _a[1];
            }
        }
        else {
            _b = [mouse.pos.x, mouse.pos.y], this.lastMouse.x = _b[0], this.lastMouse.y = _b[1];
        }
        var _a, _b;
    };
    FigureEditStateBase.prototype.onTouchPan = function (board, touch) {
        if (this.lastTouch) {
            var dx = touch.center.x - this.lastTouch.x;
            var dy = touch.center.y - this.lastTouch.y;
            console.log("shifting " + dx + " " + dy);
            var shifted = this.shift(dx, dy);
            if (shifted) {
                _a = [touch.center.x, touch.center.y], this.lastTouch.x = _a[0], this.lastTouch.y = _a[1];
            }
        }
        else {
            this.lastTouch = new index_1.Point(touch.center.x, touch.center.y);
        }
        if (touch.isFinal) {
            this.exit(board);
        }
        var _a;
    };
    FigureEditStateBase.prototype.onTouchPress = function (board, touch) { };
    FigureEditStateBase.prototype.onTouchSwipe = function (board, touch) { };
    FigureEditStateBase.prototype.onTouchTap = function (board, touch) { };
    FigureEditStateBase.prototype.activate = function (board, mouse, stack, activationParameters) {
        _a = [mouse.pos.x, mouse.pos.y], this.lastMouse.x = _a[0], this.lastMouse.y = _a[1];
        this.lastTouch = undefined;
        this.stack = stack;
        var _a;
    };
    FigureEditStateBase.prototype.deactivate = function (board, mouse) { };
    FigureEditStateBase.prototype.exit = function (board) {
        this.stack = undefined;
        board.changeState('hover');
    };
    return FigureEditStateBase;
}());
exports.FigureEditStateBase = FigureEditStateBase;
},{"../shared/index":170}],94:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var FigureStateBase = (function () {
    function FigureStateBase() {
        this.state = 0; // current state
    }
    FigureStateBase.prototype.onMouseDown = function (board, mouse, stack) {
        if (!stack) {
            throw new Error('Stack is not specified');
        }
        if (!this.stack) {
            this.stack = stack;
        }
        if (this.state === 0) {
            // add first point and fix it
            this.addPoint(mouse.pos);
            this.fixPoint(mouse.pos);
            this.state = 1;
        }
        else if (this.state === 1) {
            // ignore
        }
        else if (this.state === 2) {
            // fix last point = finish line
            this.fixPoint(mouse.pos);
            this.state = 1;
        }
    };
    FigureStateBase.prototype.onMouseMove = function (board, mouse) {
        if (this.state === 0) {
            // hovering
        }
        else if (this.state === 1) {
            // fix last point
            this.fixPoint(mouse.pos);
            // add new point = start drawing line
            this.addPoint(mouse.pos);
            this.state = 2;
        }
        else if (this.state === 2) {
            // change last point
            this.setLastPoint(mouse.pos);
        }
    };
    FigureStateBase.prototype.onMouseUp = function (board, mouse) {
        if (this.state === 0) {
            // ignore
        }
        else if (this.state === 1) {
            // point is selected
            // fix last point
            this.fixPoint(mouse.pos);
        }
        else if (this.state === 2) {
            // line is drawn. Add new point and go
            // fix last point
            this.fixPoint(mouse.pos);
            // add new point = start drawing line
            this.state = 1; // start another line
        }
    };
    FigureStateBase.prototype.onMouseWheel = function (board, mouse) { };
    FigureStateBase.prototype.onMouseEnter = function (board, mouse) { };
    FigureStateBase.prototype.onMouseLeave = function (board, mouse) { };
    FigureStateBase.prototype.onTouchPan = function (board, touch) { };
    FigureStateBase.prototype.onTouchTap = function (board, touch, stack) {
        if (!stack) {
            throw new Error('Stack is not specified');
        }
        if (!this.stack) {
            this.stack = stack;
        }
        if (this.state === 1 || this.state === 2) {
            this.fixPoint(touch.center);
        }
        this.addPoint(touch.center);
        this.fixPoint(touch.center);
    };
    FigureStateBase.prototype.onTouchPress = function (board, touch) { };
    FigureStateBase.prototype.onTouchSwipe = function (board, touch) { };
    FigureStateBase.prototype.activate = function (board, mouse, stack, parameters) {
        this.state = 0;
        this.stack = undefined;
    };
    FigureStateBase.prototype.deactivate = function () { };
    FigureStateBase.prototype.fixPoint = function (point) { };
    ;
    return FigureStateBase;
}());
exports.FigureStateBase = FigureStateBase;
},{}],95:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * PointFigureComponent class
 */
var index_1 = require("../component/index");
var index_2 = require("../core/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var FigureEditStateBase_1 = require("./FigureEditStateBase");
var PointChangedEvent = (function (_super) {
    __extends(PointChangedEvent, _super);
    function PointChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return PointChangedEvent;
}(index_4.Event));
exports.PointChangedEvent = PointChangedEvent;
var PointChangedArgument = (function () {
    function PointChangedArgument(p) {
        this.p = p;
    }
    Object.defineProperty(PointChangedArgument.prototype, "point", {
        get: function () {
            return this.p;
        },
        enumerable: true,
        configurable: true
    });
    return PointChangedArgument;
}());
exports.PointChangedArgument = PointChangedArgument;
var PointFigureComponent = (function (_super) {
    __extends(PointFigureComponent, _super);
    function PointFigureComponent(area, offset, size, settings, taxis, yaxis, container, pixelMode) {
        if (pixelMode === void 0) { pixelMode = false; }
        var _this = _super.call(this, 'Point', offset, size, container || new index_2.StoreContainer()) || this;
        _this.area = area;
        _this.taxis = taxis;
        _this.yaxis = yaxis;
        _this.changedEvent = new PointChangedEvent();
        _this.getUid = function (ctx, size) {
            return _this.pixelMode ? _this.taxis.toValue(_this.pixel.x) : _this.point.uid;
        };
        _this.getValue = function (ctx, size) {
            return _this.pixelMode ? _this.yaxis.toValue(_this.pixel.y) : _this.point.v;
        };
        _this.store = new PointStore(container || new index_2.StoreContainer());
        _this.store.pixelMode = pixelMode;
        _this.valueMarker = new index_1.NumberMarker(_this.area.getYArea(), _this.offset, _this.size, yaxis, settings, _this.getValue);
        _this.addChild(_this.valueMarker);
        _this.timeMarker = new index_1.TimeMarker(_this.area.getXArea(), _this.offset, _this.size, taxis, _this.getUid);
        _this.addChild(_this.timeMarker);
        return _this;
    }
    Object.defineProperty(PointFigureComponent.prototype, "point", {
        get: function () {
            return this.store.point;
        },
        set: function (value) {
            this.store.point.uid = value.uid;
            this.store.point.v = value.v;
            this.store.setChanged();
            this.changedEvent.trigger();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "pixel", {
        get: function () {
            return this.store.pixel;
        },
        set: function (value) {
            this.store.pixel.x = value.x;
            this.store.pixel.y = value.y;
            this.changedEvent.trigger();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "pixelMode", {
        get: function () {
            return this.store.pixelMode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointFigureComponent.prototype, "changed", {
        get: function () {
            return this.changedEvent;
        },
        enumerable: true,
        configurable: true
    });
    PointFigureComponent.prototype.isHit = function (p) {
        if (!this.visible) {
            return false;
        }
        if (this.pixelMode) {
            var diff = Math.sqrt((this.pixel.x - p.x) * (this.pixel.x - p.x) + (this.pixel.y - p.y) * (this.pixel.y - p.y));
            return diff < 5;
        }
        else if (this.point.uid && this.point.v) {
            var px = this.taxis.toX(this.point.uid);
            var py = this.yaxis.toX(this.point.v);
            if (px) {
                var diff = Math.sqrt((px - p.x) * (px - p.x) + (py - p.y) * (py - p.y));
                return diff < 5;
            }
        }
        return false;
    };
    PointFigureComponent.prototype.setSelected = function (selected) {
        _super.prototype.setSelected.call(this, selected);
        this.timeMarker.visible = selected;
        this.valueMarker.visible = selected;
    };
    PointFigureComponent.prototype.getXY = function () {
        if (this.pixelMode) {
            return this.pixel;
        }
        if (this.point.uid && this.point.v) {
            var x = this.taxis.toX(this.point.uid);
            var y = this.yaxis.toX(this.point.v);
            if (x !== undefined) {
                return { x: x, y: y };
            }
        }
    };
    PointFigureComponent.prototype.shift = function (dx, dy) {
        if (this.pixelMode) {
            this.pixel = { x: this.pixel.x + dx, y: this.pixel.y + dy };
        }
        else if (this.point.uid && this.point.v) {
            var origPoint = new index_2.ChartPoint(this.point.uid, this.point.v);
            var px = this.taxis.toX(this.point.uid);
            var py = this.yaxis.toX(this.point.v);
            if (px) {
                this.point = { uid: this.taxis.toValue(px + dx), v: this.yaxis.toValue(py + dy) };
            }
            return !this.store.point.equals(origPoint);
        }
        return false;
    };
    PointFigureComponent.prototype.render = function (context, renderLocator) {
        // only render on front
        if (!context.renderFront) {
            return;
        }
        var coord;
        if (this.pixelMode) {
            coord = this.pixel;
        }
        else if (this.point.uid && this.point.v) {
            coord = this.getXY();
        }
        if (coord) {
            var canvas = this.area.frontCanvas;
            canvas.lineWidth = 2;
            canvas.beginPath();
            if (this.isHovered || this.isSelected) {
                canvas.arc(coord.x, coord.y, 5, 0, 2 * Math.PI, false);
                canvas.setFillStyle('#FFFFFF');
                canvas.setStrokeStyle('#606060');
                canvas.fill();
            }
            else {
                canvas.setStrokeStyle('#C9001D');
            }
            canvas.stroke();
        }
        _super.prototype.render.call(this, context, renderLocator);
    };
    PointFigureComponent.prototype.getCreateState = function () {
        throw new Error('Operation is not supported');
    };
    PointFigureComponent.prototype.getEditState = function () {
        return EditPointState.instance;
    };
    return PointFigureComponent;
}(index_1.FigureComponent));
exports.PointFigureComponent = PointFigureComponent;
var EditPointState = (function (_super) {
    __extends(EditPointState, _super);
    function EditPointState() {
        var _this = _super.call(this) || this;
        _this.isChanged = false;
        return _this;
    }
    Object.defineProperty(EditPointState, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new EditPointState();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    EditPointState.prototype.activate = function (board, mouse, stack, activationParameters) {
        _super.prototype.activate.call(this, board, mouse, stack, activationParameters);
        if (stack && activationParameters && activationParameters['component']) {
            this.figure = activationParameters['component'];
            //save state
            var state_1 = stack.getState();
            this.undo = function () { stack.restore(state_1); };
        }
        else {
            throw new Error('Editable component is not specified for edit.');
        }
    };
    EditPointState.prototype.shift = function (dx, dy) {
        if (dx || dy) {
            this.isChanged = true;
        }
        return this.figure ? this.figure.shift(dx, dy) : false;
    };
    EditPointState.prototype.exit = function (board) {
        // add command to history
        if (this.isChanged && this.undo) {
            board.push2history(new index_2.Command(function () {
                // empty execute
            }, this.undo));
        }
        this.figure = undefined;
        this.undo = undefined;
        this.isChanged = false;
        _super.prototype.exit.call(this, board);
    };
    return EditPointState;
}(FigureEditStateBase_1.FigureEditStateBase));
var PointStore = (function () {
    function PointStore(container) {
        this.container = container;
        // ensure values are initialized
        var dto = container.getObjectProperty('point');
        var uid = dto.getObjectProperty('uid');
        var modelUid = new index_3.Uid(uid.getProperty('t'), uid.getProperty('n'));
        var model = dto ? new index_2.ChartPoint(modelUid, dto.getProperty('v')) : new index_2.ChartPoint();
        container.setProperty('point', model);
        container.setProperty('pixel', new index_4.Point());
    }
    Object.defineProperty(PointStore.prototype, "point", {
        get: function () {
            return this.container.getProperty('point');
        },
        set: function (value) {
            this.container.setProperty('point', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointStore.prototype, "pixel", {
        get: function () {
            return this.container.getProperty('pixel');
        },
        set: function (value) {
            this.container.setProperty('pixel', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PointStore.prototype, "pixelMode", {
        get: function () {
            return this.container.getProperty('pixelmode');
        },
        set: function (value) {
            this.container.setProperty('pixelmode', value);
        },
        enumerable: true,
        configurable: true
    });
    PointStore.prototype.setChanged = function () {
        this.container.setChanged();
    };
    return PointStore;
}());
},{"../component/index":40,"../core/index":56,"../model/index":146,"../shared/index":170,"./FigureEditStateBase":93}],96:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var DrawCurveState_1 = require("./DrawCurveState");
exports.CurveFigureComponent = DrawCurveState_1.CurveFigureComponent;
exports.DrawCurveState = DrawCurveState_1.DrawCurveState;
var DrawDateRangeState_1 = require("./DrawDateRangeState");
exports.DateRangeFigureComponent = DrawDateRangeState_1.DateRangeFigureComponent;
exports.DrawDateRangeState = DrawDateRangeState_1.DrawDateRangeState;
var DrawEllipseState_1 = require("./DrawEllipseState");
exports.DrawEllipseState = DrawEllipseState_1.DrawEllipseState;
exports.EllipseFigureComponent = DrawEllipseState_1.EllipseFigureComponent;
var DrawFiboFanState_1 = require("./DrawFiboFanState");
exports.DrawFiboFanState = DrawFiboFanState_1.DrawFiboFanState;
exports.FiboFanFigureComponent = DrawFiboFanState_1.FiboFanFigureComponent;
var DrawFiboLevelState_1 = require("./DrawFiboLevelState");
exports.DrawFiboLevelState = DrawFiboLevelState_1.DrawFiboLevelState;
exports.FiboLevelFigureComponent = DrawFiboLevelState_1.FiboLevelFigureComponent;
var DrawFiboProjectionState_1 = require("./DrawFiboProjectionState");
exports.DrawFiboProjectionState = DrawFiboProjectionState_1.DrawFiboProjectionState;
exports.FiboProjectionFigureComponent = DrawFiboProjectionState_1.FiboProjectionFigureComponent;
var DrawFiboTimeProjectionState_1 = require("./DrawFiboTimeProjectionState");
exports.DrawFiboTimeProjectionState = DrawFiboTimeProjectionState_1.DrawFiboTimeProjectionState;
exports.FiboTimeProjectionFigureComponent = DrawFiboTimeProjectionState_1.FiboTimeProjectionFigureComponent;
var DrawGannFanState_1 = require("./DrawGannFanState");
exports.DrawGannFanState = DrawGannFanState_1.DrawGannFanState;
exports.GannFanFigureComponent = DrawGannFanState_1.GannFanFigureComponent;
var DrawHorizontalLineState_1 = require("./DrawHorizontalLineState");
exports.DrawHorizontalLineState = DrawHorizontalLineState_1.DrawHorizontalLineState;
exports.HorizontalLineFigureComponent = DrawHorizontalLineState_1.HorizontalLineFigureComponent;
var DrawLineState_1 = require("./DrawLineState");
exports.DrawLineState = DrawLineState_1.DrawLineState;
exports.LineFigureComponent = DrawLineState_1.LineFigureComponent;
var DrawOhlcProjState_1 = require("./DrawOhlcProjState");
exports.DrawOhlcProjState = DrawOhlcProjState_1.DrawOhlcProjState;
exports.OhlcProjFigureComponent = DrawOhlcProjState_1.OhlcProjFigureComponent;
var DrawPathState_1 = require("./DrawPathState");
exports.DrawPathState = DrawPathState_1.DrawPathState;
exports.PathFigureComponent = DrawPathState_1.PathFigureComponent;
var DrawPitchforkState_1 = require("./DrawPitchforkState");
exports.DrawPitchforkState = DrawPitchforkState_1.DrawPitchforkState;
exports.PitchforkFigureComponent = DrawPitchforkState_1.PitchforkFigureComponent;
var DrawRectState_1 = require("./DrawRectState");
exports.DrawRectState = DrawRectState_1.DrawRectState;
exports.RectFigureComponent = DrawRectState_1.RectFigureComponent;
var DrawTextState_1 = require("./DrawTextState");
exports.DrawTextState = DrawTextState_1.DrawTextState;
exports.TextFigureComponent = DrawTextState_1.TextFigureComponent;
var DrawTrendChannelState_1 = require("./DrawTrendChannelState");
exports.DrawTrendChannelState = DrawTrendChannelState_1.DrawTrendChannelState;
exports.TrendChannelFigureComponent = DrawTrendChannelState_1.TrendChannelFigureComponent;
var DrawTriangleState_1 = require("./DrawTriangleState");
exports.DrawTriangleState = DrawTriangleState_1.DrawTriangleState;
exports.TriangleFigureComponent = DrawTriangleState_1.TriangleFigureComponent;
var DrawVerticalLineState_1 = require("./DrawVerticalLineState");
exports.DrawVerticalLineState = DrawVerticalLineState_1.DrawVerticalLineState;
exports.VerticalLineFigureComponent = DrawVerticalLineState_1.VerticalLineFigureComponent;
var PointFigureComponent_1 = require("./PointFigureComponent");
exports.PointFigureComponent = PointFigureComponent_1.PointFigureComponent;
},{"./DrawCurveState":75,"./DrawDateRangeState":76,"./DrawEllipseState":77,"./DrawFiboFanState":78,"./DrawFiboLevelState":79,"./DrawFiboProjectionState":80,"./DrawFiboTimeProjectionState":81,"./DrawGannFanState":82,"./DrawHorizontalLineState":83,"./DrawLineState":84,"./DrawOhlcProjState":85,"./DrawPathState":86,"./DrawPitchforkState":87,"./DrawRectState":88,"./DrawTextState":89,"./DrawTrendChannelState":90,"./DrawTriangleState":91,"./DrawVerticalLineState":92,"./PointFigureComponent":95}],97:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var DMIIndicator_1 = require("./DMIIndicator");
var MovingAverage_1 = require("./MovingAverage");
// export class ADXCandlestick extends CandlestickExt {
//     /** 
//      * Smoothed TR
//      */
//     public TRA: number | undefined;
//     /**
//      * Smoothed +DM
//      */
//     public pDMA: number | undefined;
//     /**
//      * Smoothed -DM
//      */
//     public mDMA: number | undefined;
//     public DX: number | undefined;
// }
var ADXCandlestick = (function (_super) {
    __extends(ADXCandlestick, _super);
    function ADXCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ADXCandlestick.prototype.toString = function (precision) {
        return 'ADX: '
            + ("" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'));
    };
    return ADXCandlestick;
}(DMIIndicator_1.DMICandlestick));
exports.ADXCandlestick = ADXCandlestick;
var ADXIndicator = (function (_super) {
    __extends(ADXIndicator, _super);
    function ADXIndicator(source, context) {
        var _this = _super.call(this, source, context) || this;
        _this.name = 'ADX';
        _this.adxma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // ADX requires TR, +DM, -DM
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        _this.source.addExtension(index_1.UpDirectionalMovementExtension.uname, new index_1.UpDirectionalMovementExtension());
        _this.source.addExtension(index_1.DownDirectionalMovementExtension.uname, new index_1.DownDirectionalMovementExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    ADXIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var lastComputed = computedArray.lastOrDefault();
        var computedDMI = _super.prototype.computeOne.call(this, sourceItems, computedArray, accessor);
        // Copy values from computed DMI
        var computed = new ADXCandlestick(computedDMI.date);
        computed.uidOrig.t = computedDMI.uid.t;
        computed.uidOrig.n = computedDMI.uid.n;
        computed.TRA = computedDMI.TRA;
        computed.pDMA = computedDMI.pDMA;
        computed.mDMA = computedDMI.mDMA;
        computed.DX = computedDMI.c;
        // Compute ADX
        var lastComputedADX = lastComputed !== undefined ? lastComputed.c : undefined;
        computed.c = this.adxma.compute(N, computedArray, function (item) { return item.DX; }, computed, lastComputedADX);
        computed.h = computed.c;
        computed.l = computed.c;
        return computed;
    };
    ADXIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    ADXIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return ADXIndicator;
}(DMIIndicator_1.DMIIndicator));
exports.ADXIndicator = ADXIndicator;
},{"../compute/index":42,"../core/index":56,"./DMIIndicator":107,"./MovingAverage":116}],98:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// ATR = (ATR prev x (n - 1) + TR) / n
var ATRIndicator = (function (_super) {
    __extends(ATRIndicator, _super);
    function ATRIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'ATR';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // ADX requires TR
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    ATRIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // const value = this.accessor(source);
        // if (value !== undefined) {
        var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
        computed.c = this.ma.compute(N, sourceItems, function (c) { return c.ext['tr']; }, undefined, lastComputedValue);
        computed.h = computed.c;
        computed.l = computed.c;
        //}
        return computed;
    };
    ATRIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    ATRIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return ATRIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.ATRIndicator = ATRIndicator;
},{"../compute/index":42,"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],99:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../render/index");
var index_5 = require("../shared/index");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
var TripleCandlestick = (function (_super) {
    __extends(TripleCandlestick, _super);
    function TripleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.jaw = new index_3.Candlestick(date);
        _this.teeth = new index_3.Candlestick(date);
        _this.lips = new index_3.Candlestick(date);
        return _this;
    }
    TripleCandlestick.prototype.toString = function (precision) {
        return "" + (this.jaw && this.jaw.c !== undefined ? this.jaw.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.teeth && this.teeth.c !== undefined ? this.teeth.c.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.lips && this.lips.c !== undefined ? this.lips.c.toFixed(precision) : 'n/a'));
    };
    return TripleCandlestick;
}(index_3.Candlestick));
exports.TripleCandlestick = TripleCandlestick;
var AlligatorIndicator = (function (_super) {
    __extends(AlligatorIndicator, _super);
    function AlligatorIndicator(source, context) {
        var _this = _super.call(this, TripleCandlestick, source, context) || this;
        _this.name = 'alligator';
        return _this;
    }
    AlligatorIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the unde (update data from current place to end)
        // Generate future time when shift indicator values
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(ValueAccessor_1.ValueAccessorType.close);
        var N = 13;
        var fsarray = new index_5.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source values
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            fsarray.pushRange(prev);
        }
        var prevJaw;
        var prevTeeth;
        var prevLips;
        // Get latest moving average from storage. As result will be shifted the last MA we are taking is also shifted.
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                if (iter.moveTimes(3) === 3) {
                    prevLips = iter.current.lips.c;
                    if (iter.moveTimes(2) === 2) {
                        prevTeeth = iter.current.teeth.c;
                        if (iter.moveTimes(3) === 3) {
                            prevJaw = iter.current.jaw.c;
                        }
                    }
                }
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // generate jaw: array[]
        // generate teeth: array[]
        // generate lips: array[]
        // 
        var jaw = [];
        var teeth = [];
        var lips = [];
        var ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            fsarray.push(source);
            var j = new index_3.Candlestick(source.date);
            j.uid.t = source.uid.t;
            j.uid.n = source.uid.n;
            var t = new index_3.Candlestick(source.date);
            t.uid.t = source.uid.t;
            t.uid.n = source.uid.n;
            var l = new index_3.Candlestick(source.date);
            l.uid.t = source.uid.t;
            l.uid.n = source.uid.n;
            if (source.c !== undefined) {
                j.c = ma.compute(13, fsarray, accessor, undefined, prevJaw);
                prevJaw = j.c;
                t.c = ma.compute(8, fsarray, accessor, undefined, prevTeeth);
                prevTeeth = t.c;
                l.c = ma.compute(5, fsarray, accessor, undefined, prevLips);
                prevLips = l.c;
                j.h = j.c;
                j.l = j.c;
                t.h = t.c;
                t.l = t.c;
                l.h = l.c;
                l.l = l.c;
            }
            jaw.push(j);
            teeth.push(t);
            lips.push(l);
        } while (iterator.moveNext());
        // Shift all / Shift UID AND TIME. Merging will be done with UID, so UID should stay on the same place.
        // ... Add X bars in the future
        // ... copy data to right
        // ... 
        // jaw shift by 8 bars  
        // teeth shift by 5 bars
        // lips shift by 3 bars
        // Make fake candles on the right side.
        var lastDate = jaw[jaw.length - 1].date;
        for (var i = 0; i < 8; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid.t = lastDate.getTime().toString();
            jaw.push(fake);
        }
        lastDate = teeth[teeth.length - 1].date;
        for (var i = 0; i < 5; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid = lastDate.getTime().toString();
            teeth.push(fake);
        }
        lastDate = lips[lips.length - 1].date;
        for (var i = 0; i < 3; i += 1) {
            lastDate = this.addInterval(lastDate, 1);
            var fake = new index_3.Candlestick(lastDate);
            //fake.uid = lastDate.getTime().toString();
            lips.push(fake);
        }
        // Shift values
        this.shift(jaw, 8);
        this.shift(teeth, 5);
        this.shift(lips, 3);
        // Remove first items as they are empty
        jaw.splice(0, 8);
        teeth.splice(0, 5);
        lips.splice(0, 3);
        // merge all 3 to one. Custom merge one by one, not all 3 together. Because of their different relative shift.
        this.mergeLine(jaw, 0);
        this.mergeLine(teeth, 1);
        this.mergeLine(lips, 2);
        // Merge new data and notify subscribers
        return new index_2.DataChangedArgument(firstUid, lastUid, jaw.length);
    };
    AlligatorIndicator.prototype.mergeLine = function (array, line) {
        // Prepare TripleCandlestick array
        var triple = [];
        for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {
            var item = array_1[_i];
            var t = new TripleCandlestick(item.date);
            switch (line) {
                case 0:
                    t.jaw = item;
                    break;
                case 1:
                    t.teeth = item;
                    break;
                case 2:
                    t.lips = item;
                    break;
                default: throw new Error('unexpected type');
            }
            t.uid.t = item.uid.t;
            t.uid.n = item.uid.n;
            //t.c = item.c;
            t.h = item.h;
            t.l = item.l;
            triple.push(t);
        }
        // Merge each part separately
        this.dataStorage.merge(triple, function (target, update) {
            switch (line) {
                case 0:
                    target.jaw = update.jaw;
                    break;
                case 1:
                    target.teeth = update.teeth;
                    break;
                case 2:
                    target.lips = update.lips;
                    break;
                default: throw new Error('unexpected type');
            }
            if ((target.h !== undefined && update.h !== undefined && target.h < update.h)
                || (target.h === undefined && update.h !== undefined)) {
                target.h = update.h;
            }
            if ((target.l !== undefined && update.l !== undefined && target.l > update.l)
                || (target.l === undefined && update.l !== undefined)) {
                target.l = update.l;
            }
            return target;
        });
    };
    AlligatorIndicator.prototype.shift = function (array, n) {
        for (var i = array.length - 1; i >= n; i -= 1) {
            array[i].c = array[i - n].c;
            array[i].o = array[i - n].o;
            array[i].h = array[i - n].h;
            array[i].l = array[i - n].l;
        }
    };
    return AlligatorIndicator;
}(index_2.IndicatorDataSource));
exports.AlligatorIndicator = AlligatorIndicator;
var AlligatorIndicatorRenderer = (function () {
    //private static inst?: AlligatorIndicatorRenderer;
    function AlligatorIndicatorRenderer() {
    }
    // public static get instance(): AlligatorIndicatorRenderer {
    //     if (!this.inst) {
    //         this.inst = new AlligatorIndicatorRenderer();
    //     }
    //     return this.inst;
    // }
    AlligatorIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        // Jaw
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.jaw && triple.jaw.c !== undefined) {
                    var value = triple.jaw.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        // Teeth
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.teeth && triple.teeth.c !== undefined) {
                    var value = triple.teeth.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        // Lips
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.lips && triple.lips.c !== undefined) {
                    var value = triple.lips.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    AlligatorIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    AlligatorIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    AlligatorIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return AlligatorIndicatorRenderer;
}());
exports.AlligatorIndicatorRenderer = AlligatorIndicatorRenderer;
},{"../core/index":56,"../data/index":74,"../model/index":146,"../render/index":166,"../shared/index":170,"./MovingAverage":116,"./ValueAccessor":136}],100:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.up = new index_2.Candlestick(date);
        _this.down = new index_2.Candlestick(date);
        return _this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.up && this.up.c !== undefined ? this.up.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.down && this.down.c !== undefined ? this.down.c.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var AroonIndicator = (function (_super) {
    __extends(AroonIndicator, _super);
    function AroonIndicator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'ARO';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    AroonIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        return computeAroon(sourceItems, this.settings.period);
    };
    AroonIndicator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    AroonIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('upperthreshold', new index_1.SettingSet({
            name: 'upperthreshold',
            value: this.settings.upperThreshold.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Upper threshold'
        }));
        group.setSetting('lowerthreshold', new index_1.SettingSet({
            name: 'lowerthreshold',
            value: this.settings.lowerThreshold.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Lower threshold'
        }));
        return group;
    };
    AroonIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var upperthreshold = value.getSetting('datasource.upperthreshold');
        this.settings.upperThreshold =
            (upperthreshold && upperthreshold.value) ? parseInt(upperthreshold.value, 10) : this.settings.upperThreshold;
        var lowerthreshold = value.getSetting('datasource.lowerthreshold');
        this.settings.lowerThreshold =
            (lowerthreshold && lowerthreshold.value) ? parseInt(lowerthreshold.value, 10) : this.settings.lowerThreshold;
        // recompute
        this.compute();
    };
    return AroonIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.AroonIndicator = AroonIndicator;
var AroonOscillator = (function (_super) {
    __extends(AroonOscillator, _super);
    function AroonOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'AOS';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    AroonOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        return computeAroon(sourceItems, this.settings.period);
    };
    AroonOscillator.prototype.getValuesRange = function (range) {
        return { start: -100, end: 100 };
    };
    AroonOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    AroonOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return AroonOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.AroonOscillator = AroonOscillator;
var AroonIndicatorRenderer = (function (_super) {
    __extends(AroonIndicatorRenderer, _super);
    function AroonIndicatorRenderer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AroonIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var zonevisible = this.settings.zone.visible;
        var fill = this.settings.zone.fill;
        var fillcolor = this.settings.zone.fillcolor;
        var showthreshold = this.settings.zone.showthreshold;
        var upthreshold = this.settings.zone.upthreshold;
        var lowthreshold = this.settings.zone.lowthreshold;
        var upper = yAxis.toX(upthreshold);
        var lower = yAxis.toX(lowthreshold);
        // Fill area b/w top and bottom zone lines
        if (zonevisible && fill) {
            canvas.setFillStyle(fillcolor);
            canvas.fillRect(frame.x, Math.min(upper, lower), frame.x + frame.w, Math.abs(upper - lower));
        }
        // Draw zone lines
        if (zonevisible && showthreshold) {
            canvas.beginPath();
            canvas.setStrokeStyle(this.settings.zone.tlinecolor);
            canvas.setLineDash(index_3.RenderUtils.PATTERN2SEG(this.settings.zone.tlinepattern));
            canvas.lineWidth = this.settings.zone.tlinewidth;
            canvas.moveTo(frame.x, upper);
            canvas.lineTo(frame.x + frame.w, upper);
            canvas.stroke();
            canvas.beginPath();
            canvas.setStrokeStyle(this.settings.zone.blinecolor);
            canvas.setLineDash(index_3.RenderUtils.PATTERN2SEG(this.settings.zone.blinepattern));
            canvas.lineWidth = this.settings.zone.blinewidth;
            canvas.moveTo(frame.x, lower);
            canvas.lineTo(frame.x + frame.w, lower);
            canvas.stroke();
        }
        canvas.beginPath();
        canvas.setStrokeStyle('#FF5900');
        canvas.setLineDash([]);
        canvas.lineWidth = 1;
        // Up
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.up && d.up.c !== undefined) {
                    var value = d.up.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#3D5AFF');
        // Down
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.down && d.down.c !== undefined) {
                    var value = d.down.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    AroonIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    AroonIndicatorRenderer.prototype.getSettings = function () {
        var zone = _super.prototype.getZonesSettings.call(this);
        var visual = new index_1.SettingSet('visual');
        visual.setSetting('zones', zone);
        return visual;
    };
    AroonIndicatorRenderer.prototype.setSettings = function (settings) {
        var zone = settings.getSetting('visual.zones');
        if (zone) {
            _super.prototype.setZonesSettings.call(this, zone);
        }
    };
    return AroonIndicatorRenderer;
}(index_3.ChartRenderer));
exports.AroonIndicatorRenderer = AroonIndicatorRenderer;
function computeAroon(sourceItems, period) {
    var N = period;
    var source = sourceItems.last();
    var computed = new DoubleCandlestick(source.date);
    computed.uidOrig.t = source.uid.t;
    computed.uidOrig.n = source.uid.n;
    var indexOfHighest = sourceItems.maxIndex(function (item) { return item.h; });
    var indexOfLowest = sourceItems.minIndex(function (item) { return item.l; });
    if (indexOfHighest >= 0) {
        var daySince = sourceItems.length - (indexOfHighest + 1);
        var indicator = 100 * (N - daySince) / N;
        computed.up.c = indicator;
        computed.up.h = indicator;
        computed.up.l = indicator;
    }
    if (indexOfLowest >= 0) {
        var daySince = sourceItems.length - (indexOfLowest + 1);
        var indicator = 100 * (N - daySince) / N;
        computed.down.c = indicator;
        computed.down.h = indicator;
        computed.down.l = indicator;
    }
    // Aroon oscillator = Aroon-Up - Aroon-Down
    if (computed.up.c !== undefined && computed.down.c !== undefined) {
        computed.c = computed.up.c - computed.down.c;
        computed.h = computed.c;
        computed.l = computed.c;
    }
    return computed;
}
},{"../core/index":56,"../model/index":146,"../render/index":166,"./CandlestickExt":104,"./SimpleIndicator":129}],101:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../render/index");
var index_5 = require("../shared/index");
var MovingAverage_1 = require("./MovingAverage");
var Utils_1 = require("./Utils");
var ValueAccessor_1 = require("./ValueAccessor");
var TripleCandlestick = (function (_super) {
    __extends(TripleCandlestick, _super);
    function TripleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.top = new index_3.Candlestick(date);
        _this.middle = new index_3.Candlestick(date);
        _this.bottom = new index_3.Candlestick(date);
        return _this;
    }
    TripleCandlestick.prototype.toString = function (precision) {
        return "" + (this.top && this.top.c !== undefined ? this.top.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.middle && this.middle.c !== undefined ? this.middle.c.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.bottom && this.bottom.c !== undefined ? this.bottom.c.toFixed(precision) : 'n/a'));
    };
    return TripleCandlestick;
}(index_3.Candlestick));
exports.TripleCandlestick = TripleCandlestick;
var BollingerIndicator = (function (_super) {
    __extends(BollingerIndicator, _super);
    function BollingerIndicator(source, context) {
        var _this = _super.call(this, TripleCandlestick, source, context) || this;
        _this.name = 'bollinger';
        return _this;
    }
    BollingerIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(ValueAccessor_1.ValueAccessorType.close);
        var N = 20;
        var K = 2;
        var fsarray = new index_5.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source values
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            fsarray.pushRange(prev);
        }
        // Get latest moving average from storage
        var prevMA;
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; }) && iter.movePrev()) {
                prevMA = iter.current.middle.c;
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var computedArray = [];
        var ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            var value = accessor(source);
            var computed = new TripleCandlestick(source.date);
            computed.uid.t = source.uid.t;
            computed.uid.n = source.uid.n;
            fsarray.push(source);
            if (value !== undefined) {
                computed.middle.c = ma.compute(N, fsarray, accessor, undefined, prevMA);
                computed.middle.h = computed.middle.c;
                computed.middle.l = computed.middle.c;
                if (computed.middle.c !== undefined) {
                    // After moving avg is computed, current value can be pushed to array, to calculate std deviation.
                    var standardDeviation = Utils_1.Utils.STDDEV(fsarray, accessor, computed.middle.c);
                    if (standardDeviation !== undefined) {
                        computed.top.c = computed.middle.c + K * standardDeviation;
                        computed.top.h = computed.top.c;
                        computed.top.l = computed.middle.c;
                        computed.bottom.c = computed.middle.c - K * standardDeviation;
                        computed.bottom.h = computed.bottom.c;
                        computed.bottom.l = computed.bottom.c;
                        computed.h = Math.max(computed.top.h, computed.bottom.h, computed.middle.h !== undefined ? computed.middle.h : Number.NEGATIVE_INFINITY);
                        computed.l = Math.min(computed.top.l, computed.bottom.l, computed.middle.l || Number.POSITIVE_INFINITY);
                        prevMA = computed.middle.c;
                    }
                }
            }
            computedArray.push(computed);
        } while (iterator.moveNext());
        // Merge
        this.dataStorage.merge(computedArray);
        // Merge new data and notify subscribers
        return new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    return BollingerIndicator;
}(index_2.IndicatorDataSource));
exports.BollingerIndicator = BollingerIndicator;
var BollingerIndicatorRenderer = (function () {
    function BollingerIndicatorRenderer() {
    }
    BollingerIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Collect charts points
        //
        var top = [];
        top.length = timeAxis.count; // preallocate memory
        var i = 0;
        index_4.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof TripleCandlestick) {
                var t = item;
                if (t && t.top && t.top.c !== undefined) {
                    var y = yAxis.toX(t.top.c);
                    top[i] = { x: x, y: y };
                    i += 1;
                }
            }
        });
        var bottom = [];
        bottom.length = timeAxis.count; // preallocate memory
        var j = 0;
        index_4.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof TripleCandlestick) {
                var t = item;
                if (t && t.bottom && t.bottom.c !== undefined) {
                    var y = yAxis.toX(t.bottom.c);
                    bottom[j] = { x: x, y: y };
                    j += 1;
                }
            }
        });
        // Fill area between lines
        canvas.beginPath();
        top.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        for (var k = bottom.length - 1; k >= 0; k -= 1) {
            var p = bottom[k];
            if (p) {
                canvas.lineTo(p.x, p.y);
            }
        }
        canvas.closePath();
        canvas.setFillStyle('rgba(0, 100, 150, 0.3)');
        canvas.fill();
        // Lines
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // Middle
        index_4.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof TripleCandlestick) {
                var triple = item;
                if (triple.middle && triple.middle.c !== undefined) {
                    var value = triple.middle.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Top
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0400FF');
        top.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        canvas.stroke();
        // Bottom
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0400FF');
        bottom.forEach(function (p, index) {
            if (p) {
                (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
            }
        });
        canvas.stroke();
    };
    BollingerIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    BollingerIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    BollingerIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return BollingerIndicatorRenderer;
}());
exports.BollingerIndicatorRenderer = BollingerIndicatorRenderer;
},{"../core/index":56,"../data/index":74,"../model/index":146,"../render/index":166,"../shared/index":170,"./MovingAverage":116,"./Utils":134,"./ValueAccessor":136}],102:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var Utils_1 = require("./Utils");
var ValueAccessor_1 = require("./ValueAccessor");
// CCI = (1/0.015) * (Pt - SMA(Pt)) / Deviation(Pt),
//    Pt - typical price
//    Deviation - Mean absolute deviation
var CCICandlestick = (function (_super) {
    __extends(CCICandlestick, _super);
    function CCICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return CCICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.CCICandlestick = CCICandlestick;
var CCIOscillator = (function (_super) {
    __extends(CCIOscillator, _super);
    function CCIOscillator(source, context) {
        var _this = _super.call(this, CCICandlestick, source, context) || this;
        _this.name = 'CCI';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Set default settings
        _this.settings.period = 20;
        _this.settings.valueType = ValueAccessor_1.ValueAccessorType.hlc3;
        return _this;
    }
    CCIOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CCICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Compute SMA
            var lastComputedSMA = lastComputed !== undefined ? lastComputed.SMA : undefined;
            computed.SMA = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedSMA);
            if (computed.SMA !== undefined) {
                // Compute deviation around SMA.
                var mad = Utils_1.Utils.MAD(N, sourceItems, accessor, computed.SMA);
                if (mad !== undefined) {
                    // Compute CCI
                    computed.c = (value - computed.SMA) / (0.015 * mad);
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    CCIOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    CCIOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return CCIOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.CCIOscillator = CCIOscillator;
},{"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./Utils":134,"./ValueAccessor":136}],103:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
// Variance(P) = AVG(P2) - AVG(P) * AVG(P)
// Variance(S) = AVG(S2) - AVG(S) * AVG(S)
// Covariance(P,S) = AVG(P x S) - AVG(P) x AVG(S)
// Correlation(P,S) = Covariance(P,S) / SQRT(Variance(P) x Variance(S))
var CORCandlestick = (function (_super) {
    __extends(CORCandlestick, _super);
    function CORCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CORCandlestick.prototype.toString = function (precision) {
        return "" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a');
    };
    return CORCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.CORCandlestick = CORCandlestick;
var CORIndicator = (function (_super) {
    __extends(CORIndicator, _super);
    function CORIndicator(source, context) {
        var _this = _super.call(this, CORCandlestick, source, context) || this;
        _this.extsettings = new CORSettings();
        _this.name = 'COR';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    CORIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.extsettings.valueType);
        var computedArray = [];
        var N = this.extsettings.period;
        var sourceItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var compareItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var computedItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get compare data souce
        var compareIter;
        if (this.extsettings.uid) {
            var compareDataSource = this.context.register.getItem(this.extsettings.uid);
            if (compareDataSource) {
                compareIter = compareDataSource.getIterator();
            }
        }
        // If can't get compare data source return
        if (!compareIter) {
            return;
        }
        // Get source data without loading
        var sourceIter = this.source.getIterator();
        // Select last source items and compare items
        if (arg) {
            if (!sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            //--------------------------------------------------
            var prev_1 = [];
            var prevCompare_1 = [];
            sourceIter.somebackward(function (item, counter) {
                if (counter > N) {
                    return false;
                }
                if (counter > 0) {
                    prev_1.push(item);
                    if (compareIter && compareIter.goTo(function (citem) { return item.uid.compare(citem.uid) === 0; })) {
                        prevCompare_1.push(compareIter.current);
                    }
                    return true;
                }
                return true; // Skip current item
            });
            prev_1.reverse();
            prevCompare_1.reverse();
            //--------------------------------------------------
            //const prev = IndicatorDataSource.getPreviousItems(sourceIter, N - 1);
            sourceItems.pushRange(prev_1);
            compareItems.pushRange(prevCompare_1);
        }
        // Get last computed items
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
                computedArray = index_2.IndicatorDataSource.getPreviousItems(iter, N - 1);
                computedItems.pushRange(computedArray);
            }
        }
        // Go to first element
        if (arg) {
            sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!sourceIter.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var found = false;
        var firstUid = sourceIter.current.uid;
        var lastUid;
        var _loop_1 = function () {
            var source = sourceIter.current;
            lastUid = source.uid;
            sourceItems.push(source);
            if (found) {
                found = compareIter.moveTo(function (citem) { return source.uid.compare(citem.uid) === 0; }) !== -1;
            }
            else {
                found = compareIter.goTo(function (citem) { return source.uid.compare(citem.uid) === 0; });
            }
            if (!found) {
                return "continue";
            }
            compareItems.push(found ? compareIter.current : new index_3.Candlestick(source.date));
            var computed = this_1.computeOne(sourceItems, compareItems, computedItems, accessor);
            computedArray.push(computed);
            computedItems.push(computed);
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (sourceIter.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        return new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
    };
    CORIndicator.prototype.computeOne = function (sourceItems, compareItems, computedArray, accessor) {
        var N = this.extsettings.period;
        var source = sourceItems.last();
        var compare = compareItems.lastOrDefault();
        var lastComputed = computedArray.lastOrDefault();
        var p = accessor(source);
        var s = compare ? accessor(compare) : undefined;
        var computed = new CORCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // Both values should present
        computed.p = (p !== undefined && s !== undefined) ? p : undefined;
        computed.s = (p !== undefined && s !== undefined) ? s : undefined;
        computed.p2 = (p !== undefined && s !== undefined) ? p * p : undefined;
        computed.s2 = (p !== undefined && s !== undefined) ? s * s : undefined;
        computed.pxs = (p !== undefined && s !== undefined) ? p * s : undefined; // P x S
        // AVG of source
        var lastAvgP = lastComputed !== undefined ? lastComputed.avgp : undefined;
        computed.avgp = this.ma.compute(N, computedArray, function (item) { return item.p; }, computed, lastAvgP);
        // AVG of compare
        var lastAvgS = lastComputed !== undefined ? lastComputed.avgs : undefined;
        computed.avgs = this.ma.compute(N, computedArray, function (item) { return item.s; }, computed, lastAvgS);
        // AVG of squared source
        var lastAvgP2 = lastComputed !== undefined ? lastComputed.avgp2 : undefined;
        computed.avgp2 = this.ma.compute(N, computedArray, function (item) { return item.p2; }, computed, lastAvgP2);
        // AVG of squared compare
        var lastAvgS2 = lastComputed !== undefined ? lastComputed.avgs2 : undefined;
        computed.avgs2 = this.ma.compute(N, computedArray, function (item) { return item.s2; }, computed, lastAvgS2);
        // Compute P x S average
        var lastAvgPxS = lastComputed !== undefined ? lastComputed.avgpxs : undefined;
        computed.avgpxs = this.ma.compute(N, computedArray, function (item) { return item.pxs; }, computed, lastAvgPxS);
        // Compute correlation
        if (computed.avgp !== undefined && computed.avgs !== undefined && computed.avgp2 !== undefined && computed.avgs2 !== undefined
            && computed.avgpxs !== undefined) {
            var varianceP = computed.avgp2 - (computed.avgp * computed.avgp);
            var varianceS = computed.avgs2 - (computed.avgs * computed.avgs);
            var covariance = computed.avgpxs - (computed.avgp * computed.avgs);
            if (varianceP !== 0 && varianceS !== 0) {
                var correlation = covariance / Math.sqrt(varianceP * varianceS);
                computed.c = isNaN(correlation) ? undefined : correlation;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    CORIndicator.prototype.getValuesRange = function (range) {
        return { start: -1, end: 1 };
    };
    CORIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.extsettings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        var sources = this.context.register.list();
        sources.push(new index_4.IdValue('', ''));
        group.setSetting('uid', new index_1.SettingSet({
            name: 'uid',
            displayName: 'Compare',
            value: this.extsettings.uid,
            settingType: index_1.SettingType.select,
            options: sources.map(function (item) { return { value: item.id, text: item.value }; })
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.extsettings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    CORIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.extsettings.period = (period && period.value) ? parseInt(period.value, 10) : this.extsettings.period;
        var uid = value.getSetting('datasource.uid');
        this.extsettings.uid = (uid && uid.value) ? uid.value : this.extsettings.uid;
        var valueType = value.getSetting('datasource.valueType');
        this.extsettings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.extsettings.valueType;
        // recompute
        this.compute();
    };
    return CORIndicator;
}(index_2.IndicatorDataSource));
exports.CORIndicator = CORIndicator;
var CORSettings = (function () {
    function CORSettings() {
        this.period = 10;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return CORSettings;
}());
},{"../core/index":56,"../data/index":74,"../model/index":146,"../shared/index":170,"./CandlestickExt":104,"./MovingAverage":116,"./ValueAccessor":136}],104:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../model/index");
var CandlestickExt = (function (_super) {
    __extends(CandlestickExt, _super);
    function CandlestickExt() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.uidOrig = new index_1.Uid();
        _this.isFake = false;
        return _this;
    }
    return CandlestickExt;
}(index_1.Candlestick));
exports.CandlestickExt = CandlestickExt;
},{"../model/index":146}],105:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DEMACandlestick = (function (_super) {
    __extends(DEMACandlestick, _super);
    function DEMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return DEMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DEMACandlestick = DEMACandlestick;
var DEMAIndicator = (function (_super) {
    __extends(DEMAIndicator, _super);
    function DEMAIndicator(source, context) {
        var _this = _super.call(this, DEMACandlestick, source, context) || this;
        _this.name = 'DEMA';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    DEMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new DEMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA = lastComputed !== undefined ? lastComputed.EMA : undefined;
            // 1. Compute EMA
            computed.EMA = this.ema.compute(N, sourceItems, accessor, undefined, lastComputedEMA);
            if (computed.EMA !== undefined) {
                // 2. Compute DEMA. On base of computed EMA
                var lastComputedDEMA = lastComputed !== undefined ? lastComputed.DEMA : undefined;
                // Adding last computed EMA to calculate DEMA
                computed.DEMA = this.ema.compute(N, computedArray, function (item) { return item.EMA; }, computed, lastComputedDEMA);
                if (computed.DEMA !== undefined) {
                    computed.c = 2 * computed.EMA - computed.DEMA;
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    return DEMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DEMAIndicator = DEMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],106:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// DIX = 100 * (close - MA) / MA
var DIXOscillator = (function (_super) {
    __extends(DIXOscillator, _super);
    function DIXOscillator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'DIX';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    DIXOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            var ma = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            if (ma !== undefined) {
                computed.c = 100 * (value - ma) / ma;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    return DIXOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DIXOscillator = DIXOscillator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],107:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DMICandlestick = (function (_super) {
    __extends(DMICandlestick, _super);
    function DMICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DMICandlestick.prototype.toString = function (precision) {
        return 'DX: '
            + ("" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'))
            + ' +DI: '
            + ("" + (this.pDI !== undefined ? this.pDI.toFixed(precision) : 'n/a'))
            + ' -DI '
            + ("" + (this.mDI !== undefined ? this.mDI.toFixed(precision) : 'n/a'));
    };
    return DMICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DMICandlestick = DMICandlestick;
var DMIIndicator = (function (_super) {
    __extends(DMIIndicator, _super);
    function DMIIndicator(source, context) {
        var _this = _super.call(this, DMICandlestick, source, context) || this;
        _this.name = 'DMI';
        _this.wma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Wilder);
        //this.adxma = MovingAverageFactory.instance.create(MovingAverageType.ADX);
        // DMI requires TR, +DM, -DM
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        _this.source.addExtension(index_1.UpDirectionalMovementExtension.uname, new index_1.UpDirectionalMovementExtension());
        _this.source.addExtension(index_1.DownDirectionalMovementExtension.uname, new index_1.DownDirectionalMovementExtension());
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    DMIIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new DMICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Using Wilder for smoothing +DM, -DM, TR
            //
            var lastComputedPDMA = lastComputed !== undefined ? lastComputed.ext['pdm'] : undefined;
            computed.pDMA = this.wma.compute(N, sourceItems, function (item) { return item.ext['pdm']; }, undefined, lastComputedPDMA);
            var lastComputedMDMA = lastComputed !== undefined ? lastComputed.ext['mdm'] : undefined;
            computed.mDMA = this.wma.compute(N, sourceItems, function (item) { return item.ext['mdm']; }, undefined, lastComputedMDMA);
            var lastComputedTRA = lastComputed !== undefined ? lastComputed.ext['tr'] : undefined;
            computed.TRA = this.wma.compute(N, sourceItems, function (item) { return item.ext['tr']; }, undefined, lastComputedTRA);
            if (computed.pDMA !== undefined && computed.mDMA !== undefined && computed.TRA !== undefined) {
                // Compute smoothed +DI, -DI
                var pDI = (computed.pDMA / computed.TRA) * 100;
                var mDI = (computed.mDMA / computed.TRA) * 100;
                computed.pDI = pDI;
                computed.mDI = mDI;
                // Compute DX
                computed.c = 100 * Math.abs(pDI - mDI) / (pDI + mDI);
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    DMIIndicator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    DMIIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    DMIIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return DMIIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DMIIndicator = DMIIndicator;
var DMIIndicatorRenderer = (function () {
    function DMIIndicatorRenderer() {
    }
    DMIIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        // Jaw
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.c !== undefined) {
                    var value = dmi.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        // Teeth
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.mDI !== undefined) {
                    var value = dmi.mDI;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        // Lips
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DMICandlestick) {
                var dmi = item;
                if (dmi && dmi.pDI !== undefined) {
                    var value = dmi.pDI;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    DMIIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    DMIIndicatorRenderer.prototype.getSettings = function () {
        return new index_2.SettingSet('visual');
    };
    DMIIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return DMIIndicatorRenderer;
}());
exports.DMIIndicatorRenderer = DMIIndicatorRenderer;
},{"../compute/index":42,"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],108:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// DSS = 100 x (EMAy(EMAx(C-L))) / EMAy(EMAx(H - L))
// DSS(slow) = EMA(DSS)
var DSSBRCandlestick = (function (_super) {
    __extends(DSSBRCandlestick, _super);
    function DSSBRCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DSSBRCandlestick.prototype.toString = function (precision) {
        return "" + (this.DSS !== undefined ? this.DSS.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.DSSslow !== undefined ? this.DSSslow.toFixed(precision) : 'n/a'));
    };
    return DSSBRCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DSSBRCandlestick = DSSBRCandlestick;
var DSSBROscillator = (function (_super) {
    __extends(DSSBROscillator, _super);
    function DSSBROscillator(source, context) {
        var _this = _super.call(this, DSSBRCandlestick, source, context) || this;
        _this.extsettings = new DSSBRSettings();
        _this.name = 'DSSBR';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(DSSBROscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodX, this.extsettings.periodZ);
        },
        enumerable: true,
        configurable: true
    });
    DSSBROscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodK = this.extsettings.periodK;
        var periodX = this.extsettings.periodX;
        var periodZ = this.extsettings.periodZ;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new DSSBRCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = source.c; //this.accessor(source);
        if (value !== undefined) {
            // calculating min/max with current value
            var H = sourceItems.max(function (c) { return c.h; }, periodK); // highest high for the period
            var L = sourceItems.min(function (c) { return c.l; }, periodK); // lowest low for the period
            if (H !== undefined && L !== undefined) {
                computed.CL = value - L;
                computed.HL = H - L;
                // Compute first EMAx
                var lastComputedEMA1cl = lastComputed !== undefined ? lastComputed.EMA1ofCL : undefined;
                computed.EMA1ofCL = this.ema.compute(periodX, sourceItems, function (c) { return c.CL; }, computed, lastComputedEMA1cl);
                var lastComputedEMA1hl = lastComputed !== undefined ? lastComputed.EMA1ofHL : undefined;
                computed.EMA1ofHL = this.ema.compute(periodX, sourceItems, function (c) { return c.HL; }, computed, lastComputedEMA1hl);
                // Compute second EMAy
                var lastComputedEMA2cl = lastComputed !== undefined ? lastComputed.EMA2ofCL : undefined;
                computed.EMA2ofCL = this.ema.compute(periodX, sourceItems, function (c) { return c.EMA1ofCL; }, computed, lastComputedEMA2cl);
                var lastComputedEMA2hl = lastComputed !== undefined ? lastComputed.EMA2ofHL : undefined;
                computed.EMA2ofHL = this.ema.compute(periodX, sourceItems, function (c) { return c.EMA1ofHL; }, computed, lastComputedEMA2hl);
                if (computed.EMA2ofCL !== undefined && computed.EMA2ofHL !== undefined && computed.EMA2ofHL !== 0) {
                    // Compute DSS
                    computed.DSS = 100 * computed.EMA2ofCL / computed.EMA2ofHL;
                    // Compute DSS slow
                    var lastComputedDSSslow = lastComputed !== undefined ? lastComputed.DSSslow : undefined;
                    computed.DSSslow = this.ema.compute(periodZ, sourceItems, function (c) { return c.DSS; }, computed, lastComputedDSSslow);
                }
            }
        }
        return computed;
    };
    DSSBROscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    DSSBROscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Stochastic period'
        }));
        group.setSetting('periodX', new index_1.SettingSet({
            name: 'periodX',
            value: this.extsettings.periodX.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Smoothing period'
        }));
        group.setSetting('periodZ', new index_1.SettingSet({
            name: 'periodZ',
            value: this.extsettings.periodZ.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Trigger period'
        }));
        return group;
    };
    DSSBROscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodX = value.getSetting('datasource.periodX');
        this.extsettings.periodX = (periodX && periodX.value) ? parseInt(periodX.value, 10) : this.extsettings.periodX;
        var periodZ = value.getSetting('datasource.periodZ');
        this.extsettings.periodZ = (periodZ && periodZ.value) ? parseInt(periodZ.value, 10) : this.extsettings.periodZ;
        // recompute
        this.compute();
    };
    return DSSBROscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.DSSBROscillator = DSSBROscillator;
var DSSBRSettings = (function () {
    function DSSBRSettings() {
        this.periodK = 14; // stochastic period
        this.periodX = 3; // smoothing periods
        //public periodY: number = 3;
        this.periodZ = 3; // Trigger period
    }
    return DSSBRSettings;
}());
var DSSBROscillatorRenderer = (function () {
    function DSSBROscillatorRenderer() {
    }
    DSSBROscillatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#00B730');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DSSBRCandlestick) {
                var double = item;
                if (double.DSS !== undefined) {
                    //const x = timeAxis.toX(index);
                    var value = double.DSS;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#B50021');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DSSBRCandlestick) {
                var double = item;
                if (double.DSSslow !== undefined) {
                    var value = double.DSSslow;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    DSSBROscillatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    DSSBROscillatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    DSSBROscillatorRenderer.prototype.setSettings = function (settings) {
    };
    return DSSBROscillatorRenderer;
}());
exports.DSSBROscillatorRenderer = DSSBROscillatorRenderer;
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],109:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var EMAIndicator = (function (_super) {
    __extends(EMAIndicator, _super);
    function EMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'EMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    EMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return EMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.EMAIndicator = EMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],110:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.hh = new index_2.Candlestick(date);
        _this.ll = new index_2.Candlestick(date);
        return _this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.hh && this.hh.c !== undefined ? this.hh.c.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.ll && this.ll.c !== undefined ? this.ll.c.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var HHLLIndicator = (function (_super) {
    __extends(HHLLIndicator, _super);
    function HHLLIndicator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'HHLL';
        // Set default settings
        _this.settings.period = 10;
        return _this;
    }
    HHLLIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var computed = new DoubleCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var hh = sourceItems.max(function (item) { return item.h; });
        var ll = sourceItems.min(function (item) { return item.l; });
        computed.hh.c = hh;
        computed.hh.h = hh;
        computed.hh.l = hh;
        computed.ll.c = ll;
        computed.ll.h = ll;
        computed.ll.l = ll;
        return computed;
    };
    HHLLIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    HHLLIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return HHLLIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.HHLLIndicator = HHLLIndicator;
var HHLLIndicatorRenderer = (function () {
    function HHLLIndicatorRenderer() {
    }
    HHLLIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#FF5900');
        // Up
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.hh && d.hh.c !== undefined) {
                    var value = d.hh.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#3D5AFF');
        // Down
        index_3.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.ll && d.ll.c !== undefined) {
                    var value = d.ll.c;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    HHLLIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    HHLLIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    HHLLIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return HHLLIndicatorRenderer;
}());
exports.HHLLIndicatorRenderer = HHLLIndicatorRenderer;
},{"../core/index":56,"../model/index":146,"../render/index":166,"./CandlestickExt":104,"./SimpleIndicator":129}],111:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Tenkan-sen (Conversion Line): (9-period high + 9-period low)/2))
// Kijun-sen (Base Line): (26-period high + 26-period low)/2))
// Senkou Span A (Leading Span A): (Conversion Line + Base Line)/2))
// Senkou Span B (Leading Span B): (52-period high + 52-period low)/2))
// Chikou Span (Lagging Span)
var IKHCandlestick = (function (_super) {
    __extends(IKHCandlestick, _super);
    function IKHCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IKHCandlestick.prototype.toString = function (precision) {
        return ''
            + ("" + (this.conversion !== undefined ? this.conversion.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.base !== undefined ? this.base.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.leadingAShifted !== undefined ? this.leadingAShifted.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.leadingBShifted !== undefined ? this.leadingBShifted.toFixed(precision) : 'n/a'))
            + ' / '
            + ("" + (this.laggingShifted !== undefined ? this.laggingShifted.toFixed(precision) : 'n/a'));
    };
    return IKHCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.IKHCandlestick = IKHCandlestick;
var IKHIndicator = (function (_super) {
    __extends(IKHIndicator, _super);
    function IKHIndicator(source, context) {
        var _this = _super.call(this, IKHCandlestick, source, context) || this;
        _this.extsettings = new IKHSettings();
        _this.name = 'IKH';
        return _this;
    }
    Object.defineProperty(IKHIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodConversion, this.extsettings.periodBase, this.extsettings.periodSpanB);
        },
        enumerable: true,
        configurable: true
    });
    IKHIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodConversion = this.extsettings.periodConversion;
        var periodBase = this.extsettings.periodBase;
        var periodSpanB = this.extsettings.periodSpanB;
        var ikhDisplacement = this.extsettings.ikhDisplacement;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new IKHCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = source.c; //this.accessor(source);
        if (value !== undefined) {
            // computing Conversion Line
            var H1 = sourceItems.max(function (c) { return c.h; }, periodConversion); // highest high for the period
            var L1 = sourceItems.min(function (c) { return c.l; }, periodConversion); // lowest low for the period
            if (H1 !== undefined && L1 !== undefined) {
                computed.conversion = (H1 + L1) / 2;
            }
            // computing Base Line
            var H2 = sourceItems.max(function (c) { return c.h; }, periodBase); // highest high for the period
            var L2 = sourceItems.min(function (c) { return c.l; }, periodBase); // lowest low for the period
            if (H2 !== undefined && L2 !== undefined) {
                computed.base = (H2 + L2) / 2;
            }
            // computing Leading Span A
            if (computed.base !== undefined && computed.conversion !== undefined) {
                computed.leadingA = (computed.base + computed.conversion) / 2;
            }
            // computing Leading Span B
            var H3 = sourceItems.max(function (c) { return c.h; }, periodSpanB); // highest high for the period
            var L3 = sourceItems.min(function (c) { return c.l; }, periodSpanB); // lowest low for the period
            if (H3 !== undefined && L3 !== undefined) {
                computed.leadingB = (H3 + L3) / 2;
            }
            // computing Lagging Span
            computed.lagging = source.c;
        }
        return computed;
    };
    IKHIndicator.prototype.afterCompute = function (arg) {
        // After compute shift Lagging and Leading lines
        // Leading shifting to right
        this.shiftDataExt(this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.leadingAShifted = source.leadingA;
            }
            else if (dest) {
                dest.leadingAShifted = undefined;
            }
        });
        // Leading shifting to right
        this.shiftDataExt(this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.leadingBShifted = source.leadingB;
            }
            else if (dest) {
                dest.leadingBShifted = undefined;
            }
        });
        // Leading shifting to right
        this.shiftDataExt(-this.extsettings.ikhDisplacement, function (dest, source) {
            if (dest && source) {
                dest.laggingShifted = source.lagging;
            }
            else if (dest) {
                dest.laggingShifted = undefined;
            }
        });
    };
    IKHIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodConversion', new index_1.SettingSet({
            name: 'periodConversion',
            value: this.extsettings.periodConversion.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Tenkan-Sen period'
        }));
        group.setSetting('periodBase', new index_1.SettingSet({
            name: 'periodBase',
            value: this.extsettings.periodBase.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Kijun-Sen period'
        }));
        group.setSetting('periodSpanB', new index_1.SettingSet({
            name: 'periodSpanB',
            value: this.extsettings.periodSpanB.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Senkou Span B period'
        }));
        group.setSetting('ikhDisplacement', new index_1.SettingSet({
            name: 'ikhDisplacement',
            value: this.extsettings.ikhDisplacement.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Displacment'
        }));
        return group;
    };
    IKHIndicator.prototype.setSettings = function (value) {
        var periodConversion = value.getSetting('datasource.periodConversion');
        this.extsettings.periodConversion = (periodConversion && periodConversion.value) ? parseInt(periodConversion.value, 10) : this.extsettings.periodConversion;
        var periodBase = value.getSetting('datasource.periodBase');
        this.extsettings.periodBase = (periodBase && periodBase.value) ? parseInt(periodBase.value, 10) : this.extsettings.periodBase;
        var periodSpanB = value.getSetting('datasource.periodSpanB');
        this.extsettings.periodSpanB = (periodSpanB && periodSpanB.value) ? parseInt(periodSpanB.value, 10) : this.extsettings.periodSpanB;
        var ikhDisplacement = value.getSetting('datasource.ikhDisplacement');
        this.extsettings.ikhDisplacement = (ikhDisplacement && ikhDisplacement.value) ? parseInt(ikhDisplacement.value, 10) : this.extsettings.ikhDisplacement;
        // recompute
        this.compute();
    };
    return IKHIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.IKHIndicator = IKHIndicator;
var IKHSettings = (function () {
    function IKHSettings() {
        this.periodConversion = 9; // Conversion Line period
        this.periodBase = 26; // Base Line period
        this.periodSpanB = 52; // Leading Span B period
        this.ikhDisplacement = 26;
    }
    return IKHSettings;
}());
var IKHIndicatorRenderer = (function () {
    function IKHIndicatorRenderer() {
    }
    IKHIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#267F00');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.conversion !== undefined) {
                    var value = ikh.conversion;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.base !== undefined) {
                    var value = ikh.base;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.leadingAShifted !== undefined) {
                    var value = ikh.leadingAShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#D30000');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.leadingBShifted !== undefined) {
                    var value = ikh.leadingBShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#267F00');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof IKHCandlestick) {
                var ikh = item;
                if (ikh.laggingShifted !== undefined) {
                    var value = ikh.laggingShifted;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    IKHIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    IKHIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    IKHIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return IKHIndicatorRenderer;
}());
exports.IKHIndicatorRenderer = IKHIndicatorRenderer;
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./SimpleIndicator":129}],112:[function(require,module,exports){
/**
 * IndicatorFabric class.
 *
 * @classdesc Creates indicator instances.
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function register(indicatorId, creator) {
    IndicatorFabric.instance.register(indicatorId, creator);
}
exports.register = register;
var IndicatorFabric = (function () {
    function IndicatorFabric() {
        this.ctors = {};
    }
    Object.defineProperty(IndicatorFabric, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new IndicatorFabric();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    IndicatorFabric.prototype.register = function (indicatorId, creator) {
        this.ctors[indicatorId] = creator;
    };
    IndicatorFabric.prototype.instantiate = function (indicatorId, source, context) {
        var ctor = this.ctors[indicatorId];
        if (ctor) {
            return new ctor(source, context);
        }
        else {
            throw new Error("Indicator with id=" + indicatorId + " is not registered.");
        }
    };
    return IndicatorFabric;
}());
exports.IndicatorFabric = IndicatorFabric;
},{}],113:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// MACD Line = EMA 12 - EMA 26
// Signal line = EMA(MACD)
// Historgam = MACD - Signal
var MACDCandlestick = (function (_super) {
    __extends(MACDCandlestick, _super);
    function MACDCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MACDCandlestick.prototype.toString = function (precision) {
        return 'MACD: '
            + ("" + (this.MACD !== undefined ? this.MACD.toFixed(precision) : 'n/a'))
            + ' SIG: '
            + ("" + (this.SIG !== undefined ? this.SIG.toFixed(precision) : 'n/a'))
            + ' HIS: '
            + ("" + (this.HIS !== undefined ? this.HIS.toFixed(precision) : 'n/a'));
    };
    return MACDCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.MACDCandlestick = MACDCandlestick;
var MACDIndicator = (function (_super) {
    __extends(MACDIndicator, _super);
    function MACDIndicator(source, context) {
        var _this = _super.call(this, MACDCandlestick, source, context) || this;
        _this.extsettings = new MACDSettings();
        _this.name = 'MACD';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(MACDIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodFast, this.extsettings.periodSlow, this.extsettings.periodSignal);
        },
        enumerable: true,
        configurable: true
    });
    MACDIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodFast = this.extsettings.periodFast;
        var periodSlow = this.extsettings.periodSlow;
        var periodSig = this.extsettings.periodSignal;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new MACDCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            // Compute Slow EMA
            var lastComputedEMAslow = lastComputed !== undefined ? lastComputed.EMAslow : undefined;
            computed.EMAslow = this.ema.compute(periodSlow, sourceItems, accessor, undefined, lastComputedEMAslow);
            // Compute Fast EMA
            var lastComputedEMAfast = lastComputed !== undefined ? lastComputed.EMAfast : undefined;
            computed.EMAfast = this.ema.compute(periodFast, sourceItems, accessor, undefined, lastComputedEMAfast);
            if (computed.EMAslow !== undefined && computed.EMAfast !== undefined) {
                // Compute MACD line
                computed.MACD = computed.EMAfast - computed.EMAslow;
                // Compute Signal line
                var lastComputedSig = lastComputed !== undefined ? lastComputed.SIG : undefined;
                computed.SIG = this.ema.compute(periodSig, computedArray, function (c) { return c.MACD; }, computed, lastComputedSig);
                if (computed.SIG !== undefined) {
                    // Computed Histogram
                    computed.HIS = computed.MACD - computed.SIG;
                }
                computed.c = computed.MACD;
                computed.h = Math.max(computed.MACD, computed.SIG !== undefined ? computed.SIG : -Infinity, computed.HIS !== undefined ? computed.HIS : -Infinity);
                computed.l = Math.min(computed.MACD, computed.SIG !== undefined ? computed.SIG : -Infinity, computed.HIS !== undefined ? computed.HIS : -Infinity);
            }
        }
        return computed;
    };
    MACDIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodFast', new index_1.SettingSet({
            name: 'periodFast',
            value: this.extsettings.periodFast.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Fast period'
        }));
        group.setSetting('periodSlow', new index_1.SettingSet({
            name: 'periodSlow',
            value: this.extsettings.periodSlow.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Slow period'
        }));
        group.setSetting('periodSignal', new index_1.SettingSet({
            name: 'periodSignal',
            value: this.extsettings.periodSignal.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Signal period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MACDIndicator.prototype.setSettings = function (value) {
        var periodFast = value.getSetting('datasource.periodFast');
        this.extsettings.periodFast = (periodFast && periodFast.value) ? parseInt(periodFast.value, 10) : this.extsettings.periodFast;
        var periodSlow = value.getSetting('datasource.periodSlow');
        this.extsettings.periodSlow = (periodSlow && periodSlow.value) ? parseInt(periodSlow.value, 10) : this.extsettings.periodSlow;
        var periodSignal = value.getSetting('datasource.periodSignal');
        this.extsettings.periodSignal = (periodSignal && periodSignal.value) ? parseInt(periodSignal.value, 10) : this.extsettings.periodSignal;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MACDIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MACDIndicator = MACDIndicator;
var MACDSettings = (function () {
    function MACDSettings() {
        this.periodFast = 12; // Fast period
        this.periodSlow = 26; // Slow period
        this.periodSignal = 9; // Signal period
    }
    return MACDSettings;
}());
var MACDIndicatorRenderer = (function () {
    function MACDIndicatorRenderer() {
    }
    MACDIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // MACD
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#0026FF');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof MACDCandlestick) {
                var c = item;
                if (c && c.MACD !== undefined) {
                    var value = c.MACD;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Signal
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#FF0800');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof MACDCandlestick) {
                var c = item;
                if (c && c.SIG !== undefined) {
                    var value = c.SIG;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
        // Histogram
        //
        canvas.beginPath();
        canvas.setStrokeStyle('#399F16');
        var y0 = yAxis.toX(0);
        var wi = frame.w / timeAxis.count;
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof MACDCandlestick) {
                var m = item;
                if (m && m.HIS !== undefined) {
                    var y = yAxis.toX(m.HIS);
                    if (wi >= 2) {
                        canvas.rect(x - wi / 2, Math.min(y, y0), wi, Math.abs(y - y0));
                    }
                    else {
                        canvas.moveTo(x, y0);
                        canvas.lineTo(x, y);
                    }
                }
            }
        });
        canvas.stroke();
    };
    MACDIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    MACDIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    MACDIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return MACDIndicatorRenderer;
}());
exports.MACDIndicatorRenderer = MACDIndicatorRenderer;
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./ValueAccessor":136}],114:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// MD = EMA(EMA(price - EMA(price)))
var MDCandlestick = (function (_super) {
    __extends(MDCandlestick, _super);
    function MDCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return MDCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.MDCandlestick = MDCandlestick;
var MDIndicator = (function (_super) {
    __extends(MDIndicator, _super);
    function MDIndicator(source, context) {
        var _this = _super.call(this, MDCandlestick, source, context) || this;
        _this.extsettings = new MDSettings();
        _this.name = 'MD';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    Object.defineProperty(MDIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.period1, this.extsettings.period2, this.extsettings.period3);
        },
        enumerable: true,
        configurable: true
    });
    MDIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var period1 = this.extsettings.period1;
        var period2 = this.extsettings.period2;
        var period3 = this.extsettings.period3;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new MDCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA1 = lastComputed !== undefined ? lastComputed.EMA1 : undefined;
            // 1. Compute EMA1
            computed.EMA1 = this.ema.compute(period1, sourceItems, accessor, undefined, lastComputedEMA1);
            if (computed.EMA1 !== undefined) {
                computed.dev = value - computed.EMA1;
                // 2. Compute EMA 2 on base of EMA1
                var lastComputedEMA2 = lastComputed !== undefined ? lastComputed.EMA2 : undefined;
                computed.EMA2 = this.ema.compute(period2, computedArray, function (item) { return item.dev; }, computed, lastComputedEMA2);
                if (computed.EMA2 !== undefined) {
                    // Compute EMA3
                    var lastComputedEMA3 = lastComputed !== undefined ? lastComputed.c : undefined;
                    computed.c = this.ema.compute(period3, computedArray, function (item) { return item.EMA2; }, computed, lastComputedEMA3);
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    MDIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period1', new index_1.SettingSet({
            name: 'period1',
            value: this.extsettings.period1.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '1st smoothing period'
        }));
        group.setSetting('period2', new index_1.SettingSet({
            name: 'period2',
            value: this.extsettings.period2.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '2nd smoothing period'
        }));
        group.setSetting('period3', new index_1.SettingSet({
            name: 'period3',
            value: this.extsettings.period3.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '3d smoothing period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MDIndicator.prototype.setSettings = function (value) {
        var period1 = value.getSetting('datasource.period1');
        this.extsettings.period1 = (period1 && period1.value) ? parseInt(period1.value, 10) : this.extsettings.period1;
        var period2 = value.getSetting('datasource.period2');
        this.extsettings.period2 = (period2 && period2.value) ? parseInt(period2.value, 10) : this.extsettings.period2;
        var period3 = value.getSetting('datasource.period3');
        this.extsettings.period3 = (period3 && period3.value) ? parseInt(period3.value, 10) : this.extsettings.period3;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MDIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MDIndicator = MDIndicator;
var MDSettings = (function () {
    function MDSettings() {
        this.period1 = 14; // smoothing period 1
        this.period2 = 3; // smoothing period 2
        this.period3 = 3; // smoothing period 3
    }
    return MDSettings;
}());
},{"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./ValueAccessor":136}],115:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Momentum = Close[t] - Close[t-N]
var MOMIndicator = (function (_super) {
    __extends(MOMIndicator, _super);
    function MOMIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'MOM';
        return _this;
    }
    Object.defineProperty(MOMIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period + 1; // MOM requires one extra item
        },
        enumerable: true,
        configurable: true
    });
    MOMIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var L = sourceItems.length;
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var i = L - (N + 1);
        if (i >= 0 && i < sourceItems.length) {
            var prev = sourceItems.getItem(i);
            var curValue = accessor(source);
            var prevValue = accessor(prev);
            if (curValue !== undefined && prevValue !== undefined) {
                computed.c = curValue - prevValue;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    MOMIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    MOMIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return MOMIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.MOMIndicator = MOMIndicator;
},{"../core/index":56,"./CandlestickExt":104,"./SimpleIndicator":129,"./ValueAccessor":136}],116:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MovingAverageType;
(function (MovingAverageType) {
    MovingAverageType[MovingAverageType["ADX"] = 0] = "ADX";
    MovingAverageType[MovingAverageType["DoubleExponential"] = 1] = "DoubleExponential";
    MovingAverageType[MovingAverageType["Exponential"] = 2] = "Exponential";
    MovingAverageType[MovingAverageType["Simple"] = 3] = "Simple";
    MovingAverageType[MovingAverageType["Smoothed"] = 4] = "Smoothed";
    MovingAverageType[MovingAverageType["Triangular"] = 5] = "Triangular";
    MovingAverageType[MovingAverageType["TripleExponential"] = 6] = "TripleExponential";
    MovingAverageType[MovingAverageType["Weight"] = 7] = "Weight";
    MovingAverageType[MovingAverageType["Wilder"] = 8] = "Wilder";
})(MovingAverageType = exports.MovingAverageType || (exports.MovingAverageType = {}));
var MovingAverageFactory = (function () {
    function MovingAverageFactory() {
        this.adxma = new ADXMovingAverage();
        this.ema = new ExponentialMovingAverage();
        this.sma = new SimpleMovingAverage();
        this.smma = new SmoothedMovingAverage();
        this.tma = new TriangularMovingAverage();
        this.wma = new WeightMovingAverage();
        this.wilderma = new WilderMovingAverage();
    }
    Object.defineProperty(MovingAverageFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new MovingAverageFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    MovingAverageFactory.prototype.create = function (maType) {
        switch (maType) {
            case MovingAverageType.ADX: return this.adxma;
            case MovingAverageType.Exponential: return this.ema;
            case MovingAverageType.Simple: return this.sma;
            case MovingAverageType.Smoothed: return this.smma;
            case MovingAverageType.Triangular: return this.tma;
            case MovingAverageType.Weight: return this.wma;
            case MovingAverageType.Wilder: return this.wilderma;
            default: throw new Error('Unexpected moving average type=' + maType);
        }
    };
    return MovingAverageFactory;
}());
exports.MovingAverageFactory = MovingAverageFactory;
var ExponentialMovingAverage = (function () {
    function ExponentialMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    ExponentialMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // Calculate first 4 MA as Simple MA
        if (precedingMovingAverage !== undefined && haveCount > 4) {
            // St = a * Yt + (1 - a) * St-1;
            var a = 2 / (n + 1);
            var lastValue = accessor(value !== undefined ? value : precedingValues.last());
            return lastValue !== undefined
                ? a * lastValue + (1 - a) * precedingMovingAverage
                : undefined;
        }
        else {
            // If no previous MA value, calculate as simple ma;
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
    };
    return ExponentialMovingAverage;
}());
var SimpleMovingAverage = (function () {
    function SimpleMovingAverage() {
    }
    SimpleMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var takeCount = 0;
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (precedingValues.length === 0 && value === undefined) {
            return undefined;
        }
        else if (precedingValues.length === 1 && value === undefined) {
            // if no previous values, return the only value
            return accessor(precedingValues.last());
        }
        else if (precedingValues.length === 0 && value !== undefined) {
            // if no previous values, return the only value
            return accessor(value);
        }
        else if (n > haveCount) {
            // if not enough values to build moving average use as much as we can get
            takeCount = haveCount;
        }
        else {
            // we have enough values 
            takeCount = n;
        }
        var sum = (value !== undefined ? accessor(value) || 0 : 0);
        var counter = (value !== undefined ? 1 : 0);
        takeCount = takeCount - (value !== undefined ? 1 : 0);
        // Add last values
        for (var i = 0; i < takeCount; i += 1) {
            var v = accessor(precedingValues.getItem(precedingValues.length - (i + 1)));
            if (v !== undefined) {
                sum += v;
                counter += 1;
            }
        }
        return sum / counter;
    };
    return SimpleMovingAverage;
}());
var SmoothedMovingAverage = (function () {
    function SmoothedMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    SmoothedMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount < n) {
            // use Simple Moving Average if not enough data
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        if (precedingMovingAverage === undefined) {
            throw new Error('Previous moving average must be specified.');
        }
        var curValue = accessor(value !== undefined ? value : precedingValues.last());
        return curValue !== undefined
            ? (precedingMovingAverage * (n - 1) + curValue) / n
            : precedingMovingAverage;
    };
    return SmoothedMovingAverage;
}());
var TriangularMovingAverage = (function () {
    function TriangularMovingAverage() {
    }
    TriangularMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        // If amount of items is not enough do not make computation.
        if (n > haveCount) {
            return undefined;
        }
        var mid = Math.round(n / 2);
        var sum = (value !== undefined ? n * (accessor(value) || 0) : 0);
        var divider = 0;
        var startIndex = (value !== undefined ? 2 : 1);
        var triang;
        for (var i = startIndex; i <= n; i += 1) {
            if (i <= mid) {
                triang = i;
            }
            else {
                triang = mid - (i - mid) + ((n + 1) % 2);
            }
            var v = accessor(precedingValues.getItem(precedingValues.length - ((i - startIndex) + 1)));
            if (v !== undefined) {
                sum += triang * v;
                divider += triang;
            }
        }
        return sum / divider;
    };
    return TriangularMovingAverage;
}());
var WeightMovingAverage = (function () {
    function WeightMovingAverage() {
    }
    WeightMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        // If amount of items is not enough then calculate for decreased N value.
        if (n > haveCount) {
            n = haveCount;
        }
        var sum = (value !== undefined ? n * (accessor(value) || 0) : 0);
        var counter = (value !== undefined ? 1 : 0);
        n = n - (value !== undefined ? 1 : 0);
        for (var i = 0; i < n; i += 1) {
            var v = accessor(precedingValues.getItem(precedingValues.length - (i + 1)));
            if (v !== undefined) {
                sum += (n - counter) * v;
                counter += 1;
            }
        }
        return sum / this.divider(counter);
    };
    WeightMovingAverage.prototype.divider = function (n) {
        return n * (n + 1) / 2;
    };
    return WeightMovingAverage;
}());
var WilderMovingAverage = (function () {
    function WilderMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    WilderMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // If there is previous MA then use it
        if (precedingMovingAverage !== undefined) {
            var curValue = accessor(value !== undefined ? value : precedingValues.last());
            return curValue !== undefined
                ? (precedingMovingAverage + (precedingMovingAverage / n) + curValue)
                : precedingMovingAverage;
        }
        if (haveCount >= n) {
            // First average calculate as simple average
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        else {
            // If not enought data do not compute
            return undefined;
        }
    };
    return WilderMovingAverage;
}());
/**
 * First - simple average.
 * Next - (prev avg x (n - 1) + current) / n
 */
var ADXMovingAverage = (function () {
    function ADXMovingAverage() {
        this.sma = new SimpleMovingAverage();
    }
    ADXMovingAverage.prototype.compute = function (n, precedingValues, accessor, value, precedingMovingAverage) {
        var haveCount = precedingValues.length + (value !== undefined ? 1 : 0);
        if (haveCount === 0) {
            return undefined;
        }
        // If there is previous MA then use it
        if (precedingMovingAverage !== undefined) {
            var curValue = accessor(value !== undefined ? value : precedingValues.last());
            return curValue !== undefined
                ? (precedingMovingAverage * (n - 1) + curValue) / n
                : precedingMovingAverage;
        }
        if (haveCount >= n) {
            // First average calculate as simple average
            return this.sma.compute(n, precedingValues, accessor, value, precedingMovingAverage);
        }
        else {
            // If not enought data do not compute
            return undefined;
        }
    };
    return ADXMovingAverage;
}());
},{}],117:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Range: [-100; 0]
// %R = (Highest High - Close)/(Highest High - Lowest Low) * -100
var PCROscillator = (function (_super) {
    __extends(PCROscillator, _super);
    function PCROscillator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'PCR';
        // Set default settings
        _this.settings.period = 14;
        return _this;
    }
    PCROscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        if (source.c !== undefined) {
            var H = sourceItems.max(function (c) { return c.h; }, N); // highest high for the period
            var L = sourceItems.min(function (c) { return c.l; }, N); // lowest low for the period
            if (H !== undefined && L !== undefined) {
                computed.c = H !== L ? (-100) * (H - source.c) / (H - L) : 0;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    PCROscillator.prototype.getValuesRange = function (range) {
        return { start: -100, end: 0 };
    };
    PCROscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%R Period'
        }));
        return group;
    };
    PCROscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return PCROscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.PCROscillator = PCROscillator;
},{"../core/index":56,"./CandlestickExt":104,"./SimpleIndicator":129}],118:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../utils/index");
var CandlestickExt_1 = require("./CandlestickExt");
var ValueAccessor_1 = require("./ValueAccessor");
// Pivot Point (P) = (High + Low + Close)/3
// Support 1 (S1) = (P x 2) - High
// Support 2 (S2) = P  -  (High  -  Low)
// Resistance 1 (R1) = (P x 2) - Low
// Resistance 2 (R2) = P + (High  -  Low)
var PPCandlestick = (function (_super) {
    __extends(PPCandlestick, _super);
    function PPCandlestick(dateStart, dateEnd) {
        var _this = _super.call(this, dateStart) || this;
        _this.dateEnd = new index_3.Uid(dateEnd);
        return _this;
    }
    PPCandlestick.prototype.toString = function (precision) {
        return 'PP: '
            + ("" + (this.p !== undefined ? this.p.toFixed(precision) : 'n/a'));
    };
    return PPCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.PPCandlestick = PPCandlestick;
var PPIndicator = (function (_super) {
    __extends(PPIndicator, _super);
    function PPIndicator(source, context) {
        var _this = _super.call(this, PPCandlestick, source, context) || this;
        _this.settings = new PPSettings();
        _this.name = 'PP';
        return _this;
    }
    PPIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var _this = this;
        var computedArray = [];
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var firstUid = iterator.current.uid;
        var lastUid;
        var found;
        var storeIter = this.dataStorage.getIterator();
        var _loop_1 = function () {
            lastUid = iterator.current.uid;
            var source = iterator.current;
            // Compute base time
            // 
            var sourceInterval = this_1.context.interval();
            var extInterval = this_1.extendInterval(sourceInterval);
            // Get candle for previous period
            var computeDate = index_4.DateUtils.truncateToInterval(source.uid.t, extInterval); // Date of current computed candle
            var computeTime = computeDate.getTime();
            var baseDate = index_4.DateUtils.addInterval(computeDate, extInterval, -1); // Date for previous period
            var baseTime = baseDate.getTime();
            // Find existing item
            if (!found) {
                found = storeIter.goTo(function (item) { return item.uid.t.getTime() === computeTime; });
            }
            else {
                found = storeIter.moveTo(function (item) { return item.uid.t.getTime() === computeTime; }) !== -1;
            }
            if (found) {
                // ignore
            }
            if (!found) {
                // Create promise
                //
                var computed_1 = new PPCandlestick(computeDate, index_4.DateUtils.addInterval(computeDate, extInterval, 1));
                // Promise should be in closure
                var promise = this_1.context.getCandle(this_1.source.asset, baseDate, extInterval);
                promise.then(function (candle) {
                    if (candle && candle.h !== undefined && candle.l !== undefined && candle.c !== undefined) {
                        computed_1.p = (candle.h + candle.l + candle.c) / 3;
                        computed_1.s1 = 2 * computed_1.p - candle.h;
                        computed_1.s2 = computed_1.p - (candle.h - candle.l);
                        computed_1.r1 = 2 * computed_1.p - candle.l;
                        computed_1.r2 = computed_1.p + (candle.h - candle.l);
                    }
                    _this.context.render();
                });
                computed_1.promise = promise;
                this_1.dataStorage.merge([computed_1]);
            }
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (iterator.moveNext());
        //const origArg = new DataChangedArgument(firstUid, lastUid, computedArray.length);
        return arg;
    };
    PPIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    PPIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    PPIndicator.prototype.extendInterval = function (interval) {
        switch (interval) {
            case index_1.TimeInterval.sec: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min5: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min15: return index_1.TimeInterval.day;
            case index_1.TimeInterval.min30: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour4: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour6: return index_1.TimeInterval.week;
            case index_1.TimeInterval.hour12: return index_1.TimeInterval.month;
            case index_1.TimeInterval.day: return index_1.TimeInterval.month;
            case index_1.TimeInterval.day3: return index_1.TimeInterval.month;
            //case TimeInterval.day10: return TimeInterval.year;
            // case TimeInterval.week: return TimeInterval.year;
            // case TimeInterval.month: return TimeInterval.year;
            default: throw new Error("Unexpected time interval " + interval);
        }
    };
    return PPIndicator;
}(index_2.IndicatorDataSource));
exports.PPIndicator = PPIndicator;
var PPSettings = (function () {
    function PPSettings() {
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return PPSettings;
}());
exports.PPSettings = PPSettings;
var Line = (function () {
    function Line() {
    }
    return Line;
}());
var PPIndicatorRenderer = (function () {
    function PPIndicatorRenderer() {
    }
    PPIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        // Get first time and last time of visible range
        var timeRange = timeAxis.range;
        // Find candles just before the first, and just after the last time.
        var firstTime = timeRange.start.t.getTime();
        var lastTime = timeRange.end.t.getTime();
        // Go to first candles just before first visible or first
        if (!data.goWhile(function (item) { return item.uid.t.getTime() < firstTime; })) {
            if (!data.goTo(function (item) { return true; })) {
                return;
            }
        }
        // Move next while date is in visible range
        //
        do {
            // Render current candle
            var points = (data.current instanceof PPCandlestick) ? data.current : undefined;
            if (points) {
                var x1 = timeAxis.toX(points.uid);
                var x2 = timeAxis.toX(points.dateEnd);
                // If can not get x coordinates by time axis, draw line to the border
                if (x1 === undefined) {
                    if (points.uid.t.getTime() < firstTime) {
                        x1 = -1;
                    }
                    if (points.uid.t.getTime() < lastTime) {
                        x1 = frame.x + frame.w + 1;
                    }
                }
                if (x2 === undefined) {
                    if (points.dateEnd.t.getTime() < firstTime) {
                        x2 = -1;
                    }
                    if (points.dateEnd.t.getTime() < lastTime) {
                        x2 = frame.x + frame.w + 1;
                    }
                }
                var line = new Line();
                line.x1 = x1;
                line.x2 = x2;
                if (points.p !== undefined && points.r1 !== undefined && points.r2 !== undefined && points.s1 !== undefined && points.s2 !== undefined) {
                    line.y1 = yAxis.toX(points.p);
                    line.y2 = yAxis.toX(points.r1);
                    line.y3 = yAxis.toX(points.r2);
                    line.y4 = yAxis.toX(points.s1);
                    line.y5 = yAxis.toX(points.s2);
                    canvas.beginPath();
                    canvas.setStrokeStyle('#56B50E');
                    this.line(canvas, line.x1, line.y1, line.x2, line.y1);
                    this.line(canvas, line.x1, line.y2, line.x2, line.y2);
                    this.line(canvas, line.x1, line.y3, line.x2, line.y3);
                    this.line(canvas, line.x1, line.y4, line.x2, line.y4);
                    this.line(canvas, line.x1, line.y5, line.x2, line.y5);
                    canvas.stroke();
                }
            }
        } while (data.moveNext() && data.current.uid.t.getTime() <= lastTime);
    };
    PPIndicatorRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        if (x1 !== undefined && x2 !== undefined && y1 !== undefined && y2 !== undefined) {
            canvas.moveTo(x1, y1);
            canvas.lineTo(x2, y2);
        }
    };
    PPIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    PPIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    PPIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return PPIndicatorRenderer;
}());
exports.PPIndicatorRenderer = PPIndicatorRenderer;
},{"../core/index":56,"../data/index":74,"../model/index":146,"../utils/index":180,"./CandlestickExt":104,"./ValueAccessor":136}],119:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
// SAR(n+1) = SAR(n) + A x (EP - SAR(n))
var Trend;
(function (Trend) {
    Trend[Trend["None"] = 0] = "None";
    Trend[Trend["Up"] = 1] = "Up";
    Trend[Trend["Down"] = 2] = "Down";
})(Trend = exports.Trend || (exports.Trend = {}));
var PSARCandlestick = (function (_super) {
    __extends(PSARCandlestick, _super);
    function PSARCandlestick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.trend = Trend.None;
        return _this;
    }
    PSARCandlestick.prototype.toString = function (precision) {
        return 'SAR: '
            + ("" + (this.SAR !== undefined ? this.SAR.toFixed(precision) : 'n/a'))
            + ' / EP: '
            + ("" + (this.EP !== undefined ? this.EP.toFixed(precision) : 'n/a'));
    };
    return PSARCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.PSARCandlestick = PSARCandlestick;
var PSARIndicator = (function (_super) {
    __extends(PSARIndicator, _super);
    function PSARIndicator(source, context) {
        var _this = _super.call(this, PSARCandlestick, source, context) || this;
        _this.extsettings = new PSARSettings();
        _this.name = 'PSAR';
        return _this;
    }
    Object.defineProperty(PSARIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return 3;
        },
        enumerable: true,
        configurable: true
    });
    PSARIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var initialFactor = this.extsettings.initialFactor;
        var increment = this.extsettings.increment;
        var maxFactor = this.extsettings.maxFactor;
        var sourceCur = sourceItems.last(); // source must contain at least one item.
        var sourcePrev = sourceItems.length > 1 ? sourceItems.getItem(sourceItems.length - 2) : undefined;
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new PSARCandlestick(sourceCur.date);
        computed.uidOrig.t = sourceCur.uid.t;
        computed.uidOrig.n = sourceCur.uid.n;
        if (sourceCur.h === undefined || sourceCur.l === undefined) {
            if (lastComputed !== undefined) {
                computed.a = lastComputed.a;
                computed.EP = lastComputed.EP;
                computed.SAR = lastComputed.SAR;
                computed.trend = lastComputed.trend;
            }
        }
        else {
            if (lastComputed !== undefined && lastComputed.SAR !== undefined) {
                // 1. Compute SAR
                //
                var SAR = void 0;
                var SARprev = lastComputed.SAR;
                var a = lastComputed.a;
                var EP = lastComputed.EP;
                var trend = lastComputed.trend;
                if (trend === Trend.Up) {
                    SAR = SARprev + a * (EP - SARprev);
                }
                else if (trend === Trend.Down) {
                    SAR = SARprev - a * (SARprev - EP);
                }
                else {
                    throw new Error('Undefined trend.');
                }
                // 2. Correct SAR. SAR can't get inside or beyound previous (2) range.
                //
                if (sourcePrev !== undefined && sourcePrev.h !== undefined && sourcePrev.l !== undefined) {
                    if (trend === Trend.Up && SAR > sourcePrev.l) {
                        // correct SAR
                        SAR = sourcePrev.l;
                    }
                    else if (trend === Trend.Down && SAR < sourcePrev.h) {
                        SAR = sourcePrev.h;
                    }
                }
                // 3. Check if trend changes or continues
                //
                if ((trend === Trend.Up && SAR > sourceCur.l)
                    || (trend === Trend.Down && SAR < sourceCur.h)) {
                    // Trend changes
                    computed.trend = trend === Trend.Up ? Trend.Down : Trend.Up;
                    computed.a = initialFactor;
                    computed.EP = trend === Trend.Up ? sourceCur.l : sourceCur.h;
                    computed.SAR = EP; // New SAR is EP from previous trend
                }
                else {
                    // Trend continues
                    computed.trend = trend;
                    computed.SAR = SAR;
                    computed.EP = trend === Trend.Up ? Math.max(EP, sourceCur.h) : Math.min(EP, sourceCur.l);
                    // Increment "a" if new highest high or lowest low. If HH / LL is not changed, do not increment "a".
                    computed.a = (computed.EP !== EP) ? Math.min(a + increment, maxFactor) : a;
                }
            }
            else {
                // Computing first SAR
                computed.trend = Trend.Up;
                computed.a = initialFactor;
                computed.EP = sourceCur.h;
                computed.SAR = sourceCur.l;
            }
        }
        return computed;
    };
    PSARIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('initialFactor', new index_1.SettingSet({
            name: 'initialFactor',
            value: this.extsettings.initialFactor.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Initial factor'
        }));
        group.setSetting('increment', new index_1.SettingSet({
            name: 'increment',
            value: this.extsettings.increment.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Increment'
        }));
        group.setSetting('maxFactor', new index_1.SettingSet({
            name: 'maxFactor',
            value: this.extsettings.maxFactor.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Maximum factor'
        }));
        return group;
    };
    PSARIndicator.prototype.setSettings = function (value) {
        var initialFactor = value.getSetting('datasource.initialFactor');
        this.extsettings.initialFactor = (initialFactor && initialFactor.value) ? parseInt(initialFactor.value, 10) : this.extsettings.initialFactor;
        var increment = value.getSetting('datasource.increment');
        this.extsettings.increment = (increment && increment.value) ? parseInt(increment.value, 10) : this.extsettings.increment;
        var maxFactor = value.getSetting('datasource.maxFactor');
        this.extsettings.maxFactor = (maxFactor && maxFactor.value) ? parseInt(maxFactor.value, 10) : this.extsettings.maxFactor;
        // recompute
        this.compute();
    };
    return PSARIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.PSARIndicator = PSARIndicator;
var PSARSettings = (function () {
    function PSARSettings() {
        this.initialFactor = 0.02;
        this.increment = 0.02;
        this.maxFactor = 0.2;
    }
    return PSARSettings;
}());
var PSARIndicatorRenderer = (function () {
    function PSARIndicatorRenderer() {
    }
    PSARIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            var curItem = (item instanceof PSARCandlestick) ? item : undefined;
            if (curItem && curItem.SAR !== undefined) {
                var y = yAxis.toX(curItem.SAR);
                canvas.beginPath();
                if (curItem.trend === Trend.Up) {
                    canvas.setStrokeStyle('#56B50E');
                    canvas.setFillStyle('#56B50E');
                }
                else {
                    canvas.setStrokeStyle('#EA0E1C');
                    canvas.setFillStyle('#EA0E1C');
                }
                canvas.arc(x, y, 2, 0, 360);
                canvas.fill();
                canvas.stroke();
            }
        });
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = data.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = data.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const curItem = (data.current instanceof PSARCandlestick) ? <PSARCandlestick>data.current : undefined;
        //         if (curItem && curItem.SAR !== undefined) {
        //             const y = yAxis.toX(curItem.SAR);
        //             canvas.beginPath();
        //             if (curItem.trend === Trend.Up) {
        //                 canvas.setStrokeStyle('#56B50E');
        //                 canvas.setFillStyle('#56B50E');
        //             } else {
        //                 canvas.setStrokeStyle('#EA0E1C');
        //                 canvas.setFillStyle('#EA0E1C');
        //             }
        //             canvas.arc(x, y, 2, 0, 360);
        //             canvas.fill();
        //             canvas.stroke();
        //         }
        //     }
        // }
    };
    PSARIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    PSARIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    PSARIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return PSARIndicatorRenderer;
}());
exports.PSARIndicatorRenderer = PSARIndicatorRenderer;
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./SimpleIndicator":129}],120:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../shared/index");
var index_4 = require("../utils/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var ValueAccessor_1 = require("./ValueAccessor");
// RATIOCATOR = 100 * (pa/pb) / (A1/B1)
var RATIOIndicator = (function (_super) {
    __extends(RATIOIndicator, _super);
    function RATIOIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.extsettings = new RATIOSettings();
        _this.handler = function (res) {
            var candleA = res[0], candleB = res[1];
            if (candleA !== undefined && candleB !== undefined) {
                // Compute base koefficient and recompute
                var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(_this.extsettings.valueType);
                var p = accessor(candleA);
                var s = accessor(candleB);
                if (p !== undefined && s !== undefined && s !== 0) {
                    _this.base = p / s;
                    _this.compute();
                    _this.context.render();
                }
            }
        };
        _this.name = 'RATIO';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    RATIOIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.extsettings.valueType);
        // Get compare data souce
        var compareDataSource = this.extsettings.uid ? this.context.register.getItem(this.extsettings.uid) : undefined;
        if (!compareDataSource) {
            return;
        }
        var sourceIter = this.source.getIterator();
        var compareIter = compareDataSource.getIterator();
        // Get base value
        if (this.base === undefined) {
            if (this.extsettings.basedate) {
                // load candles on specified date
                var promiseA = this.context.getCandle(this.source.asset, this.extsettings.basedate, this.context.interval());
                var promiseB = this.context.getCandle(compareDataSource.asset, this.extsettings.basedate, this.context.interval());
                Promise.all([promiseA, promiseB]).then(this.handler);
            }
            return;
        }
        // Go to first element
        if (arg) {
            sourceIter.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!sourceIter.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var found = false;
        var firstUid = sourceIter.current.uid;
        var lastUid;
        var computedArray = [];
        var _loop_1 = function () {
            var source = sourceIter.current;
            lastUid = source.uid;
            if (found) {
                found = compareIter.moveTo(function (citem) { return source.uid.compare(citem.uid) === 0; }) !== -1;
            }
            else {
                found = compareIter.goTo(function (citem) { return source.uid.compare(citem.uid) === 0; });
            }
            if (found) {
                var computed = this_1.computeOne(source, compareIter.current, this_1.base, accessor);
                computedArray.push(computed);
            }
        };
        var this_1 = this;
        do {
            _loop_1();
        } while (sourceIter.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        var origArg = new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
        return origArg;
    };
    RATIOIndicator.prototype.computeOne = function (sourceItem, compareItem, base, accessor) {
        var p = accessor(sourceItem);
        var s = accessor(compareItem);
        var computed = new CandlestickExt_1.CandlestickExt(sourceItem.date);
        computed.uidOrig.t = sourceItem.uid.t;
        computed.uidOrig.n = sourceItem.uid.n;
        if (p !== undefined && s !== undefined && s !== 0 && base !== 0) {
            computed.c = 100 * (p / s) / base;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    RATIOIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('basedate', new index_1.SettingSet({
            name: 'basedate',
            displayName: 'Base date',
            value: this.extsettings.basedate ? index_4.DateUtils.formatDateISO(this.extsettings.basedate) : '',
            settingType: index_1.SettingType.date
        }));
        var sources = this.context.register.list();
        sources.push(new index_3.IdValue('', ''));
        group.setSetting('uid', new index_1.SettingSet({
            name: 'uid',
            displayName: 'Compare',
            value: this.extsettings.uid,
            settingType: index_1.SettingType.select,
            options: sources.map(function (item) { return { value: item.id, text: item.value }; })
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.extsettings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    RATIOIndicator.prototype.setSettings = function (value) {
        var uid = value.getSetting('datasource.uid');
        this.extsettings.uid = (uid && uid.value) ? uid.value : this.extsettings.uid;
        var d = value.getSetting('datasource.basedate');
        this.extsettings.basedate = (d && d.value) ? index_4.DateUtils.parseISODate(d.value) : undefined;
        var valueType = value.getSetting('datasource.valueType');
        this.extsettings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.extsettings.valueType;
        // cleare stored base value
        this.base = undefined;
        // recompute
        this.compute();
    };
    return RATIOIndicator;
}(index_2.IndicatorDataSource));
exports.RATIOIndicator = RATIOIndicator;
var RATIOSettings = (function () {
    function RATIOSettings() {
        this.period = 10;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return RATIOSettings;
}());
},{"../core/index":56,"../data/index":74,"../shared/index":170,"../utils/index":180,"./CandlestickExt":104,"./MovingAverage":116,"./ValueAccessor":136}],121:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var RainbowCandlestick = (function (_super) {
    __extends(RainbowCandlestick, _super);
    function RainbowCandlestick(date, c, o, h, l) {
        var _this = _super.call(this, date, c, o, h, l) || this;
        _this.line = [];
        return _this;
    }
    RainbowCandlestick.prototype.toString = function () {
        return '';
    };
    return RainbowCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RainbowCandlestick = RainbowCandlestick;
var RBIndicator = (function (_super) {
    __extends(RBIndicator, _super);
    function RBIndicator(source, context) {
        var _this = _super.call(this, RainbowCandlestick, source, context) || this;
        _this.name = 'RB';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        _this.settings.period = Math.max.apply(Math, RBIndicator.periods); // Taking max item as required amount of items
        return _this;
    }
    RBIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RainbowCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            for (var i = 0; i < RBIndicator.K; i += 1) {
                var lastComputedValue = lastComputed !== undefined ? lastComputed.line[i] : undefined;
                computed.line[i] = this.ma.compute(RBIndicator.periods[i], sourceItems, accessor, undefined, lastComputedValue);
            }
        }
        return computed;
    };
    RBIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    RBIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    return RBIndicator;
}(SimpleIndicator_1.SimpleIndicator));
RBIndicator.periods = [9, 12, 15, 18, 21, 24, 27, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 100];
RBIndicator.K = RBIndicator.periods.length; // Amount of periods
exports.RBIndicator = RBIndicator;
var RBIndicatorRenderer = (function () {
    function RBIndicatorRenderer() {
    }
    RBIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var _loop_1 = function (i) {
            var color = this_1.rainbow(RBIndicator.K, i);
            canvas.beginPath();
            canvas.setStrokeStyle(color);
            // Up
            index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
                if (item instanceof RainbowCandlestick) {
                    var d = item;
                    if (d && d.line[i] !== undefined) {
                        var value = d.line[i];
                        return { uid: item.uid, v: value };
                    }
                }
            }, frame, timeAxis, yAxis);
            canvas.stroke();
        };
        var this_1 = this;
        for (var i = 0; i < RBIndicator.K; i += 1) {
            _loop_1(i);
        }
    };
    RBIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    RBIndicatorRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('visual');
    };
    RBIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    RBIndicatorRenderer.prototype.rainbow = function (numOfSteps, step) {
        var r = 0.0;
        var g = 0.0;
        var b = 0.0;
        var h = step / numOfSteps;
        var i = Math.floor(h * 6);
        var f = h * 6.0 - i;
        var q = 1 - f;
        switch (i % 6) {
            case 0:
                r = 1;
                g = f;
                b = 0;
                break;
            case 1:
                r = q;
                g = 1;
                b = 0;
                break;
            case 2:
                r = 0;
                g = 1;
                b = f;
                break;
            case 3:
                r = 0;
                g = q;
                b = 1;
                break;
            case 4:
                r = f;
                g = 0;
                b = 1;
                break;
            case 5:
                r = 1;
                g = 0;
                b = q;
                break;
            default:
                throw new Error('Invalid operation');
        }
        return '#'
            + ('00' + (parseInt((r * 255).toString(), 10)).toString(16)).slice(-2)
            + ('00' + (parseInt((g * 255).toString(), 10)).toString(16)).slice(-2)
            + ('00' + (parseInt((b * 255).toString(), 10)).toString(16)).slice(-2);
    };
    return RBIndicatorRenderer;
}());
exports.RBIndicatorRenderer = RBIndicatorRenderer;
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],122:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Roc = 100 x ( Close[t] - Close[t-N] ) / Close[t-N] 
var ROCIndicator = (function (_super) {
    __extends(ROCIndicator, _super);
    function ROCIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'ROC';
        return _this;
    }
    Object.defineProperty(ROCIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period + 1; // ROC requires one extra item
        },
        enumerable: true,
        configurable: true
    });
    ROCIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var L = sourceItems.length;
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var i = L - (N + 1);
        if (i >= 0 && i < sourceItems.length) {
            var prev = sourceItems.getItem(i);
            var curValue = accessor(source);
            var prevValue = accessor(prev);
            if (curValue !== undefined && prevValue !== undefined) {
                computed.c = 100 * (curValue - prevValue) / prevValue;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    ROCIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    ROCIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return ROCIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.ROCIndicator = ROCIndicator;
},{"../core/index":56,"./CandlestickExt":104,"./SimpleIndicator":129,"./ValueAccessor":136}],123:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// RS = AVG (upward) / AVG (downward);  
// RSI = 100 - (100 / (1 + RS));
var RSICandlestick = (function (_super) {
    __extends(RSICandlestick, _super);
    function RSICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSICandlestick = RSICandlestick;
var RSIOscillator = (function (_super) {
    __extends(RSIOscillator, _super);
    function RSIOscillator(source, context) {
        var _this = _super.call(this, RSICandlestick, source, context) || this;
        _this.name = 'RSI';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // RSI requires Gain/Loss
        _this.initExtension();
        // Set default settings
        _this.settings.period = 14;
        _this.settings.valueType = ValueAccessor_1.ValueAccessorType.close;
        return _this;
    }
    RSIOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var _this = this;
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RSICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        // Compute average gain/loss
        var lastComputedGain = lastComputed !== undefined ? lastComputed.avgGain : undefined;
        computed.avgGain = this.ma.compute(N, sourceItems, function (candle) { return _this.ext.value(candle).gain; }, undefined, lastComputedGain);
        var lastComputedLoss = lastComputed !== undefined ? lastComputed.avgLoss : undefined;
        computed.avgLoss = this.ma.compute(N, sourceItems, function (candle) { return _this.ext.value(candle).loss; }, undefined, lastComputedLoss);
        if (computed.avgGain !== undefined && computed.avgLoss !== undefined && computed.avgLoss !== 0) {
            var RS = computed.avgGain / computed.avgLoss;
            var RSI = 100 - (100 / (1 + RS));
            computed.c = RSI;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    RSIOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    RSIOscillator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_2.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    RSIOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // re-init extension to new value
        this.initExtension();
        // recompute
        this.compute();
    };
    RSIOscillator.prototype.initExtension = function () {
        // remove old extension and add new one
        //
        if (this.ext) {
            this.source.removeExtension(this.ext.uname);
        }
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        this.ext = new index_1.GainLossExtension(accessor);
        this.source.addExtension(this.ext.uname, this.ext);
    };
    return RSIOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.RSIOscillator = RSIOscillator;
},{"../compute/index":42,"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./ValueAccessor":136}],124:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// RSL = Close / MA
var RSLCandlestick = (function (_super) {
    __extends(RSLCandlestick, _super);
    function RSLCandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSLCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSLCandlestick = RSLCandlestick;
var RSLOscillator = (function (_super) {
    __extends(RSLOscillator, _super);
    function RSLOscillator(source, context) {
        var _this = _super.call(this, RSLCandlestick, source, context) || this;
        _this.name = 'RSL';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        // Set default settings
        _this.settings.period = 27;
        return _this;
    }
    RSLOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new RSLCandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        // Compute average gain/loss
        var lastComputedMA = lastComputed !== undefined ? lastComputed.MA : undefined;
        computed.MA = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedMA);
        if (computed.MA !== undefined && value !== undefined) {
            computed.c = computed.MA !== 0 ? value / computed.MA : undefined;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return RSLOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.RSLOscillator = RSLOscillator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],125:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var SMAIndicator = (function (_super) {
    __extends(SMAIndicator, _super);
    function SMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'SMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        return _this;
    }
    SMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return SMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SMAIndicator = SMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],126:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var SMMAIndicator = (function (_super) {
    __extends(SMMAIndicator, _super);
    function SMMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'SMMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Smoothed);
        return _this;
    }
    SMMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return SMMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SMMAIndicator = SMMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],127:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
var STDEVIndicator = (function (_super) {
    __extends(STDEVIndicator, _super);
    function STDEVIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'STDEV';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Weight);
        _this.settings.period = 10;
        return _this;
    }
    STDEVIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var array = [];
        var sum = 0;
        for (var i = sourceItems.length - 1; i >= 0 && array.length < N; i -= 1) {
            var value = accessor(sourceItems.getItem(i));
            if (value !== undefined) {
                array.push(value);
                sum += value;
            }
        }
        if (array.length < N || array.length === 0) {
            return computed;
        }
        var avg = sum / array.length;
        var sumSqrtDev = array.reduce(function (prev, cur) { return prev + Math.pow(cur - avg, 2); }, 0);
        computed.c = Math.sqrt(sumSqrtDev / array.length);
        computed.h = computed.c;
        computed.l = computed.c;
        return computed;
    };
    STDEVIndicator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_1.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_1.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    STDEVIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // recompute
        this.compute();
    };
    return STDEVIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.STDEVIndicator = STDEVIndicator;
},{"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./ValueAccessor":136}],128:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var index_3 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Upper = hl2 + M x ATR (if Close > ST prev on down trend)
// Lower = hl2 - M x ATR (if Close < ST prev on upper trend)
var Type;
(function (Type) {
    Type[Type["Undef"] = 0] = "Undef";
    Type[Type["Up"] = 1] = "Up";
    Type[Type["Down"] = 2] = "Down";
})(Type = exports.Type || (exports.Type = {}));
var STCandlestick = (function (_super) {
    __extends(STCandlestick, _super);
    function STCandlestick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.trend = Type.Undef;
        return _this;
    }
    STCandlestick.prototype.toString = function (precision) {
        return "" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a');
    };
    return STCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.STCandlestick = STCandlestick;
var STIndicator = (function (_super) {
    __extends(STIndicator, _super);
    function STIndicator(source, context) {
        var _this = _super.call(this, STCandlestick, source, context) || this;
        _this.extsettings = new STSettings();
        _this.name = 'ST';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.ADX);
        // Adding TR to build ATR
        _this.source.addExtension(index_1.TrueRangeExtension.uname, new index_1.TrueRangeExtension());
        // Set default settings
        _this.settings.period = 10;
        return _this;
    }
    STIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var multiplier = this.extsettings.multiplier;
        var current = sourceItems.last();
        var prev = sourceItems.length > 1 ? sourceItems.getItem(sourceItems.length - 1) : undefined;
        var lastComputed = computedArray.lastOrDefault();
        var computed = new STCandlestick(current.date);
        computed.uidOrig.t = current.uid.t;
        computed.uidOrig.n = current.uid.n;
        // Build ATR
        var lastComputedValue = lastComputed !== undefined ? lastComputed.ATR : undefined;
        computed.ATR = this.ma.compute(N, sourceItems, function (c) { return c.ext['tr']; }, undefined, lastComputedValue);
        if (current.c !== undefined && current.h !== undefined && current.l !== undefined && computed.ATR !== undefined) {
            // Defining current trend
            //
            computed.trend = Type.Up; // default trend
            if (lastComputed !== undefined && lastComputed.c !== undefined) {
                if (lastComputed.trend === Type.Up && current.c < lastComputed.c) {
                    computed.trend = Type.Down;
                }
                else if (lastComputed.trend === Type.Down && current.c > lastComputed.c) {
                    computed.trend = Type.Up;
                }
                else if (lastComputed.trend !== Type.Undef) {
                    computed.trend = lastComputed.trend;
                }
            }
            // Computing up/down trend values
            var hl2 = (current.h + current.l) / 2;
            var up = hl2 - multiplier * computed.ATR;
            var down = hl2 + multiplier * computed.ATR;
            //computed.trendUp = ( prev.c > lastComputed.trendUp ) ? Math.max(up, lastComputed.trendUp) : up;
            computed.trendUp = up;
            //computed.trendDown = ( sourceprev.c < lastComputed.trendDown ) ? Math.min(down, lastComputed.trendDown) : down;
            computed.trendDown = down;
            if (prev !== undefined && prev.c !== undefined && lastComputed !== undefined && lastComputed.trendUp !== undefined
                && prev.c > lastComputed.trendUp) {
                computed.trendUp = Math.max(up, lastComputed.trendUp);
            }
            if (prev !== undefined && prev.c !== undefined && lastComputed !== undefined && lastComputed.trendDown !== undefined
                && prev.c < lastComputed.trendDown) {
                computed.trendDown = Math.min(down, lastComputed.trendDown);
            }
            // Computing supertrend
            //
            if (computed.trend === Type.Up) {
                computed.c = computed.trendUp;
            }
            else if (computed.trend === Type.Down) {
                computed.c = computed.trendDown;
            }
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    STIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('multiplier', new index_2.SettingSet({
            name: 'multiplier',
            value: this.extsettings.multiplier.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Factor'
        }));
        return group;
    };
    STIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var multiplier = value.getSetting('datasource.multiplier');
        this.extsettings.multiplier = (multiplier && multiplier.value) ? parseFloat(multiplier.value) : this.extsettings.multiplier;
        // recompute
        this.compute();
    };
    return STIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.STIndicator = STIndicator;
var STSettings = (function () {
    function STSettings() {
        this.multiplier = 3;
    }
    return STSettings;
}());
var STIndicatorRenderer = (function () {
    function STIndicatorRenderer() {
    }
    STIndicatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var found = false;
        var curPoint = undefined;
        var prevPoint = undefined;
        var curItem = undefined;
        var prevItem = undefined;
        index_3.RenderUtils.iterate(timeAxis, data, function (item, x) {
            curItem = (item instanceof STCandlestick) ? item : undefined;
            var cur = undefined;
            if (curItem) {
                var st = curItem;
                if (st && st.c !== undefined) {
                    cur = { uid: curItem.uid, v: st.c };
                    var y = yAxis.toX(cur.v);
                    curPoint = { x: x, y: y };
                    if (prevItem) {
                        if (curItem.trend === Type.Up && prevItem.trend === Type.Up) {
                            canvas.setStrokeStyle('#56B50E');
                        }
                        else if (curItem.trend === Type.Down && prevItem.trend === Type.Down) {
                            canvas.setStrokeStyle('#FF0000');
                        }
                        else {
                            canvas.setStrokeStyle('#606060');
                        }
                    }
                    if (prevPoint) {
                        canvas.beginPath();
                        canvas.moveTo(prevPoint.x, prevPoint.y);
                        canvas.lineTo(curPoint.x, curPoint.y);
                        canvas.stroke();
                    }
                    prevItem = curItem;
                    prevPoint = curPoint;
                }
            }
        });
    };
    STIndicatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    STIndicatorRenderer.prototype.getSettings = function () {
        return new index_2.SettingSet('visual');
    };
    STIndicatorRenderer.prototype.setSettings = function (settings) {
    };
    return STIndicatorRenderer;
}());
exports.STIndicatorRenderer = STIndicatorRenderer;
},{"../compute/index":42,"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],129:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../data/index");
var index_3 = require("../model/index");
var index_4 = require("../shared/index");
var ValueAccessor_1 = require("./ValueAccessor");
var SimpleIndicator = (function (_super) {
    __extends(SimpleIndicator, _super);
    function SimpleIndicator(dataType, source, context) {
        var _this = _super.call(this, dataType, source, context, function (lhs, rhs) { return lhs.uidOrig.compare(rhs.uidOrig); }) || this;
        _this.settings = new SimpleSettings();
        return _this;
    }
    Object.defineProperty(SimpleIndicator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return this.settings.period; // By default loading period number of items
        },
        enumerable: true,
        configurable: true
    });
    SimpleIndicator.prototype.compute = function (arg) {
        // If arg is not defined build all data
        // Compute data till the end (update data from current place to end)
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        // Remove extended (fake) items
        this.dataStorage.trimRight(function (item) { return item.isFake; });
        this.dataStorage.trimLeft(function (item) { return item.isFake; });
        var computedArray = [];
        var N = this.requiredItemsOnCompute; //this.settings.period;
        var sourceItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        var computedItems = new index_4.FixedSizeArray(N, function (lhs, rhs) { throw new Error('Not implemented.'); });
        // Get source data without loading
        var iterator = this.source.getIterator();
        // Select last source items
        if (arg) {
            if (!iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; })) {
                throw new Error('Source does not contain updated data');
            }
            var prev = index_2.IndicatorDataSource.getPreviousItems(iterator, N - 1);
            sourceItems.pushRange(prev);
        }
        // Get last computed items
        if (arg) {
            var iter = this.dataStorage.getIterator();
            if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
                computedArray = index_2.IndicatorDataSource.getPreviousItems(iter, N - 1);
                computedItems.pushRange(computedArray);
            }
        }
        // Go to first element
        if (arg) {
            iterator.goTo(function (item) { return item.uid.compare(arg.uidFirst) === 0; });
        }
        else {
            if (!iterator.moveNext()) {
                return;
            } // Finish if no data
        }
        // Calculations
        // 
        var firstUid = iterator.current.uid;
        var lastUid;
        do {
            lastUid = iterator.current.uid;
            sourceItems.push(iterator.current);
            var computed = this.computeOne(sourceItems, computedItems, accessor);
            computedArray.push(computed);
            computedItems.push(computed);
            //lastComputed = computed;
        } while (iterator.moveNext());
        // Merge using origUid, not uid
        this.dataStorage.merge(computedArray);
        this.afterCompute(arg);
        var origArg = new index_2.DataChangedArgument(firstUid, lastUid, computedArray.length);
        // Update shift
        var shiftedArg = this.shiftTime(origArg, this.settings.displacement);
        return shiftedArg;
    };
    SimpleIndicator.prototype.afterCompute = function (arg) { };
    SimpleIndicator.prototype.shiftTime = function (arg, shift) {
        // TODO: arg can narrow shift area
        if (shift > 0) {
            this.shiftTimeRight(shift);
        }
        else if (shift < 0) {
            this.shiftTimeLeft(shift);
        }
        else {
            this.noshift();
            return arg;
        }
        // Build new DataChangeArgument
        var shiftedFirstUid;
        var shiftedLastUid;
        var iter = this.dataStorage.getIterator();
        if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidFirst) === 0; })) {
            shiftedFirstUid = iter.current.uid;
        }
        if (iter.goTo(function (item) { return item.uidOrig.compare(arg.uidLast) === 0; })) {
            shiftedLastUid = iter.current.uid;
        }
        // TODO: Init lastUidBefore/lastUidAfter.
        return new index_2.DataChangedArgument(shiftedFirstUid || arg.uidFirst, shiftedLastUid || arg.uidLast, arg.count);
    };
    SimpleIndicator.prototype.noshift = function () {
        // Just copy uid
        var iter = this.dataStorage.getIterator();
        while (iter.moveNext()) {
            iter.current.uid = iter.current.uidOrig;
        }
    };
    // TODO: Unite with shiftRight
    SimpleIndicator.prototype.shiftTimeLeft = function (shift) {
        var isFake = false;
        var iterFirst = this.dataStorage.getIterator();
        var iterLast = this.dataStorage.getIterator();
        if (!iterFirst.goToLast() || !iterLast.goToLast()) {
            // no items to shift
            return;
        }
        // Shift first iterator to start position
        //
        var counter = 0;
        var uidFirst = iterFirst.current.uidOrig;
        while (counter < Math.abs(shift)) {
            isFake = !iterFirst.movePrev();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, -1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
            counter += 1;
        }
        // Start copying uid loop 
        //
        do {
            // Move uid
            iterLast.current.uid = new index_3.Uid(uidFirst.t, uidFirst.n);
            // Shift one step
            isFake = !iterFirst.movePrev();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, -1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
        } while (iterLast.movePrev());
    };
    SimpleIndicator.prototype.shiftTimeRight = function (shift) {
        var isFake = false;
        var iterFirst = this.dataStorage.getIterator();
        var iterLast = this.dataStorage.getIterator();
        if (!iterFirst.moveNext() || !iterLast.moveNext()) {
            // no items to shift
            return;
        }
        // Shift first iterator to start position
        //
        var counter = 0;
        var uidFirst = iterFirst.current.uidOrig;
        while (counter < Math.abs(shift)) {
            isFake = !iterFirst.moveNext();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, 1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
            counter += 1;
        }
        // Start copying uid loop 
        //
        do {
            // Move uid
            iterLast.current.uid = new index_3.Uid(uidFirst.t, uidFirst.n);
            // Shift one step
            isFake = !iterFirst.moveNext();
            if (isFake) {
                uidFirst = this.shiftUid(uidFirst, 1);
            }
            else {
                uidFirst = iterFirst.current.uidOrig;
            }
        } while (iterLast.moveNext());
    };
    SimpleIndicator.prototype.shiftUid = function (uid, shift) {
        return new index_3.Uid(this.addInterval(uid.t, shift));
    };
    SimpleIndicator.prototype.shiftDataExt = function (shift, replace) {
        var iter = this.dataStorage.getIterator();
        this.extend(shift, iter);
        var iterLead = this.dataStorage.getIterator();
        var iterFollow = this.dataStorage.getIterator();
        if (shift > 0) {
            var lead = false;
            var follow = false;
            // Move lead iterator to the last not fake item
            lead = iterLead.goToLast();
            var counter_1 = 0;
            iterLead.somebackward(function (item) {
                counter_1 += 1;
                return item.isFake;
            });
            // Follow iterator should be "shift" items back from lead
            follow = iterFollow.goToLast();
            counter_1 = counter_1 - (shift + 1);
            while (counter_1 > 0) {
                follow = iterFollow.movePrev();
                counter_1 -= 1;
            }
            while (follow) {
                var source = lead ? iterLead.current : undefined;
                var dest = iterFollow.current;
                replace(dest, source); // source can be undefined
                // Move both iterators left
                lead = iterLead.movePrev();
                follow = iterFollow.movePrev();
            }
        }
        else if (shift < 0) {
            var lead = false;
            var follow = false;
            // Move lead iterator to the first not fake item
            var moves = iterLead.moveNext() ? iterLead.moveTo(function (item) { return !item.isFake; }) : -1; // Before moveTo, moveNext should be called
            lead = moves > 0;
            // Follow iterator should be "shift" items back from lead
            moves = moves - Math.abs(shift);
            while (moves > 0) {
                follow = iterFollow.moveNext();
                moves -= 1;
            }
            while (follow) {
                var source = lead ? iterLead.current : undefined;
                var dest = iterFollow.current;
                replace(dest, source); // source can be undefined
                // Move both iterators left
                lead = iterLead.moveNext();
                follow = iterFollow.moveNext();
            }
        }
        else {
            // Source and dest is the same element
            while (iterLead.moveNext()) {
                replace(iterLead.current, iterLead.current);
            }
        }
    };
    SimpleIndicator.prototype.extend = function (shift, iter) {
        if (shift === 0) {
            return;
        }
        // Add fake items. Working with uid_orig
        // If there are already fake items, they should not be removed.
        var extended = [];
        if (shift < 0) {
            // Get count of fake items
            var moved = iter.moveNext() ? iter.moveTo(function (item) { return !item.isFake; }) : -1; // Before moveTo, moveNext should be called
            var fakeItems = (moved !== -1) ? moved - 1 : 0;
            // Add fake items
            var add = Math.abs(shift) - fakeItems;
            // Get first element
            if (iter.goTo(function (item) { return true; })) {
                var uid = iter.current.uid;
                for (var i = 0; i < add; i += 1) {
                    uid = this.shiftUid(uid, shift < 0 ? -1 : 1);
                    var ext = new this.dataType(uid.t);
                    ext.isFake = true;
                    ext.uidOrig = new index_3.Uid(uid.t);
                    extended.push(ext);
                }
            }
        }
        else if (shift > 0) {
            if (iter.goToLast()) {
                var moved_1 = 0;
                iter.somebackward(function (item, counter) {
                    moved_1 = counter;
                    return item.isFake;
                });
                var fakeItems = moved_1;
                var add = Math.abs(shift) - fakeItems;
                iter.goToLast();
                var uid = iter.current.uid;
                for (var i = 0; i < add; i += 1) {
                    uid = this.shiftUid(uid, shift < 0 ? -1 : 1);
                    var ext = new this.dataType(uid.t);
                    ext.isFake = true;
                    ext.uidOrig = new index_3.Uid(uid.t);
                    extended.push(ext);
                }
            }
        }
        this.dataStorage.merge(extended);
    };
    SimpleIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({
            name: 'datasource',
            group: true,
            settings: [
                {
                    name: 'period',
                    value: this.settings.period.toString(),
                    settingType: index_1.SettingType.numeric,
                    displayName: 'Period'
                }, {
                    name: 'displacement',
                    value: this.settings.displacement.toString(),
                    settingType: index_1.SettingType.numeric,
                    displayName: 'Displacement'
                }, {
                    name: 'valueType',
                    value: this.settings.valueType.toString(),
                    settingType: index_1.SettingType.select,
                    displayName: 'Calculate using',
                    options: [
                        { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                        { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                        { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                        { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                        { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                        { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                        { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                        { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
                    ]
                }
            ]
        });
    };
    SimpleIndicator.prototype.setSettings = function (value) {
        this.settings.period = value.getValueOrDefault('datasource.period', this.settings.period);
        this.settings.displacement = value.getValueOrDefault('datasource.displacement', this.settings.displacement);
        this.settings.valueType = value.getValueOrDefault('datasource.valueType', this.settings.valueType);
        // recompute
        this.compute();
    };
    return SimpleIndicator;
}(index_2.IndicatorDataSource));
exports.SimpleIndicator = SimpleIndicator;
var SimpleSettings = (function () {
    function SimpleSettings() {
        this.period = 20;
        this.displacement = 0;
        this.upperThreshold = 0;
        this.lowerThreshold = 0;
        this.valueType = ValueAccessor_1.ValueAccessorType.close;
    }
    return SimpleSettings;
}());
exports.SimpleSettings = SimpleSettings;
},{"../core/index":56,"../data/index":74,"../model/index":146,"../shared/index":170,"./ValueAccessor":136}],130:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var index_2 = require("../render/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
// Fast %K = 100 x (C-L) / (H-L) // highest high, lowest low
// Fast %D = SMA (Fast %K, 3)
//
// Slow %K = SMA (Fast %K, 3)
// Slow %D = SMA (Slow %K, 3)
var DoubleCandlestick = (function (_super) {
    __extends(DoubleCandlestick, _super);
    function DoubleCandlestick(date, c, o, h, l) {
        return _super.call(this, date, c, o, h, l) || this;
    }
    DoubleCandlestick.prototype.toString = function (precision) {
        return "" + (this.K !== undefined ? this.K.toFixed(precision) : 'n/a')
            + ' / '
            + ("" + (this.D !== undefined ? this.D.toFixed(precision) : 'n/a'));
    };
    return DoubleCandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.DoubleCandlestick = DoubleCandlestick;
var FastStochasticOscillator = (function (_super) {
    __extends(FastStochasticOscillator, _super);
    function FastStochasticOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.extsettings = new FastStochasticSettings();
        _this.name = 'FSTOC';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.extsettings.periodK = 14;
        _this.extsettings.periodD = 3;
        return _this;
    }
    Object.defineProperty(FastStochasticOscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodD);
        },
        enumerable: true,
        configurable: true
    });
    FastStochasticOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var periodK = this.extsettings.periodK;
        var periodD = this.extsettings.periodD;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        var value = source.c; // this.accessor(source);
        if (value !== undefined) {
            // TODO: Slow %K should start computing only when there is enough values. Not from the start
            var lastComputedFastK = lastComputed !== undefined ? lastComputed.K : undefined;
            computed.fastD = this.ma.compute(periodD, computedArray, function (c) { return c.fastK; }, computed, lastComputedFastK);
            computed.K = computed.fastK;
            computed.D = computed.fastD;
            // computed.c = undefined;
            // computed.h = computed.c;
            // computed.l = computed.c;
        }
        return computed;
    };
    FastStochasticOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    FastStochasticOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%K period'
        }));
        group.setSetting('periodD', new index_1.SettingSet({
            name: 'periodD',
            value: this.extsettings.periodD.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%D period'
        }));
        return group;
    };
    FastStochasticOscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodD = value.getSetting('datasource.period');
        this.extsettings.periodD = (periodD && periodD.value) ? parseInt(periodD.value, 10) : this.extsettings.periodD;
        // recompute
        this.compute();
    };
    return FastStochasticOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.FastStochasticOscillator = FastStochasticOscillator;
var SlowStochasticOscillator = (function (_super) {
    __extends(SlowStochasticOscillator, _super);
    function SlowStochasticOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.extsettings = new SlowStochasticSettings();
        _this.name = 'SSTOC';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.extsettings.periodK = 14;
        _this.extsettings.periodD = 3;
        _this.extsettings.period2D = 3;
        return _this;
    }
    Object.defineProperty(SlowStochasticOscillator.prototype, "requiredItemsOnCompute", {
        get: function () {
            return Math.max(this.extsettings.periodK, this.extsettings.periodD, this.extsettings.period2D);
        },
        enumerable: true,
        configurable: true
    });
    SlowStochasticOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var periodK = this.extsettings.periodK;
        var periodD = this.extsettings.periodD;
        var period2D = this.extsettings.period2D;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        var value = source.c; // this.accessor(source);
        if (value !== undefined) {
            // TODO: Slow %K should start computing only when there is enough values. Not from the start
            var lastComputedSlowK = lastComputed !== undefined ? lastComputed.K : undefined;
            computed.K = this.ma.compute(periodD, computedArray, function (c) { return c.fastK; }, computed, lastComputedSlowK);
            var lastComputedSlowD = lastComputed !== undefined ? lastComputed.D : undefined;
            computed.D = this.ma.compute(period2D, computedArray, function (c) { return c.K; }, computed, lastComputedSlowD);
            // computed.c = undefined;
            // computed.h = computed.c;
            // computed.l = computed.c;
        }
        return computed;
    };
    SlowStochasticOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    SlowStochasticOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('periodK', new index_1.SettingSet({
            name: 'periodK',
            value: this.extsettings.periodK.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%K period'
        }));
        group.setSetting('periodD', new index_1.SettingSet({
            name: 'periodD',
            value: this.extsettings.periodD.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '%D period'
        }));
        group.setSetting('period2D', new index_1.SettingSet({
            name: 'period2D',
            value: this.extsettings.period2D.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: '2nd %D period'
        }));
        return group;
    };
    SlowStochasticOscillator.prototype.setSettings = function (value) {
        var periodK = value.getSetting('datasource.periodK');
        this.extsettings.periodK = (periodK && periodK.value) ? parseInt(periodK.value, 10) : this.extsettings.periodK;
        var periodD = value.getSetting('datasource.period');
        this.extsettings.periodD = (periodD && periodD.value) ? parseInt(periodD.value, 10) : this.extsettings.periodD;
        var period2D = value.getSetting('datasource.period');
        this.extsettings.period2D = (period2D && period2D.value) ? parseInt(period2D.value, 10) : this.extsettings.period2D;
        // recompute
        this.compute();
    };
    return SlowStochasticOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.SlowStochasticOscillator = SlowStochasticOscillator;
var OBOSOscillator = (function (_super) {
    __extends(OBOSOscillator, _super);
    function OBOSOscillator(source, context) {
        var _this = _super.call(this, DoubleCandlestick, source, context) || this;
        _this.name = 'OBOS';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // Default settings
        _this.settings.period = 14;
        return _this;
    }
    OBOSOscillator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var periodK = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = computeFastK(sourceItems, periodK);
        if (computed.fastK !== undefined) {
            computed.c = computed.fastK;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    OBOSOscillator.prototype.getValuesRange = function (range) {
        return { start: 0, end: 100 };
    };
    OBOSOscillator.prototype.getSettings = function () {
        var group = new index_1.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_1.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_1.SettingType.numeric,
            displayName: 'Period'
        }));
        return group;
    };
    OBOSOscillator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        // recompute
        this.compute();
    };
    return OBOSOscillator;
}(SimpleIndicator_1.SimpleIndicator));
exports.OBOSOscillator = OBOSOscillator;
var FastStochasticSettings = (function () {
    function FastStochasticSettings() {
        this.periodK = 14;
        this.periodD = 3;
    }
    return FastStochasticSettings;
}());
var SlowStochasticSettings = (function () {
    function SlowStochasticSettings() {
        this.periodK = 14;
        this.periodD = 3;
        this.period2D = 3;
    }
    return SlowStochasticSettings;
}());
var StochasticOscillatorRenderer = (function (_super) {
    __extends(StochasticOscillatorRenderer, _super);
    function StochasticOscillatorRenderer() {
        return _super.call(this) || this;
    }
    StochasticOscillatorRenderer.prototype.render = function (canvas, data, frame, timeAxis, yAxis) {
        var overlapfill = this.settings.zone.overlapfill;
        var upthreshold = this.settings.zone.upthreshold;
        var lowthreshold = this.settings.zone.lowthreshold;
        var upper = yAxis.toX(upthreshold);
        var lower = yAxis.toX(lowthreshold);
        // Collect charts points
        //
        var K = [];
        K.length = timeAxis.count; // preallocate memory
        var i = 0;
        index_2.RenderUtils.iterate(timeAxis, data, function (item, x) {
            if (item instanceof DoubleCandlestick) {
                var d = item;
                if (d && d.K !== undefined) {
                    var y = yAxis.toX(d.K);
                    K[i] = { x: x, y: y };
                    i += 1;
                }
            }
        });
        K.length = i;
        if (overlapfill && K.length > 1) {
            index_2.RenderUtils.fillOverlap(canvas, K, upper, true, 'green');
            index_2.RenderUtils.fillOverlap(canvas, K, lower, false, 'red');
        }
        canvas.beginPath();
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var double = item;
                if (double.K !== undefined) {
                    return { uid: item.uid, v: double.K };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.setStrokeStyle('#00B730');
        canvas.stroke();
        canvas.beginPath();
        canvas.setStrokeStyle('#B50021');
        index_2.RenderUtils.renderLineChart(canvas, data, function (item) {
            if (item instanceof DoubleCandlestick) {
                var double = item;
                if (double.D !== undefined) {
                    var value = double.D;
                    return { uid: item.uid, v: value };
                }
            }
        }, frame, timeAxis, yAxis);
        canvas.stroke();
    };
    StochasticOscillatorRenderer.prototype.testHitArea = function (hitPoint, data, frame, timeAxis, yAxis) {
        return undefined;
    };
    StochasticOscillatorRenderer.prototype.getSettings = function () {
        var zone = _super.prototype.getZonesSettings.call(this);
        var visual = new index_1.SettingSet('visual');
        visual.setSetting('zones', zone);
        return visual;
    };
    StochasticOscillatorRenderer.prototype.setSettings = function (settings) {
        var zone = settings.getSetting('visual.zones');
        if (zone) {
            _super.prototype.setZonesSettings.call(this, zone);
        }
    };
    return StochasticOscillatorRenderer;
}(index_2.ChartRenderer));
exports.StochasticOscillatorRenderer = StochasticOscillatorRenderer;
function computeFastK(sourceItems, periodK) {
    var source = sourceItems.last(); // source must contain at least one item.
    var computed = new DoubleCandlestick(source.date);
    computed.uidOrig.t = source.uid.t;
    computed.uidOrig.n = source.uid.n;
    var value = source.c; // accessor(source)
    if (value !== undefined) {
        // calculating min/max with current value
        var H = sourceItems.max(function (c) { return c.h; }, periodK); // highest high for the period
        var L = sourceItems.min(function (c) { return c.l; }, periodK); // lowest low for the period
        if (H !== undefined && L !== undefined) {
            computed.fastK = (L !== H) ? 100 * (value - L) / (H - L) : 100; // fast %K
        }
    }
    return computed;
}
},{"../core/index":56,"../render/index":166,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],131:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TEMACandlestick = (function (_super) {
    __extends(TEMACandlestick, _super);
    function TEMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return TEMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.TEMACandlestick = TEMACandlestick;
var TEMAIndicator = (function (_super) {
    __extends(TEMAIndicator, _super);
    function TEMAIndicator(source, context) {
        var _this = _super.call(this, TEMACandlestick, source, context) || this;
        _this.name = 'TEMA';
        _this.ema = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Exponential);
        return _this;
    }
    TEMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new TEMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedEMA = lastComputed !== undefined ? lastComputed.EMA : undefined;
            // 1. Compute EMA
            computed.EMA = this.ema.compute(N, sourceItems, accessor, undefined, lastComputedEMA);
            if (computed.EMA !== undefined) {
                // 2. Compute DEMA. On base of computed EMA
                var lastComputedDEMA = lastComputed !== undefined ? lastComputed.DEMA : undefined;
                // Adding last computed EMA to calculate DEMA
                computed.DEMA = this.ema.compute(N, computedArray, function (item) { return item.EMA; }, computed, lastComputedDEMA);
                if (computed.DEMA !== undefined) {
                    // 3. Compute TEMA. On base of computed DEMA
                    var lastComputedTEMA = lastComputed !== undefined ? lastComputed.TEMA : undefined;
                    computed.TEMA = this.ema.compute(N, computedArray, function (item) { return item.DEMA; }, computed, lastComputedTEMA);
                    if (computed.TEMA !== undefined) {
                        computed.c = 3 * computed.EMA - 3 * computed.DEMA + computed.TEMA;
                        computed.h = computed.c;
                        computed.l = computed.c;
                    }
                }
            }
        }
        return computed;
    };
    return TEMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TEMAIndicator = TEMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],132:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TMACandlestick = (function (_super) {
    __extends(TMACandlestick, _super);
    function TMACandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return TMACandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.TMACandlestick = TMACandlestick;
var TMAIndicator = (function (_super) {
    __extends(TMAIndicator, _super);
    function TMAIndicator(source, context) {
        var _this = _super.call(this, TMACandlestick, source, context) || this;
        _this.name = 'TMA';
        _this.sma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        _this.tma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Triangular);
        return _this;
    }
    TMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new TMACandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedSMA = lastComputed !== undefined ? lastComputed.SMA : undefined;
            // 1. Compute SMA
            computed.SMA = this.sma.compute(N, sourceItems, accessor, undefined, lastComputedSMA);
            if (computed.SMA !== undefined) {
                // 2. Compute TMA. On base of computed TMA
                var lastComputedTMA = lastComputed !== undefined ? lastComputed.c : undefined;
                // Adding last computed EMA to calculate DEMA
                var TMA = this.tma.compute(N, computedArray, function (item) { return item.SMA; }, computed, lastComputedTMA);
                if (TMA !== undefined) {
                    computed.c = TMA;
                    computed.h = computed.c;
                    computed.l = computed.c;
                }
            }
        }
        return computed;
    };
    return TMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TMAIndicator = TMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],133:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var SimpleIndicator_1 = require("./SimpleIndicator");
var TPIndicator = (function (_super) {
    __extends(TPIndicator, _super);
    function TPIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'TP';
        return _this;
    }
    TPIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var source = sourceItems.last();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        if (source.h !== undefined && source.l !== undefined && source.c !== undefined) {
            computed.c = (source.h + source.l + source.c) / 3;
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    TPIndicator.prototype.getSettings = function () {
        return new index_1.SettingSet({ name: 'datasource', group: true });
    };
    TPIndicator.prototype.setSettings = function (value) {
        // recompute
        this.compute();
    };
    return TPIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.TPIndicator = TPIndicator;
},{"../core/index":56,"./CandlestickExt":104,"./SimpleIndicator":129}],134:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Utils = (function () {
    function Utils() {
    }
    /**
     * Standard deviation
     * @param array
     * @param average
     */
    Utils.STDDEV = function (array, accessor, average) {
        var sum = 0;
        for (var i = 0; i < array.length; i += 1) {
            var value = accessor(array.getItem(i));
            if (value !== undefined) {
                sum += Math.pow(value - average, 2);
            }
        }
        return array.length > 0 ? Math.sqrt(sum / array.length) : undefined;
    };
    // MAD = SUM(|Pi - m|) / N
    /**
     * Mean absolute deviation
     * @param N Number of items to take
     * @param array Source items
     * @param accessor Accessor for a item's value
     * @param mean Mean value
     */
    Utils.MAD = function (N, array, accessor, mean) {
        var sum = 0;
        var counter = 0;
        // Taking N items from end
        for (var i = array.length - 1; i >= 0 && counter < N; i -= 1) {
            var value = accessor(array.getItem(i));
            if (value !== undefined) {
                sum += Math.abs(value - mean);
            }
            counter += 1;
        }
        return counter > 0 ? sum / counter : undefined;
    };
    return Utils;
}());
exports.Utils = Utils;
},{}],135:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../compute/index");
var index_2 = require("../core/index");
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var ValueAccessor_1 = require("./ValueAccessor");
// Ri = Log (Pi / P(i-1))
// Avg = SUM(Ri) / n     or moving average
// SSD = SUM (Ri - Avg)
// HV = SQRT(SSD / (n - 1)) * SQRT(TP)
// 
// TP is
// Monthly - 12
// Weekly -  52
// Daily - 252
// Intraday - 252 * bars per day
var RSICandlestick = (function (_super) {
    __extends(RSICandlestick, _super);
    function RSICandlestick() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return RSICandlestick;
}(CandlestickExt_1.CandlestickExt));
exports.RSICandlestick = RSICandlestick;
var VOLAIndicator = (function (_super) {
    __extends(VOLAIndicator, _super);
    function VOLAIndicator(source, context) {
        var _this = _super.call(this, RSICandlestick, source, context) || this;
        _this.name = 'VOLA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Simple);
        // VOLA requires "Return"
        _this.initExtension();
        return _this;
    }
    VOLAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last(); // source must contain at least one item.
        var lastComputed = computedArray.lastOrDefault(); // computed can contain no items.
        var computed = new RSICandlestick(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var ext = this.ext;
        // Compute moving average
        var lastComputedMA = lastComputed !== undefined ? lastComputed.MA : undefined;
        computed.MA = this.ma.compute(N, sourceItems, function (candle) { return ext.value(candle); }, undefined, lastComputedMA);
        // Compute diverse
        if (computed.MA !== undefined) {
            var avg_1 = computed.MA;
            var SSD = sourceItems.sum(function (item) {
                var ret = ext.value(item);
                return (ret !== undefined) ? Math.abs(ret - avg_1) : 0;
            }, N);
            var interval = this.getTPByInterval(this.context.interval());
            if (SSD !== undefined && N > 1) {
                // Compute HV
                computed.c = SSD !== 0 ? Math.sqrt(SSD / (N - 1)) * Math.sqrt(interval) : 0;
                computed.h = computed.c;
                computed.l = computed.c;
            }
        }
        return computed;
    };
    /**
     * Returns Trading Period
     * @param interval
     */
    VOLAIndicator.prototype.getTPByInterval = function (interval) {
        switch (interval) {
            case index_2.TimeInterval.month: return 12;
            case index_2.TimeInterval.week: return 52;
            case index_2.TimeInterval.day10: return 25;
            case index_2.TimeInterval.day: return 252;
            case index_2.TimeInterval.hour12: return 252 * 2;
            case index_2.TimeInterval.hour6: return 252 * 4;
            case index_2.TimeInterval.hour4: return 252 * 6;
            case index_2.TimeInterval.hour: return 252 * 24;
            case index_2.TimeInterval.min30: return 252 * 24 * 2;
            case index_2.TimeInterval.min15: return 252 * 24 * 4;
            case index_2.TimeInterval.min5: return 252 * 24 * 12;
            case index_2.TimeInterval.min: return 252 * 24 * 60;
            case index_2.TimeInterval.sec: return 252 * 24 * 60 * 60;
            default:
                throw new Error("Unexpected time interval " + interval);
        }
    };
    VOLAIndicator.prototype.getSettings = function () {
        var group = new index_2.SettingSet({ name: 'datasource', group: true });
        group.setSetting('period', new index_2.SettingSet({
            name: 'period',
            value: this.settings.period.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Period'
        }));
        group.setSetting('valueType', new index_2.SettingSet({
            name: 'valueType',
            displayName: 'Calculate using',
            value: this.settings.valueType.toString(),
            settingType: index_2.SettingType.select,
            options: [
                { value: ValueAccessor_1.ValueAccessorType.close.toString(), text: 'close' },
                { value: ValueAccessor_1.ValueAccessorType.open.toString(), text: 'open' },
                { value: ValueAccessor_1.ValueAccessorType.high.toString(), text: 'high' },
                { value: ValueAccessor_1.ValueAccessorType.low.toString(), text: 'low' },
                { value: ValueAccessor_1.ValueAccessorType.hl2.toString(), text: 'hl2' },
                { value: ValueAccessor_1.ValueAccessorType.hlc3.toString(), text: 'hlc3' },
                { value: ValueAccessor_1.ValueAccessorType.ohlc4.toString(), text: 'ohlc4' },
                { value: ValueAccessor_1.ValueAccessorType.hlcc4.toString(), text: 'hlcc4' }
            ]
        }));
        return group;
    };
    VOLAIndicator.prototype.setSettings = function (value) {
        var period = value.getSetting('datasource.period');
        this.settings.period = (period && period.value) ? parseInt(period.value, 10) : this.settings.period;
        var valueType = value.getSetting('datasource.valueType');
        this.settings.valueType = (valueType && valueType.value) ? parseInt(valueType.value, 10) : this.settings.valueType;
        // re-init extension with new value type
        this.initExtension();
        // recompute
        this.compute();
    };
    VOLAIndicator.prototype.initExtension = function () {
        // remove old extension and add new one
        //
        if (this.ext) {
            this.source.removeExtension(this.ext.uname);
        }
        var accessor = ValueAccessor_1.ValueAccessorFactory.instance.create(this.settings.valueType);
        this.ext = new index_1.LogReturnExtension(accessor);
        this.source.addExtension(this.ext.uname, this.ext);
    };
    return VOLAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.VOLAIndicator = VOLAIndicator;
},{"../compute/index":42,"../core/index":56,"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129,"./ValueAccessor":136}],136:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ValueAccessorType;
(function (ValueAccessorType) {
    ValueAccessorType[ValueAccessorType["open"] = 0] = "open";
    ValueAccessorType[ValueAccessorType["high"] = 1] = "high";
    ValueAccessorType[ValueAccessorType["low"] = 2] = "low";
    ValueAccessorType[ValueAccessorType["close"] = 3] = "close";
    ValueAccessorType[ValueAccessorType["hl2"] = 4] = "hl2";
    ValueAccessorType[ValueAccessorType["hlc3"] = 5] = "hlc3";
    ValueAccessorType[ValueAccessorType["ohlc4"] = 6] = "ohlc4";
    ValueAccessorType[ValueAccessorType["hlcc4"] = 7] = "hlcc4";
})(ValueAccessorType = exports.ValueAccessorType || (exports.ValueAccessorType = {}));
var ValueAccessorFactory = (function () {
    function ValueAccessorFactory() {
        this.open = function (c) { return c.o; };
        this.high = function (c) { return c.h; };
        this.low = function (c) { return c.l; };
        this.close = function (c) { return c.c; };
        this.hl2 = function (c) {
            return (c.h !== undefined && c.l !== undefined) ? (c.h + c.l) / 2 : undefined;
        };
        this.hlc3 = function (c) {
            return (c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.h + c.l + c.c) / 3 : undefined;
        };
        this.ohlc4 = function (c) {
            return (c.o !== undefined && c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.o + c.h + c.l + c.c) / 4 : undefined;
        };
        this.hlcc4 = function (c) {
            return (c.h !== undefined && c.l !== undefined && c.c !== undefined) ? (c.h + c.l + c.c + c.c) / 4 : undefined;
        };
    }
    Object.defineProperty(ValueAccessorFactory, "instance", {
        get: function () {
            if (!this.inst) {
                this.inst = new ValueAccessorFactory();
            }
            return this.inst;
        },
        enumerable: true,
        configurable: true
    });
    ValueAccessorFactory.prototype.create = function (vaType) {
        switch (vaType) {
            case ValueAccessorType.open: return this.open;
            case ValueAccessorType.high: return this.high;
            case ValueAccessorType.low: return this.low;
            case ValueAccessorType.close: return this.close;
            case ValueAccessorType.hl2: return this.hl2;
            case ValueAccessorType.hlc3: return this.hlc3;
            case ValueAccessorType.ohlc4: return this.ohlc4;
            case ValueAccessorType.hlcc4: return this.hlcc4;
            default: throw new Error('Unexpected value accessor type=' + vaType);
        }
    };
    return ValueAccessorFactory;
}());
exports.ValueAccessorFactory = ValueAccessorFactory;
},{}],137:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CandlestickExt_1 = require("./CandlestickExt");
var MovingAverage_1 = require("./MovingAverage");
var SimpleIndicator_1 = require("./SimpleIndicator");
var WMAIndicator = (function (_super) {
    __extends(WMAIndicator, _super);
    function WMAIndicator(source, context) {
        var _this = _super.call(this, CandlestickExt_1.CandlestickExt, source, context) || this;
        _this.name = 'WMA';
        _this.ma = MovingAverage_1.MovingAverageFactory.instance.create(MovingAverage_1.MovingAverageType.Weight);
        return _this;
    }
    WMAIndicator.prototype.computeOne = function (sourceItems, computedArray, accessor) {
        var N = this.settings.period;
        var source = sourceItems.last();
        var lastComputed = computedArray.lastOrDefault();
        var computed = new CandlestickExt_1.CandlestickExt(source.date);
        computed.uidOrig.t = source.uid.t;
        computed.uidOrig.n = source.uid.n;
        var value = accessor(source);
        if (value !== undefined) {
            var lastComputedValue = lastComputed !== undefined ? lastComputed.c : undefined;
            computed.c = this.ma.compute(N, sourceItems, accessor, undefined, lastComputedValue);
            computed.h = computed.c;
            computed.l = computed.c;
        }
        return computed;
    };
    return WMAIndicator;
}(SimpleIndicator_1.SimpleIndicator));
exports.WMAIndicator = WMAIndicator;
},{"./CandlestickExt":104,"./MovingAverage":116,"./SimpleIndicator":129}],138:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ADXIndicator_1 = require("./ADXIndicator");
exports.ADXIndicator = ADXIndicator_1.ADXIndicator;
var AlligatorIndicator_1 = require("./AlligatorIndicator");
exports.AlligatorIndicator = AlligatorIndicator_1.AlligatorIndicator;
exports.AlligatorIndicatorRenderer = AlligatorIndicator_1.AlligatorIndicatorRenderer;
var AroonIndicator_1 = require("./AroonIndicator");
exports.AroonIndicator = AroonIndicator_1.AroonIndicator;
exports.AroonIndicatorRenderer = AroonIndicator_1.AroonIndicatorRenderer;
exports.AroonOscillator = AroonIndicator_1.AroonOscillator;
var ATRIndicator_1 = require("./ATRIndicator");
exports.ATRIndicator = ATRIndicator_1.ATRIndicator;
var BollingerIndicator_1 = require("./BollingerIndicator");
exports.BollingerIndicator = BollingerIndicator_1.BollingerIndicator;
exports.BollingerIndicatorRenderer = BollingerIndicator_1.BollingerIndicatorRenderer;
var CCIOscillator_1 = require("./CCIOscillator");
exports.CCIOscillator = CCIOscillator_1.CCIOscillator;
var CORIndicator_1 = require("./CORIndicator");
exports.CORIndicator = CORIndicator_1.CORIndicator;
var DEMAIndicator_1 = require("./DEMAIndicator");
exports.DEMAIndicator = DEMAIndicator_1.DEMAIndicator;
var DIXOscillator_1 = require("./DIXOscillator");
exports.DIXOscillator = DIXOscillator_1.DIXOscillator;
var DMIIndicator_1 = require("./DMIIndicator");
exports.DMIIndicator = DMIIndicator_1.DMIIndicator;
exports.DMIIndicatorRenderer = DMIIndicator_1.DMIIndicatorRenderer;
var DSSBROscillator_1 = require("./DSSBROscillator");
exports.DSSBROscillator = DSSBROscillator_1.DSSBROscillator;
exports.DSSBROscillatorRenderer = DSSBROscillator_1.DSSBROscillatorRenderer;
var EMAIndicator_1 = require("./EMAIndicator");
exports.EMAIndicator = EMAIndicator_1.EMAIndicator;
var HHLLIndicator_1 = require("./HHLLIndicator");
exports.HHLLIndicator = HHLLIndicator_1.HHLLIndicator;
exports.HHLLIndicatorRenderer = HHLLIndicator_1.HHLLIndicatorRenderer;
var IKHIndicator_1 = require("./IKHIndicator");
exports.IKHIndicator = IKHIndicator_1.IKHIndicator;
exports.IKHIndicatorRenderer = IKHIndicator_1.IKHIndicatorRenderer;
var IndicatorFabric_1 = require("./IndicatorFabric");
exports.IndicatorFabric = IndicatorFabric_1.IndicatorFabric;
exports.register = IndicatorFabric_1.register;
var MACDIndicator_1 = require("./MACDIndicator");
exports.MACDIndicator = MACDIndicator_1.MACDIndicator;
exports.MACDIndicatorRenderer = MACDIndicator_1.MACDIndicatorRenderer;
var MDIndicator_1 = require("./MDIndicator");
exports.MDIndicator = MDIndicator_1.MDIndicator;
var MOMIndicator_1 = require("./MOMIndicator");
exports.MOMIndicator = MOMIndicator_1.MOMIndicator;
var PCROscillator_1 = require("./PCROscillator");
exports.PCROscillator = PCROscillator_1.PCROscillator;
var PPIndicator_1 = require("./PPIndicator");
exports.PPIndicator = PPIndicator_1.PPIndicator;
exports.PPIndicatorRenderer = PPIndicator_1.PPIndicatorRenderer;
var PSARIndicator_1 = require("./PSARIndicator");
exports.PSARIndicator = PSARIndicator_1.PSARIndicator;
exports.PSARIndicatorRenderer = PSARIndicator_1.PSARIndicatorRenderer;
var RATIOIndicator_1 = require("./RATIOIndicator");
exports.RATIOIndicator = RATIOIndicator_1.RATIOIndicator;
var RBIndicator_1 = require("./RBIndicator");
exports.RBIndicator = RBIndicator_1.RBIndicator;
exports.RBIndicatorRenderer = RBIndicator_1.RBIndicatorRenderer;
var ROCIndicator_1 = require("./ROCIndicator");
exports.ROCIndicator = ROCIndicator_1.ROCIndicator;
var RSIOscillator_1 = require("./RSIOscillator");
exports.RSIOscillator = RSIOscillator_1.RSIOscillator;
var RSLOscillator_1 = require("./RSLOscillator");
exports.RSLOscillator = RSLOscillator_1.RSLOscillator;
var SMAIndicator_1 = require("./SMAIndicator");
exports.SMAIndicator = SMAIndicator_1.SMAIndicator;
var SMMAIndicator_1 = require("./SMMAIndicator");
exports.SMMAIndicator = SMMAIndicator_1.SMMAIndicator;
var STDEVIndicator_1 = require("./STDEVIndicator");
exports.STDEVIndicator = STDEVIndicator_1.STDEVIndicator;
var STIndicator_1 = require("./STIndicator");
exports.STIndicator = STIndicator_1.STIndicator;
exports.STIndicatorRenderer = STIndicator_1.STIndicatorRenderer;
var StochasticOscillator_1 = require("./StochasticOscillator");
exports.FastStochasticOscillator = StochasticOscillator_1.FastStochasticOscillator;
exports.OBOSOscillator = StochasticOscillator_1.OBOSOscillator;
exports.SlowStochasticOscillator = StochasticOscillator_1.SlowStochasticOscillator;
exports.StochasticOscillatorRenderer = StochasticOscillator_1.StochasticOscillatorRenderer;
var TEMAIndicator_1 = require("./TEMAIndicator");
exports.TEMAIndicator = TEMAIndicator_1.TEMAIndicator;
var TMAIndicator_1 = require("./TMAIndicator");
exports.TMAIndicator = TMAIndicator_1.TMAIndicator;
var TPIndicator_1 = require("./TPIndicator");
exports.TPIndicator = TPIndicator_1.TPIndicator;
var VOLAIndicator_1 = require("./VOLAIndicator");
exports.VOLAIndicator = VOLAIndicator_1.VOLAIndicator;
var WMAIndicator_1 = require("./WMAIndicator");
exports.WMAIndicator = WMAIndicator_1.WMAIndicator;
},{"./ADXIndicator":97,"./ATRIndicator":98,"./AlligatorIndicator":99,"./AroonIndicator":100,"./BollingerIndicator":101,"./CCIOscillator":102,"./CORIndicator":103,"./DEMAIndicator":105,"./DIXOscillator":106,"./DMIIndicator":107,"./DSSBROscillator":108,"./EMAIndicator":109,"./HHLLIndicator":110,"./IKHIndicator":111,"./IndicatorFabric":112,"./MACDIndicator":113,"./MDIndicator":114,"./MOMIndicator":115,"./PCROscillator":117,"./PPIndicator":118,"./PSARIndicator":119,"./RATIOIndicator":120,"./RBIndicator":121,"./ROCIndicator":122,"./RSIOscillator":123,"./RSLOscillator":124,"./SMAIndicator":125,"./SMMAIndicator":126,"./STDEVIndicator":127,"./STIndicator":128,"./StochasticOscillator":130,"./TEMAIndicator":131,"./TMAIndicator":132,"./TPIndicator":133,"./VOLAIndicator":135,"./WMAIndicator":137}],139:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Area class
 */
var index_1 = require("../canvas/index");
var SizeChangedEvent_1 = require("./SizeChangedEvent");
var Area = (function () {
    function Area(offset, size) {
        this.sizeChangedEvent = new SizeChangedEvent_1.SizeChangedEvent();
        this.shadow = false;
        this._offset = offset;
        this._size = size;
    }
    Object.defineProperty(Area.prototype, "sizeChanged", {
        get: function () {
            return this.sizeChangedEvent;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "baseCanvas", {
        get: function () {
            return this.shadow ? this._baseCanvasShadow : this._baseCanvas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "frontCanvas", {
        get: function () {
            return this.shadow ? this._frontCanvasShadow : this._frontCanvas;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "offset", {
        get: function () {
            return this._offset;
        },
        set: function (value) {
            this._offset = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Area.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: true,
        configurable: true
    });
    Area.prototype.clearBase = function () {
        this.baseCanvas.clear();
    };
    Area.prototype.clearFront = function () {
        this.frontCanvas.clear();
    };
    Area.prototype.render = function () {
        if (this.shadow) {
            this._baseCanvas.clear();
            this._frontCanvas.clear();
            this._baseCanvas.drawImage(this._baseCanvasElShadow, 0, 0, this._size.width, this._size.height);
            this._frontCanvas.drawImage(this._frontCanvasElShadow, 0, 0, this._size.width, this._size.height);
        }
    };
    Area.prototype.resize = function (w, h) {
        var dpr = window.devicePixelRatio || 1;
        this._baseCanvasEl.width = w * dpr;
        this._baseCanvasEl.height = h * dpr;
        this._baseCanvasEl.style.setProperty('width', w + 'px');
        this._baseCanvasEl.style.setProperty('height', h + 'px');
        this._frontCanvasEl.width = w * dpr;
        this._frontCanvasEl.height = h * dpr;
        this._frontCanvasEl.style.setProperty('width', w + 'px');
        this._frontCanvasEl.style.setProperty('height', h + 'px');
        this._baseCanvas.resize(w, h);
        this._frontCanvas.resize(w, h);
        if (this.shadow) {
            this._baseCanvasElShadow.width = w * dpr;
            this._baseCanvasElShadow.height = h * dpr;
            this._baseCanvasElShadow.style.setProperty('width', w + 'px');
            this._baseCanvasElShadow.style.setProperty('height', h + 'px');
            this._frontCanvasElShadow.width = w * dpr;
            this._frontCanvasElShadow.height = h * dpr;
            this._frontCanvasElShadow.style.setProperty('width', w + 'px');
            this._frontCanvasElShadow.style.setProperty('height', h + 'px');
            this._baseCanvasShadow.resize(w, h);
            this._frontCanvasShadow.resize(w, h);
        }
        this._size = { width: w, height: h };
        this.sizeChangedEvent.trigger(new SizeChangedEvent_1.SizeChangedArgument(this._size));
    };
    Area.prototype.appendCanvases = function (div, w, h) {
        this._div = div;
        var dpr = window.devicePixelRatio || 1;
        var baseCanvas = document.createElement('canvas');
        baseCanvas.width = w * dpr;
        baseCanvas.height = h * dpr;
        baseCanvas.style.setProperty('width', w + 'px');
        baseCanvas.style.setProperty('height', h + 'px');
        baseCanvas.style.setProperty('left', '0');
        baseCanvas.style.setProperty('top', '0');
        baseCanvas.style.setProperty('z-index', '0');
        baseCanvas.style.setProperty('position', 'absolute');
        var frontCanvas = document.createElement('canvas');
        frontCanvas.width = w * dpr;
        frontCanvas.height = h * dpr;
        frontCanvas.style.setProperty('width', w + 'px');
        frontCanvas.style.setProperty('height', h + 'px');
        frontCanvas.style.setProperty('left', '0');
        frontCanvas.style.setProperty('top', '0');
        frontCanvas.style.setProperty('z-index', '1');
        frontCanvas.style.setProperty('position', 'absolute');
        this._baseCanvasEl = baseCanvas;
        this._frontCanvasEl = frontCanvas;
        this._baseCanvas = this.getContext(baseCanvas, w, h);
        this._frontCanvas = this.getContext(frontCanvas, w, h);
        if (this.shadow) {
            var baseCanvasShadow = document.createElement('canvas');
            baseCanvasShadow.width = w * dpr;
            baseCanvasShadow.height = h * dpr;
            var frontCanvasShadow = document.createElement('canvas');
            frontCanvasShadow.width = w * dpr;
            frontCanvasShadow.height = h * dpr;
            this._baseCanvasElShadow = baseCanvasShadow;
            this._frontCanvasElShadow = frontCanvasShadow;
            this._baseCanvasShadow = this.getContext(baseCanvasShadow, w, h);
            this._frontCanvasShadow = this.getContext(frontCanvasShadow, w, h);
        }
        div.appendChild(baseCanvas);
        div.appendChild(frontCanvas);
    };
    Area.prototype.getContext = function (el, w, h) {
        var ctx = el.getContext('2d');
        if (ctx == null) {
            throw new Error('Context is null');
        }
        return new index_1.CanvasWrapper(ctx, w, h);
    };
    return Area;
}());
exports.Area = Area;
},{"../canvas/index":19,"./SizeChangedEvent":142}],140:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ChartArea_1 = require("./ChartArea");
var BoardArea = (function () {
    function BoardArea(container, size) {
        this.container = container;
        this.size = size;
        this.yAxisWidth = 90;
        this.xAxisHeight = 25;
        this.chartAreas = [];
        this.table = document.createElement('table');
        this.table.style.setProperty('position', 'relative');
        this.table.style.setProperty('border-spacing', '0');
        this.table.style.setProperty('border-collapse', 'collapse');
        this.container.appendChild(this.table);
        this.chartWidth = this.size.width - this.yAxisWidth;
        this.chartHeight = this.size.height - this.xAxisHeight;
        // create x axis area
        var xrow = this.table.insertRow(-1); // to end
        this.timeArea = new ChartArea_1.XArea(xrow, { x: 0, y: this.chartHeight }, { width: this.chartWidth, height: this.xAxisHeight }, this.xAxisHeight);
    }
    BoardArea.prototype.addChart = function () {
        var index = this.chartAreas.length;
        var row = this.table.insertRow(index);
        var area = new ChartArea_1.ChartArea(row, { x: 0, y: 0 }, { width: this.chartWidth, height: this.chartHeight }, this.yAxisWidth, this.timeArea);
        this.chartAreas.push(area);
        return area;
    };
    BoardArea.prototype.render = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.render();
        }
        this.timeArea.render();
    };
    BoardArea.prototype.remove = function (area) {
        var index = this.chartAreas.indexOf(area);
        if (index !== -1) {
            this.chartAreas.splice(index, 1);
            this.table.deleteRow(index);
        }
    };
    BoardArea.prototype.getXArea = function () {
        return this.timeArea;
    };
    BoardArea.prototype.clearBase = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.clearBase();
        }
        this.timeArea.clearBase();
    };
    BoardArea.prototype.clearFront = function () {
        for (var _i = 0, _a = this.chartAreas; _i < _a.length; _i++) {
            var area = _a[_i];
            area.clearFront();
        }
        this.timeArea.clearFront();
    };
    Object.defineProperty(BoardArea.prototype, "chartLength", {
        get: function () {
            return this.chartWidth;
        },
        enumerable: true,
        configurable: true
    });
    BoardArea.prototype.resize = function (w, h) {
        // resize inner components
        var dh = Math.floor((h - this.xAxisHeight) / (this.chartAreas.length + 1));
        this.chartWidth = w - this.yAxisWidth;
        //this.chartHeight = this.size.height - this.xAxisHeight;
        var yOffset = 0;
        var i = 0;
        for (; i < this.chartAreas.length; i += 1) {
            // resize charts
            // update vertical and horizontal offset
            this.chartAreas[i].offset = { x: this.chartAreas[i].offset.x, y: yOffset };
            this.chartAreas[i].resize(this.chartWidth, i === 0 ? dh * 2 : dh);
            yOffset += (i === 0 ? dh * 2 : dh);
        }
        // resize time axis
        this.timeArea.offset = { x: this.timeArea.offset.x, y: yOffset };
        this.timeArea.resize(this.chartWidth, this.xAxisHeight);
    };
    BoardArea.prototype.setCursor = function (style) {
        this.table.setAttribute('cursor', style);
    };
    return BoardArea;
}());
exports.BoardArea = BoardArea;
},{"./ChartArea":141}],141:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Area_1 = require("./Area");
var YArea = (function (_super) {
    __extends(YArea, _super);
    function YArea(cell, offset, size) {
        var _this = _super.call(this, offset, size) || this;
        _this.cell = cell;
        cell.style.setProperty('padding', '0');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('width', _this.size.width + 'px');
        div.style.setProperty('height', _this._size.height + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        return _this;
    }
    YArea.prototype.resize = function (w, h) {
        var div = this.cell.getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        _super.prototype.resize.call(this, w, h);
    };
    return YArea;
}(Area_1.Area));
exports.YArea = YArea;
var XArea = (function (_super) {
    __extends(XArea, _super);
    function XArea(row, offset, size, xAxisHeight) {
        var _this = _super.call(this, offset, size) || this;
        _this.row = row;
        _this.xAxisHeight = xAxisHeight;
        var cell = row.insertCell(0);
        cell.style.setProperty('padding', '0');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('width', _this._size.width + 'px');
        div.style.setProperty('height', _this._size.height + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        return _this;
    }
    XArea.prototype.resize = function (w, h) {
        // resize HTML element
        var cellsCount = this.row.cells.length;
        var div = this.row.cells[cellsCount - 1].getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        _super.prototype.resize.call(this, w, h);
    };
    return XArea;
}(Area_1.Area));
exports.XArea = XArea;
var ChartArea = (function (_super) {
    __extends(ChartArea, _super);
    function ChartArea(row, offset, size, yAxisWidth, xArea) {
        var _this = _super.call(this, offset, size) || this;
        _this.row = row;
        _this.yAxisWidth = yAxisWidth;
        _this.xArea = xArea;
        var cell = row.insertCell(0);
        cell.style.setProperty('padding', '0');
        cell.style.setProperty('position', 'relative');
        var div = document.createElement('div');
        cell.appendChild(div);
        div.style.setProperty('position', 'relative');
        div.style.setProperty('height', _this._size.height + 'px');
        div.style.setProperty('width', _this._size.width + 'px');
        _this.appendCanvases(div, _this._size.width, _this._size.height);
        // Create container for quicktips
        _this.qtContater = document.createElement('div');
        _this.qtContater.style.setProperty('position', 'absolute');
        _this.qtContater.style.setProperty('top', '5px');
        _this.qtContater.style.setProperty('left', '5px');
        cell.appendChild(_this.qtContater);
        // create y axis area
        var ycell = _this.row.insertCell(-1);
        _this.yArea = new YArea(ycell, { x: 0, y: 0 }, { width: _this.yAxisWidth, height: _this.size.height });
        return _this;
    }
    Object.defineProperty(ChartArea.prototype, "qtipContainer", {
        get: function () {
            return this.qtContater;
        },
        enumerable: true,
        configurable: true
    });
    ChartArea.prototype.getXArea = function () {
        return this.xArea;
    };
    ChartArea.prototype.getYArea = function () {
        return this.yArea;
    };
    ChartArea.prototype.clearBase = function () {
        if (this.yArea) {
            this.yArea.clearBase();
        }
        _super.prototype.clearBase.call(this);
    };
    ChartArea.prototype.clearFront = function () {
        if (this.yArea) {
            this.yArea.clearFront();
        }
        _super.prototype.clearFront.call(this);
    };
    ChartArea.prototype.render = function () {
        _super.prototype.render.call(this);
        this.yArea.render();
    };
    ChartArea.prototype.resize = function (w, h) {
        // resize HTML elements
        // for (let j = 0; j < 3; j += 1) {
        //     const div = this.table.rows.item(i).cells[j].getElementsByTagName('div')[0];
        //     div.style.setProperty('height', (i === 0 ? dh * 2 : dh) + 'px');
        //     if (j === 1) { div.style.setProperty('width', dw + 'px'); }
        // }
        var div = this.row.cells[0].getElementsByTagName('div')[0];
        div.style.setProperty('width', w + 'px');
        div.style.setProperty('height', h + 'px');
        if (this.yArea) {
            this.yArea.resize(this.yAxisWidth, h);
        }
        _super.prototype.resize.call(this, w, h);
    };
    return ChartArea;
}(Area_1.Area));
exports.ChartArea = ChartArea;
},{"./Area":139}],142:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * SizeChangedEvent class
 */
var index_1 = require("../shared/index");
var SizeChangedEvent = (function (_super) {
    __extends(SizeChangedEvent, _super);
    function SizeChangedEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return SizeChangedEvent;
}(index_1.Event));
exports.SizeChangedEvent = SizeChangedEvent;
var SizeChangedArgument = (function () {
    function SizeChangedArgument(size) {
        this.s = size;
    }
    Object.defineProperty(SizeChangedArgument.prototype, "size", {
        get: function () {
            return this.s;
        },
        enumerable: true,
        configurable: true
    });
    return SizeChangedArgument;
}());
exports.SizeChangedArgument = SizeChangedArgument;
},{"../shared/index":170}],143:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Exports of Layout module.
 */
var Area_1 = require("./Area");
exports.Area = Area_1.Area;
var BoardArea_1 = require("./BoardArea");
exports.BoardArea = BoardArea_1.BoardArea;
var ChartArea_1 = require("./ChartArea");
exports.ChartArea = ChartArea_1.ChartArea;
exports.XArea = ChartArea_1.XArea;
exports.YArea = ChartArea_1.YArea;
var SizeChangedEvent_1 = require("./SizeChangedEvent");
exports.SizeChangedArgument = SizeChangedEvent_1.SizeChangedArgument;
exports.SizeChangedEvent = SizeChangedEvent_1.SizeChangedEvent;
},{"./Area":139,"./BoardArea":140,"./ChartArea":141,"./SizeChangedEvent":142}],144:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Uid = (function () {
    function Uid(t, n) {
        /**
         * Provides uniqueness when t date is repeated.
         */
        this.n = 0;
        this.t = t || new Date();
        this.n = n || 0;
    }
    /**
     * Compares two Uids.
     * Returns -1 if this object is less, 0 - if equal, 1 - if greater than other.
     * @param other Uid to compare with.
     */
    Uid.prototype.compare = function (other) {
        if (other) {
            var thisTime = this.t.getTime();
            var otherTime = other.t.getTime();
            if (thisTime > otherTime || (thisTime === otherTime && this.n > other.n)) {
                return 1;
            }
            else if (thisTime === otherTime && this.n === other.n) {
                return 0;
            }
            else {
                return -1;
            }
        }
        else {
            throw new Error('Argument is not defined');
        }
    };
    Uid.prototype.equals = function (other) {
        if (other) {
            if (other === this) {
                return true;
            }
            if (other.t.getTime() === this.t.getTime() && other.n === this.n) {
                return true;
            }
        }
        return false;
    };
    Uid.min = function () {
        var uids = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            uids[_i] = arguments[_i];
        }
        if (uids.length < 1) {
            throw new Error('Argument is not specified');
        }
        var min = uids[0];
        uids.forEach(function (value) {
            min = min ? (min.compare(value) <= 0 ? min : value) : value;
        });
        return min;
    };
    Uid.max = function () {
        var uids = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            uids[_i] = arguments[_i];
        }
        if (uids.length < 1) {
            throw new Error('Argument is not specified');
        }
        var max = uids[0];
        uids.forEach(function (value) {
            max = max ? (max.compare(value) >= 0 ? max : value) : value;
        });
        return max;
    };
    return Uid;
}());
exports.Uid = Uid;
var Candlestick = (function () {
    function Candlestick(date, c, o, h, l) {
        this.uid = new Uid();
        this.ext = {};
        this.uid.t = date;
        this.c = c;
        this.o = o;
        this.h = h;
        this.l = l;
    }
    Object.defineProperty(Candlestick.prototype, "date", {
        get: function () {
            return this.uid.t;
        },
        set: function (d) {
            this.uid.t = d;
        },
        enumerable: true,
        configurable: true
    });
    Candlestick.prototype.getValues = function () {
        var ar = [];
        if (this.c !== undefined) {
            ar.push(this.c);
        }
        if (this.o !== undefined) {
            ar.push(this.o);
        }
        if (this.h !== undefined) {
            ar.push(this.h);
        }
        if (this.l !== undefined) {
            ar.push(this.l);
        }
        return ar;
    };
    Candlestick.prototype.deserialize = function (data) {
        if (data) {
            if (data.c !== undefined) {
                this.c = data.c;
            }
            if (data.o !== undefined) {
                this.o = data.o;
            }
            if (data.h !== undefined) {
                this.h = data.h;
            }
            if (data.l !== undefined) {
                this.l = data.l;
            }
        }
    };
    Candlestick.prototype.toString = function (precision) {
        return " O:" + (this.o !== undefined ? this.o.toFixed(precision) : 'n/a')
            + (" H:" + (this.h !== undefined ? this.h.toFixed(precision) : 'n/a'))
            + (" L:" + (this.l !== undefined ? this.l.toFixed(precision) : 'n/a'))
            + (" C:" + (this.c !== undefined ? this.c.toFixed(precision) : 'n/a'));
    };
    return Candlestick;
}());
exports.Candlestick = Candlestick;
},{}],145:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Point = (function () {
    function Point(d, v) {
        this.uid = '0';
        this.date = d;
        this.value = v;
    }
    Point.prototype.getValues = function () {
        if (this.value) {
            return [this.value];
        }
        else {
            return [];
        }
    };
    Point.prototype.deserialize = function (data) {
        if (data && data.value) {
            this.value = data.value;
        }
    };
    return Point;
}());
exports.Point = Point;
},{}],146:[function(require,module,exports){
/**
 *
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Candlestick_1 = require("./Candlestick");
exports.Candlestick = Candlestick_1.Candlestick;
exports.Uid = Candlestick_1.Uid;
var Point_1 = require("./Point");
exports.Point = Point_1.Point;
},{"./Candlestick":144,"./Point":145}],147:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var CandlestickChartRenderer = (function () {
    function CandlestickChartRenderer() {
        this.settings = new CandleRenderSettings();
        this.minCandleWidth = 1;
        this.maxCandleWidth = 21;
    }
    CandlestickChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        // Render
        //
        var _this = this;
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        var colorDown = this.settings.colorDown;
        var colorUp = this.settings.colorUp;
        var colorBorder = this.settings.colorBorder;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        canvas.lineWidth = 1;
        // Separate rendering of lines with different colors
        // to minimize state changes.
        //
        if (candleW > 2) {
            canvas.beginPath();
            canvas.setStrokeStyle(colorBorder);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderShadows(canvas, timeAxis, yAxis, candle, frame, candleW, x);
            });
            canvas.stroke();
            // up bodies
            canvas.setFillStyle(colorUp);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderBody(canvas, timeAxis, yAxis, candle, frame, candleW, x, true);
            });
            // down bodies
            canvas.setFillStyle(colorDown);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderBody(canvas, timeAxis, yAxis, candle, frame, candleW, x, false);
            });
        }
        else {
            // render down lines
            canvas.beginPath();
            canvas.setStrokeStyle(colorDown);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderLine(canvas, timeAxis, yAxis, candle, frame, candleW, x, colorDown, false);
            });
            canvas.stroke();
            // render up lines
            canvas.beginPath();
            canvas.setStrokeStyle(colorUp);
            RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
                _this.renderLine(canvas, timeAxis, yAxis, candle, frame, candleW, x, colorUp, true);
            });
            canvas.stroke();
        }
    };
    CandlestickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    CandlestickChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        var x = timeAxis.toX(candle.uid);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    CandlestickChartRenderer.prototype.renderShadows = function (canvas, timeAxis, yAxis, candle, frame, candleW, x) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        this.line(canvas, x, l, x, h);
    };
    CandlestickChartRenderer.prototype.renderBody = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, up) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        if ((up && candle.c > candle.o) || (!up && candle.c <= candle.o)) {
            canvas.fillRect(body.x, body.y, body.w, body.h);
        }
    };
    CandlestickChartRenderer.prototype.renderLine = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, color, up) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        if ((up && candle.c > candle.o) || (!up && candle.c <= candle.o)) {
            this.line(canvas, x, body.y, x, body.y + body.h);
        }
    };
    CandlestickChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    CandlestickChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count; //  range / timeAxis.interval;
        var w = frameWidth / (3 * candlesCount);
        if (w < 1.3) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    CandlestickChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    CandlestickChartRenderer.prototype.getSettings = function () {
        var settings = new index_1.SettingSet({ name: 'visual', group: true, displayName: 'visual' });
        settings.setSetting('colorUp', new index_1.SettingSet({
            name: 'colorUp',
            displayName: 'Rising color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorUp.toString()
        }));
        settings.setSetting('colorDown', new index_1.SettingSet({
            name: 'colorDown',
            displayName: 'Falling color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorDown.toString()
        }));
        settings.setSetting('colorBorder', new index_1.SettingSet({
            name: 'colorBorder',
            displayName: 'Border color',
            settingType: index_1.SettingType.color,
            value: this.settings.colorBorder.toString()
        }));
        return settings;
    };
    CandlestickChartRenderer.prototype.setSettings = function (value) {
        var colorUp = value.getSetting('visual.colorUp');
        this.settings.colorUp = (colorUp && colorUp.value) ? colorUp.value : this.settings.colorUp;
        var colorDown = value.getSetting('visual.colorDown');
        this.settings.colorDown = (colorDown && colorDown.value) ? colorDown.value : this.settings.colorDown;
        var colorBorder = value.getSetting('visual.colorBorder');
        this.settings.colorBorder = (colorBorder && colorBorder.value) ? colorBorder.value : this.settings.colorBorder;
    };
    return CandlestickChartRenderer;
}());
exports.CandlestickChartRenderer = CandlestickChartRenderer;
var CandleRenderSettings = (function () {
    function CandleRenderSettings() {
        this.colorUp = '#59E459';
        this.colorDown = '#F03A3D';
        this.colorBorder = '#333333';
    }
    return CandleRenderSettings;
}());
},{"../core/index":56,"./RenderUtils":162}],148:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * CandlestickPopupRenderer class.
 */
var index_1 = require("../canvas/index");
var CandlestickPopupRenderer = (function () {
    function CandlestickPopupRenderer() {
        this.paddingLeft = 5;
        this.paddingTop = 5;
    }
    CandlestickPopupRenderer.prototype.render = function (canvas, model, point, frameSize, precision) {
        var lineHeight = 20;
        var w = 90;
        var h = lineHeight * 4 + this.paddingTop * 2;
        var x = Math.max(0, Math.min(point.x, frameSize.width - w));
        var y = Math.max(0, Math.min(point.y, frameSize.height - h));
        var alpha = canvas.globalAlpha;
        canvas.globalAlpha = 0.8;
        // border
        canvas.setStrokeStyle('#C0C0C0');
        canvas.strokeRect(x, y, w, h);
        // fill
        canvas.setFillStyle('#F2F2F2');
        canvas.fillRect(x, y, w, h);
        // text
        canvas.font = '10px Arial';
        canvas.fillStyle = 'black';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
        canvas.fillText("O: " + this.formatValue(model.o, precision), x + this.paddingLeft, y + this.paddingTop);
        canvas.fillText("C: " + this.formatValue(model.c, precision), x + this.paddingLeft, y + this.paddingTop + lineHeight);
        canvas.fillText("H: " + this.formatValue(model.h, precision), x + this.paddingLeft, y + this.paddingTop + 2 * lineHeight);
        canvas.fillText("L: " + this.formatValue(model.l, precision), x + this.paddingLeft, y + this.paddingTop + 3 * lineHeight);
        // restore global value
        canvas.globalAlpha = alpha;
    };
    CandlestickPopupRenderer.prototype.formatValue = function (n, precision) {
        return (n !== undefined) ? n.toFixed(precision) : '';
    };
    return CandlestickPopupRenderer;
}());
exports.CandlestickPopupRenderer = CandlestickPopupRenderer;
},{"../canvas/index":19}],149:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../canvas/index");
var index_2 = require("../core/index");
var ChartRenderer = (function () {
    function ChartRenderer() {
        this.settings = new RenderSettings();
    }
    ChartRenderer.prototype.getZonesSettings = function () {
        var toplineGroup = new index_2.SettingSet({ name: 'topline', group: true, displayName: 'Top line' });
        toplineGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.tlinecolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        toplineGroup.setSetting('pattern', new index_2.SettingSet({
            name: 'pattern',
            value: this.settings.zone.tlinepattern.toString(),
            displayName: '',
            settingType: index_2.SettingType.select,
            options: [
                { value: index_1.LinePattern.Solid.toString(), text: 'solid' },
                { value: index_1.LinePattern.Dashed.toString(), text: 'dashed' },
                { value: index_1.LinePattern.Pointed.toString(), text: 'pointed' }
            ]
        }));
        toplineGroup.setSetting('width', new index_2.SettingSet({
            name: 'width',
            value: this.settings.zone.tlinewidth.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: ''
        }));
        var bottomGroup = new index_2.SettingSet({ name: 'bottomline', group: true, displayName: 'Bottom line' });
        bottomGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.blinecolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        bottomGroup.setSetting('pattern', new index_2.SettingSet({
            name: 'pattern',
            value: this.settings.zone.blinepattern.toString(),
            displayName: '',
            settingType: index_2.SettingType.select,
            options: [
                { value: index_1.LinePattern.Solid.toString(), text: 'solid' },
                { value: index_1.LinePattern.Dashed.toString(), text: 'dashed' },
                { value: index_1.LinePattern.Pointed.toString(), text: 'pointed' }
            ]
        }));
        bottomGroup.setSetting('width', new index_2.SettingSet({
            name: 'width',
            value: this.settings.zone.blinewidth.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: ''
        }));
        var fillGroup = new index_2.SettingSet({ name: 'fill', group: true, displayName: 'Fill color' });
        fillGroup.setSetting('filled', new index_2.SettingSet({
            name: 'filled',
            value: this.settings.zone.fill.toString(),
            settingType: index_2.SettingType.check,
            displayName: ''
        }));
        fillGroup.setSetting('color', new index_2.SettingSet({
            name: 'color',
            value: this.settings.zone.fillcolor.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        var fillOverlapGroup = new index_2.SettingSet({ name: 'filloverlap', group: true, displayName: 'Fill colors' });
        fillOverlapGroup.setSetting('fill', new index_2.SettingSet({
            name: 'fill',
            value: this.settings.zone.overlapfill.toString(),
            settingType: index_2.SettingType.check,
            displayName: ''
        }));
        fillOverlapGroup.setSetting('colorup', new index_2.SettingSet({
            name: 'colorup',
            value: this.settings.zone.overlapcolorUp.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        fillOverlapGroup.setSetting('colordown', new index_2.SettingSet({
            name: 'colordown',
            value: this.settings.zone.overlapcolorDown.toString(),
            settingType: index_2.SettingType.color,
            displayName: ''
        }));
        var group = new index_2.SettingSet({ name: 'zones', group: true, displayName: 'Zones' });
        group.setSetting('visible', new index_2.SettingSet({
            name: 'visible',
            value: this.settings.zone.visible.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Visible'
        }));
        group.setSetting('upthreshold', new index_2.SettingSet({
            name: 'upthreshold',
            value: this.settings.zone.upthreshold.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Upper threshold'
        }));
        group.setSetting('lowthreshold', new index_2.SettingSet({
            name: 'lowthreshold',
            value: this.settings.zone.lowthreshold.toString(),
            settingType: index_2.SettingType.numeric,
            displayName: 'Lower threshold'
        }));
        group.setSetting('pricevalues', new index_2.SettingSet({
            name: 'pricevalues',
            value: this.settings.zone.pricevalues.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Values on price scale'
        }));
        group.setSetting('showthreshold', new index_2.SettingSet({
            name: 'showthreshold',
            value: this.settings.zone.showthreshold.toString(),
            settingType: index_2.SettingType.check,
            displayName: 'Show threshold lines'
        }));
        group.setSetting('topline', toplineGroup);
        group.setSetting('bottomline', bottomGroup);
        group.setSetting('fill', fillGroup);
        group.setSetting('filloverlap', fillOverlapGroup);
        return group;
    };
    ChartRenderer.prototype.setZonesSettings = function (value) {
        var st;
        st = value.getSetting('zones.visible');
        this.settings.zone.visible = (st && st.value) ? st.value === 'true' : this.settings.zone.visible;
        // showthreshold
        st = value.getSetting('zones.showthreshold');
        this.settings.zone.showthreshold = (st && st.value) ? st.value === 'true' : this.settings.zone.showthreshold;
        // upthreshold
        st = value.getSetting('zones.upthreshold');
        this.settings.zone.upthreshold = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.upthreshold;
        // lowthreshold
        st = value.getSetting('zones.lowthreshold');
        this.settings.zone.lowthreshold = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.lowthreshold;
        // pricevalues
        st = value.getSetting('zones.pricevalues');
        this.settings.zone.pricevalues = (st && st.value) ? st.value === 'true' : this.settings.zone.pricevalues;
        // topline (color, pattern, width)
        var topline = value.getSetting('zones.topline');
        if (topline) {
            st = topline.getSetting('topline.color');
            this.settings.zone.tlinecolor = (st && st.value) ? st.value : this.settings.zone.tlinecolor;
            st = topline.getSetting('topline.pattern');
            this.settings.zone.tlinepattern = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.tlinepattern;
            st = topline.getSetting('topline.width');
            this.settings.zone.tlinewidth = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.tlinewidth;
        }
        // bottomline (color, pattern, width)
        var bottomline = value.getSetting('zones.bottomline');
        if (bottomline) {
            st = bottomline.getSetting('bottomline.color');
            this.settings.zone.blinecolor = (st && st.value) ? st.value : this.settings.zone.blinecolor;
            st = bottomline.getSetting('bottomline.pattern');
            this.settings.zone.blinepattern = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.blinepattern;
            st = bottomline.getSetting('bottomline.width');
            this.settings.zone.blinewidth = (st && st.value) ? parseInt(st.value, 10) : this.settings.zone.blinewidth;
        }
        // fill (fill, color)
        var fill = value.getSetting('zones.fill');
        if (fill) {
            st = fill.getSetting('fill.color');
            this.settings.zone.fillcolor = (st && st.value) ? st.value : this.settings.zone.fillcolor;
            st = fill.getSetting('fill.filled');
            this.settings.zone.fill = (st && st.value) ? st.value === 'true' : this.settings.zone.fill;
        }
        // filloverlap (fill, colorup, colordown)
        var ovrlap = value.getSetting('zones.filloverlap');
        if (ovrlap) {
            st = ovrlap.getSetting('filloverlap.fill');
            this.settings.zone.overlapfill = (st && st.value) ? st.value === 'true' : this.settings.zone.overlapfill;
            st = ovrlap.getSetting('filloverlap.colorup');
            this.settings.zone.overlapcolorUp = (st && st.value) ? st.value : this.settings.zone.overlapcolorUp;
            st = ovrlap.getSetting('filloverlap.colordown');
            this.settings.zone.overlapcolorDown = (st && st.value) ? st.value : this.settings.zone.overlapcolorDown;
        }
    };
    return ChartRenderer;
}());
exports.ChartRenderer = ChartRenderer;
var RenderSettings = (function () {
    function RenderSettings() {
        this.zone = new ZoneSettings();
    }
    return RenderSettings;
}());
exports.RenderSettings = RenderSettings;
var ZoneSettings = (function () {
    function ZoneSettings() {
        this.visible = true;
        this.showthreshold = true;
        this.upthreshold = 80;
        this.lowthreshold = 20;
        this.pricevalues = false;
        // Top line
        this.tlinecolor = '#555555';
        this.tlinepattern = index_1.LinePattern.Solid;
        this.tlinewidth = 1;
        // Bottom line
        this.blinecolor = '#555555';
        this.blinepattern = index_1.LinePattern.Solid;
        this.blinewidth = 1;
        // Fill
        this.fill = false;
        this.fillcolor = '#777777';
        // Overlap
        this.overlapfill = false;
        this.overlapcolorUp = '#3AA000';
        this.overlapcolorDown = '#CE0000';
    }
    return ZoneSettings;
}());
exports.ZoneSettings = ZoneSettings;
},{"../canvas/index":19,"../core/index":56}],150:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CrosshairRenderer = (function () {
    function CrosshairRenderer() {
    }
    CrosshairRenderer.prototype.render = function (canvas, point, frameSize) {
        // Draw crosshair
        //
        canvas.setStrokeStyle('black');
        var curDash = canvas.getLineDash();
        canvas.setLineDash([5, 5]);
        canvas.lineWidth = 1;
        canvas.beginPath();
        if (point.x > 0 && point.x < frameSize.width) {
            // draw vertical line
            canvas.moveTo(point.x, 0);
            canvas.lineTo(point.x, frameSize.height);
        }
        if (point.y > 0 && point.y < frameSize.height) {
            // draw horizontal line
            canvas.moveTo(0, point.y);
            canvas.lineTo(frameSize.width, point.y);
        }
        canvas.stroke();
        canvas.closePath();
        canvas.setLineDash(curDash);
    };
    return CrosshairRenderer;
}());
exports.CrosshairRenderer = CrosshairRenderer;
},{}],151:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GridRenderer = (function () {
    function GridRenderer() {
    }
    GridRenderer.prototype.render = function (canvas, frame, xAxis, yAxis) {
        canvas.beginPath();
        canvas.setStrokeStyle('#EAEAEA');
        canvas.lineWidth = 1;
        // Vertical lines
        var gridX = xAxis.getGrid();
        gridX.reset();
        while (gridX.moveNext()) {
            var x = gridX.current.x;
            canvas.moveTo(x, frame.y);
            canvas.lineTo(x, frame.y + frame.h);
        }
        // Horizontal lines
        var gridY = yAxis.getGrid();
        for (var _i = 0, _a = gridY.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = yAxis.toX(bar);
                canvas.moveTo(frame.x, y);
                canvas.lineTo(frame.x + frame.w, y);
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    return GridRenderer;
}());
exports.GridRenderer = GridRenderer;
},{}],152:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var HollowstickChartRenderer = (function () {
    function HollowstickChartRenderer() {
        this.minCandleWidth = 1;
        this.maxCandleWidth = 21;
    }
    HollowstickChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        var _this = this;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x, dataIterator.previous);
        });
        // let found = false;
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = dataIterator.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = dataIterator.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const candle = dataIterator.current;
        //         this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x, dataIterator.previous);
        //     }
        // }
    };
    HollowstickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    HollowstickChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        var x = timeAxis.toX(candle.uid);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    HollowstickChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, candleW, x, prevCandle) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        var colorUp = '#00B712'; // black
        var colorDown = '#EA0000'; // red
        var white = '#FFFFFF';
        var color = colorDown; // default color
        if (prevCandle && prevCandle.c) {
            color = (candle.c > prevCandle.c) ? colorUp : colorDown;
        }
        var isHollow = candle.c > candle.o;
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = 1;
        canvas.setStrokeStyle(color);
        if (body.w > 2) {
            // Drawing upper shadow
            this.line(canvas, x, body.y, x, h);
            // Drawing lower shadow
            this.line(canvas, x, l, x, body.y + body.h - 1);
            canvas.stroke();
        }
        // Drawing body
        if (body.w > 2) {
            if (isHollow) {
                canvas.setFillStyle(white);
            }
            else {
                canvas.setFillStyle(color);
            }
            canvas.fillRect(body.x, body.y, body.w, body.h);
            canvas.strokeRect(body.x, body.y, body.w, body.h);
        }
        else {
            canvas.beginPath();
            canvas.setStrokeStyle(color);
            this.line(canvas, x, body.y, x, body.y + body.h);
            canvas.stroke();
        }
    };
    HollowstickChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    HollowstickChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count;
        var w = frameWidth / (3 * candlesCount);
        if (w < 1.3) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    HollowstickChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    HollowstickChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    HollowstickChartRenderer.prototype.setSettings = function (settings) {
    };
    return HollowstickChartRenderer;
}());
exports.HollowstickChartRenderer = HollowstickChartRenderer;
},{"../core/index":56,"./RenderUtils":162}],153:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var SettingSet_1 = require("../core/SettingSet");
var LineChartRenderer = (function () {
    function LineChartRenderer() {
    }
    LineChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Point[],
        frame, timeAxis, yAxis) {
        // // Render
        // //
        // // border lines
        // canvas.beginPath();
        // canvas.setStrokeStyle('#333333');
        // // ... left
        // canvas.moveTo(frame.x, frame.y);
        // canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // // ... bottom
        // canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // // ... right
        // canvas.lineTo(frame.x + frame.w - 1, frame.y);
        // canvas.stroke();
        // // Start drawing
        // canvas.beginPath();
        // canvas.setStrokeStyle('#555555');
        // if (dataIterator.moveNext()) {
        //     let x = timeAxis.toX(dataIterator.current.date);
        //     let y = yAxis.toX(<number>dataIterator.current.value);
        //     canvas.moveTo(x, y);
        //     while (dataIterator.moveNext()) {
        //         if (dataIterator.current.value) {
        //             x = timeAxis.toX(dataIterator.current.date);
        //             y = yAxis.toX(<number>dataIterator.current.value);
        //             canvas.lineTo(x, y);
        //         }
        //     }
        // }
        // canvas.stroke();
    };
    LineChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Point[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.value) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.value);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    LineChartRenderer.prototype.getSettings = function () {
        return new SettingSet_1.SettingSet('renderer');
    };
    LineChartRenderer.prototype.setSettings = function (settings) {
    };
    return LineChartRenderer;
}());
exports.LineChartRenderer = LineChartRenderer;
},{"../core/SettingSet":52}],154:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * LinePopupRenderer class.
 */
var index_1 = require("../canvas/index");
var LinePopupRenderer = (function () {
    function LinePopupRenderer() {
        this.paddingLeft = 5;
        this.paddingTop = 5;
    }
    LinePopupRenderer.prototype.render = function (canvas, model, point, frameSize, precision) {
        var lineHeight = 20;
        var w = 90;
        var h = lineHeight + this.paddingTop * 2;
        var x = Math.max(0, Math.min(point.x, frameSize.width - w));
        var y = Math.max(0, Math.min(point.y, frameSize.height - h));
        var alpha = canvas.globalAlpha;
        canvas.globalAlpha = 0.8;
        // border
        canvas.setStrokeStyle('#C0C0C0');
        canvas.strokeRect(x, y, w, h);
        // fill
        canvas.setFillStyle('#F2F2F2');
        canvas.fillRect(x, y, w, h);
        // text
        canvas.font = '10px Arial';
        canvas.fillStyle = 'black';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
        canvas.fillText("" + (model.value !== undefined ? model.value.toFixed(precision) : ''), x + this.paddingLeft, y + this.paddingTop);
        // restore global value
        canvas.globalAlpha = alpha;
    };
    return LinePopupRenderer;
}());
exports.LinePopupRenderer = LinePopupRenderer;
},{"../canvas/index":19}],155:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var LinestickChartRenderer = (function () {
    function LinestickChartRenderer() {
        this.settings = new RenderSettings();
    }
    LinestickChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle(this.settings.color);
        canvas.lineWidth = this.settings.width;
        RenderUtils_1.RenderUtils.renderLineChart(canvas, dataIterator, function (item) {
            if (item.c !== undefined) {
                return { uid: item.uid, v: item.c };
            }
        }, frame, timeAxis, yAxis, false);
        canvas.stroke();
    };
    LinestickChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.c !== undefined) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.c);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    LinestickChartRenderer.prototype.getSettings = function () {
        var settings = new index_1.SettingSet({ name: 'visual', group: true, displayName: 'visual' });
        settings.setSetting('color', new index_1.SettingSet({
            name: 'color',
            displayName: 'Color',
            settingType: index_1.SettingType.color,
            value: this.settings.color.toString()
        }));
        settings.setSetting('width', new index_1.SettingSet({
            name: 'width',
            displayName: 'Line width',
            settingType: index_1.SettingType.numeric,
            value: this.settings.width.toString()
        }));
        return settings;
    };
    LinestickChartRenderer.prototype.setSettings = function (value) {
        var colorUp = value.getSetting('visual.color');
        this.settings.color = (colorUp && colorUp.value) ? colorUp.value : this.settings.color;
        var width = value.getSetting('visual.width');
        this.settings.width = (width && width.value) ? parseInt(width.value, 10) : this.settings.width;
    };
    return LinestickChartRenderer;
}());
exports.LinestickChartRenderer = LinestickChartRenderer;
var RenderSettings = (function () {
    function RenderSettings() {
        this.color = '#555555';
        this.width = 1;
    }
    return RenderSettings;
}());
},{"../core/index":56,"./RenderUtils":162}],156:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var MountainChartRenderer = (function () {
    function MountainChartRenderer() {
    }
    MountainChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        // Start drawing
        canvas.beginPath();
        canvas.setStrokeStyle('#555555');
        RenderUtils_1.RenderUtils.renderLineChart(canvas, dataIterator, function (item) {
            if (item.c !== undefined) {
                return { uid: item.uid, v: item.c };
            }
        }, frame, timeAxis, yAxis, true);
        canvas.closePath();
        canvas.stroke();
        canvas.fillStyle = '#CCEAF0';
        canvas.fill();
    };
    MountainChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // while (dataIterator.moveNext()) {
        //     if (dataIterator.current.c !== undefined) {
        //         const x = timeAxis.toX(dataIterator.current.date);
        //         const y = yAxis.toX(dataIterator.current.c);
        //         const R = Math.sqrt(Math.pow(Math.abs(x - hitPoint.x), 2) + Math.pow(Math.abs(y - hitPoint.y), 2));
        //         if (R < 2) {
        //             return dataIterator.current;
        //         }
        //     }
        // }
        return undefined;
    };
    MountainChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    MountainChartRenderer.prototype.setSettings = function (settings) {
    };
    return MountainChartRenderer;
}());
exports.MountainChartRenderer = MountainChartRenderer;
},{"../core/index":56,"./RenderUtils":162}],157:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberAxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../canvas/index");
var NumberAxisRenderer = (function () {
    function NumberAxisRenderer() {
    }
    NumberAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.beginPath();
        for (var _i = 0, _a = grid.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = axis.toX(bar);
                if (y !== undefined) {
                    this.drawBar(canvas, bar, y, grid.precision);
                }
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    NumberAxisRenderer.prototype.drawBar = function (canvas, value, y, precision) {
        canvas.moveTo(0, y);
        canvas.lineTo(3, y);
        // draw time mark
        var markText = value.toFixed(precision);
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(markText, 4, y);
    };
    return NumberAxisRenderer;
}());
exports.NumberAxisRenderer = NumberAxisRenderer;
},{"../canvas/index":19}],158:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberMarkRenderer class.
 */
var index_1 = require("../canvas/index");
var NumberMarkRenderer = (function () {
    function NumberMarkRenderer() {
        this.paddingLeft = 4;
    }
    NumberMarkRenderer.prototype.render = function (canvas, value, point, frameSize, precision) {
        var text = value.toFixed(precision).toString();
        var textWidth = canvas.measureText(text).width;
        canvas.fillStyle = '#3F3F3F';
        canvas.fillRect(point.x, point.y - 8, textWidth + this.paddingLeft * 2, 16);
        canvas.font = '11px Arial';
        canvas.fillStyle = '#EAEAEA';
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(text, point.x + this.paddingLeft, point.y);
    };
    return NumberMarkRenderer;
}());
exports.NumberMarkRenderer = NumberMarkRenderer;
},{"../canvas/index":19}],159:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var OhlcChartRenderer = (function () {
    function OhlcChartRenderer() {
        this.minCandleWidth = 1;
        this.maxCandleWidth = 3;
    }
    OhlcChartRenderer.prototype.render = function (canvas, dataIterator, frame, timeAxis, yAxis) {
        var _this = this;
        var lineW = this.calculateLineWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, lineW, x, dataIterator.previous);
        });
        // let found = false;
        // timeAxis.reset();
        // while (timeAxis.moveNext()) {
        //     const curUid = timeAxis.current;
        //     const curTime = curUid.t.getTime();
        //     const curn = curUid.n;
        //     const x = timeAxis.currentX;
        //     if (!found) {
        //         found = dataIterator.goTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn);
        //     } else {
        //         found = dataIterator.moveTo(item => item.uid.t.getTime() === curTime && item.uid.n === curn) !== -1;
        //     }
        //     if (found) {
        //         const candle = dataIterator.current;
        //         this.renderCandle(canvas, timeAxis, yAxis, candle, frame, lineW, x, dataIterator.previous);
        //     }
        // }
    };
    OhlcChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        var candleW = this.calculateLineWidth(timeAxis, frame.w);
        // while (dataIterator.moveNext()) {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        //         candleHit = dataIterator.current;
        //         break;
        //     }
        // }
        return candleHit;
    };
    OhlcChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        // let x = timeAxis.toX(candle.uid);
        // if (x !== undefined) {
        //     x = Math.round(x);
        //     const body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        //     return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
        //             && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        // }
        return false;
    };
    OhlcChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, lineW, x, prevCandle) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        var colorUp = '#00B712';
        var colorDown = '#EA0000';
        var color;
        if (prevCandle && prevCandle.c) {
            color = (candle.c > prevCandle.c) ? colorUp : colorDown;
        }
        else {
            color = (candle.c > candle.o) ? colorUp : colorDown;
        }
        x = Math.round(x);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        var o = yAxis.toX(candle.o);
        var c = yAxis.toX(candle.c);
        var w = lineW + 3;
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = lineW;
        canvas.setStrokeStyle(color);
        this.line(canvas, x, h, x, l);
        this.line(canvas, x - w, o, x, o); // open side
        this.line(canvas, x, c, x + w, c); // close side
        canvas.stroke();
    };
    OhlcChartRenderer.prototype.calculateLineWidth = function (timeAxis, frameWidth) {
        var candlesCount = timeAxis.count;
        var w = frameWidth / (3 * candlesCount);
        if (w < 6) {
            return 1;
        }
        else {
            w = Math.ceil(w);
            w = w + ((w + 1) % 2);
            return Math.min(this.maxCandleWidth, w);
        }
    };
    OhlcChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    OhlcChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    OhlcChartRenderer.prototype.setSettings = function (settings) {
    };
    return OhlcChartRenderer;
}());
exports.OhlcChartRenderer = OhlcChartRenderer;
},{"../core/index":56,"./RenderUtils":162}],160:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * AxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../canvas/index");
var PriceAxisRenderer = (function () {
    function PriceAxisRenderer() {
    }
    PriceAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.beginPath();
        for (var _i = 0, _a = grid.bars; _i < _a.length; _i++) {
            var bar = _a[_i];
            if (bar !== undefined) {
                var y = axis.toX(bar);
                if (y !== undefined) {
                    this.drawBar(canvas, bar, y, grid.precision);
                }
            }
        }
        canvas.stroke();
        canvas.closePath();
    };
    PriceAxisRenderer.prototype.drawBar = function (canvas, value, y, precision) {
        canvas.moveTo(0, y);
        canvas.lineTo(3, y);
        // draw time mark
        var markText = value.toFixed(precision);
        canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Middle);
        canvas.fillText(markText, 4, y);
    };
    return PriceAxisRenderer;
}());
exports.PriceAxisRenderer = PriceAxisRenderer;
},{"../canvas/index":19}],161:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * RenderLocator singleton.
 */
var index_1 = require("../core/index");
var index_2 = require("../model/index");
var CandlestickChartRenderer_1 = require("./CandlestickChartRenderer");
var CandlestickPopupRenderer_1 = require("./CandlestickPopupRenderer");
var CrosshairRenderer_1 = require("./CrosshairRenderer");
var GridRenderer_1 = require("./GridRenderer");
var HollowstickChartRenderer_1 = require("./HollowstickChartRenderer");
var LineChartRenderer_1 = require("./LineChartRenderer");
var LinePopupRenderer_1 = require("./LinePopupRenderer");
var LinestickChartRenderer_1 = require("./LinestickChartRenderer");
var MountainChartRenderer_1 = require("./MountainChartRenderer");
var NumberAxisRenderer_1 = require("./NumberAxisRenderer");
var NumberMarkRenderer_1 = require("./NumberMarkRenderer");
var OhlcChartRenderer_1 = require("./OhlcChartRenderer");
var PriceAxisRenderer_1 = require("./PriceAxisRenderer");
var RenkoChartRenderer_1 = require("./RenkoChartRenderer");
var TimeAxisRenderer_1 = require("./TimeAxisRenderer");
var TimeMarkRenderer_1 = require("./TimeMarkRenderer");
var RenderLocator = (function () {
    function RenderLocator() {
        this.lineChartRender = new LineChartRenderer_1.LineChartRenderer();
        this.timeAxisRender = new TimeAxisRenderer_1.TimeAxisRenderer();
        this.priceAxisRender = new PriceAxisRenderer_1.PriceAxisRenderer();
        this.numberAxisRender = new NumberAxisRenderer_1.NumberAxisRenderer();
        this.candlePopupRenderer = new CandlestickPopupRenderer_1.CandlestickPopupRenderer();
        this.linePopupRenderer = new LinePopupRenderer_1.LinePopupRenderer();
        this.timeMarkRender = new TimeMarkRenderer_1.TimeMarkRenderer();
        this.numberMarkRender = new NumberMarkRenderer_1.NumberMarkRenderer();
        this.crosshairRenderer = new CrosshairRenderer_1.CrosshairRenderer();
        this.gridRenderer = new GridRenderer_1.GridRenderer();
        this.renders = {};
        this.builtinRenders = {};
        this.builtinRenders[index_1.ChartType.candle] = CandlestickChartRenderer_1.CandlestickChartRenderer;
        this.builtinRenders[index_1.ChartType.heikinashi] = CandlestickChartRenderer_1.CandlestickChartRenderer;
        this.builtinRenders[index_1.ChartType.hollow] = HollowstickChartRenderer_1.HollowstickChartRenderer;
        this.builtinRenders[index_1.ChartType.line] = LinestickChartRenderer_1.LinestickChartRenderer;
        this.builtinRenders[index_1.ChartType.mountain] = MountainChartRenderer_1.MountainChartRenderer;
        this.builtinRenders[index_1.ChartType.ohlc] = OhlcChartRenderer_1.OhlcChartRenderer;
        this.builtinRenders[index_1.ChartType.rangebar] = OhlcChartRenderer_1.OhlcChartRenderer;
        this.builtinRenders[index_1.ChartType.renko] = RenkoChartRenderer_1.RenkoChartRenderer;
        this.builtinRenders[index_1.ChartType.linebreak] = RenkoChartRenderer_1.RenkoChartRenderer;
    }
    Object.defineProperty(RenderLocator, "Instance", {
        get: function () {
            return this.instance || (this.instance = new this());
        },
        enumerable: true,
        configurable: true
    });
    RenderLocator.prototype.register = function (chartType, render) {
        this.renders[chartType] = render;
    };
    RenderLocator.prototype.getChartRender = function (dataType, chartType) {
        // First check registered renders
        var render = this.renders[chartType];
        if (render) {
            return new render();
        }
        var obj = new dataType(new Date());
        if (obj instanceof index_2.Point) {
            if (chartType === index_1.ChartType.line) {
                return this.lineChartRender;
            }
        }
        else if (obj instanceof index_2.Candlestick) {
            var renderer = this.builtinRenders[chartType];
            if (renderer) {
                return new renderer();
            }
        }
        else {
            throw new Error('Unexpected data type: ' + dataType);
        }
        throw new Error('Unexpected chart type ' + chartType);
    };
    RenderLocator.prototype.getAxesRender = function (uid) {
        switch (uid) {
            case 'date': return this.timeAxisRender;
            case 'number': return this.numberAxisRender;
            case 'price': return this.priceAxisRender;
            default:
                throw new Error('Unexpected axes render uid: ' + uid);
        }
    };
    RenderLocator.prototype.getPopupRender = function (dataType) {
        var obj = new dataType(new Date());
        if (obj instanceof index_2.Point) {
            return this.linePopupRenderer;
        }
        else if (obj instanceof index_2.Candlestick) {
            return this.candlePopupRenderer;
        }
        else {
            throw new Error('Unexpected data type: ' + dataType);
        }
    };
    RenderLocator.prototype.getMarkRender = function (uid) {
        switch (uid) {
            case 'date': return this.timeMarkRender;
            case 'number': return this.numberMarkRender;
            default:
                throw new Error('Unexpected axes render uid: ' + uid);
        }
    };
    RenderLocator.prototype.getCrosshairRender = function () {
        return this.crosshairRenderer;
    };
    RenderLocator.prototype.getGridRender = function () {
        return this.gridRenderer;
    };
    return RenderLocator;
}());
exports.RenderLocator = RenderLocator;
},{"../core/index":56,"../model/index":146,"./CandlestickChartRenderer":147,"./CandlestickPopupRenderer":148,"./CrosshairRenderer":150,"./GridRenderer":151,"./HollowstickChartRenderer":152,"./LineChartRenderer":153,"./LinePopupRenderer":154,"./LinestickChartRenderer":155,"./MountainChartRenderer":156,"./NumberAxisRenderer":157,"./NumberMarkRenderer":158,"./OhlcChartRenderer":159,"./PriceAxisRenderer":160,"./RenkoChartRenderer":163,"./TimeAxisRenderer":164,"./TimeMarkRenderer":165}],162:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var index_1 = require("../canvas/index");
var RenderUtils = (function () {
    function RenderUtils() {
    }
    RenderUtils.renderLineChart = function (canvas, dataIterator, getPoint, frame, timeAxis, yAxis, closePath) {
        var isFirstPoint = true;
        var firstPoint;
        var lastPoint;
        RenderUtils.iterate(timeAxis, dataIterator, function (data, x) {
            var point = getPoint(data);
            if (point !== undefined && point.uid !== undefined && point.v !== undefined) {
                var y = yAxis.toX(point.v);
                if (isFirstPoint) {
                    canvas.moveTo(x, y);
                    firstPoint = { x: x, y: y };
                    isFirstPoint = false;
                }
                else {
                    canvas.lineTo(x, y);
                    lastPoint = { x: x, y: y };
                }
            }
        });
        if (closePath && firstPoint && lastPoint) {
            canvas.lineTo(lastPoint.x, frame.h - 1);
            canvas.lineTo(firstPoint.x, frame.h - 1);
            canvas.lineTo(firstPoint.x, firstPoint.y);
        }
    };
    RenderUtils.iterate = function (timeaxis, iter, action) {
        if (!iter.goTo(function (item) { return true; })) {
            // end rendering
            return;
        }
        var found = false;
        timeaxis.reset();
        while (timeaxis.moveNext()) {
            var timeUid = timeaxis.current.uid;
            var x = timeaxis.current.x;
            do {
                var data = iter.current;
                if (data.uid.compare(timeUid) === 0) {
                    found = true;
                    break;
                }
                else if (data.uid.compare(timeUid) > 0) {
                    found = false;
                    break;
                }
                if (!iter.moveNext()) {
                    // end rendering
                    return;
                }
            } while (true);
            if (found) {
                action(iter.current, x);
            }
        }
    };
    /**
     * Fills overlap of the line over specified level.
     * @param canvas
     * @param points Points of line
     * @param level Y coordinate to calculate overlapping
     * @param up If true - overlapping from up, false - from bottom.
     * @param fillStyle
     */
    RenderUtils.fillOverlap = function (canvas, points, level, up, fillStyle) {
        if (points.length > 1) {
            var first = points[0];
            var last = points[points.length - 1];
            canvas.beginPath();
            points.forEach(function (p, index) {
                if (p) {
                    (index === 0) ? canvas.moveTo(p.x, p.y) : canvas.lineTo(p.x, p.y);
                }
            });
            canvas.lineTo(last.x, up ? canvas.h : 0);
            canvas.lineTo(first.x, up ? canvas.h : 0);
            canvas.closePath();
            canvas.save();
            canvas.clip();
            canvas.setFillStyle(fillStyle);
            canvas.fillRect(0, up ? 0 : level, canvas.w, up ? level : (canvas.h - level));
            canvas.restore();
        }
    };
    RenderUtils.PATTERN2SEG = function (pattern) {
        switch (pattern) {
            case index_1.LinePattern.Solid: return [];
            case index_1.LinePattern.Dashed: return [5, 10];
            case index_1.LinePattern.Pointed: return [2, 8];
            default: throw new Error("Unexpected line pattern: " + pattern);
        }
    };
    return RenderUtils;
}());
exports.RenderUtils = RenderUtils;
},{"../canvas/index":19}],163:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../core/index");
var RenderUtils_1 = require("./RenderUtils");
var RenkoChartRenderer = (function () {
    function RenkoChartRenderer() {
        this.minCandleWidth = 3;
        this.maxCandleWidth = 21;
    }
    RenkoChartRenderer.prototype.render = function (canvas, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        // Render
        //
        var _this = this;
        // border lines
        canvas.beginPath();
        canvas.setStrokeStyle('#333333');
        // ... left
        canvas.moveTo(frame.x, frame.y);
        canvas.lineTo(frame.x, frame.y + frame.h - 1);
        // ... bottom
        canvas.lineTo(frame.x + frame.w - 1, frame.y + frame.h - 1);
        // ... right
        canvas.lineTo(frame.x + frame.w - 1, frame.y);
        canvas.stroke();
        var candleW = this.calculateBodyWidth(timeAxis, frame.w);
        RenderUtils_1.RenderUtils.iterate(timeAxis, dataIterator, function (candle, x) {
            _this.renderCandle(canvas, timeAxis, yAxis, candle, frame, candleW, x);
        });
    };
    RenkoChartRenderer.prototype.testHitArea = function (hitPoint, dataIterator, 
        //data: Candlestick[],
        frame, timeAxis, yAxis) {
        var candleHit = undefined;
        // const candleW = this.calculateBodyWidth(timeAxis, frame.w);
        // // while (dataIterator.moveNext()) {
        // //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, dataIterator.current, candleW)) {
        // //         candleHit = dataIterator.current;
        // //         break;
        // //     }
        // // }
        // data.forEach((value: Candlestick, index: number) => {
        //     if (this.testHitAreaCandle(hitPoint, timeAxis, yAxis, value, index, candleW)) {
        //         return value;
        //     }
        // });
        return candleHit;
    };
    RenkoChartRenderer.prototype.testHitAreaCandle = function (hitPoint, timeAxis, yAxis, candle, candleW) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return false;
        }
        // TODO: Use prepaired X
        var x = timeAxis.toX(candle.uid);
        // let x = timeAxis.toX(index);
        if (x !== undefined) {
            x = Math.round(x);
            var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
            return (hitPoint.x >= body.x && hitPoint.x <= (body.x + body.w)
                && hitPoint.y >= body.y && hitPoint.y <= (body.y + body.h));
        }
        return false;
    };
    // private renderCandle(
    //     canvas: ICanvas, timeAxis: ITimeAxis, yAxis: IAxis<number>, candle: Candlestick, frame: IRect, candleW: number): void {
    //     if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
    //         return;
    //     }
    //     // // Startin drawing
    //     // canvas.beginPath();
    //     // canvas.lineWidth = 1;
    //     // canvas.setStrokeStyle('#333333');
    //     // //let x = timeAxis.toX(candle.date);
    //     // let x = timeAxis.toX(index);
    //     // x = Math.round(x);
    //     // const body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
    //     // const h = yAxis.toX(candle.h);
    //     // const l = yAxis.toX(candle.l);
    //     // canvas.stroke();
    //     // // Drawing body
    //     // if (candle.c > candle.o) {
    //     //     canvas.setFillStyle('#ffffff');
    //     // } else {
    //     //     canvas.setFillStyle('#000000');
    //     // }
    //     // canvas.fillRect(body.x, body.y, body.w, body.h);
    //     // canvas.strokeRect(body.x, body.y, body.w, body.h);
    // }
    RenkoChartRenderer.prototype.renderCandle = function (canvas, timeAxis, yAxis, candle, frame, candleW, x) {
        if (candle.c === undefined || candle.o === undefined || candle.h === undefined || candle.l === undefined) {
            return;
        }
        // Startin drawing
        canvas.beginPath();
        canvas.lineWidth = 1;
        canvas.setStrokeStyle('#191919');
        // We are not calculating x, as currentX is faster
        // let x = timeAxis.toX(candle.uid);
        // if (x === undefined) {
        //     return;
        // }
        x = Math.round(x);
        var body = this.calculateBody(x, yAxis, candle.o, candle.c, candleW);
        var h = yAxis.toX(candle.h);
        var l = yAxis.toX(candle.l);
        // Drawing upper shadow
        this.line(canvas, x, body.y, x, h);
        // Drawing lower shadow
        this.line(canvas, x, l, x, body.y + body.h);
        canvas.stroke();
        // Drawing body
        if (candle.c > candle.o) {
            canvas.setFillStyle('#F7F7F7'); //#008910');
        }
        else {
            canvas.setFillStyle('#191919'); //#D80300');
        }
        canvas.fillRect(body.x, body.y, body.w, body.h);
        canvas.strokeRect(body.x, body.y, body.w, body.h);
        // // Draw uid
        // canvas.setFillStyle('#111111');
        // const markText = candle.uid;
        // const w = canvas.measureText(markText).width;
        // canvas.setTextBaseLine(CanvasTextBaseLine.Top);
        // canvas.fillText(markText, x - w / 2, body.y);
        // canvas.fillText(markText, x - w / 2, body.y + body.h);
    };
    RenkoChartRenderer.prototype.calculateBody = function (x, yAxis, o, c, candleW) {
        var ocMin = yAxis.toX(Math.max(o, c)); // Inverted Y
        var ocMax = yAxis.toX(Math.min(o, c));
        return { x: x - Math.floor(candleW / 2), y: ocMin, w: candleW, h: ocMax - ocMin };
    };
    RenkoChartRenderer.prototype.calculateBodyWidth = function (timeAxis, frameWidth) {
        return (timeAxis.count > 0) ? frameWidth / timeAxis.count : 0;
        // // const range = timeAxis.range.end.getTime() - timeAxis.range.start.getTime();
        // // if (range === 0 || timeAxis.interval === 0) {
        // //     return this.minCandleWidth;
        // // }
        // // const candlesCount = range / timeAxis.interval;
        // const candlesCount = timeAxis.count; //  range / timeAxis.interval;
        // let w = Math.floor(frameWidth / candlesCount);
        // // make width odd (1, 3, 5, ...)
        // w = w - ((w + 1) % 2);
        // // between minCandleWidth and maxCandleWidth
        // return Math.min(this.maxCandleWidth, Math.max(this.minCandleWidth, w));
    };
    RenkoChartRenderer.prototype.line = function (canvas, x1, y1, x2, y2) {
        canvas.moveTo(x1, y1);
        canvas.lineTo(x2, y2);
    };
    RenkoChartRenderer.prototype.getSettings = function () {
        return new index_1.SettingSet('renderer');
    };
    RenkoChartRenderer.prototype.setSettings = function (settings) {
    };
    return RenkoChartRenderer;
}());
exports.RenkoChartRenderer = RenkoChartRenderer;
},{"../core/index":56,"./RenderUtils":162}],164:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * AxisRenderer
 *
 * @classdesc Contains methods for rendering axes.
 */
var index_1 = require("../axes/index");
var index_2 = require("../canvas/index");
var TimeAxisRenderer = (function () {
    function TimeAxisRenderer() {
        this.monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    }
    TimeAxisRenderer.prototype.render = function (canvas, axis, frame) {
        var grid = axis.getGrid();
        var range = axis.range;
        var scale = index_1.TimeAutoGrid.selectScale(frame.w, axis.interval, range);
        canvas.font = '11px Arial';
        canvas.fillStyle = '#000000';
        canvas.setStrokeStyle('black');
        canvas.setTextBaseLine(index_2.CanvasTextBaseLine.Top);
        canvas.beginPath();
        grid.reset();
        while (grid.moveNext()) {
            this.drawBar(canvas, grid.current.uid.t, grid.current.x);
        }
        canvas.stroke();
        canvas.closePath();
    };
    TimeAxisRenderer.prototype.drawBar = function (canvas, date, x) {
        canvas.moveTo(x, 0);
        canvas.lineTo(x, 3);
        // draw time mark
        var markText = this.formatDate(date);
        var w = canvas.measureText(markText).width;
        canvas.fillText(markText, x - w / 2, 5);
    };
    TimeAxisRenderer.prototype.formatDate = function (date) {
        // If hours are not 0 or minutes are not 0 then render hh:mm
        // else if 1 Jan then render Year
        // else if 1 day then render Month
        // else render day
        if (date.getUTCHours() !== 0 || date.getUTCMinutes() !== 0) {
            var hh = date.getUTCHours();
            var mm = date.getUTCMinutes();
            return ('0' + hh.toFixed(0)).slice(-2) + ':' + ('0' + mm.toFixed(0)).slice(-2);
        }
        else if (date.getUTCDate() === 1 && date.getUTCMonth() === 0) {
            return "" + date.getUTCFullYear();
        }
        else if (date.getUTCDate() === 1) {
            return "" + this.monthNames[date.getUTCMonth()];
        }
        else {
            return "" + date.getUTCDate();
        }
    };
    return TimeAxisRenderer;
}());
exports.TimeAxisRenderer = TimeAxisRenderer;
},{"../axes/index":16,"../canvas/index":19}],165:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeMarkRenderer class.
 */
var index_1 = require("../canvas/index");
var TimeMarkRenderer = (function () {
    function TimeMarkRenderer() {
        this.paddingLeft = 3;
        this.paddingTop = 5;
    }
    TimeMarkRenderer.prototype.render = function (canvas, data, point, frameSize) {
        if (data && data instanceof Date) {
            var hh = data.getUTCHours();
            var mm = data.getUTCMinutes();
            var hhmm = ('0' + hh.toFixed(0)).slice(-2) + ':' + ('0' + mm.toFixed(0)).slice(-2);
            var text = data.getUTCFullYear() + "-" + (data.getUTCMonth() + 1) + "-" + data.getUTCDate() + " " + hhmm;
            var textWidth = canvas.measureText(text).width;
            canvas.fillStyle = '#3F3F3F';
            canvas.fillRect(point.x - textWidth / 2 - this.paddingLeft, point.y, textWidth + this.paddingLeft * 2, 18);
            canvas.font = '11px Arial';
            canvas.fillStyle = '#EAEAEA';
            canvas.setTextBaseLine(index_1.CanvasTextBaseLine.Top);
            canvas.fillText(text, point.x - textWidth / 2, point.y + this.paddingTop);
        }
    };
    return TimeMarkRenderer;
}());
exports.TimeMarkRenderer = TimeMarkRenderer;
},{"../canvas/index":19}],166:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var CandlestickChartRenderer_1 = require("./CandlestickChartRenderer");
exports.CandlestickChartRenderer = CandlestickChartRenderer_1.CandlestickChartRenderer;
var ChartRenderer_1 = require("./ChartRenderer");
exports.ChartRenderer = ChartRenderer_1.ChartRenderer;
var LineChartRenderer_1 = require("./LineChartRenderer");
exports.LineChartRenderer = LineChartRenderer_1.LineChartRenderer;
var LinestickChartRenderer_1 = require("./LinestickChartRenderer");
exports.LinestickChartRenderer = LinestickChartRenderer_1.LinestickChartRenderer;
var PriceAxisRenderer_1 = require("./PriceAxisRenderer");
exports.PriceAxisRenderer = PriceAxisRenderer_1.PriceAxisRenderer;
var RenderLocator_1 = require("./RenderLocator");
exports.RenderLocator = RenderLocator_1.RenderLocator;
var RenderUtils_1 = require("./RenderUtils");
exports.RenderUtils = RenderUtils_1.RenderUtils;
var TimeAxisRenderer_1 = require("./TimeAxisRenderer");
exports.TimeAxisRenderer = TimeAxisRenderer_1.TimeAxisRenderer;
},{"./CandlestickChartRenderer":147,"./ChartRenderer":149,"./LineChartRenderer":153,"./LinestickChartRenderer":155,"./PriceAxisRenderer":160,"./RenderLocator":161,"./RenderUtils":162,"./TimeAxisRenderer":164}],167:[function(require,module,exports){
/**
 * Typed events for TypeScript.
 */
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Event = (function () {
    function Event() {
        this.handlers = [];
    }
    Event.prototype.on = function (handler) {
        this.handlers.push(handler);
    };
    Event.prototype.off = function (handler) {
        this.handlers = this.handlers.filter(function (h) { return h !== handler; });
    };
    Event.prototype.trigger = function (data) {
        this.handlers
            .slice(0)
            .forEach(function (h) { return h(data); });
    };
    return Event;
}());
exports.Event = Event;
/**
 * Throttles event.
 * @param callback Event handler
 * @param limit Limit in milliseconds
 */
function throttle(callback, limit) {
    var wait = false;
    return function (e) {
        if (!wait) {
            callback(e);
            wait = true;
            setTimeout(function () { wait = false; }, limit);
        }
    };
}
exports.throttle = throttle;
},{}],168:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * FixedSizeArray class.
 */
var FixedSizeArray = (function () {
    /**
     * Creates instance of array
     * @param size Maximum amount of elements.
     */
    function FixedSizeArray(size, comparer) {
        this._length = 0;
        this.container = [];
        this.size = size;
        this.comparer = comparer;
    }
    Object.defineProperty(FixedSizeArray.prototype, "length", {
        /**
         * Current amount of items in the array.
         */
        get: function () {
            return this._length;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Indexer
     */
    FixedSizeArray.prototype.getItem = function (index) {
        if (index < 0 || index >= this._length) {
            throw new Error("Index is out of range. index=" + index + ", length=" + this._length);
        }
        return this.container[index];
    };
    FixedSizeArray.prototype.last = function () {
        if (this._length > 0) {
            return this.container[this._length - 1];
        }
        else {
            throw new Error('Array is empty.');
        }
    };
    FixedSizeArray.prototype.lastOrDefault = function () {
        if (this._length > 0) {
            return this.container[this._length - 1];
        }
        else {
            return undefined;
        }
    };
    /**
     * Appends specified element to the end of array.
     * If amount of elements exceeds allowed amount, first element is removed.
     */
    FixedSizeArray.prototype.push = function (element) {
        if (this._length < this.size) {
            this.container[this._length] = element;
            this._length += 1;
        }
        else {
            // shift left
            for (var i = 1; i < this._length; i += 1) {
                this.container[i - 1] = this.container[i];
            }
            this.container[this._length - 1] = element;
        }
    };
    FixedSizeArray.prototype.pushRange = function (elements) {
        var _this = this;
        if (!elements) {
            throw new Error('Argument is null');
        }
        elements.forEach(function (element) {
            _this.push(element);
        });
    };
    /**
     * Determines maximum value.
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.max = function (accessor, take) {
        var max = undefined;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                max = Math.max(value, max !== undefined ? max : Number.NEGATIVE_INFINITY);
            }
        });
        return max;
    };
    /**
     * Determines minimum value.
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.min = function (accessor, take) {
        var min = undefined;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                min = Math.min(value, min !== undefined ? min : Number.POSITIVE_INFINITY);
            }
        });
        return min;
    };
    /**
     * Returns index of max element or -1
     * @param accessor
     */
    FixedSizeArray.prototype.maxIndex = function (accessor) {
        var max = undefined;
        var maxIndex = -1;
        this.container.forEach(function (el, index) {
            var value = accessor(el);
            if (value !== undefined && (max === undefined || (max !== undefined && value > max))) {
                max = value;
                maxIndex = index;
            }
        });
        return maxIndex;
    };
    /**
     * Returns index of min element or -1
     * @param accessor
     */
    FixedSizeArray.prototype.minIndex = function (accessor) {
        var min = undefined;
        var minIndex = -1;
        this.container.forEach(function (el, index) {
            var value = accessor(el);
            if (value !== undefined && (min === undefined || (min !== undefined && value < min))) {
                min = value;
                minIndex = index;
            }
        });
        return minIndex;
    };
    /**
     * Calculates sum of items
     * @param accessor
     * @param take If specified, checks only last @take elements
     */
    FixedSizeArray.prototype.sum = function (accessor, take) {
        var sum = 0;
        var L = this.container.length;
        this.container.forEach(function (el, index) {
            if (take !== undefined && index < (L - take)) {
                return; // ignore element if take is specified and it is out of range
            }
            var value = accessor(el);
            if (value !== undefined) {
                sum += value;
            }
        });
        return sum;
    };
    return FixedSizeArray;
}());
exports.FixedSizeArray = FixedSizeArray;
},{}],169:[function(require,module,exports){
/**
* Commonly used interfaces, that can be used in other projects.
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Point = (function () {
    function Point(x, y) {
        this.x = x ? x : 0;
        this.y = y ? y : 0;
    }
    /**
     * Returns new point which is a sum of this and other point. Original point is not changed.
     * @param p
     */
    Point.prototype.add = function (p) {
        return new Point(this.x + p.x, this.y + p.y);
    };
    /**
     * Returns new point which is difference b/w this and other point. Original point is not changed.
     * @param p
     */
    Point.prototype.sub = function (p) {
        return new Point(this.x - p.x, this.y - p.y);
    };
    return Point;
}());
exports.Point = Point;
var PartialPoint = (function () {
    function PartialPoint() {
    }
    return PartialPoint;
}());
exports.PartialPoint = PartialPoint;
var Size = (function () {
    function Size(w, h) {
        this.width = 0;
        this.height = 0;
        this.width = w ? w : 0;
        this.height = h ? h : 0;
    }
    return Size;
}());
exports.Size = Size;
var IdValue = (function () {
    function IdValue(id, value) {
        this.id = id;
        this.value = value;
    }
    return IdValue;
}());
exports.IdValue = IdValue;
},{}],170:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var Event_1 = require("./Event");
exports.Event = Event_1.Event;
exports.throttle = Event_1.throttle;
var FixedSizeArray_1 = require("./FixedSizeArray");
exports.FixedSizeArray = FixedSizeArray_1.FixedSizeArray;
var Interfaces_1 = require("./Interfaces");
exports.IdValue = Interfaces_1.IdValue;
exports.PartialPoint = Interfaces_1.PartialPoint;
exports.Point = Interfaces_1.Point;
exports.Size = Interfaces_1.Size;
},{"./Event":167,"./FixedSizeArray":168,"./Interfaces":169}],171:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utility methods for working with arrays.
 */
var ArrayUtils = (function () {
    function ArrayUtils() {
    }
    /**
     * Merges update array into target array using specified compararer.
     * Equal elements from update override elements from target.
     * Method expects target and update arrays to be in sorted order.
     *
     * @returns New array containing elements from target and update arrays.
     */
    ArrayUtils.MERGE = function (target, update, comparer, updateFunction) {
        var merged = new Array(target.length + update.length); // preallocate memory
        var ia = 0;
        var ib = 0;
        var actualSize = 0;
        while (ia < target.length || ib < update.length) {
            if (ia < target.length && ib < update.length) {
                // compare dates
                if (comparer(target[ia], update[ib]) < 0) {
                    merged[actualSize] = target[ia];
                    ia += 1;
                }
                else if (comparer(target[ia], update[ib]) > 0) {
                    merged[actualSize] = update[ib];
                    ib += 1;
                }
                else {
                    // Take newest value
                    if (updateFunction) {
                        merged[actualSize] = updateFunction(target[ia], update[ib]);
                    }
                    else {
                        merged[actualSize] = update[ib];
                    }
                    ia += 1;
                    ib += 1;
                }
            }
            else if (ia < target.length) {
                // only A left
                merged[actualSize] = target[ia];
                ia += 1;
            }
            else if (ib < update.length) {
                // only B left
                merged[actualSize] = update[ib];
                ib += 1;
            }
            actualSize += 1;
        }
        merged.length = actualSize;
        return merged;
    };
    /**
     * Shifts element with specified index by the specified value.
     * If "index + shift" is out of array range, than element is just shifted to the start or the end of array.
     * The size of array is not changed.
     * @param array Containing array.
     * @param index Index of the element to shift.
     * @param shift Positive or negative value that specifies shift value.
     */
    ArrayUtils.SHIFT = function (array, index, shift) {
        if (array && array.length && shift !== 0) {
            if (index < 0 || index >= array.length) {
                throw new Error('Specified index is out of range.');
            }
            var step = shift > 0 ? 1 : -1;
            var fin = Math.min(Math.max(index + shift, 0), array.length - 1);
            for (var i = index; i !== fin; i += step) {
                var t = array[i];
                array[i] = array[i + step];
                array[i + step] = t;
            }
        }
    };
    return ArrayUtils;
}());
exports.ArrayUtils = ArrayUtils;
},{}],172:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Utility operations for dates.
 */
var index_1 = require("../core/index");
var TimeSpan_1 = require("./TimeSpan");
var DateUtils = (function () {
    function DateUtils() {
    }
    DateUtils.utcNow = function () {
        return new Date();
    };
    DateUtils.getUtcDate = function (year, month, day, hour, minute, second, ms) {
        return new Date(Date.UTC(year, month, day || 1, hour || 0, minute || 0, second || 0, ms || 0));
    };
    DateUtils.format14 = function (date) {
        return ('00000000000000' + date.getTime()).slice(-14);
    };
    DateUtils.formatDateISO = function (date) {
        var year = date.getUTCFullYear();
        var month = ('00' + (date.getUTCMonth() + 1)).slice(-2);
        var day = ('00' + date.getUTCDate()).slice(-2);
        return year + "-" + month + "-" + day;
    };
    DateUtils.parseISODate = function (text) {
        if (text) {
            return new Date(text);
        }
        else {
            throw new Error('Argument "text" is undefined');
        }
    };
    /**
     * Returns count of intervals b/w two dates. Both dates should be UTC.
     * @param date1
     * @param date2
     * @param interval
     */
    DateUtils.diffIntervals = function (date1, date2, interval) {
        var diff = Math.abs(date1.getTime() - date2.getTime());
        switch (interval) {
            case index_1.TimeInterval.sec: return Math.floor(diff / 1000);
            case index_1.TimeInterval.min: return Math.floor(diff / (1000 * 60));
            case index_1.TimeInterval.min5: return Math.floor(diff / (1000 * 60 * 5));
            case index_1.TimeInterval.min15: return Math.floor(diff / (1000 * 60 * 15));
            case index_1.TimeInterval.min30: return Math.floor(diff / (1000 * 60 * 30));
            case index_1.TimeInterval.hour: return Math.floor(diff / (1000 * 60 * 60));
            case index_1.TimeInterval.hour4: return Math.floor(diff / (1000 * 60 * 60 * 4));
            case index_1.TimeInterval.hour6: return Math.floor(diff / (1000 * 60 * 60 * 6));
            case index_1.TimeInterval.hour12: return Math.floor(diff / (1000 * 60 * 60 * 12));
            case index_1.TimeInterval.day: return Math.floor(diff / (1000 * 60 * 60 * 24));
            case index_1.TimeInterval.day3: return Math.floor(diff / (1000 * 60 * 60 * 24 * 3));
            case index_1.TimeInterval.week: return Math.floor(diff / (1000 * 60 * 60 * 24 * 7));
            case index_1.TimeInterval.day10: return Math.floor(diff / (1000 * 60 * 60 * 24 * 10));
            case index_1.TimeInterval.month:
                var dateMin = date1 < date2 ? date1 : date2;
                var dateMax = date1 < date2 ? date2 : date1;
                var months = dateMax.getMonth() - dateMin.getMonth()
                    + (12 * (dateMax.getFullYear() - dateMin.getFullYear()));
                // Check that adding diff will not exceed greater date
                var computed = DateUtils.addInterval(dateMin, interval, months);
                return (computed <= dateMax) ? months : Math.max(months - 1, 0);
            default:
                throw new Error("Unexpected interval " + interval);
        }
    };
    DateUtils.addInterval = function (date, interval, times) {
        if (times === void 0) { times = 1; }
        var newDate = new Date(date.getTime());
        switch (interval) {
            // TODO: vanilla JS can incorrectly handle "set*" functions. Check with "daylight saving time".
            case index_1.TimeInterval.sec:
                newDate.setSeconds(date.getSeconds() + times * 1);
                break;
            case index_1.TimeInterval.min:
                newDate.setMinutes(date.getMinutes() + times * 1);
                break;
            case index_1.TimeInterval.min5:
                newDate.setMinutes(date.getMinutes() + times * 5);
                break;
            case index_1.TimeInterval.min15:
                newDate.setMinutes(date.getMinutes() + times * 15);
                break;
            case index_1.TimeInterval.min30:
                newDate.setMinutes(date.getMinutes() + times * 30);
                break;
            case index_1.TimeInterval.hour:
                newDate.setHours(date.getHours() + times * 1);
                break;
            case index_1.TimeInterval.hour4:
                newDate.setHours(date.getHours() + times * 4);
                break;
            case index_1.TimeInterval.hour6:
                newDate.setHours(date.getHours() + times * 6);
                break;
            case index_1.TimeInterval.hour12:
                newDate.setHours(date.getHours() + times * 12);
                break;
            case index_1.TimeInterval.day:
                newDate.setDate(date.getDate() + times * 1);
                break;
            case index_1.TimeInterval.day3:
                newDate.setDate(date.getDate() + times * 3);
                break;
            case index_1.TimeInterval.week:
                newDate.setDate(date.getDate() + times * 7);
                break;
            case index_1.TimeInterval.day10:
                newDate.setDate(date.getDate() + times * 10);
                break;
            case index_1.TimeInterval.month:
                newDate.setMonth(date.getMonth() + times * 1);
                break;
            default:
                throw new Error("Unexpected interval " + interval);
        }
        return newDate;
    };
    DateUtils.substractInterval = function (date, interval) {
        var newDate = new Date(date.getTime());
        switch (interval) {
            // TODO: vanilla JS can incorrectly handle "set*" functions. Check with "daylight saving time".
            case index_1.TimeInterval.sec:
                newDate.setSeconds(date.getSeconds() - 1);
                break;
            case index_1.TimeInterval.min:
                newDate.setMinutes(date.getMinutes() - 1);
                break;
            case index_1.TimeInterval.min5:
                newDate.setMinutes(date.getMinutes() - 5);
                break;
            case index_1.TimeInterval.min15:
                newDate.setMinutes(date.getMinutes() - 15);
                break;
            case index_1.TimeInterval.min30:
                newDate.setMinutes(date.getMinutes() - 30);
                break;
            case index_1.TimeInterval.hour:
                newDate.setHours(date.getHours() - 1);
                break;
            case index_1.TimeInterval.hour4:
                newDate.setHours(date.getHours() - 4);
                break;
            case index_1.TimeInterval.hour6:
                newDate.setHours(date.getHours() - 6);
                break;
            case index_1.TimeInterval.hour12:
                newDate.setHours(date.getHours() - 12);
                break;
            case index_1.TimeInterval.day:
                newDate.setDate(date.getDate() - 1);
                break;
            case index_1.TimeInterval.day3:
                newDate.setDate(date.getDate() - 3);
                break;
            case index_1.TimeInterval.week:
                newDate.setDate(date.getDate() - 7);
                break;
            case index_1.TimeInterval.day10:
                newDate.setDate(date.getDate() - 10);
                break;
            case index_1.TimeInterval.month:
                newDate.setMonth(date.getMonth() - 1);
                break;
            default:
                throw new Error("Unexpected interval " + interval);
        }
        return newDate;
    };
    /**
     * Truncates specified date to the specified interval. Date is expected to be UTC.
     * @param date
     * @param interval
     */
    DateUtils.truncateToInterval = function (date, interval) {
        switch (interval) {
            case index_1.TimeInterval.sec: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_SECONDS(1));
            case index_1.TimeInterval.min: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(1));
            case index_1.TimeInterval.min5: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(5));
            case index_1.TimeInterval.min15: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(15));
            case index_1.TimeInterval.min30: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_MINUTES(30));
            case index_1.TimeInterval.hour: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(1));
            case index_1.TimeInterval.hour4: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(4));
            case index_1.TimeInterval.hour6: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(6));
            case index_1.TimeInterval.hour12: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_HOURS(12));
            case index_1.TimeInterval.day: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(1));
            case index_1.TimeInterval.day3: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(3));
            case index_1.TimeInterval.week:
                var day = date.getDay();
                var truncated = DateUtils.getUtcDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());
                truncated.setDate(truncated.getDate() - (day !== 0 ? day - 1 : 6));
                return truncated;
            case index_1.TimeInterval.day10: return DateUtils.truncateToTimeSpan(date, TimeSpan_1.TimeSpan.FROM_DAYS(10));
            case index_1.TimeInterval.month:
                return DateUtils.getUtcDate(date.getUTCFullYear(), date.getUTCMonth(), 1);
            default:
                throw new Error("Unexpected interval " + interval);
        }
    };
    DateUtils.truncateToTimeSpan = function (date, timeSpan) {
        if (timeSpan.totalMilliseconds === 0) {
            return date;
        }
        var dateMilliseconds = date.getTime();
        return new Date(dateMilliseconds - (dateMilliseconds % timeSpan.totalMilliseconds));
    };
    DateUtils.isTruncated = function (date, timeSpan) {
        if (timeSpan.totalMilliseconds === 0) {
            return true;
        }
        var dateMilliseconds = date.getTime();
        return ((dateMilliseconds % timeSpan.totalMilliseconds) === 0);
    };
    DateUtils.isRound = function (date, interval) {
        var truncated = DateUtils.truncateToInterval(date, interval);
        return date.getTime() === truncated.getTime();
    };
    return DateUtils;
}());
exports.DateUtils = DateUtils;
},{"../core/index":56,"./TimeSpan":177}],173:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MINDIST = 0.001;
var DrawUtils = (function () {
    function DrawUtils() {
    }
    /**
     * Checks wether the point lies on the specified line.
     * @param p Point to check.
     * @param p1 Start point of line.
     * @param p2 End point of line.
     */
    DrawUtils.IS_POINT_ON_LINE = function (p, pa, pb, precision) {
        var minx = Math.min(pa.x, pb.x);
        var maxx = Math.max(pa.x, pb.x);
        var miny = Math.min(pa.y, pb.y);
        var maxy = Math.max(pa.y, pb.y);
        // Check hitting the rectangle area around the line
        if (p.x < minx - precision || p.x > maxx + precision || p.y < miny - precision || p.y > maxy + precision) {
            return false;
        }
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        if (Math.abs(distx) > MINDIST && Math.abs(disty) > MINDIST) {
            // Compute distance from a point to a line
            var dist = Math.abs(disty * p.x - distx * p.y + pb.x * pa.y - pb.y * pa.x)
                / Math.sqrt(disty * disty + distx * distx);
            return dist < precision;
        }
        return true;
    };
    DrawUtils.IS_POINT_ON_QUADCURVE = function (p, pa, pb, pc, precision) {
        var x = p.x;
        var y = p.y;
        var x1 = pa.x;
        var y1 = pa.y;
        var x2 = pb.x;
        var y2 = pb.y;
        var x3 = pc.x;
        var y3 = pc.y;
        var a = (x1 - 2 * x2 + x3);
        var b = 2 * x2 - 2 * x1;
        // Find possible "t" values
        var values = DrawUtils.SOLVE_QUAD(a, b, x1 - x).sort();
        if (values.length === 0) {
            return false;
        }
        // Compute correspondent "y" values with "t" values
        var testedY = [];
        values.forEach(function (t) {
            testedY.push((1 - t) * (1 - t) * y1 + 2 * (1 - t) * t * y2 + t * t * y3);
        });
        // Test point "y" value 
        return testedY.some(function (yt) {
            return (y >= yt - precision && y <= yt + precision);
        });
    };
    /**
     * Solves quadratic equation.
     * @param a
     * @param b
     * @param c
     */
    DrawUtils.SOLVE_QUAD = function (a, b, c) {
        if (a === 0) {
            return b !== 0 ? [-c / b] : [];
        }
        var d = b * b - 4 * a * c;
        if (d < 0) {
            return [];
        }
        else {
            return d === 0
                ? ([-b / (2 * a)])
                : [(-b + Math.sqrt(d)) / (2 * a),
                    (-b - Math.sqrt(d)) / (2 * a)];
        }
    };
    /**
     * Computes distance from a point to the specified line
     * @param p
     * @param pa
     * @param pb
     */
    DrawUtils.DIST_TO_LINE = function (p, pa, pb) {
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        return (distx !== 0 || disty !== 0)
            ? Math.abs(disty * p.x - distx * p.y + pb.x * pa.y - pb.y * pa.x)
                / Math.sqrt(disty * disty + distx * distx)
            : 0;
    };
    DrawUtils.DIST = function (pa, pb) {
        var distx = pb.x - pa.x;
        var disty = pb.y - pa.y;
        return (distx !== 0 || disty !== 0)
            ? Math.sqrt(Math.pow(pb.x - pa.x, 2) + Math.pow(pb.y - pa.y, 2))
            : 0;
    };
    DrawUtils.MID = function (pa, pb) {
        return { x: (pa.x + pb.x) / 2, y: (pa.y + pb.y) / 2 };
    };
    /**
     * Returns angle of the specified line in radians
     * @param pa
     * @param pb
     */
    DrawUtils.ANGLE = function (pa, pb) {
        // angle in radians
        return Math.atan2(pb.y - pa.y, pb.x - pa.x); // in degrees: 
        // // angle in degrees
        // var angleDeg = Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;
    };
    /**
     * Determines if point A is near point B (i.e. distance between points is less then precision).
     * @param pa
     * @param pb
     * @param precision
     */
    DrawUtils.IS_POINT_OVER = function (pa, pb, precision) {
        return Math.abs(pa.x - pb.x) < precision
            && Math.abs(pa.y - pb.y) < precision;
    };
    /**
     * Checks wether the point lies on the specified rectangle.
     */
    DrawUtils.IS_POINT_OVER_RECT = function (p, rect, precision) {
        return (p.x >= rect.x - precision && p.x <= rect.x + rect.w + precision
            && p.y >= rect.y - precision && p.y <= rect.y + rect.h + precision);
    };
    /**
     * Linear function by two points. Returns Y value for the specifed X value.
     * @param pa
     * @param pb
     * @param x
     */
    DrawUtils.LINEAR = function (pa, pb, x) {
        var distx = pb.x - pa.x;
        return (Math.abs(distx) > MINDIST)
            ? ((pb.x * pa.y - pa.x * pb.y) - (pa.y - pb.y) * x) / distx
            : undefined; // for vertical line
    };
    DrawUtils.EXTEND = function (pa, pb, frame) {
        var x1 = pa.x;
        var y1 = pa.y;
        var x2 = pb.x;
        var y2 = pb.y;
        var a = y2 - y1;
        var b = x1 - x2;
        var c = x2 * y1 - x1 * y2;
        if (Math.abs(a) > Math.abs(b)) {
            // extending Y
            var y = void 0;
            if (y1 > y2) {
                // to lower values
                y = frame.y;
            }
            else {
                // to greater values
                y = frame.y + frame.h;
            }
            var x = (a !== 0) ? -(b * y + c) / a : y1;
            return { x: x, y: y };
        }
        else {
            // extending X
            var x = void 0;
            if (x1 > x2) {
                // to lower values
                x = frame.x;
            }
            else {
                // to greater values
                x = frame.x + frame.w;
            }
            var y = (b !== 0) ? -(a * x + c) / b : x1;
            return { x: x, y: y };
        }
    };
    return DrawUtils;
}());
exports.DrawUtils = DrawUtils;
},{}],174:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * JSON utils
 */
var reISO = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;
var reMsAjax = /^\/Date\((d|-|.*)\)[\/|\\]$/;
var JsonUtils = (function () {
    function JsonUtils() {
    }
    /**
     * Parses date from string to Date object.
     * Used with JSON parser.
     * @param key Property name.
     * @param value String value to parse.
     */
    JsonUtils.DATEPARSER = function (key, value) {
        if (typeof value === 'string') {
            var a = reISO.exec(value);
            if (a) {
                return new Date(value);
            }
            a = reMsAjax.exec(value);
            if (a) {
                var b = a[1].split(/[-+,.]/);
                return new Date(b[0] ? +b[0] : 0 - +b[1]);
            }
        }
        return value;
    };
    ;
    return JsonUtils;
}());
exports.JsonUtils = JsonUtils;
},{}],175:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * NumberUtils class.
 *
 * @class Utilities for numbers.
 */
var NumberUtils = (function () {
    function NumberUtils() {
    }
    /**
    * Returns a number rounded to fractionDigits after point.
    *
    * @param n number to round
    * @param fractionDigits how many digits after point.
    */
    NumberUtils.roundTo = function (n, fractionDigits) {
        if (fractionDigits === void 0) { fractionDigits = 0; }
        if (typeof n === 'number' && typeof fractionDigits === 'number') {
            var num = (n + 'e+' + fractionDigits);
            return +(Math.round(num) + 'e-' + fractionDigits);
        }
        return NaN;
    };
    return NumberUtils;
}());
exports.NumberUtils = NumberUtils;
},{}],176:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var StringUtils = (function () {
    function StringUtils() {
    }
    /**
     * Compares strings before specified character.
     * @param lhs
     * @param rhs
     * @param character
     */
    StringUtils.compare = function (lhs, rhs, character) {
        var i1 = lhs.indexOf(character);
        var i2 = rhs.indexOf(character);
        return ((i1 !== -1) ? lhs.substring(0, i1) : lhs)
            === ((i2 !== -1) ? rhs.substring(0, i2) : rhs);
    };
    return StringUtils;
}());
exports.StringUtils = StringUtils;
},{}],177:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * TimeSpan class.
 */
var TimeSpan = (function () {
    function TimeSpan(value, unit) {
        switch (unit) {
            case TimeUnit.Seconds:
                this._totalMilliseconds = value * 1000;
                break;
            case TimeUnit.Minutes:
                this._totalMilliseconds = value * 60000;
                break;
            case TimeUnit.Hours:
                this._totalMilliseconds = value * 3600000;
                break;
            case TimeUnit.Days:
                this._totalMilliseconds = value * 86400000;
                break;
            default:
                throw new Error("Unexpected TimeUnit value " + unit);
        }
    }
    Object.defineProperty(TimeSpan.prototype, "totalMilliseconds", {
        get: function () {
            return this._totalMilliseconds;
        },
        enumerable: true,
        configurable: true
    });
    TimeSpan.FROM_DAYS = function (value) {
        return new TimeSpan(value, TimeUnit.Days);
    };
    TimeSpan.FROM_HOURS = function (value) {
        return new TimeSpan(value, TimeUnit.Hours);
    };
    TimeSpan.FROM_MINUTES = function (value) {
        return new TimeSpan(value, TimeUnit.Minutes);
    };
    TimeSpan.FROM_SECONDS = function (value) {
        return new TimeSpan(value, TimeUnit.Seconds);
    };
    TimeSpan.COMPARE = function (l, r) {
        return l._totalMilliseconds - r._totalMilliseconds;
    };
    return TimeSpan;
}());
exports.TimeSpan = TimeSpan;
var TimeUnit;
(function (TimeUnit) {
    TimeUnit[TimeUnit["Seconds"] = 0] = "Seconds";
    TimeUnit[TimeUnit["Minutes"] = 1] = "Minutes";
    TimeUnit[TimeUnit["Hours"] = 2] = "Hours";
    TimeUnit[TimeUnit["Days"] = 3] = "Days";
    TimeUnit[TimeUnit["Months"] = 4] = "Months";
})(TimeUnit || (TimeUnit = {}));
},{}],178:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Prevent ghost click function.
 * Source: https://gist.github.com/jtangelder/361052976f044200ea17
 */
var threshold = 25;
var timeout = 2500;
var GhostClickSuppressor = (function () {
    function GhostClickSuppressor(el) {
        var _this = this;
        this.coordinates = [];
        /**
         * prevent clicks if they're in a registered XY region
         * @param {MouseEvent} ev
         */
        this.preventGhostClick = function (ev) {
            for (var _i = 0, _a = _this.coordinates; _i < _a.length; _i++) {
                var item = _a[_i];
                var x = item[0];
                var y = item[1];
                // within the range, so prevent the click
                if (Math.abs(ev.clientX - x) < threshold && Math.abs(ev.clientY - y) < threshold) {
                    ev.stopPropagation();
                    ev.preventDefault();
                    break;
                }
            }
        };
        /**
         * if it is an final touchend, we want to register it's place
         * @param {TouchEvent} ev
         */
        this.registerCoordinates = function (ev) {
            // touchend is triggered on every releasing finger
            // changed touches always contain the removed touches on a touchend
            // the touches object might contain these also at some browsers (firefox os)
            // so touches - changedTouches will be 0 or lower, like -1, on the final touchend
            if (ev.touches.length - ev.changedTouches.length <= 0) {
                var touch = ev.changedTouches[0];
                _this.coordinates.push([touch.clientX, touch.clientY]);
                setTimeout(_this.popCoordinates, timeout);
            }
        };
        /**
         * reset the coordinates array
         */
        this.resetCoordinates = function () {
            //coordinates = [];
            _this.coordinates.length = 0;
        };
        /**
         * remove the first coordinates set from the array
         */
        this.popCoordinates = function () {
            _this.coordinates.splice(0, 1);
        };
        if ('ontouchstart' in window) {
            this.el = el;
            this.el.addEventListener('touchstart', this.resetCoordinates, true);
            this.el.addEventListener('touchend', this.registerCoordinates, true);
            this.el.addEventListener('click', this.preventGhostClick, true);
        }
    }
    GhostClickSuppressor.prototype.destroy = function () {
        if (this.el) {
            this.el.removeEventListener('touchstart', this.resetCoordinates, true);
            this.el.removeEventListener('touchend', this.registerCoordinates, true);
            this.el.removeEventListener('click', this.preventGhostClick, true);
            this.el = undefined;
        }
    };
    return GhostClickSuppressor;
}());
var TouchUtils = (function () {
    function TouchUtils() {
    }
    TouchUtils.PREVENT_GHOST_CLICK = function (el) {
        return new GhostClickSuppressor(el);
    };
    return TouchUtils;
}());
exports.TouchUtils = TouchUtils;
},{}],179:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var UidUtils = (function () {
    function UidUtils() {
    }
    UidUtils.NEWUID = function () {
        return (Math.random() * 100000).toString();
    };
    return UidUtils;
}());
exports.UidUtils = UidUtils;
},{}],180:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 *
 */
var ArrayUtils_1 = require("./ArrayUtils");
exports.ArrayUtils = ArrayUtils_1.ArrayUtils;
var DateUtils_1 = require("./DateUtils");
exports.DateUtils = DateUtils_1.DateUtils;
var DrawUtils_1 = require("./DrawUtils");
exports.DrawUtils = DrawUtils_1.DrawUtils;
var JsonUtils_1 = require("./JsonUtils");
exports.JsonUtils = JsonUtils_1.JsonUtils;
var NumberUtils_1 = require("./NumberUtils");
exports.NumberUtils = NumberUtils_1.NumberUtils;
var StringUtils_1 = require("./StringUtils");
exports.StringUtils = StringUtils_1.StringUtils;
var TimeSpan_1 = require("./TimeSpan");
exports.TimeSpan = TimeSpan_1.TimeSpan;
var TouchUtils_1 = require("./TouchUtils");
exports.TouchUtils = TouchUtils_1.TouchUtils;
var UidUtils_1 = require("./UidUtils");
exports.UidUtils = UidUtils_1.UidUtils;
},{"./ArrayUtils":171,"./DateUtils":172,"./DrawUtils":173,"./JsonUtils":174,"./NumberUtils":175,"./StringUtils":176,"./TimeSpan":177,"./TouchUtils":178,"./UidUtils":179}],181:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Main module.
 */
var component_1 = require("./lib/component");
exports.Chart = component_1.Chart;
exports.ChartBoard = component_1.ChartBoard;
exports.FigureComponent = component_1.FigureComponent;
var axes = require("./lib/axes");
exports.axes = axes;
var canvas = require("./lib/canvas");
exports.canvas = canvas;
var core = require("./lib/core");
exports.core = core;
var data = require("./lib/data");
exports.data = data;
var drawing = require("./lib/drawing");
exports.drawing = drawing;
var indicator = require("./lib/indicator");
exports.indicator = indicator;
var model = require("./lib/model");
exports.model = model;
var render = require("./lib/render");
exports.render = render;
var shared = require("./lib/shared");
exports.shared = shared;
var utils = require("./lib/utils");
exports.utils = utils;
function register(stateId, state) {
    component_1.StateFabric.REGISTER(stateId, state);
}
// Register built-in states
register('hover', component_1.HoverState);
register('movechart', component_1.MoveChartState);
// Register built-in drawing tools
register('curve', drawing.DrawCurveState);
register('line', drawing.DrawLineState);
register('hline', drawing.DrawHorizontalLineState);
register('vline', drawing.DrawVerticalLineState);
register('rect', drawing.DrawRectState);
register('triangle', drawing.DrawTriangleState);
register('path', drawing.DrawPathState);
register('pitchfork', drawing.DrawPitchforkState);
register('text', drawing.DrawTextState);
register('ellipse', drawing.DrawEllipseState);
register('trendchannel', drawing.DrawTrendChannelState);
register('daterange', drawing.DrawDateRangeState);
register('fibofan', drawing.DrawFiboFanState);
register('fibolevel', drawing.DrawFiboLevelState);
register('fiboprojection', drawing.DrawFiboProjectionState);
register('fibotimeprojection', drawing.DrawFiboTimeProjectionState);
register('gannfan', drawing.DrawGannFanState);
register('ohlcproj', drawing.DrawOhlcProjState);
// Register drawing figures
component_1.FigureFactory.instance.register(component_1.FigureType.curve, drawing.CurveFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.line, drawing.LineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.hline, drawing.HorizontalLineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.vline, drawing.VerticalLineFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.rect, drawing.RectFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.triangle, drawing.TriangleFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.path, drawing.PathFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.pitchfork, drawing.PitchforkFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.text, drawing.TextFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.ellipse, drawing.EllipseFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.trendchannel, drawing.TrendChannelFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.daterange, drawing.DateRangeFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibofan, drawing.FiboFanFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibolevel, drawing.FiboLevelFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fiboprojection, drawing.FiboProjectionFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.fibotimeprojection, drawing.FiboTimeProjectionFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.gannfan, drawing.GannFanFigureComponent);
component_1.FigureFactory.instance.register(component_1.FigureType.ohlcproj, drawing.OhlcProjFigureComponent);
var states = {
    register: register
};
exports.states = states;
// Register built-in indicators
indicator.register('alligator', indicator.AlligatorIndicator);
indicator.register('bollinger', indicator.BollingerIndicator);
indicator.register('SSTOC', indicator.SlowStochasticOscillator);
indicator.register('FSTOC', indicator.FastStochasticOscillator);
indicator.register('CCI', indicator.CCIOscillator);
indicator.register('COR', indicator.CORIndicator);
indicator.register('DEMA', indicator.DEMAIndicator);
indicator.register('DIX', indicator.DIXOscillator);
indicator.register('DMI', indicator.DMIIndicator);
indicator.register('DSSBR', indicator.DSSBROscillator);
indicator.register('EMA', indicator.EMAIndicator);
indicator.register('MACD', indicator.MACDIndicator);
indicator.register('MOM', indicator.MOMIndicator);
indicator.register('MD', indicator.MDIndicator);
indicator.register('ADX', indicator.ADXIndicator);
indicator.register('ATR', indicator.ATRIndicator);
indicator.register('ARO', indicator.AroonIndicator);
indicator.register('AOS', indicator.AroonOscillator);
indicator.register('HHLL', indicator.HHLLIndicator);
indicator.register('IKH', indicator.IKHIndicator);
indicator.register('OBOS', indicator.OBOSOscillator);
indicator.register('PCR', indicator.PCROscillator);
indicator.register('PP', indicator.PPIndicator);
indicator.register('PSAR', indicator.PSARIndicator);
indicator.register('RB', indicator.RBIndicator);
indicator.register('STDEV', indicator.STDEVIndicator);
indicator.register('TP', indicator.TPIndicator);
indicator.register('RATIO', indicator.RATIOIndicator);
indicator.register('RSI', indicator.RSIOscillator);
indicator.register('RSL', indicator.RSLOscillator);
indicator.register('ROC', indicator.ROCIndicator);
indicator.register('ST', indicator.STIndicator);
indicator.register('SMA', indicator.SMAIndicator);
indicator.register('SMMA', indicator.SMMAIndicator);
indicator.register('TEMA', indicator.TEMAIndicator);
indicator.register('TMA', indicator.TMAIndicator);
indicator.register('VOLA', indicator.VOLAIndicator);
indicator.register('WMA', indicator.WMAIndicator);
// Register built-in renderers
render.RenderLocator.Instance.register('alligator', indicator.AlligatorIndicatorRenderer);
render.RenderLocator.Instance.register('bollinger', indicator.BollingerIndicatorRenderer);
render.RenderLocator.Instance.register('SSTOC', indicator.StochasticOscillatorRenderer);
render.RenderLocator.Instance.register('FSTOC', indicator.StochasticOscillatorRenderer);
render.RenderLocator.Instance.register('CCI', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('COR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DEMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DMI', indicator.DMIIndicatorRenderer);
render.RenderLocator.Instance.register('EMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('SMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('SMMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TEMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('WMA', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ADX', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ATR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ARO', indicator.AroonIndicatorRenderer);
render.RenderLocator.Instance.register('AOS', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('HHLL', indicator.HHLLIndicatorRenderer);
render.RenderLocator.Instance.register('IKH', indicator.IKHIndicatorRenderer);
render.RenderLocator.Instance.register('PSAR', indicator.PSARIndicatorRenderer);
render.RenderLocator.Instance.register('RB', indicator.RBIndicatorRenderer);
render.RenderLocator.Instance.register('STDEV', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('TP', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RATIO', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RSI', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('RSL', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('MOM', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('ROC', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('OBOS', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DIX', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('DSSBR', indicator.DSSBROscillatorRenderer);
render.RenderLocator.Instance.register('PCR', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('PP', indicator.PPIndicatorRenderer);
render.RenderLocator.Instance.register('MD', render.LinestickChartRenderer);
render.RenderLocator.Instance.register('MACD', indicator.MACDIndicatorRenderer);
render.RenderLocator.Instance.register('ST', indicator.STIndicatorRenderer);
render.RenderLocator.Instance.register('VOLA', render.LinestickChartRenderer);
var lychart = {
    // types:
    Chart: component_1.Chart,
    ChartBoard: component_1.ChartBoard,
    FigureComponent: component_1.FigureComponent,
    // namespaces:
    axes: axes,
    canvas: canvas,
    core: core,
    data: data,
    drawing: drawing,
    indicator: indicator,
    model: model,
    render: render,
    states: states,
    shared: shared,
    utils: utils
};
window.lychart = lychart;
},{"./lib/axes":16,"./lib/canvas":19,"./lib/component":40,"./lib/core":56,"./lib/data":74,"./lib/drawing":96,"./lib/indicator":138,"./lib/model":146,"./lib/render":166,"./lib/shared":170,"./lib/utils":180}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvS25vY2tvdXRDb21wb25lbnRzLnRzIiwiYXBwL21haW4udHMiLCJhcHAvcGx1Z2lucy9Lbm9ja291dEV4dGVuc2lvbnMudHMiLCJhcHAvcGx1Z2lucy9qUXVlcnlFeHRlbnNpb25zLnRzIiwiYXBwL3NlcnZpY2VzL0RhdGFTZXJ2aWNlLnRzIiwiYXBwL3NlcnZpY2VzL1N0b3JhZ2UudHMiLCJhcHAvc2VydmljZXMvVXRpbHMudHMiLCJhcHAvdm0vQXBwVmlld01vZGVsLnRzIiwiYXBwL3ZtL0NoYXJ0Vmlld01vZGVsLnRzIiwiYXBwL3ZtL1BvcHVwVmlld01vZGVsLnRzIiwiYXBwL3ZtL1Byb3BzVmlld01vZGVsLnRzIiwiYXBwL3ZtL1RyZWVWaWV3TW9kZWwudHMiLCIuLi9zcmMvbGliL2F4ZXMvQXV0b0dyaWQudHMiLCIuLi9zcmMvbGliL2F4ZXMvTnVtYmVyQXhpcy50cyIsIi4uL3NyYy9saWIvYXhlcy9QcmljZUF4aXMudHMiLCIuLi9zcmMvbGliL2F4ZXMvaW5kZXgudHMiLCIuLi9zcmMvbGliL2NhbnZhcy9DYW52YXNXcmFwcGVyLnRzIiwiLi4vc3JjL2xpYi9jYW52YXMvRW51bXMudHMiLCIuLi9zcmMvbGliL2NhbnZhcy9pbmRleC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L0NoYXJ0LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvQ2hhcnRCb2FyZC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L0NoYXJ0U3RhY2sudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9Dcm9zc2hhaXIudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9GaWd1cmVDb21wb25lbnQudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9GaWd1cmVGYWN0b3J5LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvR3JpZC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L0ludGVyZmFjZXMudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9OdW1iZXJBeGlzQ29tcG9uZW50LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvTnVtYmVyTWFya2VyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvTnVtYmVyUmVnaW9uTWFya2VyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvUHJpY2VBeGlzQ29tcG9uZW50LnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvUHJpY2VNYXJrZXIudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9RdWlja3RpcC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1N0YXRlRmFicmljLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvU3RhdGVzLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvVGltZUF4aXMudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9UaW1lQXhpc0NvbXBvbmVudC50cyIsIi4uL3NyYy9saWIvY29tcG9uZW50L1RpbWVNYXJrZXIudHMiLCIuLi9zcmMvbGliL2NvbXBvbmVudC9UaW1lUmVnaW9uTWFya2VyLnRzIiwiLi4vc3JjL2xpYi9jb21wb25lbnQvaW5kZXgudHMiLCIuLi9zcmMvbGliL2NvbXB1dGUvSW5kaWNhdG9yRXh0ZW5zaW9uLnRzIiwiLi4vc3JjL2xpYi9jb21wdXRlL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9jb3JlL0Ftb3VudFJhbmdlLnRzIiwiLi4vc3JjL2xpYi9jb3JlL0NPYmplY3QudHMiLCIuLi9zcmMvbGliL2NvcmUvQ2hhcnRUeXBlLnRzIiwiLi4vc3JjL2xpYi9jb3JlL0NvbW1hbmQudHMiLCIuLi9zcmMvbGliL2NvcmUvQ29uc3RhbnRzLnRzIiwiLi4vc3JjL2xpYi9jb3JlL0VudW1zLnRzIiwiLi4vc3JjL2xpYi9jb3JlL0V2ZW50cy50cyIsIi4uL3NyYy9saWIvY29yZS9JbnRlcmZhY2VzLnRzIiwiLi4vc3JjL2xpYi9jb3JlL01vZGVsLnRzIiwiLi4vc3JjL2xpYi9jb3JlL1NldHRpbmdTZXQudHMiLCIuLi9zcmMvbGliL2NvcmUvU3RvcmFnZU1hbmFnZXIudHMiLCIuLi9zcmMvbGliL2NvcmUvVmlzdWFsQ29tcG9uZW50LnRzIiwiLi4vc3JjL2xpYi9jb3JlL1Zpc3VhbENvbnRleHQudHMiLCIuLi9zcmMvbGliL2NvcmUvaW5kZXgudHMiLCIuLi9zcmMvbGliL2RhdGEvQXJyYXlEYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0FycmF5RGF0YVN0b3JhZ2UudHMiLCIuLi9zcmMvbGliL2RhdGEvQXJyYXlJdGVyYXRvci50cyIsIi4uL3NyYy9saWIvZGF0YS9Db21wdXRlZERhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvRGF0YUNoYW5nZWRFdmVudC50cyIsIi4uL3NyYy9saWIvZGF0YS9EYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0RhdGFTb3VyY2VDb25maWcudHMiLCIuLi9zcmMvbGliL2RhdGEvRGF0YVNvdXJjZUZhY3RvcnkudHMiLCIuLi9zcmMvbGliL2RhdGEvRGF0YVNvdXJjZVJlZ2lzdGVyLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0RhdGFUeXBlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0hlaWtpbkFzaGlEYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0h0dHBEYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0h0dHBEYXRhU291cmNlQ29uZmlnLnRzIiwiLi4vc3JjL2xpYi9kYXRhL0luZGljYXRvckRhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvTGluZUJyZWFrRGF0YVNvdXJjZS50cyIsIi4uL3NyYy9saWIvZGF0YS9SYW5nZUJhckRhdGFTb3VyY2UudHMiLCIuLi9zcmMvbGliL2RhdGEvUmVua29EYXRhU291cmNlLnRzIiwiLi4vc3JjL2xpYi9kYXRhL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdDdXJ2ZVN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdEYXRlUmFuZ2VTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3RWxsaXBzZVN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdGaWJvRmFuU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd0ZpYm9MZXZlbFN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdGaWJvUHJvamVjdGlvblN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdGaWJvVGltZVByb2plY3Rpb25TdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3R2FubkZhblN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdIb3Jpem9udGFsTGluZVN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdMaW5lU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd09obGNQcm9qU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd1BhdGhTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3UGl0Y2hmb3JrU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRHJhd1JlY3RTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3VGV4dFN0YXRlLnRzIiwiLi4vc3JjL2xpYi9kcmF3aW5nL0RyYXdUcmVuZENoYW5uZWxTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3VHJpYW5nbGVTdGF0ZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9EcmF3VmVydGljYWxMaW5lU3RhdGUudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvRmlndXJlRWRpdFN0YXRlQmFzZS50cyIsIi4uL3NyYy9saWIvZHJhd2luZy9GaWd1cmVTdGF0ZUJhc2UudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvUG9pbnRGaWd1cmVDb21wb25lbnQudHMiLCIuLi9zcmMvbGliL2RyYXdpbmcvaW5kZXgudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BRFhJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BVFJJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9BbGxpZ2F0b3JJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9Bcm9vbkluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0JvbGxpbmdlckluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0NDSU9zY2lsbGF0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9DT1JJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9DYW5kbGVzdGlja0V4dC50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0RFTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9ESVhPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRE1JSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRFNTQlJPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvRU1BSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvSEhMTEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0lLSEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL0luZGljYXRvckZhYnJpYy50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01BQ0RJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9NREluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01PTUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL01vdmluZ0F2ZXJhZ2UudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9QQ1JPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvUFBJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9QU0FSSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvUkFUSU9JbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9SQkluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1JPQ0luZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1JTSU9zY2lsbGF0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9SU0xPc2NpbGxhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU01BSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU01NQUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1NUREVWSW5kaWNhdG9yLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvU1RJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9TaW1wbGVJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9TdG9jaGFzdGljT3NjaWxsYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1RFTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9UTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9UUEluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1V0aWxzLnRzIiwiLi4vc3JjL2xpYi9pbmRpY2F0b3IvVk9MQUluZGljYXRvci50cyIsIi4uL3NyYy9saWIvaW5kaWNhdG9yL1ZhbHVlQWNjZXNzb3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9XTUFJbmRpY2F0b3IudHMiLCIuLi9zcmMvbGliL2luZGljYXRvci9pbmRleC50cyIsIi4uL3NyYy9saWIvbGF5b3V0L0FyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9Cb2FyZEFyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9DaGFydEFyZWEudHMiLCIuLi9zcmMvbGliL2xheW91dC9TaXplQ2hhbmdlZEV2ZW50LnRzIiwiLi4vc3JjL2xpYi9sYXlvdXQvaW5kZXgudHMiLCIuLi9zcmMvbGliL21vZGVsL0NhbmRsZXN0aWNrLnRzIiwiLi4vc3JjL2xpYi9tb2RlbC9Qb2ludC50cyIsIi4uL3NyYy9saWIvbW9kZWwvaW5kZXgudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DYW5kbGVzdGlja1BvcHVwUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9DaGFydFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvQ3Jvc3NoYWlyUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9HcmlkUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9Ib2xsb3dzdGlja0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9MaW5lQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL0xpbmVQb3B1cFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvTGluZXN0aWNrQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL01vdW50YWluQ2hhcnRSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL051bWJlckF4aXNSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL051bWJlck1hcmtSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL09obGNDaGFydFJlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvUHJpY2VBeGlzUmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9SZW5kZXJMb2NhdG9yLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvUmVuZGVyVXRpbHMudHMiLCIuLi9zcmMvbGliL3JlbmRlci9SZW5rb0NoYXJ0UmVuZGVyZXIudHMiLCIuLi9zcmMvbGliL3JlbmRlci9UaW1lQXhpc1JlbmRlcmVyLnRzIiwiLi4vc3JjL2xpYi9yZW5kZXIvVGltZU1hcmtSZW5kZXJlci50cyIsIi4uL3NyYy9saWIvcmVuZGVyL2luZGV4LnRzIiwiLi4vc3JjL2xpYi9zaGFyZWQvRXZlbnQudHMiLCIuLi9zcmMvbGliL3NoYXJlZC9GaXhlZFNpemVBcnJheS50cyIsIi4uL3NyYy9saWIvc2hhcmVkL0ludGVyZmFjZXMudHMiLCIuLi9zcmMvbGliL3NoYXJlZC9pbmRleC50cyIsIi4uL3NyYy9saWIvdXRpbHMvQXJyYXlVdGlscy50cyIsIi4uL3NyYy9saWIvdXRpbHMvRGF0ZVV0aWxzLnRzIiwiLi4vc3JjL2xpYi91dGlscy9EcmF3VXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL0pzb25VdGlscy50cyIsIi4uL3NyYy9saWIvdXRpbHMvTnVtYmVyVXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL1N0cmluZ1V0aWxzLnRzIiwiLi4vc3JjL2xpYi91dGlscy9UaW1lU3Bhbi50cyIsIi4uL3NyYy9saWIvdXRpbHMvVG91Y2hVdGlscy50cyIsIi4uL3NyYy9saWIvdXRpbHMvVWlkVXRpbHMudHMiLCIuLi9zcmMvbGliL3V0aWxzL2luZGV4LnRzIiwiLi4vc3JjL2x5Y2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ01BO0lBQ0ksNEJBQVksS0FBbUI7UUFFM0IsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUU7WUFDdEMsU0FBUyxFQUFFO2dCQUNQLGVBQWUsRUFBRSxVQUFDLE1BQU0sRUFBRSxhQUFhO29CQUNuQyxtRUFBbUU7b0JBQ25FLHdEQUF3RDtvQkFDeEQsa0VBQWtFO29CQUNsRSxvRUFBb0U7b0JBQ3BFLGtFQUFrRTtvQkFDbEUsaUVBQWlFO29CQUNqRSwrREFBK0Q7b0JBRS9ELE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLGFBQWEsR0FBRyxhQUFhLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDO2dCQUN0RyxDQUFDO2FBQ0o7WUFDRCxRQUFRLEVBQUUsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUU7U0FDcEQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0FwQkEsQUFv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SUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTVCLElBQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxHQUFHLGlCQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDMUUsSUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsR0FBRyxpQkFBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBRTFFLElBQU0sS0FBSyxHQUFHLGlCQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDN0MsSUFBTSxLQUFLLEdBQUcsaUJBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUM3QyxJQUFNLEtBQUssR0FBRyxpQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRTdDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUVu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ZCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDL0IsSUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVsQixJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUUxRSxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxJQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUVuQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVU7WUFDN0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0QsQ0FBQztRQUNELE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUVoQixpQkFBTSxNQUFNLFlBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFTSxvREFBWSxHQUFuQjtRQUNJLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUM7SUFDdkMsQ0FBQztJQUVNLG1EQUFXLEdBQWxCO1FBQ0ksTUFBTSxDQUFDLElBQUksa0JBQVUsQ0FBQztZQUNsQixJQUFJLEVBQUUsTUFBTTtZQUNaLEtBQUssRUFBRSxJQUFJO1lBQ1gsUUFBUSxFQUFFO2dCQUNOO29CQUNJLElBQUksRUFBRSxPQUFPO29CQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7b0JBQ2xDLFdBQVcsRUFBRSxtQkFBVyxDQUFDLEtBQUs7b0JBQzlCLFdBQVcsRUFBRSxPQUFPO2lCQUN2QixFQUFFO29CQUNDLElBQUksRUFBRSxPQUFPO29CQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7b0JBQ2xDLFdBQVcsRUFBRSxtQkFBVyxDQUFDLE9BQU87b0JBQ2hDLFdBQVcsRUFBRSxPQUFPO2lCQUN2QjthQUNKO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLG1EQUFXLEdBQWxCLFVBQW1CLEtBQWlCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBUyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQVMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkYsQ0FBQztJQUNMLG9DQUFDO0FBQUQsQ0F4TEEsQUF3TEMsQ0F4TGtELHVCQUFlLEdBd0xqRTtBQXhMWSxzRUFBNkI7QUEwTDFDO0lBQTZDLDJDQUFlO0lBQ3hEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBSU8sV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUFKbEIsQ0FBQztJQU1NLDBDQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxVQUE0QjtRQUNoRyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsMENBQVEsR0FBbEIsVUFBbUIsS0FBYTtRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4RixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBTSxPQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QixJQUFJLE9BQWEsQ0FBQztZQUNsQixJQUFJLFFBQStDLENBQUM7WUFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQ25CLElBQUksZUFBTyxDQUNQO2dCQUNJLE9BQUssR0FBRyxPQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3pCLFFBQU0sR0FBa0MsT0FBSyxDQUFDLFNBQVMsQ0FBQyxrQkFBVSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZGLENBQUMsRUFDRDtnQkFDSSxFQUFFLENBQUMsQ0FBQyxPQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNSLE9BQUssQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7WUFDTCxDQUFDLENBQ0o7aUJBQ0EsT0FBTyxFQUFFLENBQUMsQ0FBQztZQUVoQixFQUFFLENBQUMsQ0FBQyxRQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBTSxDQUFDO2dCQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ3BELENBQUM7WUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QyxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7UUFDcEQsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1FBQ3BELENBQUM7UUFDRCxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRVMsOENBQVksR0FBdEIsVUFBdUIsS0FBYTtRQUNoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDN0MsTUFBTSxDQUFDO1FBQ1gsQ0FBQztRQUVELElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXhGLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25CLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQztZQUNwRCxDQUFDO1lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQztZQUNwRCxDQUFDO1FBQ0wsQ0FBQztJQUNMLENBQUM7SUFFTyxzQ0FBSSxHQUFaO1FBQ0ksSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7UUFDdkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDYixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxDQUFDO0lBQ0wsQ0FBQztJQUNMLDhCQUFDO0FBQUQsQ0FyRkEsQUFxRkMsQ0FyRjRDLGlDQUFlLEdBcUYzRDtBQXJGWSwwREFBdUI7QUF1RnBDO0lBQWlDLHNDQUFtQjtJQUVoRDtRQUFBLFlBQ0ksaUJBQU8sU0FDVjtRQVdPLGVBQVMsR0FBRyxLQUFLLENBQUM7O0lBWDFCLENBQUM7SUFFRCxzQkFBa0IsOEJBQVE7YUFBMUI7WUFDSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1lBQ3pDLENBQUM7WUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixDQUFDOzs7T0FBQTtJQU1NLHFDQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxvQkFBc0M7UUFDMUcsaUJBQU0sUUFBUSxZQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLG9CQUFvQixDQUFDLENBQUM7UUFFMUQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLG9CQUFvQixJQUFJLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsTUFBTSxHQUFrQyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUUvRSxhQUFhO1lBQ2IsSUFBTSxPQUFLLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsY0FBUSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sSUFBSSxLQUFLLENBQUMsK0NBQStDLENBQUMsQ0FBQztRQUNyRSxDQUFDO0lBQ0wsQ0FBQztJQUVTLGtDQUFLLEdBQWYsVUFBZ0IsRUFBVSxFQUFFLEVBQVU7UUFDbEMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDWCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUMxQixDQUFDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUMzRCxDQUFDO0lBRVMsaUNBQUksR0FBZCxVQUFlLEtBQWtCO1FBQzdCLHlCQUF5QjtRQUN6QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzlCLEtBQUssQ0FBQyxZQUFZLENBQ2QsSUFBSSxlQUFPLENBQ1A7Z0JBQ0ksZ0JBQWdCO1lBQ3BCLENBQUMsRUFDRCxJQUFJLENBQUMsSUFBSSxDQUNaLENBQUMsQ0FBQztRQUNYLENBQUM7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN4QixJQUFJLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUN2QixpQkFBTSxJQUFJLFlBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0F2REEsQUF1REMsQ0F2RGdDLHlDQUFtQixHQXVEbkQ7QUFFRDtJQWtCSSxzQkFDWSxTQUF5QjtRQUF6QixjQUFTLEdBQVQsU0FBUyxDQUFnQjtRQUVqQyx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBdEJELHNCQUFXLCtCQUFLO2FBQWhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLGlCQUFTLENBQUMsaUJBQWlCLENBQUM7UUFDOUUsQ0FBQzthQUVELFVBQWlCLEtBQWE7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQy9DLENBQUM7OztPQUpBO0lBTUQsc0JBQVcsK0JBQUs7YUFBaEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BELENBQUM7YUFFRCxVQUFpQixLQUFhO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvQyxDQUFDOzs7T0FKQTtJQWFMLG1CQUFDO0FBQUQsQ0F6QkEsQUF5QkMsSUFBQTs7Ozs7Ozs7Ozs7Ozs7QUNqWEQ7O0dBRUc7QUFDSCw0Q0FBME07QUFDMU0sdUNBQWlQO0FBS2pQLHdDQUEyQztBQUMzQyw2REFBNEQ7QUFDNUQscURBQW9EO0FBQ3BELCtEQUE4RDtBQUU5RDtJQUNJLGNBQVksR0FBUSxFQUFFLFVBQWtCO1FBQ3BDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztJQUdMLFdBQUM7QUFBRCxDQVBBLEFBT0MsSUFBQTtBQUVEO0lBQXVELHFEQUFlO0lBd0JsRSwyQ0FDWSxJQUFlLEVBQ3ZCLE1BQWMsRUFDZCxJQUFXLEVBQ1gsUUFBMkIsRUFDbkIsS0FBMEIsRUFDMUIsS0FBbUMsRUFDM0MsU0FBeUI7UUFQN0IsWUFTSSxrQkFBTSxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxTQWlCekQ7UUF6QlcsVUFBSSxHQUFKLElBQUksQ0FBVztRQUlmLFdBQUssR0FBTCxLQUFLLENBQXFCO1FBQzFCLFdBQUssR0FBTCxLQUFLLENBQThCO1FBeEJ2QyxXQUFLLEdBQVcsRUFBRSxDQUFDO1FBOENuQixrQkFBWSxHQUFHLFVBQUMsR0FBa0IsRUFBRSxJQUFXO1lBQ25ELEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxTQUFTLElBQUksS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JFLE1BQU0sQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ2hFLENBQUM7UUFDTCxDQUFDLENBQUE7UUFFTyxtQkFBYSxHQUFHLFVBQUMsR0FBa0IsRUFBRSxJQUFXO1lBQ3BELEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxTQUFTLElBQUksS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pFLE1BQU0sQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzVELENBQUM7UUFDTCxDQUFDLENBQUE7UUFtR08sb0JBQWMsR0FBRztZQUNyQixLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdkIsQ0FBQyxDQUFBO1FBaElHLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFekMsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLHdCQUFnQixDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSSxDQUFDLE1BQU0sRUFBRSxLQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3pILEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRS9CLEtBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSwwQkFBa0IsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEtBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM3SCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVoQyxLQUFJLENBQUMsRUFBRSxHQUFHLElBQUksMkNBQW9CLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakgsS0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLDJDQUFvQixDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWpILEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXZCLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzs7SUFDckIsQ0FBQztJQTFDRCxzQkFBVyxxREFBTTthQUFqQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN6QixDQUFDO2FBRUQsVUFBa0IsS0FBa0I7WUFDaEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7OztPQUpBO0lBTUQsc0JBQVcscURBQU07YUFBakI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDekIsQ0FBQzthQUVELFVBQWtCLEtBQWtCO1lBQ2hDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDOzs7T0FKQTtJQThDTSxpREFBSyxHQUFaLFVBQWEsQ0FBUztRQUNsQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztjQUNULGlCQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2NBQ3RDLEtBQUssQ0FBQztJQUNoQixDQUFDO0lBRU0sdURBQVcsR0FBbEIsVUFBbUIsUUFBaUI7UUFDaEMsaUJBQU0sV0FBVyxZQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7SUFDdkMsQ0FBQztJQUVNLGlEQUFLLEdBQVosVUFBYSxFQUFVLEVBQUUsRUFBVTtRQUMvQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFTSxrREFBTSxHQUFiLFVBQWMsT0FBc0IsRUFBRSxhQUE2QjtRQUUvRCx1QkFBdUI7UUFDdkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU5RixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFaEMsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7WUFDckMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRW5CLEdBQUcsQ0FBQyxDQUFlLFVBQVUsRUFBVixLQUFBLElBQUksQ0FBQyxLQUFLLEVBQVYsY0FBVSxFQUFWLElBQVU7Z0JBQXhCLElBQU0sSUFBSSxTQUFBO2dCQUNYLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDSixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzFCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxDQUFDO2FBQ0o7WUFDRCxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDcEIsQ0FBQztRQUVELGlCQUFNLE1BQU0sWUFBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLHdEQUFZLEdBQW5CO1FBQ0ksTUFBTSxDQUFDLDJCQUEyQixDQUFDLFFBQVEsQ0FBQztJQUNoRCxDQUFDO0lBRU0sdURBQVcsR0FBbEI7UUFDSSxNQUFNLENBQUMsSUFBSSxrQkFBVSxDQUFDO1lBQ2xCLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLElBQUk7WUFDWCxRQUFRLEVBQUU7Z0JBQ047b0JBQ0ksSUFBSSxFQUFFLE9BQU87b0JBQ2IsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtvQkFDbEMsV0FBVyxFQUFFLG1CQUFXLENBQUMsS0FBSztvQkFDOUIsV0FBVyxFQUFFLE9BQU87aUJBQ3ZCLEVBQUU7b0JBQ0MsSUFBSSxFQUFFLE9BQU87b0JBQ2IsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtvQkFDbEMsV0FBVyxFQUFFLG1CQUFXLENBQUMsT0FBTztvQkFDaEMsV0FBVyxFQUFFLE9BQU87aUJBQ3ZCO2FBQ0o7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sdURBQVcsR0FBbEIsVUFBbUIsS0FBaUI7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLGlCQUFpQixDQUFTLFlBQVksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBUyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVuRixXQUFXO1FBQ1gsd0JBQXdCO0lBQzVCLENBQUM7SUFFTyxxREFBUyxHQUFqQixVQUFrQixHQUFtQjtRQUFuQixvQkFBQSxFQUFBLFVBQW1CO1FBQ2pDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDNUMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUN6QyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzdDLENBQUM7SUFDTCxDQUFDO0lBTU8sdURBQVcsR0FBbkI7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsMENBQTBDO1FBRWpFLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRXpDLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDM0csSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUV6RyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDcEUsRUFBRSxDQUFDLENBQUMsT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM1QixJQUFNLFVBQVUsR0FBRztvQkFDZixDQUFDO29CQUNELGlCQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztvQkFDNUIsaUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO29CQUM1QixpQkFBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7b0JBQzVCLGlCQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztpQkFDL0IsQ0FBQztnQkFFRixHQUFHLENBQUMsQ0FBZSxVQUFVLEVBQVYseUJBQVUsRUFBVix3QkFBVSxFQUFWLElBQVU7b0JBQXhCLElBQU0sSUFBSSxtQkFBQTtvQkFDWCxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQztvQkFDekMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUM1QyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUN6QyxDQUFDO2lCQUNKO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUNMLHdDQUFDO0FBQUQsQ0FyTUEsQUFxTUMsQ0FyTXNELHVCQUFlLEdBcU1yRTtBQXJNWSw4RUFBaUM7QUF1TTlDO0lBQWlELCtDQUFlO0lBQzVEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBSU8sV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUFKbEIsQ0FBQztJQU1NLDhDQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxVQUE0QjtRQUNoRyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsOENBQVEsR0FBbEIsVUFBbUIsS0FBYTtRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4RixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBTSxPQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QixJQUFJLE9BQWEsQ0FBQztZQUNsQixJQUFJLFFBQW1ELENBQUM7WUFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQ25CLElBQUksZUFBTyxDQUNQO2dCQUNJLE9BQUssR0FBRyxPQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3pCLFFBQU0sR0FBc0MsT0FBSyxDQUFDLFNBQVMsQ0FBQyxrQkFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDL0YsQ0FBQyxFQUNEO2dCQUNJLEVBQUUsQ0FBQyxDQUFDLE9BQUssQ0FBQyxDQUFDLENBQUM7b0JBQ1IsT0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFLLENBQUMsQ0FBQztnQkFDekIsQ0FBQztZQUNMLENBQUMsQ0FDSjtpQkFDQSxPQUFPLEVBQUUsQ0FBQyxDQUFDO1lBRWhCLEVBQUUsQ0FBQyxDQUFDLFFBQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ1QsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFNLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7WUFDcEQsQ0FBQztZQUVELElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3hDLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQztRQUNwRCxDQUFDO1FBRUQsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVTLGtEQUFZLEdBQXRCLFVBQXVCLEtBQWE7UUFDaEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQzdDLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEYsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFeEYsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7WUFDcEQsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDO0lBRU8sMENBQUksR0FBWjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsQ0FBQztJQUNMLENBQUM7SUFDTCxrQ0FBQztBQUFELENBbkZBLEFBbUZDLENBbkZnRCxpQ0FBZSxHQW1GL0Q7QUFuRlksa0VBQTJCO0FBcUZ4QztJQUEwQywrQ0FBbUI7SUFFekQ7UUFBQSxZQUNJLGlCQUFPLFNBQ1Y7UUFXTyxlQUFTLEdBQUcsS0FBSyxDQUFDOztJQVgxQixDQUFDO0lBRUQsc0JBQWtCLHVDQUFRO2FBQTFCO1lBQ0ksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksMkJBQTJCLEVBQUUsQ0FBQztZQUNsRCxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQzs7O09BQUE7SUFNTSw4Q0FBUSxHQUFmLFVBQWdCLEtBQWtCLEVBQUUsS0FBYSxFQUFFLEtBQW1CLEVBQUUsb0JBQXNDO1FBQzFHLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBRTFELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxvQkFBb0IsSUFBSSxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLE1BQU0sR0FBc0Msb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFbkYsYUFBYTtZQUNiLElBQU0sT0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLGNBQVEsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLElBQUksS0FBSyxDQUFDLCtDQUErQyxDQUFDLENBQUM7UUFDckUsQ0FBQztJQUNMLENBQUM7SUFFUywyQ0FBSyxHQUFmLFVBQWdCLEVBQVUsRUFBRSxFQUFVO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1gsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDMUIsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDM0QsQ0FBQztJQUVTLDBDQUFJLEdBQWQsVUFBZSxLQUFrQjtRQUM3Qix5QkFBeUI7UUFDekIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM5QixLQUFLLENBQUMsWUFBWSxDQUNkLElBQUksZUFBTyxDQUNQO2dCQUNJLGdCQUFnQjtZQUNwQixDQUFDLEVBQ0QsSUFBSSxDQUFDLElBQUksQ0FDWixDQUFDLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsaUJBQU0sSUFBSSxZQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFDTCxrQ0FBQztBQUFELENBdkRBLEFBdURDLENBdkR5Qyx5Q0FBbUIsR0F1RDVEO0FBRUQ7SUFrQkksc0JBQ1ksU0FBeUI7UUFBekIsY0FBUyxHQUFULFNBQVMsQ0FBZ0I7UUFFakMsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQXRCRCxzQkFBVywrQkFBSzthQUFoQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxpQkFBUyxDQUFDLGlCQUFpQixDQUFDO1FBQzlFLENBQUM7YUFFRCxVQUFpQixLQUFhO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvQyxDQUFDOzs7T0FKQTtJQU1ELHNCQUFXLCtCQUFLO2FBQWhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRCxDQUFDO2FBRUQsVUFBaUIsS0FBYTtZQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0MsQ0FBQzs7O09BSkE7SUFhTCxtQkFBQztBQUFELENBekJBLEFBeUJDLElBQUE7Ozs7Ozs7Ozs7Ozs7O0FDcllEOztHQUVHO0FBQ0gsNENBQTBNO0FBQzFNLHVDQUFpUDtBQUlqUCx3Q0FBMkM7QUFDM0MsNkRBQTREO0FBQzVELHFEQUFvRDtBQUNwRCwrREFBOEQ7QUFFOUQ7SUFDSSxjQUNvQixJQUFZLEVBQ1osSUFBWTtRQURaLFNBQUksR0FBSixJQUFJLENBQVE7UUFDWixTQUFJLEdBQUosSUFBSSxDQUFRO0lBQzdCLENBQUM7SUFDUixXQUFDO0FBQUQsQ0FMQSxBQUtDLElBQUE7QUFFRDtJQUE0QywwQ0FBZTtJQW1DdkQsZ0NBQ1ksSUFBZSxFQUN2QixNQUFjLEVBQ2QsSUFBVyxFQUNYLFFBQTJCLEVBQ25CLEtBQTBCLEVBQzFCLEtBQW1DLEVBQzNDLFNBQXlCO1FBUDdCLFlBU0ksa0JBQU0sVUFBVSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLFNBZTdDO1FBdkJXLFVBQUksR0FBSixJQUFJLENBQVc7UUFJZixXQUFLLEdBQUwsS0FBSyxDQUFxQjtRQUMxQixXQUFLLEdBQUwsS0FBSyxDQUE4QjtRQWxDdkMsV0FBSyxHQUF3QjtZQUNqQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO1lBQ3RCLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDckIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQztZQUN4QixJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDO1lBQ3BCLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFDbEIsSUFBSSxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztZQUNsQixJQUFJLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO1lBQ2xCLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUM7WUFDbEIsSUFBSSxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztTQUNyQixDQUFDO1FBNENNLGtCQUFZLEdBQUcsVUFBQyxHQUFrQixFQUFFLElBQVc7WUFDbkQsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLFNBQVMsSUFBSSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDckUsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDaEUsQ0FBQztRQUNMLENBQUMsQ0FBQTtRQUVPLG1CQUFhLEdBQUcsVUFBQyxHQUFrQixFQUFFLElBQVc7WUFDcEQsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLFNBQVMsSUFBSSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDakUsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDNUQsQ0FBQztRQUNMLENBQUMsQ0FBQTtRQXpCRyxLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXpDLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSx3QkFBZ0IsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEtBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN6SCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUUvQixLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQWtCLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxLQUFJLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0gsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFaEMsS0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLDJDQUFvQixDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pILEtBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSwyQ0FBb0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVqSCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzs7SUFDM0IsQ0FBQztJQXhDRCxzQkFBVywwQ0FBTTthQUFqQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN6QixDQUFDO2FBRUQsVUFBa0IsS0FBa0I7WUFDaEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7OztPQUpBO0lBTUQsc0JBQVcsMENBQU07YUFBakI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDekIsQ0FBQzthQUVELFVBQWtCLEtBQWtCO1lBQ2hDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDOzs7T0FKQTtJQTRDTSxzQ0FBSyxHQUFaLFVBQWEsQ0FBUztRQUNsQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztjQUNULGlCQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2NBQ3RDLEtBQUssQ0FBQztJQUNoQixDQUFDO0lBRU0sNENBQVcsR0FBbEIsVUFBbUIsUUFBaUI7UUFDaEMsaUJBQU0sV0FBVyxZQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7SUFDdkMsQ0FBQztJQUVNLHNDQUFLLEdBQVosVUFBYSxFQUFVLEVBQUUsRUFBVTtRQUMvQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFTSx1Q0FBTSxHQUFiLFVBQWMsT0FBc0IsRUFBRSxhQUE2QjtRQUUvRCx1QkFBdUI7UUFDdkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU5RixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxJQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFNUIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7WUFFckMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBRW5CLEdBQUcsQ0FBQyxDQUFlLFVBQVUsRUFBVixLQUFBLElBQUksQ0FBQyxLQUFLLEVBQVYsY0FBVSxFQUFWLElBQVU7Z0JBQXhCLElBQU0sSUFBSSxTQUFBO2dCQUNYLElBQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDdEQsSUFBTSxHQUFHLEdBQUcsaUJBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMvQjtZQUVELE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNwQixDQUFDO1FBRUQsaUJBQU0sTUFBTSxZQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRU0sNkNBQVksR0FBbkI7UUFDSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDO0lBQ3JDLENBQUM7SUFFTSw0Q0FBVyxHQUFsQjtRQUNJLE1BQU0sQ0FBQyxJQUFJLGtCQUFVLENBQUM7WUFDbEIsSUFBSSxFQUFFLE1BQU07WUFDWixLQUFLLEVBQUUsSUFBSTtZQUNYLFFBQVEsRUFBRTtnQkFDTjtvQkFDSSxJQUFJLEVBQUUsT0FBTztvQkFDYixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO29CQUNsQyxXQUFXLEVBQUUsbUJBQVcsQ0FBQyxLQUFLO29CQUM5QixXQUFXLEVBQUUsT0FBTztpQkFDdkIsRUFBRTtvQkFDQyxJQUFJLEVBQUUsT0FBTztvQkFDYixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO29CQUNsQyxXQUFXLEVBQUUsbUJBQVcsQ0FBQyxPQUFPO29CQUNoQyxXQUFXLEVBQUUsT0FBTztpQkFDdkI7YUFDSjtTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSw0Q0FBVyxHQUFsQixVQUFtQixLQUFpQjtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQVMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkYsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLGlCQUFpQixDQUFTLFlBQVksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRW5GLFdBQVc7UUFDWCx3QkFBd0I7SUFDNUIsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FoS0EsQUFnS0MsQ0FoSzJDLHVCQUFlLEdBZ0sxRDtBQWhLWSx3REFBc0I7QUFrS25DO0lBQXNDLG9DQUFlO0lBQ2pEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBSU8sV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUFKbEIsQ0FBQztJQU1NLG1DQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxVQUE0QjtRQUNoRyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsbUNBQVEsR0FBbEIsVUFBbUIsS0FBYTtRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4RixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBTSxPQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QixJQUFJLE9BQWEsQ0FBQztZQUNsQixJQUFJLFFBQXdDLENBQUM7WUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQ25CLElBQUksZUFBTyxDQUNQO2dCQUNJLE9BQUssR0FBRyxPQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3pCLFFBQU0sR0FBMkIsT0FBSyxDQUFDLFNBQVMsQ0FBQyxrQkFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3pFLENBQUMsRUFDRDtnQkFDSSxFQUFFLENBQUMsQ0FBQyxPQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNSLE9BQUssQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7WUFDTCxDQUFDLENBQ0o7aUJBQ0EsT0FBTyxFQUFFLENBQUMsQ0FBQztZQUVoQixFQUFFLENBQUMsQ0FBQyxRQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBTSxDQUFDO2dCQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ3BELENBQUM7WUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QyxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7UUFDcEQsQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFUyx1Q0FBWSxHQUF0QixVQUF1QixLQUFhO1FBQ2hDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3QyxNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhGLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ3BELENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQUVPLCtCQUFJLEdBQVo7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUN2QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNiLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLENBQUM7SUFDTCxDQUFDO0lBQ0wsdUJBQUM7QUFBRCxDQW5GQSxBQW1GQyxDQW5GcUMsaUNBQWUsR0FtRnBEO0FBbkZZLDRDQUFnQjtBQXFGN0I7SUFBK0Isb0NBQW1CO0lBRTlDO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBV08sZUFBUyxHQUFHLEtBQUssQ0FBQzs7SUFYMUIsQ0FBQztJQUVELHNCQUFrQiw0QkFBUTthQUExQjtZQUNJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLGdCQUFnQixFQUFFLENBQUM7WUFDdkMsQ0FBQztZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLENBQUM7OztPQUFBO0lBTU0sbUNBQVEsR0FBZixVQUFnQixLQUFrQixFQUFFLEtBQWEsRUFBRSxLQUFtQixFQUFFLG9CQUFzQztRQUMxRyxpQkFBTSxRQUFRLFlBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUUxRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksb0JBQW9CLElBQUksb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxNQUFNLEdBQTJCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXhFLGFBQWE7WUFDYixJQUFNLE9BQUssR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxjQUFRLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBQ3JFLENBQUM7SUFDTCxDQUFDO0lBRVMsZ0NBQUssR0FBZixVQUFnQixFQUFVLEVBQUUsRUFBVTtRQUNsQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzFCLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQzNELENBQUM7SUFFUywrQkFBSSxHQUFkLFVBQWUsS0FBa0I7UUFDN0IseUJBQXlCO1FBQ3pCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDOUIsS0FBSyxDQUFDLFlBQVksQ0FDZCxJQUFJLGVBQU8sQ0FDUDtnQkFDSSxnQkFBZ0I7WUFDcEIsQ0FBQyxFQUNELElBQUksQ0FBQyxJQUFJLENBQ1osQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVELElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLGlCQUFNLElBQUksWUFBQyxLQUFLLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQ0wsdUJBQUM7QUFBRCxDQXZEQSxBQXVEQyxDQXZEOEIseUNBQW1CLEdBdURqRDtBQUVEO0lBa0JJLHNCQUNZLFNBQXlCO1FBQXpCLGNBQVMsR0FBVCxTQUFTLENBQWdCO1FBRWpDLHVCQUF1QjtRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUF0QkQsc0JBQVcsK0JBQUs7YUFBaEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksaUJBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUM5RSxDQUFDO2FBRUQsVUFBaUIsS0FBYTtZQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0MsQ0FBQzs7O09BSkE7SUFNRCxzQkFBVywrQkFBSzthQUFoQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsQ0FBQzthQUVELFVBQWlCLEtBQWE7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQy9DLENBQUM7OztPQUpBO0lBYUwsbUJBQUM7QUFBRCxDQXpCQSxBQXlCQyxJQUFBOztBQzdWRDs7R0FFRzs7Ozs7Ozs7Ozs7OztBQUVILDRDQUF1SjtBQUN2Six1Q0FBaU47QUFLak4sNkRBQTREO0FBQzVELHFEQUFvRDtBQUNwRCwrREFBOEQ7QUFFOUQ7SUFBbUQsaURBQWU7SUFZOUQsdUNBQ1ksSUFBZSxFQUN2QixNQUFjLEVBQ2QsSUFBVyxFQUNYLFFBQTJCLEVBQ25CLEtBQTBCLEVBQzFCLEtBQW1DLEVBQzNDLFNBQXlCO1FBUDdCLFlBU0ksa0JBQU0saUJBQWlCLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsU0FPcEQ7UUFmVyxVQUFJLEdBQUosSUFBSSxDQUFXO1FBSWYsV0FBSyxHQUFMLEtBQUssQ0FBcUI7UUFDMUIsV0FBSyxHQUFMLEtBQUssQ0FBOEI7UUFLM0MsS0FBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUV6QyxLQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksMkNBQW9CLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFaEgsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBQzFCLENBQUM7SUF4QkQsc0JBQVcsZ0RBQUs7YUFBaEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDeEIsQ0FBQzthQUVELFVBQWlCLEtBQWtCO1lBQy9CLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUN6QixDQUFDOzs7T0FKQTtJQXdCTSw2Q0FBSyxHQUFaLFVBQWEsRUFBVSxFQUFFLEVBQVU7UUFDL0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sNkNBQUssR0FBWixVQUFhLENBQVM7UUFFbEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUVELGlEQUFpRDtRQUNqRCwyR0FBMkc7UUFDM0csMkdBQTJHO1FBRTNHLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLCtDQUErQztRQUUvQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRU0sOENBQU0sR0FBYixVQUFjLE9BQXNCLEVBQUUsYUFBNkI7UUFFL0QsdUJBQXVCO1FBQ3ZCLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTSxDQUFDO1FBQ1gsQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXJDLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXpDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBRXJDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QyxDQUFDO1lBRUQsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUNwQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7WUFFbkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztZQUVsQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDaEIsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3ZCLENBQUM7UUFFRCxpQkFBTSxNQUFNLFlBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFTSxvREFBWSxHQUFuQjtRQUNJLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLENBQUM7SUFDNUMsQ0FBQztJQUNMLG9DQUFDO0FBQUQsQ0FyRkEsQUFxRkMsQ0FyRmtELHVCQUFlLEdBcUZqRTtBQXJGWSxzRUFBNkI7QUF1RjFDO0lBQTZDLDJDQUFlO0lBQ3hEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBSU8sV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUFKbEIsQ0FBQztJQU1NLDBDQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxVQUE0QjtRQUNoRyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsMENBQVEsR0FBbEIsVUFBbUIsS0FBYTtRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRW5CLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhGLElBQU0sT0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDekIsSUFBSSxPQUFhLENBQUM7WUFDbEIsSUFBSSxRQUErQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUNuQixJQUFJLGVBQU8sQ0FDUDtnQkFDSSxPQUFLLEdBQUcsT0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUN6QixRQUFNLEdBQWtDLE9BQUssQ0FBQyxTQUFTLENBQUMsa0JBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5RSxDQUFDLEVBQ0Q7Z0JBQ0ksRUFBRSxDQUFDLENBQUMsT0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDUixPQUFLLENBQUMsT0FBTyxDQUFDLE9BQUssQ0FBQyxDQUFDO2dCQUN6QixDQUFDO1lBQ0wsQ0FBQyxDQUNKO2lCQUNBLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFFaEIsRUFBRSxDQUFDLENBQUMsUUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDVCxJQUFJLENBQUMsTUFBTSxHQUFHLFFBQU0sQ0FBQztnQkFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQztZQUNuRCxDQUFDO1lBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFcEMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRVMsOENBQVksR0FBdEIsVUFBdUIsS0FBYSxJQUFVLENBQUM7SUFFdkMsc0NBQUksR0FBWjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO1FBQ3ZCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsQ0FBQztJQUNMLENBQUM7SUFDTCw4QkFBQztBQUFELENBakVBLEFBaUVDLENBakU0QyxpQ0FBZSxHQWlFM0Q7QUFqRVksMERBQXVCO0FBbUVwQztJQUFzQywyQ0FBbUI7SUFFckQ7UUFBQSxZQUNJLGlCQUFPLFNBQ1Y7UUFXTyxlQUFTLEdBQUcsS0FBSyxDQUFDOztJQVgxQixDQUFDO0lBRUQsc0JBQWtCLG1DQUFRO2FBQTFCO1lBQ0ksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksdUJBQXVCLEVBQUUsQ0FBQztZQUM5QyxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQzs7O09BQUE7SUFNTSwwQ0FBUSxHQUFmLFVBQWdCLEtBQWtCLEVBQUUsS0FBYSxFQUFFLEtBQW1CLEVBQUUsb0JBQXNDO1FBQzFHLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBRTFELEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxvQkFBb0IsSUFBSSxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckUsSUFBSSxDQUFDLE1BQU0sR0FBa0Msb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFL0UsYUFBYTtZQUNiLElBQU0sT0FBSyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLGNBQVEsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLElBQUksS0FBSyxDQUFDLCtDQUErQyxDQUFDLENBQUM7UUFDckUsQ0FBQztJQUNMLENBQUM7SUFFUyx1Q0FBSyxHQUFmLFVBQWdCLEVBQVUsRUFBRSxFQUFVO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1gsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDMUIsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDM0QsQ0FBQztJQUVTLHNDQUFJLEdBQWQsVUFBZSxLQUFrQjtRQUM3Qix5QkFBeUI7UUFDekIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM5QixLQUFLLENBQUMsWUFBWSxDQUNkLElBQUksZUFBTyxDQUNQO2dCQUNJLGdCQUFnQjtZQUNwQixDQUFDLEVBQ0QsSUFBSSxDQUFDLElBQUksQ0FDWixDQUFDLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsaUJBQU0sSUFBSSxZQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFDTCw4QkFBQztBQUFELENBdkRBLEFBdURDLENBdkRxQyx5Q0FBbUIsR0F1RHhEO0FBRUQ7SUFrQkksc0JBQ1ksU0FBeUI7UUFBekIsY0FBUyxHQUFULFNBQVMsQ0FBZ0I7UUFFakMsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQXRCRCxzQkFBVywrQkFBSzthQUFoQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxpQkFBUyxDQUFDLGlCQUFpQixDQUFDO1FBQzlFLENBQUM7YUFFRCxVQUFpQixLQUFhO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvQyxDQUFDOzs7T0FKQTtJQU1ELHNCQUFXLCtCQUFLO2FBQWhCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRCxDQUFDO2FBRUQsVUFBaUIsS0FBYTtZQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0MsQ0FBQzs7O09BSkE7SUFhTCxtQkFBQztBQUFELENBekJBLEFBeUJDLElBQUE7Ozs7Ozs7Ozs7Ozs7O0FDMVBEOztHQUVHO0FBQ0gsNENBQTBNO0FBQzFNLHVDQUE0UDtBQUk1UCx3Q0FBMkM7QUFDM0MsNkRBQTREO0FBQzVELHFEQUFvRDtBQUNwRCwrREFBOEQ7QUFFOUQ7SUFBeUMsdUNBQWU7SUF1QnBELDZCQUNZLElBQWUsRUFDdkIsTUFBYyxFQUNkLElBQVcsRUFDWCxRQUEyQixFQUNuQixLQUEwQixFQUMxQixLQUFtQyxFQUMzQyxTQUF5QjtRQVA3QixZQVNJLGtCQUFNLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxTQWUvQztRQXZCVyxVQUFJLEdBQUosSUFBSSxDQUFXO1FBSWYsV0FBSyxHQUFMLEtBQUssQ0FBcUI7UUFDMUIsV0FBSyxHQUFMLEtBQUssQ0FBOEI7UUFvQnZDLGtCQUFZLEdBQUcsVUFBQyxHQUFrQixFQUFFLElBQVc7WUFDbkQsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLFNBQVMsSUFBSSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDckUsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDaEUsQ0FBQztRQUNMLENBQUMsQ0FBQTtRQUVPLG1CQUFhLEdBQUcsVUFBQyxHQUFrQixFQUFFLElBQVc7WUFDcEQsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLFNBQVMsSUFBSSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDakUsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDNUQsQ0FBQztRQUNMLENBQUMsQ0FBQTtRQXpCRyxLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXpDLEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSx3QkFBZ0IsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEtBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN6SCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUUvQixLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQWtCLENBQUMsS0FBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxLQUFJLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0gsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFaEMsS0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLDJDQUFvQixDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pILEtBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSwyQ0FBb0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVqSCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzs7SUFDM0IsQ0FBQztJQXhDRCxzQkFBVyx1Q0FBTTthQUFqQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN6QixDQUFDO2FBRUQsVUFBa0IsS0FBa0I7WUFDaEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7OztPQUpBO0lBTUQsc0JBQVcsdUNBQU07YUFBakI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDekIsQ0FBQzthQUVELFVBQWtCLEtBQWtCO1lBQ2hDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDOzs7T0FKQTtJQTRDTSxtQ0FBSyxHQUFaLFVBQWEsQ0FBUztRQUNsQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztjQUNULGlCQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2NBQ3RDLEtBQUssQ0FBQztJQUNoQixDQUFDO0lBRU0seUNBQVcsR0FBbEIsVUFBbUIsUUFBaUI7UUFDaEMsaUJBQU0sV0FBVyxZQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQztRQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7SUFDdkMsQ0FBQztJQUVNLG1DQUFLLEdBQVosVUFBYSxFQUFVLEVBQUUsRUFBVTtRQUMvQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFTSxvQ0FBTSxHQUFiLFVBQWMsT0FBc0IsRUFBRSxhQUE2QjtRQUUvRCx1QkFBdUI7UUFDdkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMxQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRTFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ1QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7WUFFckMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25CLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDcEIsQ0FBQztRQUVELGlCQUFNLE1BQU0sWUFBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVNLDBDQUFZLEdBQW5CO1FBQ0ksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDbEMsQ0FBQztJQUVNLHlDQUFXLEdBQWxCO1FBQ0ksTUFBTSxDQUFDLElBQUksa0JBQVUsQ0FBQztZQUNsQixJQUFJLEVBQUUsTUFBTTtZQUNaLEtBQUssRUFBRSxJQUFJO1lBQ1gsUUFBUSxFQUFFO2dCQUNOO29CQUNJLElBQUksRUFBRSxPQUFPO29CQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7b0JBQ2xDLFdBQVcsRUFBRSxtQkFBVyxDQUFDLEtBQUs7b0JBQzlCLFdBQVcsRUFBRSxPQUFPO2lCQUN2QixFQUFFO29CQUNDLElBQUksRUFBRSxPQUFPO29CQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUU7b0JBQ2xDLFdBQVcsRUFBRSxtQkFBVyxDQUFDLE9BQU87b0JBQ2hDLFdBQVcsRUFBRSxPQUFPO2lCQUN2QjthQUNKO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLHlDQUFXLEdBQWxCLFVBQW1CLEtBQWlCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxpQkFBaUIsQ0FBUyxZQUFZLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQVMsWUFBWSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkYsQ0FBQztJQUNMLDBCQUFDO0FBQUQsQ0F0SUEsQUFzSUMsQ0F0SXdDLHVCQUFlLEdBc0l2RDtBQXRJWSxrREFBbUI7QUF3SWhDO0lBQW1DLGlDQUFlO0lBQzlDO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBSU8sV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUFKbEIsQ0FBQztJQU1NLGdDQUFRLEdBQWYsVUFBZ0IsS0FBa0IsRUFBRSxLQUFhLEVBQUUsS0FBbUIsRUFBRSxVQUE0QjtRQUNoRyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLGlCQUFNLFFBQVEsWUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRVMsZ0NBQVEsR0FBbEIsVUFBbUIsS0FBYTtRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUM3QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV4RixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBTSxPQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QixJQUFJLE9BQWEsQ0FBQztZQUNsQixJQUFJLFFBQXFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQ25CLElBQUksZUFBTyxDQUNQO2dCQUNJLE9BQUssR0FBRyxPQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQ3pCLFFBQU0sR0FBd0IsT0FBSyxDQUFDLFNBQVMsQ0FBQyxrQkFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25FLENBQUMsRUFDRDtnQkFDSSxFQUFFLENBQUMsQ0FBQyxPQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNSLE9BQUssQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7WUFDTCxDQUFDLENBQ0o7aUJBQ0EsT0FBTyxFQUFFLENBQUMsQ0FBQztZQUVoQixFQUFFLENBQUMsQ0FBQyxRQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBTSxDQUFDO2dCQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ3BELENBQUM7WUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QyxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7UUFDcEQsQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFUyxvQ0FBWSxHQUF0QixVQUF1QixLQUFhO1FBQ2hDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3QyxNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhGLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ3BELENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQUVPLDRCQUFJLEdBQVo7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUN2QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNiLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLENBQUM7SUFDTCxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQWxGQSxBQWtGQyxDQWxGa0MsaUNBQWUsR0FrRmpEO0FBbEZZLHNDQUFhO0FBb0YxQjtJQUE0QixpQ0FBbUI7SUFFM0M7UUFBQSxZQUNJLGlCQUFPLFNBQ1Y7UUFXTyxlQUFTLEdBQUcsS0FBSyxDQUFDOztJQVgxQixDQUFDO0lBRUQsc0JBQWtCLHlCQUFRO2FBQTFCO1lBQ0ksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7WUFDcEMsQ0FBQztZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLENBQUM7OztPQUFBO0lBTU0sZ0NBQVEsR0FBZixVQUFnQixLQUFrQixFQUFFLEtBQWEsRUFBRSxLQUFtQixFQUFFLG9CQUFzQztRQUMxRyxpQkFBTSxRQUFRLFlBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUUxRCxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksb0JBQW9CLElBQUksb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxNQUFNLEdBQXdCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXJFLGFBQWE7WUFDYixJQUFNLE9BQUssR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxjQUFRLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBQ3JFLENBQUM7SUFDTCxDQUFDO0lBRVMsNkJBQUssR0FBZixVQUFnQixFQUFVLEVBQUUsRUFBVTtRQUNsQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzFCLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQzNELENBQUM7SUFFUyw0QkFBSSxHQUFkLFVBQWUsS0FBa0I7UUFDN0IseUJBQXlCO1FBQ3pCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDOUIsS0FBSyxDQUFDLFlBQVksQ0FDZCxJQUFJLGVBQU8sQ0FDUDtnQkFDSSxnQkFBZ0I7WUFDcEIsQ0FBQyxFQUNELElBQUksQ0FBQyxJQUFJLENBQ1osQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVELElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLGlCQUFNLElBQUksWUFBQyxLQUFLLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQXZEQSxBQXVEQyxDQXZEMkIseUNBQW1CLEdBdUQ5QztBQUVEO0lBa0JJLHNCQUNZLFNBQXlCO1FBQXpCLGNBQVMsR0FBVCxTQUFTLENBQWdCO1FBRWpDLHVCQUF1QjtRQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUF0QkQsc0JBQVcsK0JBQUs7YUFBaEI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksaUJBQVMsQ0FBQyxpQkFBaUIsQ0FBQztRQUM5RSxDQUFDO2FBRUQsVUFBaUIsS0FBYTtZQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0MsQ0FBQzs7O09BSkE7SUFNRCxzQkFBVywrQkFBSzthQUFoQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsQ0FBQzthQUVELFVBQWlCLEtBQWE7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQy9DLENBQUM7OztPQUpBO0lBYUwsbUJBQUM7QUFBRCxDQXpCQSxBQXlCQyxJQUFBOzs7Ozs7Ozs7Ozs7OztBQ3ZURCw0Q0FBME07QUFDMU0sdUNBQTBQO0FBRTFQLHdDQUFrRDtBQUdsRCx3Q0FBMkM7QUFDM0MsNkRBQTREO0FBQzVELHFEQUFvRDtBQUNwRCwrREFBOEQ7QUFFOUQ7SUFBNkMsMkNBQWU7SUFpQ3hELGlDQUNZLElBQWUsRUFDdkIsTUFBYyxFQUNkLElBQVcsRUFDWCxRQUEyQixFQUNuQixLQUEwQixFQUMxQixLQUFtQyxFQUMzQyxTQUF5QixFQUNqQixNQUFnQjtRQVI1QixZQVVJLGtCQUFNLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLFNBc0JwRDtRQS9CVyxVQUFJLEdBQUosSUFBSSxDQUFXO1FBSWYsV0FBSyxHQUFMLEtBQUssQ0FBcUI7UUFDMUIsV0FBSyxHQUFMLEtBQUssQ0FBOEI7UUFFbkMsWUFBTSxHQUFOLE1BQU0sQ0FBVTtRQTBCcEIsa0JBQVksR0FBRyxVQUFDLEdBQWtCLEVBQUUsSUFBVztZQUNuRCxFQUFFLENBQUMsQ0FBQyxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssU0FBUyxJQUFJLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxTQUFTLElBQUksS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hHLE1BQU0sQ0FBQztvQkFDSCxLQUFLLEVBQUUsV0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztvQkFDdkUsR0FBRyxFQUFFLFdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7aUJBQ3hFLENBQUM7WUFDTixDQUFDO1FBQ0wsQ0FBQyxDQUFBO1FBRU8sbUJBQWEsR0FBRyxVQUFDLEdBQWtCLEVBQUUsSUFBVztZQUNwRCxFQUFFLENBQUMsQ0FBQyxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssU0FBUyxJQUFJLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxTQUFTLElBQUksS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xHLE1BQU0sQ0FBQztvQkFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDbEUsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7aUJBQ25FLENBQUM7WUFDTixDQUFDO1FBQ0wsQ0FBQyxDQUFBO1FBdUhPLHFCQUFlLEdBQUc7WUFDdEIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN0QixLQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2xDLEtBQUksQ0FBQyxlQUFlLENBQUMsS0FBSSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4RCxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDbEIsS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQTtRQUVPLHFCQUFlLEdBQUc7WUFDdEIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN0QixLQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2xDLEtBQUksQ0FBQyxlQUFlLENBQUMsS0FBSSxDQUFDLEVBQUUsRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVELEtBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQixLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFBO1FBRU8scUJBQWUsR0FBRztZQUN0QixLQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RCLEtBQUksQ0FBQyxlQUFlLENBQUMsS0FBSSxDQUFDLEVBQUUsRUFBRSxLQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztZQUN4RCxLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsQ0FBQyxDQUFBO1FBakxHLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFekMsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLHdCQUFnQixDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSSxDQUFDLE1BQU0sRUFBRSxLQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3pILEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRS9CLEtBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSwwQkFBa0IsQ0FBQyxLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEtBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM3SCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVoQyxLQUFJLENBQUMsRUFBRSxHQUFHLElBQUksMkNBQW9CLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakgsS0FBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLDJDQUFvQixDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pILEtBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSwyQ0FBb0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVqSCxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2QixLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUV2QixzQ0FBc0M7UUFDdEMsS0FBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBRWxCLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzs7SUFDckIsQ0FBQztJQXhERCxzQkFBVywyQ0FBTTthQUFqQjtZQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN6QixDQUFDO2FBRUQsVUFBa0IsS0FBa0I7WUFDaEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUM7OztPQUpBO0lBTUQsc0JBQVcsMkNBQU07YUFBakI7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDekIsQ0FBQzthQUVELFVBQWtCLEtBQWtCO1lBQ2hDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMxQixDQUFDOzs7T0FKQTtJQU1ELHNCQUFXLDJDQUFNO2FBQWpCO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO1FBQ3pCLENBQUM7YUFFRCxVQUFrQixLQUFrQjtZQUNoQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDMUIsQ0FBQzs7O09BSkE7SUEwRE0sdUNBQUssR0FBWixVQUFhLENBQVM7UUFDbEIsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMxQixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFMUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Y0FDZCxDQUFDLGlCQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO21CQUNuQyxpQkFBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzttQkFDdEMsaUJBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztjQUMzQyxLQUFLLENBQUM7SUFDaEIsQ0FBQztJQUVNLDZDQUFXLEdBQWxCLFVBQW1CLFFBQWlCO1FBQ2hDLGlCQUFNLFdBQVcsWUFBQyxRQUFRLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO0lBQ3ZDLENBQUM7SUFFTSx1Q0FBSyxHQUFaLFVBQWEsRUFBVSxFQUFFLEVBQVU7UUFDL0IsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hDLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNoQyxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSx3Q0FBTSxHQUFiLFVBQWMsT0FBc0IsRUFBRSxhQUE2QjtRQUUvRCx1QkFBdUI7UUFDdkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUM7UUFDWCxDQUFDO1FBRUQsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU5RixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFCLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUUxQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNULElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUVuQixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV0QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV0QyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNKLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQyxDQUFDO1lBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxD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RyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLG1CQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsNkNBQTZDO1lBQzdDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkIsQ0FBQztRQUNELFFBQVEsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDeEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLG1CQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsMkNBQTJDO1lBQzNDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsQ0FBQztRQUNELFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDdEMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLG1CQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsMkNBQTJDO1lBQzNDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQztRQUVELGVB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QUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUMzQixVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDNUIsVUFBVSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNoRCxVQUFVLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ2pELFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMxQyxVQUFVLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDekMsVUFBVSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUVyRCxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELFdBQVcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM1QixXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDN0IsV0FBVyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNqRCxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ2xELFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzQyxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDMUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxXQUFXLENB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QUUsTUFBTTtJQUNkLEtBQUssRUFBRSxLQUFLO0NBQ2YsQ0FBQztBQUVJLE1BQU8sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogQ3VzdG9tIGtub2Nrb3V0IGNvbXBvbmVudHNcbiAqL1xuaW1wb3J0IHsgQXBwVmlld01vZGVsIH0gZnJvbSAnLi92bS9BcHBWaWV3TW9kZWwnO1xuaW1wb3J0IHsgQ2hhcnRWaWV3TW9kZWwgfSBmcm9tICcuL3ZtL0NoYXJ0Vmlld01vZGVsJztcblxuZXhwb3J0IGNsYXNzIEtub2Nrb3V0Q29tcG9uZW50cyB7XG4gICAgY29uc3RydWN0b3IoYXBwdm06IEFwcFZpZXdNb2RlbCkge1xuXG4gICAgICAgIGtvLmNvbXBvbmVudHMucmVnaXN0ZXIoJ2NoYXJ0LWNvbXBvbmVudCcsIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbDoge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZpZXdNb2RlbDogKHBhcmFtcywgY29tcG9uZW50SW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyAtICdwYXJhbXMnIGlzIGFuIG9iamVjdCB3aG9zZSBrZXkvdmFsdWUgcGFpcnMgYXJlIHRoZSBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgIC8vICAgcGFzc2VkIGZyb20gdGhlIGNvbXBvbmVudCBiaW5kaW5nIG9yIGN1c3RvbSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gJ2NvbXBvbmVudEluZm8uZWxlbWVudCcgaXMgdGhlIGVsZW1lbnQgdGhlIGNvbXBvbmVudCBpcyBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGluamVjdGVkIGludG8uIFdoZW4gY3JlYXRlVmlld01vZGVsIGlzIGNhbGxlZCwgdGhlIHRlbXBsYXRlIGhhc1xuICAgICAgICAgICAgICAgICAgICAvLyAgIGFscmVhZHkgYmVlbiBpbmplY3RlZCBpbnRvIHRoaXMgZWxlbWVudCwgYnV0IGlzbid0IHlldCBib3VuZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gLSAnY29tcG9uZW50SW5mby50ZW1wbGF0ZU5vZGVzJyBpcyBhbiBhcnJheSBjb250YWluaW5nIGFueSBET01cbiAgICAgICAgICAgICAgICAgICAgLy8gICBub2RlcyB0aGF0IGhhdmUgYmVlbiBzdXBwbGllZCB0byB0aGUgY29tcG9uZW50LiBTZWUgYmVsb3cuXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcHZtLmluc2VydENoYXJ0KHBhcmFtcy5pbmRleCwgcGFyYW1zLCBjb21wb25lbnRJbmZvID8gY29tcG9uZW50SW5mby5lbGVtZW50IDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IHsgZWxlbWVudDogJ2NoYXJ0LWNvbXBvbmVudC10ZW1wbGF0ZScgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1haW4gbW9kdWxlXG4gKi9cbmltcG9ydCB7IEtub2Nrb3V0Q29tcG9uZW50cyB9IGZyb20gJy4vS25vY2tvdXRDb21wb25lbnRzJztcbmltcG9ydCB7IGpRdWVyeUV4dGVuc2lvbnMgfSBmcm9tICcuL3BsdWdpbnMvalF1ZXJ5RXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyBLbm9ja291dEV4dGVuc2lvbnMgfSBmcm9tICcuL3BsdWdpbnMvS25vY2tvdXRFeHRlbnNpb25zJztcbmltcG9ydCB7IEFwcFZpZXdNb2RlbCB9IGZyb20gJy4vdm0vQXBwVmlld01vZGVsJztcblxuY29uc3QgYXBwTW9kZWwgPSBuZXcgQXBwVmlld01vZGVsKCk7XG5cbi8vIGluaXQganF1ZXJ5IGV4dGVuc2lvbnNcbmpRdWVyeUV4dGVuc2lvbnMoKTtcblxuLy8gaW5pdCBrbm9ja291dCBleHRlbnNpb25zIGFuZCBjb21wb25lbnRzXG4vL1xuY29uc3QgZXh0ID0gbmV3IEtub2Nrb3V0RXh0ZW5zaW9ucygpO1xuY29uc3QgY29tcG9uZW50cyA9IG5ldyBLbm9ja291dENvbXBvbmVudHMoYXBwTW9kZWwpO1xuXG4vLyBiaW5kIHZpZXcgbW9kZWxcbmtvLmFwcGx5QmluZGluZ3MoYXBwTW9kZWwpO1xuXG4vLyBpbml0IGFwcGxpY2F0aW9uXG5hcHBNb2RlbFxuICAgIC5pbml0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIGhpZGUgc3BsYXNoIHNjcmVlblxuICAgICAgICAkKCcjcGFnZS1zcGxhc2gnKS5oaWRlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlYXNvbjogYW55KSA9PiB7XG4gICAgICAgICQoJyNwYWdlLXNwbGFzaCcpLmhpZGUoKTtcbiAgICB9KTtcbiIsIi8qKlxuICogQ3VzdG9tIGtub2Nrb3V0IGJpbmRpbmdzIFxuICovXG5leHBvcnQgY2xhc3MgS25vY2tvdXRFeHRlbnNpb25zIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAga28uYmluZGluZ0hhbmRsZXJzLndpbnNpemUgPSB7XG4gICAgICAgICAgICBpbml0OiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvcikgPT4ge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUoeyB3aWR0aDogJCh3aW5kb3cpLndpZHRoKCksIGhlaWdodDogJCh3aW5kb3cpLmhlaWdodCgpIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGtvLmJpbmRpbmdIYW5kbGVycy5kb21yZWFkeSA9IHtcbiAgICAgICAgICAgIGluaXQ6IChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSA9PiB7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzLnVwZGF0ZUxpc3R2aWV3T25DaGFuZ2UgPSB0cnVlO1xuICAgICAgICBrby5iaW5kaW5nSGFuZGxlcnMudXBkYXRlTGlzdHZpZXdPbkNoYW5nZSA9IHtcbiAgICAgICAgICAgIHVwZGF0ZTogKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpID0+IHtcbiAgICAgICAgICAgICAgICBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7ICAvL2dyYWIgZGVwZW5kZW5jeVxuXG4gICAgICAgICAgICAgICAgJCgnLmxpc3QtY29tcG9uZW50JykubGlzdHZpZXcoeyByZWZyZXNoOiB0cnVlLCBtaW5pOiB0cnVlLCBpY29uOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAkKCcuY29sbGFwc2libGUtY29tcG9uZW50JykuY29sbGFwc2libGUoeyByZWZyZXNoOiB0cnVlLCBtaW5pOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGtvLmJpbmRpbmdIYW5kbGVycy5wb3B1cFZpc2libGUgPSB7XG4gICAgICAgICAgICBpbml0OiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcFZhbHVlID0ga28udW53cmFwKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5kcmFnZ2FibGUoeyBjdXJzb3I6ICdtb3ZlJyB9KTtcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLnBvcHVwKHsgaGlzdG9yeTogZmFsc2UgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlOiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVud3JhcFZhbHVlID0ga28udW53cmFwKHZhbHVlQWNjZXNzb3IoKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBvcGVuZWQgcG9wdXBzXG4gICAgICAgICAgICAgICAgJCgnW2RhdGEtcm9sZT1cInBvcHVwXCJdJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGVsID0gJChlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkZWwucGFyZW50KCkuaGFzQ2xhc3MoJ3VpLXBvcHVwLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwucG9wdXAoJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoZWxlbWVudCkucG9wdXAoIHVud3JhcFZhbHVlID8gJ29wZW4nIDogJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiLyoqXG4gKiBqUXVlcnkgVUkgVG91Y2ggUHVuY2ggMC4yLjNcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMeKAkzIwMTQsIERhdmUgRnVyZmVyb1xuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXG4gKlxuICogRGVwZW5kczpcbiAqICBqcXVlcnkudWkud2lkZ2V0LmpzXG4gKiAganF1ZXJ5LnVpLm1vdXNlLmpzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqUXVlcnlFeHRlbnNpb25zKCkge1xuICAgICgoJCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBmKGV2OiBhbnksIGV2VHlwZTogc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAoIShldi5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBldi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgICAgICAgICBkLmluaXRNb3VzZUV2ZW50KGV2VHlwZSwgITAsICEwLCB3aW5kb3csIDEsIGMuc2NyZWVuWCwgYy5zY3JlZW5ZLCBjLmNsaWVudFgsIGMuY2xpZW50WSwgITEsICExLCAhMSwgITEsIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgIGV2LnRhcmdldC5kaXNwYXRjaEV2ZW50KGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudCkge1xuXG4gICAgICAgICAgICBsZXQgZTogYW55O1xuICAgICAgICAgICAgY29uc3QgJG1vdXNlcHJvdG8gPSAoPGFueT4kKS51aS5tb3VzZS5wcm90b3R5cGU7XG4gICAgICAgICAgICBjb25zdCBjID0gJG1vdXNlcHJvdG8uX21vdXNlSW5pdDtcbiAgICAgICAgICAgIGNvbnN0IGQgPSAkbW91c2Vwcm90by5fbW91c2VEZXN0cm95O1xuXG4gICAgICAgICAgICAkbW91c2Vwcm90by5fdG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldjogYW55KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgIWUgJiYgc2VsZi5fbW91c2VDYXB0dXJlKGV2Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0pICYmIChlID0gITAsIHNlbGYuX3RvdWNoTW92ZWQgPSAhMSwgZihldiwgJ21vdXNlb3ZlcicpLCBmKGV2LCAnbW91c2Vtb3ZlJyksIGYoZXYsICdtb3VzZWRvd24nKSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRtb3VzZXByb3RvLl90b3VjaE1vdmUgPSBmdW5jdGlvbiAoZXY6IGFueSkge1xuICAgICAgICAgICAgICAgIGUgJiYgKHRoaXMuX3RvdWNoTW92ZWQgPSAhMCwgZihldiwgJ21vdXNlbW92ZScpKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJG1vdXNlcHJvdG8uX3RvdWNoRW5kID0gZnVuY3Rpb24gKGV2OiBhbnkpIHtcbiAgICAgICAgICAgICAgICBlICYmIChmKGV2LCAnbW91c2V1cCcpLCBmKGV2LCAnbW91c2VvdXQnKSwgdGhpcy5fdG91Y2hNb3ZlZCB8fCBmKGV2LCAnY2xpY2snKSwgZSA9ICExKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJG1vdXNlcHJvdG8uX21vdXNlSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnQuYmluZCh7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoc3RhcnQ6ICQucHJveHkoc2VsZiwgJ190b3VjaFN0YXJ0JyksXG4gICAgICAgICAgICAgICAgICAgIHRvdWNobW92ZTogJC5wcm94eShzZWxmLCAnX3RvdWNoTW92ZScpLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaGVuZDogJC5wcm94eShzZWxmLCAnX3RvdWNoRW5kJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjLmNhbGwoc2VsZik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkbW91c2Vwcm90by5fbW91c2VEZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudC51bmJpbmQoe1xuICAgICAgICAgICAgICAgICAgICB0b3VjaHN0YXJ0OiAkLnByb3h5KHNlbGYsICdfdG91Y2hTdGFydCcpLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaG1vdmU6ICQucHJveHkoc2VsZiwgJ190b3VjaE1vdmUnKSxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hlbmQ6ICQucHJveHkoc2VsZiwgJ190b3VjaEVuZCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZC5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKGpRdWVyeSk7XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgKiBhcyBseWNoYXJ0IGZyb20gJy4uLy4uLy4uL3NyYy9seWNoYXJ0JztcbmltcG9ydCBDYW5kbGVzdGljayA9IGx5Y2hhcnQubW9kZWwuQ2FuZGxlc3RpY2s7XG5pbXBvcnQgRGF0ZVV0aWxzID0gbHljaGFydC51dGlscy5EYXRlVXRpbHM7XG5pbXBvcnQgVWlkID0gbHljaGFydC5tb2RlbC5VaWQ7XG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL21vZGVsL0Fzc2V0JztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5cbmludGVyZmFjZSBJU2V0dGluZ3Mge1xuICAgIGFzc2V0c1VybDogc3RyaW5nO1xuICAgIGNhbmRsZXNVcmw6IHN0cmluZztcbn1cblxuZGVjbGFyZSBjb25zdCBzZXR0aW5nczogSVNldHRpbmdzO1xuXG5leHBvcnQgY2xhc3MgQXNzZXRTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgc3RhdGljIF9hc3NldHM6IEFzc2V0W107XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEFzc2V0cygpOiBQcm9taXNlPEFzc2V0W10+IHtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fYXNzZXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc2VsZi5fYXNzZXRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICQuc3VwcG9ydC5jb3JzID0gdHJ1ZTsgLy8gT3RoZXJ3aXNlIFwibm8gdHJhbnNwb3J0XCIgaW4gSUUgMTEuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICB1cmw6IHNldHRpbmdzLmFzc2V0c1VybCxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIGRhdGEgYW5kIHJlc29sdmVcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYXNzZXRzID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2VuZFJlcXVlc3QoYXNzZXQ6IHN0cmluZywgdGltZVN0YXJ0OiBEYXRlLCB0aW1lRW5kOiBEYXRlLCBpbnRlcnZhbDogbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbCkge1xuICAgICQuc3VwcG9ydC5jb3JzID0gdHJ1ZTtcbiAgICBjb25zdCBzZXRzID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHVybDogc2V0dGluZ3MuY2FuZGxlc1VybCArIGFzc2V0LFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBwZXJpb2Q6IFV0aWxzLklOVEVSVkFMMlBFUklPRChpbnRlcnZhbCksXG4gICAgICAgICAgICB0eXBlOiAnQmlkJyxcbiAgICAgICAgICAgIGRhdGVGcm9tOiB0aW1lU3RhcnQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGRhdGVUbzogdGltZUVuZC50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4gJC5hamF4KHNldHMpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBkZWZhdWx0UmVhZGVyOiBhbnk7XG5cbiAgICBwdWJsaWMgZ2V0Q2FuZGxlKGFzc2V0OiBzdHJpbmcsIGRhdGU6IERhdGUsIGludGVydmFsOiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsKTogUHJvbWlzZTxDYW5kbGVzdGljaz4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Q2FuZGxlc3RpY2s+KHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkRGF0YShhc3NldCwgZGF0ZSwgRGF0ZVV0aWxzLmFkZEludGVydmFsKGRhdGUsIGludGVydmFsKSwgaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsgcmV0dXJuIERhdGFTZXJ2aWNlLnJlc29sdmVEYXRhKHJlc3BvbnNlKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWQ6IGx5Y2hhcnQuZGF0YS5JUmVzcG9uc2U8bHljaGFydC5tb2RlbC5DYW5kbGVzdGljaz4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlZC5kYXRhLmxlbmd0aCA+IDAgPyByZXNvbHZlZC5kYXRhWzBdIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENhbmRsZXMoYXNzZXQ6IHN0cmluZywgZGF0ZUZyb206IERhdGUsIGRhdGVUbzogRGF0ZSwgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwpOiBQcm9taXNlPENhbmRsZXN0aWNrW10+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPENhbmRsZXN0aWNrW10+KHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkRGF0YShhc3NldCwgZGF0ZUZyb20sIGRhdGVUbywgaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsgcmV0dXJuIERhdGFTZXJ2aWNlLnJlc29sdmVEYXRhKHJlc3BvbnNlKTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWQ6IGx5Y2hhcnQuZGF0YS5JUmVzcG9uc2U8bHljaGFydC5tb2RlbC5DYW5kbGVzdGljaz4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlZC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZURhdGFTb3VyY2UoYXNzZXRQYWlySWQ6IHN0cmluZywgdGltZUludGVydmFsOiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsKSB7XG4gICAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSBuZXcgbHljaGFydC5kYXRhLkh0dHBEYXRhU291cmNlKFxuICAgICAgICAgICAgbHljaGFydC5tb2RlbC5DYW5kbGVzdGljayxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgICAgIGF1dG91cGRhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlYWREYXRhOiB0aGlzLmNyZWF0ZURhdGFSZWFkZXIoYXNzZXRQYWlySWQpLFxuICAgICAgICAgICAgICAgIHJlc29sdmVEYXRhOiBEYXRhU2VydmljZS5yZXNvbHZlRGF0YSxcbiAgICAgICAgICAgICAgICB0aW1lSW50ZXJ2YWw6IHRpbWVJbnRlcnZhbCxcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IDNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBkYXRhU291cmNlLmFzc2V0ID0gYXNzZXRQYWlySWQ7XG4gICAgICAgIHJldHVybiBkYXRhU291cmNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRGF0YVJlYWRlcihhc3NldDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAodGltZVN0YXJ0OiBEYXRlLCB0aW1lRW5kOiBEYXRlLCBpbnRlcnZhbDogbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KGFzc2V0LCB0aW1lU3RhcnQsIHRpbWVFbmQsIGludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWREYXRhID0gKGFzc2V0OiBzdHJpbmcsIHRpbWVTdGFydDogRGF0ZSwgdGltZUVuZDogRGF0ZSwgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlbmRSZXF1ZXN0KGFzc2V0LCB0aW1lU3RhcnQsIHRpbWVFbmQsIGludGVydmFsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBqc29uIGZyb20gc2VydmVyIHRvIG1vZGVsLlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHJlc29sdmVEYXRhID0gKHJlc3BvbnNlOiBhbnkpOiBseWNoYXJ0LmRhdGEuSVJlc3BvbnNlPGx5Y2hhcnQubW9kZWwuQ2FuZGxlc3RpY2s+ID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoaXRlbS50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RpY2sgPSBuZXcgbHljaGFydC5tb2RlbC5DYW5kbGVzdGljayhkYXRlLCBpdGVtLmMsIGl0ZW0ubywgaXRlbS5oLCBpdGVtLmwpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpbml0IHVpZFxuICAgICAgICAgICAgICAgICAgICBzdGljay51aWQgPSBuZXcgVWlkKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RpY2s7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGF0ZUZyb206IG5ldyBEYXRlKHJlc3BvbnNlLmRhdGVGcm9tKSxcbiAgICAgICAgICAgICAgICBkYXRlVG86IG5ldyBEYXRlKHJlc3BvbnNlLmRhdGVUbyksXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IFV0aWxzLlBFUklPRDJJTlRFUlZBTChyZXNwb25zZS5wZXJpb2QpLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGVGcm9tOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZGF0ZVRvOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwubm90U2V0LFxuICAgICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgKiBhcyBseWNoYXJ0IGZyb20gJy4uLy4uLy4uL3NyYy9seWNoYXJ0JztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2UgaW1wbGVtZW50cyBseWNoYXJ0LmNvcmUuSVN0b3JhZ2Uge1xuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBzdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBVdGlscyBjbGFzcy5cbiAqL1xuaW1wb3J0ICogYXMgbHljaGFydCBmcm9tICcuLi8uLi8uLi9zcmMvbHljaGFydCc7XG5pbXBvcnQgVGltZUludGVydmFsID0gbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbDtcblxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIElOVEVSVkFMMlBFUklPRChpbnRlcnZhbDogVGltZUludGVydmFsKSB7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogcmV0dXJuICdTZWMnO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluOiByZXR1cm4gJ01pbnV0ZSc7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gJ0hvdXInO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiByZXR1cm4gJ0RheSc7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDogcmV0dXJuICdNb250aCc7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgaW50ZXJ2YWwuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIFBFUklPRDJJTlRFUlZBTChwZXJpb2Q6IHN0cmluZyk6IFRpbWVJbnRlcnZhbCB7XG4gICAgICAgIHN3aXRjaCAocGVyaW9kKSB7XG4gICAgICAgICAgICBjYXNlICdTZWMnOiByZXR1cm4gVGltZUludGVydmFsLnNlYztcbiAgICAgICAgICAgIGNhc2UgJ01pbnV0ZSc6IHJldHVybiBUaW1lSW50ZXJ2YWwubWluO1xuICAgICAgICAgICAgY2FzZSAnSG91cic6IHJldHVybiBUaW1lSW50ZXJ2YWwuaG91cjtcbiAgICAgICAgICAgIGNhc2UgJ0RheSc6IHJldHVybiBUaW1lSW50ZXJ2YWwuZGF5O1xuICAgICAgICAgICAgY2FzZSAnTW9udGgnOiByZXR1cm4gVGltZUludGVydmFsLm1vbnRoO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHBlcmlvZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQXBwVmlld01vZGVsIGNsYXNzLiBNYXN0ZXIgdmlldyBtb2RlbCBvZiB0aGUgYXBwLlxuICovXG5pbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uL21vZGVsL0Fzc2V0JztcbmltcG9ydCB7IEFzc2V0U2VydmljZSwgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9EYXRhU2VydmljZSc7XG5pbXBvcnQgeyBDaGFydFZpZXdNb2RlbCB9IGZyb20gJy4vQ2hhcnRWaWV3TW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgQXBwVmlld01vZGVsIHtcblxuICAgIHByaXZhdGUgJGZyYW1lOiBKUXVlcnk7XG4gICAgcHJpdmF0ZSBmcmFtZVNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcblxuICAgIHByaXZhdGUgbW9kZSA9IDE7XG4gICAgcHJpdmF0ZSBjaGFydHM6IENoYXJ0Vmlld01vZGVsW10gPSBbXTtcbiAgICBwcml2YXRlIHNlbGVjdGVkQ2hhcnQ6IENoYXJ0Vmlld01vZGVsfHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGluaXRpYWxpemVkOiBib29sZWFuW10gPSBbXTtcbiAgICBwcml2YXRlIGFzc2V0czogQXNzZXRbXSA9IFtdO1xuICAgIHByaXZhdGUgZGF0YVNlcnZpY2UgPSBuZXcgRGF0YVNlcnZpY2UoKTtcblxuICAgIHB1YmxpYyBmaWd1cmVzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtcbiAgICAgICAgeyBuYW1lOiAnbGluZScsIHRleHQ6ICdMaW5lJyB9LFxuICAgICAgICB7IG5hbWU6ICdobGluZScsIHRleHQ6ICdILUxpbmUnIH0sXG4gICAgICAgIHsgbmFtZTogJ3ZsaW5lJywgdGV4dDogJ1YtTGluZScgfSxcbiAgICAgICAgeyBuYW1lOiAncmVjdCcsIHRleHQ6ICdSZWN0JyB9LFxuICAgICAgICB7IG5hbWU6ICd0cmlhbmdsZScsIHRleHQ6ICdUcmlhbmdsZScgfSxcbiAgICAgICAgeyBuYW1lOiAncGF0aCcsIHRleHQ6ICdQYXRoJyB9LFxuICAgICAgICB7IG5hbWU6ICdwaXRjaGZvcmsnLCB0ZXh0OiAnUGl0Y2hmb3JrJyB9LFxuICAgICAgICB7IG5hbWU6ICd0ZXh0JywgdGV4dDogJ1RleHQnIH0sXG4gICAgICAgIHsgbmFtZTogJ2VsbGlwc2UnLCB0ZXh0OiAnRWxsaXBzZScgfSxcbiAgICAgICAgeyBuYW1lOiAndHJlbmRjaGFubmVsJywgdGV4dDogJ1RyZW5kIENoYW5uZWwnIH0sXG4gICAgICAgIHsgbmFtZTogJ2N1cnZlJywgdGV4dDogJ0N1cnZlJyB9LFxuICAgICAgICB7IG5hbWU6ICdkYXRlcmFuZ2UnLCB0ZXh0OiAnRGF0ZSBSYW5nZScgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib2ZhbicsIHRleHQ6ICdGaWJvIEZhbicgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib2xldmVsJywgdGV4dDogJ0ZpYm8gTGV2ZWwnIH0sXG4gICAgICAgIHsgbmFtZTogJ2ZpYm9wcm9qZWN0aW9uJywgdGV4dDogJ0ZpYm8gUHJvamVjdGlvbicgfSxcbiAgICAgICAgeyBuYW1lOiAnZmlib3RpbWVwcm9qZWN0aW9uJywgdGV4dDogJ0ZpYm8gVGltZSBQcm9qZWN0aW9uJyB9LFxuICAgICAgICB7IG5hbWU6ICdnYW5uZmFuJywgdGV4dDogJ0dhbm4gRmFuJyB9LFxuICAgICAgICB7IG5hbWU6ICdvaGxjcHJvaicsIHRleHQ6ICdPSExDIFByb2onIH1cbiAgICBdKTtcblxuICAgIHB1YmxpYyBjbWRBZGRGaWd1cmUoZmlndXJlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIGNsb3NlIHBvcHVwXG4gICAgICAgICQoJyNwb3B1cE1lbnUnKS5wb3B1cCgnY2xvc2UnKTtcblxuICAgICAgICAvLyBzdGFydCBkcmF3aW5nXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2hhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFydC5jbWRBZGRGaWd1cmUoZmlndXJlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kU2V0Q3VycmVudENoYXJ0KHZtOiBDaGFydFZpZXdNb2RlbCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhcnQgPSB2bTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy4kZnJhbWUgPSAkKCcjZnJhbWUnKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lKCQod2luZG93KS53aWR0aCgpLCAkKHdpbmRvdykuaGVpZ2h0KCkpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGFzc2V0cy4nKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hc3NldHMgPSBhd2FpdCBBc3NldFNlcnZpY2UuZ2V0QXNzZXRzKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXNzZXRzIGFyZSBsb2FkZWQuJyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hhcnQgb2YgdGhpcy5jaGFydHMpIHtcbiAgICAgICAgICAgICAgICBjaGFydC5hc3NldHModGhpcy5hc3NldHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmluaXRDaGlsZENvbXBvbmVudHMoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGxvYWRpbmc6ICcgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpbnNlcnRDaGFydChpbmRleDogbnVtYmVyLCBwYXJhbXM6IGFueSwgbm9kZT86IE5vZGUpOiBDaGFydFZpZXdNb2RlbCB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhcnRzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0c1tpbmRleF0gPSBuZXcgQ2hhcnRWaWV3TW9kZWwocGFyYW1zLCA8SFRNTEVsZW1lbnQ+bm9kZSwgdGhpcy5hc3NldHMsIHRoaXMuZGF0YVNlcnZpY2UpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZFtpbmRleF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0c1tpbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXJ0IGlzIGFscmVhZHkgY3JlYXRlZCBhdCBpbmRleCA9ICR7aW5kZXh9LmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ29tcG9uZW50TG9hZGVkID0gKGNoYXJ0Q29tcG9uZW50OiBDaGFydFZpZXdNb2RlbCkgPT4geyB9XG5cbiAgICBwdWJsaWMgb25yZWFkeSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZENvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25yZXNpemUgPSAoc2l6ZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMucmVzaXplRnJhbWUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkQ29tcG9uZW50cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRNb2RlKG46IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLm1vZGUgPSBuO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkQ29tcG9uZW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzaXplRnJhbWUodzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5mcmFtZVNpemUgPSB7IHdpZHRoOiB3LCBoZWlnaHQ6IGggfTtcbiAgICAgICAgdGhpcy4kZnJhbWUuaGVpZ2h0KGggLSAyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRDaGlsZENvbXBvbmVudHMoKSB7XG4gICAgICAgIHRoaXMuY2hhcnRzLmZvckVhY2goKGNoYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluaXRpYWxpemVkW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZ2V0Q2hhcnRMYXlvdXQoaW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWRbaW5kZXhdID0gY2hhcnQuaW5pdChsYXlvdXQudywgbGF5b3V0LmgsIGxheW91dC52KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDaGlsZENvbXBvbmVudHMoKSB7XG4gICAgICAgIHRoaXMuY2hhcnRzLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZ2V0Q2hhcnRMYXlvdXQoaSk7XG4gICAgICAgICAgICBjLnNldFZpc2libGUobGF5b3V0LnYpO1xuICAgICAgICAgICAgYy5yZXNpemUobGF5b3V0LncsIGxheW91dC5oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDaGFydExheW91dChjaGFydEluZGV4OiBudW1iZXIpOiBJTGF5b3V0IHtcbiAgICAgICAgY29uc3QgZnJhbWVIZWlnaHQgPSB0aGlzLmZyYW1lU2l6ZS5oZWlnaHQgLSA1MDtcbiAgICAgICAgY29uc3QgZnJhbWVXaWR0aCA9IHRoaXMuZnJhbWVTaXplLndpZHRoIC0gNjtcbiAgICAgICAgaWYgKGNoYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IDFcbiAgICAgICAgICAgICAgICA/IHsgdzogdGhpcy5mcmFtZVNpemUud2lkdGggLCBoOiBmcmFtZUhlaWdodCAtIDIsIHY6IHRydWUgfVxuICAgICAgICAgICAgICAgIDogeyB3OiBmcmFtZVdpZHRoIC8gMiAsIGg6IGZyYW1lSGVpZ2h0IC8gMiAtIDIsIHY6IHRydWUgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IDFcbiAgICAgICAgICAgICAgICA/IHsgdzogZnJhbWVXaWR0aCAvIDIsIGg6IGZyYW1lSGVpZ2h0IC8gMiAtIDIsIHY6IGZhbHNlIH1cbiAgICAgICAgICAgICAgICA6IHsgdzogZnJhbWVXaWR0aCAvIDIgLCBoOiBmcmFtZUhlaWdodCAvIDIgLSAyLCB2OiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmludGVyZmFjZSBJU2l6ZSB7XG4gICAgdzogbnVtYmVyO1xuICAgIGg6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIElMYXlvdXQge1xuICAgIHc6IG51bWJlcjtcbiAgICBoOiBudW1iZXI7XG4gICAgdjogYm9vbGVhbjtcbn1cbiIsIi8qKlxuICogQ2hhcnRWaWV3TW9kZWwgY2xhc3MuIFZpZXcgbW9kZWwgb2YgYSBzcGVjaWZpYyBjaGFydC5cbiAqL1xuaW1wb3J0ICogYXMgbHljaGFydCBmcm9tICcuLi8uLi8uLi9zcmMvbHljaGFydCc7XG5pbXBvcnQgQ2hhcnRCb2FyZCA9IGx5Y2hhcnQuQ2hhcnRCb2FyZDtcbmltcG9ydCBDYW5kbGVzdGljayA9IGx5Y2hhcnQubW9kZWwuQ2FuZGxlc3RpY2s7XG5pbXBvcnQgVWlkID0gbHljaGFydC5tb2RlbC5VaWQ7XG5pbXBvcnQgRGF0ZVV0aWxzID0gbHljaGFydC51dGlscy5EYXRlVXRpbHM7XG5cbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vbW9kZWwvQXNzZXQnO1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9EYXRhU2VydmljZSc7XG5pbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnLi4vc2VydmljZXMvU3RvcmFnZSc7XG5pbXBvcnQgeyBQb3B1cFZpZXdNb2RlbCB9IGZyb20gJy4vUG9wdXBWaWV3TW9kZWwnO1xuaW1wb3J0IHsgUHJvcHNWaWV3TW9kZWwgfSBmcm9tICcuL1Byb3BzVmlld01vZGVsJztcbmltcG9ydCB7IEl0ZW1TZWxlY3RlZEFyZywgVHJlZVZpZXdNb2RlbCB9IGZyb20gJy4vVHJlZVZpZXdNb2RlbCc7XG5cbmNvbnN0IFBBTkVMX1dJRFRIID0gMjAwO1xuXG5leHBvcnQgY2xhc3MgQ2hhcnRWaWV3TW9kZWwge1xuXG4gICAgcHJpdmF0ZSBib2FyZDogQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGRhdGFTZXJ2aWNlOiBEYXRhU2VydmljZTtcbiAgICBwcml2YXRlIGRhdGFTb3VyY2U6IGx5Y2hhcnQuZGF0YS5IdHRwRGF0YVNvdXJjZTtcblxuICAgIHByaXZhdGUgbm9kZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSAkY2hhcnRDb250YWluZXI6IEpRdWVyeTtcbiAgICBwcml2YXRlIHBhcmFtczogYW55O1xuICAgIHByaXZhdGUgYWN0dWFsSW5kaWNhdG9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIHB1YmxpYyB0cmVlVk06IFRyZWVWaWV3TW9kZWw7XG4gICAgcHVibGljIHByb3BzVk06IFByb3BzVmlld01vZGVsO1xuICAgIHB1YmxpYyBwb3B1cFZNOiBQb3B1cFZpZXdNb2RlbDtcbiAgICBwdWJsaWMgZWRpdFByb3BlcnRpZXNNb2RlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG5cbiAgICBwdWJsaWMgdmlzaWJsZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHB1YmxpYyB3aWR0aCA9IGtvLm9ic2VydmFibGUoMCk7XG4gICAgcHVibGljIGhlaWdodCA9IGtvLm9ic2VydmFibGUoMCk7XG4gICAgcHVibGljIGFzc2V0cyA9IGtvLm9ic2VydmFibGVBcnJheTxBc3NldD4oW10pO1xuICAgIHB1YmxpYyBzZWxlY3RlZEFzc2V0ID0ga28ub2JzZXJ2YWJsZSgnQlRDQ0hGJyk7XG4gICAgcHVibGljIHNlbGVjdGVkSW50ZXJ2YWwgPSBrby5vYnNlcnZhYmxlKCdob3VyJyk7XG4gICAgcHVibGljIHNlbGVjdGVkQ2hhcnRUeXBlID0ga28ub2JzZXJ2YWJsZSgnY2FuZGxlJyk7XG4gICAgcHVibGljIHNlbGVjdGVkQ29tcGFyZUFzc2V0ID0ga28ub2JzZXJ2YWJsZSgnQlRDQ0hGJyk7XG4gICAgcHVibGljIHNlbGVjdGVkSW5kaWNhdG9ycyA9IGtvLm9ic2VydmFibGVBcnJheShbXSk7XG5cbiAgICBwdWJsaWMgcGFuZWxWaXNpYmxlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgcHVibGljIHBhbmVsV2lkdGggPSBrby5vYnNlcnZhYmxlKDQ0KTtcbiAgICBwdWJsaWMgcGFuZWxIZWlnaHQgPSBrby5vYnNlcnZhYmxlKDApO1xuXG4gICAgcHVibGljIGNoYXJ0VWlkID0ga28ub2JzZXJ2YWJsZShNYXRoLnJhbmRvbSgpKTtcbiAgICBwdWJsaWMgdW5kb0Rpc2FibGVkID0ga28ub2JzZXJ2YWJsZSh0cnVlKTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0b3VwZGF0ZVBlcmlvZCA9IDEwOyAvLyBJbiBzZWNvbmRzXG4gICAgcHJpdmF0ZSBhdXRvdXBkYXRlVGltZXI/OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IGFueSwgbm9kZTogSFRNTEVsZW1lbnQsIGFzc2V0czogQXNzZXRbXSwgZGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuYXNzZXRzKGFzc2V0cyk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmRhdGFTZXJ2aWNlID0gZGF0YVNlcnZpY2U7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZEFzc2V0LnN1YnNjcmliZSh0aGlzLm9uQXNzZXRDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEludGVydmFsLnN1YnNjcmliZSh0aGlzLm9uSW50ZXJ2YWxDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJ0VHlwZS5zdWJzY3JpYmUodGhpcy5vbkNoYXJ0VHlwZUNoYW5nZWQpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNhdG9ycy5zdWJzY3JpYmUodGhpcy5vbkluZGljYXRvcnNDaGFuZ2VkKTtcblxuICAgICAgICB0aGlzLiRjaGFydENvbnRhaW5lciA9ICQoJy5jaGFydC1jb250YWluZXInLCB0aGlzLm5vZGUpO1xuXG4gICAgICAgIC8vIEluaXQgY2hhcnQgYm9hcmRcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy4kY2hhcnRDb250YWluZXIub2Zmc2V0KCk7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQ2hhcnRCb2FyZChcbiAgICAgICAgICAgIHRoaXMuJGNoYXJ0Q29udGFpbmVyWzBdLCBvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCwgMjAwLCAyMDAsIGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWwubWluLCBuZXcgU3RvcmFnZSgpLCB0aGlzLmRhdGFTZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5ib2FyZC5zZWxlY3Rpb25DaGFuZ2VkLm9uKHRoaXMuYm9hcmRfc2VsZWN0aW9uQ2hhbmdlZCk7XG4gICAgICAgIHRoaXMuYm9hcmQudHJlZUNoYW5nZWQub24odGhpcy5ib2FyZF90cmVlQ2hhbmdlZCk7XG4gICAgICAgIHRoaXMuYm9hcmQuaGlzdG9yeUNoYW5nZWQub24odGhpcy5ib2FyZF9oaXN0b3J5Q2hhbmdlZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdm06IGNoYXJ0IGJvYXJkIGNyZWF0ZWQuJyk7XG5cbiAgICAgICAgLy8gSW5pdCB0cmVlIHZtXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMudHJlZVZNID0gbmV3IFRyZWVWaWV3TW9kZWwodGhpcy5ib2FyZCk7XG4gICAgICAgIHRoaXMudHJlZVZNLml0ZW1TZWxlY3RlZC5vbih0aGlzLnRyZWVfaXRlbVNlbGVjdGVkKTtcblxuICAgICAgICAvLyBJbml0IHByb3BzIHZtXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMucHJvcHNWTSA9IG5ldyBQcm9wc1ZpZXdNb2RlbCgkKCcucHJvcGVydGllcycsIHRoaXMubm9kZSlbMF0sIHRoaXMuYm9hcmQpO1xuICAgICAgICB0aGlzLnByb3BzVk0uY2xvc2luZ0V2dC5vbih0aGlzLnByb3BzX2Nsb3NpbmcpO1xuICAgICAgICB0aGlzLnByb3BzVk0uYXBwbGllZEV2dC5vbih0aGlzLnByb3BzX2FwcGxpZWQpO1xuXG4gICAgICAgIC8vIEluaXQgcG9wdXAgdm1cbiAgICAgICAgdGhpcy5wb3B1cFZNID0gbmV3IFBvcHVwVmlld01vZGVsKCQoJy5wb3B1cG1lbnUnLCB0aGlzLm5vZGUpWzBdLCB0aGlzLmJvYXJkKTtcbiAgICAgICAgdGhpcy5wb3B1cFZNLmV4ZWN1dGVkRXZ0Lm9uKHRoaXMucG9wdXBfZXhlY3V0ZWQpO1xuXG4gICAgICAgIC8vIFNldCB1cCBhdXRvIHVwZGF0ZSB0aW1lclxuICAgICAgICB0aGlzLmF1dG91cGRhdGVUaW1lciA9IHNldFRpbWVvdXQodGhpcy5hdXRvVXBkYXRlLCB0aGlzLmF1dG91cGRhdGVQZXJpb2QgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWZ0ZXJMb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMubG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5sb2FkZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kQWRkRmlndXJlKGZpZ3VyZVR5cGU6IHN0cmluZykge1xuICAgICAgICBpZiAoZmlndXJlVHlwZSkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5kcmF3aW5nLnN0YXJ0KGZpZ3VyZVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNtZENvbXBhcmUoKSB7XG4gICAgICAgIGNvbnN0IGFzc2V0ID0gdGhpcy5zZWxlY3RlZENvbXBhcmVBc3NldCgpO1xuICAgICAgICBjb25zdCBkcyA9IHRoaXMuZGF0YVNlcnZpY2UuY3JlYXRlRGF0YVNvdXJjZShhc3NldCwgc3RyMmludGVydmFsKHRoaXMuc2VsZWN0ZWRJbnRlcnZhbCgpKSk7XG4gICAgICAgIHRoaXMuYm9hcmQuYWRkQ2hhcnQobHljaGFydC51dGlscy5VaWRVdGlscy5ORVdVSUQoKSwgYXNzZXQsIGx5Y2hhcnQuY29yZS5DaGFydFR5cGUuY2FuZGxlLCBkcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNtZFNob3dQYW5lbCh2aXNpYmxlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMucGFuZWxWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB0aGlzLnBhbmVsV2lkdGgodmlzaWJsZSA/IFBBTkVMX1dJRFRIIDogNDQpO1xuICAgICAgICB0aGlzLnJlc2l6ZUNoYXJ0Q29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5ib2FyZC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY21kVW5kbygpIHtcbiAgICAgICAgdGhpcy5ib2FyZC51bmRvKCk7XG4gICAgICAgIHRoaXMuYm9hcmQucmVuZGVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmlldygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KHc6IG51bWJlciwgaDogbnVtYmVyLCB2aXNpYmxlOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMud2lkdGgodyk7XG4gICAgICAgIHRoaXMuaGVpZ2h0KGgpO1xuICAgICAgICB0aGlzLnZpc2libGUodmlzaWJsZSk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWQgPSB0aGlzLnJlc2V0Q2hhcnQoKTtcbiAgICAgICAgdGhpcy50cmVlVk0udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiBpbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMud2lkdGgodyk7XG4gICAgICAgIHRoaXMuaGVpZ2h0KGgpO1xuICAgICAgICB0aGlzLnJlc2l6ZUNoYXJ0Q29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5ib2FyZC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VmlzaWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnZpc2libGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qIFxuICAgICAqIEV2ZW50IGhhbmRsZXJzXG4gICAgKi9cblxuICAgIHByaXZhdGUgb25Bc3NldENoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdm06IGV2ZW50IFwiYXNzZXQgY2hhbmdlZFwiJyk7XG4gICAgICAgIHRoaXMucmVzZXRDaGFydCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25JbnRlcnZhbENoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdm06IGV2ZW50IFwiaW50ZXJ2YWwgY2hhbmdlZFwiJyk7XG4gICAgICAgIHRoaXMucmVzZXRDaGFydCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25DaGFydFR5cGVDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmJvYXJkLnNldENoYXJ0VHlwZSh0aGlzLnNlbGVjdGVkQ2hhcnRUeXBlKCkpO1xuICAgICAgICB0aGlzLnRyZWVWTS51cGRhdGUoKTtcbiAgICAgICAgLy8gdGhpcy5ib2FyZC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uSW5kaWNhdG9yc0NoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkOiBzdHJpbmdbXSA9IHRoaXMuc2VsZWN0ZWRJbmRpY2F0b3JzKCk7XG5cbiAgICAgICAgY29uc3QgYWRkZWQgPSBzZWxlY3RlZCA/IHNlbGVjdGVkLmZpbHRlcihpdGVtID0+ICF0aGlzLmFjdHVhbEluZGljYXRvcnMuc29tZShleGlzdGluZyA9PiBleGlzdGluZyA9PT0gaXRlbSkpIDogW107XG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSBzZWxlY3RlZCA/IHRoaXMuYWN0dWFsSW5kaWNhdG9ycy5maWx0ZXIoZXhpc3RpbmcgPT4gIXNlbGVjdGVkLnNvbWUoc2VsID0+IHNlbCA9PT0gZXhpc3RpbmcpKSA6IHRoaXMuYWN0dWFsSW5kaWNhdG9ycztcbiAgICAgICAgYWRkZWQuZm9yRWFjaChpbmRpY2F0b3IgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRzID0gaW5kaWNhdG9yLnNwbGl0KCdfJyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZUluZGljYXRvcihzcGxpdHNbMF0sIHNwbGl0c1swXSwgcGFyc2VJbnQoc3BsaXRzWzFdLCAxMCksIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVtb3ZlZC5mb3JFYWNoKGluZGljYXRvciA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGxpdHMgPSBpbmRpY2F0b3Iuc3BsaXQoJ18nKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlSW5kaWNhdG9yKHNwbGl0c1swXSwgc3BsaXRzWzBdLCBwYXJzZUludChzcGxpdHNbMV0sIDEwKSwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hY3R1YWxJbmRpY2F0b3JzID0gc2VsZWN0ZWQgPyBzZWxlY3RlZCA6IFtdO1xuXG4gICAgICAgIHRoaXMudHJlZVZNLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmJvYXJkLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdHJlZV9pdGVtU2VsZWN0ZWQgPSAoYXJnOiBJdGVtU2VsZWN0ZWRBcmcpID0+IHtcbiAgICAgICAgaWYgKGFyZy5vYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHNWTS5yZWJ1aWxkKGFyZy5vYmplY3QpO1xuICAgICAgICAgICAgdGhpcy5lZGl0UHJvcGVydGllc01vZGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHByb3BzX2Nsb3NpbmcgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWRpdFByb3BlcnRpZXNNb2RlKGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9wc19hcHBsaWVkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmJvYXJkLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBvcHVwX2V4ZWN1dGVkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkX3NlbGVjdGlvbkNoYW5nZWQgPSAoYXJnOiBseWNoYXJ0LmNvcmUuT2JqZWN0RXZlbnRBcmd1bWVudCkgPT4ge1xuICAgICAgICAvL3RoaXMucG9wdXBWaXNpYmxlKGFyZy5vYmogPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICB0aGlzLnBvcHVwVk0udmlzaWJsZShhcmcub2JqID8gdHJ1ZSA6IGZhbHNlKTtcblxuICAgICAgICB0aGlzLnBvcHVwVk0ucmVidWlsZChhcmcub2JqKTtcbiAgICAgICAgdGhpcy50cmVlX2l0ZW1TZWxlY3RlZChuZXcgSXRlbVNlbGVjdGVkQXJnKCcnLCBhcmcub2JqKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZF90cmVlQ2hhbmdlZCA9IChhcmc6IGx5Y2hhcnQuY29yZS5FdmVudEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMudHJlZVZNLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkX2hpc3RvcnlDaGFuZ2VkID0gKGFyZzogbHljaGFydC5jb3JlLkV2ZW50QXJndW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGFuZ2VJbmRpY2F0b3IgPSAodWlkOiBzdHJpbmcsIGluZGljYXRvclR5cGU6IHN0cmluZywgaW5kZXg6IG51bWJlciwgc3RhdGU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmFkZEluZGljYXRvcih1aWQsIGluZGljYXRvclR5cGUsIGluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucmVtb3ZlSW5kaWNhdG9yKHVpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2l6ZUNoYXJ0Q29udGFpbmVyKCkge1xuICAgICAgICAvLyBDb21wdXRlIHNpemUgb2YgY2hhcnQgYmFzZWQgb24gY29tcG9uZW50IHNpemUgYW5kIHBhbmVscyBzaXplXG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoKCk7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmhlaWdodCgpO1xuXG4gICAgICAgIGNvbnN0ICRjaGFydFRvb2xiYXIgPSAkKCcuY2hhcnQtdG9vbGJhcicsIHRoaXMubm9kZSk7XG4gICAgICAgIGNvbnN0IGNoYXJ0SCA9IE1hdGgubWF4KGggLSAkY2hhcnRUb29sYmFyLmhlaWdodCgpLCAwKTtcbiAgICAgICAgY29uc3QgY2hhcnRXID0gTWF0aC5tYXgodGhpcy5wYW5lbFZpc2libGUoKSA/IHcgLSBQQU5FTF9XSURUSCA6IHcgLSA0NCwgMCk7XG5cbiAgICAgICAgLy8gcmVzaXplIGNvbnRhaW5lclxuICAgICAgICAvL1xuICAgICAgICB0aGlzLiRjaGFydENvbnRhaW5lci5oZWlnaHQoY2hhcnRIKTtcbiAgICAgICAgdGhpcy4kY2hhcnRDb250YWluZXIud2lkdGgoY2hhcnRXKTtcblxuICAgICAgICAvLyByZXNpemUgYm9hcmRcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5ib2FyZC5yZXNpemUoY2hhcnRXLCBjaGFydEgpO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuJGNoYXJ0Q29udGFpbmVyLm9mZnNldCgpO1xuICAgICAgICB0aGlzLmJvYXJkLm9mZnNldCA9IG5ldyBseWNoYXJ0LnNoYXJlZC5Qb2ludChvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCk7XG5cbiAgICAgICAgLy8gcmVzaXplIHBhbmVsXG4gICAgICAgIHRoaXMucGFuZWxIZWlnaHQoY2hhcnRIIC0gMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBjaGFydCB0byB0aGUgc2VsZWN0ZWQgYXNzZXQgcGFpciBhbmQgdGltZSBpbnRlcnZhbC5cbiAgICAgKiBAcGFyYW0gYXNzZXRQYWlySWRcbiAgICAgKiBAcGFyYW0gdGltZUludGVydmFsIFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0Q2hhcnQoYXNzZXRQYWlySWQ6IHN0cmluZywgdGltZUludGVydmFsOiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsKTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKCFhc3NldFBhaXJJZCB8fCAhdGltZUludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2N2bTogY3JlYXRpbmcgZGF0YSBzb3VyY2UuLi4nKTtcbiAgICAgICAgLy8gcmVjcmVhdGUgZGF0YSBzb3VyY2VcbiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gIHRoaXMuZGF0YVNlcnZpY2UuY3JlYXRlRGF0YVNvdXJjZShhc3NldFBhaXJJZCwgdGltZUludGVydmFsKTtcblxuICAgICAgICB0aGlzLmJvYXJkLnNldFRpbWVJbnRlcnZhbCh0aW1lSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLmJvYXJkLnNldERhdGFTb3VyY2UoXG4gICAgICAgICAgICBhc3NldFBhaXJJZCwgLy8gdWlkXG4gICAgICAgICAgICBhc3NldFBhaXJJZCwgLy8gbmFtZVxuICAgICAgICAgICAgKHRpbWVJbnRlcnZhbCA9PT0gbHljaGFydC5jb3JlLlRpbWVJbnRlcnZhbC5zZWMpID8gbHljaGFydC5jb3JlLkNoYXJ0VHlwZS5saW5lIDogbHljaGFydC5jb3JlLkNoYXJ0VHlwZS5jYW5kbGUsXG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXRDaGFydCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2hhcnQodGhpcy5zZWxlY3RlZEFzc2V0KCksIHN0cjJpbnRlcnZhbCh0aGlzLnNlbGVjdGVkSW50ZXJ2YWwoKSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVmlldygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51bmRvRGlzYWJsZWQodGhpcy5ib2FyZCA/IHRoaXMuYm9hcmQuaGlzdG9yeS5sZW5ndGggPT09IDAgOiB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaW1lciBldmVudCBoYW5kbGVyLiBVcGRhdGVzIGNoYXJ0LlxuICAgICAqL1xuICAgIHByaXZhdGUgYXV0b1VwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2F1dG8gdXBkYXRlJyk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzdHIyaW50ZXJ2YWwodGhpcy5zZWxlY3RlZEludGVydmFsKCkpO1xuICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBzdGFydCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChlbmQsIGludGVydmFsLCAtMTApO1xuXG4gICAgICAgIHRoaXMuZGF0YVNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRDYW5kbGVzKHRoaXMuc2VsZWN0ZWRBc3NldCgpLCBzdGFydCwgZW5kLCBpbnRlcnZhbClcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4geyB0aGlzLmRhdGFTb3VyY2UubWVyZ2UoZGF0YSk7IH0pO1xuXG4gICAgICAgIHRoaXMuYm9hcmQucmVuZGVyKCk7XG5cbiAgICAgICAgLy8gc2NoZWR1bGUgbmV4dCBhdXRvdXBkYXRlXG4gICAgICAgIHRoaXMuYXV0b3VwZGF0ZVRpbWVyID0gc2V0VGltZW91dCh0aGlzLmF1dG9VcGRhdGUsIHRoaXMuYXV0b3VwZGF0ZVBlcmlvZCAqIDEwMDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RyMmludGVydmFsKHZhbHVlOiBhbnkpOiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsIHtcbiAgICBjb25zdCB0aW1laW50ZXJ2YWw6IGtleW9mIHR5cGVvZiBseWNoYXJ0LmNvcmUuVGltZUludGVydmFsID0gdmFsdWU7XG4gICAgcmV0dXJuIGx5Y2hhcnQuY29yZS5UaW1lSW50ZXJ2YWxbdGltZWludGVydmFsXTtcbn1cbiIsIi8qKlxuICogUG9wdXBWaWV3TW9kZWwgY2xhc3MuXG4gKi9cbmltcG9ydCAqIGFzIGx5Y2hhcnQgZnJvbSAnLi4vLi4vLi4vc3JjL2x5Y2hhcnQnO1xuaW1wb3J0IENoYXJ0Qm9hcmQgPSBseWNoYXJ0LkNoYXJ0Qm9hcmQ7XG5pbXBvcnQgSUV2ZW50ID0gbHljaGFydC5zaGFyZWQuSUV2ZW50O1xuaW1wb3J0IEV2ZW50ID0gbHljaGFydC5zaGFyZWQuRXZlbnQ7XG5pbXBvcnQgU2V0dGluZ1NldCA9IGx5Y2hhcnQuY29yZS5TZXR0aW5nU2V0O1xuaW1wb3J0IFNldHRpbmdUeXBlID0gbHljaGFydC5jb3JlLlNldHRpbmdUeXBlO1xuaW1wb3J0IFZpc3VhbENvbXBvbmVudCA9IGx5Y2hhcnQuY29yZS5WaXN1YWxDb21wb25lbnQ7XG5cbi8qKlxuICogVmlldyBtb2RlbCBmb3IgcG9wdXAgZGlhbG9nLlxuICovXG5leHBvcnQgY2xhc3MgUG9wdXBWaWV3TW9kZWwge1xuICAgIHB1YmxpYyByZWFkb25seSBleGVjdXRlZEV2dCA9IG5ldyBFdmVudCgpO1xuXG4gICAgcHVibGljIHZpc2libGUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICBwdWJsaWMgdm1VaWQgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgcHJpdmF0ZSBvYmo6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgYm9hcmQ6IENoYXJ0Qm9hcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmQgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICAgICAgdGhpcy52bVVpZChyYW5kKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3B1cFZpZXdNb2RlbCBjdG9yOiAnICsgcmFuZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNtZE1vdmVVcCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMub2JqKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLm1vdmVVcCh0aGlzLm9iai51aWQpO1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kTW92ZURvd24oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm9iaikge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5tb3ZlRG93bih0aGlzLm9iai51aWQpO1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY21kUmVtb3ZlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5vYmopIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMub2JqLnVpZCk7XG4gICAgICAgICAgICB0aGlzLnZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVidWlsZChvYmo6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICB9XG59XG4iLCIvKipcbiAqIFByb3BzVmlld01vZGVsIGNsYXNzLiBWaWV3IG1vZGVsIG9mIGEgc3BlY2lmaWMgY2hhcnQuXG4gKi9cbmltcG9ydCAqIGFzIGx5Y2hhcnQgZnJvbSAnLi4vLi4vLi4vc3JjL2x5Y2hhcnQnO1xuaW1wb3J0IENoYXJ0Qm9hcmQgPSBseWNoYXJ0LkNoYXJ0Qm9hcmQ7XG5pbXBvcnQgSUV2ZW50ID0gbHljaGFydC5zaGFyZWQuSUV2ZW50O1xuaW1wb3J0IEV2ZW50ID0gbHljaGFydC5zaGFyZWQuRXZlbnQ7XG5pbXBvcnQgQ09iamVjdCA9IGx5Y2hhcnQuY29yZS5DT2JqZWN0O1xuaW1wb3J0IFNldHRpbmdTZXQgPSBseWNoYXJ0LmNvcmUuU2V0dGluZ1NldDtcbmltcG9ydCBTZXR0aW5nVHlwZSA9IGx5Y2hhcnQuY29yZS5TZXR0aW5nVHlwZTtcbmltcG9ydCBWaXN1YWxDb21wb25lbnQgPSBseWNoYXJ0LmNvcmUuVmlzdWFsQ29tcG9uZW50O1xuXG5leHBvcnQgY2xhc3MgUHJvcHNFdmVudCBleHRlbmRzIEV2ZW50PHVuZGVmaW5lZD4ge1xufVxuXG5leHBvcnQgY2xhc3MgUHJvcHNWaWV3TW9kZWwge1xuICAgIHB1YmxpYyByZWFkb25seSBjbG9zaW5nRXZ0ID0gbmV3IFByb3BzRXZlbnQoKTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXBwbGllZEV2dCA9IG5ldyBQcm9wc0V2ZW50KCk7XG5cbiAgICBwdWJsaWMgdGl0bGUgPSBrby5vYnNlcnZhYmxlKCcnKTtcblxuICAgIHByaXZhdGUgb2JqOiBDT2JqZWN0O1xuICAgIHByaXZhdGUgc2V0dGluZ05hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgYm9hcmQ6IENoYXJ0Qm9hcmQpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgY21kQXBwbHkoKSB7XG4gICAgICAgIGlmICh0aGlzLm9iaikge1xuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLmNvbGxlY3RTZXR0aW5ncygpO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5zZXRPYmplY3RTZXR0aW5ncyh0aGlzLm9iai51aWQsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGxpZWRFdnQudHJpZ2dlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbWRDYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuY2xvc2luZ0V2dC50cmlnZ2VyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlYnVpbGQob2JqOiBDT2JqZWN0KTogdm9pZCB7XG4gICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCB1aWQgaXMgbm90IHNwZWNpZmllZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuXG4gICAgICAgIC8vIHNldCB0aXRsZVxuICAgICAgICB0aGlzLnRpdGxlKG9iai5uYW1lIHx8ICcnKTtcblxuICAgICAgICAvLyBjbGVhciBjb250cm9sc1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5lbXB0eSgpO1xuXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5ib2FyZC5nZXRPYmplY3RTZXR0aW5ncyhvYmoudWlkKTtcbiAgICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdOYW1lID0gc2V0dGluZ3MubmFtZTtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0ZShzZXR0aW5ncywgJycsIHRoaXMudGl0bGUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdOYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGl0ZXJhdGUoc3M6IFNldHRpbmdTZXQsIHBhdGg6IHN0cmluZywgdGl0bGU6IHN0cmluZykge1xuICAgICAgICBwYXRoID0gcGF0aCA/IHBhdGggKyAnLicgKyBzcy5uYW1lIDogc3MubmFtZTtcblxuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgT2JqZWN0LmtleXMoc3Muc2V0dGluZ3MpKSB7XG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nID0gc3Muc2V0dGluZ3Nbc107XG5cbiAgICAgICAgICAgIC8vIFNldCBncm91cCdzIG5hbWVcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLmdyb3VwICYmIHNldHRpbmcuZGlzcGFseU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkZGl2ID0gJCgnPGg0IC8+JylcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoc2V0dGluZy5kaXNwYWx5TmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzdWJ0aXRsZScpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVTZXR0aW5nKHNldHRpbmcsIHBhdGggKyAnLicgKyBzZXR0aW5nLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRlKHNldHRpbmcsIHBhdGgsICcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9wdWxhdGVTZXR0aW5nKHNzOiBTZXR0aW5nU2V0LCBmdWxsUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChzcy5ncm91cCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgJGRpdiA9ICQoJzxkaXYgLz4nKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdmaWVsZC1jb250YWluJylcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lcik7XG5cbiAgICAgICAgJCgnPGxhYmVsIC8+JylcbiAgICAgICAgICAgIC50ZXh0KHNzLmRpc3BhbHlOYW1lKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdmaWVsZC10aXRsZScpXG4gICAgICAgICAgICAuYXBwZW5kVG8oJGRpdik7XG5cbiAgICAgICAgc3dpdGNoIChzcy5zZXR0aW5nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTZXR0aW5nVHlwZS5jaGVjazpcbiAgICAgICAgICAgICAgICAkKCc8aW5wdXQgLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogc3MudmFsdWUgPT09ICd0cnVlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNzLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ZpZWxkLWlucHV0JylcbiAgICAgICAgICAgICAgICAuYXR0cignZGF0YS10eXBlJywgc3Muc2V0dGluZ1R5cGUpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRkaXYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLmNvbG9yOlxuICAgICAgICAgICAgICAgICQoJzxpbnB1dCAvPicsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3MudmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtaW5wdXQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXR5cGUnLCBzcy5zZXR0aW5nVHlwZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGRpdik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUubnVtZXJpYzpcbiAgICAgICAgICAgICAgICAkKCc8aW5wdXQgLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3MudmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtaW5wdXQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXR5cGUnLCBzcy5zZXR0aW5nVHlwZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGRpdik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuZGF0ZTpcbiAgICAgICAgICAgICAgICAkKCc8aW5wdXQgLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3MudmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZmllbGQtaW5wdXQnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXR5cGUnLCBzcy5zZXR0aW5nVHlwZSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGRpdik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuc2VsZWN0OlxuICAgICAgICAgICAgICAgIGxldCBzZWwgPSAkKCc8c2VsZWN0IC8+Jywge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsUGF0aFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdmaWVsZC1pbnB1dCcpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtdHlwZScsIHNzLnNldHRpbmdUeXBlKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkZGl2KTtcblxuICAgICAgICAgICAgICAgIHNzLm9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKCc8b3B0aW9uIC8+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbi50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IChvcHRpb24udmFsdWUgPT09IHNzLnZhbHVlKSA/ICdzZWxlY3RlZCcgOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oc2VsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbGxlY3RTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcblxuICAgICAgICBjb25zdCBzID0gbmV3IFNldHRpbmdTZXQodGhpcy5zZXR0aW5nTmFtZSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gJCgnLmZpZWxkLWlucHV0JywgdGhpcy5jb250YWluZXIpLmdldCgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuXG4gICAgICAgICAgICBjb25zdCBhdHRyVHlwZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNzID0gbmV3IFNldHRpbmdTZXQobmFtZSk7XG5cbiAgICAgICAgICAgICAgICBzcy5zZXR0aW5nVHlwZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSB8fCAnJztcbiAgICAgICAgICAgICAgICBpZiAoYXR0clR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3MudmFsdWUgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZWxlbWVudCkuY2hlY2tlZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0clR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3MudmFsdWUgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNzLnZhbHVlID0gKDxIVE1MSW5wdXRFbGVtZW50PmVsZW1lbnQpLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0clR5cGUgPT09ICdkYXRlJykge1xuICAgICAgICAgICAgICAgICAgICBzcy52YWx1ZSA9ICg8SFRNTElucHV0RWxlbWVudD5lbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gKDxIVE1MU2VsZWN0RWxlbWVudD5lbGVtZW50KS5vcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBzcy52YWx1ZSA9ICg8SFRNTE9wdGlvbkVsZW1lbnQ+b3B0aW9uc1tvcHRpb25zLnNlbGVjdGVkSW5kZXhdKS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzLnNldFNldHRpbmcocGF0aCwgc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUcmVlVmlld01vZGVsIGNsYXNzLiBWaWV3IG1vZGVsIG9mIGEgc3BlY2lmaWMgY2hhcnQuXG4gKi9cbmltcG9ydCAqIGFzIGx5Y2hhcnQgZnJvbSAnLi4vLi4vLi4vc3JjL2x5Y2hhcnQnO1xuaW1wb3J0IENoYXJ0Qm9hcmQgPSBseWNoYXJ0LkNoYXJ0Qm9hcmQ7XG5pbXBvcnQgSUV2ZW50ID0gbHljaGFydC5zaGFyZWQuSUV2ZW50O1xuaW1wb3J0IEV2ZW50ID0gbHljaGFydC5zaGFyZWQuRXZlbnQ7XG5cbmV4cG9ydCBjbGFzcyBJdGVtU2VsZWN0ZWRBcmcge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdWlkOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBvYmplY3Q6IGFueVxuICAgICkge1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEl0ZW1TZWxlY3RlZEV2ZW50IGV4dGVuZHMgRXZlbnQ8SXRlbVNlbGVjdGVkQXJnPiB7XG59XG5cbmV4cG9ydCBjbGFzcyBUcmVlVmlld01vZGVsIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXRlbVNlbGVjdGVkID0gbmV3IEl0ZW1TZWxlY3RlZEV2ZW50KCk7XG5cbiAgICBwdWJsaWMgc3RhY2tzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBib2FyZDogQ2hhcnRCb2FyZCkge1xuXG4gICAgICAgIHRoaXMucmVidWlsZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbWRTZWxlY3RDaGFydChjaGFydDogYW55KSB7XG4gICAgICAgIGlmIChjaGFydCAmJiBjaGFydC51aWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0T2JqZWN0QnlVaWQoY2hhcnQudWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbWRTZWxlY3RGaWd1cmUoZmlndXJlOiBhbnkpIHtcbiAgICAgICAgaWYgKGZpZ3VyZSAmJiBmaWd1cmUudWlkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdE9iamVjdEJ5VWlkKGZpZ3VyZS51aWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZWxlY3RPYmplY3RCeVVpZCh1aWQ6IHN0cmluZykge1xuICAgICAgICBpZiAodWlkKSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLmJvYXJkLmdldE9iamVjdEJ5SWQodWlkKTtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1TZWxlY3RlZC50cmlnZ2VyKG5ldyBJdGVtU2VsZWN0ZWRBcmcodWlkLCBvYmopKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignT2JqZWN0IGlzIG5vdCBmb3VuZCwgdWlkID0gJyArIHVpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnJlYnVpbGQoKTtcblxuICAgICAgICAkKCdbZGF0YS1yb2xlPVwiY29sbGFwc2libGVcIl0nKS50cmlnZ2VyKCdjcmVhdGUnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYnVpbGQoKSB7XG4gICAgICAgIHRoaXMuc3RhY2tzLnJlbW92ZUFsbCgpO1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmJvYXJkLnN0YWNrcy5mb3JFYWNoKHN0YWNrID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY2hhcnRzID0gc3RhY2suY2hhcnRzLm1hcChzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IHMudWlkLCBuYW1lOiBzLm5hbWUgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmaWd1cmVzID0gc3RhY2suZmlndXJlcy5tYXAoZiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBmLnVpZCwgbmFtZTogZi5uYW1lIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5zdGFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdWlkOiBzdGFjay51aWQsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0NoYXJ0JyxcbiAgICAgICAgICAgICAgICBjaGFydHM6IGNoYXJ0cyxcbiAgICAgICAgICAgICAgICBmaWd1cmVzOiBmaWd1cmVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIHJlbGF0ZWQgdG8gZ3JpZCBjYWxjdWxhdGlvbi5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgVGltZUJhciwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UsIEl0ZXJhdG9yIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscywgTnVtYmVyVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5cbmNsYXNzIFNjYWxlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN0ZXA6IG51bWJlcixcbiAgICAgICAgcHVibGljIHByZWNpc2lvbjogbnVtYmVyKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlckF1dG9HcmlkIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5JbnRlcnZhbDogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmFuZ2U6IElSYW5nZTxudW1iZXI+O1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNjYWxlcyA9IFtcbiAgICAgICAgbmV3IFNjYWxlKDAuMDAwMSwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjAwMDUsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4wMDEwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMDAyNSwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjAwNTAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4wMTAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMDI1MCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjA1MDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMC4xMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDAuMjUwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgwLjUwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMS4wMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUuMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMC4wMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDI1LjAwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoNTAuMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMjUwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDI1MDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoNTAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgyNTAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSg1MDAwMCwgMCksXG4gICAgICAgIG5ldyBTY2FsZSgxMDAwMDAsIDApLFxuICAgICAgICBuZXcgU2NhbGUoMjUwMDAwLCAwKSxcbiAgICAgICAgbmV3IFNjYWxlKDUwMDAwMCwgMClcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IobGVuZ3RoOiBudW1iZXIsIG1pbkludGVydmFsOiBudW1iZXIsIHJhbmdlOiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICBpZiAoIWxlbmd0aCB8fCBsZW5ndGggPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibGVuZ3RoXCIgJHsgbGVuZ3RoIH0gaXMgb3V0IG9mIHJhbmdlLmApOyB9XG4gICAgICAgIGlmICghbWluSW50ZXJ2YWwgfHwgbWluSW50ZXJ2YWwgPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibWluSW50ZXJ2YWxcIiAkeyBtaW5JbnRlcnZhbCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuICAgICAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLmVuZCA9PT0gdW5kZWZpbmVkIHx8IHJhbmdlLnN0YXJ0ID09PSB1bmRlZmluZWQpIHsgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcInJhbmdlXCIgaXMgbm90IHNwZWNpZmllZC4nKTsgfVxuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLm1pbkludGVydmFsID0gbWluSW50ZXJ2YWw7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JpZCgpOiBHcmlkPG51bWJlcj4ge1xuICAgICAgICBjb25zdCBncmlkID0gbmV3IEdyaWQ8bnVtYmVyPigpO1xuXG4gICAgICAgIC8vIDEuIERlZmluZSBob3cgbWFueSBiYXJzIGNhbiBiZSBmaXR0ZWRcbiAgICAgICAgY29uc3QgW21pbkJhcnMsIG1heEJhcnNdID0gWzEsIE1hdGguZmxvb3IodGhpcy5sZW5ndGggLyAyMCldO1xuXG4gICAgICAgIC8vIDIuIENob29zZSBmaXR0aW5nIHNjYWxlXG4gICAgICAgIGNvbnN0IHJhbmdlQWJzID0gTWF0aC5hYnModGhpcy5yYW5nZS5lbmQgLSB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgbGV0IHNlbGVjdGVkU2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3Qgc2NhbGUgb2YgTnVtYmVyQXV0b0dyaWQuc2NhbGVzKSB7XG4gICAgICAgICAgICBpZiAoc2NhbGUuc3RlcCA8IHRoaXMubWluSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaG93IG1hbnkgYmFycyBkb2VzIHRoaXMgc2NhbGUgcmVxdWlyZTpcbiAgICAgICAgICAgIGNvbnN0IGJhcnNSZXF1aXJlZCA9IE1hdGguZmxvb3IocmFuZ2VBYnMgLyBzY2FsZS5zdGVwKSArIDE7XG5cbiAgICAgICAgICAgIGlmIChiYXJzUmVxdWlyZWQgPj0gbWluQmFycyAmJiBiYXJzUmVxdWlyZWQgPD0gbWF4QmFycykge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NhbGUgPSBzY2FsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRTY2FsZSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiBncmlkOyB9XG5cbiAgICAgICAgLy8gMy4gQ2FsY3VsYXRlIGZpcnN0IGJhclxuICAgICAgICAvL1xuICAgICAgICAvLyAuLi4gaWYgc3RhcnQgdGltZSBpcyBwbGFjZWQgb24gYmFyIHVzZSBpdCwgb3RoZXJ3aXNlIGNhbGN1bGF0ZSB3aGVyZSBmaXJzdCBiYXIgbGllc1xuICAgICAgICBsZXQgYmFyID0gMDtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2Uuc3RhcnQgJSBzZWxlY3RlZFNjYWxlLnN0ZXAgPT09IDApIHtcbiAgICAgICAgICAgIGJhciA9IHRoaXMucmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAuLi4gYWRkIHNjYWxlIHZhbHVlIGFuZCB0cnVuY2F0ZSBcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHRoaXMucmFuZ2Uuc3RhcnQgKyAodGhpcy5yYW5nZS5zdGFydCA+PSAwID8gc2VsZWN0ZWRTY2FsZS5zdGVwIDogLXNlbGVjdGVkU2NhbGUuc3RlcCk7XG4gICAgICAgICAgICBiYXIgPSBudW0gLSAobnVtICUgc2VsZWN0ZWRTY2FsZS5zdGVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQuIENhbGN1bGF0ZSByZW1haW5pbmcgYmFyc1xuICAgICAgICBsZXQgdDogbnVtYmVyID0gYmFyO1xuICAgICAgICB3aGlsZSAodCA8PSB0aGlzLnJhbmdlLmVuZCArIHNlbGVjdGVkU2NhbGUuc3RlcCkge1xuICAgICAgICAgICAgZ3JpZC5iYXJzLnB1c2godCk7XG4gICAgICAgICAgICB0ICs9IHNlbGVjdGVkU2NhbGUuc3RlcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyaWQucHJlY2lzaW9uID0gc2VsZWN0ZWRTY2FsZS5wcmVjaXNpb247XG4gICAgICAgIHJldHVybiBncmlkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVBdXRvR3JpZCBpbXBsZW1lbnRzIEl0ZXJhdG9yPFRpbWVCYXI+IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbkludGVydmFsOiBUaW1lSW50ZXJ2YWw7XG4gICAgcHJpdmF0ZSByZWFkb25seSByYW5nZTogSVJhbmdlPFVpZD47XG4gICAgcHJpdmF0ZSByZWFkb25seSB0aW1lOiBJdGVyYXRvcjxUaW1lQmFyPjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNjYWxlOiBUaW1lSW50ZXJ2YWw7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgc2NhbGVzOiBUaW1lSW50ZXJ2YWxbXSA9IFtcbiAgICAgICAgVGltZUludGVydmFsLnNlYyxcbiAgICAgICAgVGltZUludGVydmFsLm1pbixcbiAgICAgICAgVGltZUludGVydmFsLm1pbjUsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5taW4xNSxcbiAgICAgICAgVGltZUludGVydmFsLm1pbjMwLFxuICAgICAgICBUaW1lSW50ZXJ2YWwuaG91cixcbiAgICAgICAgVGltZUludGVydmFsLmhvdXI0LFxuICAgICAgICBUaW1lSW50ZXJ2YWwuaG91cjYsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5ob3VyMTIsXG4gICAgICAgIFRpbWVJbnRlcnZhbC5kYXksXG4gICAgICAgIFRpbWVJbnRlcnZhbC5kYXkzLFxuICAgICAgICBUaW1lSW50ZXJ2YWwud2VlayxcbiAgICAgICAgVGltZUludGVydmFsLmRheTEwLFxuICAgICAgICBUaW1lSW50ZXJ2YWwubW9udGhcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgbWluSW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgdGltZTogSXRlcmF0b3I8VGltZUJhcj4sIHJhbmdlOiBJUmFuZ2U8VWlkPikge1xuXG4gICAgICAgIGlmICghd2lkdGggfHwgd2lkdGggPD0gMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwid2lkdGhcIiAkeyB3aWR0aCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuICAgICAgICBpZiAoIW1pbkludGVydmFsIHx8IG1pbkludGVydmFsIDwgMCkgeyB0aHJvdyBuZXcgRXJyb3IoYEFyZ3VtZW50IFwibWluSW50ZXJ2YWxcIiAkeyBtaW5JbnRlcnZhbCB9IGlzIG91dCBvZiByYW5nZS5gKTsgfVxuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5taW5JbnRlcnZhbCA9IG1pbkludGVydmFsO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IFRpbWVBdXRvR3JpZC5zZWxlY3RTY2FsZSh0aGlzLndpZHRoLCB0aGlzLm1pbkludGVydmFsLCB0aGlzLnJhbmdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHNlbGVjdFNjYWxlKHdpZHRoOiBudW1iZXIsIG1pbkludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHJhbmdlOiBJUmFuZ2U8VWlkPik6IFRpbWVJbnRlcnZhbCB7XG5cbiAgICAgICAgY29uc3QgZ3JpZDogRGF0ZVtdID0gW107XG5cbiAgICAgICAgLy8gMS4gRGVmaW5lIGhvdyBtYW55IGJhcnMgY2FuIGJlIGZpdHRlZFxuICAgICAgICBjb25zdCBbbWluQmFycywgbWF4QmFyc10gPSBbMSwgTWF0aC5mbG9vcih3aWR0aCAvIDc1KV07XG5cbiAgICAgICAgLy8gMi4gQ2hvb3NlIGZpdHRpbmcgc2NhbGVcbiAgICAgICAgY29uc3QgcmFuZ2VJbk1zID0gTWF0aC5hYnMocmFuZ2UuZW5kLnQuZ2V0VGltZSgpIC0gcmFuZ2Uuc3RhcnQudC5nZXRUaW1lKCkpO1xuICAgICAgICBsZXQgc2VsZWN0ZWRTY2FsZSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgc2NhbGUgb2YgVGltZUF1dG9HcmlkLnNjYWxlcykge1xuICAgICAgICAgICAgaWYgKHNjYWxlIDwgbWluSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaG93IG1hbnkgYmFycyBkb2VzIHRoaXMgc2NhbGUgcmVxdWlyZTpcbiAgICAgICAgICAgIGNvbnN0IGJhcnNSZXF1aXJlZCA9IE1hdGguZmxvb3IocmFuZ2VJbk1zIC8gc2NhbGUpICsgMTtcblxuICAgICAgICAgICAgaWYgKGJhcnNSZXF1aXJlZCA+PSBtaW5CYXJzICYmIGJhcnNSZXF1aXJlZCA8PSBtYXhCYXJzKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2FsZSA9IHNjYWxlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFNjYWxlO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldCBjdXJyZW50KCk6IFRpbWVCYXIge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRpbWUucmVzZXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZU5leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAodGhpcy50aW1lLm1vdmVOZXh0KCkpIHtcbiAgICAgICAgICAgIGlmIChEYXRlVXRpbHMuaXNSb3VuZCh0aGlzLnRpbWUuY3VycmVudC51aWQudCwgdGhpcy5zY2FsZSkpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTnVtYmVyQXhpcyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgSUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBOdW1iZXJBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xuXG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJBeGlzIGltcGxlbWVudHMgSUF4aXM8bnVtYmVyPiB7XG5cbiAgICBwcml2YXRlIF9yYW5nZTogSVJhbmdlPG51bWJlcj47XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sZW5ndGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBsZW5ndGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlciwgICAgICAgICAvLyBEZWZpbmVzIG1heGltdW0gem9vbVxuICAgICAgICBpbml0aWFsUmFuZ2U/OiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gaW5pdGlhbFJhbmdlID8gaW5pdGlhbFJhbmdlIDoge3N0YXJ0OiAwLCBlbmQ6IDB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgbGVuZ3RoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByYW5nZSgpOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhbmdlKG5ld1JhbmdlOiBJUmFuZ2U8bnVtYmVyPikge1xuICAgICAgICB0aGlzLl9yYW5nZSA9IG5ld1JhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaW50ZXJ2YWwoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVydmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHcmlkKCk6IEdyaWQ8bnVtYmVyPiB7XG4gICAgICAgIGNvbnN0IGF1dG9HcmlkID0gbmV3IE51bWJlckF1dG9HcmlkKHRoaXMuX2xlbmd0aCwgdGhpcy5pbnRlcnZhbCwgdGhpcy5yYW5nZSk7XG4gICAgICAgIHJldHVybiBhdXRvR3JpZC5nZXRHcmlkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKGZyb21YOiBudW1iZXIsIHRvWDogbnVtYmVyKTogSVJhbmdlPG51bWJlciB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBpZiAoZnJvbVggPiAwICYmIHRvWCA+IDAgJiYgZnJvbVggPCB0aGlzLl9sZW5ndGggJiYgdG9YIDwgdGhpcy5fbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnRvVmFsdWUoTWF0aC5tYXgoZnJvbVgsIHRvWCkpLCAvLyBZIGlzIGludmVydGVkXG4gICAgICAgICAgICAgICAgZW5kOiB0aGlzLnRvVmFsdWUoTWF0aC5taW4oZnJvbVgsIHRvWCkpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRvVmFsdWUoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLmFicyh0aGlzLnJhbmdlLmVuZCAtIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heCh0aGlzLnJhbmdlLmVuZCwgdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IGQgPSB4IC8gdGhpcy5fbGVuZ3RoO1xuICAgICAgICByZXR1cm4gbWF4IC0gZCAqIHJhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1godmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gTWF0aC5hYnModGhpcy5yYW5nZS5lbmQgLSB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgodGhpcy5yYW5nZS5lbmQsIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBkID0gKG1heCAtIHZhbHVlKSAvIHJhbmdlOyAvLyBpbnZlcnRlZCBZXG4gICAgICAgIHJldHVybiBkICogdGhpcy5fbGVuZ3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b0luZGV4KHg6IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoeCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIFByaWNlQXhpcyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgR3JpZCwgSUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBOdW1iZXJBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xuXG5leHBvcnQgY2xhc3MgUHJpY2VBeGlzIGltcGxlbWVudHMgSUF4aXM8bnVtYmVyPiB7XG5cbiAgICBwcml2YXRlIF9yYW5nZTogSVJhbmdlPG51bWJlcj47XG4gICAgcHJpdmF0ZSBfaW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sZW5ndGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBsZW5ndGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlciwgLy8gZGVmaW5lcyBtYXhpbXVtIHpvb21cbiAgICAgICAgaW5pdGlhbFJhbmdlPzogSVJhbmdlPG51bWJlcj4pIHtcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgICAgICB0aGlzLl9yYW5nZSA9IGluaXRpYWxSYW5nZSA/IGluaXRpYWxSYW5nZSA6IHtzdGFydDogMCwgZW5kOiAwfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJhbmdlKCk6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcmFuZ2UobmV3UmFuZ2U6IElSYW5nZTxudW1iZXI+KSB7XG4gICAgICAgIHRoaXMuX3JhbmdlID0gbmV3UmFuZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpbnRlcnZhbCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBsZW5ndGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9sZW5ndGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JpZCgpOiBHcmlkPG51bWJlcj4ge1xuICAgICAgICBjb25zdCBhdXRvR3JpZCA9IG5ldyBOdW1iZXJBdXRvR3JpZCh0aGlzLl9sZW5ndGgsIHRoaXMuaW50ZXJ2YWwsIHRoaXMucmFuZ2UpO1xuICAgICAgICByZXR1cm4gYXV0b0dyaWQuZ2V0R3JpZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShmcm9tWDogbnVtYmVyLCB0b1g6IG51bWJlcik6IElSYW5nZTxudW1iZXIgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgaWYgKGZyb21YID4gMCAmJiB0b1ggPiAwICYmIGZyb21YIDwgdGhpcy5fbGVuZ3RoICYmIHRvWCA8IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogdGhpcy50b1ZhbHVlKE1hdGgubWF4KGZyb21YLCB0b1gpKSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMudG9WYWx1ZShNYXRoLm1pbihmcm9tWCwgdG9YKSkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB1bmRlZmluZWQsIGVuZDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9WYWx1ZSh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCByYW5nZSA9IE1hdGguYWJzKHRoaXMucmFuZ2UuZW5kIC0gdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHRoaXMucmFuZ2UuZW5kLCB0aGlzLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgZCA9IHggLyB0aGlzLl9sZW5ndGg7XG4gICAgICAgIHJldHVybiBtYXggLSBkICogcmFuZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIHRvWCh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBNYXRoLmFicyh0aGlzLnJhbmdlLmVuZCAtIHRoaXMucmFuZ2Uuc3RhcnQpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heCh0aGlzLnJhbmdlLmVuZCwgdGhpcy5yYW5nZS5zdGFydCk7XG4gICAgICAgIGNvbnN0IGQgPSAobWF4IC0gdmFsdWUpIC8gcmFuZ2U7IC8vIGludmVydGVkIFlcbiAgICAgICAgcmV0dXJuIGQgKiB0aGlzLl9sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIHRvSW5kZXgoeDogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZSh4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIH1cblxuICAgIHB1YmxpYyBzY2FsZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7IFRpbWVBdXRvR3JpZCB9IGZyb20gJy4vQXV0b0dyaWQnO1xyXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi9OdW1iZXJBeGlzJztcclxuaW1wb3J0IHsgUHJpY2VBeGlzIH0gZnJvbSAnLi9QcmljZUF4aXMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIE51bWJlckF4aXMsXHJcbiAgICBQcmljZUF4aXMsXHJcbiAgICBUaW1lQXV0b0dyaWRcclxuIH07XHJcbiIsIu+7vy8qKlxuICogQ2FudmFzV3JhcHBlciBjbGFzcy5cbiAqIFxuICogQGNsYXNzZGVzYyBJbmNhcHN1bGF0ZXMgdXNhZ2Ugb2YgY2FudmFzLlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QWxpZ24sIENhbnZhc1RleHRCYXNlTGluZSB9IGZyb20gJy4vRW51bXMnO1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4vSUNhbnZhcyc7XG5cbmV4cG9ydCBjbGFzcyBDYW52YXNXcmFwcGVyIGltcGxlbWVudHMgSUNhbnZhcyB7XG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwdWJsaWMgdzogbnVtYmVyO1xuICAgIHB1YmxpYyBoOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSByYXRpbzogbnVtYmVyO1xuICAgIHByaXZhdGUgYWRqOiBudW1iZXIgPSAwLjU7IC8vIEFkanVzbWVudCB0byByZW1vdmUgYmx1cnkgbGluZXMuIERlZmF1bHQgdmFsdWUgZm9yIGxpbmUgd2lkdGggPSAxLlxuXG4gICAgcHVibGljIGdldCBmb250KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5mb250O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZm9udChmb250OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBmaWxsU3R5bGUoZmlsbFN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZ2xvYmFsQWxwaGEoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4Lmdsb2JhbEFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZ2xvYmFsQWxwaGEoYWxwaGE6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IGFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbGluZVdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5saW5lV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBsaW5lV2lkdGgodzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYWRqID0gKHcgJSAyKSAvIDI7ICAgICAgICAgLy8gSWYgbGluZSBpcyB3aWR0aCAxLCAzLCA1Li4uIHRoZW4gYWRqdXN0IGNvb3JkcyB0byByZW1vdmUgYmx1ci5cbiAgICAgICAgdGhpcy5jdHgubGluZVdpZHRoID0gdztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG5cbiAgICAgICAgdGhpcy5jdHggPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICBjb25zdCBic3IgPSAoPGFueT50aGlzLmN0eCkud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICg8YW55PnRoaXMuY3R4KS5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAoPGFueT50aGlzLmN0eCkuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB0aGlzLnJhdGlvID0gZHByIC8gYnNyO1xuXG4gICAgICAgIHRoaXMudyA9IHdpZHRoO1xuICAgICAgICB0aGlzLmggPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKHRoaXMucmF0aW8sIDAsIDAsIHRoaXMucmF0aW8sIDAsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMucm91bmQodGhpcy53KSwgdGhpcy5yb3VuZCh0aGlzLmgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGluZURhc2goKTogbnVtYmVyW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdHguZ2V0TGluZURhc2goKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TGluZURhc2goc2VnbWVudHM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3R4LnNldExpbmVEYXNoKHNlZ21lbnRzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLnJvdW5kKHgpICsgdGhpcy5hZGosIHRoaXMucm91bmQoeSkgKyB0aGlzLmFkaik7XG4gICAgfVxuXG4gICAgcHVibGljIGxpbmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5yb3VuZCh4KSArIHRoaXMuYWRqLCB0aGlzLnJvdW5kKHkpICsgdGhpcy5hZGopO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaWxsKGZpbGxSdWxlPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGwoZmlsbFJ1bGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaWxsUmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5yb3VuZCh4KSwgdGhpcy5yb3VuZCh5KSwgdGhpcy5yb3VuZCh3KSwgdGhpcy5yb3VuZChoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0cm9rZVJlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QodGhpcy5yb3VuZCh4KSArIHRoaXMuYWRqLCB0aGlzLnJvdW5kKHkpICsgdGhpcy5hZGosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3VuZCh3KSAtIHRoaXMuYWRqICogMiwgdGhpcy5yb3VuZChoKSAtIHRoaXMuYWRqICogMik7XG4gICAgfVxuXG4gICAgLy8gVXNlZCB3aXRoIGJlZ2luUGF0aCgpIC8gc3Ryb2tlKCkgLyBzdHJva2VTdHlsZSAvIGZpbGwoKVxuICAgIHB1YmxpYyByZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5yZWN0KHRoaXMucm91bmQoeCkgKyB0aGlzLmFkaiwgdGhpcy5yb3VuZCh5KSArIHRoaXMuYWRqLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91bmQodykgLSB0aGlzLmFkaiAqIDIsIHRoaXMucm91bmQoaCkgLSB0aGlzLmFkaiAqIDIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhcmMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIsIGFudGljbG9ja3dpc2U/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY3R4LmFyYyh0aGlzLnJvdW5kKHgpLCB0aGlzLnJvdW5kKHkpLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZWxsaXBzZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzWDogbnVtYmVyLCByYWRpdXNZOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlciwgYW50aWNsb2Nrd2lzZT86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jdHguZWxsaXBzZSh4LCB5LCByYWRpdXNYLCByYWRpdXNZLCByb3RhdGlvbiwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBxdWFkcmF0aWNDdXJ2ZVRvKGNweDogbnVtYmVyLCBjcHk6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHgucXVhZHJhdGljQ3VydmVUbyhjcHgsIGNweSwgeCwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGZpbGxUZXh0KHM6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdHguZmlsbFRleHQocywgdGhpcy5yb3VuZCh4KSwgdGhpcy5yb3VuZCh5KSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdJbWFnZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlciwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoY2FudmFzLCBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgICAgIC8vIHJlc3RvcmUgdHJhbnNmb3JtYXRpb25cbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKHRoaXMucmF0aW8sIDAsIDAsIHRoaXMucmF0aW8sIDAsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBiZWdpblBhdGgoKSB7XG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdHJva2UoKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVBhdGgoKSB7XG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdHJva2VTdHlsZShzdHlsZTogYW55KSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gc3R5bGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEZpbGxTdHlsZShzdHlsZTogYW55KSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHN0eWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0QWxpZ24odjogQ2FudmFzVGV4dEFsaWduKSB7XG4gICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IENhbnZhc1RleHRCYXNlTGluZVt2XS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0QmFzZUxpbmUodjogQ2FudmFzVGV4dEJhc2VMaW5lKSB7XG4gICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IENhbnZhc1RleHRCYXNlTGluZVt2XS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtZWFzdXJlVGV4dCh0ZXh0OiBzdHJpbmcpOiBUZXh0TWV0cmljcyB7XG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3Ryb2tlVGV4dCh0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBtYXhXaWR0aD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VUZXh0KHRleHQsIHRoaXMucm91bmQoeCksIHRoaXMucm91bmQoeSksIG1heFdpZHRoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2F2ZSgpIHtcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlKCkge1xuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsaXAoZmlsbFJ1bGU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdHguY2xpcChmaWxsUnVsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByb3VuZChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKDAuNSArIG4pIHwgMDtcbiAgICB9XG59XG4iLCLvu78vKipcbiAqIENhbnZhcyByZWxhdGVkIGVudW1lcmF0aW9ucy5cbiAqL1xuXG5leHBvcnQgZW51bSBDYW52YXNUZXh0QWxpZ24ge1xuICAgIExlZnQsXG4gICAgQ2VudGVyLFxuICAgIFJpZ2h0XG59XG5cbmV4cG9ydCBlbnVtIENhbnZhc1RleHRCYXNlTGluZSB7XG4gICAgVG9wLFxuICAgIE1pZGRsZSxcbiAgICBCb3R0b21cbn1cblxuZXhwb3J0IGVudW0gTGluZVBhdHRlcm4ge1xuICAgIFNvbGlkLFxuICAgIERhc2hlZCxcbiAgICBQb2ludGVkXG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBDYW52YXNXcmFwcGVyIH0gZnJvbSAnLi9DYW52YXNXcmFwcGVyJztcbmltcG9ydCB7IENhbnZhc1RleHRBbGlnbiwgQ2FudmFzVGV4dEJhc2VMaW5lLCBMaW5lUGF0dGVybiB9IGZyb20gJy4vRW51bXMnO1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4vSUNhbnZhcyc7XG5cbmV4cG9ydCB7XG4gICAgQ2FudmFzVGV4dEFsaWduLFxuICAgIENhbnZhc1RleHRCYXNlTGluZSxcbiAgICBDYW52YXNXcmFwcGVyLFxuICAgIElDYW52YXMsXG4gICAgTGluZVBhdHRlcm5cbiB9O1xuIiwiLyoqXG4gKiBDaGFydCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgRXZlbnRzLCBJQXhpcywgSUNvbmZpZ3VyYWJsZSwgSVF1aWNrdGlwLCBJVGltZUF4aXMsIE1vdXNlRXZlbnRBcmd1bWVudCwgU2V0dGluZ1NldCwgVGltZUludGVydmFsLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgSVJlbmRlckxvY2F0b3IsIFJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJUmFuZ2UsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvcHVwIH0gZnJvbSAnLi9DaGFydFBvcHVwJztcbmltcG9ydCB7IElDaGFydCwgSUhvdmVyYWJsZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDaGFydCBleHRlbmRzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElDaGFydCwgSUhvdmVyYWJsZSwgSUNvbmZpZ3VyYWJsZSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhcmVhOiBDaGFydEFyZWE7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0QXhpczogSVRpbWVBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVuZGVyZXI6IElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz47XG4gICAgcHJpdmF0ZSBpc01vdXNlT3ZlciA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHVpZDogc3RyaW5nLFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhcnRUeXBlOiBzdHJpbmcsXG4gICAgICAgIGNoYXJ0QXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICB0QXhpczogSVRpbWVBeGlzLFxuICAgICAgICBvZmZzZXQ6IFBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXM6IElBeGlzPG51bWJlcj4sXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgcXRpcDogSVF1aWNrdGlwKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSwgdWlkLCBuYW1lKTtcblxuICAgICAgICB0aGlzLmFyZWEgPSBjaGFydEFyZWE7XG4gICAgICAgIHRoaXMudEF4aXMgPSB0QXhpcztcbiAgICAgICAgLy8gdGhpcy5wb3B1cCA9IG5ldyBDaGFydFBvcHVwPFQ+KGNoYXJ0VHlwZSwgdGhpcy5hcmVhLCB7IHg6IDAsIHk6IDAgfSwgc2l6ZSwgZGF0YVNvdXJjZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgLy8gdGhpcy5hZGRDaGlsZCh0aGlzLnBvcHVwKTtcblxuICAgICAgICAvL3RoaXMucXRpcC5hZGRUZXh0QmxvY2soJ3RpdGxlJywgJ0NIQVJUICcgKyB1aWQpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSA8SUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPj5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLmdldENoYXJ0UmVuZGVyKENhbmRsZXN0aWNrLCB0aGlzLmNoYXJ0VHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwcmVjaXNpb24oKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5wcmVjaXNpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5nZXRWYWx1ZXNSYW5nZShyYW5nZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZU1vdXNlKHJlbFg6IG51bWJlciwgcmVsWTogbnVtYmVyKSB7XG5cbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmRhdGFTb3VyY2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICB0aGlzLnF0aXAucmVtb3ZlVGV4dEJsb2NrKCduYW1lJyk7XG4gICAgICAgIHRoaXMucXRpcC5yZW1vdmVUZXh0QmxvY2soJ3ZhbHVlJyk7XG4gICAgICAgIHRoaXMucXRpcC5hZGRUZXh0QmxvY2soJ25hbWUnLCB0aGlzLmRhdGFTb3VyY2UubmFtZSk7XG5cbiAgICAgICAgY29uc3QgdWlkID0gdGhpcy50QXhpcy50b1ZhbHVlKHJlbFgpO1xuICAgICAgICBpZiAodWlkICE9PSB1bmRlZmluZWQgJiYgaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodWlkKSA9PT0gMCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBpdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGMudG9TdHJpbmcodGhpcy5wcmVjaXNpb24pO1xuICAgICAgICAgICAgdGhpcy5xdGlwLmFkZFRleHRCbG9jaygndmFsdWUnLCB0ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRsZU1vdXNlKHJlbFgsIHJlbFkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMuZGF0YVNvdXJjZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5hcmVhLmJhc2VDYW52YXMsIGl0ZXJhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwLCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudEF4aXMsIHRoaXMueUF4aXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcblxuICAgICAgICAvLyBpZiAobW91c2VYID4gMCAmJiBtb3VzZVggPCB0aGlzLnNpemUud2lkdGhcbiAgICAgICAgLy8gICAgICYmIG1vdXNlWSA+IDAgJiYgbW91c2VZIDwgdGhpcy5zaXplLmhlaWdodCkge1xuXG4gICAgICAgIC8vICAgICBjb25zdCByZW5kZXJMb2NhdG9yID0gUmVuZGVyTG9jYXRvci5JbnN0YW5jZTtcbiAgICAgICAgLy8gICAgIC8vIDEuIEdldCBhcHByb3hpbWF0ZSByYW5nZVxuICAgICAgICAvLyAgICAgLy8gMi4gR2V0IGRhdGEgaW4gdGhhdCByYW5nZSAgICAgICAgICAgIFxuICAgICAgICAvLyAgICAgLy8gMy4gVGVzdCBoaXQgYXJlYVxuICAgICAgICAvLyAgICAgLy9cbiAgICAgICAgLy8gICAgIGNvbnN0IGluZGV4UmFuZ2UgPSB0aGlzLmZyYW1lLmdldEluZGV4ZXNSYW5nZShtb3VzZVggLSAxMCwgbW91c2VYICsgMTApO1xuICAgICAgICAvLyAgICAgaWYgKGluZGV4UmFuZ2UgJiYgaW5kZXhSYW5nZS5zdGFydCAmJiBpbmRleFJhbmdlLmVuZCkge1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZyYW1lLmdldERhdGFCZXR3ZWVuKHRoaXMuX3VpZCwgaW5kZXhSYW5nZS5zdGFydCwgaW5kZXhSYW5nZS5lbmQpO1xuICAgICAgICAvLyAgICAgICAgIC8vY29uc3QgZGF0YUl0ZXJhdG9yID0gdGhpcy5kYXRhU291cmNlLmdldERhdGEoZGF0ZVJhbmdlLCB0aGlzLnRpbWVBeGlzLmludGVydmFsKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBkYXRhUmVuZGVyID0gPElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4+cmVuZGVyTG9jYXRvci5nZXRDaGFydFJlbmRlcihDYW5kbGVzdGljaywgdGhpcy5jaGFydFR5cGUpO1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhUmVuZGVyLnRlc3RIaXRBcmVhKFxuICAgICAgICAvLyAgICAgICAgICAgICB7IHg6IG1vdXNlWCwgeTogbW91c2VZIH0sXG4gICAgICAgIC8vICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgIC8vICAgICAgICAgICAgIHt4OiAwLCB5OiAwLCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfSxcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5mcmFtZS54QXhpcyxcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy55QXhpcyk7XG5cbiAgICAgICAgLy8gICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAvLyAgICAgICAgICAgICAvLyBUT0RPOiB1bmNvbW1lbnRcbiAgICAgICAgLy8gICAgICAgICAgICAgLy90aGlzLnBvcHVwLml0ZW0gPSBpdGVtO1xuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNNb3VzZU92ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEhvdmVyZWQodmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiB1bmNvbW1lbnRcbiAgICAgICAgLy90aGlzLnBvcHVwLnZpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFNldHRpbmdTZXQoJ2NoYXJ0c2V0dGluZ3MnKTtcbiAgICAgICAgbWVyZ2VkLnNldFNldHRpbmcoJ2RhdGFzb3VyY2UnLCB0aGlzLmRhdGFTb3VyY2UuZ2V0U2V0dGluZ3MoKSk7XG4gICAgICAgIG1lcmdlZC5zZXRTZXR0aW5nKCd2aXN1YWwnLCB0aGlzLnJlbmRlcmVyLmdldFNldHRpbmdzKCkpO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCByZW5kZXJTZXR0aW5ncyA9IHNldHRpbmdzLmdldFNldHRpbmcoJ2NoYXJ0c2V0dGluZ3MudmlzdWFsJyk7XG4gICAgICAgIGlmIChyZW5kZXJTZXR0aW5ncykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTZXR0aW5ncyhyZW5kZXJTZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkc1NldHRpbmdzID0gc2V0dGluZ3MuZ2V0U2V0dGluZygnY2hhcnRzZXR0aW5ncy5kYXRhc291cmNlJyk7XG4gICAgICAgIGlmIChkc1NldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Uuc2V0U2V0dGluZ3MoZHNTZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIENoYXJ0Qm9hcmQgY2xhc3MuXG4gKiBcbiAqIEBjbGFzc2Rlc2MgRmFjYWRlIGZvciB0aGUgY2hhcnQgbGlicmFyeS5cbiAqL1xuaW1wb3J0IHsgQ2hhcnRUeXBlLCBDb21tYW5kLCBFdmVudEFyZ3VtZW50LCBFdmVudHMsIElDb21tYW5kLCBJRGF0YVNlcnZpY2UsIElTb3VyY2UsIElRdWlja3RpcCwgSVF1aWNrdGlwQnVpbGRlciwgaXNDb25maWd1cmFibGUsIGlzU3RhdGVmdWwsIElTdG9yYWdlLCBJVG91Y2gsIE1vdXNlLCBNb3VzZUV2ZW50QXJndW1lbnQsIE9iamVjdEV2ZW50QXJndW1lbnQsIFNldHRpbmdTZXQsIFN0b3JhZ2VNYW5hZ2VyLCBTdG9yZUNvbnRhaW5lciwgVGltZUludGVydmFsLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2VGYWN0b3J5LCBEYXRhU291cmNlUmVnaXN0ZXIsIElEYXRhU291cmNlLCBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBJbmRpY2F0b3JGYWJyaWMgfSBmcm9tICcuLi9pbmRpY2F0b3IvaW5kZXgnO1xuaW1wb3J0IHsgQm9hcmRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEV2ZW50LCBJRXZlbnQsIElIYXNoVGFibGUsIElQb2ludCwgSVJhbmdlLCBQb2ludCwgdGhyb3R0bGUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0ZVV0aWxzLCBJR2hvc3RDbGlja1N1cHByZXNzb3IsIFRvdWNoVXRpbHMsIFVpZFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRTdGFjayB9IGZyb20gJy4vQ2hhcnRTdGFjayc7XG5pbXBvcnQgeyBJQ2hhcnRCb2FyZCwgSUNoYXJ0U3RhY2ssIElEcmF3aW5nLCBJSGlzdG9yeSwgaXNTZWxlY3RhYmxlLCBpc1N0YXRlQ29udHJvbGxlciwgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBTdGF0ZUZhYnJpYyB9IGZyb20gJy4vU3RhdGVGYWJyaWMnO1xuaW1wb3J0IHsgSG92ZXJTdGF0ZSwgTW92ZUNoYXJ0U3RhdGUgfSBmcm9tICcuL1N0YXRlcyc7XG5pbXBvcnQgeyBMb2FkUmFuZ2VBcmd1bWVudCwgVGltZUF4aXMgfSBmcm9tICcuL1RpbWVBeGlzJztcbmltcG9ydCB7IFRpbWVBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9UaW1lQXhpc0NvbXBvbmVudCc7XG5cbmltcG9ydCAqIGFzIGhqcyBmcm9tICdoYW1tZXJqcyc7XG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5cbmNsYXNzIEluZGljYXRvckRlc2NyaXB0aW9uIHtcbiAgICBwdWJsaWMgdWlkOiBzdHJpbmc7XG4gICAgcHVibGljIGluZGljYXRvclR5cGU6IHN0cmluZztcbiAgICBjb25zdHJ1Y3Rvcih1aWQ6IHN0cmluZywgaW5kaWNhdG9yVHlwZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudWlkID0gdWlkO1xuICAgICAgICB0aGlzLmluZGljYXRvclR5cGUgPSBpbmRpY2F0b3JUeXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYXJ0Qm9hcmQgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQgaW1wbGVtZW50cyBJQ2hhcnRCb2FyZCwgSURyYXdpbmcsIElIaXN0b3J5LCBJU291cmNlIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQm9hcmRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhcnRTdGFja3M6IENoYXJ0U3RhY2tbXSA9IFtdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGltZUF4aXM6IFRpbWVBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGltZUF4aXNDb21wb25lbnQ6IFRpbWVBeGlzQ29tcG9uZW50O1xuXG4gICAgcHJpdmF0ZSBvcmlnaW5hbFVpZDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBvcmlnaW5hbE5hbWU6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgb3JpZ2luYWxEYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz47XG4gICAgcHJpdmF0ZSBwcmltYXJ5RGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZGF0YVNvdXJjZXM6IElIYXNoVGFibGU8SURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+PiA9IHsgfTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGluZGljYXRvcnM6IElIYXNoVGFibGU8SURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+PiA9IHsgfTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGluZGljYXRvckRlc2NyaXB0aW9uczogSW5kaWNhdG9yRGVzY3JpcHRpb25bXVtdID0gW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBkYXRhU291cmNlUmVnaXN0ZXIgPSBuZXcgRGF0YVNvdXJjZVJlZ2lzdGVyKCk7XG5cbiAgICBwcml2YXRlIGV2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBwcml2YXRlIGNvbW1hbmRzID0gbmV3IENvbW1hbmRIaXN0b3J5KCk7XG4gICAgcHJpdmF0ZSBzdGF0ZUZhYnJpYyA9IG5ldyBTdGF0ZUZhYnJpYygpO1xuICAgIHByaXZhdGUgc3RhdGU6IElTdGF0ZUNvbnRyb2xsZXI7XG4gICAgcHJpdmF0ZSBzdG9yYWdlTWdyOiBTdG9yYWdlTWFuYWdlcjtcbiAgICBwcml2YXRlIGRhdGFTZXJ2aWNlPzogSURhdGFTZXJ2aWNlO1xuICAgIHByaXZhdGUgdGltZVJhbmdlOiBJUmFuZ2U8RGF0ZT47XG4gICAgcHJpdmF0ZSBoYW1tZXI6IEhhbW1lck1hbmFnZXI7XG4gICAgcHJpdmF0ZSBpc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgZ2hvc3RDbGlja1N1cHByZXNzb3I6IElHaG9zdENsaWNrU3VwcHJlc3NvcjtcbiAgICBwcml2YXRlIHRvdWNoTW9kZSA9IGZhbHNlO1xuXG4gICAgLy8gUHVibGljIEV2ZW50c1xuICAgIHB1YmxpYyBnZXQgc2VsZWN0aW9uQ2hhbmdlZCgpOiBJRXZlbnQ8T2JqZWN0RXZlbnRBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMuc2VsZWN0aW9uQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHRyZWVDaGFuZ2VkKCk6IElFdmVudDxFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy50cmVlQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhpc3RvcnlDaGFuZ2VkKCk6IElFdmVudDxFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5oaXN0b3J5Q2hhbmdlZDtcbiAgICB9XG5cbiAgICAvLyAtLSBFbmQgb2YgXCJQdWJsaWMgRXZlbnRzXCIgLS1cblxuICAgIC8vIFRPRE86IE1ha2UgaW50ZXJuYWwsIGFjY2Vzc2libGUgb25seSB0byBTdGF0ZXMuXG4gICAgcHVibGljIGdldCB0cmVlQ2hhbmdlZEV2dCgpOiBFdmVudDxFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy50cmVlQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgICAgICBvZmZzZXRMZWZ0OiBudW1iZXIsXG4gICAgICAgIG9mZnNldFRvcDogbnVtYmVyLFxuICAgICAgICB3OiBudW1iZXIsXG4gICAgICAgIGg6IG51bWJlcixcbiAgICAgICAgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCxcbiAgICAgICAgc3RvcmFnZT86IElTdG9yYWdlLFxuICAgICAgICBkYXRhU2VydmljZT86IElEYXRhU2VydmljZVxuICAgICkge1xuICAgICAgICBzdXBlcih7IHg6IG9mZnNldExlZnQsIHk6IG9mZnNldFRvcH0sIHsgd2lkdGg6IE1hdGgubWF4KHcsIDEwMCksIGhlaWdodDogTWF0aC5tYXgoaCwgNTApfSk7XG5cbiAgICAgICAgY29uc3QgTiA9IDU7XG4gICAgICAgIHRoaXMuc3RvcmFnZU1nciA9IG5ldyBTdG9yYWdlTWFuYWdlcihzdG9yYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhU2VydmljZSA9IGRhdGFTZXJ2aWNlO1xuICAgICAgICB0aGlzLmFyZWEgPSBuZXcgQm9hcmRBcmVhKGNvbnRhaW5lciwgdGhpcy5fc2l6ZSk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBzdGFydC5zZXRVVENIb3VycyhzdGFydC5nZXRVVENIb3VycygpIC0gMik7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgdGhpcy50aW1lUmFuZ2UgPSB7IHN0YXJ0OiBzdGFydCwgZW5kOiBub3cgfTtcbiAgICAgICAgdGhpcy50aW1lQXhpcyA9IG5ldyBUaW1lQXhpcyhpbnRlcnZhbCwgbm93LCBOLCB0aGlzLmFyZWEuY2hhcnRMZW5ndGgpO1xuICAgICAgICB0aGlzLnRpbWVBeGlzLmxvYWRpbmdSYW5nZS5vbih0aGlzLm9uTG9hZGluZ1JhbmdlKTtcblxuICAgICAgICB0aGlzLnRpbWVBeGlzQ29tcG9uZW50ID0gbmV3IFRpbWVBeGlzQ29tcG9uZW50KHRoaXMuYXJlYSwgdGhpcy50aW1lQXhpcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lQXhpc0NvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1haW4gY2hhcnQgYXJlYS5cbiAgICAgICAgLy8gQ3JlYXRlIGVtcHR5IHN0b3JlIGNvbnRhaW5lciBhcyB0aGUgYXNzZXQgcGFpciBpcyBub3Qgc2V0IHlldC5cbiAgICAgICAgY29uc3QgY2hhcnRTdGFjayA9IG5ldyBDaGFydFN0YWNrKFVpZFV0aWxzLk5FV1VJRCgpLCB0aGlzLmFyZWEsIHRoaXMudGltZUF4aXMsIHRydWUsIHRoaXMuZXZlbnRzLCBuZXcgU3RvcmVDb250YWluZXIoKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhcnRTdGFja3MucHVzaChjaGFydFN0YWNrKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChjaGFydFN0YWNrKTtcblxuICAgICAgICAvLyB0dW5lIHRvdWNoIGV2ZW50c1xuICAgICAgICB0aGlzLmdob3N0Q2xpY2tTdXBwcmVzc29yID0gVG91Y2hVdGlscy5QUkVWRU5UX0dIT1NUX0NMSUNLKHRoaXMuY29udGFpbmVyKTtcblxuICAgICAgICAvLyBIb29rIHVwIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcihjb250YWluZXIsIHt9KTtcblxuICAgICAgICB0aGlzLmhhbW1lci5nZXQoJ3BpbmNoJykuc2V0KHsgZW5hYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHRoaXMuaGFtbWVyLm9uKCdwaW5jaCcsIHRoaXMub25Ub3VjaFBpbmNoKTtcbiAgICAgICAgdGhpcy5oYW1tZXIub24oJ3BhbicsIHRoaXMub25Ub3VjaFBhbik7XG4gICAgICAgIHRoaXMuaGFtbWVyLm9uKCd0YXAnLCB0aGlzLm9uVG91Y2hUYXApO1xuICAgICAgICB0aGlzLmhhbW1lci5vbigncHJlc3MnLCB0aGlzLm9uVG91Y2hQcmVzcyk7XG4gICAgICAgIHRoaXMuaGFtbWVyLm9uKCdzd2lwZScsIHRoaXMub25Ub3VjaFN3aXBlKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHRoaXMub25Nb3VzZVdoZWVsLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uTW91c2VXaGVlbCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Nb3VzZUxlYXZlLCBmYWxzZSk7XG4gICAgICAgICQodGhpcy5jb250YWluZXIpLm1vdXNlbW92ZSh0aHJvdHRsZSh0aGlzLm9uTW91c2VNb3ZlLCAxMCkpO1xuICAgICAgICAkKHRoaXMuY29udGFpbmVyKS5vbigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lcikub24oJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kKTtcbiAgICAgICAgJCh0aGlzLmNvbnRhaW5lcikub24oJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoQ2FuY2VsKTtcblxuICAgICAgICAvLyBHbyB0byBkZWZhdWx0IHN0YXRlXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlRmFicmljLmdldFN0YXRlKCdob3ZlcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc3RhY2tzKCk6IElDaGFydFN0YWNrW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFN0YWNrcy5zbGljZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPYmplY3RCeUlkKHVpZDogc3RyaW5nKTogYW55fHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3Qgc3RhY2sgb2YgdGhpcy5jaGFydFN0YWNrcykge1xuICAgICAgICAgICAgaWYgKHN0YWNrLnVpZCA9PT0gdWlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGFydCBvZiBzdGFjay5jaGFydHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudWlkID09PSB1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlndXJlIG9mIHN0YWNrLmZpZ3VyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlndXJlLnVpZCA9PT0gdWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWd1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldE9iamVjdFNldHRpbmdzKHVpZDogc3RyaW5nKTogU2V0dGluZ1NldHx1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmdldE9iamVjdEJ5SWQodWlkKTtcbiAgICAgICAgaWYgKG9iaiAmJiBvYmoudWlkICYmIG9iai51aWQgPT09IHVpZCAmJiBpc0NvbmZpZ3VyYWJsZShvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmdldFNldHRpbmdzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0T2JqZWN0U2V0dGluZ3ModWlkOiBzdHJpbmcsIHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZ2V0T2JqZWN0QnlJZCh1aWQpO1xuICAgICAgICBpZiAob2JqICYmIG9iai51aWQgJiYgb2JqLnVpZCA9PT0gdWlkICYmIGlzQ29uZmlndXJhYmxlKG9iaikpIHtcbiAgICAgICAgICAgIGlmIChpc1N0YXRlZnVsKG9iaikpIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBvYmouZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouc2V0U2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnJlc3RvcmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVPYmplY3QodWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmNoYXJ0U3RhY2tzLmZpbHRlcihzID0+IHMuY29udGFpbnModWlkKSlbMF07XG4gICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVtb3ZlRmlndXJlKHVpZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzLnRyZWVDaGFuZ2VkLnRyaWdnZXIoKTtcblxuICAgICAgICB0aGlzLnJlbmRlckxheWVycyhmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVVcCh1aWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuY2hhcnRTdGFja3MuZmlsdGVyKHMgPT4gcy5jb250YWlucyh1aWQpKVswXTtcbiAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgIHRoaXMucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5tb3ZlVXAodWlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyTGF5ZXJzKGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZURvd24odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmNoYXJ0U3RhY2tzLmZpbHRlcihzID0+IHMuY29udGFpbnModWlkKSlbMF07XG4gICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2subW92ZURvd24odWlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyTGF5ZXJzKGZhbHNlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVRvcCh1aWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuY2hhcnRTdGFja3MuZmlsdGVyKHMgPT4gcy5jb250YWlucyh1aWQpKVswXTtcbiAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgIHRoaXMucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5tb3ZlVG9wKHVpZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlckxheWVycyhmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVCb3R0b20odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmNoYXJ0U3RhY2tzLmZpbHRlcihzID0+IHMuY29udGFpbnModWlkKSlbMF07XG4gICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2subW92ZUJvdHRvbSh1aWQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIHVuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkgeyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJMYXllcnMoZmFsc2UsIHRydWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDaGFydDxUPih1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjaGFydFR5cGU6IHN0cmluZywgZGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+KSB7XG4gICAgICAgIC8vIFByZWxvYWQgZGF0YSByYW5nZVxuICAgICAgICBkYXRhU291cmNlLmxvYWRSYW5nZSh0aGlzLnRpbWVBeGlzLnJhbmdlLnN0YXJ0LCB0aGlzLnRpbWVBeGlzLnJhbmdlLmVuZCk7XG5cbiAgICAgICAgLy8gVE9ETzogU3RvcmUgb3JpZ2luYWwgZGF0YXNvdXJjZVxuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5kYXRhU2VydmljZSk7XG4gICAgICAgIGRhdGFTb3VyY2UgPSBEYXRhU291cmNlRmFjdG9yeS5DUkVBVEUoY2hhcnRUeXBlLCBkYXRhU291cmNlLCB0aGlzLnRpbWVSYW5nZSwgY3R4KTtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2VSZWdpc3Rlci5yZWdpc3Rlcih1aWQsIGRhdGFTb3VyY2UpO1xuICAgICAgICB0aGlzLmluc2VydENoYXJ0KHVpZCwgbmFtZSwgY2hhcnRUeXBlLCBkYXRhU291cmNlKTtcblxuICAgICAgICAvLyByZS1yZW5kZXIgY2hhcnRzXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnNlcnRDaGFydDxUPih1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjaGFydFR5cGU6IHN0cmluZywgZGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+KSB7XG5cbiAgICAgICAgdGhpcy5kYXRhU291cmNlc1t1aWRdID0gZGF0YVNvdXJjZTtcbiAgICAgICAgLy8gYWRkIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGRhdGFTb3VyY2UuZGF0YUNoYW5nZWQub24odGhpcy5vbkRhdGFDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrc1swXS5hZGRDaGFydCh1aWQsIG5hbWUsIGNoYXJ0VHlwZSwgZGF0YVNvdXJjZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZWxldGVDaGFydCh1aWQ6IHN0cmluZykge1xuICAgICAgICAvLyBnZXQgZGF0YSBzb3VyY2VcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZGF0YVNvdXJjZXNbdWlkXTtcbiAgICAgICAgaWYgKGRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2UuZGF0YUNoYW5nZWQub2ZmKHRoaXMub25EYXRhQ2hhbmdlZCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBDaGFydCBjYW4gYmUgbm90IG9ubHkgb24gZmlyc3Qgc3RhY2tcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTdGFja3NbMF0ucmVtb3ZlQ2hhcnQodWlkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAvLyByZS1yZW5kZXIgY2hhcnRzXG4gICAgICAgIC8vIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldERhdGFTb3VyY2UodWlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY2hhcnRUeXBlOiBzdHJpbmcsIGRhdGFTb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPikge1xuXG4gICAgICAgIHRoaXMub3JpZ2luYWxEYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFVpZCA9IHVpZDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE5hbWUgPSBuYW1lO1xuXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLmRhdGFTZXJ2aWNlKTtcbiAgICAgICAgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VGYWN0b3J5LkNSRUFURShjaGFydFR5cGUsIGRhdGFTb3VyY2UsIHRoaXMudGltZVJhbmdlLCBjdHgpO1xuXG4gICAgICAgIHRoaXMudGltZUF4aXMuc2V0RGF0YVNvdXJjZShkYXRhU291cmNlKTtcblxuICAgICAgICBjb25zdCBzdGFja1N0b3JhZ2UgPSB0aGlzLmdldFN0YWNrU3RvcmFnZSh1aWQsIDApO1xuICAgICAgICB0aGlzLmNoYXJ0U3RhY2tzWzBdLnNldFN0b3JlKHN0YWNrU3RvcmFnZSk7XG5cbiAgICAgICAgLy8gcmVwbGFjZSBwcmltYXJ5IGRhdGEgc291cmNlXG4gICAgICAgIHRoaXMuZGVsZXRlQ2hhcnQoJ3ByaW1hcnktZGF0YS1zb3VyY2UnKTtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGFydDxDYW5kbGVzdGljaz4oJ3ByaW1hcnktZGF0YS1zb3VyY2UnLCBuYW1lLCBjaGFydFR5cGUsIGRhdGFTb3VyY2UpO1xuICAgICAgICB0aGlzLnByaW1hcnlEYXRhU291cmNlID0gZGF0YVNvdXJjZTtcblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmcgaW5kaWNhdG9ycyBhbmQgcmVjcmVhdGUgb24gYmFzZSBvZiBuZXcgZGF0YSBzb3VyY2UuXG4gICAgICAgIHRoaXMuaW5kaWNhdG9yRGVzY3JpcHRpb25zLmZvckVhY2goKGFycmF5LCBzdGFja0luZGV4KSA9PiB7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKChkZXNjLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlSW5kaWNhdG9yKGRlc2MudWlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydEluZGljYXRvcihkZXNjLnVpZCwgZGVzYy5pbmRpY2F0b3JUeXBlLCBzdGFja0luZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZS1yZW5kZXIgY2hhcnRzXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuX3NpemUud2lkdGgsIHRoaXMuX3NpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q2hhcnRUeXBlKGNoYXJ0VHlwZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRhU291cmNlKHRoaXMub3JpZ2luYWxVaWQsIHRoaXMub3JpZ2luYWxOYW1lLCBjaGFydFR5cGUsIHRoaXMub3JpZ2luYWxEYXRhU291cmNlKTsgLy8ga2VlcCBmaWd1cmVzXG4gICAgICAgICAgICAvLyB0aGlzLnJlbW92ZUNoYXJ0KCdwcmltYXJ5LWRhdGEtc291cmNlJyk7XG4gICAgICAgICAgICAvLyB0aGlzLmFkZENoYXJ0PENhbmRsZXN0aWNrPigncHJpbWFyeS1kYXRhLXNvdXJjZScsIGNoYXJ0VHlwZSwgdGhpcy5wcmltYXJ5RGF0YVNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGV4aXN0aW5nIGluZGljYXRvcnMgYW5kIHJlY3JlYXRlIG9uIGJhc2Ugb2YgbmV3IGRhdGEgc291cmNlLlxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaW1lUmFuZ2UocmFuZ2U6IElSYW5nZTxEYXRlPik6IHZvaWQge1xuICAgICAgICB0aGlzLnRpbWVSYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIHRoaXMucHJpbWFyeURhdGFTb3VyY2Uuc2V0VGltZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgLy8gZm9yIChjb25zdCB1aWQgb2YgT2JqZWN0LmtleXModGhpcy5kYXRhU291cmNlcykpIHtcbiAgICAgICAgLy8gICAgIGNvbnN0IGV4dCA9IHRoaXMuZXh0ZW5zaW9uc1t1aWRdO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRJbmRpY2F0b3IodWlkOiBzdHJpbmcsIGluZGljYXRvclR5cGU6IHN0cmluZywgaW5kZXg6IG51bWJlcikge1xuXG4gICAgICAgIGlmICghdGhpcy5wcmltYXJ5RGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcmltYXJ5IGRhdGEgc291cmNlIGlzIG5vdCBzZXQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5zZXJ0SW5kaWNhdG9yKHVpZCwgaW5kaWNhdG9yVHlwZSwgaW5kZXgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3IncyBkZXNjcmlwdGlvblxuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLmluZGljYXRvckRlc2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgIGlmICghYXJyKSB7IHRoaXMuaW5kaWNhdG9yRGVzY3JpcHRpb25zW2luZGV4XSA9IFtdOyB9XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yRGVzY3JpcHRpb25zW2luZGV4XS5wdXNoKG5ldyBJbmRpY2F0b3JEZXNjcmlwdGlvbih1aWQsIGluZGljYXRvclR5cGUpKTtcblxuICAgICAgICAvLyByZWNhbGN1bGF0ZSBzaXplIG9mIGFsbCBlbGVtZW50c1xuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLl9zaXplLndpZHRoLCB0aGlzLl9zaXplLmhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUluZGljYXRvcih1aWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoIXVpZCB8fCAhdGhpcy5pbmRpY2F0b3JzW3VpZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVsZXRlSW5kaWNhdG9yKHVpZCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGluZGljYXRvcidzIGRlc2NyaXB0aW9uXG4gICAgICAgIHRoaXMuaW5kaWNhdG9yRGVzY3JpcHRpb25zLnNvbWUoKHZhbHVlLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zb21lKCh2LCBpLCBhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHYudWlkID09PSB1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgc2l6ZSBvZiBhbGwgZWxlbWVudHNcbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0SW5kaWNhdG9yKHVpZDogc3RyaW5nLCBpbmRpY2F0b3JUeXBlOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGluZGljYXRvclxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5kYXRhU2VydmljZSk7XG5cbiAgICAgICAgY29uc3QgaW5kaWNhdG9yRGF0YVNvdXJjZSA9IEluZGljYXRvckZhYnJpYy5pbnN0YW5jZS5pbnN0YW50aWF0ZShpbmRpY2F0b3JUeXBlLCB0aGlzLnByaW1hcnlEYXRhU291cmNlLCBjdHgpO1xuICAgICAgICB0aGlzLmluZGljYXRvcnNbdWlkXSA9IGluZGljYXRvckRhdGFTb3VyY2U7XG4gICAgICAgIGluZGljYXRvckRhdGFTb3VyY2UuZGF0YUNoYW5nZWQub24odGhpcy5vbkRhdGFDaGFuZ2VkKTtcblxuICAgICAgICAvLyBVcGRhdGUgc3RhY2suIFVzZSBleGlzdGluZyBvciBhZGQgbmV3IG9uZS5cbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGNoYXJ0U3RhY2s7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5jaGFydFN0YWNrcy5sZW5ndGggKSB7XG4gICAgICAgICAgICBjaGFydFN0YWNrID0gdGhpcy5jaGFydFN0YWNrc1tpbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2hhcnRTdGFja3MubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tTdG9yYWdlID0gdGhpcy5nZXRTdGFja1N0b3JhZ2UodGhpcy5vcmlnaW5hbFVpZCwgaW5kZXgpO1xuICAgICAgICAgICAgY2hhcnRTdGFjayA9IG5ldyBDaGFydFN0YWNrKFVpZFV0aWxzLk5FV1VJRCgpLCB0aGlzLmFyZWEsIHRoaXMudGltZUF4aXMsIHRydWUsIHRoaXMuZXZlbnRzLCBzdGFja1N0b3JhZ2UpO1xuICAgICAgICAgICAgdGhpcy5jaGFydFN0YWNrcy5wdXNoKGNoYXJ0U3RhY2spO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjaGFydFN0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJ0U3RhY2suYWRkQ2hhcnQodWlkLCBpbmRpY2F0b3JUeXBlLCBpbmRpY2F0b3JUeXBlLCBpbmRpY2F0b3JEYXRhU291cmNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlbGV0ZUluZGljYXRvcih1aWQ6IHN0cmluZykge1xuICAgICAgICAvLyByZW1vdmUgaW5kaWNhdG9yIGZyb20gYm9hcmRcbiAgICAgICAgLy8gLi4uIGZpbmQgc3RhY2tcbiAgICAgICAgdGhpcy5jaGFydFN0YWNrcy5zb21lKChjcywgc3RhY2tJbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNzLmNoYXJ0SWRzLmluZGV4T2YodWlkKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjcy5yZW1vdmVDaGFydCh1aWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgY2hhcnQgc3RhY2sgaXMgZW1wdHkgcmVtb3ZlIGl0LiBEbyBub3QgcmVtb3ZlIGZpcnN0IHN0YWNrLlxuICAgICAgICAgICAgICAgIGlmIChzdGFja0luZGV4ICE9PSAwICYmIGNzLmNoYXJ0SWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRTdGFja3Muc3BsaWNlKHN0YWNrSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbW92ZSBpbmRpY2F0b3JcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5pbmRpY2F0b3JzW3VpZF07XG4gICAgICAgIC8vIC4uLiB1bnN1YnNjcmliZSBmcm9tIGV2ZW50c1xuICAgICAgICBpbmRpY2F0b3IuZGF0YUNoYW5nZWQub2ZmKHRoaXMub25EYXRhQ2hhbmdlZCk7XG5cbiAgICAgICAgLy8gLi4uIGRpc3Bvc2UgaW5kaWNhdG9yXG4gICAgICAgIGluZGljYXRvci5kaXNwb3NlKCk7XG4gICAgICAgIC8vdGhpcy5pbmRpY2F0b3JzW3VpZF0gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTdGFja1N0b3JhZ2UoYXNzZXRJZDogc3RyaW5nLCBzdGFja0luZGV4OiBudW1iZXIpOiBTdG9yZUNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IHRoaXMuc3RvcmFnZU1nci5yb290KCkuZ2V0T2JqZWN0UHJvcGVydHkoJ2Fzc2V0cycpO1xuICAgICAgICBjb25zdCBhc3NldCA9IGFzc2V0cy5nZXRPYmplY3RQcm9wZXJ0eShhc3NldElkKTtcbiAgICAgICAgY29uc3Qgc3RhY2tzID0gYXNzZXQuZ2V0QXJyYXlQcm9wZXJ0eSgnc3RhY2tzJyk7XG4gICAgICAgIGNvbnN0IGFycmF5U3RhY2tzID0gc3RhY2tzLmFzQXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIGFycmF5U3RhY2tzLmxlbmd0aCA+IDAgPyBhcnJheVN0YWNrc1swXSA6IHN0YWNrcy5hZGRJdGVtKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRJbnRlcnZhbCA9IChkYXRlOiBEYXRlLCB0aW1lczogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJldHVybiBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoZGF0ZSwgdGhpcy50aW1lQXhpcy5pbnRlcnZhbCwgdGltZXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyTGF5ZXJzKHRydWUsIHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyTGF5ZXJzKHJlbmRlckJhc2U6IGJvb2xlYW4sIHJlbmRlckZyb250OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHJlbmRlckJhc2UgPSByZW5kZXJCYXNlID09PSB1bmRlZmluZWQgPyB0cnVlIDogcmVuZGVyQmFzZTtcbiAgICAgICAgcmVuZGVyRnJvbnQgPSByZW5kZXJGcm9udCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlbmRlckZyb250O1xuXG4gICAgICAgIGlmIChyZW5kZXJCYXNlKSB7IHRoaXMuYXJlYS5jbGVhckJhc2UoKTsgfVxuICAgICAgICBpZiAocmVuZGVyRnJvbnQpIHsgdGhpcy5hcmVhLmNsZWFyRnJvbnQoKTsgfVxuXG4gICAgICAgIC8vIE1vdXNlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHJlbE1vdXNlID0gdGhpcy5tb3VzZS5pc0VudGVyZWQgPyB0aGlzLm1vdXNlLnBvcy5zdWIodGhpcy5vZmZzZXQpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFJlbmRlciBzdGFja3NcbiAgICAgICAgZm9yIChjb25zdCBjU3RhY2sgb2YgdGhpcy5jaGFydFN0YWNrcykge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSByZW5kZXJpbmcgb2JqZWN0czogbG9jYXRvciBhbmQgY29udGV4dC5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IFZpc3VhbENvbnRleHQgPSBuZXcgVmlzdWFsQ29udGV4dChcbiAgICAgICAgICAgICAgICByZW5kZXJCYXNlLFxuICAgICAgICAgICAgICAgIHJlbmRlckZyb250XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY1N0YWNrLnJlbmRlcihjb250ZXh0LCBSZW5kZXJMb2NhdG9yLkluc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlciB0aW1lIGF4aXNcbiAgICAgICAgY29uc3QgY29udGV4dDogVmlzdWFsQ29udGV4dCA9IG5ldyBWaXN1YWxDb250ZXh0KFxuICAgICAgICAgICAgcmVuZGVyQmFzZSxcbiAgICAgICAgICAgIHJlbmRlckZyb250XG4gICAgICAgICAgICApO1xuICAgICAgICB0aGlzLnRpbWVBeGlzQ29tcG9uZW50LnJlbmRlcihjb250ZXh0LCBSZW5kZXJMb2NhdG9yLkluc3RhbmNlKTtcblxuICAgICAgICAvLyBTd2FwIHJlbmRlciBsYXllcnNcbiAgICAgICAgdGhpcy5hcmVhLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNpemUodzogbnVtYmVyLCBoOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdyA9IE1hdGgubWF4KHcsIDEwMCk7XG4gICAgICAgIGggPSBNYXRoLm1heChoLCA1MCk7XG5cbiAgICAgICAgdGhpcy5fc2l6ZSA9IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9O1xuXG4gICAgICAgIHRoaXMuYXJlYS5yZXNpemUodywgaCk7XG5cbiAgICAgICAgdGhpcy50aW1lQXhpcy53aWR0aCA9IHRoaXMuYXJlYS5jaGFydExlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGltZUludGVydmFsKGludGVydmFsOiBUaW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKGludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVBeGlzLmludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRGF0YUNoYW5nZWQgPSAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIGlmIChhcmcubGFzdFVpZEJlZm9yZSAmJiBhcmcubGFzdFVpZEFmdGVyXG4gICAgICAgICAgICAmJiB0aGlzLnRpbWVBeGlzLmlzVmlzaWJsZShhcmcubGFzdFVpZEJlZm9yZSlcbiAgICAgICAgICAgICYmICF0aGlzLnRpbWVBeGlzLmlzVmlzaWJsZShhcmcubGFzdFVpZEFmdGVyKSkge1xuXG4gICAgICAgICAgICB0aGlzLnRpbWVBeGlzLm1vdmVUbyhhcmcubGFzdFVpZEFmdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxvYWRpbmdSYW5nZSA9IChhcmc6IExvYWRSYW5nZUFyZ3VtZW50KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuZGF0YVNvdXJjZXMpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9PSAncHJpbWFyeS1kYXRhLXNvdXJjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkcyA9IHRoaXMuZGF0YVNvdXJjZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICBkcy5sb2FkUmFuZ2UoYXJnLnN0YXJ0LCBhcmcuZW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZy5jb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBkcy5sb2FkKGFyZy5zdGFydCwgYXJnLmNvdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNvbnRleHQoZGF0YVNlcnZpY2U6IElEYXRhU2VydmljZXx1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRJbnRlcnZhbDogdGhpcy5hZGRJbnRlcnZhbCxcbiAgICAgICAgICAgIGludGVydmFsOiAoKTogVGltZUludGVydmFsID0+IHsgcmV0dXJuIHRoaXMudGltZUF4aXMuaW50ZXJ2YWw7IH0sXG4gICAgICAgICAgICBnZXRDYW5kbGU6IChhc3NldDogc3RyaW5nLCBkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTZXJ2aWNlKSB7IHJldHVybiBkYXRhU2VydmljZS5nZXRDYW5kbGUoYXNzZXQsIGRhdGUsIGludGVydmFsKTsgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxDYW5kbGVzdGljaz4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW5kZXI6ICgpID0+IHsgc2VsZi5yZW5kZXIoKTsgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiB0aGlzLmRhdGFTb3VyY2VSZWdpc3RlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgbW91c2U6IE1vdXNlID0gbmV3IE1vdXNlKCk7XG4gICAgcHJpdmF0ZSBpZ25vcmVOZXh0TW92ZSA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBvbk1vdXNlV2hlZWwgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZmFsc2UgPT0gISFldmVudCkgeyBldmVudCA9IHdpbmRvdy5ldmVudDsgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZVdoZWVsKHRoaXMsIGV2ZW50KTtcblxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSAoKGV2ZW50LndoZWVsRGVsdGEpID8gZXZlbnQud2hlZWxEZWx0YSAvIDEyMCA6IGV2ZW50LmRldGFpbCAvIC0zKSB8fCAwO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVBeGlzLnNjYWxlKGRpcmVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlTW92ZSA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIC8vIGhhbmRsZSBjaHJvbWUgYmVoYXZpb3I6IGNsaWNrID0gZG93biArIG1vdmUgKyB1cFxuICAgICAgICBpZiAodGhpcy5pZ25vcmVOZXh0TW92ZSkge1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVOZXh0TW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgW3RoaXMubW91c2UucG9zLngsIHRoaXMubW91c2UucG9zLnldID0gW2V2ZW50LnBhZ2VYLCBldmVudC5wYWdlWV07XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5vbk1vdXNlTW92ZSh0aGlzLCB0aGlzLm1vdXNlKTtcblxuICAgICAgICBzdXBlci5oYW5kbGVNb3VzZSh0aGlzLm1vdXNlLnBvcy54IC0gdGhpcy5vZmZzZXQueCwgdGhpcy5tb3VzZS5wb3MueSAtIHRoaXMub2Zmc2V0LnkpO1xuXG4gICAgICAgIC8vRXZlbnRzLmluc3RhbmNlLm1vdXNlTW92ZS50cmlnZ2VyKG5ldyBNb3VzZUV2ZW50QXJndW1lbnQodGhpcy5tb3VzZSkpO1xuXG4gICAgICAgIGlmICh0aGlzLm1vdXNlLmlzRW50ZXJlZCAmJiB0aGlzLm1vdXNlLmlzRG93bikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcnModHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3VzZS5pc0VudGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXJzKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZUVudGVyID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5tb3VzZS5pc0VudGVyZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXRlLm9uTW91c2VFbnRlcih0aGlzLCB0aGlzLm1vdXNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTW91c2VMZWF2ZSA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMubW91c2UuaXNFbnRlcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZUxlYXZlKHRoaXMsIHRoaXMubW91c2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Nb3VzZVVwID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5pZ25vcmVOZXh0TW92ZSA9IHRydWU7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUub25Nb3VzZVVwKHRoaXMsIHRoaXMubW91c2UpO1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycyhmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlRG93biA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMubW91c2UuaXNEb3duID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgaGl0U3RhY2sgPSB0aGlzLmdldEhpdFN0YWNrKHRoaXMubW91c2UucG9zKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5vbk1vdXNlRG93bih0aGlzLCB0aGlzLm1vdXNlLCBoaXRTdGFjayk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVYKGRpZmZYOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aW1lQXhpcy5tb3ZlKGRpZmZYKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG91Y2hQaW5jaCA9IChldjogYW55KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy50b3VjaE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBldi5kZWx0YVg7XG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudGltZUF4aXMuc2NhbGUoZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG91Y2hQYW4gPSAoZXY6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMudG91Y2hNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZS5vblRvdWNoUGFuKHRoaXMsIDxJVG91Y2g+ZXYpO1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycyh0cnVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG91Y2hQcmVzcyA9IChldjogYW55KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy50b3VjaE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub3VjaFRhcCA9IChldjogYW55KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy50b3VjaE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoaXRTdGFjayA9IHRoaXMuZ2V0SGl0U3RhY2soZXYuY2VudGVyKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5vblRvdWNoVGFwKHRoaXMsIDxJVG91Y2g+ZXYsIGhpdFN0YWNrKTtcbiAgICAgICAgdGhpcy5yZW5kZXJMYXllcnMoZmFsc2UsIHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub3VjaFN3aXBlID0gKGV2OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnRvdWNoTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvdWNoU3RhcnQgPSAoZXY6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRvdWNoRW5kID0gKGV2OiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy50b3VjaE1vZGUgPSBmYWxzZTtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVG91Y2hDYW5jZWwgPSAoZXY6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SGl0U3RhY2soaGl0OiBJUG9pbnQpOiBDaGFydFN0YWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgbG9jYWxYID0gaGl0LnggLSB0aGlzLm9mZnNldC54O1xuICAgICAgICBjb25zdCBsb2NhbFkgPSBoaXQueSAtIHRoaXMub2Zmc2V0Lnk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjU3RhY2sgb2YgdGhpcy5jaGFydFN0YWNrcykge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVYID0gbG9jYWxYIC0gY1N0YWNrLm9mZnNldC54O1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVZID0gbG9jYWxZIC0gY1N0YWNrLm9mZnNldC55O1xuXG4gICAgICAgICAgICBpZiAocmVsYXRpdmVYID49IDAgJiYgcmVsYXRpdmVYIDwgY1N0YWNrLnNpemUud2lkdGhcbiAgICAgICAgICAgICAgICAmJiByZWxhdGl2ZVkgPj0gMCAmJiByZWxhdGl2ZVkgPCBjU3RhY2suc2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY1N0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldEN1cnNvcihzdHlsZTogc3RyaW5nKSB7XG4gICAgICAgIC8vdGhpcy5hcmVhLnNldEN1cnNvcihzdHlsZSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdjdXJzb3InLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkcmF3aW5nKCk6IElEcmF3aW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0KGZpZ3VyZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShmaWd1cmVJZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbmNlbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hhbmdlU3RhdGUoc3RhdGU6IHN0cmluZyB8IElTdGF0ZUNvbnRyb2xsZXIsIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIGxldCBzdGF0ZUluc3RhbmNlO1xuXG4gICAgICAgIGlmIChpc1N0YXRlQ29udHJvbGxlcihzdGF0ZSkpIHtcbiAgICAgICAgICAgIHN0YXRlSW5zdGFuY2UgPSBzdGF0ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdGF0ZUluc3RhbmNlID0gdGhpcy5zdGF0ZUZhYnJpYy5nZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXRlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdGUgaXMgbm90IGRlZmluZWQgZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGVJZCAnJHsgc3RhdGUgfSdgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhpdFN0YWNrID0gdGhpcy5nZXRIaXRTdGFjayh0aGlzLm1vdXNlLnBvcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5kZWFjdGl2YXRlKHRoaXMsIHRoaXMubW91c2UpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGVJbnN0YW5jZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmF0ZSh0aGlzLCB0aGlzLm1vdXNlLCBoaXRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLmlnbm9yZU5leHRNb3ZlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXCJJQ2hhcnRCb2FyZFwiIGltcGxlbWVudGF0aW9uXG4gICAgICovXG5cbiAgICBwdWJsaWMgc2VsZWN0KGNvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50fHVuZGVmaW5lZCk6IHZvaWQge1xuICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RhYmxlKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBQYXNzIGV2ZW50cyB0byBzdGF0ZSBpbnN0YW5jZXNcbiAgICAgICAgdGhpcy5ldmVudHMuc2VsZWN0aW9uQ2hhbmdlZC50cmlnZ2VyKG5ldyBPYmplY3RFdmVudEFyZ3VtZW50KGNvbXBvbmVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFwiSVNvdXJjZVwiIGltcGxlbWVudGF0aW9uLiBXb3JrcyB3aXRoIHByaW1hcnkgZGF0YSBzb3VyY2UuXG4gICAgICovXG5cbiAgICBwdWJsaWMgZ2V0SEhMTCh1aWRGcm9tOiBVaWQsIHVpZFRvOiBVaWQpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5RGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeURhdGFTb3VyY2UuZ2V0SEhMTCh1aWRGcm9tLCB1aWRUbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGFzdENhbmRsZSgpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQge1xuICAgICAgICBpZiAodGhpcy5wcmltYXJ5RGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeURhdGFTb3VyY2UuZ2V0TGFzdENhbmRsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmhhbW1lcikge1xuICAgICAgICAgICAgdGhpcy5oYW1tZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdob3N0Q2xpY2tTdXBwcmVzc29yKSB7XG4gICAgICAgICAgICB0aGlzLmdob3N0Q2xpY2tTdXBwcmVzc29yLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhpc3RvcnkoKTogSUhpc3Rvcnkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcIklIaXN0b3J5XCIgaW1wbGVtZW50YXRpb25cbiAgICAgKi9cblxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHVzaDJoaXN0b3J5KGNtZDogSUNvbW1hbmQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5wdXNoKGNtZCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmhpc3RvcnlDaGFuZ2VkLnRyaWdnZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW5kbygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY21kID0gdGhpcy5jb21tYW5kcy5wb3AoKTtcbiAgICAgICAgaWYgKGNtZCkge1xuICAgICAgICAgICAgY21kLnVuZG8oKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmhpc3RvcnlDaGFuZ2VkLnRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ29tbWFuZEhpc3Rvcnkge1xuICAgIHByaXZhdGUgY29tbWFuZHM6IElDb21tYW5kW10gPSBbXTtcblxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHVzaChjbWQ6IElDb21tYW5kKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tbWFuZHMucHVzaChjbWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwb3AoKTogSUNvbW1hbmR8dW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMucG9wKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDaGFydFN0YWNrIGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzLCBQcmljZUF4aXMgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIEV2ZW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJQ29vcmRzQ29udmVydGVyLCBJU291cmNlLCBJU3RhdGVmdWwsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUFycmF5LCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH1cbiAgICBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhLCBCb2FyZEFyZWEsIENoYXJ0QXJlYSwgU2l6ZUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJUmFuZ2UsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICcuL0NoYXJ0JztcbmltcG9ydCB7IENyb3NzaGFpciB9IGZyb20gJy4vQ3Jvc3NoYWlyJztcbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRmlndXJlQ29tcG9uZW50JztcbmltcG9ydCB7IEZpZ3VyZUZhY3RvcnkgfSBmcm9tICcuL0ZpZ3VyZUZhY3RvcnknO1xuaW1wb3J0IHsgR3JpZCB9IGZyb20gJy4vR3JpZCc7XG5pbXBvcnQgeyBJQ2hhcnQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjayB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOdW1iZXJBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9OdW1iZXJBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFByaWNlQXhpc0NvbXBvbmVudCB9IGZyb20gJy4vUHJpY2VBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFF1aWNrdGlwQnVpbGRlciB9IGZyb20gJy4vUXVpY2t0aXAnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcnRTdGFjayBleHRlbmRzIFZpc3VhbENvbXBvbmVudCBpbXBsZW1lbnRzIElDaGFydFN0YWNrLCBJQ29vcmRzQ29udmVydGVyLCBJQ29uZmlndXJhYmxlLCBJQ2hhcnRpbmdTZXR0aW5ncyB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGJvYXJkQXJlYTogQm9hcmRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQ2hhcnRBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcXRCdWlsZGVyOiBRdWlja3RpcEJ1aWxkZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0QXhpczogSVRpbWVBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXM6IElBeGlzPG51bWJlcj47XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY2hhcnRzOiBJQ2hhcnRbXSA9IFtdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY3Jvc3NoYWlyOiBDcm9zc2hhaXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBncmlkOiBHcmlkO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXNDb21wb25lbnQ6IFZpc3VhbENvbXBvbmVudDtcbiAgICBwcml2YXRlIF9wcmVjaXNpb246IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBzb3VyY2U/OiBJU291cmNlO1xuICAgIHByaXZhdGUgZXZlbnRzOiBFdmVudHM7XG4gICAgcHJpdmF0ZSBzdG9yZTogU3RvcmVDb250YWluZXI7XG4gICAgcHJpdmF0ZSBmaWd1cmVDb250YWluZXI6IEZpZ3VyZUNvbnRhaW5lcjtcblxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVjaXNpb247XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHVpZDogc3RyaW5nLFxuICAgICAgICBib2FyZEFyZWE6IEJvYXJkQXJlYSxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgeUlzUHJpY2U6IGJvb2xlYW4sXG4gICAgICAgIGV2ZW50czogRXZlbnRzLFxuICAgICAgICBzdG9yZTogU3RvcmVDb250YWluZXIsXG4gICAgICAgIHNvdXJjZT86IElTb3VyY2UpIHtcbiAgICAgICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIHVpZCk7XG5cbiAgICAgICAgdGhpcy5ib2FyZEFyZWEgPSBib2FyZEFyZWE7XG4gICAgICAgIHRoaXMudEF4aXMgPSB0aW1lQXhpcztcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuYXJlYSA9IGJvYXJkQXJlYS5hZGRDaGFydCgpO1xuICAgICAgICB0aGlzLmFyZWEuc2l6ZUNoYW5nZWQub24odGhpcy5vbnJlc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gbmV3IFBvaW50KHRoaXMuYXJlYS5vZmZzZXQueCwgdGhpcy5hcmVhLm9mZnNldC55KTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHRoaXMuYXJlYS5zaXplO1xuXG4gICAgICAgIHRoaXMucXRCdWlsZGVyID0gbmV3IFF1aWNrdGlwQnVpbGRlcih0aGlzLmFyZWEucXRpcENvbnRhaW5lcik7XG5cbiAgICAgICAgLy8gY3JlYXRlIFkgYXhpc1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBwID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldEF4aXNTaXplKHRoaXMuX3NpemUpO1xuXG4gICAgICAgIGlmICh5SXNQcmljZSkge1xuICAgICAgICAgICAgdGhpcy55QXhpcyA9IG5ldyBQcmljZUF4aXMoc2l6ZS5oZWlnaHQsIDAuMDAwMSk7XG4gICAgICAgICAgICB0aGlzLnlBeGlzQ29tcG9uZW50ID0gbmV3IFByaWNlQXhpc0NvbXBvbmVudCh0aGlzLmFyZWEsIDxQcmljZUF4aXM+dGhpcy55QXhpcywgcCwgc2l6ZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnlBeGlzID0gbmV3IE51bWJlckF4aXMoc2l6ZS5oZWlnaHQsIDAuMDAwMSk7XG4gICAgICAgICAgICB0aGlzLnlBeGlzQ29tcG9uZW50ID0gbmV3IE51bWJlckF4aXNDb21wb25lbnQodGhpcy5hcmVhLCA8TnVtYmVyQXhpcz50aGlzLnlBeGlzLCBwLCBzaXplLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy55QXhpc0NvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGNyb3NzaGFpclxuICAgICAgICAvLyBUT0RPOiB0aGlzLl9zaXplID0gY2hhcnQgc2l6ZSArIFlBeGlzLnNpemVcbiAgICAgICAgdGhpcy5jcm9zc2hhaXIgPSBuZXcgQ3Jvc3NoYWlyKHRoaXMuYXJlYSwge3g6IDAsIHk6IDB9LCB0aGlzLl9zaXplLCB0aGlzLnRBeGlzKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNyb3NzaGFpcik7XG5cbiAgICAgICAgLy8gYWRkIGdyaWRcbiAgICAgICAgLy8gVE9ETzogdGhpcy5fc2l6ZSA9IGNoYXJ0IHNpemUgKyBZQXhpcy5zaXplXG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBHcmlkKHRoaXMuYXJlYSwge3g6IDAsIHk6IDB9LCB0aGlzLl9zaXplLCB0aGlzLnRBeGlzLCB0aGlzLnlBeGlzKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmdyaWQpO1xuXG4gICAgICAgIHRoaXMuZmlndXJlQ29udGFpbmVyID0gbmV3IEZpZ3VyZUNvbnRhaW5lcih0aGlzLl9vZmZzZXQsIHRoaXMuX3NpemUsIHRoaXMuYXJlYSwgdGhpcy50QXhpcywgdGhpcy55QXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsIHRoaXMuc3RvcmUuZ2V0QXJyYXlQcm9wZXJ0eSgnZmlndXJlcycpLCB0aGlzLnNvdXJjZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5maWd1cmVDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuYXBwbHlTZXR0aW5ncygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXhpc1NpemUoc2l6ZTogSVNpemUpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHNpemUud2lkdGgsIGhlaWdodDogc2l6ZS5oZWlnaHQgPiAyMCA/IHNpemUuaGVpZ2h0IC0gMjAgOiBzaXplLmhlaWdodCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgY2hhcnQgYXJlYVxuICAgICAqL1xuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmFyZWEuc2l6ZUNoYW5nZWQub2ZmKHRoaXMub25yZXNpemUpO1xuICAgICAgICB0aGlzLmJvYXJkQXJlYS5yZW1vdmUodGhpcy5hcmVhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRhaW5lZCBjaGFydHMnIGlkZW50aWZpZXJzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY2hhcnRJZHMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhcnRzLm1hcChjID0+IGMudWlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoYXJ0cygpOiBJQ2hhcnRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFydHMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGZpZ3VyZXMoKTogRmlndXJlQ29tcG9uZW50W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmVDb250YWluZXIuY2hpbGRyZW5cbiAgICAgICAgICAgIC5maWx0ZXIoZWwgPT4geyByZXR1cm4gKGVsIGluc3RhbmNlb2YgRmlndXJlQ29tcG9uZW50KTsgfSlcbiAgICAgICAgICAgIC5tYXAodmMgPT4gPEZpZ3VyZUNvbXBvbmVudD52Yyk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbnRhaW5zKHVpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZUNvbnRhaW5lci5jb250YWlucyh1aWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDaGFydDxUPih1aWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjaGFydFR5cGU6IHN0cmluZywgZGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHF0aXAgPSB0aGlzLnF0QnVpbGRlci5hZGRRdWlja3RpcCh1aWQpO1xuXG4gICAgICAgIGNvbnN0IG5ld0NoYXJ0ID0gbmV3IENoYXJ0KHVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFyZWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudEF4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCgwLCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlLCB0aGlzLnlBeGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdGlwKTtcbiAgICAgICAgdGhpcy5fY2hhcnRzLnB1c2gobmV3Q2hhcnQpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld0NoYXJ0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUNoYXJ0aW5nU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQ2hhcnQodWlkOiBzdHJpbmcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGFydHNbaV0udWlkID09PSB1aWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKDxhbnk+dGhpcy5fY2hhcnRzW2ldKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucXRCdWlsZGVyLnJlbW92ZVF1aWNrdGlwKHVpZCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDaGFydGluZ1NldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcpOiBGaWd1cmVDb21wb25lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmVDb250YWluZXIuYWRkRmlndXJlKGZpZ3VyZVR5cGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVGaWd1cmUodWlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmVDb250YWluZXIucmVtb3ZlRmlndXJlKHVpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVVcCh1aWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZpZ3VyZUNvbnRhaW5lci5tb3ZlVXAodWlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZURvd24odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5maWd1cmVDb250YWluZXIubW92ZURvd24odWlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVRvcCh1aWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZpZ3VyZUNvbnRhaW5lci5tb3ZlVG9wKHVpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVCb3R0b20odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5maWd1cmVDb250YWluZXIubW92ZUJvdHRvbSh1aWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5zZXJpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzdG9yZShzdGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGVzZXJpYWxpemUoc3RhdGUpO1xuICAgICAgICB0aGlzLmZpZ3VyZUNvbnRhaW5lci5zZXRTdG9yZSh0aGlzLnN0b3JlLmdldEFycmF5UHJvcGVydHkoJ2ZpZ3VyZXMnKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFN0b3JlKHN0b3JlOiBTdG9yZUNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuZmlndXJlQ29udGFpbmVyLnNldFN0b3JlKHN0b3JlLmdldEFycmF5UHJvcGVydHkoJ2ZpZ3VyZXMnKSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogUmVuYW1lXG4gICAgcHVibGljIG1vdXNlVG9Db29yZHMobG9jYWxYOiBudW1iZXIsIGxvY2FsWTogbnVtYmVyKTogQ2hhcnRQb2ludCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvWCh2YWx1ZTogVWlkKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnRBeGlzLnRvWCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHhUb1ZhbHVlKHg6IG51bWJlcik6IFVpZHx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy50QXhpcy50b1ZhbHVlKHgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1kodmFsdWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnlBeGlzLnRvWCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHlUb1ZhbHVlKHk6IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnlBeGlzLnRvVmFsdWUoeSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvWFkocG9pbnQ6IElDaGFydFBvaW50KTogSVBvaW50fHVuZGVmaW5lZCB7XG4gICAgICAgIGlmIChwb2ludC51aWQgJiYgcG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy50b1gocG9pbnQudWlkKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLnRvWShwb2ludC52KTtcbiAgICAgICAgICAgIHJldHVybiB4ICE9PSB1bmRlZmluZWQgPyB7IHg6IHgsIHk6IHkgfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB4eVRvVmFsdWUocG9pbnQ6IElQb2ludCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVpZDogdGhpcy54VG9WYWx1ZShwb2ludC54KSxcbiAgICAgICAgICAgIHY6IHRoaXMueVRvVmFsdWUocG9pbnQueSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9maXhlZFJhbmdlOiBJUmFuZ2U8bnVtYmVyPiB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgc2V0Rml4ZWRSYW5nZShyYW5nZTogSVJhbmdlPG51bWJlcj4pIHtcbiAgICAgICAgdGhpcy5fZml4ZWRSYW5nZSA9IHJhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSAge1xuICAgICAgICAgICAgLy8gMS4gVXBkYXRlIHkgYXhpcyBiZWZvcmUgcmVuZGVyaW5nIGNoYXJ0c1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZml4ZWRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMueUF4aXMucmFuZ2UgPSB0aGlzLl9maXhlZFJhbmdlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgRGF0YVNvdXJjZS5EZWZhdWx0WVJhbmdlIG9yIHRha2UgbGFzdCBrbm93biBkYXRhOlxuICAgICAgICAgICAgICAgIGNvbnN0IHlSYW5nZSA9IHsgc3RhcnQ6IE51bWJlci5NQVhfVkFMVUUsIGVuZDogTnVtYmVyLk1JTl9WQUxVRSB9O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hhcnQgb2YgdGhpcy5fY2hhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlc1JhbmdlID0gY2hhcnQuZ2V0VmFsdWVzUmFuZ2UodGhpcy50QXhpcy5yYW5nZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1JhbmdlLmVuZCA+IHlSYW5nZS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlSYW5nZS5lbmQgPSB2YWx1ZXNSYW5nZS5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1JhbmdlLnN0YXJ0IDwgeVJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5UmFuZ2Uuc3RhcnQgPSB2YWx1ZXNSYW5nZS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGlzLnJhbmdlID0geVJhbmdlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4aXMucmFuZ2UgPSB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9OyAvLyBkZWZhdWx0IHZhbHVlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25yZXNpemUgPSAoYXJnOiBTaXplQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIFt0aGlzLl9vZmZzZXQueCwgdGhpcy5fb2Zmc2V0LnldID0gW3RoaXMuYXJlYS5vZmZzZXQueCwgdGhpcy5hcmVhLm9mZnNldC55XTtcblxuICAgICAgICBjb25zdCB3ID0gdGhpcy5hcmVhLnNpemUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmFyZWEuc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gSW5zdGVhZCBvZiBkZWZhdWx0IHJlc2l6ZSB1c2luZyBjdXN0b20gcmVzaXppbmdcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9O1xuXG4gICAgICAgIGNvbnN0IGF4aXNTaXplID0gdGhpcy5nZXRBeGlzU2l6ZSh0aGlzLl9zaXplKTtcbiAgICAgICAgKDxhbnk+dGhpcy55QXhpcykubGVuZ3RoID0gYXhpc1NpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnlBeGlzQ29tcG9uZW50LnJlc2l6ZShheGlzU2l6ZS53aWR0aCwgYXhpc1NpemUuaGVpZ2h0KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHZjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICB2Yy5yZXNpemUodywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcm9zc2hhaXIucmVzaXplKHcsIGgpO1xuICAgICAgICB0aGlzLmdyaWQucmVzaXplKHcsIGgpO1xuXG4gICAgICAgIC8vIHJlc2l6ZSBzZWxmIGFuZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgLy9zdXBlci5yZXNpemUodywgaCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogQ2hhcnRTdGFja1NldHRpbmdzID0gbmV3IENoYXJ0U3RhY2tTZXR0aW5ncygpO1xuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ3N0YWNrc2V0dGluZ3MnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBzZXR0aW5ncy5zZXRTZXR0aW5nKCdzaG93R3JpZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdzaG93R3JpZCcsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Nob3cgZ3JpZCcsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5zaG93R3JpZC50b1N0cmluZygpXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaG93R3JpZCA9IHZhbHVlLmdldFNldHRpbmcoJ3N0YWNrc2V0dGluZ3Muc2hvd0dyaWQnKTtcbiAgICAgICAgaWYgKHNob3dHcmlkKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNob3dHcmlkID0gKHNob3dHcmlkLnZhbHVlID09PSAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBseVNldHRpbmdzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseVNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLmdyaWQudmlzaWJsZSA9IHRoaXMuc2V0dGluZ3Muc2hvd0dyaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDaGFydGluZ1NldHRpbmdzKCkge1xuXG4gICAgICAgIC8vIHNlbGVjdCBtYXhpbXVtIHByZWNpc2lvbiBhbW9uZyBkYXRhIHNvdXJjZXNcbiAgICAgICAgdGhpcy5fcHJlY2lzaW9uID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGFydCBvZiB0aGlzLl9jaGFydHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZWNpc2lvbiA9IE1hdGgubWF4KHRoaXMuX3ByZWNpc2lvbiwgY2hhcnQucHJlY2lzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBdXhpbGxhcnkgY2xhc3MgZm9yIHN0b3JpbmcgYW5kIG1hbmFnaW5nIGZpZ3VyZXMgaW5zaWRlIGNoYXJ0IHN0YWNrLlxuICovXG5jbGFzcyBGaWd1cmVDb250YWluZXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvZmZzZXQ6IElQb2ludCwgc2l6ZTogSVNpemUsXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBwcml2YXRlIHRBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHByaXZhdGUgeUF4aXM6IElBeGlzPG51bWJlcj4sXG4gICAgICAgIHByaXZhdGUgY2hhcnRTZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgc3RvcmU6IFN0b3JlQXJyYXksXG4gICAgICAgIHByaXZhdGUgc291cmNlPzogSVNvdXJjZVxuICAgICkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb250YWlucyh1aWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uc29tZSh2YyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHZjIGluc3RhbmNlb2YgRmlndXJlQ29tcG9uZW50ICYmIHZjLnVpZCA9PT0gdWlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcpOiBGaWd1cmVDb21wb25lbnQge1xuXG4gICAgICAgIGNvbnN0IGZpZ3VyZXMgPSB0aGlzLnN0b3JlO1xuICAgICAgICBjb25zdCBmaWd1cmVEZXNjID0gZmlndXJlcy5hZGRJdGVtKCk7XG4gICAgICAgIGNvbnN0IGZpZ3VyZUNvbnRhaW5lciA9IGZpZ3VyZURlc2MuZ2V0T2JqZWN0UHJvcGVydHkoJ2ZpZ3VyZScpO1xuXG4gICAgICAgIGNvbnN0IGZpZ3VyZSA9IHRoaXMuY3JlYXRlRmlndXJlKGZpZ3VyZVR5cGUsIGZpZ3VyZUNvbnRhaW5lcik7XG4gICAgICAgIGZpZ3VyZURlc2Muc2V0UHJvcGVydHkoJ3R5cGUnLCBmaWd1cmVUeXBlKTtcblxuICAgICAgICByZXR1cm4gZmlndXJlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVGaWd1cmUodWlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gc3RvcmFnZVxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBmaWd1cmVzID0gdGhpcy5zdG9yZTtcbiAgICAgICAgZmlndXJlcy5yZW1vdmUoc2MgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHVpZCA9PT0gc2MuZ2V0UHJvcGVydHkoJ2ZpZ3VyZS51aWQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGZvcm0gbGlzdCBhbmQgdHJpZ2dlciBjaGFuZ2UgZXZlbnRcbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLmZvckVhY2goKHZjOiBWaXN1YWxDb21wb25lbnQsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHZjIGluc3RhbmNlb2YgRmlndXJlQ29tcG9uZW50ICYmIHZjLnVpZCA9PT0gdWlkKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZVVwKHVpZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnN0b3JlLmluZGV4T2YoZWwgPT4geyByZXR1cm4gdWlkID09PSBlbC5nZXRQcm9wZXJ0eSgnZmlndXJlLnVpZCcpOyB9KTtcbiAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNoaWZ0KGksIDEpO1xuICAgICAgICAgICAgQXJyYXlVdGlscy5TSElGVCh0aGlzLl9jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZURvd24odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuc3RvcmUuaW5kZXhPZihlbCA9PiB7IHJldHVybiB1aWQgPT09IGVsLmdldFByb3BlcnR5KCdmaWd1cmUudWlkJyk7IH0pO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2hpZnQoaSwgLTEpO1xuICAgICAgICAgICAgQXJyYXlVdGlscy5TSElGVCh0aGlzLl9jaGlsZHJlbiwgaSwgLTEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVUb3AodWlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuc3RvcmUuaW5kZXhPZihlbCA9PiB7IHJldHVybiB1aWQgPT09IGVsLmdldFByb3BlcnR5KCdmaWd1cmUudWlkJyk7IH0pO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2hpZnQoaSwgSW5maW5pdHkpO1xuICAgICAgICAgICAgQXJyYXlVdGlscy5TSElGVCh0aGlzLl9jaGlsZHJlbiwgaSwgSW5maW5pdHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmVCb3R0b20odWlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuc3RvcmUuaW5kZXhPZihlbCA9PiB7IHJldHVybiB1aWQgPT09IGVsLmdldFByb3BlcnR5KCdmaWd1cmUudWlkJyk7IH0pO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2hpZnQoaSwgLUluZmluaXR5KTtcbiAgICAgICAgICAgIEFycmF5VXRpbHMuU0hJRlQodGhpcy5fY2hpbGRyZW4sIGksIC1JbmZpbml0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcsIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIpOiBGaWd1cmVDb21wb25lbnQge1xuICAgICAgICBjb25zdCBmaWd1cmUgPSBGaWd1cmVGYWN0b3J5Lmluc3RhbmNlXG4gICAgICAgICAgICAuaW5zdGFudGlhdGUoZmlndXJlVHlwZSwgdGhpcy5hcmVhLCB7IHg6IDAsIHk6IDAgfSwgdGhpcy5zaXplLCB0aGlzLmNoYXJ0U2V0dGluZ3MsIHRoaXMudEF4aXMsIHRoaXMueUF4aXMsIGNvbnRhaW5lciwgdGhpcy5zb3VyY2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGZpZ3VyZSk7IC8vIHRvIHRoZSBlbmRcbiAgICAgICAgcmV0dXJuIGZpZ3VyZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U3RvcmUoc3RvcmU6IFN0b3JlQXJyYXkpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnJlbG9hZEZpZ3VyZXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbG9hZEZpZ3VyZXMoKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmaWd1cmVzXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gdGhpcy5fY2hpbGRyZW4uZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gISh2YWx1ZSBpbnN0YW5jZW9mIEZpZ3VyZUNvbXBvbmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZpZ3VyZXMgPSB0aGlzLnN0b3JlO1xuICAgICAgICBmb3IgKGNvbnN0IGZpZ3VyZURlc2Mgb2YgZmlndXJlcy5hc0FycmF5KCkpIHtcbiAgICAgICAgICAgIC8vIGFkZCBmaWd1cmVcbiAgICAgICAgICAgIGNvbnN0IGZpZ3VyZVR5cGUgPSBmaWd1cmVEZXNjLmdldFByb3BlcnR5KCd0eXBlJyk7XG4gICAgICAgICAgICBjb25zdCBmaWd1cmVDb250YWluZXIgPSBmaWd1cmVEZXNjLmdldE9iamVjdFByb3BlcnR5KCdmaWd1cmUnKTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVGaWd1cmUoZmlndXJlVHlwZSwgZmlndXJlQ29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ2hhcnRTdGFja1NldHRpbmdzIHtcbiAgICBwdWJsaWMgc2hvd0dyaWQgPSB0cnVlO1xufVxuIiwiLyoqXG4gKiBDcm9zc2hhaXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IEV2ZW50cywgSUF4aXMsIElNb3VzZSwgSVRpbWVBeGlzLCBNb3VzZUV2ZW50QXJndW1lbnQsIFZpc3VhbENvbXBvbmVudCwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBDcm9zc2hhaXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBheGlzOiBJVGltZUF4aXM7XG4gICAgcHJpdmF0ZSBtb3VzZT86IFBvaW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsIHNpemU6IElTaXplLCBheGlzOiBJVGltZUF4aXMpIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlTW91c2UocmVsWDogbnVtYmVyLCByZWxZOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2UueCA9IHJlbFg7XG4gICAgICAgICAgICB0aGlzLm1vdXNlLnkgPSByZWxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBQb2ludChyZWxYLCByZWxZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRsZU1vdXNlKHJlbFgsIHJlbFkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSAge1xuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgLy8gLi4uIGNhbGN1bGF0ZSBtb3VzZSBwb3NpdGlvbiByZWxhdGVkIHRvIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgbW91c2VYID0gdGhpcy5tb3VzZS54O1xuICAgICAgICAgICAgY29uc3QgbW91c2VZID0gdGhpcy5tb3VzZS55O1xuXG4gICAgICAgICAgICBjb25zdCB1aWQgPSB0aGlzLmF4aXMudG9WYWx1ZShtb3VzZVgpO1xuICAgICAgICAgICAgaWYgKHVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3WCA9IHRoaXMuYXhpcy50b1godWlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kZXIgPSByZW5kZXJMb2NhdG9yLmdldENyb3NzaGFpclJlbmRlcigpO1xuICAgICAgICAgICAgICAgIHJlbmRlci5yZW5kZXIodGhpcy5hcmVhLmZyb250Q2FudmFzLCB7IHg6IG5ld1gsIHk6IG1vdXNlWSB9LCB0aGlzLnNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyBGaWd1cmVDb21wb25lbnRcbiAqL1xuaW1wb3J0IHsgSVN0YXRlZnVsLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29tcG9uZW50IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBVaWRVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IGltcGxlbWVudHMgSVN0YXRlZnVsIHtcblxuICAgIHByb3RlY3RlZCBpc0hvdmVyZWQgPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgaXNTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgcHJvdGVjdGVkIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplLCAoY29udGFpbmVyICYmIGNvbnRhaW5lci5nZXRQcm9wZXJ0eSgndWlkJykpID8gY29udGFpbmVyLmdldFByb3BlcnR5KCd1aWQnKSA6IFVpZFV0aWxzLk5FV1VJRCgpLCBuYW1lKTtcblxuICAgICAgICBjb250YWluZXIuc2V0UHJvcGVydHkoJ3VpZCcsIHRoaXMuX3VpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyO1xuXG4gICAgcHVibGljIHNldEhvdmVyZWQoaG92ZXJlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzSG92ZXJlZCA9IGhvdmVyZWQ7XG4gICAgICAgIGZvciAoY29uc3QgdmMgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmICh2YyBpbnN0YW5jZW9mIEZpZ3VyZUNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHZjLnNldEhvdmVyZWQoaG92ZXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2VsZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgICBmb3IgKGNvbnN0IHZjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAodmMgaW5zdGFuY2VvZiBGaWd1cmVDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2Yy5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcIklTdGF0ZWZ1bFwiIGltcGxlbWVudGF0aW9uXG4gICAgICovXG5cbiAgICBwdWJsaWMgZ2V0U3RhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXN0b3JlKHN0YXRlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGVzZXJpYWxpemUoc3RhdGUpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogRmlndXJlRmFjdG9yeSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBJQ2hhcnRpbmdTZXR0aW5ncyB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBJU291cmNlLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVmFsdWVDb29yZENvbnZlcnRlciwgU3RvcmVDb250YWluZXIgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIEZpZ3VyZVR5cGUge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY3VydmUgPSAnY3VydmUnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGluZSA9ICdsaW5lJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGhsaW5lID0gJ2hsaW5lJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHZsaW5lID0gJ3ZsaW5lJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJlY3QgPSAncmVjdCc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB0cmlhbmdsZSA9ICd0cmlhbmdsZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwYXRoID0gJ3BhdGgnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcGl0Y2hmb3JrID0gJ3BpdGNoZm9yayc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB0ZXh0ID0gJ3RleHQnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZWxsaXBzZSA9ICdlbGxpcHNlJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHRyZW5kY2hhbm5lbCA9ICd0cmVuZGNoYW5uZWwnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZGF0ZXJhbmdlID0gJ2RhdGVyYW5nZSc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBmaWJvZmFuID0gJ2ZpYm9mYW4nO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgZmlib2xldmVsID0gJ2ZpYm9sZXZlbCc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBmaWJvcHJvamVjdGlvbiA9ICdmaWJvcHJvamVjdGlvbic7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBmaWJvdGltZXByb2plY3Rpb24gPSAnZmlib3RpbWVwcm9qZWN0aW9uJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGdhbm5mYW4gPSAnZ2FubmZhbic7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBvaGxjcHJvaiA9ICdvaGxjcHJvaic7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpZ3VyZUNyZWF0b3Ige1xuICAgIG5ldyhhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICB0Y29vcmQ6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHZjb29yZDogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lcixcbiAgICAgICAgc291cmNlPzogSVNvdXJjZSk6IEZpZ3VyZUNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGNsYXNzIEZpZ3VyZUZhY3Rvcnkge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBGaWd1cmVGYWN0b3J5O1xuICAgIHByaXZhdGUgY3RvcnM6IElIYXNoVGFibGU8SUZpZ3VyZUNyZWF0b3I+ID0ge307XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBGaWd1cmVGYWN0b3J5IHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBGaWd1cmVGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXIoaW5kaWNhdG9ySWQ6IHN0cmluZywgY3JlYXRvcjogSUZpZ3VyZUNyZWF0b3IpIHtcbiAgICAgICAgdGhpcy5jdG9yc1tpbmRpY2F0b3JJZF0gPSBjcmVhdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnN0YW50aWF0ZShcbiAgICAgICAgZmlndXJlVHlwZTogc3RyaW5nLFxuICAgICAgICBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICB0Y29vcmQ6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHZjb29yZDogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lcixcbiAgICAgICAgc291cmNlPzogSVNvdXJjZSk6IEZpZ3VyZUNvbXBvbmVudCB7XG5cbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY3RvcnNbZmlndXJlVHlwZV07XG4gICAgICAgIGlmIChjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGNvb3JkLCB2Y29vcmQsIGNvbnRhaW5lciwgc291cmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kaWNhdG9yIHdpdGggaWQ9JHtmaWd1cmVUeXBlfSBpcyBub3QgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogR3JpZCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElTaXplLCBJUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgR3JpZCBleHRlbmRzIFZpc3VhbENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXM6IElBeGlzPG51bWJlcj4pIHtcbiAgICAgICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIGlmIChjb250ZXh0LnJlbmRlckJhc2UgJiYgdGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGNhbnZhcyA9IGNvbnRleHQuZ2V0Q2FudmFzKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IHJlbmRlckxvY2F0b3IuZ2V0R3JpZFJlbmRlcigpO1xuICAgICAgICAgICAgcmVuZGVyLnJlbmRlcih0aGlzLmFyZWEuYmFzZUNhbnZhcywgeyB4OiAwLCB5OiAwLCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfSwgdGhpcy50aW1lQXhpcywgdGhpcy55QXhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgRXZlbnRBcmd1bWVudCwgSUF4aXMsIElDb21tYW5kLCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElTb3VyY2UsIElTdGF0ZWZ1bCwgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVG91Y2gsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfVxuICAgIGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJlYSwgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgSVJlbmRlckxvY2F0b3IsIFJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRXZlbnQsIElFdmVudCwgSUhhc2hUYWJsZSwgSVBvaW50LCBJUmFuZ2UsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBJRHJhd2luZyB7XG4gICAgc3RhcnQoZmlndXJlSWQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgY2FuY2VsKCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhpc3Rvcnkge1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIHVuZG8oKTogdm9pZDtcbiAgICBoaXN0b3J5Q2hhbmdlZDogSUV2ZW50PEV2ZW50QXJndW1lbnQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZWxlY3RhYmxlIHtcbiAgICBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQ7XG4gICAgZ2V0U2VsZWN0ZWQoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShvYmo6IGFueSk6IG9iaiBpcyBJU2VsZWN0YWJsZSB7XG4gICAgcmV0dXJuICg8SVNlbGVjdGFibGU+b2JqKS5zZXRTZWxlY3RlZCAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElIb3ZlcmFibGUge1xuICAgIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW47XG4gICAgc2V0SG92ZXJlZChob3ZlcmVkOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSG92ZXJhYmxlKG9iajogYW55KTogb2JqIGlzIElIb3ZlcmFibGUge1xuICAgIHJldHVybiAoPElIb3ZlcmFibGU+b2JqKS5pc0hpdCAhPT0gdW5kZWZpbmVkXG4gICAgICYmICg8SUhvdmVyYWJsZT5vYmopLnNldEhvdmVyZWQgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRWRpdGFibGUge1xuICAgIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFZGl0YWJsZShvYmo6IGFueSk6IG9iaiBpcyBJRWRpdGFibGUge1xuICAgIHJldHVybiAoPElFZGl0YWJsZT5vYmopLmdldEVkaXRTdGF0ZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFydEJvYXJkIHtcbiAgICBvZmZzZXQ6IElQb2ludDtcbiAgICBjaGFuZ2VTdGF0ZShzdGF0ZTogc3RyaW5nfElTdGF0ZUNvbnRyb2xsZXIsIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZDtcbiAgICBmb3JFYWNoKGRlbGVnYXRlOiB7KGNvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50LCBhZ2dyZWdhdGVkT2Zmc2V0OiBJUG9pbnQpOiB2b2lkIH0sIGNoaWxkcmVuRmlyc3Q/OiBib29sZWFuLCBkaXJlY3RPcmRlcj86IGJvb2xlYW4pOiB2b2lkO1xuICAgIG1vdmVYKHNoaWZ0OiBudW1iZXIpOiB2b2lkO1xuICAgIHNldEN1cnNvcihzdHlsZTogc3RyaW5nKTogdm9pZDtcblxuICAgIC8vIGludGVybmFsIG1ldGhvZHNcbiAgICBzZWxlY3QoY29tcG9uZW50OiBWaXN1YWxDb21wb25lbnR8dW5kZWZpbmVkKTogdm9pZDtcbiAgICBwdXNoMmhpc3RvcnkoY21kOiBJQ29tbWFuZCk6IHZvaWQ7XG4gICAgLy8gYWNjZXNzaWJsZSBmb3IgYm9hcmQgc3RhdGVzXG4gICAgdHJlZUNoYW5nZWRFdnQ6IEV2ZW50PEV2ZW50QXJndW1lbnQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFydFN0YWNrIGV4dGVuZHMgSUNvb3Jkc0NvbnZlcnRlciwgSVN0YXRlZnVsIHtcbiAgICB1aWQ6IHN0cmluZztcbiAgICBvZmZzZXQ6IElQb2ludDtcbiAgICBjaGFydHM6IElDaGFydFtdO1xuICAgIGZpZ3VyZXM6IEZpZ3VyZUNvbXBvbmVudFtdO1xuICAgIGFkZEZpZ3VyZShmaWd1cmVUeXBlOiBzdHJpbmcpOiBGaWd1cmVDb21wb25lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0IHtcbiAgICB1aWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcHJlY2lzaW9uOiBudW1iZXI7XG4gICAgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj47XG4gICAgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkO1xuICAgIGRlYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZDtcblxuICAgIG9uTW91c2VXaGVlbChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkO1xuICAgIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZUxlYXZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQ7XG4gICAgb25Nb3VzZURvd24oYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrKTogdm9pZDtcblxuICAgIG9uVG91Y2hQYW4oYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZDtcbiAgICBvblRvdWNoUHJlc3MoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZDtcbiAgICBvblRvdWNoU3dpcGUoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZDtcbiAgICBvblRvdWNoVGFwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCwgc3RhY2s/OiBJQ2hhcnRTdGFjayk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0YXRlQ29udHJvbGxlcihvYmo6IGFueSk6IG9iaiBpcyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICByZXR1cm4gKDxJU3RhdGVDb250cm9sbGVyPm9iaikuYWN0aXZhdGUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAoPElTdGF0ZUNvbnRyb2xsZXI+b2JqKS5kZWFjdGl2YXRlICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0aW5nU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IHByZWNpc2lvbjogbnVtYmVyO1xufVxuIiwiLyoqXG4gKiBOdW1iZXJBeGlzQ29tcG9uZW50IGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSwgU2l6ZUNoYW5nZWRBcmd1bWVudCwgWUFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSUF4ZXNSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IE51bWJlck1hcmtlciB9IGZyb20gJy4vTnVtYmVyTWFya2VyJztcblxuZXhwb3J0IGNsYXNzIE51bWJlckF4aXNDb21wb25lbnQgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBheGlzOiBOdW1iZXJBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogWUFyZWE7XG4gICAgcHJpdmF0ZSBtb3VzZT86IFBvaW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNoYXJ0QXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBudW1iZXJBeGlzOiBOdW1iZXJBeGlzLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCwgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5nc1xuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcblxuICAgICAgICB0aGlzLmF4aXMgPSBudW1iZXJBeGlzO1xuICAgICAgICB0aGlzLmFyZWEgPSBjaGFydEFyZWEuZ2V0WUFyZWEoKTtcbiAgICAgICAgdGhpcy5hcmVhLnNpemVDaGFuZ2VkLm9uKHRoaXMub25yZXNpemUpO1xuXG4gICAgICAgIGNvbnN0IHByaWNlTWFya2VyID0gbmV3IE51bWJlck1hcmtlcih0aGlzLmFyZWEsIHt4OiAwLCB5OiAwfSwgc2l6ZSwgbnVtYmVyQXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0TWFya1Bvcyk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQocHJpY2VNYXJrZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVNb3VzZShyZWxYOiBudW1iZXIsIHJlbFk6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZS54ID0gcmVsWDtcbiAgICAgICAgICAgIHRoaXMubW91c2UueSA9IHJlbFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFBvaW50KHJlbFgsIHJlbFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuaGFuZGxlTW91c2UocmVsWCwgcmVsWSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9ucmVzaXplID0gKGFyZzogU2l6ZUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICB0aGlzLl9zaXplID0gYXJnLnNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGNhbnZhcyA9IGNvbnRleHQuZ2V0Q2FudmFzKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJQXhlc1JlbmRlcjxudW1iZXI+PnJlbmRlckxvY2F0b3IuZ2V0QXhlc1JlbmRlcignbnVtYmVyJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5iYXNlQ2FudmFzLCB0aGlzLmF4aXMsIHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0fSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFya1BvcyA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogbnVtYmVyfHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubW91c2UueSA+IDAgJiYgdGhpcy5tb3VzZS55IDwgdGhpcy5zaXplLmhlaWdodCkgPyB0aGlzLmF4aXMudG9WYWx1ZSh0aGlzLm1vdXNlLnkpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBOdW1iZXJNYXJrZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IE51bWJlckF4aXMgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IElWYWx1ZUNvb3JkQ29udmVydGVyLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIE51bWJlck1hcmtlciBleHRlbmRzIFZpc3VhbENvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LCBzaXplOiBJU2l6ZSwgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncywgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gbnVtYmVyfHVuZGVmaW5lZCApIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy55YXhpcyA9IHlheGlzO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250IHx8ICF0aGlzLnZpc2libGUpICB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXR0ZXIoY29udGV4dCwgdGhpcy5zaXplKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSA8SU1hcmtSZW5kZXI8bnVtYmVyPj5yZW5kZXJMb2NhdG9yLmdldE1hcmtSZW5kZXIoJ251bWJlcicpO1xuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHZhbHVlKTtcbiAgICAgICAgICAgIHJlbmRlci5yZW5kZXIodGhpcy5hcmVhLmZyb250Q2FudmFzLCB2YWx1ZSwgeyB4OiAwLCB5OiB5IH0sIHRoaXMuc2l6ZSwgdGhpcy5zZXR0aW5ncy5wcmVjaXNpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBSZWdpb25NYXJrZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IE51bWJlckF4aXMgfSBmcm9tICcuLi9heGVzL2luZGV4JztcbmltcG9ydCB7IElWYWx1ZUNvb3JkQ29udmVydGVyLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIE51bWJlclJlZ2lvbk1hcmtlciBleHRlbmRzIFZpc3VhbENvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gSVJhbmdlPG51bWJlcj58dW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYSxcbiAgICAgICAgb2Zmc2V0OiBQb2ludCwgc2l6ZTogSVNpemUsIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LCBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsIGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IElSYW5nZTxudW1iZXI+fHVuZGVmaW5lZCApIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcbiAgICAgICAgdGhpcy55YXhpcyA9IHlheGlzO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250IHx8ICF0aGlzLnZpc2libGUpICB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXR0ZXIoY29udGV4dCwgdGhpcy5zaXplKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAvL2NvbnN0IHJlbmRlciA9IDxJTWFya1JlbmRlcjxudW1iZXI+PnJlbmRlckxvY2F0b3IuZ2V0TWFya1JlbmRlcignbnVtYmVyJyk7XG4gICAgICAgICAgICBjb25zdCB5MSA9IHRoaXMueWF4aXMudG9YKHZhbHVlLnN0YXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IHkyID0gdGhpcy55YXhpcy50b1godmFsdWUuZW5kKTtcbiAgICAgICAgICAgIC8vcmVuZGVyLnJlbmRlcih0aGlzLmFyZWEuZnJvbnRDYW52YXMsIHZhbHVlLCB7IHg6IDAsIHk6IHkgfSwgdGhpcy5zaXplLCB0aGlzLnNldHRpbmdzLnByZWNpc2lvbigpKTtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICdyZ2JhKDE5MCwgMjMwLCAyNTUsIDAuMyknO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KDAsIE1hdGgubWluKHkxLCB5MiksIHRoaXMuc2l6ZS53aWR0aCwgTWF0aC5hYnMoeTIgLSB5MSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBQcmljZUF4aXNDb21wb25lbnQgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFByaWNlQXhpcyB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEsIFNpemVDaGFuZ2VkQXJndW1lbnQsIFlBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElBeGVzUmVuZGVyLCBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRpbmdTZXR0aW5ncyB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBQcmljZU1hcmtlciB9IGZyb20gJy4vUHJpY2VNYXJrZXInO1xuXG5leHBvcnQgY2xhc3MgUHJpY2VBeGlzQ29tcG9uZW50IGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXhpczogUHJpY2VBeGlzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogWUFyZWE7XG4gICAgcHJpdmF0ZSBtb3VzZT86IFBvaW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNoYXJ0QXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBwcmljZUF4aXM6IFByaWNlQXhpcyxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3NcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5heGlzID0gcHJpY2VBeGlzO1xuICAgICAgICB0aGlzLmFyZWEgPSBjaGFydEFyZWEuZ2V0WUFyZWEoKTtcbiAgICAgICAgdGhpcy5hcmVhLnNpemVDaGFuZ2VkLm9uKHRoaXMub25yZXNpemUpO1xuXG4gICAgICAgIGNvbnN0IHByaWNlTWFya2VyID0gbmV3IFByaWNlTWFya2VyKHRoaXMuYXJlYSwge3g6IDAsIHk6IDB9LCBzaXplLCBwcmljZUF4aXMsIHNldHRpbmdzLCB0aGlzLmdldE1hcmtQb3MpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHByaWNlTWFya2VyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlTW91c2UocmVsWDogbnVtYmVyLCByZWxZOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2UueCA9IHJlbFg7XG4gICAgICAgICAgICB0aGlzLm1vdXNlLnkgPSByZWxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBQb2ludChyZWxYLCByZWxZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmhhbmRsZU1vdXNlKHJlbFgsIHJlbFkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbnJlc2l6ZSA9IChhcmc6IFNpemVDaGFuZ2VkQXJndW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGFyZy5zaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKGNvbnRleHQucmVuZGVyQmFzZSkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gPElBeGVzUmVuZGVyPG51bWJlcj4+cmVuZGVyTG9jYXRvci5nZXRBeGVzUmVuZGVyKCdwcmljZScpO1xuICAgICAgICAgICAgcmVuZGVyLnJlbmRlcih0aGlzLmFyZWEuYmFzZUNhbnZhcywgdGhpcy5heGlzLCB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodH0pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE1hcmtQb3MgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSk6IG51bWJlcnx1bmRlZmluZWQgPT4ge1xuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLm1vdXNlLnkgPiAwICYmIHRoaXMubW91c2UueSA8IHRoaXMuc2l6ZS5oZWlnaHQpID8gdGhpcy5heGlzLnRvVmFsdWUodGhpcy5tb3VzZS55KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogUHJpY2VNYXJrZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFByaWNlQXhpcyB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElNYXJrUmVuZGVyLCBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFByaWNlTWFya2VyIGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGF4aXM6IFByaWNlQXhpcztcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihhcmVhOiBBcmVhLCBvZmZzZXQ6IElQb2ludCwgc2l6ZTogSVNpemUsIGF4aXM6IFByaWNlQXhpcywgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLCBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBudW1iZXJ8dW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gICAgICAgIHRoaXMuYXhpcyA9IGF4aXM7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5nZXR0ZXIgPSBnZXR0ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldHRlcihjb250ZXh0LCB0aGlzLnNpemUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJTWFya1JlbmRlcjxudW1iZXI+PnJlbmRlckxvY2F0b3IuZ2V0TWFya1JlbmRlcignbnVtYmVyJyk7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5heGlzLnRvWCh2YWx1ZSk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5mcm9udENhbnZhcywgdmFsdWUsIHsgeDogMCwgeTogeSB9LCB0aGlzLnNpemUsIHRoaXMuc2V0dGluZ3MucHJlY2lzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IElRdWlja3RpcCwgSVF1aWNrdGlwQnVpbGRlciB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBRdWlja3RpcEJ1aWxkZXIgaW1wbGVtZW50cyBJUXVpY2t0aXBCdWlsZGVyIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBpdGVtczogSUhhc2hUYWJsZTxRdWlja3RpcHx1bmRlZmluZWQ+ID0ge307XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRRdWlja3RpcCh1aWQ6IHN0cmluZyk6IElRdWlja3RpcCB7XG5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIC8vZGl2LnN0eWxlLnNldFByb3BlcnR5KCdkYXRhLXVpZCcsICd1aWQnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICBjb25zdCBxdCA9IG5ldyBRdWlja3RpcChkaXYpO1xuICAgICAgICB0aGlzLml0ZW1zW3VpZF0gPSBxdDtcbiAgICAgICAgcmV0dXJuIHF0O1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVRdWlja3RpcCh1aWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCByZW1vdmVkRWxlbWVudCA9IHRoaXMuaXRlbXNbdWlkXTtcbiAgICAgICAgaWYgKHJlbW92ZWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW3VpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZChyZW1vdmVkRWxlbWVudC5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUXVpY2t0aXAgaW1wbGVtZW50cyBJUXVpY2t0aXAge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUZXh0QmxvY2sodWlkOiBzdHJpbmcsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS11aWQnLCB1aWQpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnaW5saW5lJyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnbWFyZ2luLXJpZ2h0JywgJzVweCcpO1xuICAgICAgICBkaXYuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVRleHRCbG9jayh1aWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdWlkJyk7XG4gICAgICAgICAgICBpZiAoYXR0ciAmJiBhdHRyID09PSB1aWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQnV0dG9uKHVpZDogc3RyaW5nLCBjbGljazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgfVxufVxuIiwiLyoqXG4gKiBTdGF0ZUZhYnJpYyBjbGFzcy5cbiAqIFxuICogQGNsYXNzZGVzYyBTdG9yZXMgaW5zdGFuY2VzIG9mIHN0YXRlIGNsYXNzZXMgZm9yIGNoYXJ0IGJvYXJkLlxuICovXG5pbXBvcnQgeyBJSGFzaFRhYmxlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTdGF0ZUNvbnRyb2xsZXJDdG9yIHtcbiAgICBuZXcoKTogSVN0YXRlQ29udHJvbGxlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRlRmFicmljIHtcblxuICAgIHByaXZhdGUgc3RhdGljIHJlZzogSUhhc2hUYWJsZTxJU3RhdGVDb250cm9sbGVyQ3Rvcj4gPSB7fTtcbiAgICBwcml2YXRlIGluc3RhbmNlczogSUhhc2hUYWJsZTxJU3RhdGVDb250cm9sbGVyPiA9IHt9O1xuXG4gICAgcHVibGljIHN0YXRpYyBSRUdJU1RFUihzdGF0ZUlkOiBzdHJpbmcsIGN0b3I6IElTdGF0ZUNvbnRyb2xsZXJDdG9yKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWdbc3RhdGVJZF0pIHtcbiAgICAgICAgICAgIHRoaXMucmVnW3N0YXRlSWRdID0gY3RvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RhdGUgY29uc3RydWN0b3IgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0YXRlKHN0YXRlSWQ6IHN0cmluZyk6IElTdGF0ZUNvbnRyb2xsZXIge1xuICAgICAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlc1tzdGF0ZUlkXTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICAgICAgY29uc3QgY3RvciA9IFN0YXRlRmFicmljLnJlZ1tzdGF0ZUlkXTtcbiAgICAgICAgICAgIGlmIChjdG9yKSB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgY3RvcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNwZWNpZmllZCBzdGF0ZUlkIFwiJHtzdGF0ZUlkfVwiIGlzIG5vdCByZWdpc3RlcmVkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBFdmVudHMsIElNb3VzZSwgSVRvdWNoLCBNb3VzZSwgT2JqZWN0RXZlbnRBcmd1bWVudCwgVmlzdWFsQ29tcG9uZW50IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydEJvYXJkLCBJSG92ZXJhYmxlLCBpc0VkaXRhYmxlLCBJU2VsZWN0YWJsZSwgaXNIb3ZlcmFibGUsIGlzU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBIb3ZlclN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwcml2YXRlIGhpdENvbXBvbmVudD86IFZpc3VhbENvbXBvbmVudDtcbiAgICBwcml2YXRlIHNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25Nb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaXRDb21wb25lbnQgPSB0aGlzLmdldEhpdENvbXBvbmVudChib2FyZCwgbW91c2UucG9zKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZVVwKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKGJvYXJkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG1vdXNlIHdhcyBtb3ZlZCBkbyBub3Qgc2VsZWN0XG4gICAgICAgIGJvYXJkLnNlbGVjdCh0aGlzLmhpdENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuXG4gICAgICAgIGlmIChtb3VzZS5pc0Rvd24gJiYgdGhpcy5oaXRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGlmIChpc0hvdmVyYWJsZSh0aGlzLmhpdENvbXBvbmVudCkpIHsgdGhpcy5oaXRDb21wb25lbnQuc2V0SG92ZXJlZChmYWxzZSk7IH1cbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGFibGUodGhpcy5oaXRDb21wb25lbnQpKSB7IHRoaXMuaGl0Q29tcG9uZW50LnNldFNlbGVjdGVkKHRydWUpOyB9XG4gICAgICAgICAgICAvLyBjaGFuZ2Ugc3RhdGVcbiAgICAgICAgICAgIGlmIChpc0VkaXRhYmxlKHRoaXMuaGl0Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRTdGF0ZSA9IHRoaXMuaGl0Q29tcG9uZW50LmdldEVkaXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKGVkaXRTdGF0ZSwgeyBjb21wb25lbnQ6IHRoaXMuaGl0Q29tcG9uZW50IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1vdXNlLmlzRG93biAmJiAhdGhpcy5oaXRDb21wb25lbnQpIHsgLy8gVXNpbmcgcGFuIGV2ZW50IGluc3RlYWRcbiAgICAgICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdtb3ZlY2hhcnQnKTtcbiAgICAgICAgfSBlbHNlIGlmICghbW91c2UuaXNEb3duKSB7XG4gICAgICAgICAgICBjb25zdCBoaXRDb21wb25lbnQgPSB0aGlzLmdldEhpdENvbXBvbmVudChib2FyZCwgbW91c2UucG9zKTtcbiAgICAgICAgICAgIGlmIChoaXRDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBoaXRDb21wb25lbnQuc2V0SG92ZXJlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICBib2FyZC5zZXRDdXJzb3IoJ3BvaW50ZXInKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9hcmQuc2V0Q3Vyc29yKCdjcm9zc2hhaXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oaXRDb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Ub3VjaFBhbihib2FyZDogSUNoYXJ0Qm9hcmQsIHRvdWNoOiBJVG91Y2gpOiB2b2lkIHtcblxuICAgICAgICAvLyBpZiBzZWxlY3RlZCBjb21wb25lbnRcbiAgICAgICAgLy8gICAgICBlZGl0IGZpZ3VyZVxuICAgICAgICAvLyBpZiBub3RoaW5nIHNlbGVjdGVkXG4gICAgICAgIC8vICAgICAgbW92ZWNoYXJ0XG5cbiAgICAgICAgY29uc3QgW3NlbGVjdGVkQ29tcG9uZW50LCBvZmZzZXRdID0gdGhpcy5nZXRTZWxlY3RlZENvbXBvbmVudChib2FyZCk7XG4gICAgICAgIGlmIChzZWxlY3RlZENvbXBvbmVudCAmJiBvZmZzZXQgJiYgaXNIb3ZlcmFibGUoc2VsZWN0ZWRDb21wb25lbnQpICYmIGlzRWRpdGFibGUoc2VsZWN0ZWRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbmV3IFBvaW50KHRvdWNoLmNlbnRlci54IC0gb2Zmc2V0LngsIHRvdWNoLmNlbnRlci55IC0gb2Zmc2V0LnkpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ29tcG9uZW50LmlzSGl0KHApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWRpdFN0YXRlID0gc2VsZWN0ZWRDb21wb25lbnQuZ2V0RWRpdFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgYm9hcmQuY2hhbmdlU3RhdGUoZWRpdFN0YXRlLCB7IGNvbXBvbmVudDogc2VsZWN0ZWRDb21wb25lbnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2FyZC5jaGFuZ2VTdGF0ZSgnbW92ZWNoYXJ0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Ub3VjaFRhcChib2FyZDogSUNoYXJ0Qm9hcmQsIHRvdWNoOiBJVG91Y2gpOiB2b2lkIHtcbiAgICAgICAgLy8gMS4gY2xlYXIgc2VsZWN0aW9uXG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oYm9hcmQpO1xuXG4gICAgICAgIC8vIDIuIGdldCBoaXQgY29tcG9uZW50XG4gICAgICAgIHRoaXMuaGl0Q29tcG9uZW50ID0gdGhpcy5nZXRIaXRDb21wb25lbnQoYm9hcmQsIHRvdWNoLmNlbnRlcik7XG5cbiAgICAgICAgLy8gMy4gc2VsZWN0IGNvbXBvbmVudFxuICAgICAgICBib2FyZC5zZWxlY3QodGhpcy5oaXRDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRvdWNoUHJlc3MoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Ub3VjaFN3aXBlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhpdENvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYm9hcmQuc2V0Q3Vyc29yKCdjcm9zc2hhaXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgYm9hcmQuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGlzSG92ZXJhYmxlKGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY29udGludWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbGVhclNlbGVjdGlvbihib2FyZDogSUNoYXJ0Qm9hcmQpIHtcbiAgICAgICAgLy8gY2xlYXIgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgYm9hcmQuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0YWJsZShjb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnNldFNlbGVjdGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBjb250aW51ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEhpdENvbXBvbmVudChib2FyZDogSUNoYXJ0Qm9hcmQsIGhpdHBvaW50OiBJUG9pbnQpOiBWaXN1YWxDb21wb25lbnQgJiBJSG92ZXJhYmxlIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBsZXQgaGl0Q29tcG9uZW50OiBWaXN1YWxDb21wb25lbnQgJiBJSG92ZXJhYmxlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIHRyYXZlcnNlIGFsbCBob3ZlcmFibGUgY29tcG9uZW50cywgY2xlYXIgYWxsIHBvcHVwcyBhbmQgZmluZCBoaXQgY29tcG9uZW50LlxuICAgICAgICBib2FyZC5mb3JFYWNoKFxuICAgICAgICAgICAgKGNvbXBvbmVudCwgYWdncmVnYXRlZE9mZnNldCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0hvdmVyYWJsZShjb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBuZXcgUG9pbnQoaGl0cG9pbnQueCAtIGFnZ3JlZ2F0ZWRPZmZzZXQueCwgaGl0cG9pbnQueSAtIGFnZ3JlZ2F0ZWRPZmZzZXQueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5pc0hpdChwKSAmJiAhaGl0Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbXBvbmVudC5zZXRQb3B1cFZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmYWxzZTsgLy8gZG8gbm90IGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGNvbnRpbnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZSwgLy8gY2hlY2sgY2hpbGRyZW4gZmlyc3RcbiAgICAgICAgICAgIGZhbHNlKTsgLy8gaXRlcmF0aW5nIGluIHJldmVyc2Ugb3JkZXIgc28gdGhhdCByZW5kZXJlZCBsYXN0IGNoYXJ0cyB3aWxsIGJlIGFza2VkIGZpcnN0LlxuXG4gICAgICAgIHJldHVybiBoaXRDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTZWxlY3RlZENvbXBvbmVudChib2FyZDogSUNoYXJ0Qm9hcmQpOiBbVmlzdWFsQ29tcG9uZW50ICYgSVNlbGVjdGFibGUgfCB1bmRlZmluZWQsIElQb2ludHx1bmRlZmluZWRdIHtcblxuICAgICAgICBsZXQgc2VsZWN0ZWRDb21wb25lbnQ6IFZpc3VhbENvbXBvbmVudCAmIElTZWxlY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgb2Zmc2V0OiBJUG9pbnQgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gdHJhdmVyc2UgYWxsIGNvbXBvbmVudHMgYW5kIGZpbmQgc2VsZWN0ZWQgY29tcG9uZW50LlxuICAgICAgICBib2FyZC5mb3JFYWNoKChjb21wb25lbnQsIGFnZ3JlZ2F0ZWRPZmZzZXQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGFibGUoY29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQuZ2V0U2VsZWN0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gYWdncmVnYXRlZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzdG9wIGl0ZXJhdGluZ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBjb250aW51ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gW3NlbGVjdGVkQ29tcG9uZW50LCBvZmZzZXRdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmVDaGFydFN0YXRlIGltcGxlbWVudHMgSVN0YXRlQ29udHJvbGxlciB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwcml2YXRlIGxhc3RNb3VzZSA9IG5ldyBQb2ludCgpO1xuICAgIHByaXZhdGUgbGFzdFRvdWNoPzogUG9pbnQ7XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaWZmWCA9IG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0TW91c2UueDtcbiAgICAgICAgYm9hcmQubW92ZVgoZGlmZlgpO1xuXG4gICAgICAgIFt0aGlzLmxhc3RNb3VzZS54LCB0aGlzLmxhc3RNb3VzZS55XSA9IFttb3VzZS5wb3MueCwgbW91c2UucG9zLnldO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRvdWNoUGFuKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLmxhc3RUb3VjaCkge1xuICAgICAgICAgICAgY29uc3QgZGlmZlggPSB0b3VjaC5jZW50ZXIueCAtIHRoaXMubGFzdFRvdWNoLng7XG4gICAgICAgICAgICBib2FyZC5tb3ZlWChkaWZmWCk7XG4gICAgICAgICAgICBbdGhpcy5sYXN0VG91Y2gueCwgdGhpcy5sYXN0VG91Y2gueV0gPSBbdG91Y2guY2VudGVyLngsIHRvdWNoLmNlbnRlci55XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoID0gbmV3IFBvaW50KHRvdWNoLmNlbnRlci54LCB0b3VjaC5jZW50ZXIueSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG91Y2guaXNGaW5hbCkge1xuICAgICAgICAgICAgdGhpcy5leGl0KGJvYXJkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvblRvdWNoUHJlc3MoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Ub3VjaFN3aXBlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uVG91Y2hUYXAoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdE1vdXNlLngsIHRoaXMubGFzdE1vdXNlLnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVGltZUF4aXMgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFRpbWVBdXRvR3JpZCB9IGZyb20gJy4uL2F4ZXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgVGltZUJhciwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IEV2ZW50LCBJRXZlbnQsIElSYW5nZSwgSXRlcmF0b3IgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0ZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgTG9hZFJhbmdlRXZlbnQgZXh0ZW5kcyBFdmVudDxMb2FkUmFuZ2VBcmd1bWVudD4ge1xufVxuXG5leHBvcnQgY2xhc3MgTG9hZFJhbmdlQXJndW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgc3RhcnQ6IFVpZCxcbiAgICAgICAgcHVibGljIGVuZD86IFVpZCxcbiAgICAgICAgcHVibGljIGNvdW50PzogbnVtYmVyKSB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGltZUF4aXMgaW1wbGVtZW50cyBJVGltZUF4aXMsIEl0ZXJhdG9yPFRpbWVCYXI+IHtcblxuICAgIHByaXZhdGUgZGF0YVNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgaXRlcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gfCB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSB0ZW1wSXRlcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gfCB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSByZWFkb25seSBsb2FkUmFuZ2VFdmVudCA9IG5ldyBMb2FkUmFuZ2VFdmVudCgpO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqL1xuICAgIHByaXZhdGUgZnJhbWVTdGFydDogVWlkO1xuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiBpdGVtcyBpbiB0aGUgZnJhbWUuIE9ubHkgcG9zaXRpdmUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBOOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIGl0ZXJhdG9yUG9pbnRlcjogVWlkIHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgaXRlcmF0b3JDb3VudGVyOiBudW1iZXIgPSAwO1xuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgdGhlIGZyYW1lIGluIHBpeGVsc1xuICAgICAqL1xuICAgIHByaXZhdGUgdzogbnVtYmVyO1xuICAgIHByaXZhdGUgZzogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9pbnRlcnZhbDogVGltZUludGVydmFsO1xuXG4gICAgY29uc3RydWN0b3IoaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCwgaW5pdGlhbERhdGU6IERhdGUsIE46IG51bWJlciwgd2lkdGg6IG51bWJlcikge1xuXG4gICAgICAgIGlmIChOIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXCJOXCIgbXVzdCBiZSBwb3NpdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2lkdGggPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcIndpZHRoXCIgbXVzdCBiZSBwb3NpdGl2ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJvdW5kIGluaXRpYWwgZGF0ZSB0byBpbnRlcnZhbFxuICAgICAgICBpbml0aWFsRGF0ZSA9IERhdGVVdGlscy50cnVuY2F0ZVRvSW50ZXJ2YWwoaW5pdGlhbERhdGUsIGludGVydmFsKTtcblxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IGludGVydmFsO1xuICAgICAgICB0aGlzLk4gPSBOO1xuICAgICAgICB0aGlzLncgPSB3aWR0aDtcbiAgICAgICAgY29uc3QgZGF0ZVN0YXJ0ID0gRGF0ZVV0aWxzLmFkZEludGVydmFsKGluaXRpYWxEYXRlLCBpbnRlcnZhbCwgLU4pO1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSBuZXcgVWlkKGluaXRpYWxEYXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxvYWRpbmdSYW5nZSgpOiBJRXZlbnQ8TG9hZFJhbmdlQXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZFJhbmdlRXZlbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpbnRlcnZhbCgpOiBUaW1lSW50ZXJ2YWwge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBpbnRlcnZhbCh2YWx1ZTogVGltZUludGVydmFsKSB7XG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gdmFsdWU7XG5cbiAgICAgICAgLy8gdHJ1bmNhdGUgZnJhbWUgc3RhcnQgdG8gaW50ZXJ2YWxcbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0LnQgPSBEYXRlVXRpbHMudHJ1bmNhdGVUb0ludGVydmFsKHRoaXMuZnJhbWVTdGFydC50LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy53O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLncgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHNwZWNpZmllZCB1aWQgaXMgbG9jYXRlZCBpbnNpZGUgdmlzaWJsZSByYW5nZVxuICAgICAqIEBwYXJhbSB1aWRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNWaXNpYmxlKHVpZDogVWlkKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmZyYW1lU3RhcnQuY29tcGFyZSh1aWQpID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWVFbmQgPSB0aGlzLnNoaWZ0QnkodGhpcy50ZW1wSXRlciwgdGhpcy5OLCB0aGlzLmZyYW1lU3RhcnQpO1xuICAgICAgICByZXR1cm4gZnJhbWVFbmQuY29tcGFyZSh1aWQpID49IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdmlzaWJsZSByYW5nZSBzbyB0aGF0IHRoZSBzcGVjaWZpZWQgdWlkIGdldHMgaW50byB0aGF0IHJhbmdlLlxuICAgICAqIEBwYXJhbSB1aWRcbiAgICAgKi9cbiAgICBwdWJsaWMgbW92ZVRvKHVpZDogVWlkKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmZyYW1lU3RhcnQuY29tcGFyZSh1aWQpID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVtcEl0ZXIgJiYgdGhpcy50ZW1wSXRlci5nb1doaWxlKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZSh1aWQpIDw9IDApKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gdGhpcy50ZW1wSXRlci5jdXJyZW50LnVpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZyYW1lU3RhcnQuY29tcGFyZSh1aWQpIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIC10aGlzLk4sIHVpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGF0YVNvdXJjZShkYXRhU291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pIHtcbiAgICAgICAgLy8gZnJhbWVTdGFydCBhbmQgY291bnQgcmVtYWluIHRoZSBzYW1lLlxuICAgICAgICAvLyBjbGVhciBuXG4gICAgICAgIHRoaXMuZnJhbWVTdGFydC5uID0gMDtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLml0ZXIgPSBkYXRhU291cmNlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIHRoaXMudGVtcEl0ZXIgPSBkYXRhU291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gbG9hZCAzIHNjcmVlbnNcbiAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgMiAqIHRoaXMuTik7XG4gICAgICAgIHRoaXMubG9hZCh0aGlzLmZyYW1lU3RhcnQsIC10aGlzLk4pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UubG9hZCh1aWQsIGNvdW50KTtcbiAgICAgICAgICAgIHRoaXMubG9hZFJhbmdlRXZlbnQudHJpZ2dlcihuZXcgTG9hZFJhbmdlQXJndW1lbnQodWlkLCB1bmRlZmluZWQsIGNvdW50KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRSYW5nZShzdGFydDogVWlkLCBlbmQ6IFVpZCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2UubG9hZFJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgdGhpcy5sb2FkUmFuZ2VFdmVudC50cmlnZ2VyKG5ldyBMb2FkUmFuZ2VBcmd1bWVudChzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGN1cnJlbnQoKTogVGltZUJhciB7XG4gICAgICAgIGlmICh0aGlzLml0ZXJhdG9yUG9pbnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhdG9yIGlzIG5vdCBpbml0aWFsaXplZC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB1aWQ6IHRoaXMuaXRlcmF0b3JQb2ludGVyLCB4OiB0aGlzLmluZGV4MngodGhpcy5pdGVyYXRvckNvdW50ZXIpIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5OO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgLy8gZ28gdG8gZnJhbWVTdGFydFxuICAgICAgICB0aGlzLml0ZXJhdG9yUG9pbnRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pdGVyYXRvckNvdW50ZXIgPSAtMTtcbiAgICAgICAgdGhpcy5mb3VuZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm91bmQ6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgbW92ZU5leHQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLml0ZXJhdG9yUG9pbnRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yUG9pbnRlciA9IG5ldyBVaWQodGhpcy5mcmFtZVN0YXJ0LnQsIHRoaXMuZnJhbWVTdGFydC5uKTtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0b3JDb3VudGVyID0gMDtcblxuICAgICAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuaXRlcmF0b3JQb2ludGVyLnQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuaXRlcmF0b3JQb2ludGVyLm47XG4gICAgICAgICAgICBpZiAodGhpcy5pdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHRoaXMuaXRlci5nb1RvKGl0ZW0gPT4geyByZXR1cm4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IHRpbWUgJiYgaXRlbS51aWQubiA9PT0gbjsgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXRlcmF0b3JDb3VudGVyIDwgKHRoaXMuTiAtIDEpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc2hpZnROZXh0KHRoaXMuaXRlciwgdGhpcy5mb3VuZCwgdGhpcy5pdGVyYXRvclBvaW50ZXIpO1xuICAgICAgICAgICAgdGhpcy5mb3VuZCA9IHJlcy5mO1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRvclBvaW50ZXIgPSByZXMudWlkO1xuXG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yQ291bnRlciArPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgc2VhcmNoIG1vc3QgbmVhcmVzdCBVaWQgdG8gdGhlIHNwZWNpZmllZCBVaWQsIGFzIGludGVydmFsIGNhbiBiZSBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHVpZFxuICAgICAqL1xuICAgIHB1YmxpYyB0b1godWlkOiBVaWQpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHJlcXVpcmUgdWlkIGlzIGxvYWRlZFxuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRSYW5nZSh0aGlzLmZyYW1lU3RhcnQsIHVpZCk7XG4gICAgICAgIH1cblxuXHRcdC8vIENvbXB1dGUgZGlzdGFuY2UgYi93IGZyYW1lIHN0YXJ0INC4IHVpZFxuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy5nZXREaXN0YW5jZSh0aGlzLmZyYW1lU3RhcnQsIHVpZCk7XG4gICAgICAgIHJldHVybiBkaXN0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmluZGV4MngoZGlzdCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHRvVmFsdWUoeDogbnVtYmVyKTogVWlkIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLngyaW5kZXgoeCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNoaWZ0QnkodGhpcy50ZW1wSXRlciwgaW5kZXgsIHRoaXMuZnJhbWVTdGFydCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmUoZGlyZWN0aW9uOiBudW1iZXIpIHtcblxuICAgICAgICBpZiAoIWRpcmVjdGlvbiB8fCBkaXJlY3Rpb24gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBnbmV4dCA9IHRoaXMuZyArIGRpcmVjdGlvbjtcblxuICAgICAgICBjb25zdCB3aSA9IHRoaXMudyAvIHRoaXMuTjtcbiAgICAgICAgY29uc3QgY291bnQgPSBNYXRoLmZsb29yKGduZXh0IC8gd2kpO1xuICAgICAgICBnbmV4dCA9IGduZXh0IC0gKGNvdW50ICogd2kpO1xuXG4gICAgICAgIGlmIChjb3VudCAhPT0gMCkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gY291bnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgZGlyZWN0aW9uID4gMCA/IChkaXJlY3Rpb24gKyAyICogdGhpcy5OKSA6IChkaXJlY3Rpb24gLSB0aGlzLk4pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIC1kaXJlY3Rpb24sIHRoaXMuZnJhbWVTdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmcgPSBnbmV4dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NhbGUoZGlyZWN0aW9uOiBudW1iZXIpIHtcblxuICAgICAgICB0aGlzLmcgPSAwO1xuXG4gICAgICAgIGxldCBuZXdOID0gdGhpcy5OO1xuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkgeyAgICAgICAgICAgICAgICAvLyB6b29taW5nIGluXG4gICAgICAgICAgICBuZXdOID0gTWF0aC5mbG9vcih0aGlzLk4gKiAwLjkpO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHsgICAgICAgICAvLyB6b29taW5nIG91dFxuICAgICAgICAgICAgbmV3TiA9IE1hdGguY2VpbCh0aGlzLk4gKiAxLjEpO1xuICAgICAgICAgICAgdGhpcy5sb2FkKHRoaXMuZnJhbWVTdGFydCwgLTIgKiBuZXdOKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdOID49IDEgJiYgbmV3TiA8PSAyMDAwKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSB0aGlzLnNoaWZ0QnkodGhpcy50ZW1wSXRlciwgdGhpcy5OIC0gbmV3TiwgdGhpcy5mcmFtZVN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuTiA9IG5ld047XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaXNpYmxlIHJhbmdlXG4gICAgICovXG4gICAgcHVibGljIGdldCByYW5nZSgpOiBJUmFuZ2U8VWlkPiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IFVpZCgpO1xuICAgICAgICBzdGFydC50ID0gdGhpcy5mcmFtZVN0YXJ0LnQ7XG4gICAgICAgIHN0YXJ0Lm4gPSB0aGlzLmZyYW1lU3RhcnQubjtcbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIHRoaXMuTiwgdGhpcy5mcmFtZVN0YXJ0KTtcblxuICAgICAgICByZXR1cm4geyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH07XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlLmxvY2sodWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciByZW5kZXJpbmcgZ3JpZFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRHcmlkKCk6IEl0ZXJhdG9yPFRpbWVCYXI+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lQXV0b0dyaWQodGhpcy53LCB0aGlzLl9pbnRlcnZhbCwgdGhpcywgdGhpcy5yYW5nZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3QodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpc3RhbmNlKHVpZEZyb20sIHVpZFRvKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkKHVpZDogVWlkLCBhbW91bnQ6IG51bWJlcik6IFVpZHx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGlmdEJ5KHRoaXMudGVtcEl0ZXIsIGFtb3VudCwgdWlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGRpc3RhbmNlIChhbW91bnQgb2YgaW50ZXJ2YWxzKSBiL3cgc3BlY2lmaWVkIFVpZHMuXG4gICAgICogQHBhcmFtIHVpZEZyb20gXG4gICAgICogQHBhcmFtIHVpZFRvIFxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0RGlzdGFuY2UodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcblxuICAgICAgICBsZXQgY3VyVWlkID0gdWlkRnJvbS5jb21wYXJlKHVpZFRvKSA8PSAwID8gdWlkRnJvbSA6IHVpZFRvO1xuICAgICAgICBjb25zdCBsYXN0VWlkID0gdWlkRnJvbS5jb21wYXJlKHVpZFRvKSA8PSAwID8gdWlkVG8gOiB1aWRGcm9tO1xuXG4gICAgICAgIGNvbnN0IGN1clRpbWUgPSBjdXJVaWQudC5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IGxhc3RUaW1lID0gbGFzdFVpZC50LmdldFRpbWUoKTtcblxuICAgICAgICBjb25zdCBmbyA9IHRoaXMudGVtcEl0ZXIgPyB0aGlzLnRlbXBJdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGN1clVpZCkgPiAwKSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChmbyAmJiB0aGlzLnRlbXBJdGVyICYmIHRoaXMudGVtcEl0ZXIuY3VycmVudC51aWQuY29tcGFyZShsYXN0VWlkKSA8IDApIHtcblxuICAgICAgICAgICAgY291bnRlciA9IERhdGVVdGlscy5kaWZmSW50ZXJ2YWxzKGN1clVpZC50LCB0aGlzLnRlbXBJdGVyLmN1cnJlbnQudWlkLnQsIHRoaXMuaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICBsZXQgb3V0T2ZSYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMudGVtcEl0ZXIubW92ZU5leHQoKSkge1xuICAgICAgICAgICAgICAgIGN1clVpZCA9IHRoaXMudGVtcEl0ZXIuY3VycmVudC51aWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VyVWlkLmNvbXBhcmUobGFzdFVpZCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dE9mUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW91dE9mUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IERhdGVVdGlscy5kaWZmSW50ZXJ2YWxzKGN1clVpZC50LCBsYXN0VWlkLnQsIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY291bnRlciA9IERhdGVVdGlscy5kaWZmSW50ZXJ2YWxzKGN1clVpZC50LCBsYXN0VWlkLnQsIHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICB9XG5cblx0XHQvLyBDb21wdXRlIGNvb3JkaW5hdGUgYnkgaW5kZXhcbiAgICAgICAgcmV0dXJuICh1aWRGcm9tLnQgPCB1aWRUby50KSA/IGNvdW50ZXIgOiAtY291bnRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBVaWQgYXQgXCJzaGlmdFwiIGRpc3RhbmNlIGZyb20gY3VycmVudC4gQWRkcyBmYWtlIHZhbHVlcyBpZiBuZWVkZWQuXG4gICAgICogQHBhcmFtIGl0ZXJhdG9yIFxuICAgICAqIEBwYXJhbSBzaGlmdCBDYW4gYmUgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlXG4gICAgICogQHBhcmFtIGN1clBvc2l0aW9uIFxuICAgICAqL1xuICAgIHByaXZhdGUgc2hpZnRCeShpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gfCB1bmRlZmluZWQsIHNoaWZ0OiBudW1iZXIsIGN1clBvc2l0aW9uOiBVaWQpOiBVaWQge1xuXG4gICAgICAgIGNvbnN0IGN1ciA9IG5ldyBVaWQoKTtcbiAgICAgICAgY3VyLnQgPSBjdXJQb3NpdGlvbi50O1xuICAgICAgICBjdXIubiA9IGN1clBvc2l0aW9uLm47XG5cbiAgICAgICAgaWYgKHNoaWZ0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMS4gRmluZCBmaXJzdCBjYW5kbGUgYmVmb3JlIG9yIGFmdGVyIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmIChpdGVyYXRvcikge1xuICAgICAgICAgICAgZm91bmQgPSAoc2hpZnQgPiAwKVxuICAgICAgICAgICAgICAgID8gaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoY3VyKSA+IDApXG4gICAgICAgICAgICAgICAgOiBpdGVyYXRvci5nb1doaWxlKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShjdXIpIDwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlcmF0b3IgJiYgZm91bmQpIHtcblxuICAgICAgICAgICAgLy8gRGVmaW5lIGRpc3RhbmNlIGIvdyBmcmFtZSBzdGFydCBhbmQgZmlyc3QgZm91bmQgaXRlbVxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IERhdGVVdGlscy5kaWZmSW50ZXJ2YWxzKGN1ci50LCBpdGVyYXRvci5jdXJyZW50LnVpZC50LCB0aGlzLmludGVydmFsKTsgLy8gZGlmZiBpcyBwb3NpdGl2ZVxuXG4gICAgICAgICAgICBpZiAoKHNoaWZ0ID4gMCAmJiBkaWZmID4gc2hpZnQpIHx8IChzaGlmdCA8IDAgJiYgLWRpZmYgPCBzaGlmdCkpIHtcbiAgICAgICAgICAgICAgICBjdXIudCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChjdXIudCwgdGhpcy5faW50ZXJ2YWwsIHNoaWZ0KTtcbiAgICAgICAgICAgICAgICBjdXIubiA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hpZnQgPSBzaGlmdCAtICgoc2hpZnQgPiAwKSA/IGRpZmYgOiAtZGlmZik7XG5cbiAgICAgICAgICAgIC8vIFNoaWZ0IG92ZXIgdGhlIGRhdGEgaXRlbXNcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbE1vdmVkID0gaXRlcmF0b3IubW92ZVRpbWVzKHNoaWZ0KTtcbiAgICAgICAgICAgIGN1ci50ID0gaXRlcmF0b3IuY3VycmVudC51aWQudDtcbiAgICAgICAgICAgIGN1ci5uID0gaXRlcmF0b3IuY3VycmVudC51aWQubjtcbiAgICAgICAgICAgIHNoaWZ0ID0gc2hpZnQgLSBhY3R1YWxNb3ZlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaGlmdCAhPT0gMCkge1xuICAgICAgICAgICAgY3VyLnQgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoY3VyLnQsIHRoaXMuX2ludGVydmFsLCBzaGlmdCk7XG4gICAgICAgICAgICBjdXIubiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hpZnROZXh0KGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPnx1bmRlZmluZWQsIGZvdW5kOiBib29sZWFuLCBjdXJQb3NpdGlvbjogVWlkKToge2Y6IGJvb2xlYW4sIHVpZDogVWlkfSB7XG5cbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb246IFVpZCA9IG5ldyBVaWQoKTtcbiAgICAgICAgbGV0IGY6IGJvb2xlYW4gPSBmb3VuZDtcblxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIGYgPSAoaXRlcmF0b3IgIT09IHVuZGVmaW5lZCkgPyBpdGVyYXRvci5tb3ZlTmV4dCgpIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoZiAmJiBpdGVyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyID0gaXRlcmF0b3IuY3VycmVudDtcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi50ID0gY3VyLnVpZC50O1xuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uLm4gPSBjdXIudWlkLm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGdlbmVyYXRlIGZha2VcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgdHJ5IHRvIG1vdmVcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi50ID0gRGF0ZVV0aWxzLmFkZEludGVydmFsKGN1clBvc2l0aW9uLnQsIHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi5uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGZha2UgdGltZVxuICAgICAgICAgICAgLy8gdHJ5IG1vdmUgcG9pbnRlclxuICAgICAgICAgICAgbmV3UG9zaXRpb24udCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChjdXJQb3NpdGlvbi50LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgICAgICAgICBuZXdQb3NpdGlvbi5uID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmOiBmLCB1aWQ6IG5ld1Bvc2l0aW9uIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW5kZXggb2YgaW50ZXJ2YWwgdG8geCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGluZGV4IEludGVydmFsJ3MgaW5kZXhcbiAgICAgKi9cbiAgICBwcml2YXRlIGluZGV4MngoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHdpID0gdGhpcy53IC8gdGhpcy5OO1xuICAgICAgICByZXR1cm4gKHdpICogaW5kZXgpICsgKHdpIC8gMikgKyB0aGlzLmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgeCBjb29yZGluYXRlIHRvIGludGVydmFsJ3MgaW5kZXhcbiAgICAgKiBAcGFyYW0geCBDb29yZGluYXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSB4MmluZGV4KHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHdpID0gdGhpcy53IC8gdGhpcy5OO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoeCAtIHRoaXMuZykgLyB3aSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaW1lQXhpc0NvbXBvbmVudCBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBCb2FyZEFyZWEsIFNpemVDaGFuZ2VkQXJndW1lbnQsIFhBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElBeGVzUmVuZGVyLCBJUmVuZGVyTG9jYXRvciwgSVRpbWVBeGlzUmVuZGVyIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBUaW1lTWFya2VyIH0gZnJvbSAnLi9UaW1lTWFya2VyJztcblxuZXhwb3J0IGNsYXNzIFRpbWVBeGlzQ29tcG9uZW50IGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgdEF4aXM6IElUaW1lQXhpcztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IFhBcmVhO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbWFya2VyOiBUaW1lTWFya2VyO1xuICAgIHByaXZhdGUgbW91c2U/OiBQb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhcmVhOiBCb2FyZEFyZWEsXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXNcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudEF4aXMgPSB0aW1lQXhpcztcblxuICAgICAgICB0aGlzLmFyZWEgPSBhcmVhLmdldFhBcmVhKCk7XG4gICAgICAgIHRoaXMuYXJlYS5zaXplQ2hhbmdlZC5vbih0aGlzLm9ucmVzaXplKTtcblxuICAgICAgICB0aGlzLl9zaXplID0gdGhpcy5hcmVhLnNpemU7XG5cbiAgICAgICAgdGhpcy5tYXJrZXIgPSBuZXcgVGltZU1hcmtlcih0aGlzLmFyZWEsIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRpbWVBeGlzLCB0aGlzLmdldE1hcmtQb3MpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMubWFya2VyKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25yZXNpemUgPSAoYXJnOiBTaXplQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMuX3NpemUgPSBhcmcuc2l6ZTtcbiAgICAgICAgdGhpcy5tYXJrZXIucmVzaXplKGFyZy5zaXplLndpZHRoLCBhcmcuc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYW5kbGVNb3VzZShyZWxYOiBudW1iZXIsIHJlbFk6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZS54ID0gcmVsWDtcbiAgICAgICAgICAgIHRoaXMubW91c2UueSA9IHJlbFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlID0gbmV3IFBvaW50KHJlbFgsIHJlbFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuaGFuZGxlTW91c2UocmVsWCwgcmVsWSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuICAgICAgICBpZiAoY29udGV4dC5yZW5kZXJCYXNlKSB7XG4gICAgICAgICAgICAvL2NvbnN0IGNhbnZhcyA9IGNvbnRleHQuZ2V0Q2FudmFzKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IDxJVGltZUF4aXNSZW5kZXI+cmVuZGVyTG9jYXRvci5nZXRBeGVzUmVuZGVyKCdkYXRlJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5iYXNlQ2FudmFzLCB0aGlzLnRBeGlzLCB7IHg6IDAsIHk6IDAsIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc3QgY2hpbGRDb250ZXh0ID0gbmV3IFZpc3VhbENvbnRleHQoY29udGV4dC5yZW5kZXJCYXNlLCBjb250ZXh0LnJlbmRlckZyb250LFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmdldENhbnZhcygnYmFzZScpLCBjb250ZXh0LmdldENhbnZhcygnZnJvbnQnKSwgY29udGV4dC5tb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWFya1BvcyA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKTogVWlkfHVuZGVmaW5lZCA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubW91c2UueCA+IDAgJiYgdGhpcy5tb3VzZS54IDwgc2l6ZS53aWR0aCkgPyB0aGlzLnRBeGlzLnRvVmFsdWUodGhpcy5tb3VzZS54KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogVGltZU1hcmtlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgVmlzdWFsQ29tcG9uZW50LCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lTWFya2VyIGV4dGVuZHMgVmlzdWFsQ29tcG9uZW50IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJlYTogQXJlYTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gVWlkfHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKGFyZWE6IEFyZWEsIG9mZnNldDogUG9pbnQsIHNpemU6IElTaXplLCB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlciwgZ2V0dGVyOiAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4gVWlkfHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBlcihvZmZzZXQsIHNpemUpO1xuICAgICAgICB0aGlzLmFyZWEgPSBhcmVhO1xuICAgICAgICB0aGlzLnRheGlzID0gdGF4aXM7XG4gICAgICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250IHx8ICF0aGlzLnZpc2libGUpICB7XG4gICAgICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVpZCA9IHRoaXMuZ2V0dGVyKGNvbnRleHQsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWCh1aWQpO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gcmVuZGVyTG9jYXRvci5nZXRNYXJrUmVuZGVyKCdkYXRlJyk7XG4gICAgICAgICAgICByZW5kZXIucmVuZGVyKHRoaXMuYXJlYS5mcm9udENhbnZhcywgdWlkLnQsIHsgeDogeCwgeTogMCB9LCB0aGlzLnNpemUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaW1lUmVnaW9uTWFya2VyIGNsYXNzLlxuICovXG5pbXBvcnQgeyBOdW1iZXJBeGlzIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBJVGltZUNvb3JkQ29udmVydGVyLCBWaXN1YWxDb21wb25lbnQsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSU1hcmtSZW5kZXIsIElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElDaGFydGluZ1NldHRpbmdzIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFRpbWVSZWdpb25NYXJrZXIgZXh0ZW5kcyBWaXN1YWxDb21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncztcbiAgICBwcml2YXRlIHJlYWRvbmx5IGdldHRlcjogKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IElSYW5nZTxVaWQ+fHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGFyZWE6IEFyZWEsXG4gICAgICAgIG9mZnNldDogUG9pbnQsIHNpemU6IElTaXplLCB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlciwgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLCBnZXR0ZXI6IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiBJUmFuZ2U8VWlkPnx1bmRlZmluZWQgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgICAgIHRoaXMudGF4aXMgPSB0YXhpcztcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCB8fCAhdGhpcy52aXNpYmxlKSAge1xuICAgICAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0dGVyKGNvbnRleHQsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgeDEgPSB0aGlzLnRheGlzLnRvWCh2YWx1ZS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCB4MiA9IHRoaXMudGF4aXMudG9YKHZhbHVlLmVuZCk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlclxuICAgICAgICAgICAgaWYgKHgxICE9PSB1bmRlZmluZWQgJiYgeDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJ3JnYmEoMTkwLCAyMzAsIDI1NSwgMC4zKSc7XG4gICAgICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KE1hdGgubWluKHgxLCB4MiksIDAsIE1hdGguYWJzKHgyIC0geDEpLCB0aGlzLnNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IENoYXJ0IH0gZnJvbSAnLi9DaGFydCc7XG5pbXBvcnQgeyBDaGFydEJvYXJkIH0gZnJvbSAnLi9DaGFydEJvYXJkJztcbmltcG9ydCB7IENoYXJ0U3RhY2sgfSBmcm9tICcuL0NoYXJ0U3RhY2snO1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9GaWd1cmVDb21wb25lbnQnO1xuaW1wb3J0IHsgRmlndXJlRmFjdG9yeSwgRmlndXJlVHlwZSB9IGZyb20gJy4vRmlndXJlRmFjdG9yeSc7XG5pbXBvcnQgeyBJQ2hhcnQsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIgfVxuICAgIGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBpc0VkaXRhYmxlLCBpc0hvdmVyYWJsZSwgaXNTZWxlY3RhYmxlLCBpc1N0YXRlQ29udHJvbGxlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOdW1iZXJBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9OdW1iZXJBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IE51bWJlck1hcmtlciB9IGZyb20gJy4vTnVtYmVyTWFya2VyJztcbmltcG9ydCB7IE51bWJlclJlZ2lvbk1hcmtlciB9IGZyb20gJy4vTnVtYmVyUmVnaW9uTWFya2VyJztcbmltcG9ydCB7IFByaWNlQXhpc0NvbXBvbmVudCB9IGZyb20gJy4vUHJpY2VBeGlzQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YXRlRmFicmljIH0gZnJvbSAnLi9TdGF0ZUZhYnJpYyc7XG5pbXBvcnQgeyBIb3ZlclN0YXRlLCBNb3ZlQ2hhcnRTdGF0ZSB9IGZyb20gJy4vU3RhdGVzJztcbmltcG9ydCB7IFRpbWVBeGlzQ29tcG9uZW50IH0gZnJvbSAnLi9UaW1lQXhpc0NvbXBvbmVudCc7XG5pbXBvcnQgeyBUaW1lTWFya2VyIH0gZnJvbSAnLi9UaW1lTWFya2VyJztcbmltcG9ydCB7IFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuL1RpbWVSZWdpb25NYXJrZXInO1xuXG5leHBvcnQge1xuICAgIENoYXJ0LFxuICAgIENoYXJ0Qm9hcmQsXG4gICAgQ2hhcnRTdGFjayxcbiAgICBGaWd1cmVDb21wb25lbnQsXG4gICAgRmlndXJlRmFjdG9yeSxcbiAgICBGaWd1cmVUeXBlLFxuICAgIEhvdmVyU3RhdGUsXG4gICAgSUNoYXJ0LFxuICAgIElDaGFydEJvYXJkLFxuICAgIElDaGFydGluZ1NldHRpbmdzLFxuICAgIElDaGFydFN0YWNrLFxuICAgIElFZGl0YWJsZSxcbiAgICBJSG92ZXJhYmxlLFxuICAgIElTZWxlY3RhYmxlLFxuICAgIGlzRWRpdGFibGUsXG4gICAgaXNIb3ZlcmFibGUsXG4gICAgaXNTZWxlY3RhYmxlLFxuICAgIElTdGF0ZUNvbnRyb2xsZXIsXG4gICAgaXNTdGF0ZUNvbnRyb2xsZXIsXG4gICAgTW92ZUNoYXJ0U3RhdGUsXG4gICAgTnVtYmVyQXhpc0NvbXBvbmVudCxcbiAgICBOdW1iZXJNYXJrZXIsXG4gICAgUHJpY2VBeGlzQ29tcG9uZW50LFxuICAgIE51bWJlclJlZ2lvbk1hcmtlcixcbiAgICBTdGF0ZUZhYnJpYyxcbiAgICBUaW1lQXhpc0NvbXBvbmVudCxcbiAgICBUaW1lTWFya2VyLFxuICAgIFRpbWVSZWdpb25NYXJrZXJcbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmltcG9ydCB7IElJbmRpY2F0b3JFeHRlbnNpb24gfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgVWlkVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5kaWNhdG9yRXh0ZW5zaW9uIGltcGxlbWVudHMgSUluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgYW1vdW50UmVxdWlyZXM6IG51bWJlcjtcclxuICAgIC8vcHVibGljIGFic3RyYWN0IG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRSID0gbWF4KEggLSBMLCB8SCAtIEMgcHJldnwsIHxMIC0gQyBwcmV2fClcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUcnVlUmFuZ2VFeHRlbnNpb24gZXh0ZW5kcyBJbmRpY2F0b3JFeHRlbnNpb24ge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB1bmFtZSA9ICd0cnVlcmFuZ2UnO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgYW1vdW50UmVxdWlyZXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXh0ZW5kKGxpbmU6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPik6IHZvaWQge1xyXG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDEpOyAvLyBsYXN0IGlzIGN1cnJlbnRcclxuICAgICAgICBjb25zdCBwcmV2ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMik7IC8vIFRha2UgcHJldmlvdXM7XHJcblxyXG4gICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuaCAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAmJiBwcmV2ICYmIHByZXYuYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQuZXh0Wyd0ciddID0gTWF0aC5tYXgoY3VycmVudC5oLCBwcmV2LmMpIC0gTWF0aC5taW4oY3VycmVudC5sLCBwcmV2LmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqICtETVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHVuYW1lID0gJ3BkbSc7XHJcblxyXG4gICAgcHVibGljIGdldCBhbW91bnRSZXF1aXJlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5oICE9PSB1bmRlZmluZWQgJiYgY3VycmVudC5sICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgJiYgcHJldiAmJiBwcmV2LmggIT09IHVuZGVmaW5lZCAmJiBwcmV2LmwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBVcE1vdmUgPSBDdXJyZW50IEhpZ2ggLSBQcmV2aW91cyBIaWdoXHJcbiAgICAgICAgICAgIC8vIERvd25Nb3ZlID0gUHJldmlvdXMgTG93IC0gQ3VycmVudCBMb3dcclxuICAgICAgICAgICAgY29uc3QgdXBtb3ZlID0gY3VycmVudC5oIC0gcHJldi5oO1xyXG4gICAgICAgICAgICBjb25zdCBkb3dubW92ZSA9IHByZXYubCAtIGN1cnJlbnQubDtcclxuICAgICAgICAgICAgLy8gSWYgVXBNb3ZlID4gRG93bk1vdmUgYW5kIFVwTW92ZSA+IDAsIHRoZW4gK0RNID0gVXBNb3ZlLCBlbHNlICtETSA9IDBcclxuICAgICAgICAgICAgY3VycmVudC5leHRbJ3BkbSddID0gKHVwbW92ZSA+IGRvd25tb3ZlICYmIHVwbW92ZSA+IDApID8gdXBtb3ZlIDogMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAtRE1cclxuICovXHJcbmV4cG9ydCBjbGFzcyBEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHVuYW1lID0gJ21kbSc7XHJcblxyXG4gICAgcHVibGljIGdldCBhbW91bnRSZXF1aXJlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5oICE9PSB1bmRlZmluZWQgJiYgY3VycmVudC5sICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgJiYgcHJldiAmJiBwcmV2LmggIT09IHVuZGVmaW5lZCAmJiBwcmV2LmwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBVcE1vdmUgPSBDdXJyZW50IEhpZ2ggLSBQcmV2aW91cyBIaWdoXHJcbiAgICAgICAgICAgIC8vIERvd25Nb3ZlID0gUHJldmlvdXMgTG93IC0gQ3VycmVudCBMb3cgICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgdXBtb3ZlID0gY3VycmVudC5oIC0gcHJldi5oO1xyXG4gICAgICAgICAgICBjb25zdCBkb3dubW92ZSA9IHByZXYubCAtIGN1cnJlbnQubDtcclxuICAgICAgICAgICAgLy8gSWYgRG93bk1vdmUgPiBVcG1vdmUgYW5kIERvd25tb3ZlID4gMCwgdGhlbiAtRE0gPSBEb3duTW92ZSwgZWxzZSAtRE0gPSAwIFxyXG4gICAgICAgICAgICBjdXJyZW50LmV4dFsnbWRtJ10gPSAoZG93bm1vdmUgPiB1cG1vdmUgJiYgZG93bm1vdmUgPiAwKSA/IGRvd25tb3ZlIDogMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBVFJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdmdUcnVlUmFuZ2VFeHRlbnNpb24gZXh0ZW5kcyBJbmRpY2F0b3JFeHRlbnNpb24ge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSB1bmFtZSA9ICdhdmd0cnVlcmFuZ2UnO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwZXJpb2Q6IG51bWJlcjtcclxuICAgIC8vIEFUUiByZXF1aXJlcyBUUlxyXG4gICAgcHJpdmF0ZSB0ckV4dCA9IG5ldyBUcnVlUmFuZ2VFeHRlbnNpb24oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwZXJpb2Q/OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGlmIChwZXJpb2QgIT09IHVuZGVmaW5lZCAmJiBwZXJpb2QgPCAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGVyaW9kIGxlc3MgdGhlbiAxIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBlcmlvZCA9IHBlcmlvZCB8fCAxNDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGVyaW9kIDwgdGhpcy50ckV4dC5hbW91bnRSZXF1aXJlcykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BlcmlvZCBjYW4gbm90IGJlIGxlc3MgdGhlbiBUcnVlIFJhbmdlIHBlcmlvZC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhbW91bnRSZXF1aXJlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBlcmlvZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXh0ZW5kKGxpbmU6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPik6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhdGUgVHJ1ZSBSYW5nZSBiZWZvcmUgY2FsY3VsYXRpbmcgQVRSXHJcbiAgICAgICAgdGhpcy50ckV4dC5leHRlbmQobGluZSk7XHJcblxyXG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDEpOyAvLyBsYXN0IGlzIGN1cnJlbnRcclxuICAgICAgICBjb25zdCBwcmV2ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMik7IC8vIFRha2UgcHJldmlvdXM7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIHByZXZpb3VzIEFUUiwgdGhhbiB1c2UgaXQsIG90aGVyd2lzZSAtIHVzZSBhdmVyYWdlXHJcbiAgICAgICAgLy9cclxuICAgICAgICBpZiAoY3VycmVudCAmJiBwcmV2KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZBVFIgPSBwcmV2LmV4dFsnYXRyJ107XHJcbiAgICAgICAgICAgIGNvbnN0IGN1clRSID0gY3VycmVudC5leHRbJ3RyJ107XHJcbiAgICAgICAgICAgIGlmIChwcmV2QVRSICE9PSB1bmRlZmluZWQgJiYgY3VyVFIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudC5leHRbJ2F0ciddID0gKHByZXZBVFIgKiAodGhpcy5wZXJpb2QgLSAxKSArIGN1clRSKSAvIHRoaXMucGVyaW9kO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVc2luZyBUUiB2YWx1ZXMgdG8gY2FsY3VsYXRlIEFUUlxyXG4gICAgICAgIGxldCBzdW0gPSAwO1xyXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gbGluZS5sZW5ndGggLSAxOyBpID49IDAgJiYgY291bnRlciA8PSB0aGlzLnBlcmlvZDsgaSAtPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyID0gY3VycmVudC5leHRbJ3RyJ107XHJcbiAgICAgICAgICAgIGlmICh0ciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gdHI7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGFtb3VudCBvZiBUUiBpcyBlbm91Z2gsIGNhbGN1bGF0ZSBBVFJcclxuICAgICAgICBpZiAoY291bnRlciA9PT0gdGhpcy5wZXJpb2QpIHtcclxuICAgICAgICAgICAgY3VycmVudC5leHRbJ2F0ciddID0gc3VtIC8gdGhpcy5wZXJpb2Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogR2Fpbi9Mb3NzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR2Fpbkxvc3NFeHRlbnNpb24gZXh0ZW5kcyBJbmRpY2F0b3JFeHRlbnNpb24ge1xyXG4gICAgLy9wdWJsaWMgc3RhdGljIHJlYWRvbmx5IHVuYW1lID0gJ2dhaW5sb3NzJztcclxuICAgIHByaXZhdGUgdWlkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGV4dGVuc2lvblxyXG4gICAgICogQHBhcmFtIGZpZWxkTmFtZSBOYW1lIG9mIHRoZSBmaWVsZCB0byB1c2VcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IgKGFjY2Vzc29yOiAoYzogQ2FuZGxlc3RpY2spID0+IG51bWJlcnx1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcclxuICAgICAgICB0aGlzLnVpZCA9IFVpZFV0aWxzLk5FV1VJRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYW1vdW50UmVxdWlyZXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHVuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdnYWlubG9zcycgKyB0aGlzLnVpZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXh0ZW5kKGxpbmU6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPik6IHZvaWQge1xyXG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGxpbmUuZ2V0SXRlbShsaW5lLmxlbmd0aCAtIDEpOyAvLyBsYXN0IGlzIGN1cnJlbnRcclxuICAgICAgICBjb25zdCBwcmV2ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMik7IC8vIFRha2UgcHJldmlvdXM7XHJcbiAgICAgICAgY29uc3QgY3VyVmFsdWUgPSB0aGlzLmFjY2Vzc29yKGN1cnJlbnQpO1xyXG4gICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHRoaXMuYWNjZXNzb3IocHJldik7XHJcblxyXG4gICAgICAgIGlmIChjdXJWYWx1ZSAmJiBwcmV2VmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IGdhaW4gPSAwO1xyXG4gICAgICAgICAgICBsZXQgbG9zcyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChjdXJWYWx1ZSA+IHByZXZWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZ2FpbiA9IGN1clZhbHVlIC0gcHJldlZhbHVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1clZhbHVlIDwgcHJldlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBsb3NzID0gcHJldlZhbHVlIC0gY3VyVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudC5leHRbJ2dhaW5fJyArIHRoaXMudWlkXSA9IGdhaW47XHJcbiAgICAgICAgICAgIGN1cnJlbnQuZXh0Wydsb3NzXycgKyB0aGlzLnVpZF0gPSBsb3NzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWUoYzogQ2FuZGxlc3RpY2spOiBJR2Fpbkxvc3Mge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdhaW46IGMgJiYgYy5leHQgPyBjLmV4dFsnZ2Fpbl8nICsgdGhpcy51aWRdIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBsb3NzOiBjICYmIGMuZXh0ID8gYy5leHRbJ2xvc3NfJyArIHRoaXMudWlkXSA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdhaW5Mb3NzIHtcclxuICAgIGdhaW46IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICAgIGxvc3M6IG51bWJlciB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvZyBSZXR1cm4gZXh0ZW5zaW9uLiBSKGkpID0gbG9nKFBpIC8gUChpLTEpKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvZ1JldHVybkV4dGVuc2lvbiBleHRlbmRzIEluZGljYXRvckV4dGVuc2lvbiB7XHJcbiAgICBwcml2YXRlIHVpZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBleHRlbnNpb25cclxuICAgICAqIEBwYXJhbSBmaWVsZE5hbWUgTmFtZSBvZiB0aGUgZmllbGQgdG8gdXNlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yIChhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFjY2Vzc29yID0gYWNjZXNzb3I7XHJcbiAgICAgICAgdGhpcy51aWQgPSBVaWRVdGlscy5ORVdVSUQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFtb3VudFJlcXVpcmVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB1bmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnbG9ncmV0dXJuJyArIHRoaXMudWlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHRlbmQobGluZTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gbGluZS5nZXRJdGVtKGxpbmUubGVuZ3RoIC0gMSk7IC8vIGxhc3QgaXMgY3VycmVudFxyXG4gICAgICAgIGNvbnN0IHByZXYgPSBsaW5lLmdldEl0ZW0obGluZS5sZW5ndGggLSAyKTsgLy8gVGFrZSBwcmV2aW91cztcclxuICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IHRoaXMuYWNjZXNzb3IoY3VycmVudCk7XHJcbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gdGhpcy5hY2Nlc3NvcihwcmV2KTtcclxuXHJcbiAgICAgICAgaWYgKGN1clZhbHVlICYmIHByZXZWYWx1ZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50LmV4dFsnbG9ncmV0dXJuXycgKyB0aGlzLnVpZF0gPSBNYXRoLmxvZyhjdXJWYWx1ZSAvIHByZXZWYWx1ZSk7XHJcbiAgICAgICAgICAgIC8vY3VycmVudC5leHRbJ2xvZ3JldHVybl8nICsgdGhpcy51aWRdID0gKGN1clZhbHVlIC0gcHJldlZhbHVlKSAvIHByZXZWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhbHVlKGM6IENhbmRsZXN0aWNrKTogbnVtYmVyfHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIChjICYmIGMuZXh0KSA/IGMuZXh0Wydsb2dyZXR1cm5fJyArIHRoaXMudWlkXSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5pbXBvcnQge1xyXG4gICAgQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uLFxyXG4gICAgRG93bkRpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24sXHJcbiAgICBHYWluTG9zc0V4dGVuc2lvbixcclxuICAgIExvZ1JldHVybkV4dGVuc2lvbixcclxuICAgIFRydWVSYW5nZUV4dGVuc2lvbixcclxuICAgIFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvblxyXG59IGZyb20gJy4vSW5kaWNhdG9yRXh0ZW5zaW9uJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBUcnVlUmFuZ2VFeHRlbnNpb24sXHJcbiAgICBBdmdUcnVlUmFuZ2VFeHRlbnNpb24sXHJcbiAgICBEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcclxuICAgIExvZ1JldHVybkV4dGVuc2lvbixcclxuICAgIFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcclxuICAgIEdhaW5Mb3NzRXh0ZW5zaW9uLFxyXG59O1xyXG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQW1vdW50UmFuZ2Uge1xyXG4gICAgcHVibGljIHVpZFN0YXJ0OiBVaWQ7XHJcbiAgICBwdWJsaWMgdWlkRW5kPzogVWlkO1xyXG4gICAgcHVibGljIGNvdW50PzogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVpZFN0YXJ0OiBVaWQsIHVpZEVuZD86IFVpZCwgY291bnQ/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnVpZFN0YXJ0ID0gdWlkU3RhcnQ7XHJcbiAgICAgICAgdGhpcy51aWRFbmQgPSB1aWRFbmQ7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0VxdWFsKG90aGVyOiBBbW91bnRSYW5nZSkge1xyXG4gICAgICAgIHJldHVybiAob3RoZXJcclxuICAgICAgICAmJiB0aGlzLnVpZFN0YXJ0LmNvbXBhcmUob3RoZXIudWlkU3RhcnQpID09PSAwXHJcbiAgICAgICAgJiYgKHRoaXMudWlkRW5kID09PSBvdGhlci51aWRFbmQgfHwgKHRoaXMudWlkRW5kICYmIG90aGVyLnVpZEVuZCAmJiB0aGlzLnVpZEVuZC5jb21wYXJlKG90aGVyLnVpZEVuZCkgPT09IDApKVxyXG4gICAgICAgICYmICh0aGlzLmNvdW50ID09PSBvdGhlci5jb3VudCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQW1vdW50UmFuZ2VPcHMge1xyXG4gICAgcHVibGljIHN0YXRpYyBkaWZmZXJlbmNlKG1pbnVlbmQ6IEFtb3VudFJhbmdlLCBzdWJ0cmFoZW5kOiBBbW91bnRSYW5nZSk6IEFtb3VudFJhbmdlW10gfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICBjb25zdCBNID0gbWludWVuZDtcclxuICAgICAgICBjb25zdCBTID0gc3VidHJhaGVuZDtcclxuXHJcbiAgICAgICAgaWYgKE0udWlkRW5kICYmIFMudWlkRW5kKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBNMSA9IE0udWlkU3RhcnQuY29tcGFyZShNLnVpZEVuZCkgPiAwID8gTS51aWRFbmQgOiBNLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBNMiA9IE0udWlkU3RhcnQuY29tcGFyZShNLnVpZEVuZCkgPiAwID8gTS51aWRTdGFydCA6IE0udWlkRW5kO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgUzEgPSBTLnVpZFN0YXJ0LmNvbXBhcmUoUy51aWRFbmQpID4gMCA/IFMudWlkRW5kIDogUy51aWRTdGFydDtcclxuICAgICAgICAgICAgY29uc3QgUzIgPSBTLnVpZFN0YXJ0LmNvbXBhcmUoUy51aWRFbmQpID4gMCA/IFMudWlkU3RhcnQgOiBTLnVpZEVuZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChNMS5jb21wYXJlKFMxKSA8IDAgJiYgTTIuY29tcGFyZShTMSkgPD0gMCkgeyAgLy8gTS1NIFMtU1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKE0xLCBNMikgXTsgLy8geyBNMSwgTTIgfTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNMS5jb21wYXJlKFMyKSA+PSAwICYmIE0yLmNvbXBhcmUoUzIpID4gMCkgeyAvLyBTLVMgTS1NXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBuZXcgQW1vdW50UmFuZ2UoTTEsIE0yKSBdOyAvL3sgTTEsIE0yfTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNMS5jb21wYXJlKFMxKSA+PSAwICYmIE0yLmNvbXBhcmUoUzIpIDw9IDApIHsgLy8gUyBNIE0gU1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNMS5jb21wYXJlKFMxKSA8IDAgJiYgTTIuY29tcGFyZShTMikgPiAwKSB7ICAgIC8vIE0gUyBTIE1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKFMyLCBNMikgXTsgLy97TTEsIFMxfSArIHtTMiwgTTJ9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKE0xLmNvbXBhcmUoUzEpIDw9IDApIHsgIC8vIE0gUyBNLVNcclxuICAgICAgICAgICAgICAgIHJldHVybiBbIG5ldyBBbW91bnRSYW5nZShNMSwgUzEpIF07IC8vIHsgTTEsIFMxIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTTIuY29tcGFyZShTMikgPj0gMCkgeyAgLy8gUyBNIFMtTVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKFMyLCBNMikgXTsgLy8geyBTMiwgTTIgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGV4Y2VwdGlvbi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoTS5jb3VudCAhPT0gdW5kZWZpbmVkICYmIFMudWlkRW5kKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoUy5jb3VudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1doZW4gcmFuZ2UgaGFzIHVpZEVuZCBpdCBtdXN0IGRlZmluZSBjb3VudC4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgTTEgPSBNLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBTMSA9IFMudWlkU3RhcnQuY29tcGFyZShTLnVpZEVuZCkgPiAwID8gUy51aWRFbmQgOiBTLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBTMiA9IFMudWlkU3RhcnQuY29tcGFyZShTLnVpZEVuZCkgPiAwID8gUy51aWRTdGFydCA6IFMudWlkRW5kO1xyXG5cclxuICAgICAgICAgICAgaWYgKChNLmNvdW50IDwgMCAmJiBNMS5jb21wYXJlKFMxKSA8PSAwKSB8fCAoTS5jb3VudCA+IDAgJiYgTTEuY29tcGFyZShTMikgPj0gMCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbIG5ldyBBbW91bnRSYW5nZShNMSwgdW5kZWZpbmVkLCBNLmNvdW50KSBdOyAvLyB7IE0xLCBNLmNvdW50IH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTS5jb3VudCA8IDAgJiYgTTEuY29tcGFyZShTMikgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoTS5jb3VudCkgPiBNYXRoLmFicyhTLmNvdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbW91bnRSYW5nZShTMiwgTTEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQW1vdW50UmFuZ2UoUzEsIHVuZGVmaW5lZCwgTS5jb3VudClcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8veyBTMiwgTTEgfSArIHsgUzEsIE0uY291bnQgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKFMyLCBNMSkgXTsgLy8geyBTMiwgTTEgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNLmNvdW50ID4gMCAmJiBNMS5jb21wYXJlKFMxKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhNLmNvdW50KSA+IE1hdGguYWJzKFMuY291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbW91bnRSYW5nZShTMiwgdW5kZWZpbmVkLCBNLmNvdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8geyBNMSwgUzEgfSArIHsgUzIsIE0uY291bnQgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSkgXTsgLy8geyBNMSwgUzEgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChNMS5jb21wYXJlKFMxKSA+PSAwICYmIE0xLmNvbXBhcmUoUzIpIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciAoJ1N1YnRyYWhlbmQgbXVzdCBub3Qgc3RhcnQgaW4gbWludWVuZC4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGV4Y2VwdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoTS51aWRFbmQgJiYgUy5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChNLmNvdW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2hlbiByYW5nZSBoYXMgdWlkRW5kIGl0IG11c3QgZGVmaW5lIGNvdW50LicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBTMSA9IFMudWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IE0xID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZEVuZCA6IE0udWlkU3RhcnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IE0yID0gTS51aWRTdGFydC5jb21wYXJlKE0udWlkRW5kKSA+IDAgPyBNLnVpZFN0YXJ0IDogTS51aWRFbmQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoKFMuY291bnQgPCAwICYmIFMxLmNvbXBhcmUoTTEpIDw9IDApIHx8IChTLmNvdW50ID4gMCAmJiBTMS5jb21wYXJlKE0yKSA+PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtNXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChTMS5jb21wYXJlKE0xKSA+PSAwICYmIFMxLmNvbXBhcmUoTTIpIDw9IDAgJiYgUy5jb3VudCA8IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhNLmNvdW50KSA+IE1hdGguYWJzKFMuY291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKFMxLCBNMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbW91bnRSYW5nZShNMSwgdW5kZWZpbmVkLCBTLmNvdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8geyBTMSwgTTIgfSArIHsgTTEsIFMuY291bnQgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKFMxLCBNMikgXTsgLy8geyBTMSwgTTIgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChTMS5jb21wYXJlKE0xKSA+PSAwICYmIFMxLmNvbXBhcmUoTTIpIDw9IDAgJiYgUy5jb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhNLmNvdW50KSA+IE1hdGguYWJzKFMuY291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbW91bnRSYW5nZShNMiwgdW5kZWZpbmVkLCBTLmNvdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8geyBNMSwgUzEgfSArIHsgTTIsIFMuY291bnQgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgbmV3IEFtb3VudFJhbmdlKE0xLCBTMSkgXTsgLy8geyBNMSwgUzEgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiBleGNlcHRpb24nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKE0uY291bnQgIT09IHVuZGVmaW5lZCAmJiBTLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGV4Y2VwdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzSW50ZXJzZWN0ZWQobGhzOiBBbW91bnRSYW5nZSwgcmhzOiBBbW91bnRSYW5nZSk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBjb25zdCBNID0gbGhzLnVpZEVuZCA/IGxocyA6IHJocztcclxuICAgICAgICBjb25zdCBTID0gbGhzLnVpZEVuZCA/IHJocyA6IGxocztcclxuXHJcbiAgICAgICAgaWYgKCFNLnVpZEVuZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiByYW5nZXMgbXVzdCBoYXZlIHNwZWNpZmllZCB1aWRFbmQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoTS51aWRFbmQgJiYgUy51aWRFbmQpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IEFtb3VudFJhbmdlT3BzLmRpZmZlcmVuY2UoTSwgUyk7XHJcbiAgICAgICAgICAgIGlmIChkaWZmICYmIGRpZmYubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIU0uaXNFcXVhbChkaWZmWzBdKTsgLy8gaWYgcmFuZ2UgaXMgdGhlIHNhbWUsIHRoYXQgbWVhbnMgdGhhdCB0aGV5IGFyZSBub3QgaW50ZXJzZWN0ZWQuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgUzEgPSBTLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBNMSA9IE0udWlkU3RhcnQuY29tcGFyZShNLnVpZEVuZCkgPiAwID8gTS51aWRFbmQgOiBNLnVpZFN0YXJ0O1xyXG4gICAgICAgICAgICBjb25zdCBNMiA9IE0udWlkU3RhcnQuY29tcGFyZShNLnVpZEVuZCkgPiAwID8gTS51aWRTdGFydCA6IE0udWlkRW5kO1xyXG5cclxuICAgICAgICAgICAgaWYgKFMuY291bnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VudCBhbmQgdWlkRW5kIG5vdCBkZWZpbmVkLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoKFMxLmNvbXBhcmUoTTEpIDw9IDAgJiYgUy5jb3VudCA8IDApIHx8IChTMS5jb21wYXJlKE0yKSA+PSAwICYmIFMuY291bnQgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBOb3QgaW50ZXJzZWN0ZWRcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBBbnkgb3RoZXIgY2FzZSBhc3N1bWUgaW50ZXJzZWN0ZWQuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIENPYmplY3Qge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBfdWlkOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9uYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcih1aWQ6IHN0cmluZywgbmFtZT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl91aWQgPSB1aWQ7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lIHx8ICcnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdWlkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl91aWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2hhcnRUeXBlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY2FuZGxlID0gJ2NhbmRsZSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGhlaWtpbmFzaGkgPSAnaGVpa2luYXNoaSc7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGhvbGxvdyA9ICdob2xsb3cnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBsaW5lID0gJ2xpbmUnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBsaW5lYnJlYWsgPSAnbGluZWJyZWFrJztcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbW91bnRhaW4gPSAnbW91bnRhaW4nO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBvaGxjID0gJ29obGMnO1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSByYW5nZWJhciA9ICdyYW5nZWJhcic7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJlbmtvID0gJ3JlbmtvJztcclxufVxyXG4iLCIvKipcbiAqIENvbW1hbmQgY2xhc3NcbiAqL1xuaW1wb3J0IHsgQWN0aW9uLCBJQ29tbWFuZCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgQ29tbWFuZCBpbXBsZW1lbnRzIElDb21tYW5kIHtcbiAgICBwcml2YXRlIF9leGVjOiBBY3Rpb247XG4gICAgcHJpdmF0ZSBfdW5kbzogQWN0aW9uO1xuICAgIHByaXZhdGUgaXNFeGVjdXRlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgaXNVbmRvbmUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGV4ZWM6IEFjdGlvbiwgdW5kbzogQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2V4ZWMgPSBleGVjO1xuICAgICAgICB0aGlzLl91bmRvID0gdW5kbztcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhlY3V0ZSgpOiBJQ29tbWFuZCB7XG4gICAgICAgIGlmICghdGhpcy5pc0V4ZWN1dGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9leGVjKCk7XG4gICAgICAgICAgICB0aGlzLmlzRXhlY3V0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbW1hbmQgaXMgYWxyZWFkeSBleGVjdXRlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVuZG8oKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1VuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5kbygpO1xuICAgICAgICAgICAgdGhpcy5pc1VuZG9uZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbW1hbmQgaXMgYWxyZWFkeSB1bmRvbmUnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQ29yZSBjb25zdGFudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2ZpYm9QZXJjYW50YWdlOiBSZWFkb25seUFycmF5PG51bWJlcj4gPSBbXG4gICAgICAgIDAuMjM2LFxuICAgICAgICAwLjM4MixcbiAgICAgICAgMC41LFxuICAgICAgICAwLjYxOCxcbiAgICAgICAgMC43NjQsXG4gICAgICAgIDAuNzg2LFxuICAgICAgICAxLFxuICAgICAgICAxLjI3MixcbiAgICAgICAgMS4zODIsXG4gICAgICAgIDEuNjE4LFxuICAgICAgICAyLFxuICAgICAgICAyLjYxOCxcbiAgICAgICAgNC4yMzZcbiAgICBdO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgRklCT19QRVJDRU5UQUdFKCk6IFJlYWRvbmx5QXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWJvUGVyY2FudGFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERFRkFVTFRfRk9SRUNPTE9SID0gJyNGRjAwMDAnO1xufVxuIiwi77u/LyoqXG4gKiBDb3JlIGVudW1lcmF0aW9ucy5cbiAqL1xuZXhwb3J0IGVudW0gVGltZUludGVydmFsIHtcbiAgICBub3RTZXQgPSAgICAgICAgIDAsXG4gICAgc2VjID0gICAgICAgICAxMDAwLFxuICAgIG1pbiA9ICAgICAgICA2MDAwMCxcbiAgICBtaW41ID0gICAgICAzMDAwMDAsXG4gICAgbWluMTUgPSAgICAgOTAwMDAwLFxuICAgIG1pbjMwID0gICAgMTgwMDAwMCxcbiAgICBob3VyID0gICAgIDM2MDAwMDAsXG4gICAgaG91cjQgPSAgIDE0NDAwMDAwLFxuICAgIGhvdXI2ID0gICAyMTYwMDAwMCxcbiAgICBob3VyMTIgPSAgNDMyMDAwMDAsXG4gICAgZGF5ID0gICAgIDg2NDAwMDAwLFxuICAgIGRheTMgPSAgIDI1OTIwMDAwMCxcbiAgICB3ZWVrID0gICA2MDQ4MDAwMDAsXG4gICAgZGF5MTAgPSAgODY0MDAwMDAwLFxuICAgIG1vbnRoID0gMjY3ODQwMDAwMCAvLyAzMSBkYXlzXG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDT2JqZWN0IH0gZnJvbSAnLi9DT2JqZWN0JztcbmltcG9ydCB7IElNb3VzZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEFyZ3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgT2JqZWN0RXZlbnRBcmd1bWVudCBleHRlbmRzIEV2ZW50QXJndW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgb2JqPzogQ09iamVjdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlRXZlbnRBcmd1bWVudCBleHRlbmRzIEV2ZW50QXJndW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgbW91c2U6IElNb3VzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50cyB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwcml2YXRlIF9zZWxlY3Rpb25DaGFuZ2VkID0gbmV3IEV2ZW50PE9iamVjdEV2ZW50QXJndW1lbnQ+KCk7XG4gICAgcHVibGljIGdldCBzZWxlY3Rpb25DaGFuZ2VkKCk6IEV2ZW50PE9iamVjdEV2ZW50QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGlvbkNoYW5nZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdHJlZUNoYW5nZWQgPSBuZXcgRXZlbnQ8RXZlbnRBcmd1bWVudD4oKTtcbiAgICBwdWJsaWMgZ2V0IHRyZWVDaGFuZ2VkKCk6IEV2ZW50PEV2ZW50QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyZWVDaGFuZ2VkO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2hpc3RvcnlDaGFuZ2VkID0gbmV3IEV2ZW50PEV2ZW50QXJndW1lbnQ+KCk7XG4gICAgcHVibGljIGdldCBoaXN0b3J5Q2hhbmdlZCgpOiBFdmVudDxFdmVudEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaXN0b3J5Q2hhbmdlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIENvcmUgaW50ZXJmYWNlcy5cbiAqL1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSXRlcmF0b3IgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi9FbnVtcyc7XG5pbXBvcnQgeyBTZXR0aW5nU2V0IH0gZnJvbSAnLi9TZXR0aW5nU2V0JztcblxuZXhwb3J0IGNsYXNzIFRpbWVCYXIge1xuICAgIHB1YmxpYyB1aWQ6IFVpZDtcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgR3JpZDxUPiB7XG4gICAgcHVibGljIGJhcnM6IFRbXSA9IFtdO1xuICAgIHB1YmxpYyBwcmVjaXNpb246IG51bWJlciA9IDA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0UG9pbnQge1xuICAgIHJlYWRvbmx5IHVpZD86IFVpZDtcbiAgICByZWFkb25seSB2PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUaW1lQ29vcmRDb252ZXJ0ZXIge1xuICAgIHRvWCh1aWQ6IFVpZCk6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgdG9WYWx1ZSh4OiBudW1iZXIpOiBVaWR8dW5kZWZpbmVkO1xuICAgIGRpc3QodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBhZGQodWlkOiBVaWQsIGFtb3VudDogbnVtYmVyKTogVWlkfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVmFsdWVDb29yZENvbnZlcnRlcjxUPiB7XG4gICAgdG9YKHZhbHVlOiBudW1iZXIpOiBudW1iZXI7XG4gICAgdG9WYWx1ZSh4OiBudW1iZXIpOiBUIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUaW1lQXhpcyBleHRlbmRzIElUaW1lQ29vcmRDb252ZXJ0ZXIge1xuICAgIHJhbmdlOiBJUmFuZ2U8VWlkPjtcbiAgICBpbnRlcnZhbDogbnVtYmVyO1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgcmVzZXQoKTogdm9pZDtcbiAgICBtb3ZlTmV4dCgpOiBib29sZWFuO1xuICAgIGN1cnJlbnQ6IFRpbWVCYXI7XG4gICAgbW92ZShkaXJlY3Rpb246IG51bWJlcik6IHZvaWQ7XG4gICAgc2NhbGUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICAgIGxvY2sodWlkOiBVaWQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEZvciByZW5kZXJpbmcgZ3JpZFxuICAgICAqL1xuICAgIGdldEdyaWQoKTogSXRlcmF0b3I8VGltZUJhcj47XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFtb3VudCBvZiBkYXRhIGludGVydmFscyBiL3cgc3BlY2lmaWVkIHVpZHMuXG4gICAgICovXG4gICAgZGlzdCh1aWRGcm9tOiBVaWQsIHVpZFRvOiBVaWQpOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBzcGVjaWZpZWQgYW1vdW50IG9mIGludGVydmFscyB0byB0aGUgc3BlY2lmaWVkIHVpZC5cbiAgICAgKi9cbiAgICBhZGQodWlkOiBVaWQsIGFtb3VudDogbnVtYmVyKTogVWlkfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXhpczxUPiBleHRlbmRzIElWYWx1ZUNvb3JkQ29udmVydGVyPFQ+IHtcbiAgICByYW5nZTogSVJhbmdlPFQ+O1xuICAgIGludGVydmFsOiBudW1iZXI7XG4gICAgZ2V0R3JpZCgpOiBHcmlkPFQ+O1xuICAgIGdldFZhbHVlc1JhbmdlKGZyb21YOiBudW1iZXIsIHRvWDogbnVtYmVyKTogSVJhbmdlPFQgfCB1bmRlZmluZWQ+O1xuICAgIG1vdmUoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkO1xuICAgIHNjYWxlKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ29vcmRzQ29udmVydGVyIHtcbiAgICB0b1godmFsdWU6IFVpZCk6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgeFRvVmFsdWUoeDogbnVtYmVyKTogVWlkfHVuZGVmaW5lZDtcblxuICAgIHRvWFkocG9pbnQ6IElDaGFydFBvaW50KTogSVBvaW50fHVuZGVmaW5lZDtcbiAgICB4eVRvVmFsdWUocG9pbnQ6IElQb2ludCk6IElDaGFydFBvaW50O1xuXG4gICAgdG9ZKHZhbHVlOiBudW1iZXIpOiBudW1iZXI7XG4gICAgeVRvVmFsdWUoeTogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU291cmNlIHtcbiAgICBnZXRISExMKHVpZEZyb206IFVpZCwgdWlkVG86IFVpZCk6IENhbmRsZXN0aWNrfHVuZGVmaW5lZDtcbiAgICBnZXRMYXN0Q2FuZGxlKCk6IENhbmRsZXN0aWNrfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTW91c2Uge1xuICAgIHBvczogSVBvaW50O1xuICAgIGlzRG93bjogYm9vbGVhbjtcbiAgICBpc0VudGVyZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvdWNoIHtcbiAgICBpc0ZpcnN0OiBib29sZWFuO1xuICAgIGlzRmluYWw6IGJvb2xlYW47XG4gICAgZGlzdGFuY2U6IG51bWJlcjtcbiAgICBkZWx0YVg6IG51bWJlcjtcbiAgICBkZWx0YVk6IG51bWJlcjtcbiAgICBjZW50ZXI6IElQb2ludDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRGF0YVNlcnZpY2Uge1xuICAgIGdldENhbmRsZTogKGFzc2V0OiBzdHJpbmcsIGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpID0+IFByb21pc2U8Q2FuZGxlc3RpY2s+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdG9yYWdlIHtcbiAgICBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbDtcbiAgICBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSW5kaWNhdG9yRXh0ZW5zaW9uIHtcbiAgICBhbW91bnRSZXF1aXJlczogbnVtYmVyO1xuICAgIGV4dGVuZChsaW5lOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4pOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElRdWlja3RpcEJ1aWxkZXIge1xuICAgIGFkZFF1aWNrdGlwKHVpZDogc3RyaW5nKTogSVF1aWNrdGlwO1xuICAgIHJlbW92ZVF1aWNrdGlwKHVpZDogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUXVpY2t0aXAge1xuICAgIGFkZFRleHRCbG9jayh1aWQ6IHN0cmluZywgdGV4dDogc3RyaW5nKTogdm9pZDtcbiAgICByZW1vdmVUZXh0QmxvY2sodWlkOiBzdHJpbmcpOiB2b2lkO1xuICAgIGFkZEJ1dHRvbih1aWQ6IHN0cmluZywgY2xpY2s6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb25maWd1cmFibGUge1xuICAgIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQ7XG4gICAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb25maWd1cmFibGUob2JqOiBhbnkpOiBvYmogaXMgSUNvbmZpZ3VyYWJsZSB7XG4gICAgcmV0dXJuICg8SUNvbmZpZ3VyYWJsZT5vYmopLnNldFNldHRpbmdzICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVN0YXRlZnVsIHtcbiAgICBnZXRTdGF0ZSgpOiBzdHJpbmc7XG4gICAgcmVzdG9yZShzdGF0ZTogc3RyaW5nKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhdGVmdWwob2JqOiBhbnkpOiBvYmogaXMgSVN0YXRlZnVsIHtcbiAgICByZXR1cm4gKDxJU3RhdGVmdWw+b2JqKS5nZXRTdGF0ZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgdHlwZSBBY3Rpb24gPSAoKSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb21tYW5kIHtcbiAgICBleGVjdXRlKCk6IElDb21tYW5kO1xuICAgIHVuZG8oKTogdm9pZDtcbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElNb3VzZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDaGFydFBvaW50IHtcbiAgICBwdWJsaWMgdWlkPzogVWlkO1xuICAgIHB1YmxpYyB2PzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodWlkPzogVWlkLCB2YWx1ZT86IG51bWJlcikge1xuICAgICAgICB0aGlzLnVpZCA9IHVpZDtcbiAgICAgICAgdGhpcy52ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogQ2hhcnRQb2ludCkge1xuICAgICAgICBpZiAob3RoZXIpIHtcbiAgICAgICAgICAgIGlmIChvdGhlciA9PT0gdGhpcykgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKCgodGhpcy51aWQgJiYgb3RoZXIudWlkICYmIHRoaXMudWlkLmVxdWFscyhvdGhlci51aWQpKSB8fCAodGhpcy51aWQgPT09IG90aGVyLnVpZCkpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMudiA9PT0gb3RoZXIudikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2UgaW1wbGVtZW50cyBJTW91c2Uge1xuICAgIHB1YmxpYyBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICBwdWJsaWMgaXNEb3duOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIGlzRW50ZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nVHlwZSB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBjaGVjazogc3RyaW5nID0gJ2NoZWNrJztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmcgPSAnY29sb3InO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbnVtZXJpYzogc3RyaW5nID0gJ251bWVyaWMnO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgc2VsZWN0OiBzdHJpbmcgPSAnc2VsZWN0JztcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRhdGU6IHN0cmluZyA9ICdkYXRlJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT3B0aW9uIHtcbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIHRleHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2V0dGluZyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHZhbHVlPzogc3RyaW5nO1xuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAgIHNldHRpbmdUeXBlPzogc3RyaW5nO1xuICAgIHZpc2libGU/OiBib29sZWFuO1xuICAgIGdyb3VwPzogYm9vbGVhbjtcbiAgICBvcHRpb25zPzogSU9wdGlvbltdO1xuICAgIHNldHRpbmdzPzogSVNldHRpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFNldHRpbmdTZXQge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSAnJztcbiAgICBwdWJsaWMgdmFsdWU6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyBkaXNwYWx5TmFtZTogc3RyaW5nID0gJyc7XG4gICAgcHVibGljIHNldHRpbmdUeXBlOiBzdHJpbmcgPSAnJztcbiAgICBwdWJsaWMgdmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIGdyb3VwOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIG9wdGlvbnM6IElPcHRpb25bXSA9IFtdO1xuICAgIHB1YmxpYyBzZXR0aW5nczogSUhhc2hUYWJsZTxTZXR0aW5nU2V0PiA9IHt9O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmFtOiBJU2V0dGluZ3xzdHJpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IHBhcmFtO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2V0dGluZ1NldC5pbml0KHRoaXMsIHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5nKHBhdGg6IHN0cmluZywgc2V0dGluZzogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgbGV0IGRlc3QgPSB0aGlzLnNldHRpbmdzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICAgICAgaWYgKGkgPT09IDAgJiYgcGFydCA9PT0gdGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHJvb3QgbmFtZSBpZiBpdCBwb2ludHMgdG8gdGhpcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGVzdFtwYXJ0XSkge1xuICAgICAgICAgICAgICAgIGRlc3RbcGFydF0gPSBuZXcgU2V0dGluZ1NldChwYXJ0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgPT09IHBhcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBkZXN0W3BhcnRdID0gc2V0dGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVzdCA9IGRlc3RbcGFydF0uc2V0dGluZ3M7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVPckRlZmF1bHQ8VCBleHRlbmRzIGJvb2xlYW58bnVtYmVyfHN0cmluZ3xEYXRlPihwYXRoOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogVCk6IFQge1xuICAgICAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5nZXRTZXR0aW5nKHBhdGgpO1xuXG4gICAgICAgIGlmIChzZXR0aW5nICYmICFzZXR0aW5nLnNldHRpbmdUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNldHRpbmcgdHlwZSBpcyB1bnNwZWNpZmllZCBmb3Igc2V0dGluZyAke3NldHRpbmcubmFtZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXR0aW5nICYmIHNldHRpbmcuc2V0dGluZ1R5cGUgJiYgc2V0dGluZy52YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoIChzZXR0aW5nLnNldHRpbmdUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTZXR0aW5nVHlwZS5jaGVjazpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUPihzZXR0aW5nLnZhbHVlID09PSAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUuY29sb3I6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8VD5zZXR0aW5nLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNhc2UgU2V0dGluZ1R5cGUubnVtZXJpYzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUPnBhcnNlSW50KHNldHRpbmcudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLnNlbGVjdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUPnBhcnNlSW50KHNldHRpbmcudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNldHRpbmdUeXBlLmRhdGU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8VD5EYXRlVXRpbHMucGFyc2VJU09EYXRlKHNldHRpbmcudmFsdWUpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBzZXR0aW5nIHR5cGUgJHtzZXR0aW5nLnNldHRpbmdUeXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmcocGF0aDogc3RyaW5nKTogU2V0dGluZ1NldHx1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXR0aW5nSW1wbChwYXRoLCAnJywgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRTZXR0aW5nSW1wbChwYXRoOiBzdHJpbmcsIGNvdW50ZXI6IHN0cmluZywgc3M6IFNldHRpbmdTZXQpOiBTZXR0aW5nU2V0IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY291bnRlciA9IGNvdW50ZXIgPyBjb3VudGVyICsgJy4nICsgc3MubmFtZSA6IHNzLm5hbWU7XG5cbiAgICAgICAgaWYgKGNvdW50ZXIgPT09IHBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgcyBvZiBPYmplY3Qua2V5cyhzcy5zZXR0aW5ncykpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuZ2V0U2V0dGluZ0ltcGwocGF0aCwgY291bnRlciwgc3Muc2V0dGluZ3Nbc10pO1xuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBpbml0KG9iajogU2V0dGluZ1NldCwgdmFsdWVzOiBJU2V0dGluZyk6IHZvaWQge1xuICAgICAgICBvYmoubmFtZSA9IHZhbHVlcy5uYW1lO1xuICAgICAgICBvYmoudmFsdWUgPSB2YWx1ZXMudmFsdWUgfHwgJyc7XG4gICAgICAgIG9iai5zZXR0aW5nVHlwZSA9IHZhbHVlcy5zZXR0aW5nVHlwZSB8fCAnJztcbiAgICAgICAgb2JqLmRpc3BhbHlOYW1lID0gdmFsdWVzLmRpc3BsYXlOYW1lIHx8ICcnO1xuICAgICAgICBvYmoudmlzaWJsZSA9IHZhbHVlcy52aXNpYmxlICE9PSB1bmRlZmluZWQgPyB2YWx1ZXMudmlzaWJsZSA6IHRydWU7XG4gICAgICAgIG9iai5ncm91cCA9IHZhbHVlcy5ncm91cCB8fCBmYWxzZTtcbiAgICAgICAgb2JqLm9wdGlvbnMgPSB2YWx1ZXMub3B0aW9ucyB8fCBbXTtcblxuICAgICAgICBpZiAodmFsdWVzLnNldHRpbmdzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgdmFsdWVzLnNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkID0gbmV3IFNldHRpbmdTZXQocy5uYW1lKTtcbiAgICAgICAgICAgICAgICBTZXR0aW5nU2V0LmluaXQobmVzdGVkLCBzKTtcbiAgICAgICAgICAgICAgICBvYmouc2V0U2V0dGluZyhzLm5hbWUsIG5lc3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFN0b3JhZ2UgY2xhc3Nlcy5cbiAqL1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlVdGlscywgSnNvblV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgSVN0b3JhZ2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG4vKipcbiAqIExvYWRzIGFuZCBzYXZlcyBzdG9yYWdlIHRyZWUgZnJvbS90byBleHRlcm5hbCBzdG9yYWdlLlxuICovXG5leHBvcnQgY2xhc3MgU3RvcmFnZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX3Jvb3QgPSBuZXcgU3RvcmVDb250YWluZXIoKTtcbiAgICBwcml2YXRlIHN0b3JhZ2U/OiBJU3RvcmFnZTtcblxuICAgIGNvbnN0cnVjdG9yKHN0b3JhZ2U/OiBJU3RvcmFnZSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgICAgICB0aGlzLl9yb290LmNoYW5nZWQub24odGhpcy5vbkNoYW5nZWQpO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcm9vdCgpOiBTdG9yZUNvbnRhaW5lciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25DaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSgnX19jaGFydGJvYXJkX3N0b3JhZ2VfXycpO1xuICAgICAgICAgICAgaWYgKHNlcmlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB1bnN1YnNjcmliZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuY2hhbmdlZC5vZmYodGhpcy5vbkNoYW5nZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIG5ldyBjb250YWluZXJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290ID0gbmV3IFN0b3JlQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5kZXNlcmlhbGl6ZShzZXJpYWxpemVkKTtcblxuICAgICAgICAgICAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuY2hhbmdlZC5vbih0aGlzLm9uQ2hhbmdlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNhdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB0aGlzLl9yb290LnNlcmlhbGl6ZSgpO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oJ19fY2hhcnRib2FyZF9zdG9yYWdlX18nLCBzZXJpYWxpemVkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbm9kZSBmcm9tIHN0b3JhZ2UgdHJlZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JlQ29udGFpbmVyIHtcbiAgICBwcml2YXRlIG9iajogT2JqZWN0O1xuICAgIHByaXZhdGUgcm9vdD86IFN0b3JlQ29udGFpbmVyO1xuXG4gICAgcHJpdmF0ZSBfY2hhbmdlZEV2dCA9IG5ldyBFdmVudDx2b2lkPigpO1xuICAgIHB1YmxpYyBnZXQgY2hhbmdlZCgpOiBFdmVudDx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFuZ2VkRXZ0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IE9iamVjdCwgcm9vdD86IFN0b3JlQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMub2JqID0gb2JqIHx8IG5ldyBPYmplY3QoKTtcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHByb3BlcnR5J3MgdmFsdWVcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIENhbiBiZSBjb21wb3NpdGUgcGF0aCAoXCJvbmUudHdvLnRocmVlXCIpXG4gICAgICovXG4gICAgcHVibGljIGdldFByb3BlcnR5KHByb3BlcnR5TmFtZTogc3RyaW5nKTogYW55IHtcblxuICAgICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAvLyBCcmVhayBwYXRoIGludG8gb2JqZWN0IG5hbWVzXG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHByb3BlcnR5TmFtZS5zcGxpdCgnLicpO1xuXG4gICAgICAgICAgICBsZXQgc291cmNlID0gdGhpcy5vYmo7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IChwYXJ0cy5sZW5ndGggLSAxKTsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gKDxhbnk+c291cmNlKVtwYXJ0c1tpXV07XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoPGFueT5zb3VyY2UpW3BhcnRzW3BhcnRzLmxlbmd0aCAtIDFdXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRQcm9wZXJ0eShwcm9wZXJ0eU5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICAoPGFueT50aGlzLm9iailbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuc2V0Q2hhbmdlZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPYmplY3RQcm9wZXJ0eShwcm9wTmFtZTogc3RyaW5nKTogU3RvcmVDb250YWluZXIge1xuICAgICAgICBsZXQgbyA9ICg8YW55PnRoaXMub2JqKVtwcm9wTmFtZV07XG4gICAgICAgIGlmIChvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG8gPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgICAgICAoPGFueT50aGlzLm9iailbcHJvcE5hbWVdID0gbztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0b3JlQ29udGFpbmVyKG8sIHRoaXMucm9vdCB8fCB0aGlzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QXJyYXlQcm9wZXJ0eShwcm9wTmFtZTogc3RyaW5nKTogU3RvcmVBcnJheSB7XG4gICAgICAgIGxldCBvID0gKDxhbnk+dGhpcy5vYmopW3Byb3BOYW1lXTtcbiAgICAgICAgaWYgKG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgKDxhbnk+dGhpcy5vYmopW3Byb3BOYW1lXSA9IG87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdG9yZUFycmF5KG8sIHRoaXMucm9vdCB8fCB0aGlzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzZXJpYWxpemUoc291cmNlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc291cmNlT2JqID0gSlNPTi5wYXJzZShzb3VyY2UsIEpzb25VdGlscy5EQVRFUEFSU0VSKTsgLy8gUGFyc2luZyBkYXRlcyBhcyBEYXRlKClcblxuICAgICAgICAvLyBBdHRhY2ggZWFjaCBwcm9wZXJ0eVxuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMoc291cmNlT2JqKSkge1xuICAgICAgICAgICAgKDxhbnk+dGhpcy5vYmopW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNlcmlhbGl6ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5vYmopO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc2V0Q2hhbmdlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhcnJheSBvZiBub2RlcyBmcm9tIHN0b3JhZ2UgdHJlZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JlQXJyYXkge1xuICAgIHByaXZhdGUgYXJyYXk6IG9iamVjdFtdID0gW107XG4gICAgcHJpdmF0ZSBjb250YWluZXJzOiBTdG9yZUNvbnRhaW5lcltdID0gW107XG4gICAgcHJpdmF0ZSByb290OiBTdG9yZUNvbnRhaW5lcjtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcbiAgICBjb25zdHJ1Y3RvcihhOiBvYmplY3RbXSwgcm9vdDogU3RvcmVDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5hcnJheSA9IGE7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IGEubWFwKGVsID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RvcmVDb250YWluZXIoZWwsIHJvb3QpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkSXRlbSgpOiBTdG9yZUNvbnRhaW5lciB7XG4gICAgICAgIGNvbnN0IG8gPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgIHRoaXMuYXJyYXkucHVzaChvKTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgU3RvcmVDb250YWluZXIobywgdGhpcy5yb290KTtcbiAgICAgICAgdGhpcy5jb250YWluZXJzLnB1c2goY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnJvb3Quc2V0Q2hhbmdlZCgpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGluZGV4T2YocHJlZGljYXRlOiAoc2M6IFN0b3JlQ29udGFpbmVyKSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuY29udGFpbmVycy5zb21lKChzYzogU3RvcmVDb250YWluZXIsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShzYykpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZShwcmVkaWNhdGU6IChzYzogU3RvcmVDb250YWluZXIpID0+IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlSW5kZXhlczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgdGhpcy5jb250YWluZXJzID0gdGhpcy5jb250YWluZXJzLmZpbHRlcigoc2M6IFN0b3JlQ29udGFpbmVyLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHByZWRpY2F0ZShzYyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBvZiByZW1vdmVJbmRleGVzKSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5LnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucm9vdC5zZXRDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oaW5kZXg6IG51bWJlcikge1xuICAgICAgICB0aGlzLmFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAgIHRoaXMucm9vdC5zZXRDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGluZGV4OiBudW1iZXIsIHNoaWZ0OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgQXJyYXlVdGlscy5TSElGVCh0aGlzLmFycmF5LCBpbmRleCwgc2hpZnQpO1xuICAgICAgICAgICAgQXJyYXlVdGlscy5TSElGVCh0aGlzLmNvbnRhaW5lcnMsIGluZGV4LCBzaGlmdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXNBcnJheSgpOiBTdG9yZUNvbnRhaW5lcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVycztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnJheS5sZW5ndGg7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBWaXN1YWxDb21wb25lbnQgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVNpemUsIFBvaW50LCBTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IFVpZFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQ09iamVjdCB9IGZyb20gJy4vQ09iamVjdCc7XG5pbXBvcnQgeyBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi9WaXN1YWxDb250ZXh0JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpc3VhbENvbXBvbmVudCBleHRlbmRzIENPYmplY3Qge1xuICAgIHByb3RlY3RlZCBfb2Zmc2V0OiBQb2ludDtcbiAgICBwcm90ZWN0ZWQgX3NpemU6IFNpemU7XG4gICAgcHJvdGVjdGVkIF9jaGlsZHJlbjogVmlzdWFsQ29tcG9uZW50W10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX3Zpc2libGUgPSB0cnVlO1xuXG4gICAgcHVibGljIGdldCBvZmZzZXQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgb2Zmc2V0KHZhbHVlOiBQb2ludCkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNpemUoKTogSVNpemUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoaWxkcmVuKCk6IFZpc3VhbENvbXBvbmVudFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9mZnNldD86IElQb2ludCwgc2l6ZT86IElTaXplLCB1aWQ/OiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIodWlkIHx8IFVpZFV0aWxzLk5FV1VJRCgpLCBuYW1lKTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0ID8gbmV3IFBvaW50KG9mZnNldC54LCBvZmZzZXQueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplID8gbmV3IFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpIDogbmV3IFNpemUoMCwgMCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZENoaWxkKGNoaWxkOiBWaXN1YWxDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUNoaWxkKGNoaWxkOiBWaXN1YWxDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5maWx0ZXIodmFsdWUgPT4gdmFsdWUgIT09IGNoaWxkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlTW91c2UocmVsWDogbnVtYmVyLCByZWxZOiBudW1iZXIpIHtcbiAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvcjoganVzdCBwYXNzaW5nIG1lc3NhZ2UgdG8gY2hpbGRyZW5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGQuaGFuZGxlTW91c2UocmVsWCAtIGNoaWxkLm9mZnNldC54LCByZWxZIC0gY2hpbGQub2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcik6IHZvaWQge1xuICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiBqdXN0IHBhc3NpbmcgbWVzc2FnZSB0byBjaGlsZHJlblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3I6IHNldCBzaXplIGFuZCBwYXNzIG1lc3NhZ2UgdG8gY2hpbGRyZW5cbiAgICAgICAgdGhpcy5fc2l6ZSA9IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9O1xuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkLnJlc2l6ZSh3LCBoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBmb3JFYWNoKGRlbGVnYXRlOiB7KGNvbXBvbmVudDogVmlzdWFsQ29tcG9uZW50LCBhZ2dyZWdhdGVkT2Zmc2V0OiBJUG9pbnQpOiB2b2lkIH0sXG4gICAgICAgICAgICAgICAgICAgY2hpbGRyZW5GaXJzdDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgIGRpcmVjdE9yZGVyOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmZvckVhY2hBZ2dyZWdhdG9yKGRlbGVnYXRlLCBjaGlsZHJlbkZpcnN0LCBkaXJlY3RPcmRlciwgbmV3IFBvaW50KDAsIDApKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvckVhY2hBZ2dyZWdhdG9yKFxuICAgICAgICBkZWxlZ2F0ZTogeyhjb21wb25lbnQ6IFZpc3VhbENvbXBvbmVudCwgYWdncmVnYXRlZE9mZnNldDogSVBvaW50KTogdm9pZCB9LFxuICAgICAgICBjaGlsZHJlbkZpcnN0OiBib29sZWFuLFxuICAgICAgICBkaXJlY3RPcmRlcjogYm9vbGVhbixcbiAgICAgICAgaW5pdGlhbE9mZnNldDogUG9pbnQpOiBib29sZWFuIHtcblxuICAgICAgICAvLyAxLiBFeGVjdXRlIGZvciB0aGlzIGNvbXBvbmVudFxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBuZXcgUG9pbnQoaW5pdGlhbE9mZnNldC54ICsgdGhpcy5vZmZzZXQueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxPZmZzZXQueSArIHRoaXMub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmICghY2hpbGRyZW5GaXJzdCAmJiAhZGVsZWdhdGUodGhpcywgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzdG9wIGl0ZXJhdGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gSXRlcmF0aW5nIHRocm91Z2ggY2hpbGRyZW4gaW4gZGlyZWN0IG9yIHJldmVyc2Ugb3JkZXJcbiAgICAgICAgLy9cbiAgICAgICAgbGV0IGluZGV4ID0gZGlyZWN0T3JkZXIgPyAwIDogdGhpcy5fY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKChkaXJlY3RPcmRlciAmJiBpbmRleCA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgIHx8ICghZGlyZWN0T3JkZXIgJiYgaW5kZXggPj0gMCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRyZW5baW5kZXhdLmZvckVhY2hBZ2dyZWdhdG9yKGRlbGVnYXRlLCBjaGlsZHJlbkZpcnN0LCBkaXJlY3RPcmRlciwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3RvcCBpdGVyYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXggPSBkaXJlY3RPcmRlciA/IGluZGV4ICsgMSA6IGluZGV4IC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZHJlbkZpcnN0ICYmICFkZWxlZ2F0ZSh0aGlzLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHN0b3AgaXRlcmF0aW5nXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY29udGludWVcbiAgICB9XG59XG4iLCIvKipcbiAqIFZpc3VhbENvbnRleHQgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIFZpc3VhbENvbnRleHQge1xuICAgIHByaXZhdGUgX3JlbmRlckJhc2U6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfcmVuZGVyRnJvbnQ6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgZ2V0IHJlbmRlckJhc2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJCYXNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcmVuZGVyRnJvbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJGcm9udDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVuZGVyQmFzZTogYm9vbGVhbixcbiAgICAgICAgcmVuZGVyRnJvbnQ6IGJvb2xlYW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXNlID0gcmVuZGVyQmFzZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckZyb250ID0gcmVuZGVyRnJvbnQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQW1vdW50UmFuZ2UsIEFtb3VudFJhbmdlT3BzIH0gZnJvbSAnLi9BbW91bnRSYW5nZSc7XG5pbXBvcnQgeyBDaGFydFR5cGUgfSBmcm9tICcuL0NoYXJ0VHlwZSc7XG5pbXBvcnQgeyBDT2JqZWN0IH0gZnJvbSAnLi9DT2JqZWN0JztcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi9FbnVtcyc7XG5pbXBvcnQgeyBFdmVudEFyZ3VtZW50LCBFdmVudHMsIE1vdXNlRXZlbnRBcmd1bWVudCwgT2JqZWN0RXZlbnRBcmd1bWVudCB9IGZyb20gJy4vRXZlbnRzJztcbmltcG9ydCB7IEFjdGlvbixcbiAgICAgICAgIEdyaWQsXG4gICAgICAgICBJQXhpcyxcbiAgICAgICAgIElDaGFydFBvaW50LFxuICAgICAgICAgSUNvbW1hbmQsXG4gICAgICAgICBJQ29uZmlndXJhYmxlLFxuICAgICAgICAgSUNvb3Jkc0NvbnZlcnRlcixcbiAgICAgICAgIElEYXRhU2VydmljZSxcbiAgICAgICAgIElJbmRpY2F0b3JFeHRlbnNpb24sXG4gICAgICAgICBJTW91c2UsIElRdWlja3RpcCwgSVF1aWNrdGlwQnVpbGRlcixcbiAgICAgICAgIGlzQ29uZmlndXJhYmxlLFxuICAgICAgICAgSVNvdXJjZSxcbiAgICAgICAgIGlzU3RhdGVmdWwsXG4gICAgICAgICBJU3RhdGVmdWwsXG4gICAgICAgICBJU3RvcmFnZSxcbiAgICAgICAgIElUaW1lQXhpcyxcbiAgICAgICAgIElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgICBJVG91Y2gsXG4gICAgICAgICBJVmFsdWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgIFRpbWVCYXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgTW91c2UgfSBmcm9tICcuL01vZGVsJztcblxuaW1wb3J0IHsgSVNldHRpbmcsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlIH0gZnJvbSAnLi9TZXR0aW5nU2V0JztcbmltcG9ydCB7IFN0b3JhZ2VNYW5hZ2VyLCBTdG9yZUFycmF5LCBTdG9yZUNvbnRhaW5lciB9IGZyb20gJy4vU3RvcmFnZU1hbmFnZXInO1xuaW1wb3J0IHsgVmlzdWFsQ29tcG9uZW50IH0gZnJvbSAnLi9WaXN1YWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4vVmlzdWFsQ29udGV4dCc7XG5cbmV4cG9ydCB7XG4gICAgQWN0aW9uLFxuICAgIEFtb3VudFJhbmdlLFxuICAgIEFtb3VudFJhbmdlT3BzLFxuICAgIENoYXJ0UG9pbnQsXG4gICAgQ2hhcnRUeXBlLFxuICAgIENPYmplY3QsXG4gICAgQ29tbWFuZCxcbiAgICBDb25zdGFudHMsXG4gICAgRXZlbnRBcmd1bWVudCxcbiAgICBFdmVudHMsXG4gICAgR3JpZCxcbiAgICBJQXhpcyxcbiAgICBJQ2hhcnRQb2ludCxcbiAgICBJQ29tbWFuZCxcbiAgICBJQ29uZmlndXJhYmxlLFxuICAgIGlzQ29uZmlndXJhYmxlLFxuICAgIElDb29yZHNDb252ZXJ0ZXIsXG4gICAgSURhdGFTZXJ2aWNlLFxuICAgIElNb3VzZSxcbiAgICBJSW5kaWNhdG9yRXh0ZW5zaW9uLFxuICAgIGlzU3RhdGVmdWwsXG4gICAgSVN0YXRlZnVsLFxuICAgIElRdWlja3RpcCxcbiAgICBJUXVpY2t0aXBCdWlsZGVyLFxuICAgIElTZXR0aW5nLFxuICAgIElTb3VyY2UsXG4gICAgSVN0b3JhZ2UsXG4gICAgSVRpbWVBeGlzLFxuICAgIElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgSVRvdWNoLFxuICAgIElWYWx1ZUNvb3JkQ29udmVydGVyLFxuICAgIE1vdXNlLFxuICAgIE1vdXNlRXZlbnRBcmd1bWVudCxcbiAgICBPYmplY3RFdmVudEFyZ3VtZW50LFxuICAgIFNldHRpbmdTZXQsXG4gICAgU2V0dGluZ1R5cGUsXG4gICAgU3RvcmFnZU1hbmFnZXIsXG4gICAgU3RvcmVBcnJheSxcbiAgICBTdG9yZUNvbnRhaW5lcixcbiAgICBWaXN1YWxDb21wb25lbnQsXG4gICAgVmlzdWFsQ29udGV4dCxcbiAgICBUaW1lQmFyLFxuICAgIFRpbWVJbnRlcnZhbFxufVxuIiwi77u/LyoqXG4gKiBBcnJheURhdGFTb3VyY2UgY2xhc3MuXG4gKi9cbmltcG9ydCB7IFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIElUaW1lVmFsdWUsIElVaWRWYWx1ZSwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlEYXRhU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG5cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVN0b3JhZ2U6IEFycmF5RGF0YVN0b3JhZ2U8Q2FuZGxlc3RpY2s+O1xuICAgIC8vIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdE1pblZhbHVlID0gMDtcbiAgICAvLyBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNYXhWYWx1ZSA9IDEwMDtcblxuICAgIHByb3RlY3RlZCBjb21wYXJlciA9IChpdGVtMTogSVVpZFZhbHVlLCBpdGVtMjogSVVpZFZhbHVlKSA9PiB7IHJldHVybiBpdGVtMS51aWQuY29tcGFyZShpdGVtMi51aWQpOyB9O1xuLy8gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbXBhcmVyID0gKGl0ZW0xOiBJVWlkVmFsdWUsIGl0ZW0yOiBJVWlkVmFsdWUpID0+IHsgcmV0dXJuIGl0ZW0xLmRhdGUuZ2V0VGltZSgpIC0gaXRlbTIuZGF0ZS5nZXRUaW1lKCk7IH07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBDYW5kbGVzdGljayB9LFxuICAgICAgICBjb25maWc6IERhdGFTb3VyY2VDb25maWcsXG4gICAgICAgIGRhdGE6IENhbmRsZXN0aWNrW10sXG4gICAgICAgIGNvbXBhcmVyPzogKGl0ZW0xOiBJVWlkVmFsdWUsIGl0ZW0yOiBJVWlkVmFsdWUpID0+IG51bWJlclxuICAgICAgICApIHtcbiAgICAgICAgICAgIHN1cGVyKGRhdGFUeXBlLCBjb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoY29tcGFyZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBhcmVyID0gY29tcGFyZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXREYXRhID0gZGF0YS5zbGljZSgpO1xuICAgICAgICAgICAgaW5pdERhdGEuc29ydCh0aGlzLmNvbXBhcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZSA9IG5ldyBBcnJheURhdGFTdG9yYWdlPENhbmRsZXN0aWNrPih0aGlzLmNvbXBhcmVyLCBpbml0RGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQodWlkOiBVaWQsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVyYXRvcihmaWx0ZXI/OiAoaXRlbTogQ2FuZGxlc3RpY2spID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIC8vIHJldHVybiBldmVyeXRoaW5nXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKGZpbHRlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7IH1cbn1cbiIsIi8qKlxuICogQXJyYXlEYXRhU3RvcmFnZSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQXJyYXlVdGlscywgSUNvbXBhcmVyIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlJdGVyYXRvciB9IGZyb20gJy4vQXJyYXlJdGVyYXRvcic7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNuYXBzaG90LCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG4vKipcbiAqIFN0b3JlcyBpdGVtcyBpbiBzb3J0ZWQgYXJyYXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcnJheURhdGFTdG9yYWdlPFQ+IGltcGxlbWVudHMgSURhdGFTdG9yYWdlPFQ+IHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGF0YVNuYXBzaG90OiBJRGF0YVNuYXBzaG90PFQ+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY29tcGFyZXI6IElDb21wYXJlcjxUPjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbXBhcmVyOiBJQ29tcGFyZXI8VD4sIGluaXRBcnJheT86IFRbXSkge1xuICAgICAgICBpZiAoIWNvbXBhcmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFxcJ2NvbXBhcmVyXFwnIGlzIG51bGwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wYXJlciA9IGNvbXBhcmVyO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdCA9IHtcbiAgICAgICAgICAgIGRhdGE6IGluaXRBcnJheSA/IGluaXRBcnJheS5zbGljZSgpIDogW10sXG4gICAgICAgICAgICB0aW1lc3RhbXA6IDBcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc29ydCBpbml0aWFsIGFycmF5XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuc29ydCh0aGlzLmNvbXBhcmVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaXJzdCgpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVNuYXBzaG90LmRhdGE7XG4gICAgICAgIHJldHVybiAoZGF0YS5sZW5ndGggPiAwKSA/IGRhdGFbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsYXN0KCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHJldHVybiAobGVuZ3RoID4gMCkgPyBkYXRhW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWVyZ2UodXBkYXRlOiBUW10sIHVwZGF0ZUZ1bmN0aW9uPzogKHRhcmdldDogVCwgdXBkYXRlOiBUKSA9PiBUKTogdm9pZCB7XG4gICAgICAgIGlmICh1cGRhdGUgJiYgdXBkYXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gU29ydCBpbmNvbWluZyBhcnJheVxuICAgICAgICAgICAgdXBkYXRlLnNvcnQodGhpcy5jb21wYXJlcik7XG4gICAgICAgICAgICAvLyBVcGRhdGUgY3VycmVudCB0aW1lc3RhbXBcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgICAgICAvLyBJbXBvcnQgaW5jb21pbmcgZGF0YSB0byB0aGUgYXJyYXlcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBBcnJheVV0aWxzLk1FUkdFKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEsIHVwZGF0ZSwgdGhpcy5jb21wYXJlciwgdXBkYXRlRnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIGNvbmRpdGlvbiBhbmQgcmVtb3ZlcyBhbGwgZm9sbHdpbmcgaXRlbXMgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHByZWRpY2F0ZVxuICAgICAqL1xuICAgIHB1YmxpYyByZW1vdmVBZnRlckluY2x1c2l2ZShwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGl0ZW1JbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLnNvbWUoKGU6IFQsIGk6IG51bWJlciwgYXJyYXkpID0+IHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoZSkpIHtcbiAgICAgICAgICAgICAgICBpdGVtSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXRlbUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnQgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIGN1cnJlbnQgdGltZXN0YW1wXG4gICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCA9IHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCArIDE7XG4gICAgICAgIC8vIEltcG9ydCBpbmNvbWluZyBkYXRhIHRvIHRoZSBhcnJheVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCA9IGl0ZW1JbmRleDtcbiAgICAgICAgLy90aGlzLmRhdGFTbmFwc2hvdC5kYXRhID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5zbGljZSgwLCBpdGVtSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGl0ZW1zIGZyb20gdGhlIHN0YXJ0LlxuICAgICAqIEl0ZXJhdGVzdCB0aHJvdWdoIGl0ZW1zIGZyb20gYmVnaW5uaW5nLCBmaW5kcyBmaXJzdCBpdGVtIHRoYXQgaXMgbm90IGZpdCB0byBjb25kaXRpb24gYW5kIHJlbW92ZXMgYWxsIHByZWNlZGluZy5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlIFxuICAgICAqL1xuICAgIHB1YmxpYyB0cmltTGVmdChwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLnNvbWUoKGU6IFQsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGUoZSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGVsZW1lbnRzIGluIGFycmF5IG9yIGFsbCBlbGVtZW50cyBmaXQgdGhlIGNvbmRpdGlvbi5cbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuc3BsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgKyAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaXRlbXMgZnJvbSB0aGUgZW5kLlxuICAgICAqIEl0ZXJhdGVzdCB0aHJvdWdoIGl0ZW1zIGZyb20gZW5kLCBmaW5kcyBmaXJzdCBpdGVtIHRoYXQgaXMgbm90IGZpdCB0byBjb25kaXRpb24gYW5kIHJlbW92ZXMgYWxsIGZvbGxvd2luZy5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlIFxuICAgICAqL1xuICAgIHB1YmxpYyB0cmltUmlnaHQocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBjb25zdCBsID0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGljYXRlKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbaV0pKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gSWYgbm8gZWxlbWVudHMgaW4gYXJyYXkgb3IgYWxsIGVsZW1lbnRzIGZpdCB0aGUgY29uZGl0aW9uLlxuICAgICAgICAgICAgdGhpcy5kYXRhU25hcHNob3QuZGF0YSA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKChpbmRleCArIDEpIDwgbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5zcGxpY2UoaW5kZXggKyAxKTsgLy8gcmVtb3ZlIGFsbCBpdGVtcyBhZnRlciBzcGVjaWZpZWQgaW5kZXggKGluY2x1c2l2ZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAgKyAxO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBmaWx0ZXIoZmlsdGVyPzogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPFQ+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yPFQ+KHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIGZpbHRlcik7XG4gICAgLy8gfVxuXG4gICAgcHVibGljIGdldEl0ZXJhdG9yKGZpbHRlcj86IChpdGVtOiBUKSA9PiBib29sZWFuKTogSURhdGFJdGVyYXRvcjxUPiB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIGZpbHRlcik7XG5cbiAgICAgICAgLy8gLy8gRmluZCB0aGUgZWxlbWVudFxuICAgICAgICAvLyBjb25zdCBpdGVtSW5kZXggPSB0aGlzLmZpbmRJbmRleChwcmVkaWNhdGUpO1xuXG4gICAgICAgIC8vIGlmIChpdGVtSW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBpbWluID0gTWF0aC5taW4oaXRlbUluZGV4LCBpdGVtSW5kZXggKyBjb3VudCk7XG4gICAgICAgIC8vICAgICBjb25zdCBpbWF4ID0gTWF0aC5tYXgoaXRlbUluZGV4LCBpdGVtSW5kZXggKyBjb3VudCk7XG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IodGhpcy5kYXRhU25hcHNob3QsIHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZTogVCwgaTogbnVtYmVyKSA9PiB7IHJldHVybiAoaSA+PSBpbWluICYmIGkgPD0gaW1heCk7IH0pO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKFxuICAgICAgICAvLyAgICAgICAgIHRoaXMuZGF0YVNuYXBzaG90LCB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXAsIChlOiBULCBpOiBudW1iZXIpID0+IGZhbHNlKTsgLy8gRG8gbm90IHJldHVybiBhbnl0aGluZyAgICAgICAgICAgICAgIFxuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgLy8gcHVibGljIGNvbnRhaW5zKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAvLyAgICAgLy8gRmluZCB0aGUgZWxlbWVudFxuICAgIC8vICAgICBjb25zdCBpdGVtSW5kZXggPSB0aGlzLmZpbmRJbmRleChwcmVkaWNhdGUpO1xuXG4gICAgLy8gICAgIHJldHVybiAoaXRlbUluZGV4ICE9PSAtMSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHVibGljIGNvbnRhaW5zQ291bnQocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbiwgY291bnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vICAgICAvLyBGaW5kIHRoZSBlbGVtZW50XG4gICAgLy8gICAgIGNvbnN0IGl0ZW1JbmRleCA9IHRoaXMuZmluZEluZGV4KHByZWRpY2F0ZSk7XG5cbiAgICAvLyAgICAgcmV0dXJuIChpdGVtSW5kZXggKyBjb3VudCkgPj0gMCAmJiAoaXRlbUluZGV4ICsgY291bnQpIDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGg7XG4gICAgLy8gfVxuXG4gICAgLy8gcHVibGljIGZpbmRMYXN0KHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAvLyAgICAgbGV0IGxhc3Q6IFQgfCB1bmRlZmluZWQ7XG4gICAgLy8gICAgIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEuZm9yRWFjaCgoZTogVCwgaTogbnVtYmVyKSA9PiB7XG4gICAgLy8gICAgICAgICBpZiAocHJlZGljYXRlKGUpKSB7XG4gICAgLy8gICAgICAgICAgICAgbGFzdCA9IGU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gbGFzdDtcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIGZpbmRJbmRleChwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAvLyAgICAgbGV0IGl0ZW1JbmRleCA9IC0xO1xuICAgIC8vICAgICB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmZvckVhY2goKGU6IFQsIGk6IG51bWJlcikgPT4ge1xuICAgIC8vICAgICAgICAgaWYgKHByZWRpY2F0ZShlKSkge1xuICAgIC8vICAgICAgICAgICAgIGl0ZW1JbmRleCA9IGk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gaXRlbUluZGV4O1xuICAgIC8vIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IElEYXRhSXRlcmF0b3IsIElEYXRhU25hcHNob3QgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQXJyYXlJdGVyYXRvcjxUPiBpbXBsZW1lbnRzIElEYXRhSXRlcmF0b3I8VD4ge1xuXG4gICAgcHJpdmF0ZSBjdXJyZW50SW5kZXggPSAwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZmlsdGVyPzogKGl0ZW06IFQpID0+IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBkYXRhU25hcHNob3Q6IElEYXRhU25hcHNob3Q8VD4sXG4gICAgICAgIHByaXZhdGUgdGltZXN0YW1wOiBudW1iZXIsXG4gICAgICAgIGZpbHRlcj86IChpdGVtOiBUKSA9PiBib29sZWFuXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aGlzLmRhdGFTbmFwc2hvdC50aW1lc3RhbXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiBkYXRhLlxuICAgICAqIElmIGl0ZW0gaXMgZm91bmQgcmV0dXJucyB0cnVlLCBpZiBub3QgLSBmYWxzZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ29UbyhwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKHRoaXMuY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgaXRlcmF0b3Igd2hpbGUgY29uZGl0aW9uIGlzIG1ldC4gU3RheXMgb24gdGhlIGxhc3QgZWxlbWVudCB0aGF0IHNhdGlzZmllcyBjb25kaXRpb24uXG4gICAgICogU3RhcnRzIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBAcGFyYW0gcHJlZGljYXRlIFxuICAgICAqL1xuICAgIHB1YmxpYyBnb1doaWxlKHByZWRpY2F0ZTogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGxldCBuZXh0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAobmV4dEluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGhcbiAgICAgICAgICAgICAgICYmIHByZWRpY2F0ZSh0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW25leHRJbmRleF0pKSB7XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgICAgICAgbmV4dEluZGV4ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRoaXMuY3VycmVudEluZGV4ID49IDAgJiYgdGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgcG9pbnRlciBmcm9tIGN1cnJlbnQgcG9zaXRpb24gdW50aWxsIGNvbmRpdGlvbiBpcyBtZXQuXG4gICAgICogUmV0dXJucyBjb3VudCBvZiBtb3ZlcyBkb25lLiBPciAtMSBpZiBjb3VsZCBub3QgZmluZCBlbGVtZW50LlxuICAgICAqL1xuICAgIHB1YmxpYyBtb3ZlVG8ocHJlZGljYXRlOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgIGxldCBjb3VudE1vdmVzID0gMDtcblxuICAgICAgICAvLyBGaXJzdCBjaGVjayBjdXJyZW50IGVsZW1lbnQ6XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUodGhpcy5jdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudE1vdmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRNb3ZlcyArPSAxO1xuICAgICAgICB9IHdoaWxlICh0aGlzLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgZmluZChwcmVkaWNhdGU6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgLy8gICAgIC8vIFNob3VsZCBub3QgY2hhbmdlIHN0YXRlXG5cbiAgICAvLyAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgLy8gICAgIHdoaWxlIChpbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gICAgICAgICBpbmRleCA9IHRoaXMuc2tpcEZpbHRlcmVkRm9yd2FyZChpbmRleCk7XG4gICAgLy8gICAgICAgICBpZiAoaW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCAmJiBwcmVkaWNhdGUodGhpcy5kYXRhU25hcHNob3QuZGF0YVtpbmRleF0pKSB7XG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbaW5kZXhdO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gcHVibGljIGNvdW50KCk6IG51bWJlciB7XG4gICAgLy8gICAgIC8vIFNob3VsZCBub3QgY2hhbmdlIHN0YXRlXG4gICAgLy8gICAgIGxldCBjb3VudCA9IDA7XG4gICAgLy8gICAgIGxldCBpbmRleCA9IC0xO1xuICAgIC8vICAgICB3aGlsZSAoaW5kZXggPCB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCkge1xuICAgIC8vICAgICAgICAgaW5kZXggPSB0aGlzLnNraXBGaWx0ZXJlZEZvcndhcmQoaW5kZXgpO1xuICAgIC8vICAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiBjb3VudDtcbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIHNraXBGaWx0ZXJlZEZvcndhcmQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoICYmICF0aGlzLmZpbHRlcih0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW2luZGV4XSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNraXBGaWx0ZXJlZEJhY2t3YXJkKGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpbmRleCAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGluZGV4ID49IDAgJiYgIXRoaXMuZmlsdGVyKHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbaW5kZXhdKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleCAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHBvaW50ZXIgZm9yd2FyZCBuIHRpbWVzLlxuICAgICAqIFJldHVybnMgYWN0dWFsIGNvdW50IG9mIG1vdmVzIGRvbmUuXG4gICAgICovXG4gICAgcHVibGljIG1vdmVOZXh0VGltZXMobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG4gJiYgdGhpcy5tb3ZlTmV4dCgpKSB7IGkgKz0gMTsgfVxuICAgICAgICByZXR1cm4gaTsgLy8oaSA9PT0gbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgcG9pbnRlciBmb3J3YXJkL2JhY2t3YXJkIG4gdGltZXMuXG4gICAgICogUmV0dXJucyBhY3R1YWwgY291bnQgb2YgbW92ZXMgZG9uZSAocG9zaXRpdmUgb3IgbmVnYXRpdmUpLlxuICAgICAqIEN1cnJlbnQgY2FuIG5vdCBiZWNvbWUgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBtb3ZlVGltZXMobjogbnVtYmVyKTogbnVtYmVyIHtcblxuICAgICAgICB0aGlzLmNoZWNrVGltZXN0YW1wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID09PSAwIHx8IG4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9XG5cbiAgICAgICAgbGV0IHNoaWZ0O1xuICAgICAgICBpZiAobiA8IDApIHtcbiAgICAgICAgICAgIHNoaWZ0ID0gTWF0aC5tYXgoLXRoaXMuY3VycmVudEluZGV4LCBuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoaWZ0ID0gTWF0aC5taW4oIHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoIC0gKCB0aGlzLmN1cnJlbnRJbmRleCArIDEpLCBuICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCArPSBzaGlmdDtcbiAgICAgICAgcmV0dXJuIHNoaWZ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHBvaW50ZXIgb24gMSBpdGVtIGZvcndhcmQuXG4gICAgICogUmV0dXJucyBmYWxzZSBpZiBjYW4gbm90IG1vdmUuXG4gICAgICovXG4gICAgcHVibGljIG1vdmVOZXh0KCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLmNoZWNrVGltZXN0YW1wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDdXJyZW50IGluZGV4IG11c3Qgbm90IGdldCBncmVhdGVyIHRoZW4gbGVuZ3RoXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuY3VycmVudEluZGV4IDwgdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGhcbiAgICAgICAgICAgICYmIHRoaXMuZmlsdGVyICYmICF0aGlzLmZpbHRlcih0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW3RoaXMuY3VycmVudEluZGV4XSkpOyAvLyBJZiBmaWx0ZXIgaXMgZGVmaW5lZCB1c2UgaXQuXG5cbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBwb2ludGVyIG9uIDEgaXRlbSBiYWNrd2FyZHMuXG4gICAgICogUmV0dXJucyBmYWxzZSBpZiBjYW4gbm90IG1vdmUuXG4gICAgICovXG4gICAgcHVibGljIG1vdmVQcmV2KCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLmNoZWNrVGltZXN0YW1wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDdXJyZW50IGluZGV4IG11c3Qgbm90IGdldCBsZXNzIHRoZW4gLTFcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNpbmcgZmlsdGVyIHRvIHNraXAgc29tZSBlbGVtZW50c1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRJbmRleCA+PSAwXG4gICAgICAgICAgICAmJiB0aGlzLmZpbHRlciAmJiAhdGhpcy5maWx0ZXIodGhpcy5kYXRhU25hcHNob3QuZGF0YVt0aGlzLmN1cnJlbnRJbmRleF0pKTsgLy8gSWYgZmlsdGVyIGlzIGRlZmluZWQgdXNlIGl0LlxuXG4gICAgICAgIHJldHVybiAodGhpcy5jdXJyZW50SW5kZXggPj0gMCAmJiB0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBiYWNrd2FyZHMgc3RhcnRpbmcgZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBJdGVyYXRzIHRpbGwgQGZ1bmMgcmV0dXJucyBcInRydWVcIiBhbmQgYmVnZ2lubmluZyBvZiBzdG9yYWdlIGlzIG5vdCByZWFjaGVkLlxuICAgICAqIENvdW50ZXI6IFtcbiAgICAgKiAgIDAgLSBjdXJyZW50IGVsZW1lbnQsXG4gICAgICogICAxIC0gcHJldmlvdXMgZWxlbWVudCxcbiAgICAgKiAgIC4uLlxuICAgICAqIF1cbiAgICAgKiBAcGFyYW0gZnVuYyBcbiAgICAgKi9cbiAgICBwdWJsaWMgc29tZWJhY2t3YXJkKGZ1bmM6IChpdGVtOiBULCBjb3VudGVyOiBudW1iZXIpID0+IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jaGVja1RpbWVzdGFtcCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8IDAgfHwgdGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCFmdW5jKHRoaXMuY3VycmVudCwgY291bnRlcikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5tb3ZlUHJldigpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGN1cnJlbnQoKTogVCB7XG4gICAgICAgIHRoaXMuY2hlY2tUaW1lc3RhbXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNuYXBzaG90LmRhdGFbdGhpcy5jdXJyZW50SW5kZXhdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnb1RvTGFzdCgpOiBib29sZWFuIHtcblxuICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVNuYXBzaG90LmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsYXN0KCk6IFR8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyKSB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9XG5cbiAgICAgICAgdGhpcy5jaGVja1RpbWVzdGFtcCgpO1xuICAgICAgICBpZiAodGhpcy5kYXRhU25hcHNob3QuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhU25hcHNob3QuZGF0YVt0aGlzLmRhdGFTbmFwc2hvdC5kYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwcmV2aW91cygpOiBUfHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlcikgeyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfVxuXG4gICAgICAgIHRoaXMuY2hlY2tUaW1lc3RhbXAoKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID49IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTbmFwc2hvdC5kYXRhW3RoaXMuY3VycmVudEluZGV4IC0gMV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrVGltZXN0YW1wKCkgOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVNuYXBzaG90LnRpbWVzdGFtcCAhPT0gdGhpcy50aW1lc3RhbXApIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENoZWNrIGJlaGF2aW9yXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGEgaXRlcmF0b3IgaXMgZXhwaXJlZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQ29tcHV0ZWREYXRhU291cmNlIGNsYXNzLlxuICovXG5pbXBvcnQgeyBBdmdUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IEFtb3VudFJhbmdlLCBBbW91bnRSYW5nZU9wcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlIH0gZnJvbSAnLi9BcnJheURhdGFTdG9yYWdlJztcbmltcG9ydCB7IEFycmF5SXRlcmF0b3IgfSBmcm9tICcuL0FycmF5SXRlcmF0b3InO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XG5pbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnLi9EYXRhU291cmNlJztcbmltcG9ydCB7IERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0RhdGFTb3VyY2VDb25maWcnO1xuaW1wb3J0IHsgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5jbGFzcyBUYXNrUGFyYW1zIHtcbiAgICBwdWJsaWMgY3VpZDogVWlkO1xuICAgIHB1YmxpYyBjdWlkTGFzdD86IFVpZDtcbiAgICBwdWJsaWMgY291bnQ/OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoY3VpZDogVWlkLCBjdWlkTGFzdD86IFVpZCwgY291bnQ/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdWlkID0gY3VpZDtcbiAgICAgICAgdGhpcy5jdWlkTGFzdCA9IGN1aWRMYXN0O1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgfVxufVxuXG5jbGFzcyBSZXF1ZXN0IHtcbiAgICBwdWJsaWMgc3VpZDogVWlkO1xuICAgIHB1YmxpYyB1aWRsYXN0PzogVWlkO1xuICAgIHB1YmxpYyBjb3VudD86IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHVpZDogVWlkLCB1aWRsYXN0PzogVWlkLCBjb3VudD86IG51bWJlcikge1xuICAgICAgICB0aGlzLnN1aWQgPSB1aWQ7XG4gICAgICAgIHRoaXMudWlkbGFzdCA9IHVpZGxhc3Q7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNFcXVhbChvdGhlcjogUmVxdWVzdCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyByZXR1cm4gKG90aGVyXG4gICAgICAgIC8vICYmIHRoaXMuc3VpZC5jb21wYXJlKG90aGVyLnN1aWQpID09PSAwXG4gICAgICAgIC8vICYmIHRoaXMuY291bnQgPT09IG90aGVyLmNvdW50KTtcblxuICAgICAgICByZXR1cm4gKG90aGVyICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICYmIHRoaXMuc3VpZC5jb21wYXJlKG90aGVyLnN1aWQpID09PSAwXG4gICAgICAgICAgICAmJiAodGhpcy51aWRsYXN0ID09PSBvdGhlci51aWRsYXN0XG4gICAgICAgICAgICAgICAgfHwgKHRoaXMudWlkbGFzdCAhPT0gdW5kZWZpbmVkICYmIG90aGVyLnVpZGxhc3QgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnVpZGxhc3QuY29tcGFyZShvdGhlci51aWRsYXN0KSA9PT0gMCkpXG4gICAgICAgICAgICAmJiAodGhpcy5jb3VudCA9PT0gb3RoZXIuY291bnQpKTtcbiAgICB9XG59XG5cbmludGVyZmFjZSBJRGF0YUNoYW5nZWRUcmlnZ2VyIHtcbiAgICAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIElTZW5kUmVxdWVzdCB7XG4gICAgKHVpZDogVWlkLCB1aWRMYXN0PzogVWlkLCBjb3VudD86IG51bWJlcik6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBJQ29tcHV0ZURlbGVnYXRlIHtcbiAgICAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZDtcbn1cblxuY2xhc3MgQ29tcHV0ZVRhc2sge1xuICAgIHB1YmxpYyBuZXh0PzogQ29tcHV0ZVRhc2s7XG5cbiAgICBwcml2YXRlIHN0b3JhZ2U6IEFycmF5RGF0YVN0b3JhZ2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByaXZhdGUgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+O1xuICAgIHByaXZhdGUgdHJpZ2dlckRhdGFDaGFuZ2VkOiBJRGF0YUNoYW5nZWRUcmlnZ2VyO1xuICAgIHByaXZhdGUgc2VuZHJlcXVlc3Q6IElTZW5kUmVxdWVzdDtcbiAgICBwcml2YXRlIGNvbXB1dGU6IElDb21wdXRlRGVsZWdhdGU7XG4gICAgcHJpdmF0ZSBzdGFydFRpbWU6IERhdGU7XG4gICAgcHJpdmF0ZSBwYXJhbXM6IFRhc2tQYXJhbXM7XG4gICAgcHJpdmF0ZSByZXF1ZXN0czogUmVxdWVzdFtdID0gW107XG4gICAgcHJpdmF0ZSBpc0ZpbmlzaGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgZ2V0IGlzT3V0ZGF0ZWQoKSB7XG4gICAgICAgIHJldHVybiAoKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAtIHRoaXMuc3RhcnRUaW1lLmdldFRpbWUoKSkgPiAoNjAgKiAxMDAwKTsgLy8gMSBtaW5cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgc3RvcmFnZTogQXJyYXlEYXRhU3RvcmFnZTxDYW5kbGVzdGljaz4sXG4gICAgICAgIHBhcmFtczogVGFza1BhcmFtcyxcbiAgICAgICAgZGF0YWNoYW5nZWQ6IElEYXRhQ2hhbmdlZFRyaWdnZXIsXG4gICAgICAgIHNlbmRyZXF1ZXN0OiBJU2VuZFJlcXVlc3QsXG4gICAgICAgIGNvbXB1dGU6IElDb21wdXRlRGVsZWdhdGUsXG4gICAgICAgIG5leHQ/OiBDb21wdXRlVGFzaykge1xuXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBzdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlckRhdGFDaGFuZ2VkID0gZGF0YWNoYW5nZWQ7XG4gICAgICAgIHRoaXMuc2VuZHJlcXVlc3QgPSBzZW5kcmVxdWVzdDtcbiAgICAgICAgdGhpcy5jb21wdXRlID0gY29tcHV0ZTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcblxuICAgICAgICBjb25zb2xlLmxvZyhgbmV3IENvbXB1dGVUYXNrKCAke3BhcmFtcy5jdWlkLnQudG9JU09TdHJpbmcoKX0gJHtwYXJhbXMuY3VpZExhc3QgPyBwYXJhbXMuY3VpZExhc3QudC50b0lTT1N0cmluZygpIDogXCJcIiB9ICR7cGFyYW1zLmNvdW50fSApYCk7XG5cbiAgICAgICAgaWYgKCFwYXJhbXMuY291bnQgJiYgIXBhcmFtcy5jdWlkTGFzdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudHMgXCJjb3VudFwiIGFuZCBcImN1aWRMYXN0XCIgbm90IGRlZmluZWQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoKTogdm9pZCB7XG4gICAgICAgIC8vIGNsZWFyIHRpbWVyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0gVGFzay5zdGFydCAtLS0tLScpO1xuICAgICAgICAvLyBOYXJyb3cgbG9hZCByYW5nZVxuICAgICAgICBpZiAodGhpcy5wYXJhbXMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnN0b3JhZ2UuZmlyc3QgJiYgdGhpcy5zdG9yYWdlLmxhc3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5jdWlkLmNvbXBhcmUodGhpcy5zdG9yYWdlLmZpcnN0LnVpZCkgPj0gMCAmJiB0aGlzLnBhcmFtcy5jdWlkLmNvbXBhcmUodGhpcy5zdG9yYWdlLmxhc3QudWlkKSA8PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgc2hpZnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmFnZS5sYXN0LnVpZC5jb21wYXJlKHRoaXMucGFyYW1zLmN1aWQpIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSB0aGlzLnN0b3JhZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0b3IuZ29UbyhpdGVtID0+IHRydWUpOyAvLyBnbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gdGhpcy5pdGVyYXRvci5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKHRoaXMucGFyYW1zLmN1aWQpID49IDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpZnQgPT09IC0xKSB7IHNoaWZ0ID0gMDsgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY3VpZCA9IHRoaXMuc3RvcmFnZS5sYXN0LnVpZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGRpc3RhbmNlIGIvdyBVSUQtTEFTVFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5jb3VudCAtPSAodGhpcy5zdG9yYWdlLmxlbmd0aCAtIHNoaWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5hcnJvd2luZyByYW5nZTogJHt0aGlzLnN0b3JhZ2UubGFzdC51aWQudC50b0lTT1N0cmluZygpfSAke3RoaXMucGFyYW1zLmNvdW50fWApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCA8PSAwKSB7IC8vIGNoYW5nZSBvZiBzaWduIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmN1aWQgPSB0aGlzLnN0b3JhZ2UuZmlyc3QudWlkO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZGlzdGFuY2UgYi93IEZJUlNULVVJRFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5jb3VudCArPSBzaGlmdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5hcnJvd2luZyByYW5nZTogJHt0aGlzLnN0b3JhZ2UuZmlyc3QudWlkLnQudG9JU09TdHJpbmcoKX0gJHt0aGlzLnBhcmFtcy5jb3VudH1gKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuY291bnQgPj0gMCkgeyAvLyBjaGFuZ2Ugb2Ygc2lnbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNGaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdSZXFzID0gdGhpcy5tYWtlUmVxdWVzdHMoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5ld1JlcSBvZiBuZXdSZXFzKSB7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgcmVxdWVzdHMgYXJlIG5vdCByZXBlYXRlZFxuICAgICAgICAgICAgY29uc3Qgc29tZSA9IHRoaXMucmVxdWVzdHMuc29tZShyZXEgPT4gcmVxLmlzRXF1YWwobmV3UmVxKSk7XG5cbiAgICAgICAgICAgIGlmICghc29tZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdHMucHVzaChuZXdSZXEpO1xuICAgICAgICAgICAgICAgIC8vIFNlbmQgcmVxdWVzdFxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZHJlcXVlc3QobmV3UmVxLnN1aWQsIG5ld1JlcS51aWRsYXN0LCBuZXdSZXEuY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYWtlUmVxdWVzdHMoKTogUmVxdWVzdFtdIHtcbiAgICAgICAgY29uc3QgUkVRX0NPVU5UID0gNTAwO1xuXG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2UuZmlyc3QgJiYgdGhpcy5zdG9yYWdlLmxhc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IE0gPSBuZXcgQW1vdW50UmFuZ2UodGhpcy5wYXJhbXMuY3VpZCwgdGhpcy5wYXJhbXMuY3VpZExhc3QsIHRoaXMucGFyYW1zLmNvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IFMgPSBuZXcgQW1vdW50UmFuZ2UodGhpcy5zdG9yYWdlLmZpcnN0LnVpZCwgdGhpcy5zdG9yYWdlLmxhc3QudWlkLCB0aGlzLnN0b3JhZ2UubGVuZ3RoKTtcblxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IEFtb3VudFJhbmdlT3BzLmRpZmZlcmVuY2UoTSwgUyk7XG4gICAgICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaWZmLm1hcChkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSBkLmNvdW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5jb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IGQuY291bnQgPiAwID8gUkVRX0NPVU5UIDogLVJFUV9DT1VOVDsgLy8gZXh0ZW5kaW5nIHRvIFJFUV9DT1VOVFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KGQudWlkU3RhcnQsIGQudWlkRW5kLCBjb3VudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IFJlcXVlc3QodGhpcy5wYXJhbXMuY3VpZCwgdW5kZWZpbmVkLCBSRVFfQ09VTlQpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLy8gTWFrZSByZXF1ZXN0XG4gICAgICAgIC8vIGxldCBjdWlkUmVxdWVzdDogVWlkO1xuICAgICAgICAvLyBsZXQgY291bnRSZXF1ZXN0OiBudW1iZXI7XG5cbiAgICAgICAgLy8gaWYgKHRoaXMucGFyYW1zLmNvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnBhcmFtcy5jb3VudCA+IDApIHtcbiAgICAgICAgLy8gICAgICAgICBjdWlkUmVxdWVzdCA9ICh0aGlzLnN0b3JhZ2UubGFzdCAhPT0gdW5kZWZpbmVkKSA/IHRoaXMuc3RvcmFnZS5sYXN0LnVpZCA6IHRoaXMucGFyYW1zLmN1aWQ7XG4gICAgICAgIC8vICAgICAgICAgY291bnRSZXF1ZXN0ID0gUkVRX0NPVU5UO1xuICAgICAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtcy5jb3VudCA8IDApIHtcbiAgICAgICAgLy8gICAgICAgICBjdWlkUmVxdWVzdCA9ICh0aGlzLnN0b3JhZ2UuZmlyc3QgIT09IHVuZGVmaW5lZCkgPyB0aGlzLnN0b3JhZ2UuZmlyc3QudWlkIDogdGhpcy5wYXJhbXMuY3VpZDtcbiAgICAgICAgLy8gICAgICAgICBjb3VudFJlcXVlc3QgPSAtUkVRX0NPVU5UO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLnBhcmFtcy5jdWlkTGFzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vICAgICAvLyBnZXQgbGFzdCB1aWRcbiAgICAgICAgLy8gICAgIGN1aWRSZXF1ZXN0ID0gKHRoaXMuc3RvcmFnZS5sYXN0ICE9PSB1bmRlZmluZWQpID8gdGhpcy5zdG9yYWdlLmxhc3QudWlkIDogdGhpcy5wYXJhbXMuY3VpZDtcbiAgICAgICAgLy8gICAgIGNvdW50UmVxdWVzdCA9IFJFUV9DT1VOVDtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnRzIFwiY291bnRcIiBhbmQgXCJjdWlkTGFzdFwiIG5vdCBkZWZpbmVkLicpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21wdXRlQW5kVHJpZ2dlckV2ZW50KGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGFyZ3JlcyA9IHRoaXMuY29tcHV0ZShhcmcpO1xuICAgICAgICBpZiAoYXJncmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJEYXRhQ2hhbmdlZChhcmdyZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0FyZ1JlbGF0ZWQoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSB7XG5cbiAgICAgICAgY29uc3QgTSA9IG5ldyBBbW91bnRSYW5nZShhcmcudWlkRmlyc3QsIGFyZy51aWRMYXN0LCBhcmcuY291bnQpO1xuICAgICAgICBjb25zdCBTID0gbmV3IEFtb3VudFJhbmdlKHRoaXMucGFyYW1zLmN1aWQsIHRoaXMucGFyYW1zLmN1aWRMYXN0LCB0aGlzLnBhcmFtcy5jb3VudCk7XG5cbiAgICAgICAgcmV0dXJuIEFtb3VudFJhbmdlT3BzLmlzSW50ZXJzZWN0ZWQoTSwgUyk7XG5cbiAgICAgICAgLy8gY29uc3QgYXJnRmlyc3RUaW1lID0gYXJnLnVpZEZpcnN0LnQuZ2V0VGltZSgpO1xuICAgICAgICAvLyBjb25zdCBhcmdMYXN0VGltZSA9IGFyZy51aWRMYXN0LnQuZ2V0VGltZSgpO1xuICAgICAgICAvLyBjb25zdCBjdWlkVGltZSA9IHRoaXMucGFyYW1zLmN1aWQudC5nZXRUaW1lKCk7XG5cbiAgICAgICAgLy8gaWYgKHRoaXMucGFyYW1zLmN1aWRMYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gICAgIC8vIENoZWNraW5nIGlmIGF0IGxlYXN0IG9uZSB0aW1lIGlzIGluc2lkZSBpbnRlcnZhbFxuICAgICAgICAvLyAgICAgY29uc3QgY3VpZExhc3RUaW1lID0gdGhpcy5wYXJhbXMuY3VpZExhc3QudC5nZXRUaW1lKCk7XG5cbiAgICAgICAgLy8gICAgIHJldHVybiAoKGFyZ0ZpcnN0VGltZSA+PSBjdWlkVGltZSAmJiBhcmdGaXJzdFRpbWUgPD0gY3VpZExhc3RUaW1lKVxuICAgICAgICAvLyAgICAgfHwgKGFyZ0xhc3RUaW1lID49IGN1aWRUaW1lICYmIGFyZ0xhc3RUaW1lIDw9IGN1aWRMYXN0VGltZSkpO1xuXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5wYXJhbXMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyAgICAgLy8gQ2hlY2sgaWYgb25lIG9mIGluY29taW5nIFVpZCBpcyBvbiB0aGUgcmlnaHQgc2lkZVxuICAgICAgICAvLyAgICAgaWYgKHRoaXMucGFyYW1zLmNvdW50ID4gMCkge1xuICAgICAgICAvLyAgICAgICAgIHJldHVybiBhcmdMYXN0VGltZSA+PSBjdWlkVGltZTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbXMuY291bnQgPCAwKSB7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGFyZ0ZpcnN0VGltZSA8PSBjdWlkVGltZTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnRzIFwiY291bnRcIiBhbmQgXCJjdWlkTGFzdFwiIG5vdCBkZWZpbmVkLicpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrSWZEYXRhRW5vdWdoKHBhcmFtczogVGFza1BhcmFtcykge1xuXG4gICAgICAgIC8vIFRPRE86IFRoZXJlIGNhbiBiZSBubyBleGFjdCBVaWQuIFVzZSBndC9sdCBjb21wYXJpbmdcbiAgICAgICAgaWYgKHRoaXMuaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodGhpcy5wYXJhbXMuY3VpZCkgPT09IDApKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5pdGVyYXRvci5tb3ZlVGltZXModGhpcy5wYXJhbXMuY291bnQpID09PSB0aGlzLnBhcmFtcy5jb3VudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmN1aWRMYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gZXhhY3QgVWlkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IubW92ZVRvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZSh0aGlzLnBhcmFtcy5jdWlkKSA+PSAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudHMgXCJjb3VudFwiIGFuZCBcImN1aWRMYXN0XCIgbm90IGRlZmluZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBzb3VyY2VJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4pIHtcblxuICAgICAgICAvLyBpZiAodGhpcy5pc0ZpbmlzaGVkKSB7XG4gICAgICAgIC8vICAgICBpZiAodGhpcy5uZXh0KSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5uZXh0LmhhbmRsZUV2ZW50KGFyZywgc291cmNlSXRlcmF0b3IpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyByZWxhdGVkIHRvIHRoaXMgdGFza1xuICAgICAgICBjb25zdCByZWxhdGVkID0gdGhpcy5pc0FyZ1JlbGF0ZWQoYXJnKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0gVGFzay5oYW5kbGVFdmVudCAtLS0tLScpO1xuICAgICAgICBjb25zb2xlLmxvZyhgYXJnICR7IGFyZy51aWRGaXJzdC50LnRvSVNPU3RyaW5nKCkgfSAtICR7IGFyZy51aWRMYXN0LnQudG9JU09TdHJpbmcoKSB9IGApO1xuICAgICAgICBjb25zb2xlLmxvZyhgcGFyYW1zICR7IHRoaXMucGFyYW1zLmN1aWQudC50b0lTT1N0cmluZygpIH0gLSAkeyB0aGlzLnBhcmFtcy5jdWlkTGFzdCA/IHRoaXMucGFyYW1zLmN1aWRMYXN0LnQudG9JU09TdHJpbmcoKSA6IFwiTi9BXCIgfSAvICR7IHRoaXMucGFyYW1zLmNvdW50IH0gYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWxhdGVkOiAnICsgcmVsYXRlZCk7XG5cbiAgICAgICAgaWYgKCFyZWxhdGVkICYmIHRoaXMubmV4dCkge1xuICAgICAgICAgICAgLy8gSWYgbm90IC0gcGFzcyBpdCBmdXJ0aGVyXG4gICAgICAgICAgICB0aGlzLm5leHQuaGFuZGxlRXZlbnQoYXJnLCBzb3VyY2VJdGVyYXRvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB5ZXNcbiAgICAgICAgLy8gQ29tcHV0ZSB2YWx1ZXNcbiAgICAgICAgdGhpcy5jb21wdXRlQW5kVHJpZ2dlckV2ZW50KGFyZyk7XG5cbiAgICAgICAgaWYgKCFyZWxhdGVkKSB7XG4gICAgICAgICAgICAvLyBkbyBub3Qgc2VuZCByZXF1ZXN0c1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjaGVjayBkYXRhLlxuICAgICAgICBpZiAodGhpcy5jaGVja0lmRGF0YUVub3VnaCh0aGlzLnBhcmFtcykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0YXNrIGlzIGZpbmlzaGVkJyk7XG4gICAgICAgICAgICAvLyBJZiBkYXRhIGlzIGVub3VnaCwgZmluaXNoLlxuICAgICAgICAgICAgdGhpcy5pc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGRhdGEgaXMgbm90IGVub3VnaFxuICAgICAgICAgICAgLy8gc2VuZCBvbmUgbW9yZSByZXF1ZXN0XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21wdXRlZERhdGFTb3VyY2U8UyBleHRlbmRzIENhbmRsZXN0aWNrPiBleHRlbmRzIERhdGFTb3VyY2Uge1xuICAgIHByb3RlY3RlZCBzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPjtcbiAgICBwcm90ZWN0ZWQgc291cmNlSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+O1xuICAgIHByb3RlY3RlZCBkYXRhU3RvcmFnZTogQXJyYXlEYXRhU3RvcmFnZTxTPjtcbiAgICBwcm90ZWN0ZWQgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Uz47XG4gICAgcHJpdmF0ZSB0YXNrPzogQ29tcHV0ZVRhc2s7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4pIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2ssIG5ldyBEYXRhU291cmNlQ29uZmlnKHNvdXJjZS5wcmVjaXNpb24pKTtcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZSA9IG5ldyBBcnJheURhdGFTdG9yYWdlPFM+KHRoaXMuY29tcGFyZXIpO1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zb3VyY2UuZGF0YUNoYW5nZWQub24odGhpcy5vbkRhdGFTb3VyY2VDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy5zb3VyY2VJdGVyYXRvciA9IHNvdXJjZS5nZXRJdGVyYXRvcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29tcGFyZXIgPSAobGhzOiBTLCByaHM6IFMpID0+IHsgcmV0dXJuIGxocy51aWQuY29tcGFyZShyaHMudWlkKTsgfTtcblxuICAgIHB1YmxpYyBnZXRJdGVyYXRvcigpOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQodWlkOiBVaWQsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF1aWQgfHwgY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBDRFMubG9hZCAkeyB1aWQudC50b0lTT1N0cmluZygpIH0gLyAkeyBjb3VudCB9IGApO1xuXG4gICAgICAgIGlmICh0aGlzLml0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKHVpZCkgPT09IDApKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pdGVyYXRvci5tb3ZlVGltZXMoY291bnQpID09PSBjb3VudCkge1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVGFza1BhcmFtcyh1aWQsIHVuZGVmaW5lZCwgY291bnQpO1xuICAgICAgICB0aGlzLnRhc2sgPSBuZXcgQ29tcHV0ZVRhc2sodGhpcy5kYXRhU3RvcmFnZSwgcGFyYW1zLCB0aGlzLnRyaWdnZXJEYXRhQ2hhbmdlZCwgdGhpcy5zZW5kRGF0YVJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVEZWxlZ2F0ZSwgdGhpcy50YXNrKTtcbiAgICAgICAgdGhpcy50YXNrLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRSYW5nZSh1aWRGaXJzdDogVWlkLCB1aWRMYXN0OiBVaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF1aWRGaXJzdCB8fCAhdWlkTGFzdCB8fCB1aWRGaXJzdC5jb21wYXJlKHVpZExhc3QpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhgQ0RTLmxvYWQgJHsgdWlkRmlyc3QudC50b0lTT1N0cmluZygpIH0gLyAkeyB1aWRMYXN0LnQudG9JU09TdHJpbmcoKSB9IGApO1xuXG4gICAgICAgIC8vIHNvcnQgYXJndW1lbnRzXG4gICAgICAgIGlmICh1aWRGaXJzdC5jb21wYXJlKHVpZExhc3QpID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdGVtcCA9IHVpZEZpcnN0O1xuICAgICAgICAgICAgdWlkRmlyc3QgPSB1aWRMYXN0O1xuICAgICAgICAgICAgdWlkTGFzdCA9IHRlbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBUaGVyZSBjYW4gYmUgbm8gZXhhY3QgVWlkLiBVc2UgZ3QvbHQgY29tcGFyaW5nXG4gICAgICAgIGlmICh0aGlzLml0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKHVpZEZpcnN0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZXJhdG9yLm1vdmVUbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUodWlkTGFzdCkgPj0gMCkpIHtcbiAgICAgICAgICAgICAgICAvLyBkYXRhIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnN0IHBhcmFtcyA9IG5ldyBUYXNrUGFyYW1zKHVpZEZpcnN0LCB1aWRMYXN0KTtcbiAgICAgICAgLy8gdGhpcy50YXNrID0gbmV3IENvbXB1dGVUYXNrKHRoaXMuZGF0YVN0b3JhZ2UsIHBhcmFtcywgdGhpcy50cmlnZ2VyRGF0YUNoYW5nZWQsIHRoaXMuc2VuZERhdGFSZXF1ZXN0LCBcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZURlbGVnYXRlLCB0aGlzLnRhc2spO1xuICAgICAgICB0aGlzLnRhc2sgPSB0aGlzLmNyZWF0ZVRhc2sodWlkRmlyc3QsIHVpZExhc3QsIHVuZGVmaW5lZCwgdGhpcy50YXNrKTtcbiAgICAgICAgdGhpcy50YXNrLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHRyaWdnZXJEYXRhQ2hhbmdlZCA9IChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpID0+IHtcbiAgICAgICAgdGhpcy5kYXRlQ2hhbmdlZEV2ZW50LnRyaWdnZXIoYXJnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2VuZERhdGFSZXF1ZXN0ID0gKHVpZDogVWlkLCB1aWRMYXN0PzogVWlkLCBjb3VudD86IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgU2VuZGluZyByZXF1ZXN0OiAke3VpZC50LnRvSVNPU3RyaW5nKCl9ICR7Y291bnR9YCk7XG4gICAgICAgIGlmICh1aWRMYXN0KSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkUmFuZ2UodWlkLCB1aWRMYXN0KTtcbiAgICAgICAgfSBlbHNlIGlmIChjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UubG9hZCh1aWQsIGNvdW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndWlkIG9yIGNvdW50IG11c3QgYmUgZGVmaW5lZC4nKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uRGF0YVNvdXJjZUNoYW5nZWQgPSAoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSA9PiB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJz09PT09PT09PT09PSBTVEFSVElORyBUQVNLUyBDSEFJTiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09Jyk7XG5cbiAgICAgICAgLy8gUGFzcyByZXN1bHQgdG8gdGhlIHRhc2tzXG4gICAgICAgIGlmICh0aGlzLnRhc2spIHtcblxuICAgICAgICAgICAgdGhpcy50YXNrLmhhbmRsZUV2ZW50KGFyZywgdGhpcy5zb3VyY2VJdGVyYXRvcik7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBcIm91dGRhdGVkXCIgdGFza3NcbiAgICAgICAgICAgIGlmICh0aGlzLnRhc2suaXNPdXRkYXRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFzayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLnRhc2s7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQubmV4dCAmJiAhY3VycmVudC5uZXh0LmlzT3V0ZGF0ZWQpIHsgY3VycmVudCA9IGN1cnJlbnQubmV4dDsgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vdCBjdXJyZW50IHRhc2sgdGhlbiBjcmVhdGUgYSBuZXcgdGFza1xuICAgICAgICAgICAgdGhpcy50YXNrID0gdGhpcy5jcmVhdGVUYXNrKGFyZy51aWRGaXJzdCwgYXJnLnVpZExhc3QsIGFyZy5jb3VudCk7XG4gICAgICAgICAgICB0aGlzLnRhc2suaGFuZGxlRXZlbnQoYXJnLCB0aGlzLnNvdXJjZUl0ZXJhdG9yKTtcbiAgICAgICAgICAgIC8vdGhpcy50YXNrLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRhc2sodWlkRmlyc3Q6IFVpZCwgdWlkTGFzdD86IFVpZCwgY291bnQ/OiBudW1iZXIsIG5leHRUYXNrPzogQ29tcHV0ZVRhc2spOiBDb21wdXRlVGFzayB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBUYXNrUGFyYW1zKHVpZEZpcnN0LCB1aWRMYXN0LCBjb3VudCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcHV0ZVRhc2sodGhpcy5kYXRhU3RvcmFnZSwgcGFyYW1zLCB0aGlzLnRyaWdnZXJEYXRhQ2hhbmdlZCwgdGhpcy5zZW5kRGF0YVJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlRGVsZWdhdGUsIG5leHRUYXNrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVEZWxlZ2F0ZSA9IChhcmc6IERhdGFDaGFuZ2VkQXJndW1lbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZShhcmcpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc291cmNlLmRhdGFDaGFuZ2VkLm9mZih0aGlzLm9uRGF0YVNvdXJjZUNoYW5nZWQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgRXZlbnQsIElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBjbGFzcyBEYXRhQ2hhbmdlZEV2ZW50IGV4dGVuZHMgRXZlbnQ8RGF0YUNoYW5nZWRBcmd1bWVudD4ge1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YUNoYW5nZWRBcmd1bWVudCB7XG4gICAgcHVibGljIGxhc3RVaWRCZWZvcmU/OiBVaWQ7XG4gICAgcHVibGljIGxhc3RVaWRBZnRlcj86IFVpZDtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHVpZEZpcnN0OiBVaWQsICAgICAvLyB1aWQgb2YgZmlyc3QgZWxlbWVudCB0aGF0IGNoYW5nZWRcbiAgICAgICAgcHVibGljIHVpZExhc3Q6IFVpZCwgICAgIC8vIHVpZCBvZiBsYXN0IGVsZW1lbnQgdGhhdCBjaGFuZ2VkXG4gICAgICAgIHB1YmxpYyBjb3VudDogbnVtYmVyICAgIC8vIGNvdW50IG9mIGVsZW1lbnRzIHRoYXQgY2hhbmdlZFxuICAgICkge1xuICAgICAgICBpZiAoY291bnQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFDaGFuZ2VkQXJndW1lbnQgcHJvcGVydHkgXCJjb3VudFwiIG11c3QgYmUgcG9zaXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBJSW5kaWNhdG9yRXh0ZW5zaW9uLCBTZXR0aW5nU2V0LCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBJVWlkVmFsdWUsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJRXZlbnQsIElIYXNoVGFibGUsIElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhQ2hhbmdlZEV2ZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcbmltcG9ydCB7IERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0RhdGFTb3VyY2VDb25maWcnO1xuaW1wb3J0IHsgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEYXRhU291cmNlIGltcGxlbWVudHMgSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2NvbmZpZzogRGF0YVNvdXJjZUNvbmZpZztcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0ZUNoYW5nZWRFdmVudCA9IG5ldyBEYXRhQ2hhbmdlZEV2ZW50KCk7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9kYXRhVHlwZTogeyBuZXcoZDogRGF0ZSk6IENhbmRsZXN0aWNrIH07XG4gICAgcHJvdGVjdGVkIHRpbWVSYW5nZT86IElSYW5nZTxEYXRlPjtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBkYXRhU3RvcmFnZTogSURhdGFTdG9yYWdlPENhbmRsZXN0aWNrPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBkYXRhVHlwZTogeyBuZXcoZDogRGF0ZSk6IENhbmRsZXN0aWNrIH0sXG4gICAgICAgIGNvbmZpZzogRGF0YVNvdXJjZUNvbmZpZykge1xuXG4gICAgICAgIHRoaXMuX2RhdGFUeXBlID0gZGF0YVR5cGU7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBEZXJpdmVkIGNsYXNzZXMgaGF2ZSB0aGVpciBvd24gc2V0dGluZ3MuXG4gICAgcHVibGljIGdldCBjb25maWcoKTogRGF0YVNvdXJjZUNvbmZpZ3tcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRhdGFDaGFuZ2VkKCk6IElFdmVudDxEYXRhQ2hhbmdlZEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGVDaGFuZ2VkRXZlbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkYXRhVHlwZSgpOiB7IG5ldyhkOiBEYXRlKTogQ2FuZGxlc3RpY2sgfSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhVHlwZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hc3NldDogc3RyaW5nID0gJyc7XG4gICAgcHVibGljIGdldCBhc3NldCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXNzZXQ7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgYXNzZXQodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9hc3NldCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZyA9ICcnO1xuICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG4gICAgcHVibGljIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcHJlY2lzaW9uKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcucHJlY2lzaW9uO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IHByZWNpc2lvbih2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnByZWNpc2lvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBsb2FkKHVpZDogVWlkLCBjb3VudDogbnVtYmVyKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBsb2FkUmFuZ2UodWlkRmlyc3Q6IFVpZCwgdWlkTGFzdDogVWlkKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRJdGVyYXRvcihmaWx0ZXI/OiAoaXRlbTogQ2FuZGxlc3RpY2spID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdE1pblZhbHVlID0gMDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNYXhWYWx1ZSA9IDEwMDtcblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHJhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhU3RvcmFnZS5pc0VtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5kZWZhdWx0TWluVmFsdWUsIGVuZDogdGhpcy5kZWZhdWx0TWF4VmFsdWUgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtaW5WYWx1ZSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIGxldCBtYXhWYWx1ZSA9IE51bWJlci5NSU5fVkFMVUU7XG5cbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGlmIChpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShyYW5nZS5zdGFydCkgPj0gMCkpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoID0gaXRlcmF0b3IuY3VycmVudC5oO1xuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSBpdGVyYXRvci5jdXJyZW50Lmw7XG5cbiAgICAgICAgICAgICAgICBpZiAobCAhPT0gdW5kZWZpbmVkICYmIGwgPCBtaW5WYWx1ZSkgeyBtaW5WYWx1ZSA9IGw7IH1cbiAgICAgICAgICAgICAgICBpZiAoaCAhPT0gdW5kZWZpbmVkICYmIGggPiBtYXhWYWx1ZSkgeyBtYXhWYWx1ZSA9IGg7IH1cbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkgJiYgaXRlcmF0b3IuY3VycmVudC51aWQuY29tcGFyZShyYW5nZS5lbmQpIDw9IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IG1pblZhbHVlLCBlbmQ6IG1heFZhbHVlIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldEhITEwodWlkRnJvbTogVWlkLCB1aWRUbzogVWlkKTogQ2FuZGxlc3RpY2t8dW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBzdGFydCA9IHVpZEZyb20uY29tcGFyZSh1aWRUbykgPD0gMCA/IHVpZEZyb20gOiB1aWRUbztcbiAgICAgICAgY29uc3QgZW5kID0gdWlkRnJvbS5jb21wYXJlKHVpZFRvKSA8PSAwID8gdWlkVG8gOiB1aWRGcm9tO1xuXG4gICAgICAgIGxldCBvID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxsID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgaGggPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB1aWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGlmIChpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShzdGFydCkgPj0gMCkpIHtcblxuICAgICAgICAgICAgbyA9IGl0ZXJhdG9yLmN1cnJlbnQubztcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGggPSBpdGVyYXRvci5jdXJyZW50Lmg7XG4gICAgICAgICAgICAgICAgY29uc3QgbCA9IGl0ZXJhdG9yLmN1cnJlbnQubDtcblxuICAgICAgICAgICAgICAgIGxsID0gbGwgPT09IHVuZGVmaW5lZCA/IGwgOiBNYXRoLm1pbihsbCwgbCAhPT0gdW5kZWZpbmVkID8gbCA6ICtJbmZpbml0eSk7XG4gICAgICAgICAgICAgICAgaGggPSBoaCA9PT0gdW5kZWZpbmVkID8gaCA6IE1hdGgubWF4KGhoLCBoICE9PSB1bmRlZmluZWQgPyBoIDogLUluZmluaXR5KTtcbiAgICAgICAgICAgICAgICBjID0gaXRlcmF0b3IuY3VycmVudC5jO1xuICAgICAgICAgICAgICAgIHVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICAgICAgfSB3aGlsZSAoaXRlcmF0b3IubW92ZU5leHQoKSAmJiBpdGVyYXRvci5jdXJyZW50LnVpZC5jb21wYXJlKGVuZCkgPD0gMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdWlkICE9PSB1bmRlZmluZWQgPyBuZXcgQ2FuZGxlc3RpY2sodWlkLnQsIGMsIG8sIGhoLCBsbCk6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGFzdENhbmRsZSgpOiBDYW5kbGVzdGlja3x1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU3RvcmFnZS5sYXN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZXh0ZW5zaW9uczogSUhhc2hUYWJsZTxJSW5kaWNhdG9yRXh0ZW5zaW9ufHVuZGVmaW5lZD4gPSB7fTtcblxuICAgIHB1YmxpYyBhZGRFeHRlbnNpb24obmFtZTogc3RyaW5nLCBleHQ6IElJbmRpY2F0b3JFeHRlbnNpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zW25hbWVdID0gZXh0O1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZSBvbmx5IG5ldyBleHRlbnNpb24gb3ZlciB3aG9sZSBleHRlbnNpb25cbiAgICAgICAgdGhpcy5jb21wdXRlRXh0ZW5zaW9ucyh1bmRlZmluZWQsIG5hbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVFeHRlbnNpb24obmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIC8vIHJlcGxhY2VcbiAgICAgICAgdGhpcy5leHRlbnNpb25zW25hbWVdID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGV4dGVuc2lvbiB2YWx1ZXMgb3ZlciBzcGVjaWZpZWQgcmFuZ2UuXG4gICAgICogQHBhcmFtIGFyZyBTcGVjaWZpZWQgcmFuZ2UuIElmIG5vdCBzcGVjaWZpZWQsIHJlY29tcHV0ZSBhbGwgZGF0YS5cbiAgICAgKiBAcGFyYW0gZXh0VWlkIElmIHVuZGVmaW5lZCwgY2FsY3VsYXRlcyBmb3IgYWxsIGV4dGVuc2lvbnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVFeHRlbnNpb25zKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQsIGV4dE5hbWU/OiBzdHJpbmcpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gSWYgYXJnIGlzIG5vdCBkZWZpbmVkIGJ1aWxkIGFsbCBkYXRhXG4gICAgICAgIC8vIENvbXB1dGUgZGF0YSB0aWxsIHRoZSBlbmQgKHVwZGF0ZSBkYXRhIGZyb20gY3VycmVudCBwbGFjZSB0byBlbmQpXG5cbiAgICAgICAgLy8gMS4gRGV0ZXJtaW5lIHJlcXVpcmVkIGFtb3VudCBvZiBwcmV2aW91cyB2YWx1ZXMuIFNlbGVjdCBtYXggb2YgYWxsIGV4dGVuc2lvbnMuIFxuICAgICAgICAvLyAgICBDaGVjayBpZiB0aGVyZSBhbnkgZXh0ZW5zaW9uLlxuICAgICAgICAvL1xuICAgICAgICBsZXQgcmVxdWlyZWRMZW5ndGg6IG51bWJlciA9IC0xO1xuICAgICAgICBsZXQgZXh0Q291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHVpZCBvZiBPYmplY3Qua2V5cyh0aGlzLmV4dGVuc2lvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBleHQgPSB0aGlzLmV4dGVuc2lvbnNbdWlkXTtcbiAgICAgICAgICAgIGlmIChleHQgJiYgZXh0TmFtZSAmJiB1aWQgPT09IGV4dE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZExlbmd0aCA9IGV4dC5hbW91bnRSZXF1aXJlcztcbiAgICAgICAgICAgICAgICBleHRDb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4dCAmJiAhZXh0TmFtZSkge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkTGVuZ3RoID0gTWF0aC5tYXgocmVxdWlyZWRMZW5ndGgsIGV4dC5hbW91bnRSZXF1aXJlcyk7XG4gICAgICAgICAgICAgICAgZXh0Q291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1aXJlZExlbmd0aCA9PT0gLTEgfHwgZXh0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBMb2FkIHByZXZpb3VzIHZhbHVlcyAoaWYgcmFuZ2UgaXMgY29uc3RyYWluZWQpLiBJbml0IGZpeGVkIHNpemUgYXJyYXlcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgbGluZSA9IG5ldyBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4ocmVxdWlyZWRMZW5ndGgsIChsaHMsIHJocykgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfSk7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpbGwgZml4ZWQgc2l6ZWQgYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGFycmF5OiBDYW5kbGVzdGlja1tdID0gW107XG4gICAgICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoY291bnRlciA8IHJlcXVpcmVkTGVuZ3RoICYmIGl0ZXJhdG9yLm1vdmVQcmV2KCkpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtjb3VudGVyXSA9IGl0ZXJhdG9yLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQdXQgaW4gYmFjayBvcmRlclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgbGluZS5wdXNoKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgIGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBnbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAoIWl0ZXJhdG9yLm1vdmVOZXh0KCkpIHsgcmV0dXJuOyB9IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgICAgICAvLyBGaXhlZCBzaXplIGFycmF5IGNhbiBub3QgYmUgZmlsbGVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBDb21wdXRlIChpZiByYW5nZSBpcyBjb25zdHJhaW5lZCAtIHRpbGwgdGhlIGVuZCBvZiBhcnJheSlcbiAgICAgICAgLy9cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gQWRkIGN1cnJlbnQgZWxlbWVudFxuICAgICAgICAgICAgbGluZS5wdXNoKGl0ZXJhdG9yLmN1cnJlbnQpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVpZCBvZiBPYmplY3Qua2V5cyh0aGlzLmV4dGVuc2lvbnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5leHRlbnNpb25zW3VpZF07XG4gICAgICAgICAgICAgICAgaWYgKGV4dCAmJiBleHROYW1lICYmIHVpZCA9PT0gZXh0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBleHQuZXh0ZW5kKGxpbmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXh0ICYmICFleHROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dC5leHRlbmQobGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChpdGVyYXRvci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvLyA0LiBSZXR1cm4gX19vcmlnaW5hbF9fIHJhbmdlLlxuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBsb2NrKHVpZDogVWlkKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBkaXNwb3NlKCk6IHZvaWQ7XG5cbiAgICBwdWJsaWMgc2V0VGltZVJhbmdlKHJhbmdlOiBJUmFuZ2U8RGF0ZT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy50aW1lUmFuZ2UgPSByYW5nZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgnZGF0YXNvdXJjZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlRGF0ZVJhbmdlKHJhbmdlOiBJUmFuZ2U8RGF0ZT4pOiB2b2lkIHtcbiAgICAgICAgaWYgKCFyYW5nZSkgeyB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IFwicmFuZ2VcIiBpcyBub3QgZGVmaW5lZC4nKTsgfVxuICAgICAgICBpZiAoIXJhbmdlLnN0YXJ0IHx8ICFyYW5nZS5lbmQpIHsgdGhyb3cgbmV3IEVycm9yKCdSYW5nZSBpcyBub3QgZGVmaW5lZC4nKTsgfVxuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgPiByYW5nZS5lbmQpIHsgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiBzcGVjaWZpZWQgcmFuZ2Ugc2hvdWxkIG5vdCBiZSBsZXNzIHRoZW4gZW5kLicpOyB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogdm9pZCB7XG4gICAgICAgIGlmICghcmFuZ2UpIHsgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcInJhbmdlXCIgaXMgbm90IGRlZmluZWQuJyk7IH1cbiAgICAgICAgaWYgKCFyYW5nZS5zdGFydCB8fCAhcmFuZ2UuZW5kKSB7IHRocm93IG5ldyBFcnJvcignUmFuZ2UgaXMgbm90IGRlZmluZWQuJyk7IH1cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnQgPiByYW5nZS5lbmQudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiBzcGVjaWZpZWQgcmFuZ2Ugc2hvdWxkIG5vdCBiZSBsZXNzIHRoZW4gZW5kLicpO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnN0YXJ0LnQuZ2V0VGltZSgpID09PSByYW5nZS5lbmQudC5nZXRUaW1lKCkgJiYgcmFuZ2Uuc3RhcnQubiA+IHJhbmdlLmVuZC5uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJ0IG9mIHNwZWNpZmllZCByYW5nZSBzaG91bGQgbm90IGJlIGxlc3MgdGhlbiBlbmQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVJbnRlcnZhbChpbnRlcnZhbDogVGltZUludGVydmFsKTogdm9pZCB7XG4gICAgICAgIGlmICghaW50ZXJ2YWwpIHsgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBcImludGVydmFsXCIgaXMgbm90IGRlZmluZWQuJyk7IH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgRGF0YVNvdXJjZUNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb246IG51bWJlclxuICAgICkgeyB9XG59XG4iLCIvKipcclxuICogRGF0YVNvdXJjZUZhY3RvcnkgY2xhc3MuXHJcbiAqL1xyXG5pbXBvcnQgeyBDaGFydFR5cGUgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IElDb250ZXh0LCBJRGF0YVNvdXJjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IExpbmVCcmVha0RhdGFTb3VyY2UgfSBmcm9tICcuL0xpbmVCcmVha0RhdGFTb3VyY2UnO1xyXG5pbXBvcnQgeyBSYW5nZUJhckRhdGFTb3VyY2UgfSBmcm9tICcuL1JhbmdlQmFyRGF0YVNvdXJjZSc7XHJcbmltcG9ydCB7IFJlbmtvRGF0YVNvdXJjZSB9IGZyb20gJy4vUmVua29EYXRhU291cmNlJztcclxuaW1wb3J0IHsgSGVpa2luQXNoaURhdGFTb3VyY2UgfSBmcm9tICcuL0hlaWtpbkFzaGlEYXRhU291cmNlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhU291cmNlRmFjdG9yeSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIENSRUFURTxUPihjaGFydFR5cGU6IHN0cmluZywgc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIHRpbWVSYW5nZTogSVJhbmdlPERhdGU+LCBjb250ZXh0OiBJQ29udGV4dCk6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiB7XHJcbiAgICAgICAgc3dpdGNoIChjaGFydFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUuY2FuZGxlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUuaGVpa2luYXNoaTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSGVpa2luQXNoaURhdGFTb3VyY2Uoc291cmNlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUuaG9sbG93OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUubGluZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLm1vdW50YWluOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUub2hsYzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hhcnRUeXBlLnJhbmdlYmFyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUJhckRhdGFTb3VyY2Uoc291cmNlLCB0aW1lUmFuZ2UpO1xyXG4gICAgICAgICAgICBjYXNlIENoYXJ0VHlwZS5yZW5rbzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVua29EYXRhU291cmNlKHNvdXJjZSwgdGltZVJhbmdlKTtcclxuICAgICAgICAgICAgY2FzZSBDaGFydFR5cGUubGluZWJyZWFrOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lQnJlYWtEYXRhU291cmNlKHNvdXJjZSwgdGltZVJhbmdlKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBjaGFydCB0eXBlPSR7Y2hhcnRUeXBlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcclxuaW1wb3J0IHsgSWRWYWx1ZSwgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSURhdGFTb3VyY2VSZWdpc3RlciB7XHJcbiAgICBnZXRJdGVtKHVpZDogc3RyaW5nKTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+O1xyXG4gICAgbGlzdCgpOiBJZFZhbHVlW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhU291cmNlUmVnaXN0ZXIgaW1wbGVtZW50cyBJRGF0YVNvdXJjZVJlZ2lzdGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHNvdXJjZXM6IElIYXNoVGFibGU8SURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+PiA9IHt9O1xyXG4gICAgLy9wcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRGF0YVNvdXJjZUxvY2F0b3I7XHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZSB8fCAodGhpcy5pbnN0YW5jZSA9IG5ldyB0aGlzKCkpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWdpc3Rlcih1aWQ6IHN0cmluZywgZHM6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPikge1xyXG4gICAgICAgIHRoaXMuc291cmNlc1t1aWRdID0gZHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpc3QoKTogSWRWYWx1ZVtdIHtcclxuICAgICAgICBjb25zdCBhciA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgT2JqZWN0LmtleXModGhpcy5zb3VyY2VzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkcyA9IHRoaXMuc291cmNlc1tpZF07XHJcbiAgICAgICAgICAgIGFyLnB1c2gobmV3IElkVmFsdWUoaWQsIGRzLmFzc2V0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SXRlbSh1aWQ6IHN0cmluZyk6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiB7XHJcbiAgICAgICAgY29uc3QgZHMgPSB0aGlzLnNvdXJjZXNbdWlkXTtcclxuICAgICAgICBpZiAoZHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuIG5vdCBmaW5kIGRhdGEgc291cmNlIHdpdGggaWQ9JyR7dWlkfScuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRhVHlwZSB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBwb2ludCA9ICdwb2ludCc7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBjYW5kbGUgPSAnY2FuZGxlJztcbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IElJbmRpY2F0b3JFeHRlbnNpb24sIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBEYXRhU291cmNlUmVnaXN0ZXIsXG4gICAgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi9JbmRpY2F0b3JEYXRhU291cmNlJztcblxuZXhwb3J0IGNsYXNzIEhlaWtpbkFzaGlEYXRhU291cmNlIGV4dGVuZHMgSW5kaWNhdG9yRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIC8vIEdldCBzb3VyY2UgZGF0YSB3aXRob3V0IGxvYWRpbmdcbiAgICAgICAgY29uc3QgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+ID0gdGhpcy5zb3VyY2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICBsZXQgbW92ZTtcbiAgICAgICAgbW92ZSA9IGFyZyA/IGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApIDogaXRlcmF0b3IubW92ZU5leHQoKTtcbiAgICAgICAgaWYgKCFtb3ZlKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkQXJyYXk6IENhbmRsZXN0aWNrW10gPSBbXTtcblxuICAgICAgICBjb25zdCBmaXJzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbGFzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZUNhbmRsZShpdGVyYXRvci5jdXJyZW50LCBpdGVyYXRvci5wcmV2aW91cyk7XG5cbiAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIE1lcmdlXG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWRBcnJheSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgbmV3IGRhdGEgYW5kIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoZmlyc3RVaWQsIGxhc3RVaWQsIGNvbXB1dGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVDYW5kbGUoY3VycmVudDogQ2FuZGxlc3RpY2ssIHByZXZpb3VzPzogQ2FuZGxlc3RpY2spOiBDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2soY3VycmVudC5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkLnQgPSBjdXJyZW50LnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWQubiA9IGN1cnJlbnQudWlkLm47XG5cbiAgICAgICAgaWYgKGN1cnJlbnQuYyAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubyAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQuaCAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgJiYgcHJldmlvdXMgJiYgcHJldmlvdXMuYyAhPT0gdW5kZWZpbmVkICYmIHByZXZpb3VzLm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gSEEtQ2xvc2UgPSAoT3BlbigwKSArIEhpZ2goMCkgKyBMb3coMCkgKyBDbG9zZSgwKSkgLyA0XG4gICAgICAgICAgICBjb25zdCBoYWMgPSAoY3VycmVudC5vICsgY3VycmVudC5oICsgY3VycmVudC5sICsgY3VycmVudC5jKSAvIDQ7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gaGFjO1xuICAgICAgICAgICAgLy8gSEEtT3BlbiA9IChIQS1PcGVuKC0xKSArIEhBLUNsb3NlKC0xKSkgLyAyXG4gICAgICAgICAgICBjb25zdCBoYW8gPSAocHJldmlvdXMubyArIHByZXZpb3VzLmMpIC8gMjtcbiAgICAgICAgICAgIGNvbXB1dGVkLm8gPSBoYW87XG4gICAgICAgICAgICAvLyBIQS1IaWdoID0gTWF4aW11bSBvZiB0aGUgSGlnaCgwKSwgSEEtT3BlbigwKSBvciBIQS1DbG9zZSgwKSBcbiAgICAgICAgICAgIGNvbXB1dGVkLmggPSBNYXRoLm1heChjdXJyZW50LmgsIGhhbywgaGFjKTtcbiAgICAgICAgICAgIC8vIEhBLUxvdyA9IE1pbmltdW0gb2YgdGhlIExvdygwKSwgSEEtT3BlbigwKSBvciBIQS1DbG9zZSgwKVxuICAgICAgICAgICAgY29tcHV0ZWQubCA9IE1hdGgubWF4KGN1cnJlbnQubCwgaGFvLCBoYWMpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuYyAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubyAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQuaCAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gKGN1cnJlbnQubyArIGN1cnJlbnQuaCArIGN1cnJlbnQubCArIGN1cnJlbnQuYykgLyA0O1xuICAgICAgICAgICAgY29tcHV0ZWQubyA9IChjdXJyZW50Lm8gKyBjdXJyZW50LmMpIC8gMjtcbiAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjdXJyZW50Lmg7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY3VycmVudC5sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKHVpZCwgY291bnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkUmFuZ2UodWlkRmlyc3Q6IFVpZCwgdWlkTGFzdDogVWlkKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc291cmNlLmxvYWRSYW5nZSh1aWRGaXJzdCwgdWlkTGFzdCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvY2sodWlkOiBVaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zb3VyY2UubG9jayh1aWQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogSHR0cERhdGFTb3VyY2UgY2xhc3MuXG4gKiBcbiAqIEBjbGFzc2Rlc2MgRGF0YSBzb3VyY2Ugd2l0aCBkeW5hbWljIGRhdGEgbG9hZGluZy5cbiAqL1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgSVRpbWVWYWx1ZSwgSVVpZFZhbHVlLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSwgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XG5pbXBvcnQgeyBEYXRhU291cmNlIH0gZnJvbSAnLi9EYXRhU291cmNlJztcbmltcG9ydCB7IERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0RhdGFTb3VyY2VDb25maWcnO1xuaW1wb3J0IHsgSHR0cERhdGFTb3VyY2VDb25maWcgfSBmcm9tICcuL0h0dHBEYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IsIElEYXRhUmVhZGVyRGVsZWdhdGUsIElEYXRhUmVzb2x2ZXJEZWxlZ2F0ZSwgSVBlbmRpbmdSZXF1ZXN0LCBJUmVzcG9uc2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5pbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5cbmV4cG9ydCBjbGFzcyBIdHRwRGF0YVNvdXJjZSBleHRlbmRzIERhdGFTb3VyY2Uge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBkYXRhU3RvcmFnZTogQXJyYXlEYXRhU3RvcmFnZTxDYW5kbGVzdGljaz47XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHJlcXVlc3RNYW5hZ2VyOiBIdHRwUmVxdWVzdE1hbmFnZXI7XG4gICAgLy9wcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRNaW5EYXRlID0gbmV3IERhdGUoMjAwMCwgMCwgMSk7XG5cbiAgICAvL3ByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdE1heEl0ZW1zUmVxdWVzdGVkID0gMTAwO1xuICAgIHByb3RlY3RlZCBhdXRvVXBkYXRlUGVyaW9kU2VjID0gMTA7XG4gICAgLy9wcm90ZWN0ZWQgYm9yZGVyVGltZTogRGF0ZXx1bmRlZmluZWQ7XG5cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29tcGFyZXIgPSAoaXRlbTE6IENhbmRsZXN0aWNrLCBpdGVtMjogQ2FuZGxlc3RpY2spID0+IHsgcmV0dXJuIGl0ZW0xLnVpZC5jb21wYXJlKGl0ZW0yLnVpZCk7IH07XG4vLyAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29tcGFyZXIgPSAoaXRlbTE6IElUaW1lVmFsdWUsIGl0ZW0yOiBJVGltZVZhbHVlKSA9PiB7IHJldHVybiBpdGVtMS5kYXRlLmdldFRpbWUoKSAtIGl0ZW0yLmRhdGUuZ2V0VGltZSgpOyB9O1xuICAgIHByb3RlY3RlZCB0aW1lcj86IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaXNEaXNwb3NlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGRhdGFUeXBlOiB7IG5ldyhkOiBEYXRlKTogQ2FuZGxlc3RpY2sgfSxcbiAgICAgICAgY29uZmlnOiBIdHRwRGF0YVNvdXJjZUNvbmZpZzxDYW5kbGVzdGljaz4pIHtcbiAgICAgICAgICAgIHN1cGVyKGRhdGFUeXBlLCBjb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoIWNvbmZpZyB8fCAoIWNvbmZpZy51cmwgJiYgIWNvbmZpZy5yZWFkRGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VybCBhbmQgcmVhZERhdGEgYXJlIG5vdCBpbml0aWFsaXplZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcudGltZUludGVydmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWUgaW50ZXJ2YWwgaXMgbm90IHNldC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UgPSBuZXcgQXJyYXlEYXRhU3RvcmFnZTxDYW5kbGVzdGljaz4odGhpcy5jb21wYXJlcik7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5yZWFkRGF0YSA9IGNvbmZpZy5yZWFkRGF0YSB8fCB0aGlzLm1ha2VEZWZhdWx0UmVhZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5yZXNvbHZlRGF0YSA9IGNvbmZpZy5yZXNvbHZlRGF0YSB8fCB0aGlzLm1ha2VEZWZhdWx0UmVzb2x2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dG91cGRhdGUgPSAoY29uZmlnLmF1dG91cGRhdGUgIT09IHVuZGVmaW5lZCkgPyBjb25maWcuYXV0b3VwZGF0ZSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gbmV3IEh0dHBSZXF1ZXN0TWFuYWdlcih0aGlzLmNvbmZpZy5yZWFkRGF0YSwgdGhpcy5jb25maWcucmVzb2x2ZURhdGEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuYXV0b3VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGF1dG91cGRhdGVcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlQXV0b3VwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IEh0dHBEYXRhU291cmNlQ29uZmlnPENhbmRsZXN0aWNrPiB7XG4gICAgICAgIHJldHVybiA8SHR0cERhdGFTb3VyY2VDb25maWc8Q2FuZGxlc3RpY2s+PnRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2NoZWR1bGVBdXRvdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCh0aGlzLmF1dG9VcGRhdGUsIHRoaXMuYXV0b1VwZGF0ZVBlcmlvZFNlYyAqIDEwMDApO1xuICAgICAgICBjb25zb2xlLmRlYnVnKGBzY2hlZHVsZWQgYXV0b3VwZGF0ZSwgdGltZXI9JHsgdGhpcy50aW1lciB9YCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGF1dG9VcGRhdGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYGF1dG8gdXBkYXRlLCBpbnRlcnZhbD0keyBUaW1lSW50ZXJ2YWxbdGhpcy5jb25maWcudGltZUludGVydmFsXSB9YCk7XG5cbiAgICAgICAgLy8gRGVmaW5lIG5vdyBhbmQgdGltZSBvZiBsYXN0IGNhbmRsZVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGxldCBsYXN0VCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxhc3RULnNldERhdGUobGFzdFQuZ2V0RGF0ZSgpIC0gMSk7IC8vIGRlZmF1bHQgdmFsdWUgaXMgbm93IG1pbnVzIDEgZGF5XG4gICAgICAgIGNvbnN0IGxhc3RJdGVtID0gdGhpcy5kYXRhU3RvcmFnZS5sYXN0O1xuICAgICAgICBpZiAobGFzdEl0ZW0pIHtcbiAgICAgICAgICAgIC8vIExhc3QgY2FuZGxlIHNob3VsZCBiZSBhbHNvIHVwZGF0ZWRcbiAgICAgICAgICAgIGxhc3RUID0gRGF0ZVV0aWxzLnN1YnN0cmFjdEludGVydmFsKGxhc3RJdGVtLnVpZC50LCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSByZXF1ZXN0XG4gICAgICAgIHRoaXMubWFrZVJlcXVlc3QoeyBzdGFydDogbGFzdFQsIGVuZDogbm93IH0sIHRoaXMuY29uZmlnLnRpbWVJbnRlcnZhbCk7XG5cbiAgICAgICAgLy8gc2NoZWR1bGUgbmV4dCBhdXRvdXBkYXRlXG4gICAgICAgIHRoaXMuc2NoZWR1bGVBdXRvdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZXJhdG9yKGZpbHRlcj86IChpdGVtOiBDYW5kbGVzdGljaykgPT4gYm9vbGVhbik6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+IHtcbiAgICAgICAgLy8gcmV0dXJuIGV2ZXJ5dGhpbmdcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoZmlsdGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9jayh1aWQ6IFVpZCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBXaGVuIHVubG9hZGluZyBkYXRhIGZyb20gbWVtb3J5IGRvIG5vdCB1bmxvYWQgc3BlY2lmaWVkIHJhbmdlLlxuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkKHVpZDogVWlkLCBjb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIC8vIEh0dHBEYXRhU291cmNlIGlnbm9yZXMgdWlkLm5cbiAgICAgICAgY29uc3QgZGF0ZVN0YXJ0ID0gdWlkLnQ7XG4gICAgICAgIGNvbnN0IGRhdGVFbmQgPSBEYXRlVXRpbHMuYWRkSW50ZXJ2YWwoZGF0ZVN0YXJ0LCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwsIGNvdW50KTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSAoY291bnQgPiAwKSA/IHsgc3RhcnQ6IGRhdGVTdGFydCwgZW5kOiBkYXRlRW5kIH0gOiB7IHN0YXJ0OiBkYXRlRW5kLCBlbmQ6IGRhdGVTdGFydCB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGFJblJhbmdlKHJhbmdlLCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIC8vIEJvdGggVUlEIGFyZSBpbmNsdXNpdmUuXG4gICAgcHVibGljIGxvYWRSYW5nZSh1aWRGaXJzdDogVWlkLCB1aWRMYXN0OiBVaWQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGF0ZUZpcnN0ID0gdWlkRmlyc3QudDtcbiAgICAgICAgY29uc3QgZGF0ZUxhc3QgPSB1aWRMYXN0LnQ7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gKGRhdGVMYXN0ID4gZGF0ZUZpcnN0KSA/IHsgc3RhcnQ6IGRhdGVGaXJzdCwgZW5kOiBkYXRlTGFzdCB9IDogeyBzdGFydDogZGF0ZUxhc3QsIGVuZDogZGF0ZUZpcnN0IH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUluUmFuZ2UocmFuZ2UsIHRoaXMuY29uZmlnLnRpbWVJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREYXRhSW5SYW5nZShyYW5nZTogSVJhbmdlPERhdGU+LCBpbnRlcnZhbDogVGltZUludGVydmFsKTogdm9pZCB7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0ZURhdGVSYW5nZShyYW5nZSk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVJbnRlcnZhbChpbnRlcnZhbCk7XG5cbiAgICAgICAgdGhpcy5tYWtlUmVxdWVzdChyYW5nZSwgaW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaW1lSW50ZXJ2YWwoaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCkge1xuICAgICAgICAvLyBzZXQgaW50ZXJ2YWwgYW5kIGNsZWFyIHN0b3JhZ2VcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5jb25maWcudGltZUludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci5jbGVhcigpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBtYWtlUmVxdWVzdChyYW5nZTogSVJhbmdlPERhdGU+LCBpbnRlcnZhbDogVGltZUludGVydmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0lnbm9yaW5nIHJlcXVlc3QgZnJvbSB0aGUgZGlzcG9zZWQgZGF0YSBzb3VyY2UuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHJlcXVlc3RcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLm1ha2VSZXF1ZXN0KHJhbmdlLCB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpO1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBmb3IgKGNvbnN0IHByb21pc2Ugb2YgcHJvbWlzZXMpIHtcbiAgICAgICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKHRoaXMub25SZXNvbHZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25SZXNvbHZlZCA9IChyZXNwb25zZTogSVJlc3BvbnNlPENhbmRsZXN0aWNrPikgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdJZ25vcmluZyByZXNwb25zZSB0byB0aGUgZGlzcG9zZWQgZGF0YSBzb3VyY2UuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgY29uc3QgdGltZUludGVydmFsID0gcmVzcG9uc2UuaW50ZXJ2YWw7IC8vdGhpcy5zdHJpbmdUb1RpbWVJbnRlcnZhbChyZXNwb25zZS5pbnRlcnZhbCk7XG4gICAgICAgICAgICBpZiAodGltZUludGVydmFsICE9PSB0aGlzLmNvbmZpZy50aW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aW1laW50ZXJ2YWwgY2hhbmdlZCBpZ25vcmUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBJZ25vcmluZyByZXF1ZXN0IHdpdGggd3JvbmcgdGltZSBpbnRlcnZhbCAke3RpbWVJbnRlcnZhbH1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgbGFzdEJlZm9yZSA9IHRoaXMuZGF0YVN0b3JhZ2UubGFzdCAhPT0gdW5kZWZpbmVkID8gdGhpcy5kYXRhU3RvcmFnZS5sYXN0LnVpZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBsYXN0QWZ0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmxhc3QgIT09IHVuZGVmaW5lZCA/IHRoaXMuZGF0YVN0b3JhZ2UubGFzdC51aWQgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHVpZEZpcnN0ID0gcmVzcG9uc2UuZGF0YVswXS51aWQ7XG4gICAgICAgICAgICBjb25zdCB1aWRMYXN0ID0gcmVzcG9uc2UuZGF0YVtyZXNwb25zZS5kYXRhLmxlbmd0aCAtIDFdLnVpZDsgLy8gbGFzdFxuICAgICAgICAgICAgY29uc3QgY291bnQgPSByZXNwb25zZS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KHVpZEZpcnN0LCB1aWRMYXN0LCBjb3VudCk7XG4gICAgICAgICAgICBhcmcubGFzdFVpZEJlZm9yZSA9IGxhc3RCZWZvcmU7XG4gICAgICAgICAgICBhcmcubGFzdFVpZEFmdGVyID0gbGFzdEFmdGVyO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYm9yZGVyVGltZS4gSXQgY2FuIG9ubHkgaW5jcmVhc2UuXG4gICAgICAgICAgICAvL3RoaXMuYm9yZGVyVGltZSA9ICh0aGlzLmJvcmRlclRpbWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmJvcmRlclRpbWUgPCB1aWRMYXN0LnQpID8gdWlkTGFzdC50IDogdGhpcy5ib3JkZXJUaW1lO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVFeHRlbnNpb25zKGFyZyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYEhUVFA6IHRyaWdnZXJpbmcgZXZlbnQgJHt1aWRGaXJzdC50LnRvSVNPU3RyaW5nKCl9LSR7dWlkTGFzdC50LnRvSVNPU3RyaW5nKCl9YCk7XG4gICAgICAgICAgICAvLyBOb3RpZnkgc3Vic2NyaWJlcnM6XG4gICAgICAgICAgICB0aGlzLmRhdGVDaGFuZ2VkRXZlbnQudHJpZ2dlcihhcmcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1ha2VEZWZhdWx0UmVhZGVyKCk6IElEYXRhUmVhZGVyRGVsZWdhdGUge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmNvbmZpZy51cmw7XG4gICAgICAgIGNvbnN0IHRpbWVJbnRlcnZhbFRvU3RyaW5nID0gdGhpcy50aW1lSW50ZXJ2YWxUb1N0cmluZztcbiAgICAgICAgcmV0dXJuICh0aW1lU3RhcnQ6IERhdGUsIHRpbWVFbmQ6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzOiBKUXVlcnlBamF4U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsOiB0aW1lSW50ZXJ2YWxUb1N0cmluZyhpbnRlcnZhbCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHRpbWVTdGFydC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBlbmREYXRlVGltZTogdGltZUVuZC50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgoc2V0dGluZ3MpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBtYWtlRGVmYXVsdFJlc29sdmVyKCk6IElEYXRhUmVzb2x2ZXJEZWxlZ2F0ZTxDYW5kbGVzdGljaz4ge1xuICAgICAgICByZXR1cm4gKHJlc3BvbnNlOiBhbnkpOiBJUmVzcG9uc2U8Q2FuZGxlc3RpY2s+ID0+IHtcbiAgICAgICAgICAgIC8vIE1hcCBpbmNvbWluZyBkYXRhIHRvIG1vZGVsXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0cyA9IHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChlbDogYW55KSA9PiB7IHJldHVybiBlbCAmJiBlbC5kYXRlOyB9KVxuICAgICAgICAgICAgICAgIC5tYXAoKGVsOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShlbC5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iajogQ2FuZGxlc3RpY2sgPSBuZXcgdGhpcy5kYXRhVHlwZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICg8YW55Pm9iaikuZGVzZXJpYWxpemUoZWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29iai51aWQgPSB0aGlzLmRhdGVUb1VpZChlbC5kYXRlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBvYmplY3RzLFxuICAgICAgICAgICAgICAgIGludGVydmFsOiByZXNwb25zZS5pbnRlcnZhbCxcbiAgICAgICAgICAgICAgICBkYXRlRnJvbTogbmV3IERhdGUocmVzcG9uc2Uuc3RhcnREYXRlVGltZSksXG4gICAgICAgICAgICAgICAgZGF0ZVRvOiBuZXcgRGF0ZShyZXNwb25zZS5lbmREYXRlVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIG1lcmdlKGRhdGE6IENhbmRsZXN0aWNrW10pIHtcblxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RCZWZvcmUgPSB0aGlzLmRhdGFTdG9yYWdlLmxhc3QgIT09IHVuZGVmaW5lZCA/IHRoaXMuZGF0YVN0b3JhZ2UubGFzdC51aWQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgbGFzdEFmdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5sYXN0ICE9PSB1bmRlZmluZWQgPyB0aGlzLmRhdGFTdG9yYWdlLmxhc3QudWlkIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBjb25zdCB1aWRGaXJzdCA9IGRhdGFbMF0udWlkO1xuICAgICAgICAgICAgY29uc3QgdWlkTGFzdCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS51aWQ7IC8vIGxhc3RcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudCh1aWRGaXJzdCwgdWlkTGFzdCwgY291bnQpO1xuICAgICAgICAgICAgYXJnLmxhc3RVaWRCZWZvcmUgPSBsYXN0QmVmb3JlO1xuICAgICAgICAgICAgYXJnLmxhc3RVaWRBZnRlciA9IGxhc3RBZnRlcjtcblxuICAgICAgICAgICAgLy8gTm90aWZ5IHN1YnNjcmliZXJzOlxuICAgICAgICAgICAgdGhpcy5kYXRlQ2hhbmdlZEV2ZW50LnRyaWdnZXIoYXJnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB0aW1lSW50ZXJ2YWxUb1N0cmluZyhpbnRlcnZhbDogVGltZUludGVydmFsKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFRpbWVJbnRlcnZhbFtpbnRlcnZhbF07XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0cmluZ1RvVGltZUludGVydmFsKGludGVydmFsOiBrZXlvZiB0eXBlb2YgVGltZUludGVydmFsKTogVGltZUludGVydmFsIHtcbiAgICAgICAgcmV0dXJuIFRpbWVJbnRlcnZhbFtpbnRlcnZhbF07XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGBkaXNwb3NlLCB0aW1lcj0keyB0aGlzLnRpbWVyIH1gKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGVuZGluZ1Byb21pc2Uge1xuICAgIC8vdWlkOiBudW1iZXI7XG4gICAgcmVzb2x2ZT86ICh2YWx1ZT86IHt9IHwgUHJvbWlzZUxpa2U8e30+fCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgLy9pbnRlcnZhbDogVGltZUludGVydmFsO1xuICAgIHJhbmdlOiBJUmFuZ2U8RGF0ZT47XG59XG5cbi8qKlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVxdWVzdE1hbmFnZXIge1xuXG4gICAgcHJpdmF0ZSB0b3RhbCA9IG5ldyBDb21wb3NpdGVSYW5nZSgpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVhZGVyOiBJRGF0YVJlYWRlckRlbGVnYXRlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzb2x2ZXI6IElEYXRhUmVzb2x2ZXJEZWxlZ2F0ZTxDYW5kbGVzdGljaz47XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHF1ZXVlOiBJUGVuZGluZ1Byb21pc2VbXSA9IFtdO1xuICAgIHByaXZhdGUgaXNSdW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdGhyb3R0bGUgPSAxMDA7IC8vIG1pbGxpc2Vjb25kc1xuXG4gICAgY29uc3RydWN0b3IocmVhZGVyOiBJRGF0YVJlYWRlckRlbGVnYXRlLCByZXNvbHZlcjogSURhdGFSZXNvbHZlckRlbGVnYXRlPENhbmRsZXN0aWNrPikge1xuICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy50b3RhbC5jbGVhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYWtlUmVxdWVzdChyYW5nZTogSVJhbmdlPERhdGU+LCBpbnRlcnZhbDogVGltZUludGVydmFsLCBmb3JjZTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxJUmVzcG9uc2U8SVRpbWVWYWx1ZT4+W10ge1xuXG4gICAgICAgIGxldCByYW5nZXMgPSBbcmFuZ2VdO1xuICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBsb2FkZWQgcmFuZ2VcbiAgICAgICAgICAgIHJhbmdlcyA9IHRoaXMudG90YWwuZGlmZihyYW5nZSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09PSAwKSB7IHJldHVybiBbXTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQ2hlY2sgdGhlIHF1ZXVlOyBmaWx0ZXIgb3V0IGludGVyc2VjdGlvbnMgd2l0aCBwZW5kaW5nIHJlcXVlc3RzLlxuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUmFuZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcmVxdWVzdGVkUmFuZ2Ugb2YgcmFuZ2VzKSB7XG5cbiAgICAgICAgICAgIGxldCByZXFTdGFydFRpbWUgPSByZXF1ZXN0ZWRSYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgICAgICBsZXQgcmVxRW5kVGltZSA9IHJlcXVlc3RlZFJhbmdlLmVuZC5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBwZW5kaW5nIHJlcXVlc3RzLCBjb21wYXJlIG5ldyByZXF1ZXN0IHRvIHRoZW0gYW5kIGV4Y2x1ZGUgb3ZlcmxhcHBpbmcgcmFuZ2VzLlxuICAgICAgICAgICAgZm9yIChjb25zdCByZXEgb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdGFydCA9IHJlcS5yYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ0VuZCA9IHJlcS5yYW5nZS5lbmQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXFTdGFydFRpbWUgPj0gcGVuZGluZ1N0YXJ0ICYmIHJlcUVuZFRpbWUgPD0gcGVuZGluZ0VuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQZW5kaW5nIHJlcXVlc3RzIGluY2x1ZGVzIG5ldyByZXF1ZXN0LiBKdXN0IGlnbm9yZSBuZXcgcmVxdWVzdC5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuW107XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXFTdGFydFRpbWUgPCBwZW5kaW5nU3RhcnQgJiYgcmVxRW5kVGltZSA+IHBlbmRpbmdTdGFydCAmJiByZXFFbmRUaW1lIDw9IHBlbmRpbmdFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxRW5kVGltZSA9IHBlbmRpbmdTdGFydDsgLy8gZXhjbHVkZSBvdmVybGFwcGluZyBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcUVuZFRpbWUgPiBwZW5kaW5nRW5kICYmIHJlcVN0YXJ0VGltZSA+PSBwZW5kaW5nU3RhcnQgJiYgcmVxU3RhcnRUaW1lIDwgcGVuZGluZ0VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXFTdGFydFRpbWUgPSBwZW5kaW5nRW5kOyAvLyBleGNsdWRlIG92ZXJsYXBwaW5nIHN0YXJ0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJlZFJhbmdlcy5wdXNoKHsgc3RhcnQ6IG5ldyBEYXRlKHJlcVN0YXJ0VGltZSksIGVuZDogbmV3IERhdGUocmVxRW5kVGltZSkgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyZWRSYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBQdXNoIHJlcXVlc3RlZCByYW5nZXMgdG8gcXVldWVcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgZm9yIChjb25zdCByZXEgb2YgZmlsdGVyZWRSYW5nZXMpIHtcblxuICAgICAgICAgICAgY29uc3QgcXVldWVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlZCwgcmVqZWN0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyByZXNvbHZlOiByZXNvbHZlZCwgcmFuZ2U6IHJlcSB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmVkLCByZWplY3RlZCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIG5ldyByZXF1ZXN0IHRvIGNvbGxlY3Rpb24gb2YgcGVuZGluZyByZXF1ZXN0c1xuXG4gICAgICAgICAgICAgICAgcXVldWVkUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMucmVhZGVyKHJlcS5zdGFydCwgcmVxLmVuZCwgaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5yZXNvbHZlcilcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3A6IElSZXNwb25zZTxDYW5kbGVzdGljaz4pID0+IHsgc2VsZi5vblN1Y2NlZWRlZChyZXNwKTsgcmVzb2x2ZWQocmVzcCk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5mYWlsKChqcVhocjogSlF1ZXJ5WEhSLCB0ZXh0U3RhdHVzOiBzdHJpbmcsIGVycm9yVGhyb3duOiBzdHJpbmcpID0+IHsgc2VsZi5vbkZhaWxlZChqcVhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pOyByZWplY3RlZChlcnJvclRocm93bik7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNC4gS2ljayBvZmYgcmVxdWVzdHMgaWYgdGhleSBhcmUgbm90IGtpY2tlZCBvZmYgeWV0XG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZW5kUmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgLy8gU2VuZCBmaXJzdCByZXF1ZXN0IGluIHF1ZXVlIGFuZCBzY2hlZHVsZSBuZXh0IG9uZVxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmdSZXF1ZXN0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHByb21pc2UucmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc29sdmUgZnVuY3Rpb24gaXMgbm90IGluaXRpYWxpemVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzY2hlZHVsZSBuZXh0IHJlcXVlc3RcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zZW5kUmVxdWVzdCwgdGhpcy50aHJvdHRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TdWNjZWVkZWQgPSAocmVzcG9uc2U6IElSZXNwb25zZTxDYW5kbGVzdGljaz4pID0+IHtcblx0XHQvLyBJZiBubyBlcnJvcnMgYXBwZW5kIHJhbmdlXG4gICAgICAgIHRoaXMudG90YWwuYXBwZW5kKHsgc3RhcnQ6IHJlc3BvbnNlLmRhdGVGcm9tLCBlbmQ6IHJlc3BvbnNlLmRhdGVUbyB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uRmFpbGVkID0gKGpxWGhyOiBKUXVlcnlYSFIsIHRleHRTdGF0dXM6IHN0cmluZywgZXJyb3JUaHJvd246IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBSZXF1ZXN0IGZhaWxlZDogJHt0ZXh0U3RhdHVzfSAke2Vycm9yVGhyb3dufWApO1xuICAgIH1cbn1cblxuY2xhc3MgTm9kZTxUPiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBkYXRhOiBULFxuICAgICAgICBwdWJsaWMgc3RhcnQ6IGJvb2xlYW4sXG4gICAgICAgIHB1YmxpYyBwcmV2PzogTm9kZTxUPixcbiAgICAgICAgcHVibGljIG5leHQ/OiBOb2RlPFQ+KSB7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlUmFuZ2Uge1xuICAgIHByaXZhdGUgc3RhcnQ6IE5vZGU8RGF0ZT4gPSBuZXcgTm9kZTxEYXRlPihuZXcgRGF0ZSgxOTAwLCAwKSwgZmFsc2UpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBzcGVjaWZpZWQgcmFuZ2UuXG4gICAgICogQHBhcmFtIHJhbmdlXG4gICAgICovXG4gICAgcHVibGljIGFwcGVuZChyYW5nZTogSVJhbmdlPERhdGU+KTogdm9pZCB7XG5cbiAgICAgICAgbGV0IFMgPSByYW5nZS5zdGFydC5nZXRUaW1lKCk7XG4gICAgICAgIGxldCBFID0gcmFuZ2UuZW5kLmdldFRpbWUoKTtcblxuICAgICAgICBsZXQgcHJldiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGN1ciA9IHRoaXMuc3RhcnQ7XG5cbiAgICAgICAgLy8gMS4gSW5zZXJ0IHJhbmdlLnN0YXJ0XG4gICAgICAgIC8vXG4gICAgICAgIGxldCBoYW5kbGVkUyA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoY3VyLm5leHQpIHtcbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICBjdXIgPSBjdXIubmV4dDtcblxuICAgICAgICAgICAgaWYgKGN1ci5zdGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFJzID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChTIDwgUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IFMsIG1vdmUgdG8gbmV4dCBwb2ludCwgZ28gdG8gaW5zZXJ0IEVcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlPERhdGU+KG5ldyBEYXRlKFMpLCB0cnVlLCBwcmV2LCBjdXIpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICBjdXIucHJldiA9IG5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyID0gbm9kZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ID0gbm9kZTsgICAgLy8gZ28gdG8gbmV4dFxuICAgICAgICAgICAgICAgICAgICAvLyBjdXIgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRTID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTID09PSBScykge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgaW5zZXJ0IFMsIG1vdmUgdG8gbmV4dCBwb2ludCBnbyB0byBpbnNlcnQgRVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXYgPSBjdXI7ICAgIC8vIGdvIHRvIG5leHRcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VyID0gY3VyLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRTID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gUyA+IFJzXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgUmUgPSBjdXIuZGF0YS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKFMgPCBSZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgaW5zZXJ0IGFueXRoaW5nLCBnbyB0byBpbnNlcnQgRVxuXG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHByZXY7IC8vIHN0ZXAgYmFja1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXYgPSBjdXI7ICAgIC8vIGdvIHRvIG5leHRcbiAgICAgICAgICAgICAgICAgICAgLy8gY3VyID0gY3VyLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRTID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTID09PSBSZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgUmUsIGdvIHRvIGluc2VydCBFLCBzdGF5IG9uIGN1cnJlbnQgcG9pbnRcblxuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBjdXIubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5uZXh0KSB7IGN1ci5uZXh0LnByZXYgPSBwcmV2OyB9XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IHByZXY7XG5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZFMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBTID4gUmVcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gSW5zZXJ0IHJhbmdlLmVuZFxuICAgICAgICAvL1xuICAgICAgICBsZXQgaGFuZGxlZEUgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGN1ci5uZXh0KSB7XG5cbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICBjdXIgPSBjdXIubmV4dDtcblxuICAgICAgICAgICAgaWYgKGN1ci5zdGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFJzID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChFIDwgUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IEUsIGZpbmlzaFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZTxEYXRlPihuZXcgRGF0ZShFKSwgZmFsc2UsIHByZXYsIGN1cik7XG4gICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5wcmV2ID0gbm9kZTtcblxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkRSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRSA9PT0gUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJzIGFuZCBmaW5pc2hcblxuICAgICAgICAgICAgICAgICAgICBwcmV2Lm5leHQgPSBjdXIubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5uZXh0KSB7IGN1ci5uZXh0LnByZXYgPSBwcmV2OyB9XG5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZEUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBFID4gUnNcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJzIGFuZCBjb250aW51ZVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXYubmV4dCA9IGN1ci5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IHByZXY7IH1cbiAgICAgICAgICAgICAgICAgICAgY3VyID0gcHJldjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IFJlID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChFIDw9IFJlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcsIGZpbmlzaFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkRSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIEUgPiBSZVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgUmUgYW5kIGNvbnRpbnVlXG5cbiAgICAgICAgICAgICAgICAgICAgcHJldi5uZXh0ID0gY3VyLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXIubmV4dCkgeyBjdXIubmV4dC5wcmV2ID0gcHJldjsgfVxuICAgICAgICAgICAgICAgICAgICBjdXIgPSBwcmV2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhc2UgMTogSWYgbm8gcmFuZ2VzIHlldCAgPT4gaW5zZXJ0IFMgYW5kIEVcbiAgICAgICAgLy8gQ2FzZSAyOiBTID4gYWxsICAgICA9PiBpbnNlcnQgUyBhbmQgRVxuICAgICAgICAvLyBDYXNlIDM6IEUgPiBsYXN0ICAgID0+IGluc2VydCBFXG5cbiAgICAgICAgaWYgKCFoYW5kbGVkUykge1xuICAgICAgICAgICAgLy8gaW5zZXJ0IFNcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZTxEYXRlPihuZXcgRGF0ZShTKSwgdHJ1ZSwgY3VyLCBjdXIubmV4dCk7XG4gICAgICAgICAgICBjdXIubmV4dCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IG5vZGU7IH1cbiAgICAgICAgICAgIGN1ciA9IG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhbmRsZWRFKSB7XG4gICAgICAgICAgICAvLyBpbnNlcnQgRVxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlPERhdGU+KG5ldyBEYXRlKEUpLCBmYWxzZSwgY3VyLCBjdXIubmV4dCk7XG4gICAgICAgICAgICBjdXIubmV4dCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAoY3VyLm5leHQpIHsgY3VyLm5leHQucHJldiA9IG5vZGU7IH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGFydC5uZXh0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgc3BlY2lmaWVkIHJhbmdlIGludGVyc2VjdHMgY29tcG9zaXRlIHJhbmdlLlxuICAgICAqIFJldHVybnMgZGlmZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0gcmFuZ2UgXG4gICAgICovXG4gICAgcHVibGljIGRpZmYocmFuZ2U6IElSYW5nZTxEYXRlPik6IElSYW5nZTxEYXRlPltdIHtcblxuICAgICAgICBjb25zdCByYW5nZXM6IFJhbmdlW10gPSBbXTtcbiAgICAgICAgbGV0IGN1clJhbmdlOiBSYW5nZXx1bmRlZmluZWQ7XG4gICAgICAgIGxldCBtb2RlID0gdHJ1ZTsgLy8gc3RhcnQsIGVuZFxuXG4gICAgICAgIGxldCBTID0gcmFuZ2Uuc3RhcnQuZ2V0VGltZSgpO1xuICAgICAgICBsZXQgRSA9IHJhbmdlLmVuZC5nZXRUaW1lKCk7XG5cbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnN0YXJ0O1xuICAgICAgICBsZXQgY3VyID0gdGhpcy5zdGFydDtcblxuICAgICAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAoY3VyLm5leHQpIHtcbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICBjdXIgPSBjdXIubmV4dDtcblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IHRydWUpIHsgLy8gbW9kZSBmb3Igc3RhcnRcblxuICAgICAgICAgICAgICAgIGlmIChjdXIuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgUnMgPSBjdXIuZGF0YS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKFMgPCBScykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyByYW5nZSwgZ28gdG8gZW5kIG1vZGVcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyUmFuZ2UgPSBuZXcgUmFuZ2UobmV3IERhdGUoUyksIG5ldyBEYXRlKFMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSBmYWxzZTsgLy8gZW5kIG1vZGVcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyID0gcHJldjsgLy8gZ28gYmFjayBvbmUgc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUyA+IFJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gUyA9PT0gUnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXIubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFJlID0gY3VyLm5leHQuZGF0YS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRSA8PSBSZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gd2hhdCdzIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUyA9IG5leHQgUmUsIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMgPSBSZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZCB0aW1lIGlzIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBSZSA9IGN1ci5kYXRhLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoUyA8IFJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTID0gUmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoRSA8IFMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJSYW5nZSA9IG5ldyBSYW5nZShuZXcgRGF0ZShTKSwgbmV3IERhdGUoUykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUyA+PSBSZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBtb2RlIGZvciBlbmRcblxuICAgICAgICAgICAgICAgIGlmIChjdXIuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgUnMgPSBjdXIuZGF0YS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEUgPD0gUnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clJhbmdlLmVuZCA9IG5ldyBEYXRlKEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKGN1clJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYW5nZSBpcyBub3QgY3JlYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIChFID4gUnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJSYW5nZS5lbmQgPSBuZXcgRGF0ZShScyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goY3VyUmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhbmdlIGlzIG5vdCBjcmVhdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBTID0gUnM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSB0cnVlOyAvLyBzdGFydCBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXIgPSBwcmV2OyAvLyBnbyBiYWNrIG9uZSBzdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFJlID0gY3VyLmRhdGEuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY29uZGl0aW9uLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgc3RhcnQ6IG5ldyBEYXRlKFMpLCBlbmQ6IG5ldyBEYXRlKEUpIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9XG59XG5cbmNsYXNzIFJhbmdlIGltcGxlbWVudHMgSVJhbmdlPERhdGU+IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHN0YXJ0OiBEYXRlLFxuICAgICAgICBwdWJsaWMgZW5kOiBEYXRlKSB7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBIdHRwRGF0YVNvdXJjZUNvbmZpZyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9EYXRhU291cmNlQ29uZmlnJztcbmltcG9ydCB7IElEYXRhUmVhZGVyRGVsZWdhdGUsIElSZXNwb25zZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBIdHRwRGF0YVNvdXJjZUNvbmZpZzxTPiBleHRlbmRzIERhdGFTb3VyY2VDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdXJsOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB0aW1lSW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCxcbiAgICAgICAgcHVibGljIHJlYWREYXRhOiBJRGF0YVJlYWRlckRlbGVnYXRlLFxuICAgICAgICBwdWJsaWMgcmVzb2x2ZURhdGE6IChyZXNwb25zZTogYW55KSA9PiBJUmVzcG9uc2U8Uz4sXG4gICAgICAgIHB1YmxpYyBwcmVjaXNpb246IG51bWJlcixcbiAgICAgICAgcHVibGljIGF1dG91cGRhdGUgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihwcmVjaXNpb24pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogSW5kaWNhdG9yRGF0YVNvdXJjZSBjbGFzcy5cbiAqL1xuLy8gaW1wb3J0IHtcbi8vICAgICAvL0FycmF5RGF0YVN0b3JhZ2UsXG4vLyAgICAgQXJyYXlJdGVyYXRvcixcbi8vICAgICBEYXRhQ2hhbmdlZEFyZ3VtZW50LFxuLy8gICAgIERhdGFTb3VyY2UsXG4vLyAgICAgRGF0YVNvdXJjZUNvbmZpZyxcbi8vICAgICBJQ29udGV4dCxcbi8vICAgICBJRGF0YUl0ZXJhdG9yLFxuLy8gICAgIElEYXRhU291cmNlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5cbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgQXJyYXlJdGVyYXRvciB9IGZyb20gJy4vQXJyYXlJdGVyYXRvcic7XG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuL0RhdGFTb3VyY2UnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZUNvbmZpZyB9IGZyb20gJy4vRGF0YVNvdXJjZUNvbmZpZyc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgSVRpbWVWYWx1ZSwgSVVpZFZhbHVlLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0ZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJSW5kaWNhdG9yIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuLyoqXG4gKiAxLXRvLTEgbWFwcGluZyB3aXRoIHNvdXJjZS5cbiAqIHVpZCB0aGUgc2FtZSBhcyBpbiBzb3VyY2UuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbmRpY2F0b3JEYXRhU291cmNlPEMgZXh0ZW5kcyBDYW5kbGVzdGljaz4gZXh0ZW5kcyBEYXRhU291cmNlIHtcblxuICAgIHByb3RlY3RlZCBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+O1xuICAgIHByb3RlY3RlZCBkYXRhU3RvcmFnZTogQXJyYXlEYXRhU3RvcmFnZTxDPjtcbiAgICAvL3ByaXZhdGUgaW5kaWNhdG9yOiBJSW5kaWNhdG9yO1xuICAgIHByb3RlY3RlZCBhZGRJbnRlcnZhbDogKGRhdGU6IERhdGUsIHRpbWVzOiBudW1iZXIpID0+IERhdGU7XG4gICAgcHJvdGVjdGVkIGNvbnRleHQ6IElDb250ZXh0O1xuXG4gICAgY29uc3RydWN0b3IgKGRhdGFUeXBlOiBuZXcoZGF0ZTogRGF0ZSkgPT4gQyxcbiAgICAgICAgICAgICAgICAgc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgIGNvbnRleHQ6IElDb250ZXh0LFxuICAgICAgICAgICAgICAgICBjb21wYXJlcj86IChsaHM6IEMsIHJoczogQykgPT4gbnVtYmVyKSB7XG5cbiAgICAgICAgc3VwZXIoZGF0YVR5cGUsIG5ldyBEYXRhU291cmNlQ29uZmlnKHNvdXJjZS5wcmVjaXNpb24pKTtcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZSA9IG5ldyBBcnJheURhdGFTdG9yYWdlPEM+KGNvbXBhcmVyIHx8IHRoaXMuZGVmYXVsdENvbXBhcmVyKTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuc291cmNlLmRhdGFDaGFuZ2VkLm9uKHRoaXMub25EYXRhU291cmNlQ2hhbmdlZCk7XG4gICAgICAgIHRoaXMuYWRkSW50ZXJ2YWwgPSBjb250ZXh0LmFkZEludGVydmFsOyAvLyBzaG91bGQgYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGNvbXB1dGluZ1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVmYXVsdENvbXBhcmVyID0gKGxoczogQywgcmhzOiBDKSA9PiB7IHJldHVybiBsaHMudWlkLmNvbXBhcmUocmhzLnVpZCk7IH07XG5cbiAgICBwdWJsaWMgZ2V0SXRlcmF0b3IoZmlsdGVyPzogKGl0ZW06IEMpID0+IGJvb2xlYW4pOiBJRGF0YUl0ZXJhdG9yPEM+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcihmaWx0ZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNvdXJjZS5kYXRhQ2hhbmdlZC5vZmYodGhpcy5vbkRhdGFTb3VyY2VDaGFuZ2VkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZCh1aWQ6IFVpZCwgY291bnQ6IG51bWJlcik6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgbG9hZFJhbmdlKHVpZEZpcnN0OiBVaWQsIHVpZExhc3Q6IFVpZCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgbG9jayh1aWQ6IFVpZCk6IHZvaWQgeyB9XG5cbiAgICBwcm90ZWN0ZWQgdHJpZ2dlckRhdGFDaGFuZ2VkID0gKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICB0aGlzLmRhdGVDaGFuZ2VkRXZlbnQudHJpZ2dlcihhcmcpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkRhdGFTb3VyY2VDaGFuZ2VkID0gKGFyZzogRGF0YUNoYW5nZWRBcmd1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRBcmcgPSB0aGlzLmNvbXB1dGUoYXJnKTtcbiAgICAgICAgaWYgKGdlbmVyYXRlZEFyZykge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRGF0YUNoYW5nZWQoZ2VuZXJhdGVkQXJnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBsYXN0IHZhbHVlcyBmcm9tIHNvdXJjZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBzdGF0aWMgZ2V0UHJldmlvdXNWYWx1ZXM8VCBleHRlbmRzIENhbmRsZXN0aWNrPihcbiAgICAgICAgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8VD4sXG4gICAgICAgIE46IG51bWJlcixcbiAgICAgICAgYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50LFxuICAgICAgICBhY2Nlc3NvcjogKGNhbmRsZTogVCkgPT4gbnVtYmVyfHVuZGVmaW5lZCk6IG51bWJlcltdIHtcblxuICAgICAgICBpZiAoIWl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBkb2VzIG5vdCBjb250YWluIHVwZGF0ZWQgZGF0YScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJyYXk6IG51bWJlcltdID0gW107XG4gICAgICAgIGl0ZXJhdG9yLnNvbWViYWNrd2FyZCgoaXRlbSwgY291bnRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiBOKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsID0gYWNjZXNzb3IoaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7IGFycmF5LnB1c2godmFsKTsgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFNraXAgY3VycmVudCBpdGVtXG4gICAgICAgIH0pO1xuICAgICAgICBhcnJheS5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGdldFByZXZpb3VzSXRlbXM8VCBleHRlbmRzIENhbmRsZXN0aWNrPihcbiAgICAgICAgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8VD4sXG4gICAgICAgIE46IG51bWJlcik6IFRbXSB7XG5cbiAgICAgICAgY29uc3QgYXJyYXk6IFRbXSA9IFtdO1xuICAgICAgICBpdGVyYXRvci5zb21lYmFja3dhcmQoKGl0ZW0sIGNvdW50ZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChjb3VudGVyID4gTikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChjb3VudGVyID4gMCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gU2tpcCBjdXJyZW50IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICAgIGFycmF5LnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbn1cbiIsIi8qKlxuICogTGluZUJyZWFrRGF0YVNvdXJjZSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmFuZ2UgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ29tcHV0ZWREYXRhU291cmNlIH0gZnJvbSAnLi9Db21wdXRlZERhdGFTb3VyY2UnO1xuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XG5pbXBvcnQgeyBJRGF0YVNvdXJjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBMaW5lQnJlYWtEYXRhU291cmNlIGV4dGVuZHMgQ29tcHV0ZWREYXRhU291cmNlPENhbmRsZXN0aWNrPiB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIHRpbWVSYW5nZTogSVJhbmdlPERhdGU+KSB7XG4gICAgICAgIHN1cGVyKHNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy50aW1lUmFuZ2UgPSB0aW1lUmFuZ2U7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBpbml0aWFsIGRhdGEgc2V0XG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBjb21wdXRlZERhdGE6IENhbmRsZXN0aWNrW10gPSBbXTtcblxuICAgICAgICBpZiAoYXJnKSB7XG5cbiAgICAgICAgICAgIC8vIEtlZXAgYWxsIHVpZCB0aGF0IGxlc3MgdGhhbiBhcmcsIGFuZCByZW1vdmUgYWxsIHRoYXQgXG4gICAgICAgICAgICBjb25zdCB0aW1lID0gYXJnLnVpZEZpcnN0LnQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5yZW1vdmVBZnRlckluY2x1c2l2ZShjID0+IGMudWlkLnQuZ2V0VGltZSgpID49IHRpbWUpO1xuXG4gICAgICAgICAgICAvLyBGaW5kIDIgb3IgMyBsYXN0IGNvbXB1dGVkIGl0ZW0uXG4gICAgICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgaWYgKGl0ZXIuZ29Ub0xhc3QoKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5wdXNoKGl0ZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXIubW92ZVByZXYoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEucHVzaChpdGVyLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5icmVha1R5cGUgPT09IEJyZWFrVHlwZS5MaW5lQnJlYWszICYmIGl0ZXIubW92ZVByZXYoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEucHVzaChpdGVyLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpbnZlcnQgYXJyYXlcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuICAgICAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBldmVyeXRoaW5nIGFuZCByZWNvbXB1dGVcblxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5jbGVhcigpO1xuXG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiB0cnVlKTsgLy8gZ28gdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVPbmUoY29tcHV0ZWREYXRhLCB0aGlzLnNvdXJjZUl0ZXJhdG9yLmN1cnJlbnQpO1xuICAgICAgICB9IHdoaWxlICh0aGlzLnNvdXJjZUl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIE1lcmdlIG5ldyBkYXRhIGFuZCBub3RpZnkgc3Vic2NyaWJlcnNcbiAgICAgICAgaWYgKGNvbXB1dGVkRGF0YS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWREYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YVswXS51aWQsXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhW2NvbXB1dGVkRGF0YS5sZW5ndGggLSAxXS51aWQsXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVPbmUoY29tcHV0ZWRBcnJheTogQ2FuZGxlc3RpY2tbXSwgc291cmNlOiBDYW5kbGVzdGljaykge1xuXG4gICAgICAgIGNvbnN0IGxhc3QgPSBjb21wdXRlZEFycmF5Lmxlbmd0aCA+IDAgPyBjb21wdXRlZEFycmF5W2NvbXB1dGVkQXJyYXkubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVE9ETzogcmVwbGFjZSB3aXRoIFwiaXNFbXB0eVwiIGZ1bmN0aW9uOlxuICAgICAgICBpZiAoIXNvdXJjZS5vIHx8ICFzb3VyY2UuYyB8fCAhc291cmNlLmggfHwgIXNvdXJjZS5sKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tcHV0ZWQ7XG4gICAgICAgIGlmIChsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGZpcnN0IGl0ZW0sIGp1c3QgY29weWluZyBmaXJzdCBjYW5kbGVzdGlja1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUsIHNvdXJjZS5jLCBzb3VyY2Uubywgc291cmNlLmgsIHNvdXJjZS5sKTtcbiAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICghbGFzdC5jIHx8ICFsYXN0Lm8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG9mIGNvbXB1dGVkIGNhbmRsZSBpcyB1bmRlZmluZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RTaWduID0gbGFzdC5jIC0gbGFzdC5vOyAvLyAtMSBkb3duIC8gKzEgdXAgLyAwIGNhbiBnbyBib3RoIHdheVxuICAgICAgICAgICAgY29uc3QgcmV2ZXJzZVZhbHVlcyA9IHRoaXMuY29tcHV0ZVJldmVyc2VWYWx1ZShjb21wdXRlZEFycmF5LCB0aGlzLnNldHRpbmdzLmJyZWFrVHlwZSA9PT0gQnJlYWtUeXBlLkxpbmVCcmVhazIgPyAyIDogMyk7XG5cbiAgICAgICAgICAgIGlmICgobGFzdFNpZ24gPj0gMCAmJiAoIHNvdXJjZS5jID4gbGFzdC5jIHx8IHNvdXJjZS5jIDwgcmV2ZXJzZVZhbHVlcy5zdGFydCApKVxuICAgICAgICAgICAgICAgIHx8IChsYXN0U2lnbiA8PSAwICYmICggc291cmNlLmMgPCBsYXN0LmMgfHwgc291cmNlLmMgPiByZXZlcnNlVmFsdWVzLmVuZCApKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlLCBzb3VyY2UuYywgbGFzdC5jLCBNYXRoLm1heChsYXN0LmMsIHNvdXJjZS5jKSwgTWF0aC5taW4obGFzdC5jLCBzb3VyY2UuYykpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVSZXZlcnNlVmFsdWUobGluZXM6IENhbmRsZXN0aWNrW10sIGNvdW50OiBudW1iZXIpOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJyYXkgaXMgZW1wdHkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1pbiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIGxldCBtYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgICBmb3IgKGxldCBpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSBsaW5lcy5sZW5ndGggLSBjb3VudCAmJiBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IDxudW1iZXI+bGluZXNbaV0uYztcbiAgICAgICAgICAgIGNvbnN0IG8gPSA8bnVtYmVyPmxpbmVzW2ldLm87XG4gICAgICAgICAgICBpZiAoYyA+IG1heCkgeyBtYXggPSBjOyB9XG4gICAgICAgICAgICBpZiAobyA+IG1heCkgeyBtYXggPSBvOyB9XG4gICAgICAgICAgICBpZiAoYyA8IG1pbikgeyBtaW4gPSBjOyB9XG4gICAgICAgICAgICBpZiAobyA8IG1pbikgeyBtaW4gPSBvOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IG1pbiwgZW5kOiBtYXggfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHRpbmdzOiBMaW5lQnJlYWtTZXR0aW5ncyA9IG5ldyBMaW5lQnJlYWtTZXR0aW5ncygpO1xuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdicmVha1R5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnYnJlYWtUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQm94JyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmJyZWFrVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBCcmVha1R5cGUuTGluZUJyZWFrMi50b1N0cmluZygpLCB0ZXh0OiAnMi1MaW5lIEJyZWFrJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IEJyZWFrVHlwZS5MaW5lQnJlYWszLnRvU3RyaW5nKCksIHRleHQ6ICczLUxpbmUgQnJlYWsnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYnJlYWtUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5icmVha1R5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5icmVha1R5cGUgPSAoYnJlYWtUeXBlICYmIGJyZWFrVHlwZS52YWx1ZSkgPyBwYXJzZUludChicmVha1R5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MuYnJlYWtUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmVudW0gQnJlYWtUeXBlIHtcbiAgICBMaW5lQnJlYWsyID0gMixcbiAgICBMaW5lQnJlYWszID0gM1xufVxuXG5jbGFzcyBMaW5lQnJlYWtTZXR0aW5ncyB7XG4gICAgcHVibGljIGJyZWFrVHlwZTogQnJlYWtUeXBlID0gQnJlYWtUeXBlLkxpbmVCcmVhazI7XG59XG4iLCIvKipcclxuICogUmFuZ2VCYXJEYXRhU291cmNlIGNsYXNzXHJcbiAqL1xyXG5pbXBvcnQgeyBBdmdUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcclxuaW1wb3J0IHsgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElSYW5nZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcbmltcG9ydCB7IENvbXB1dGVkRGF0YVNvdXJjZSB9IGZyb20gJy4vQ29tcHV0ZWREYXRhU291cmNlJztcclxuaW1wb3J0IHsgRGF0YUNoYW5nZWRBcmd1bWVudCB9IGZyb20gJy4vRGF0YUNoYW5nZWRFdmVudCc7XHJcbmltcG9ydCB7IElEYXRhU291cmNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5nZUJhckRhdGFTb3VyY2UgZXh0ZW5kcyBDb21wdXRlZERhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHtcclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCB0aW1lUmFuZ2U6IElSYW5nZTxEYXRlPikge1xyXG4gICAgICAgIHN1cGVyKHNvdXJjZSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZVJhbmdlID0gdGltZVJhbmdlO1xyXG5cclxuICAgICAgICAvLyBSZW5jbyByZXF1aXJlcyBBVFIgdG8gZGVmaW5lIG9wdGltYWwgYm94IHNpemVcclxuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uLnVuYW1lLCBuZXcgQXZnVHJ1ZVJhbmdlRXh0ZW5zaW9uKCkpO1xyXG5cclxuICAgICAgICAvLyBDb21wdXRlIGluaXRpYWwgZGF0YSBzZXRcclxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIC8vIEdldCBBVFIgZnJvbSBsYXN0IGl0ZW0gaW4gdGhlIHRpbWUgcmFuZ2UuIFRoaXMgd2lsbCBiZSBib3ggc2l6ZS5cclxuICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLnNldHRpbmdzLnJhbmdlO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1vZGUgPT09IE1vZGUuQVRSICYmIHRoaXMudGltZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSB0aGlzLnRpbWVSYW5nZS5lbmQuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAvLyBGaW5kIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyBncmVhdGVyIHRoYW4gdGltZSByYW5nZSBhbmQgbW92ZSBiYWNrXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA+IGVuZFRpbWUpXHJcbiAgICAgICAgICAgICAgICAmJiB0aGlzLnNvdXJjZUl0ZXJhdG9yLm1vdmVQcmV2KClcclxuICAgICAgICAgICAgICAgICYmIHRoaXMuc291cmNlSXRlcmF0b3IuY3VycmVudC5leHRbJ2F0ciddKSB7XHJcbiAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuc291cmNlSXRlcmF0b3IuY3VycmVudC5leHRbJ2F0ciddO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc291cmNlSXRlcmF0b3IubGFzdFxyXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0LmV4dFsnYXRyJ10pIHsgLy8gb3IgZ2V0IEFUUiBsYXN0IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zb3VyY2VJdGVyYXRvci5sYXN0LmV4dFsnYXRyJ107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coYEFUUj0ke3JhbmdlfWApO1xyXG5cclxuICAgICAgICBjb25zdCBjb21wdXRlZERhdGE6IENhbmRsZXN0aWNrW10gPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGFyZykge1xyXG5cclxuICAgICAgICAgICAgLy8gS2VlcCBhbGwgdWlkIHRoYXQgbGVzcyB0aGFuIGFyZywgYW5kIHJlbW92ZSBhbGwgdGhhdCBcclxuICAgICAgICAgICAgY29uc3QgdGltZSA9IGFyZy51aWRGaXJzdC50LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5yZW1vdmVBZnRlckluY2x1c2l2ZShjID0+IGMudWlkLnQuZ2V0VGltZSgpID49IHRpbWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gRmluZCBsYXN0IGNvbXB1dGVkIGl0ZW1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVN0b3JhZ2UubGFzdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhLnB1c2godGhpcy5kYXRhU3RvcmFnZS5sYXN0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5zb3VyY2VJdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcclxuICAgICAgICAgICAgaWYgKCFyZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZXZlcnl0aGluZyBhbmQgcmVjb21wdXRlXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiB0cnVlKTsgLy8gZ28gdG8gZmlyc3QgZWxlbWVudFxyXG4gICAgICAgICAgICBpZiAoIXJlcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU9uZShjb21wdXRlZERhdGEsIHRoaXMuc291cmNlSXRlcmF0b3IuY3VycmVudCwgcmFuZ2UpO1xyXG4gICAgICAgIH0gd2hpbGUgKHRoaXMuc291cmNlSXRlcmF0b3IubW92ZU5leHQoKSk7XHJcblxyXG4gICAgICAgIC8vIE1lcmdlIG5ldyBkYXRhIGFuZCBub3RpZnkgc3Vic2NyaWJlcnNcclxuICAgICAgICBpZiAoY29tcHV0ZWREYXRhLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWREYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YVswXS51aWQsXHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGFbY29tcHV0ZWREYXRhLmxlbmd0aCAtIDFdLnVpZCxcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXB1dGVPbmUoY29tcHV0ZWRBcnJheTogQ2FuZGxlc3RpY2tbXSwgc291cmNlOiBDYW5kbGVzdGljaywgcmFuZ2U6IG51bWJlcikge1xyXG5cclxuICAgICAgICBsZXQgbGFzdCA9IGNvbXB1dGVkQXJyYXkubGVuZ3RoID4gMCA/IGNvbXB1dGVkQXJyYXlbY29tcHV0ZWRBcnJheS5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogcmVwbGFjZSB3aXRoIFwiaXNFbXB0eVwiIGZ1bmN0aW9uOlxyXG4gICAgICAgIGlmICghc291cmNlLm8gfHwgIXNvdXJjZS5jIHx8ICFzb3VyY2UuaCB8fCAhc291cmNlLmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgQyA9IHNvdXJjZS5jO1xyXG5cclxuICAgICAgICBpZiAobGFzdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIEJ1aWxkIGEgbmV3IHJhbmdlXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcclxuICAgICAgICAgICAgY29tcHV0ZWQubyA9IHNvdXJjZS5jO1xyXG4gICAgICAgICAgICBjb21wdXRlZC5oID0gc291cmNlLmM7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBzb3VyY2UuYztcclxuICAgICAgICAgICAgLy8gQ2xvc2UgaXMgdW5kZWZpbmVkIGFzIHRoZSByYW5nZSBpcyBub3QgYnVpbHQgeWV0XHJcbiAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0LmggPT09IHVuZGVmaW5lZCB8fCBsYXN0Lm8gPT09IHVuZGVmaW5lZCB8fCBsYXN0LmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBvZiBjb21wdXRlZCBjYW5kbGUgaXMgdW5kZWZpbmVkLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyAgd2hpbGUgY2FuIGJ1aWxkIGEgbmV3IHJhbmdlXHJcbiAgICAgICAgICAgIHdoaWxlIChsYXN0LmggIT09IHVuZGVmaW5lZCAmJiBsYXN0LmwgIT09IHVuZGVmaW5lZCAmJiAoQyA8IChsYXN0LmggLSByYW5nZSkgfHwgQyA+IChsYXN0LmwgKyByYW5nZSkpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgcHJldmlvdXNcclxuICAgICAgICAgICAgICAgIGlmIChDIDwgbGFzdC5oIC0gcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LmwgPSBsYXN0LmggLSByYW5nZTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LmMgPSBsYXN0LmggLSByYW5nZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQyA+IGxhc3QubCArIHJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdC5oID0gbGFzdC5sICsgcmFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdC5jID0gbGFzdC5sICsgcmFuZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRpbWUgb2YgcHJldmlvdXNcclxuICAgICAgICAgICAgICAgIGxhc3QudWlkLnQgPSBzb3VyY2UuZGF0ZTtcclxuICAgICAgICAgICAgICAgIGxhc3QudWlkLm4gPSBjb3VudGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBuZXcgcmFuZ2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcclxuICAgICAgICAgICAgICAgIC8vY29tcHV0ZWQudWlkLm4gPSBjb3VudGVyO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubyA9IGxhc3QuYztcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBsYXN0LmM7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gbGFzdC5jO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsYXN0ID0gY29tcHV0ZWQ7XHJcbiAgICAgICAgICAgICAgICAvL2NvdW50ZXIgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSnVzdCB1cGRhdGUgSCAvIExcclxuICAgICAgICAgICAgbGFzdC51aWQudCA9IHNvdXJjZS5kYXRlO1xyXG4gICAgICAgICAgICBsYXN0LnVpZC5uID0gY291bnRlcjtcclxuICAgICAgICAgICAgbGFzdC5oID0gTWF0aC5tYXgobGFzdC5oICE9PSB1bmRlZmluZWQgPyBsYXN0LmggOiAtSW5maW5pdHksIEMpO1xyXG4gICAgICAgICAgICBsYXN0LmwgPSBNYXRoLm1pbihsYXN0LmwgIT09IHVuZGVmaW5lZCA/IGxhc3QubCA6IEluZmluaXR5LCBDKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nczogUmFuZ2VCYXJTZXR0aW5ncyA9IG5ldyBSYW5nZUJhclNldHRpbmdzKCk7XHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdtb2RlJywgbmV3IFNldHRpbmdTZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiAnbW9kZScsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTW9kZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLm1vZGUudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcclxuICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogTW9kZS5GaXhlZC50b1N0cmluZygpLCB0ZXh0OiAnRml4ZWQnfSxcclxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IE1vZGUuQVRSLnRvU3RyaW5nKCksIHRleHQ6ICdBVFInfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdyYW5nZScsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ3JhbmdlJyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdSYW5nZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnJhbmdlLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnNldHRpbmdzLm1vZGUgPT09IE1vZGUuRml4ZWRcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBncm91cDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtb2RlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5tb2RlJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tb2RlID0gKG1vZGUgJiYgbW9kZS52YWx1ZSkgPyBwYXJzZUludChtb2RlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLm1vZGU7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5yYW5nZScpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucmFuZ2UgPSAocmFuZ2UgJiYgcmFuZ2UudmFsdWUpID8gcGFyc2VJbnQocmFuZ2UudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucmFuZ2U7XHJcblxyXG4gICAgICAgIC8vIHJlY29tcHV0ZVxyXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5lbnVtIE1vZGUge1xyXG4gICAgRml4ZWQgPSAxLFxyXG4gICAgQVRSID0gMlxyXG59XHJcblxyXG5jbGFzcyBSYW5nZUJhclNldHRpbmdzIHtcclxuICAgIHB1YmxpYyBtb2RlOiBNb2RlID0gTW9kZS5GaXhlZDtcclxuICAgIHB1YmxpYyByYW5nZSA9IDEwO1xyXG59XHJcbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IEF2Z1RydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJhbmdlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENvbXB1dGVkRGF0YVNvdXJjZSB9IGZyb20gJy4vQ29tcHV0ZWREYXRhU291cmNlJztcbmltcG9ydCB7IERhdGFDaGFuZ2VkQXJndW1lbnQgfSBmcm9tICcuL0RhdGFDaGFuZ2VkRXZlbnQnO1xuaW1wb3J0IHsgSURhdGFTb3VyY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5cbmV4cG9ydCBjbGFzcyBSZW5rb0NhbmRsZSBleHRlbmRzIENhbmRsZXN0aWNrIHtcbiAgICBwdWJsaWMgdmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG59XG5cbmV4cG9ydCBjbGFzcyBSZW5rb0RhdGFTb3VyY2UgZXh0ZW5kcyBDb21wdXRlZERhdGFTb3VyY2U8UmVua29DYW5kbGU+IHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgdGltZVJhbmdlOiBJUmFuZ2U8RGF0ZT4pIHtcbiAgICAgICAgc3VwZXIoc291cmNlKTtcblxuICAgICAgICB0aGlzLnRpbWVSYW5nZSA9IHRpbWVSYW5nZTtcblxuICAgICAgICAvLyBSZW5jbyByZXF1aXJlcyBBVFIgdG8gZGVmaW5lIG9wdGltYWwgYm94IHNpemVcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKEF2Z1RydWVSYW5nZUV4dGVuc2lvbi51bmFtZSwgbmV3IEF2Z1RydWVSYW5nZUV4dGVuc2lvbigpKTtcblxuICAgICAgICAvLyBDb21wdXRlIGluaXRpYWwgZGF0YSBzZXRcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIC8vIEdldCBBVFIgZnJvbSBsYXN0IGl0ZW0gaW4gdGhlIHRpbWUgcmFuZ2UuIFRoaXMgd2lsbCBiZSBib3ggc2l6ZS5cbiAgICAgICAgbGV0IGJveFNpemUgPSB0aGlzLnNldHRpbmdzLmJveFNpemU7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmJveFR5cGUgPT09IEJveFR5cGUuQVRSICYmIHRoaXMudGltZVJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gdGhpcy50aW1lUmFuZ2UuZW5kLmdldFRpbWUoKTtcbiAgICAgICAgICAgIC8vIEZpbmQgZmlyc3QgZWxlbWVudCB0aGF0IGlzIGdyZWF0ZXIgdGhhbiB0aW1lIHJhbmdlIGFuZCBtb3ZlIGJhY2tcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZUl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA+IGVuZFRpbWUpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5zb3VyY2VJdGVyYXRvci5tb3ZlUHJldigpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LmV4dFsnYXRyJ10pIHtcbiAgICAgICAgICAgICAgICBib3hTaXplID0gdGhpcy5zb3VyY2VJdGVyYXRvci5jdXJyZW50LmV4dFsnYXRyJ107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc291cmNlSXRlcmF0b3IubGFzdFxuICAgICAgICAgICAgICAgICYmIHRoaXMuc291cmNlSXRlcmF0b3IubGFzdC5leHRbJ2F0ciddKSB7IC8vIG9yIGdldCBBVFIgbGFzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgYm94U2l6ZSA9IHRoaXMuc291cmNlSXRlcmF0b3IubGFzdC5leHRbJ2F0ciddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGBBVFI9JHtib3hTaXplfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRGF0YTogUmVua29DYW5kbGVbXSA9IFtdO1xuXG4gICAgICAgIGlmIChhcmcpIHtcblxuICAgICAgICAgICAgLy8gS2VlcCBhbGwgdWlkIHRoYXQgbGVzcyB0aGFuIGFyZywgYW5kIHJlbW92ZSBhbGwgdGhhdCBcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBhcmcudWlkRmlyc3QudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLnJlbW92ZUFmdGVySW5jbHVzaXZlKGMgPT4gYy51aWQudC5nZXRUaW1lKCkgPj0gdGltZSk7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgbGFzdCBjb21wdXRlZCBpdGVtXG4gICAgICAgICAgICAvL2NvbnN0IGxhc3QgPSB0aGlzLnN0b3JhZ2UuZmluZExhc3QoYyA9PiBjLnVpZCA8IGZpcnN0X3N1aWQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVN0b3JhZ2UubGFzdCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkRGF0YS5wdXNoKHRoaXMuZGF0YVN0b3JhZ2UubGFzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZXJ5dGhpbmcgYW5kIHJlY29tcHV0ZVxuXG4gICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLmNsZWFyKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuc291cmNlSXRlcmF0b3IuZ29UbyhpdGVtID0+IHRydWUpOyAvLyBnbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU9uZShjb21wdXRlZERhdGEsIHRoaXMuc291cmNlSXRlcmF0b3IuY3VycmVudCwgYm94U2l6ZSk7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuc291cmNlSXRlcmF0b3IubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgbmV3IGRhdGEgYW5kIG5vdGlmeSBzdWJzY3JpYmVyc1xuICAgICAgICBpZiAoY29tcHV0ZWREYXRhLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFuZ2VkQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWREYXRhWzBdLnVpZCxcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGFbY29tcHV0ZWREYXRhLmxlbmd0aCAtIDFdLnVpZCxcbiAgICAgICAgICAgICAgICBjb21wdXRlZERhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZU9uZShjb21wdXRlZEFycmF5OiBSZW5rb0NhbmRsZVtdLCBzb3VyY2U6IENhbmRsZXN0aWNrLCBib3g6IG51bWJlcikge1xuICAgICAgICAvLyAhIGlmIG5vIGNsb3NlIHByaWNlLCB0aGVuIGlnbm9yZSBpdGVtXG4gICAgICAgIC8vIEF0IGxlYXN0IG9uZSBjYW5kbGUgc2hvdWxkIGJlIGdlbmVyYXRlZCwgZXZlbiBcblxuICAgICAgICAvLyBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignXCJzb3VyY2VcIiBhcmd1bWVudCBpcyB1bmRlZmluZWQuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IGxhc3QgPSBjb21wdXRlZEFycmF5Lmxlbmd0aCA+IDAgPyBjb21wdXRlZEFycmF5W2NvbXB1dGVkQXJyYXkubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVE9ETzogcmVwbGFjZSB3aXRoIFwiaXNFbXB0eVwiIGZ1bmN0aW9uOlxuICAgICAgICBpZiAoIXNvdXJjZS5vIHx8ICFzb3VyY2UuYyB8fCAhc291cmNlLmggfHwgIXNvdXJjZS5sKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tcHV0ZWQ7XG4gICAgICAgIC8vIEdlbmVyYXRlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBuZXcgUmVua29DYW5kbGUoc291cmNlLmRhdGUsIHNvdXJjZS5jLCBzb3VyY2Uubywgc291cmNlLmgsIHNvdXJjZS5sKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGxhc3QuYyA9PT0gdW5kZWZpbmVkIHx8IGxhc3QuaCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QubyA9PT0gdW5kZWZpbmVkIHx8IGxhc3QubCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSBvZiBjb21wdXRlZCBjYW5kbGUgaXMgdW5kZWZpbmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGlmZiA9IHNvdXJjZS5jIC0gbGFzdC5jO1xuICAgICAgICAgICAgbGV0IGNoYW5nZV9kaXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChsYXN0LmMgPCBsYXN0Lm8gJiYgZGlmZiA+IDApIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VfZGlyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdC5jID4gbGFzdC5vICYmIGRpZmYgPCAwKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlX2RpciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgoIWNoYW5nZV9kaXIgJiYgTWF0aC5hYnMoZGlmZikgPj0gYm94KSB8fCAoY2hhbmdlX2RpciAmJiBNYXRoLmFicyhkaWZmKSA+PSAyICogYm94KSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWRkYm94ID0gKGNoYW5nZV9kaXIgJiYgY291bnRlciA9PT0gMCkgPyAyICogYm94IDogYm94O1xuXG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgKyAoZGlmZiA+IDAgPyAoLWFkZGJveCkgOiBhZGRib3gpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxhc3QudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdC51aWQudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdC51aWQubiA9IGNvdW50ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgbGFzdC5jID0gPG51bWJlcj5sYXN0LmMgKyAoZGlmZiA+IDAgPyBhZGRib3ggOiAoLWFkZGJveCkpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0Lm8gPSBsYXN0LmMgKyAoZGlmZiA+IDAgPyAoLWJveCkgOiBib3gpOyAvLyBkZXBlbmRzIG9uIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGxhc3QuaCA9IE1hdGgubWF4KGxhc3QubywgbGFzdC5jKTsgLy8gZGVwZW5kcyBvbiBvcGVuLCBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsYXN0LmwgPSBNYXRoLm1pbihsYXN0Lm8sIGxhc3QuYyk7IC8vIGRlcGVuZHMgb24gb3BlbiwgY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgbGFzdC52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gbmV3IFJlbmtvQ2FuZGxlKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudWlkLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnVpZC5uID0gY291bnRlcjtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IDxudW1iZXI+bGFzdC5jICsgKGRpZmYgPiAwID8gYWRkYm94IDogKC1hZGRib3gpKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubyA9IGNvbXB1dGVkLmMgKyAoZGlmZiA+IDAgPyAoLWJveCkgOiBib3gpOyAvLyBkZXBlbmRzIG9uIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBNYXRoLm1heChjb21wdXRlZC5vLCBjb21wdXRlZC5jKTsgLy8gZGVwZW5kcyBvbiBvcGVuLCBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gTWF0aC5taW4oY29tcHV0ZWQubywgY29tcHV0ZWQuYyk7IC8vIGRlcGVuZHMgb24gb3BlbiwgY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gY29tcHV0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dGluZ3M6IFJlbmNvU2V0dGluZ3MgPSBuZXcgUmVuY29TZXR0aW5ncygpO1xuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdib3hUeXBlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2JveFR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdCb3gnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuYm94VHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBCb3hUeXBlLkZpeGVkLnRvU3RyaW5nKCksIHRleHQ6ICdGaXhlZCd9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IEJveFR5cGUuQVRSLnRvU3RyaW5nKCksIHRleHQ6ICdBVFInfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnYm94U2l6ZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdib3hTaXplJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQm94IHNpemUnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuYm94U2l6ZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnNldHRpbmdzLmJveFR5cGUgPT09IEJveFR5cGUuRml4ZWRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYm94VHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UuYm94VHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmJveFR5cGUgPSAoYm94VHlwZSAmJiBib3hUeXBlLnZhbHVlKSA/IHBhcnNlSW50KGJveFR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MuYm94VHlwZTtcblxuICAgICAgICBjb25zdCBib3hTaXplID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5ib3hTaXplJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYm94U2l6ZSA9IChib3hTaXplICYmIGJveFNpemUudmFsdWUpID8gcGFyc2VJbnQoYm94U2l6ZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5ib3hTaXplO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmVudW0gQm94VHlwZSB7XG4gICAgRml4ZWQgPSAxLFxuICAgIEFUUiA9IDJcbn1cblxuY2xhc3MgUmVuY29TZXR0aW5ncyB7XG4gICAgLy9wdWJsaWMgcGVyaW9kOiBudW1iZXIgPSAyMDtcbiAgICBwdWJsaWMgYm94VHlwZTogQm94VHlwZSA9IEJveFR5cGUuRml4ZWQ7XG4gICAgcHVibGljIGJveFNpemUgPSAxMDtcbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IEFycmF5RGF0YVNvdXJjZSB9IGZyb20gJy4vQXJyYXlEYXRhU291cmNlJztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UgfSBmcm9tICcuL0FycmF5RGF0YVN0b3JhZ2UnO1xuaW1wb3J0IHsgQXJyYXlJdGVyYXRvciB9IGZyb20gJy4vQXJyYXlJdGVyYXRvcic7XG5pbXBvcnQgeyBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhQ2hhbmdlZEV2ZW50IH0gZnJvbSAnLi9EYXRhQ2hhbmdlZEV2ZW50JztcbmltcG9ydCB7IERhdGFTb3VyY2UgfSBmcm9tICcuL0RhdGFTb3VyY2UnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZUNvbmZpZyB9IGZyb20gJy4vRGF0YVNvdXJjZUNvbmZpZyc7XG5pbXBvcnQgeyBEYXRhU291cmNlRmFjdG9yeSB9IGZyb20gJy4vRGF0YVNvdXJjZUZhY3RvcnknO1xuaW1wb3J0IHsgRGF0YVNvdXJjZVJlZ2lzdGVyLCBJRGF0YVNvdXJjZVJlZ2lzdGVyIH0gZnJvbSAnLi9EYXRhU291cmNlUmVnaXN0ZXInO1xuaW1wb3J0IHsgRGF0YVR5cGUgfSBmcm9tICcuL0RhdGFUeXBlJztcbmltcG9ydCB7IENvbXBvc2l0ZVJhbmdlLCBIdHRwRGF0YVNvdXJjZSB9IGZyb20gJy4vSHR0cERhdGFTb3VyY2UnO1xuaW1wb3J0IHsgSGVpa2luQXNoaURhdGFTb3VyY2UgfSBmcm9tICcuL0hlaWtpbkFzaGlEYXRhU291cmNlJztcbmltcG9ydCB7IEh0dHBEYXRhU291cmNlQ29uZmlnIH0gZnJvbSAnLi9IdHRwRGF0YVNvdXJjZUNvbmZpZyc7XG5pbXBvcnQgeyBJbmRpY2F0b3JEYXRhU291cmNlIH0gZnJvbSAnLi9JbmRpY2F0b3JEYXRhU291cmNlJztcbmltcG9ydCB7XG4gICAgSUNvbnRleHQsXG4gICAgSURhdGFJdGVyYXRvcixcbiAgICBJRGF0YVJlYWRlckRlbGVnYXRlLFxuICAgIElEYXRhU291cmNlLFxuICAgIElEYXRhU3RvcmFnZSxcbiAgICBJSW5kaWNhdG9yLFxuICAgIElSZXNwb25zZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCB7XG4gICAgQXJyYXlJdGVyYXRvcixcbiAgICBBcnJheURhdGFTb3VyY2UsXG4gICAgQXJyYXlEYXRhU3RvcmFnZSxcbiAgICBDb21wb3NpdGVSYW5nZSxcbiAgICBEYXRhU291cmNlRmFjdG9yeSxcbiAgICBEYXRhU291cmNlUmVnaXN0ZXIsXG4gICAgSGVpa2luQXNoaURhdGFTb3VyY2UsXG4gICAgSHR0cERhdGFTb3VyY2UsXG4gICAgRGF0YUNoYW5nZWRBcmd1bWVudCxcbiAgICBEYXRhQ2hhbmdlZEV2ZW50LFxuICAgIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZyxcbiAgICBIdHRwRGF0YVNvdXJjZUNvbmZpZyxcbiAgICBJbmRpY2F0b3JEYXRhU291cmNlLFxuICAgIERhdGFUeXBlLFxuICAgIElDb250ZXh0LFxuICAgIElEYXRhSXRlcmF0b3IsXG4gICAgSURhdGFSZWFkZXJEZWxlZ2F0ZSxcbiAgICBJRGF0YVNvdXJjZSxcbiAgICBJRGF0YVNvdXJjZVJlZ2lzdGVyLFxuICAgIC8vSURhdGFTb3VyY2VVbnR5cGVkLFxuICAgIElEYXRhU3RvcmFnZSxcbiAgICBJSW5kaWNhdG9yLFxuICAgIElSZXNwb25zZVxufTtcbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBjdXJ2ZS5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUVkaXRTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZUVkaXRTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIEN1cnZlRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzdG9yZTogU2V0dGluZ1N0b3JlO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGM6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRDKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGMucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEModmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGMucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignQ3VydmUnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG4gICAgICAgIHRoaXMucGMgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2MnKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBjKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogVWlkLm1pbih0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkLCB0aGlzLnBjLnBvaW50LnVpZClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKHRoaXMucGEucG9pbnQudiwgdGhpcy5wYi5wb2ludC52LCB0aGlzLnBjLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIgJiYgYykgPyBEcmF3VXRpbHMuSVNfUE9JTlRfT05fUVVBRENVUlZFKHAsIGEsIGIsIGMsIDUpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYiB8fCBjO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYiAmJiBjKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLnF1YWRyYXRpY0N1cnZlVG8oYi54LCBiLnksIGMueCwgYy55KTtcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RWRpdFN0YXRlKCk6IElTdGF0ZUNvbnRyb2xsZXIge1xuICAgICAgICByZXR1cm4gRWRpdEN1cnZlU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3Q3VydmVTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IEN1cnZlRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgZmlyc3RYWTogSVBvaW50fHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBDdXJ2ZUZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlID0gPEN1cnZlRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmN1cnZlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFhZID0gdGhpcy5zdGFjay50b1hZKHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbFggPSBwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0Lnk7XG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocmVsWCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocmVsWSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG5cbiAgICAgICAgICAgICAgICAvLyByZWNvbXB1dGUgQlxuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLnN0YWNrLnRvWFkoeyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGEgJiYgdGhpcy5maXJzdFhZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYSwgdGhpcy5maXJzdFhZKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0gdGhpcy5zdGFjay54eVRvVmFsdWUobWlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEN1cnZlU3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdEN1cnZlU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0Q3VydmVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBDdXJ2ZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Q3VydmVGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG4gICAgcHVibGljIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ2NvbG9yJykgfHwgQ29uc3RhbnRzLkRFRkFVTFRfRk9SRUNPTE9SO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnY29sb3InLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3dpZHRoJykgfHwgMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3dpZHRoJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICApIHtcbiAgICAgICAgLy8gd3JpdGUgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBkYXRlIHJhbmdlcy5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUVkaXRTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZUVkaXRTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIERhdGVSYW5nZUZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSUNvbmZpZ3VyYWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodjogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHY7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ0RhdGUgUmFuZ2UnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnVpZCwgZW5kOiB0aGlzLnBiLnBvaW50LnVpZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC52LCBlbmQ6IHRoaXMucGIucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBuZXcgUG9pbnQoYS54LCBiLnkpO1xuICAgICAgICAgICAgY29uc3QgZCA9IG5ldyBQb2ludChiLngsIGEueSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFycm93MSA9IERyYXdVdGlscy5NSUQoYSwgYyk7XG4gICAgICAgICAgICBjb25zdCBhcnJvdzIgPSBEcmF3VXRpbHMuTUlEKGIsIGQpO1xuXG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYywgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYywgYiwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYiwgZCwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgZCwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYXJyb3cxLCBhcnJvdzIsIDUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuXG4gICAgICAgICAgICBjb25zdCBjID0gbmV3IFBvaW50KGEueCwgYi55KTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgUG9pbnQoYi54LCBhLnkpO1xuICAgICAgICAgICAgY29uc3QgYXJyb3cxID0gRHJhd1V0aWxzLk1JRChhLCBjKTtcbiAgICAgICAgICAgIGNvbnN0IGFycm93MiA9IERyYXdVdGlscy5NSUQoYiwgZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc3RvcmUud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJ3JnYmEoMTkwLCAyMzAsIDI1NSwgMC4zKScpO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KE1hdGgubWluKGEueCwgYi54KSwgTWF0aC5taW4oYS55LCBiLnkpLCBNYXRoLmFicyhiLnggLSBhLngpLCBNYXRoLmFicyhiLnkgLSBhLnkpKTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGMueCwgYy55KTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhkLngsIGQueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgYi55KTtcblxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhcnJvdzEueCwgYXJyb3cxLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhhcnJvdzIueCwgYXJyb3cyLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXREYXRlUmFuZ2VTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JlLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICB0aGlzLnN0b3JlLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc3RvcmUud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdEYXRlUmFuZ2VTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IERhdGVSYW5nZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogRGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8RGF0ZVJhbmdlRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmRhdGVyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdERhdGVSYW5nZVN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXREYXRlUmFuZ2VTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXREYXRlUmFuZ2VTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBEYXRlUmFuZ2VGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPERhdGVSYW5nZUZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGVsbGlwc2VzLlxuICovXG5cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBFbGxpcHNlRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzdG9yZTogU2V0dGluZ1N0b3JlO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGM6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGQ6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcjE6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHJhZGl1c0IoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUucmFkaXVzQjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhZGl1c0IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3JlLnJhZGl1c0IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignRWxsaXBzZScsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMucGQgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGQpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU2V0dGluZ1N0b3JlKGNvbnRhaW5lcik7XG4gICAgICAgIC8vIHJlY29tcHV0ZSBwb2ludHMgYWZ0ZXIgbG9hZGluZyBmaWd1cmVcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHBvaW50ID0gcDtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IERyYXdVdGlscy5BTkdMRShhLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYSwgYik7XG4gICAgICAgICAgICBjb25zdCByMSA9IERyYXdVdGlscy5ESVNUKGEsIGIpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHIyID0gdGhpcy5zdG9yZS5yYWRpdXNCO1xuXG4gICAgICAgICAgICAvLyB0cmFuc2ZlciB0byAoMCwwKVxuICAgICAgICAgICAgcG9pbnQgPSB7IHg6IHAueCAtIG1pZC54LCB5OiBwLnkgLSBtaWQueSB9O1xuXG4gICAgICAgICAgICAvLyByb3RhdGVcbiAgICAgICAgICAgIHBvaW50ID0geyB4OiBwb2ludC54ICogTWF0aC5jb3MoYW5nbGUpICsgcG9pbnQueSAqIE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgICB5OiAtcG9pbnQueCAqIE1hdGguc2luKGFuZ2xlKSArIHBvaW50LnkgKiBNYXRoLmNvcyhhbmdsZSkgfTtcblxuICAgICAgICAgICAgY29uc3QgcmVzID0gKHIxICE9PSAwICYmIHIyICE9PSAwKVxuICAgICAgICAgICAgICAgID8gKHBvaW50LnggKiBwb2ludC54KSAvIChyMSAqIHIxKSArIChwb2ludC55ICogcG9pbnQueSkgLyAocjIgKiByMilcbiAgICAgICAgICAgICAgICA6IDA7XG5cbiAgICAgICAgICAgIHJldHVybiByZXMgPiAwLjcgJiYgcmVzIDwgMS4zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG4gICAgICAgIC8vIGNvbnN0IGMgPSB0aGlzLnBjLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIC8vIGNvbnN0IGQgPSB0aGlzLnBkLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgcjIgPSB0aGlzLnN0b3JlLnJhZGl1c0I7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgIGlmIChhICYmIGIgJiYgcjIpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBjb21wdXRlZCBwb2ludHMnIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuXG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IERyYXdVdGlscy5BTkdMRShhLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBEcmF3VXRpbHMuRElTVChhLCBiKTtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYSwgYik7XG5cbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmVsbGlwc2UobWlkLngsIG1pZC55LCBkaXN0IC8gMiwgcjIsIGFuZ2xlLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRFbGxpcHNlU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVSYWRpdXMocDogSVBvaW50KTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgcmV0dXJuIERyYXdVdGlscy5ESVNUX1RPX0xJTkUocCwgYSwgYik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBkLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQsIHRoaXMucGQucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkLCB0aGlzLnBjLnBvaW50LnVpZCwgdGhpcy5wZC5wb2ludC51aWQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGMucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGQucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBNYXRoLm1pbih0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52LCB0aGlzLnBkLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiwgdGhpcy5wZC5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3Vic2NyaWJlKHN1YjogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYi5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYy5jaGFuZ2VkLm9uKHRoaXMub25QM2NoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wZC5jaGFuZ2VkLm9uKHRoaXMub25QNGNoYW5nZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBjLmNoYW5nZWQub2ZmKHRoaXMub25QM2NoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wZC5jaGFuZ2VkLm9mZih0aGlzLm9uUDRjaGFuZ2VkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Qb2ludENoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblAzY2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdXBkUmFkaXVzID0gdGhpcy5jb21wdXRlUmFkaXVzKHRoaXMucGMucGl4ZWwpO1xuICAgICAgICB0aGlzLnN0b3JlLnJhZGl1c0IgPSB1cGRSYWRpdXMgfHwgdGhpcy5zdG9yZS5yYWRpdXNCO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QNGNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZFJhZGl1cyA9IHRoaXMuY29tcHV0ZVJhZGl1cyh0aGlzLnBkLnBpeGVsKTtcbiAgICAgICAgdGhpcy5zdG9yZS5yYWRpdXNCID0gdXBkUmFkaXVzIHx8IHRoaXMuc3RvcmUucmFkaXVzQjtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVBvaW50cygpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoZmFsc2UpOyAvLyBwcmV2ZW50IGNoYW5nZSBldmVudHMgd2hpbGUgcmVjb21wdXRpbmdcblxuICAgICAgICAvLyBVcGRhdGUgcDMsIHA0XG4gICAgICAgIGNvbnN0IHIyID0gdGhpcy5zdG9yZS5yYWRpdXNCO1xuICAgICAgICBjb25zdCB5MSA9IHIyO1xuICAgICAgICBjb25zdCB5MiA9IC1yMjtcblxuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gRHJhd1V0aWxzLkFOR0xFKGEsIGIpO1xuICAgICAgICAgICAgY29uc3QgbWlkID0gRHJhd1V0aWxzLk1JRChhLCBiKTtcblxuICAgICAgICAgICAgLy8gcm90YXRlXG4gICAgICAgICAgICBjb25zdCByb3RwMSA9IHsgeDogeTEgKiBNYXRoLnNpbigtYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeTEgKiBNYXRoLmNvcygtYW5nbGUpIH07XG4gICAgICAgICAgICBjb25zdCByb3RwMiA9IHsgeDogeTIgKiBNYXRoLnNpbigtYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeTIgKiBNYXRoLmNvcygtYW5nbGUpIH07XG5cbiAgICAgICAgICAgIC8vIHRyYW5zZmVyXG4gICAgICAgICAgICBjb25zdCB0cDEgPSB7IHg6IHJvdHAxLnggKyBtaWQueCwgeTogcm90cDEueSArIG1pZC55IH07XG4gICAgICAgICAgICBjb25zdCB0cDIgPSB7IHg6IHJvdHAyLnggKyBtaWQueCwgeTogcm90cDIueSArIG1pZC55IH07XG5cbiAgICAgICAgICAgIHRoaXMucGMucGl4ZWwgPSB7IHg6IHRwMS54LCB5OiB0cDEueSB9O1xuICAgICAgICAgICAgdGhpcy5wZC5waXhlbCA9IHsgeDogdHAyLngsIHk6IHRwMi55IH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3RWxsaXBzZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogRWxsaXBzZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBhPzogSVBvaW50O1xuICAgIHByaXZhdGUgcGI/OiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueDtcbiAgICAgICAgY29uc3QgcmVsWSA9IHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueTtcbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShyZWxYKTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShyZWxZKTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBFbGxpcHNlRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8RWxsaXBzZUZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5lbGxpcHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMucGEgPSB7IHg6IHJlbFgsIHk6IHJlbFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBiID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMiAmJiB0aGlzLnBhICYmIHRoaXMucGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBEcmF3VXRpbHMuRElTVF9UT19MSU5FKHsgeDogcmVsWCwgeTogcmVsWSB9LCB0aGlzLnBhLCB0aGlzLnBiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnJhZGl1c0IgPSBkaXN0O1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZmlndXJlLnBvaW50Qi51aWQgPSBjb29yZFg7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5maWd1cmUucG9pbnRCLnYgPSBjb29yZFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWxYID0gcG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54O1xuICAgICAgICBjb25zdCByZWxZID0gcG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMucGIgPSB7IHg6IHJlbFgsIHk6IHJlbFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzICYmIHRoaXMucGEgJiYgdGhpcy5wYikge1xuICAgICAgICAgICAgY29uc3QgZGlzdCA9IERyYXdVdGlscy5ESVNUX1RPX0xJTkUoeyB4OiByZWxYLCB5OiByZWxZIH0sIHRoaXMucGEsIHRoaXMucGIpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucmFkaXVzQiA9IGRpc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEVsbGlwc2VTdGF0ZSBleHRlbmRzIEZpZ3VyZUVkaXRTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0RWxsaXBzZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdEVsbGlwc2VTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBFbGxpcHNlRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdW5kbz86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcblxuICAgICAgICBpZiAoc3RhY2sgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxFbGxpcHNlRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcblxuICAgICAgICAgICAgLy8gc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBTZXR0aW5nU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ2NvbG9yJykgfHwgQ29uc3RhbnRzLkRFRkFVTFRfRk9SRUNPTE9SO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnY29sb3InLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3dpZHRoJykgfHwgMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3dpZHRoJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcmFkaXVzQigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3BvaW50JykgfHwgMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHJhZGl1c0IodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncG9pbnQnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHRoaXMucmFkaXVzQiA9IHRoaXMucmFkaXVzQjtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgZmlib25hY2NpIGZhbi5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUVkaXRTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZUVkaXRTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIEZpYm9GYW5GaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ0ZpYm8gRmFuJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU2V0dGluZ1N0b3JlKGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy50aW1lUmVnaW9uID0gbmV3IFRpbWVSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFhBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRUaW1lUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbiA9IG5ldyBOdW1iZXJSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFlBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHlheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRWYWx1ZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZhbHVlUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnBhID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdhJykpO1xuICAgICAgICB0aGlzLnBiID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdiJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaW1lUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC51aWQsIGVuZDogdGhpcy5wYi5wb2ludC51aWQgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudiwgZW5kOiB0aGlzLnBiLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYilcbiAgICAgICAgICAgID8gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFtZSA9IHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0IH07XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGgxMDAgPSBiLnkgLSBhLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxID0geyB4OiBiLnggLCB5OiBhLnkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzFdIH07XG4gICAgICAgICAgICBjb25zdCBwMiA9IHsgeDogYi54ICwgeTogYS55ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVsyXSB9O1xuICAgICAgICAgICAgY29uc3QgcDMgPSB7IHg6IGIueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbM10gfTtcblxuICAgICAgICAgICAgY29uc3QgZXh0UDEgPSBEcmF3VXRpbHMuRVhURU5EKGEsIHAxLCBmcmFtZSk7XG4gICAgICAgICAgICBjb25zdCBleHRQMiA9IERyYXdVdGlscy5FWFRFTkQoYSwgcDIsIGZyYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAzID0gRHJhd1V0aWxzLkVYVEVORChhLCBwMywgZnJhbWUpO1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpOyBjYW52YXMubGluZVRvKGV4dFAxLngsIGV4dFAxLnkpO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7IGNhbnZhcy5saW5lVG8oZXh0UDIueCwgZXh0UDIueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTsgY2FudmFzLmxpbmVUbyhleHRQMy54LCBleHRQMy55KTtcblxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0Rmlib0ZhblN0YXRlLmluc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdsaW5lJyxcbiAgICAgICAgICAgIGdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgc2V0dGluZ3M6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0b3JlLmNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb2xvcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0b3JlLndpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1dpZHRoJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RvcmUuY29sb3IgPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxzdHJpbmc+KCdsaW5lLmNvbG9yJywgdGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgIHRoaXMuc3RvcmUud2lkdGggPSB2YWx1ZS5nZXRWYWx1ZU9yRGVmYXVsdDxudW1iZXI+KCdsaW5lLndpZHRoJywgdGhpcy5zdG9yZS53aWR0aCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJhd0ZpYm9GYW5TdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IEZpYm9GYW5GaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgIGxldCBmaWd1cmU6IEZpYm9GYW5GaWd1cmVDb21wb25lbnR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxGaWJvRmFuRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmZpYm9mYW4pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIHVuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RvcmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKCkpO1xuXG4gICAgICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUgPSBmaWd1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm9hcmQudHJlZUNoYW5nZWRFdnQudHJpZ2dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDEgJiYgdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRGaWJvRmFuU3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdEZpYm9GYW5TdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRGaWJvRmFuU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlndXJlPzogRmlib0ZhbkZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Rmlib0ZhbkZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcbiAgICBcbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGZpYm9uYWNjaSBsZXZlbHMuXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBGaWJvTGV2ZWxGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ0ZpYm8gTGV2ZWwnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnVpZCwgZW5kOiB0aGlzLnBiLnBvaW50LnVpZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC52LCBlbmQ6IHRoaXMucGIucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIHJldHVybiAoYSAmJiBiKVxuICAgICAgICAgICAgPyBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBhLCBiLCA1KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyYW1lID0geyB4OiB0aGlzLm9mZnNldC54LCB5OiB0aGlzLm9mZnNldC55LCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfTtcblxuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aDEwMCA9IGIueSAtIGEueTtcblxuICAgICAgICAgICAgY29uc3QgbWlueCA9IE1hdGgubWluKGIueCwgYS54KTtcbiAgICAgICAgICAgIGNvbnN0IG1heHggPSBmcmFtZS54ICsgZnJhbWUudztcbiAgICAgICAgICAgIGNvbnN0IHAxID0geyB4OiBtaW54ICwgeTogYS55ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVsxXSB9O1xuICAgICAgICAgICAgY29uc3QgcDIgPSB7IHg6IG1pbnggLCB5OiBhLnkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzJdIH07XG4gICAgICAgICAgICBjb25zdCBwMyA9IHsgeDogbWlueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbM10gfTtcblxuICAgICAgICAgICAgY29uc3QgZXh0UDEgPSB7IHg6IG1heHgsIHk6IHAxLnkgfTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAyID0geyB4OiBtYXh4LCB5OiBwMi55IH07XG4gICAgICAgICAgICBjb25zdCBleHRQMyA9IHsgeDogbWF4eCwgeTogcDMueSB9O1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpOyBjYW52YXMubGluZVRvKG1heHgsIGEueSk7IC8vIGxldmVsIDBcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocDEueCwgcDEueSk7IGNhbnZhcy5saW5lVG8oZXh0UDEueCwgZXh0UDEueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKHAyLngsIHAyLnkpOyBjYW52YXMubGluZVRvKGV4dFAyLngsIGV4dFAyLnkpO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhwMy54LCBwMy55KTsgY2FudmFzLmxpbmVUbyhleHRQMy54LCBleHRQMy55KTtcblxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0Rmlib0xldmVsU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3Rmlib0xldmVsU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvTGV2ZWxGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgIGxldCBmaWd1cmU6IEZpYm9MZXZlbEZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlID0gPEZpYm9MZXZlbEZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5maWJvbGV2ZWwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIHVuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RvcmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKCkpO1xuXG4gICAgICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUgPSBmaWd1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm9hcmQudHJlZUNoYW5nZWRFdnQudHJpZ2dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDEgJiYgdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRGaWJvTGV2ZWxTdGF0ZSBleHRlbmRzIEZpZ3VyZUVkaXRTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0Rmlib0xldmVsU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0Rmlib0xldmVsU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlndXJlPzogRmlib0xldmVsRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdW5kbz86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcblxuICAgICAgICBpZiAoc3RhY2sgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxGaWJvTGV2ZWxGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGZpYm9uYWNjaSBwcm9qZWN0aW9uLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb21tYW5kLCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVG91Y2gsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlRWRpdFN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlRWRpdFN0YXRlQmFzZSc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgRmlib1Byb2plY3Rpb25GaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYzogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEMoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYy5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qyh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYy5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdGaWJvIFByb2plY3Rpb24nLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG4gICAgICAgIHRoaXMucGMgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2MnKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBjKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogVWlkLm1pbih0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkLCB0aGlzLnBjLnBvaW50LnVpZClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKHRoaXMucGEucG9pbnQudiwgdGhpcy5wYi5wb2ludC52LCB0aGlzLnBjLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYiAmJiBjKSB7XG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBiLCBjLCA1KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5wYy5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiIHx8IGM7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZyYW1lID0geyB4OiB0aGlzLm9mZnNldC54LCB5OiB0aGlzLm9mZnNldC55LCB3OiB0aGlzLnNpemUud2lkdGgsIGg6IHRoaXMuc2l6ZS5oZWlnaHQgfTtcblxuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5wYy5nZXRYWSgpO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYiAmJiAhYykge1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgYi55KTtcbiAgICAgICAgfSBlbHNlIGlmIChhICYmIGIgJiYgYykge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoMTAwID0gYi55IC0gYS55O1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gYy54O1xuICAgICAgICAgICAgY29uc3QgbWF4eCA9IGZyYW1lLnggKyBmcmFtZS53O1xuICAgICAgICAgICAgY29uc3QgYmFzZXkgPSBjLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxID0geyB4OiB4ICwgeTogYmFzZXkgKyBsZW5ndGgxMDAgKiBDb25zdGFudHMuRklCT19QRVJDRU5UQUdFWzFdIH07XG4gICAgICAgICAgICBjb25zdCBwMiA9IHsgeDogeCAsIHk6IGJhc2V5ICsgbGVuZ3RoMTAwICogQ29uc3RhbnRzLkZJQk9fUEVSQ0VOVEFHRVsyXSB9O1xuICAgICAgICAgICAgY29uc3QgcDMgPSB7IHg6IHggLCB5OiBiYXNleSArIGxlbmd0aDEwMCAqIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbM10gfTtcblxuICAgICAgICAgICAgY29uc3QgZXh0UDEgPSB7IHg6IG1heHgsIHk6IHAxLnkgfTtcbiAgICAgICAgICAgIGNvbnN0IGV4dFAyID0geyB4OiBtYXh4LCB5OiBwMi55IH07XG4gICAgICAgICAgICBjb25zdCBleHRQMyA9IHsgeDogbWF4eCwgeTogcDMueSB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhjLngsIGMueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYy54LCBjLnkpOyBjYW52YXMubGluZVRvKG1heHgsIGMueSk7IC8vIGxldmVsIDBcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocDEueCwgcDEueSk7IGNhbnZhcy5saW5lVG8oZXh0UDEueCwgZXh0UDEueSk7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKHAyLngsIHAyLnkpOyBjYW52YXMubGluZVRvKGV4dFAyLngsIGV4dFAyLnkpO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhwMy54LCBwMy55KTsgY2FudmFzLmxpbmVUbyhleHRQMy54LCBleHRQMy55KTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0UGl0Y2hmb3JrU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3Rmlib1Byb2plY3Rpb25TdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IEZpYm9Qcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gMikge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlID0gPEZpYm9Qcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmZpYm9wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAxICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAyICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdFBpdGNoZm9ya1N0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRQaXRjaGZvcmtTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRQaXRjaGZvcmtTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8Rmlib1Byb2plY3Rpb25GaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGZpYm9uYWNjaSB0aW1lIHByb2plY3Rpb24uXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmNsYXNzIExpbmUge1xuICAgIGNvbnN0cnVjdG9yKHVpZDogVWlkLCBwZXJjZW50YWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy51aWQgPSB1aWQ7XG4gICAgICAgIHRoaXMucGVyY2VudGFnZSA9IHBlcmNlbnRhZ2U7XG4gICAgfVxuICAgIHB1YmxpYyB1aWQ6IFVpZDtcbiAgICBwdWJsaWMgcGVyY2VudGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzdG9yZTogU2V0dGluZ1N0b3JlO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBsaW5lczogTGluZVtdID0gW107XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdGaWJvIFRpbWUgUHJvamVjdGlvbicsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaW1lUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC51aWQsIGVuZDogdGhpcy5wYi5wb2ludC51aWQgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudiwgZW5kOiB0aGlzLnBiLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYilcbiAgICAgICAgICAgID8gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFtZSA9IHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0IH07XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBtaW54ID0gTWF0aC5taW4oYS54LCBiLngpO1xuICAgICAgICAgICAgY29uc3QgbWF4eCA9IE1hdGgubWluKGEueCwgYi54KTtcblxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc3RvcmUud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiB0aGlzLmxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMudGF4aXMudG9YKGxpbmUudWlkKTtcbiAgICAgICAgICAgICAgICBpZiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKHgsIGZyYW1lLnkpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKHgsIGZyYW1lLnkgKyBmcmFtZS5oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRGaWJvVGltZVByb2plY3Rpb25TdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JlLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICB0aGlzLnN0b3JlLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc3RvcmUud2lkdGgpO1xuXG4gICAgICAgIC8vIHJlcmVuZGVyXG4gICAgICAgIC8vdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3Vic2NyaWJlKHN1YjogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYi5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUxpbmVzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVMaW5lcygpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoZmFsc2UpOyAvLyBwcmV2ZW50IGNoYW5nZSBldmVudHMgd2hpbGUgcmVjb21wdXRpbmdcblxuICAgICAgICB0aGlzLmxpbmVzID0gW107XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAmJiB0aGlzLnBiLnBvaW50LnVpZCkge1xuXG4gICAgICAgICAgICBjb25zdCB1aWRTdGFydCA9IHRoaXMucGEucG9pbnQudWlkLmNvbXBhcmUodGhpcy5wYi5wb2ludC51aWQpIDw9IDAgPyB0aGlzLnBhLnBvaW50LnVpZCA6IHRoaXMucGIucG9pbnQudWlkO1xuICAgICAgICAgICAgY29uc3QgdWlkRW5kID0gdGhpcy5wYS5wb2ludC51aWQuY29tcGFyZSh0aGlzLnBiLnBvaW50LnVpZCkgPD0gMCA/IHRoaXMucGIucG9pbnQudWlkIDogdGhpcy5wYS5wb2ludC51aWQ7XG5cbiAgICAgICAgICAgIGxldCBkaXN0MTAwID0gdGhpcy50YXhpcy5kaXN0KHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCk7XG4gICAgICAgICAgICBpZiAoZGlzdDEwMCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZGlzdDEwMCA9IE1hdGguYWJzKGRpc3QxMDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNhbnRhZ2UgPSBbXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbMV0sXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbMl0sXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbM10sXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5GSUJPX1BFUkNFTlRBR0VbNl1cbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwZXJjIG9mIHBlcmNhbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBNYXRoLmZsb29yKGRpc3QxMDAgKiBwZXJjKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdWlkID0gdGhpcy50YXhpcy5hZGQodWlkU3RhcnQsIHNoaWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBMaW5lKHVpZCwgcGVyYykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUgZXh0ZW5kcyBGaWd1cmVTdGF0ZUJhc2Uge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJvYXJkPzogSUNoYXJ0Qm9hcmQ7XG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogRmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8Rmlib1RpbWVQcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLmZpYm90aW1lcHJvamVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdEZpYm9UaW1lUHJvamVjdGlvblN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRGaWJvVGltZVByb2plY3Rpb25TdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRGaWJvVGltZVByb2plY3Rpb25TdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBGaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPEZpYm9UaW1lUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgY29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdjb2xvcicpIHx8IENvbnN0YW50cy5ERUZBVUxUX0ZPUkVDT0xPUjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ2NvbG9yJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCd3aWR0aCcpIHx8IDE7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCd3aWR0aCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgICAgIC8vIHdyaXRlIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgR2FubiBmYW4uXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmNsYXNzIExpbmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY29mZjogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdGV4dDogc3RyaW5nXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgR2FubkZhbkZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSUNvbmZpZ3VyYWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHJpdmF0ZSBsaW5lczogUmVhZG9ubHlBcnJheTxMaW5lPiA9IFtcbiAgICAgICAgbmV3IExpbmUoMC4xMjUsICc4LzEnKSxcbiAgICAgICAgbmV3IExpbmUoMC4yNSwgJzQvMScpLFxuICAgICAgICBuZXcgTGluZSgwLjMzMzMzLCAnMy8xJyksXG4gICAgICAgIG5ldyBMaW5lKDAuNSwgJzIvMScpLFxuICAgICAgICBuZXcgTGluZSgxLCAnMS8xJyksXG4gICAgICAgIG5ldyBMaW5lKDIsICcxLzInKSxcbiAgICAgICAgbmV3IExpbmUoMywgJzEvMycpLFxuICAgICAgICBuZXcgTGluZSg0LCAnMS80JyksXG4gICAgICAgIG5ldyBMaW5lKDgsICcxLzgnKVxuICAgIF07XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYi5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdHYW5uIEZhbicsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudWlkLCBlbmQ6IHRoaXMucGIucG9pbnQudWlkIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnYsIGVuZDogdGhpcy5wYi5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIpXG4gICAgICAgICAgICA/IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoMTAwID0gYi55IC0gYS55O1xuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgdGhpcy5saW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB7IHg6IGIueCAsIHk6IGEueSArIGxlbmd0aDEwMCAqIGxpbmUuY29mZiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IERyYXdVdGlscy5FWFRFTkQoYSwgcCwgZnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhleHQueCwgZXh0LnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRHYW5uRmFuU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcblxuICAgICAgICAvLyByZXJlbmRlclxuICAgICAgICAvL3RoaXMuY29udGV4dC5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3R2FubkZhblN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogR2FubkZhbkZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBHYW5uRmFuRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8R2FubkZhbkZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5nYW5uZmFuKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAxICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0R2FubkZhblN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRHYW5uRmFuU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0R2FubkZhblN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IEdhbm5GYW5GaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPEdhbm5GYW5GaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIGhvcml6b250YWwgbGluZXMuXG4gKi9cblxuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb29yZHNDb252ZXJ0ZXIsIElNb3VzZSwgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVG91Y2gsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSB7XG4gICAgcHJpdmF0ZSBwOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50KCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucC5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50KHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnAucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignSG9yaXpvbnRhbCBMaW5lJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU2V0dGluZ1N0b3JlKGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5wID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdwJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wLnNoaWZ0KGR4LCBkeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICghdGhpcy5wLnBvaW50LnVpZCB8fCAhdGhpcy5wLnBvaW50LnYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC8vIFRPRE86IENhbiBiZSBzdG9yZWQgd2hlbiBjb29yZHMgYXJlIGNoYW5nZWRcbiAgICAgICAgLy8gY29uc3QgYXggPSB0aGlzLmNvb3Jkcy50b1godGhpcy5wYS5wb2ludC50ID09PSB1bmRlZmluZWQgPyA8c3RyaW5nPnRoaXMucGEucG9pbnQudWlkIDogdGhpcy5wYS5wb2ludC50KTtcbiAgICAgICAgLy8gY29uc3QgYnggPSB0aGlzLmNvb3Jkcy50b1godGhpcy5wYi5wb2ludC50ID09PSB1bmRlZmluZWQgPyA8c3RyaW5nPnRoaXMucGIucG9pbnQudWlkIDogdGhpcy5wYi5wb2ludC50KTtcblxuICAgICAgICBjb25zdCBwb2ludHkgPSB0aGlzLnlheGlzLnRvWCh0aGlzLnAucG9pbnQudik7XG4gICAgICAgIC8vIGNvbnN0IGJ5ID0gdGhpcy5jb29yZHMudG9ZKHRoaXMucGIucG9pbnQudik7XG5cbiAgICAgICAgcmV0dXJuIHAueSA+PSBwb2ludHkgLSAzICYmIHAueSA8PSBwb2ludHkgKyAzO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnAucG9pbnQudWlkICYmIHRoaXMucC5wb2ludC52KSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLnlheGlzLnRvWCh0aGlzLnAucG9pbnQudik7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKDAsIHkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh0aGlzLnNpemUud2lkdGgsIHkpO1xuXG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRIb3Jpem9udGFsTGluZVN0YXRlLmluc3RhbmNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdIb3Jpem9udGFsTGluZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogSG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuXG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogSG9yaXpvbnRhbExpbmVGaWd1cmVDb21wb25lbnR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5obGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludCA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7IH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0SG9yaXpvbnRhbExpbmVTdGF0ZSBleHRlbmRzIEZpZ3VyZUVkaXRTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0SG9yaXpvbnRhbExpbmVTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRIb3Jpem9udGFsTGluZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IEhvcml6b250YWxMaW5lRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdW5kbz86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcblxuICAgICAgICBpZiAoc3RhY2sgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgY29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdjb2xvcicpIHx8IENvbnN0YW50cy5ERUZBVUxUX0ZPUkVDT0xPUjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ2NvbG9yJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCd3aWR0aCcpIHx8IDE7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCd3aWR0aCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgICAgIC8vIHdyaXRlIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICB9XG59XG4iLCIvKipcbiAqIENsYXNzZXMgZm9yIGRyYXdpbmcgbGluZXMuXG4gKi9cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJU3RhdGVmdWwsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUVkaXRTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZUVkaXRTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIExpbmVGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ1RyZW5kIExpbmUnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnRpbWVSZWdpb24gPSBuZXcgVGltZVJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WEFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgdGF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFRpbWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aW1lUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uID0gbmV3IE51bWJlclJlZ2lvbk1hcmtlcih0aGlzLmFyZWEuZ2V0WUFyZWEoKSwgdGhpcy5vZmZzZXQsIHRoaXMuc2l6ZSwgeWF4aXMsIHNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMucGEgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2EnKSk7XG4gICAgICAgIHRoaXMucGIgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ2InKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBhKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBiKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiB0aGlzLnBhLnBvaW50LnVpZCwgZW5kOiB0aGlzLnBiLnBvaW50LnVpZCB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC52LCBlbmQ6IHRoaXMucGIucG9pbnQudiB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5nZXRYWSgpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIHJldHVybiAoYSAmJiBiKVxuICAgICAgICAgICAgPyBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBhLCBiLCA1KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhID0gdGhpcy5wYS5zaGlmdChkeCwgZHkpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5wYi5zaGlmdChkeCwgZHkpO1xuICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRMaW5lU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3TGluZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogTGluZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogTGluZUZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlID0gPExpbmVGaWd1cmVDb21wb25lbnQ+c3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUubGluZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdExpbmVTdGF0ZSBleHRlbmRzIEZpZ3VyZUVkaXRTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0TGluZVN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdExpbmVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBMaW5lRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdW5kbz86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcblxuICAgICAgICBpZiAoc3RhY2sgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxMaW5lRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcblxuICAgICAgICAgICAgLy8gc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBTZXR0aW5nU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ2NvbG9yJykgfHwgQ29uc3RhbnRzLkRFRkFVTFRfRk9SRUNPTE9SO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnY29sb3InLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3dpZHRoJykgfHwgMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3dpZHRoJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICApIHtcbiAgICAgICAgLy8gd3JpdGUgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBPSExDIHByb2plY3Rpb24uXG4gKi9cbmltcG9ydCB7IENhbnZhc1dyYXBwZXIgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElTb3VyY2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBPaGxjUHJvakZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSUNvbmZpZ3VyYWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBjOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgaGhsbDogQ2FuZGxlc3RpY2t8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QygpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBjLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRDKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBjLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lcixcbiAgICAgICAgcHJpdmF0ZSBzb3VyY2U/OiBJU291cmNlXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignT0hMQyBQcm9qZWN0aW9uJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU2V0dGluZ1N0b3JlKGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy50aW1lUmVnaW9uID0gbmV3IFRpbWVSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFhBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRUaW1lUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbiA9IG5ldyBOdW1iZXJSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFlBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHlheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRWYWx1ZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZhbHVlUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnBhID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdhJykpO1xuICAgICAgICB0aGlzLnBiID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdiJykpO1xuICAgICAgICB0aGlzLnBjID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdjJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHZhbHVlcyBhZnRlciBsb2FkaW5nIGZpZ3VyZXNcbiAgICAgICAgdGhpcy51cGRhdGVISExMKCk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRpbWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucGIucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC51aWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogVWlkLm1pbih0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkLCB0aGlzLnBjLnBvaW50LnVpZClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC52ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYy5wb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKHRoaXMucGEucG9pbnQudiwgdGhpcy5wYi5wb2ludC52LCB0aGlzLnBjLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgcmV0dXJuIChhICYmIGIgJiYgYylcbiAgICAgICAgICAgID8gKERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBiLCBjLCA1KVxuICAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYywgYSwgNSkpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGIgfHwgYztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFtZSA9IHsgeDogdGhpcy5vZmZzZXQueCwgeTogdGhpcy5vZmZzZXQueSwgdzogdGhpcy5zaXplLndpZHRoLCBoOiB0aGlzLnNpemUuaGVpZ2h0IH07XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSB0aGlzLnN0b3JlLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgZnJhbWUueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGEueCwgZnJhbWUueSArIGZyYW1lLmgpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGIueCwgZnJhbWUueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGIueCwgZnJhbWUueSArIGZyYW1lLmgpO1xuXG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYy54LCBmcmFtZS55KTtcbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKGMueCwgZnJhbWUueSArIGZyYW1lLmgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWlueCA9IE1hdGgubWluKGEueCwgYi54KTtcbiAgICAgICAgICAgIGxldCBtYXh4ID0gTWF0aC5tYXgoYS54LCBiLngsIGMgPyBjLnggOiAtSW5maW5pdHkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGhsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhobGwubykgeyB0aGlzLmhsaW5lKGNhbnZhcywgbWlueCwgdGhpcy55YXhpcy50b1godGhpcy5oaGxsLm8pLCBtYXh4IC0gbWlueCk7IH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oaGxsLmMpIHsgdGhpcy5obGluZShjYW52YXMsIG1pbngsIHRoaXMueWF4aXMudG9YKHRoaXMuaGhsbC5jKSwgbWF4eCAtIG1pbngpOyB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGhsbC5oKSB7IHRoaXMuaGxpbmUoY2FudmFzLCBtaW54LCB0aGlzLnlheGlzLnRvWCh0aGlzLmhobGwuaCksIG1heHggLSBtaW54KTsgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhobGwubCkgeyB0aGlzLmhsaW5lKGNhbnZhcywgbWlueCwgdGhpcy55YXhpcy50b1godGhpcy5oaGxsLmwpLCBtYXh4IC0gbWlueCk7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGxpbmUoY2FudmFzOiBDYW52YXNXcmFwcGVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgbDogbnVtYmVyKSB7XG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIGNhbnZhcy5saW5lVG8oeCArIGwsIHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0T2hsY1Byb2pTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JlLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICB0aGlzLnN0b3JlLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc3RvcmUud2lkdGgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3Vic2NyaWJlKHN1YjogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9uKHRoaXMub25Qb2ludEFDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGIuY2hhbmdlZC5vbih0aGlzLm9uUG9pbnRCQ2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBjLmNoYW5nZWQub24odGhpcy5vblBvaW50Q0NoYW5nZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYS5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRBQ2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBiLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludEJDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGMuY2hhbmdlZC5vZmYodGhpcy5vblBvaW50Q0NoYW5nZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblBvaW50QUNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50UG9pbnRMYXN0KHRoaXMucGEpO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRQb2ludCh0aGlzLnBhLCB1bmRlZmluZWQsIHRoaXMucGIucG9pbnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhITEwoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRCQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRQb2ludExhc3QodGhpcy5wYik7XG4gICAgICAgIHRoaXMuY29uc3RyYWludFBvaW50KHRoaXMucGIsIHRoaXMucGEucG9pbnQsIHRoaXMucGMucG9pbnQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhITEwoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRDQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoZmFsc2UpO1xuICAgICAgICB0aGlzLmNvbnN0cmFpbnRQb2ludCh0aGlzLnBjLCB0aGlzLnBiLnBvaW50LCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RyYWludFBvaW50KHA6IFBvaW50RmlndXJlQ29tcG9uZW50LCBwZnJvbT86IElDaGFydFBvaW50LCBwdG8/OiBJQ2hhcnRQb2ludCkge1xuICAgICAgICBpZiAocGZyb20gJiYgcC5wb2ludC51aWQgJiYgcGZyb20udWlkICYmIHAucG9pbnQudWlkLmNvbXBhcmUocGZyb20udWlkKSA8IDApIHtcbiAgICAgICAgICAgIHAucG9pbnQgPSB7IHVpZDogcGZyb20udWlkLCB2OiBwLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHRvICYmIHAucG9pbnQudWlkICYmIHB0by51aWQgJiYgcC5wb2ludC51aWQuY29tcGFyZShwdG8udWlkKSA+IDApIHtcbiAgICAgICAgICAgIHAucG9pbnQgPSB7IHVpZDogcHRvLnVpZCwgdjogcC5wb2ludC52IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN0cmFpbnRQb2ludExhc3QocDogUG9pbnRGaWd1cmVDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5zb3VyY2UuZ2V0TGFzdENhbmRsZSgpO1xuICAgICAgICAgICAgaWYgKGxhc3QgJiYgcC5wb2ludC51aWQgJiYgcC5wb2ludC51aWQuY29tcGFyZShsYXN0LnVpZCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcC5wb2ludCA9IHsgdWlkOiBsYXN0LnVpZCwgdjogcC5wb2ludC52IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUhITEwoKSB7XG4gICAgICAgIHRoaXMuaGhsbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuc291cmNlICYmIHRoaXMucGEucG9pbnQudWlkICYmIHRoaXMucGIucG9pbnQudWlkKSB7XG4gICAgICAgICAgICB0aGlzLmhobGwgPSB0aGlzLnNvdXJjZS5nZXRISExMKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3T2hsY1Byb2pTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IE9obGNQcm9qRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPiAyKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuc3RhY2s7XG4gICAgICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgICAgIGxldCBmaWd1cmU6IE9obGNQcm9qRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8T2hsY1Byb2pGaWd1cmVDb21wb25lbnQ+c3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUub2hsY3Byb2opO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIHVuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RvcmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKCkpO1xuXG4gICAgICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUgPSBmaWd1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRBID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm9hcmQudHJlZUNoYW5nZWRFdnQudHJpZ2dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDEgJiYgdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDIgJiYgdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2sgfHwgIXRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAoY29vcmRYICYmIGNvb3JkWSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QyA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRPaGxjUHJvalN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRPaGxjUHJvalN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdE9obGNQcm9qU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlndXJlPzogT2hsY1Byb2pGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPE9obGNQcm9qRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcblxuICAgICAgICAgICAgLy8gc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBTZXR0aW5nU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ2NvbG9yJykgfHwgQ29uc3RhbnRzLkRFRkFVTFRfRk9SRUNPTE9SO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnY29sb3InLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3dpZHRoJykgfHwgMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3dpZHRoJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICApIHtcbiAgICAgICAgLy8gd3JpdGUgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyBwYXRoLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb21tYW5kLCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVG91Y2gsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFN0b3JlQXJyYXksIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJUmFuZ2UsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBQYXRoRmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzdG9yZTogU2V0dGluZ1N0b3JlO1xuICAgIHByaXZhdGUgcDogUG9pbnRGaWd1cmVDb21wb25lbnRbXSA9IFtdO1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSBfY2xvc2VkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBwb2ludHNTdG9yZTogU3RvcmVBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBwcml2YXRlIGNoYXJ0U2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignUGF0aCcsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgY2hhcnRTZXR0aW5ncywgdGhpcy5nZXRUaW1lUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbiA9IG5ldyBOdW1iZXJSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFlBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHlheGlzLCBjaGFydFNldHRpbmdzLCB0aGlzLmdldFZhbHVlUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVSZWdpb24pO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgcG9pbnRzXG4gICAgICAgIHRoaXMucG9pbnRzU3RvcmUgPSBjb250YWluZXIuZ2V0QXJyYXlQcm9wZXJ0eSgncG9pbnRzJyk7XG4gICAgICAgIGZvciAoY29uc3QgcFN0b3JlIG9mIHRoaXMucG9pbnRzU3RvcmUuYXNBcnJheSgpKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydFBvaW50KHBTdG9yZSk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7IC8vIGZvciBsb2FkZWQgZmlndXJlIHNldCBjbG9zZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjbG9zZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9zZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjbG9zZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fY2xvc2VkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFBvaW50KHVpZDogVWlkLCB2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcG9pbnRDb250YWluZXIgPSB0aGlzLnBvaW50c1N0b3JlLmFkZEl0ZW0oKTtcbiAgICAgICAgY29uc3QgcGYgPSB0aGlzLmluc2VydFBvaW50KHBvaW50Q29udGFpbmVyKTtcbiAgICAgICAgcGYucG9pbnQgPSB7IHVpZDogdWlkLCB2OiB2IH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnNlcnRQb2ludChjb250YWluZXI6IFN0b3JlQ29udGFpbmVyKTogUG9pbnRGaWd1cmVDb21wb25lbnQge1xuICAgICAgICBjb25zdCBwZiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudCh0aGlzLmFyZWEsIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRoaXMuY2hhcnRTZXR0aW5ncywgdGhpcy50YXhpcywgdGhpcy55YXhpcywgY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5wLnB1c2gocGYpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHBmKTtcbiAgICAgICAgcmV0dXJuIHBmO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQb2ludChpbmRleDogbnVtYmVyKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMucC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBbaW5kZXhdLnBvaW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCBvdXQgb2YgcmFuZ2VzICR7aW5kZXh9LiBMZW5ndGggPSAke3RoaXMucC5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0UG9pbnQoaW5kZXg6IG51bWJlciwgdjogSUNoYXJ0UG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnAubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBbaW5kZXhdLnBvaW50ID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggb3V0IG9mIHJhbmdlcyAke2luZGV4fS4gTGVuZ3RoID0gJHt0aGlzLnAubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZVBvaW50KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnAubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBzdG9yZSBhbmQgZnJvbSBwb250cyBhcnJheVxuICAgICAgICAgICAgdGhpcy5wb2ludHNTdG9yZS5yZW1vdmVJdGVtKGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLnAuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQocmVtb3ZlZFswXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnAubGVuZ3RoO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpOiBJUmFuZ2U8VWlkPnx1bmRlZmluZWQgPT4ge1xuICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBtaW46IFVpZHx1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgbWF4OiBVaWR8dW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0aGlzLnAuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdWlkID0gdmFsdWUucG9pbnQudWlkO1xuICAgICAgICAgICAgICAgIGlmICh1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gbWluID8gKG1pbi5jb21wYXJlKHVpZCkgPD0gMCA/IG1pbiA6IHVpZCkgOiB1aWQ7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IG1heCA/IChtYXguY29tcGFyZSh1aWQpID49IDAgPyBtYXggOiB1aWQpIDogdWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKG1pbiAmJiBtYXgpID8geyBzdGFydDogbWluLCBlbmQ6IG1heCB9IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRWYWx1ZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpOiBJUmFuZ2U8bnVtYmVyPnx1bmRlZmluZWQgPT4ge1xuICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBtaW46IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgbWF4OiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0aGlzLnAuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHZhbHVlLnBvaW50LnY7XG4gICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gbWluID8gKG1pbiA8PSB2ID8gbWluIDogdikgOiB2O1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBtYXggPyAobWF4ID49IHYgPyBtYXggOiB2KSA6IHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiAobWluICYmIG1heCkgPyB7IHN0YXJ0OiBtaW4sIGVuZDogbWF4IH0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjdXI6IElQb2ludHx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBwcmV2OiBJUG9pbnR8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIENoZWNrIGZpcnN0IGxhc3RcbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5wLnNvbWUodmFsdWUgPT4ge1xuICAgICAgICAgICAgY3VyID0gdmFsdWUuZ2V0WFkoKTtcbiAgICAgICAgICAgIGlmIChjdXIgJiYgcHJldikge1xuICAgICAgICAgICAgICAgIGlmIChEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBjdXIsIHByZXYsIDUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrIGxhc3QgbGluZVxuICAgICAgICBpZiAoIWhpdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLnBbMF0uZ2V0WFkoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyICYmIGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBmaXJzdCwgY3VyLCA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuICAgICAgICB0aGlzLnZhbHVlUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy50aW1lUmVnaW9uLnZpc2libGUgPSBzZWxlY3RlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucC5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHBvaW50LnNoaWZ0KGR4LCBkeSkgfHwgcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc3RvcmUud2lkdGg7XG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcblxuICAgICAgICBsZXQgcHJldjogSVBvaW50fHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VyID0gdmFsdWUuZ2V0WFkoKTtcbiAgICAgICAgICAgIGlmIChjdXIgJiYgcHJldikge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oY3VyLngsIGN1ci55KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhjdXIueCwgY3VyLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldiA9IGN1cjtcbiAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRQYXRoU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3UGF0aFN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogUGF0aEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGZpcnN0WFk/OiBQb2ludDtcbiAgICBwcml2YXRlIGxhc3RYWT86IFBvaW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVsWCA9IHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueDtcbiAgICAgICAgY29uc3QgcmVsWSA9IHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueTtcbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShyZWxYKTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShyZWxZKTtcblxuICAgICAgICBpZiAoIWNvb3JkWCB8fCBjb29yZFkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogUGF0aEZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlndXJlID0gPFBhdGhGaWd1cmVDb21wb25lbnQ+c3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUucGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5hZGRQb2ludChjb29yZFgsIGNvb3JkWSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFhZID0gbmV3IFBvaW50KHJlbFgsIHJlbFkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLmFkZFBvaW50KGNvb3JkWCwgY29vcmRZKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RYWSA9IG5ldyBQb2ludChyZWxYLCByZWxZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZml4UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5maXJzdFhZICYmIHRoaXMubGFzdFhZICYmIERyYXdVdGlscy5JU19QT0lOVF9PVkVSKHRoaXMuZmlyc3RYWSwgdGhpcy5sYXN0WFksIDEwKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGxhc3QgcG9pbnRcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnJlbW92ZVBvaW50KHRoaXMuZmlndXJlLmNvdW50IC0gMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbFggPSBwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0Lnk7XG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocmVsWCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocmVsWSk7XG5cbiAgICAgICAgdGhpcy5sYXN0WFkgPSBuZXcgUG9pbnQocmVsWCwgcmVsWSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkgJiYgdGhpcy5maWd1cmUuY291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5zZXRQb2ludCh0aGlzLmZpZ3VyZS5jb3VudCAtIDEsIHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdFhZID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmZpcnN0WFkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UGF0aFN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRQYXRoU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0UGF0aFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IFBhdGhGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPFBhdGhGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHBpdGNoZm9yay5cbiAqL1xuaW1wb3J0IHsgRmlndXJlQ29tcG9uZW50LCBGaWd1cmVUeXBlLCBJQ2hhcnRCb2FyZCwgSUNoYXJ0aW5nU2V0dGluZ3MsIElDaGFydFN0YWNrLCBJRWRpdGFibGUsIElIb3ZlcmFibGUsIElTZWxlY3RhYmxlLCBJU3RhdGVDb250cm9sbGVyLCBOdW1iZXJSZWdpb25NYXJrZXIsIFRpbWVSZWdpb25NYXJrZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgQ29tbWFuZCwgQ29uc3RhbnRzLCBJQXhpcywgSUNoYXJ0UG9pbnQsIElDb25maWd1cmFibGUsIElNb3VzZSwgSVNldHRpbmcsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVNpemUsIFBvaW50IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERyYXdVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IEZpZ3VyZUVkaXRTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZUVkaXRTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgRmlndXJlU3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVTdGF0ZUJhc2UnO1xuaW1wb3J0IHsgUG9pbnRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL1BvaW50RmlndXJlQ29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFBpdGNoZm9ya0ZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSUNvbmZpZ3VyYWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcbiAgICBwcml2YXRlIHBhOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBiOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBjOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHRpbWVSZWdpb246IFRpbWVSZWdpb25NYXJrZXI7XG4gICAgcHJpdmF0ZSB2YWx1ZVJlZ2lvbjogTnVtYmVyUmVnaW9uTWFya2VyO1xuXG4gICAgcHVibGljIGdldCBwb2ludEEoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50QSh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYS5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgcG9pbnRCKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGIucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEIodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGIucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QygpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBjLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRDKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBjLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ1BpdGNoZm9yaycsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiICYmIGMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IERyYXdVdGlscy5NSUQoYiwgYyk7XG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgbWlkLCA1KVxuICAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGIgfHwgYztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJhbWUgPSB7IHg6IHRoaXMub2Zmc2V0LngsIHk6IHRoaXMub2Zmc2V0LnksIHc6IHRoaXMuc2l6ZS53aWR0aCwgaDogdGhpcy5zaXplLmhlaWdodCB9O1xuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG4gICAgICAgIGxldCBleHRBID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbWlkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIG1pZCA9IERyYXdVdGlscy5NSUQoYiwgYyk7XG4gICAgICAgICAgICAgICAgZXh0QSA9IERyYXdVdGlscy5FWFRFTkQoYSwgbWlkLCBmcmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4dEEgPSBEcmF3VXRpbHMuRVhURU5EKGEsIGIsIGZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChhICYmIGIgJiYgIWMgJiYgZXh0QSkge1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGV4dEEueCwgZXh0QS55KTtcbiAgICAgICAgfSBlbHNlIGlmIChhICYmIGIgJiYgYyAmJiBleHRBICYmIG1pZCkge1xuICAgICAgICAgICAgLy8gZmluZCBsZWZ0IGFuZCByaWdodCBleHRlbnNpb25zXG4gICAgICAgICAgICBjb25zdCBtaWRBQyA9IERyYXdVdGlscy5NSUQoYSwgYyk7XG4gICAgICAgICAgICBjb25zdCBtaWRBQiA9IERyYXdVdGlscy5NSUQoYSwgYik7XG5cbiAgICAgICAgICAgIC8vIGZpbmQgNHRoIHZlcnRleCBvZiBwYXJhbGxlbG9ncmFtXG4gICAgICAgICAgICBjb25zdCBhMSA9IHtcbiAgICAgICAgICAgICAgICB4OiAyICogbWlkQUMueCAtIG1pZC54LFxuICAgICAgICAgICAgICAgIHk6IDIgKiBtaWRBQy55IC0gbWlkLnlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGEyID0ge1xuICAgICAgICAgICAgICAgIHg6IDIgKiBtaWRBQi54IC0gbWlkLngsXG4gICAgICAgICAgICAgICAgeTogMiAqIG1pZEFCLnkgLSBtaWQueVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZXh0ZW5kIHNpZGUgbGluZXNcbiAgICAgICAgICAgIGNvbnN0IGV4dDEgPSBEcmF3VXRpbHMuRVhURU5EKGExLCBjLCBmcmFtZSk7XG4gICAgICAgICAgICBjb25zdCBleHQyID0gRHJhd1V0aWxzLkVYVEVORChhMiwgYiwgZnJhbWUpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYy54LCBjLnkpO1xuXG4gICAgICAgICAgICAvLyBleHRlbnNpb25zXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGEueCwgYS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0QS54LCBleHRBLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGMueCwgYy55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0MS54LCBleHQxLnkpO1xuXG4gICAgICAgICAgICBjYW52YXMubW92ZVRvKGIueCwgYi55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZXh0Mi54LCBleHQyLnkpO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRQaXRjaGZvcmtTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JlLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICB0aGlzLnN0b3JlLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc3RvcmUud2lkdGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdQaXRjaGZvcmtTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IFBpdGNoZm9ya0ZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gMikge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBQaXRjaGZvcmtGaWd1cmVDb21wb25lbnR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxQaXRjaGZvcmtGaWd1cmVDb21wb25lbnQ+c3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUucGl0Y2hmb3JrKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAxICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAyICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEMgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UGl0Y2hmb3JrU3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFBpdGNoZm9ya1N0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFBpdGNoZm9ya1N0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IFBpdGNoZm9ya0ZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8UGl0Y2hmb3JrRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcblxuICAgICAgICAgICAgLy8gc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBTZXR0aW5nU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ2NvbG9yJykgfHwgQ29uc3RhbnRzLkRFRkFVTFRfRk9SRUNPTE9SO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgY29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnY29sb3InLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3dpZHRoJykgfHwgMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3dpZHRoJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICApIHtcbiAgICAgICAgLy8gd3JpdGUgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ2xhc3NlcyBmb3IgZHJhd2luZyByZWN0YW5nbGVzLlxuICovXG5cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBSZWN0RmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlLCBJQ29uZmlndXJhYmxlLCBJU2VsZWN0YWJsZSB7XG4gICAgcHJpdmF0ZSBzdG9yZTogU2V0dGluZ1N0b3JlO1xuICAgIHByaXZhdGUgcGE6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgcGI6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdGltZVJlZ2lvbjogVGltZVJlZ2lvbk1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlUmVnaW9uOiBOdW1iZXJSZWdpb25NYXJrZXI7XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QSgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRBKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBhLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEIoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYi5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qih2OiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignUmVjdGFuZ2xlJywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgU2V0dGluZ1N0b3JlKGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy50aW1lUmVnaW9uID0gbmV3IFRpbWVSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFhBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHRheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRUaW1lUmFuZ2UpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbiA9IG5ldyBOdW1iZXJSZWdpb25NYXJrZXIodGhpcy5hcmVhLmdldFlBcmVhKCksIHRoaXMub2Zmc2V0LCB0aGlzLnNpemUsIHlheGlzLCBzZXR0aW5ncywgdGhpcy5nZXRWYWx1ZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnZhbHVlUmVnaW9uKTtcblxuICAgICAgICB0aGlzLnBhID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdhJykpO1xuICAgICAgICB0aGlzLnBiID0gbmV3IFBvaW50RmlndXJlQ29tcG9uZW50KGFyZWEsIG9mZnNldCwgc2l6ZSwgc2V0dGluZ3MsIHRheGlzLCB5YXhpcywgY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdiJykpO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaW1lUmFuZ2UgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wYS5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGFydDogdGhpcy5wYS5wb2ludC51aWQsIGVuZDogdGhpcy5wYi5wb2ludC51aWQgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHRoaXMucGEucG9pbnQudiwgZW5kOiB0aGlzLnBiLnBvaW50LnYgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gbmV3IFBvaW50KGEueCwgYi55KTtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgUG9pbnQoYi54LCBhLnkpO1xuXG4gICAgICAgICAgICByZXR1cm4gRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYywgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYywgYiwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYiwgZCwgNSlcbiAgICAgICAgICAgICAgfHwgRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgZCwgNSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcihjb250ZXh0OiBWaXN1YWxDb250ZXh0LCByZW5kZXJMb2NhdG9yOiBJUmVuZGVyTG9jYXRvcikge1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2EgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGNiID0gdGhpcy5wYi5nZXRYWSgpO1xuXG4gICAgICAgIGlmIChjYSAmJiBjYikge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2VSZWN0KGNhLngsIGNhLnksIGNiLnggLSBjYS54LCBjYi55IC0gY2EueSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZW5kZXIoY29udGV4dCwgcmVuZGVyTG9jYXRvcik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRTdGF0ZSgpOiBJU3RhdGVDb250cm9sbGVyIHtcbiAgICAgICAgcmV0dXJuIEVkaXRSZWN0U3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3UmVjdFN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogUmVjdEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIGNvdW50ID0gMDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkUG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuYm9hcmQgfHwgIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHBvaW50LnggLSB0aGlzLmJvYXJkLm9mZnNldC54IC0gdGhpcy5zdGFjay5vZmZzZXQueCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBSZWN0RmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8UmVjdEZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS5yZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5yZXN0b3JlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlID0gZmlndXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QSA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAxICYmIHRoaXMuZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrIHx8ICF0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgaWYgKGNvb3JkWCAmJiBjb29yZFkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UmVjdFN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRSZWN0U3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0UmVjdFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IFJlY3RGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPFJlY3RGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHRleHQuXG4gKi9cbmltcG9ydCB7IENhbnZhc1RleHRBbGlnbiB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb21tYW5kLCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvb3Jkc0NvbnZlcnRlciwgSU1vdXNlLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTdG9yZUNvbnRhaW5lciwgVmlzdWFsQ29udGV4dCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhIH0gZnJvbSAnLi4vbGF5b3V0L2luZGV4JztcbmltcG9ydCB7IElSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCwgSVJlY3QsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBUZXh0RmlndXJlQ29tcG9uZW50IGV4dGVuZHMgRmlndXJlQ29tcG9uZW50IGltcGxlbWVudHMgSUhvdmVyYWJsZSwgSUVkaXRhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwOiBQb2ludEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHJlY3Q6IElSZWN0fHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnQodjogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wLnBvaW50ID0gdjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignVGV4dCcsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMucCA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMpO1xuICAgICAgICB0aGlzLnAudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucCk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KHA6IElQb2ludCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICghdGhpcy5wLnBvaW50LnVpZCB8fCAhdGhpcy5wLnBvaW50LnYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnAucG9pbnQudWlkKTtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHRoaXMucC5wb2ludC52KTtcblxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIERyYXdVdGlscy5JU19QT0lOVF9PVkVSX1JFQ1QocCwgdGhpcy5yZWN0LCA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucC5zaGlmdChkeCwgZHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnAucG9pbnQudWlkICYmIHRoaXMucC5wb2ludC52KSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy50YXhpcy50b1godGhpcy5wLnBvaW50LnVpZCk7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy55YXhpcy50b1godGhpcy5wLnBvaW50LnYpO1xuXG4gICAgICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDAwMCcpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5mb250ID0gJzE1cHQgQXJpYWwnO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRUZXh0QWxpZ24oQ2FudmFzVGV4dEFsaWduLkNlbnRlcik7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI0ZGMDAwMCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldHJpY3MgPSBjYW52YXMubWVhc3VyZVRleHQodGhpcy5zdG9yZS50ZXh0KTtcbiAgICAgICAgICAgICAgICBjYW52YXMuZmlsbFRleHQodGhpcy5zdG9yZS50ZXh0LCB4LCB5KTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVjdCA9IHsgeDogeCwgeTogeSwgdzogbWV0cmljcy53aWR0aCwgaDogMTUgfTsgLy8gSGVpZ2h0IGluIHB4IGlzIGVxdWFsIHRvIGZvbnQgc2l6ZSBpbiBwdHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RWRpdFN0YXRlKCk6IElTdGF0ZUNvbnRyb2xsZXIge1xuICAgICAgICByZXR1cm4gRWRpdFRleHRTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEcmF3VGV4dFN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogVGV4dEZpZ3VyZUNvbXBvbmVudDtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIHBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICBsZXQgc3RhdGU6IHN0cmluZztcbiAgICAgICAgbGV0IGZpZ3VyZTogVGV4dEZpZ3VyZUNvbXBvbmVudHx1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgKCkgPT4geyAvLyBkb1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxUZXh0RmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLnRleHQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKCkgPT4geyAvLyB1bmRvXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZXhlY3V0ZSgpKTtcblxuICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50ID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJvYXJkLnRyZWVDaGFuZ2VkRXZ0LnRyaWdnZXIoKTtcblxuICAgICAgICB0aGlzLmV4aXQoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0TGFzdFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHsgfVxuXG4gICAgcHJpdmF0ZSBleGl0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYm9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuY2hhbmdlU3RhdGUoJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEVkaXRUZXh0U3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFRleHRTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRUZXh0U3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlndXJlPzogVGV4dEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8VGV4dEZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgY29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdjb2xvcicpIHx8IENvbnN0YW50cy5ERUZBVUxUX0ZPUkVDT0xPUjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ2NvbG9yJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0UHJvcGVydHkoJ3RleHQnKSB8fCAnJztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHRleHQodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgndGV4dCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgICAgIC8vIHdyaXRlIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHRyZW5kIGNoYW5uZWxzLlxuICovXG5cbmltcG9ydCB7IEZpZ3VyZUNvbXBvbmVudCwgRmlndXJlVHlwZSwgSUNoYXJ0Qm9hcmQsIElDaGFydGluZ1NldHRpbmdzLCBJQ2hhcnRTdGFjaywgSUVkaXRhYmxlLCBJSG92ZXJhYmxlLCBJU2VsZWN0YWJsZSwgSVN0YXRlQ29udHJvbGxlciwgTnVtYmVyUmVnaW9uTWFya2VyLCBUaW1lUmVnaW9uTWFya2VyIH0gZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29uZmlndXJhYmxlLCBJTW91c2UsIElTZXR0aW5nLCBJVGltZUF4aXMsIElUaW1lQ29vcmRDb252ZXJ0ZXIsIElUb3VjaCwgSVZhbHVlQ29vcmRDb252ZXJ0ZXIsIE1vdXNlLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgU3RvcmVDb250YWluZXIsIFZpc3VhbENvbnRleHQgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBUcmVuZENoYW5uZWxGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYzogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzcHJlYWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuc3ByZWFkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgc3ByZWFkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5zcHJlYWQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgICAgICkge1xuICAgICAgICBzdXBlcignVHJlbmQgY2hhbm5lbCcsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYik7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wYyk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIHBvaW50IGFmdGVyIGxvYWRpbmcgZmlndXJlXG4gICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgbGV0IGhpdCA9IGZhbHNlO1xuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBzcHJlYWQgPSB0aGlzLnN0b3JlLnNwcmVhZDtcbiAgICAgICAgICAgIGhpdCA9IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGEsIGIsIDUpXG4gICAgICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCB7IHg6IGEueCAsIHk6IGEueSArIHNwcmVhZCB9LCB7IHg6IGIueCAsIHk6IGIueSArIHNwcmVhZCB9LCA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICB0aGlzLnRpbWVSZWdpb24udmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLnNoaWZ0KGR4LCBkeSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVQb2ludHMoKTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIG9uIGZyb250XG4gICAgICAgIGlmICghY29udGV4dC5yZW5kZXJGcm9udCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc3RvcmUud2lkdGg7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgLy8gdXBkYXRlIGNvbXB1dGVkIHBvaW50cycgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9pbnRzKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwcmVhZCA9IHRoaXMuc3RvcmUuc3ByZWFkO1xuICAgICAgICAgICAgaWYgKHNwcmVhZCkgeyAvLyBpZiBub3QgMCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhhLngsIGEueSArIHNwcmVhZCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSArIHNwcmVhZCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0VHJlbmRDaGFubmVsU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xpbmUnLFxuICAgICAgICAgICAgZ3JvdXA6IHRydWUsXG4gICAgICAgICAgICBzZXR0aW5nczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUuY29sb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbG9yJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RvcmUud2lkdGgudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnV2lkdGgnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdG9yZS5jb2xvciA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PHN0cmluZz4oJ2xpbmUuY29sb3InLCB0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgdGhpcy5zdG9yZS53aWR0aCA9IHZhbHVlLmdldFZhbHVlT3JEZWZhdWx0PG51bWJlcj4oJ2xpbmUud2lkdGgnLCB0aGlzLnN0b3JlLndpZHRoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbXB1dGVTcHJlYWQocDogSVBvaW50KTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgeSA9IERyYXdVdGlscy5MSU5FQVIoYSwgYiwgcC54KTtcbiAgICAgICAgICAgIHJldHVybiB5ICE9PSB1bmRlZmluZWQgPyBwLnkgLSB5IDogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IFVpZC5taW4odGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkKSxcbiAgICAgICAgICAgICAgICBlbmQ6IFVpZC5tYXgodGhpcy5wYS5wb2ludC51aWQsIHRoaXMucGIucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYpLFxuICAgICAgICAgICAgICAgIGVuZDogTWF0aC5tYXgodGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmUoc3ViOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoc3ViKSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub24odGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBiLmNoYW5nZWQub24odGhpcy5vblBvaW50Q2hhbmdlZCk7XG4gICAgICAgICAgICB0aGlzLnBjLmNoYW5nZWQub24odGhpcy5vblAzY2hhbmdlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhLmNoYW5nZWQub2ZmKHRoaXMub25Qb2ludENoYW5nZWQpO1xuICAgICAgICAgICAgdGhpcy5wYi5jaGFuZ2VkLm9mZih0aGlzLm9uUG9pbnRDaGFuZ2VkKTtcbiAgICAgICAgICAgIHRoaXMucGMuY2hhbmdlZC5vZmYodGhpcy5vblAzY2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUG9pbnRDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVBvaW50cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QM2NoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZFNwcmVhZCA9IHRoaXMuY29tcHV0ZVNwcmVhZCh0aGlzLnBjLnBpeGVsKTtcbiAgICAgICAgdGhpcy5zdG9yZS5zcHJlYWQgPSB1cGRTcHJlYWQgfHwgdGhpcy5zdG9yZS5zcHJlYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQb2ludHMoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKGZhbHNlKTsgLy8gcHJldmVudCBjaGFuZ2UgZXZlbnRzIHdoaWxlIHJlY29tcHV0aW5nXG5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcblxuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBtaWQgPSBEcmF3VXRpbHMuTUlEKGEsIGIpO1xuICAgICAgICAgICAgdGhpcy5wYy5waXhlbCA9IHsgeDogbWlkLngsIHk6IG1pZC55ICsgdGhpcy5zdG9yZS5zcHJlYWQgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdUcmVuZENoYW5uZWxTdGF0ZSBleHRlbmRzIEZpZ3VyZVN0YXRlQmFzZSB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYm9hcmQ/OiBJQ2hhcnRCb2FyZDtcbiAgICBwcml2YXRlIGZpZ3VyZT86IFRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHBhPzogSVBvaW50O1xuICAgIHByaXZhdGUgcGI/OiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWxYID0gcG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54O1xuICAgICAgICBjb25zdCByZWxZID0gcG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55O1xuICAgICAgICBjb25zdCBjb29yZFggPSB0aGlzLnN0YWNrLnhUb1ZhbHVlKHJlbFgpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHJlbFkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogVHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50fHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWd1cmUgPSA8VHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50PnN0YWNrLmFkZEZpZ3VyZShGaWd1cmVUeXBlLnRyZW5kY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm9hcmQudHJlZUNoYW5nZWRFdnQudHJpZ2dlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDEgJiYgdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgdGhpcy5wYiA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDIgJiYgdGhpcy5maWd1cmUgJiYgdGhpcy5wYSAmJiB0aGlzLnBiKSB7XG4gICAgICAgICAgICBjb25zdCB5ID0gRHJhd1V0aWxzLkxJTkVBUih0aGlzLnBhLCB0aGlzLnBiLCByZWxYKTtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnNwcmVhZCA9IHkgIT09IHVuZGVmaW5lZCA/IHJlbFkgLSB5IDogMDtcblxuICAgICAgICAgICAgLy8gdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICAvLyB0aGlzLnBiID0geyB4OiByZWxYLCB5OiByZWxZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMykge1xuICAgICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbFggPSBwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0Lng7XG4gICAgICAgIGNvbnN0IHJlbFkgPSBwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0Lnk7XG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocmVsWCk7XG4gICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocmVsWSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDIpIHtcbiAgICAgICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICAgICAgdGhpcy5wYiA9IHsgeDogcmVsWCwgeTogcmVsWSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnQgPT09IDMgJiYgdGhpcy5wYSAmJiB0aGlzLnBiKSB7XG4gICAgICAgICAgICBjb25zdCB5ID0gRHJhd1V0aWxzLkxJTkVBUih0aGlzLnBhLCB0aGlzLnBiLCByZWxYKTtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlLnNwcmVhZCA9IHkgIT09IHVuZGVmaW5lZCA/IHJlbFkgLSB5IDogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhpdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkKSB7XG4gICAgICAgICAgICB0aGlzLmJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0VHJlbmRDaGFubmVsU3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFRyZW5kQ2hhbm5lbFN0YXRlO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgRWRpdFRyZW5kQ2hhbm5lbFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IFRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8VHJlbmRDaGFubmVsRmlndXJlQ29tcG9uZW50PmFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXTtcblxuICAgICAgICAgICAgLy8gc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBTZXR0aW5nU3RvcmUge1xuXG4gICAgcHVibGljIGdldCBzcHJlYWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdzcHJlYWQnKSB8fCAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgc3ByZWFkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ3NwcmVhZCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHRoaXMuc3ByZWFkID0gdGhpcy5zcHJlYWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHRyaWFuZ2xlLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlclJlZ2lvbk1hcmtlciwgVGltZVJlZ2lvbk1hcmtlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBDb21tYW5kLCBDb25zdGFudHMsIElBeGlzLCBJQ2hhcnRQb2ludCwgSUNvbmZpZ3VyYWJsZSwgSU1vdXNlLCBJU2V0dGluZywgSVRpbWVBeGlzLCBJVGltZUNvb3JkQ29udmVydGVyLCBJVG91Y2gsIElWYWx1ZUNvb3JkQ29udmVydGVyLCBNb3VzZSwgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydEFyZWEgfSBmcm9tICcuLi9sYXlvdXQvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgSVBvaW50LCBJU2l6ZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRHJhd1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgRmlndXJlRWRpdFN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlRWRpdFN0YXRlQmFzZSc7XG5pbXBvcnQgeyBGaWd1cmVTdGF0ZUJhc2UgfSBmcm9tICcuL0ZpZ3VyZVN0YXRlQmFzZSc7XG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGVGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUsIElDb25maWd1cmFibGUsIElTZWxlY3RhYmxlIHtcbiAgICBwcml2YXRlIHN0b3JlOiBTZXR0aW5nU3RvcmU7XG4gICAgcHJpdmF0ZSBwYTogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYjogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBwYzogUG9pbnRGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB0aW1lUmVnaW9uOiBUaW1lUmVnaW9uTWFya2VyO1xuICAgIHByaXZhdGUgdmFsdWVSZWdpb246IE51bWJlclJlZ2lvbk1hcmtlcjtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnRBKCk6IElDaGFydFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGEucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludEEodmFsdWU6IElDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMucGEucG9pbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBvaW50QigpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnBiLnBvaW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcG9pbnRCKHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnBiLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludEMoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5wYy5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50Qyh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYy5wb2ludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFyZWE6IENoYXJ0QXJlYSxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICBzZXR0aW5nczogSUNoYXJ0aW5nU2V0dGluZ3MsXG4gICAgICAgIHByaXZhdGUgdGF4aXM6IElUaW1lQ29vcmRDb252ZXJ0ZXIsXG4gICAgICAgIHByaXZhdGUgeWF4aXM6IElWYWx1ZUNvb3JkQ29udmVydGVyPG51bWJlcj4sXG4gICAgICAgIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKCdUcmlhbmdsZScsIG9mZnNldCwgc2l6ZSwgY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldHRpbmdTdG9yZShjb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMudGltZVJlZ2lvbiA9IG5ldyBUaW1lUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VGltZVJhbmdlKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRpbWVSZWdpb24pO1xuXG4gICAgICAgIHRoaXMudmFsdWVSZWdpb24gPSBuZXcgTnVtYmVyUmVnaW9uTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWVSYW5nZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy52YWx1ZVJlZ2lvbik7XG5cbiAgICAgICAgdGhpcy5wYSA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYScpKTtcbiAgICAgICAgdGhpcy5wYiA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYicpKTtcbiAgICAgICAgdGhpcy5wYyA9IG5ldyBQb2ludEZpZ3VyZUNvbXBvbmVudChhcmVhLCBvZmZzZXQsIHNpemUsIHNldHRpbmdzLCB0YXhpcywgeWF4aXMsIGNvbnRhaW5lci5nZXRPYmplY3RQcm9wZXJ0eSgnYycpKTtcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGEpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucGMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZVJhbmdlID0gKGN0eDogVmlzdWFsQ29udGV4dCwgc2l6ZTogSVNpemUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucGEucG9pbnQudWlkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wYi5wb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnVpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBVaWQubWluKHRoaXMucGEucG9pbnQudWlkLCB0aGlzLnBiLnBvaW50LnVpZCwgdGhpcy5wYy5wb2ludC51aWQpLFxuICAgICAgICAgICAgICAgIGVuZDogVWlkLm1heCh0aGlzLnBhLnBvaW50LnVpZCwgdGhpcy5wYi5wb2ludC51aWQsIHRoaXMucGMucG9pbnQudWlkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWVSYW5nZSA9IChjdHg6IFZpc3VhbENvbnRleHQsIHNpemU6IElTaXplKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnBhLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBiLnBvaW50LnYgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBjLnBvaW50LnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogTWF0aC5taW4odGhpcy5wYS5wb2ludC52LCB0aGlzLnBiLnBvaW50LnYsIHRoaXMucGMucG9pbnQudiksXG4gICAgICAgICAgICAgICAgZW5kOiBNYXRoLm1heCh0aGlzLnBhLnBvaW50LnYsIHRoaXMucGIucG9pbnQudiwgdGhpcy5wYy5wb2ludC52KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuZ2V0WFkoKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuZ2V0WFkoKTtcblxuICAgICAgICByZXR1cm4gKGEgJiYgYiAmJiBjKVxuICAgICAgICAgICAgPyAoRHJhd1V0aWxzLklTX1BPSU5UX09OX0xJTkUocCwgYSwgYiwgNSlcbiAgICAgICAgICAgICAgIHx8IERyYXdVdGlscy5JU19QT0lOVF9PTl9MSU5FKHAsIGIsIGMsIDUpXG4gICAgICAgICAgICAgICB8fCBEcmF3VXRpbHMuSVNfUE9JTlRfT05fTElORShwLCBjLCBhLCA1KSlcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy52YWx1ZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudGltZVJlZ2lvbi52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMucGEuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMucGIuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMucGMuc2hpZnQoZHgsIGR5KTtcbiAgICAgICAgcmV0dXJuIGEgfHwgYiB8fCBjO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY29udGV4dDogVmlzdWFsQ29udGV4dCwgcmVuZGVyTG9jYXRvcjogSVJlbmRlckxvY2F0b3IpIHtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciBvbiBmcm9udFxuICAgICAgICBpZiAoIWNvbnRleHQucmVuZGVyRnJvbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGEgPSB0aGlzLnBhLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLnBiLmdldFhZKCk7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLnBjLmdldFhZKCk7XG5cbiAgICAgICAgaWYgKGEgJiYgYikge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5hcmVhLmZyb250Q2FudmFzO1xuXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUodGhpcy5zdG9yZS5jb2xvcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhiLngsIGIueSk7XG4gICAgICAgICAgICBpZiAoYykge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYy54LCBjLnkpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oYS54LCBhLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0VHJpYW5nbGVTdGF0ZS5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbGluZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS5jb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdG9yZS53aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdXaWR0aCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0b3JlLmNvbG9yID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8c3RyaW5nPignbGluZS5jb2xvcicsIHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICB0aGlzLnN0b3JlLndpZHRoID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignbGluZS53aWR0aCcsIHRoaXMuc3RvcmUud2lkdGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYXdUcmlhbmdsZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogVHJpYW5nbGVGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBjb3VudCA9IDA7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmJvYXJkIHx8ICF0aGlzLnN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29vcmRYID0gdGhpcy5zdGFjay54VG9WYWx1ZShwb2ludC54IC0gdGhpcy5ib2FyZC5vZmZzZXQueCAtIHRoaXMuc3RhY2sub2Zmc2V0LngpO1xuICAgICAgICBjb25zdCBjb29yZFkgPSB0aGlzLnN0YWNrLnlUb1ZhbHVlKHBvaW50LnkgLSB0aGlzLmJvYXJkLm9mZnNldC55IC0gdGhpcy5zdGFjay5vZmZzZXQueSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjaztcbiAgICAgICAgICAgIGxldCBzdGF0ZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IGZpZ3VyZTogVHJpYW5nbGVGaWd1cmVDb21wb25lbnR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxUcmlhbmdsZUZpZ3VyZUNvbXBvbmVudD5zdGFjay5hZGRGaWd1cmUoRmlndXJlVHlwZS50cmlhbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gdW5kb1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucmVzdG9yZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGUoKSk7XG5cbiAgICAgICAgICAgIGlmIChmaWd1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IGZpZ3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEEgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZ3VyZS5wb2ludEIgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMSAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRCID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudCA9PT0gMiAmJiB0aGlzLmZpZ3VyZSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldExhc3RQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjayB8fCAhdGhpcy5maWd1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgY29uc3QgY29vcmRZID0gdGhpcy5zdGFjay55VG9WYWx1ZShwb2ludC55IC0gdGhpcy5ib2FyZC5vZmZzZXQueSAtIHRoaXMuc3RhY2sub2Zmc2V0LnkpO1xuXG4gICAgICAgIGlmIChjb29yZFggJiYgY29vcmRZKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlndXJlLnBvaW50QiA9IHsgdWlkOiBjb29yZFgsIHY6IGNvb3JkWSB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnRDID0geyB1aWQ6IGNvb3JkWCwgdjogY29vcmRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdFRyaWFuZ2xlU3RhdGUgZXh0ZW5kcyBGaWd1cmVFZGl0U3RhdGVCYXNlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogRWRpdFRyaWFuZ2xlU3RhdGU7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBFZGl0VHJpYW5nbGVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBUcmlhbmdsZUZpZ3VyZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHVuZG8/OiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaXNDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICBzdXBlci5hY3RpdmF0ZShib2FyZCwgbW91c2UsIHN0YWNrLCBhY3RpdmF0aW9uUGFyYW1ldGVycyk7XG5cbiAgICAgICAgaWYgKHN0YWNrICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzICYmIGFjdGl2YXRpb25QYXJhbWV0ZXJzWydjb21wb25lbnQnXSkge1xuICAgICAgICAgICAgdGhpcy5maWd1cmUgPSA8VHJpYW5nbGVGaWd1cmVDb21wb25lbnQ+YWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddO1xuXG4gICAgICAgICAgICAvLyBzYXZlIHN0YXRlXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YWNrLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnVuZG8gPSAoKSA9PiB7IHN0YWNrLnJlc3RvcmUoc3RhdGUpOyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0YWJsZSBjb21wb25lbnQgaXMgbm90IHNwZWNpZmllZCBmb3IgZWRpdC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChkeCB8fCBkeSkge1xuICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZ3VyZSA/IHRoaXMuZmlndXJlLnNoaWZ0KGR4LCBkeSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZXhpdChib2FyZDogSUNoYXJ0Qm9hcmQpOiB2b2lkIHtcbiAgICAgICAgLy8gYWRkIGNvbW1hbmQgdG8gaGlzdG9yeVxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZWQgJiYgdGhpcy51bmRvKSB7XG4gICAgICAgICAgICBib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGV4ZWN1dGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bmRvXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpZ3VyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51bmRvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzdXBlci5leGl0KGJvYXJkKTtcbiAgICB9XG59XG5cbmNsYXNzIFNldHRpbmdTdG9yZSB7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnY29sb3InKSB8fCBDb25zdGFudHMuREVGQVVMVF9GT1JFQ09MT1I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdjb2xvcicsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgnd2lkdGgnKSB8fCAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgd2lkdGgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICkge1xuICAgICAgICAvLyB3cml0ZSBpbml0aWFsIHZhbHVlc1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzc2VzIGZvciBkcmF3aW5nIHZlcnRpY2FsIGxpbmVzLlxuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIEZpZ3VyZVR5cGUsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVN0YXRlQ29udHJvbGxlciB9XG4gICAgZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH1cbiAgICBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcbmltcG9ydCB7IEZpZ3VyZVN0YXRlQmFzZSB9IGZyb20gJy4vRmlndXJlU3RhdGVCYXNlJztcbmltcG9ydCB7IFBvaW50RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9Qb2ludEZpZ3VyZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQgZXh0ZW5kcyBGaWd1cmVDb21wb25lbnQgaW1wbGVtZW50cyBJSG92ZXJhYmxlLCBJRWRpdGFibGUge1xuICAgIHByaXZhdGUgc3RvcmU6IFNldHRpbmdTdG9yZTtcbiAgICBwcml2YXRlIHA6IFBvaW50RmlndXJlQ29tcG9uZW50O1xuXG4gICAgcHVibGljIGdldCBwb2ludCgpOiBJQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnAucG9pbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwb2ludCh2YWx1ZTogSUNoYXJ0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5wLnBvaW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXJlYTogQ2hhcnRBcmVhLFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemUsXG4gICAgICAgIHNldHRpbmdzOiBJQ2hhcnRpbmdTZXR0aW5ncyxcbiAgICAgICAgcHJpdmF0ZSB0YXhpczogSVRpbWVDb29yZENvbnZlcnRlcixcbiAgICAgICAgcHJpdmF0ZSB5YXhpczogSVZhbHVlQ29vcmRDb252ZXJ0ZXI8bnVtYmVyPixcbiAgICAgICAgY29udGFpbmVyOiBTdG9yZUNvbnRhaW5lclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIoJ1ZlcnRpY2FsIExpbmUnLCBvZmZzZXQsIHNpemUsIGNvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBTZXR0aW5nU3RvcmUoY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLnAgPSBuZXcgUG9pbnRGaWd1cmVDb21wb25lbnQoYXJlYSwgb2Zmc2V0LCBzaXplLCBzZXR0aW5ncywgdGF4aXMsIHlheGlzLCBjb250YWluZXIuZ2V0T2JqZWN0UHJvcGVydHkoJ3AnKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnApO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0hpdChwOiBJUG9pbnQpOiBib29sZWFuIHtcblxuICAgICAgICBpZiAoIXRoaXMucC5wb2ludC51aWQgfHwgIXRoaXMucC5wb2ludC52KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnAucG9pbnQudWlkKTtcblxuICAgICAgICByZXR1cm4gcG9pbnR4ID8gKHAueCA+PSBwb2ludHggLSAzICYmIHAueCA8PSBwb2ludHggKyAzKSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaGlmdChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnAuc2hpZnQoZHgsIGR5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wLnBvaW50LnVpZCAmJiB0aGlzLnAucG9pbnQudikge1xuXG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy50YXhpcy50b1godGhpcy5wLnBvaW50LnVpZCk7XG5cbiAgICAgICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmFyZWEuZnJvbnRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0hvdmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc3RvcmUuY29sb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnN0b3JlLmNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zdG9yZS53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKHgsIDApO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oeCwgdGhpcy5zaXplLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKGNvbnRleHQsIHJlbmRlckxvY2F0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGl0U3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHJldHVybiBFZGl0VmVydGljYWxMaW5lU3RhdGUuaW5zdGFuY2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJhd1ZlcnRpY2FsTGluZVN0YXRlIGV4dGVuZHMgRmlndXJlU3RhdGVCYXNlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBib2FyZD86IElDaGFydEJvYXJkO1xuICAgIHByaXZhdGUgZmlndXJlPzogVmVydGljYWxMaW5lRmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgY291bnQgPSAwO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgcGFyYW1ldGVycz86IElIYXNoVGFibGU8YW55Pik6IHZvaWQge1xuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5ib2FyZCB8fCAhdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWCA9IHRoaXMuc3RhY2sueFRvVmFsdWUocG9pbnQueCAtIHRoaXMuYm9hcmQub2Zmc2V0LnggLSB0aGlzLnN0YWNrLm9mZnNldC54KTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkWSA9IHRoaXMuc3RhY2sueVRvVmFsdWUocG9pbnQueSAtIHRoaXMuYm9hcmQub2Zmc2V0LnkgLSB0aGlzLnN0YWNrLm9mZnNldC55KTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLnN0YWNrO1xuICAgICAgICAgICAgbGV0IHN0YXRlOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgZmlndXJlOiBWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnR8dW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5wdXNoMmhpc3RvcnkoXG4gICAgICAgICAgICAgICAgbmV3IENvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHsgLy8gZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZ3VyZSA9IDxWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQ+c3RhY2suYWRkRmlndXJlKEZpZ3VyZVR5cGUudmxpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7IC8vIHVuZG9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RvcmUoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKCkpO1xuXG4gICAgICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUgPSBmaWd1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5maWd1cmUucG9pbnQgPSB7IHVpZDogY29vcmRYLCB2OiBjb29yZFkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ib2FyZC50cmVlQ2hhbmdlZEV2dC50cmlnZ2VyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZXhpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRMYXN0UG9pbnQocG9pbnQ6IElQb2ludCk6IHZvaWQgeyB9XG5cbiAgICBwcml2YXRlIGV4aXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5ib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZC5jaGFuZ2VTdGF0ZSgnaG92ZXInKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRWRpdFZlcnRpY2FsTGluZVN0YXRlIGV4dGVuZHMgRmlndXJlRWRpdFN0YXRlQmFzZSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEVkaXRWZXJ0aWNhbExpbmVTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRWZXJ0aWNhbExpbmVTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaWd1cmU/OiBWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSB1bmRvPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGlzQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuYWN0aXZhdGUoYm9hcmQsIG1vdXNlLCBzdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnMpO1xuXG4gICAgICAgIGlmIChzdGFjayAmJiBhY3RpdmF0aW9uUGFyYW1ldGVycyAmJiBhY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J10pIHtcbiAgICAgICAgICAgIHRoaXMuZmlndXJlID0gPFZlcnRpY2FsTGluZUZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vIHNhdmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RhY2suZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudW5kbyA9ICgpID0+IHsgc3RhY2sucmVzdG9yZShzdGF0ZSk7IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VkaXRhYmxlIGNvbXBvbmVudCBpcyBub3Qgc3BlY2lmaWVkIGZvciBlZGl0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGR4IHx8IGR5KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlndXJlID8gdGhpcy5maWd1cmUuc2hpZnQoZHgsIGR5KSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBleGl0KGJvYXJkOiBJQ2hhcnRCb2FyZCk6IHZvaWQge1xuICAgICAgICAvLyBhZGQgY29tbWFuZCB0byBoaXN0b3J5XG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCAmJiB0aGlzLnVuZG8pIHtcbiAgICAgICAgICAgIGJvYXJkLnB1c2gyaGlzdG9yeShcbiAgICAgICAgICAgICAgICBuZXcgQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuZG9cbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlndXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVuZG8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLmV4aXQoYm9hcmQpO1xuICAgIH1cbn1cblxuY2xhc3MgU2V0dGluZ1N0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgY29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdjb2xvcicpIHx8IENvbnN0YW50cy5ERUZBVUxUX0ZPUkVDT0xPUjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0UHJvcGVydHkoJ2NvbG9yJywgdmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCd3aWR0aCcpIHx8IDE7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCd3aWR0aCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXI6IFN0b3JlQ29udGFpbmVyXG4gICAgKSB7XG4gICAgICAgIC8vIHdyaXRlIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICB9XG59XG4iLCIvKipcbiAqIEZpZ3VyZUVkaXRTdGF0ZUJhc2UgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDaGFydEJvYXJkLCBJQ2hhcnRTdGFjaywgSVN0YXRlQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbXBvbmVudC9pbmRleCc7XG5pbXBvcnQgeyBJTW91c2UsIElUb3VjaCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSwgUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmlndXJlRWRpdFN0YXRlQmFzZSBpbXBsZW1lbnRzIElTdGF0ZUNvbnRyb2xsZXIge1xuXG4gICAgcHJvdGVjdGVkIGxhc3RNb3VzZSA9IG5ldyBQb2ludCgpO1xuICAgIHByb3RlY3RlZCBsYXN0VG91Y2g/OiBQb2ludDtcbiAgICBwcm90ZWN0ZWQgc3RhY2s/OiBJQ2hhcnRTdGFjaztcblxuICAgIHB1YmxpYyBvbk1vdXNlV2hlZWwoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Nb3VzZUVudGVyKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VMZWF2ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlVXAoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXhpdChib2FyZCk7XG4gICAgfVxuICAgIHB1YmxpYyBvbk1vdXNlRG93bihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGFjaykge1xuICAgICAgICAgICAgLy8gQ2hhbmdlIG1vdXNlIHgveSBvbmx5IGlmIGxpbmUgd2FzIHNoaWZ0ZWQuIElnbm9yaW5nIFwiZW1wdHlcIiBtb3ZlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLnNoaWZ0KG1vdXNlLnBvcy54IC0gdGhpcy5sYXN0TW91c2UueCwgbW91c2UucG9zLnkgLSB0aGlzLmxhc3RNb3VzZS55KTtcbiAgICAgICAgICAgIGlmIChzaGlmdGVkKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubGFzdE1vdXNlLngsIHRoaXMubGFzdE1vdXNlLnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbdGhpcy5sYXN0TW91c2UueCwgdGhpcy5sYXN0TW91c2UueV0gPSBbbW91c2UucG9zLngsIG1vdXNlLnBvcy55XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvblRvdWNoUGFuKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5sYXN0VG91Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IGR4ID0gdG91Y2guY2VudGVyLnggLSB0aGlzLmxhc3RUb3VjaC54O1xuICAgICAgICAgICAgY29uc3QgZHkgPSB0b3VjaC5jZW50ZXIueSAtIHRoaXMubGFzdFRvdWNoLnk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgc2hpZnRpbmcgJHtkeH0gJHtkeX1gKTtcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSB0aGlzLnNoaWZ0KGR4LCBkeSk7XG4gICAgICAgICAgICBpZiAoc2hpZnRlZCkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmxhc3RUb3VjaC54LCB0aGlzLmxhc3RUb3VjaC55XSA9IFt0b3VjaC5jZW50ZXIueCwgdG91Y2guY2VudGVyLnldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0VG91Y2ggPSBuZXcgUG9pbnQodG91Y2guY2VudGVyLngsIHRvdWNoLmNlbnRlci55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3VjaC5pc0ZpbmFsKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXQoYm9hcmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uVG91Y2hQcmVzcyhib2FyZDogSUNoYXJ0Qm9hcmQsIHRvdWNoOiBJVG91Y2gpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvblRvdWNoU3dpcGUoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Ub3VjaFRhcChib2FyZDogSUNoYXJ0Qm9hcmQsIHRvdWNoOiBJVG91Y2gpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFjdGl2YXRlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjaywgYWN0aXZhdGlvblBhcmFtZXRlcnM/OiBJSGFzaFRhYmxlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgW3RoaXMubGFzdE1vdXNlLngsIHRoaXMubGFzdE1vdXNlLnldID0gW21vdXNlLnBvcy54LCBtb3VzZS5wb3MueV07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJvYXJkLmNoYW5nZVN0YXRlKCdob3ZlcicpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogRmlndXJlU3RhdGVCYXNlIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2hhcnRCb2FyZCwgSUNoYXJ0U3RhY2ssIElTdGF0ZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb21wb25lbnQvaW5kZXgnO1xuaW1wb3J0IHsgSU1vdXNlLCBJVG91Y2ggfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUsIElQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWd1cmVTdGF0ZUJhc2UgaW1wbGVtZW50cyBJU3RhdGVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHJpdmF0ZSBzdGF0ZSA9IDA7ICAvLyBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAwIC0gaW5pdGlhbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSAtIHNlbGVjdGluZyBwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMiAtIGRyYXdpbmcgbGluZVxuICAgIHByb3RlY3RlZCBzdGFjaz86IElDaGFydFN0YWNrO1xuXG4gICAgcHVibGljIG9uTW91c2VEb3duKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSwgc3RhY2s/OiBJQ2hhcnRTdGFjayk6IHZvaWQge1xuICAgICAgICBpZiAoIXN0YWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YWNrIGlzIG5vdCBzcGVjaWZpZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGFkZCBmaXJzdCBwb2ludCBhbmQgZml4IGl0XG4gICAgICAgICAgICB0aGlzLmFkZFBvaW50KG1vdXNlLnBvcyk7XG4gICAgICAgICAgICB0aGlzLmZpeFBvaW50KG1vdXNlLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSAyKSB7XG4gICAgICAgICAgICAvLyBmaXggbGFzdCBwb2ludCA9IGZpbmlzaCBsaW5lXG4gICAgICAgICAgICB0aGlzLmZpeFBvaW50KG1vdXNlLnBvcyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbk1vdXNlTW92ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGhvdmVyaW5nXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gZml4IGxhc3QgcG9pbnRcbiAgICAgICAgICAgIHRoaXMuZml4UG9pbnQobW91c2UucG9zKTtcbiAgICAgICAgICAgIC8vIGFkZCBuZXcgcG9pbnQgPSBzdGFydCBkcmF3aW5nIGxpbmVcbiAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQobW91c2UucG9zKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGNoYW5nZSBsYXN0IHBvaW50XG4gICAgICAgICAgICB0aGlzLnNldExhc3RQb2ludChtb3VzZS5wb3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VVcChib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHBvaW50IGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAvLyBmaXggbGFzdCBwb2ludFxuICAgICAgICAgICAgdGhpcy5maXhQb2ludChtb3VzZS5wb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmUgaXMgZHJhd24uIEFkZCBuZXcgcG9pbnQgYW5kIGdvXG4gICAgICAgICAgICAvLyBmaXggbGFzdCBwb2ludFxuICAgICAgICAgICAgdGhpcy5maXhQb2ludChtb3VzZS5wb3MpO1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBwb2ludCA9IHN0YXJ0IGRyYXdpbmcgbGluZVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gMTsgLy8gc3RhcnQgYW5vdGhlciBsaW5lXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZVdoZWVsKGJvYXJkOiBJQ2hhcnRCb2FyZCwgbW91c2U6IElNb3VzZSk6IHZvaWQgeyB9XG4gICAgcHVibGljIG9uTW91c2VFbnRlcihib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UpOiB2b2lkIHsgfVxuICAgIHB1YmxpYyBvbk1vdXNlTGVhdmUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlKTogdm9pZCB7IH1cblxuICAgIHB1YmxpYyBvblRvdWNoUGFuKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgb25Ub3VjaFRhcChib2FyZDogSUNoYXJ0Qm9hcmQsIHRvdWNoOiBJVG91Y2gsIHN0YWNrPzogSUNoYXJ0U3RhY2spOiB2b2lkIHtcbiAgICAgICAgaWYgKCFzdGFjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFjayBpcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhY2spIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAxIHx8IHRoaXMuc3RhdGUgPT09IDIpIHtcbiAgICAgICAgICAgIHRoaXMuZml4UG9pbnQodG91Y2guY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkUG9pbnQodG91Y2guY2VudGVyKTtcbiAgICAgICAgdGhpcy5maXhQb2ludCh0b3VjaC5jZW50ZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRvdWNoUHJlc3MoYm9hcmQ6IElDaGFydEJvYXJkLCB0b3VjaDogSVRvdWNoKTogdm9pZCB7IH1cbiAgICBwdWJsaWMgb25Ub3VjaFN3aXBlKGJvYXJkOiBJQ2hhcnRCb2FyZCwgdG91Y2g6IElUb3VjaCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWN0aXZhdGUoYm9hcmQ6IElDaGFydEJvYXJkLCBtb3VzZTogSU1vdXNlLCBzdGFjaz86IElDaGFydFN0YWNrLCBwYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAwO1xuICAgICAgICB0aGlzLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBwdWJsaWMgZGVhY3RpdmF0ZSgpOiB2b2lkIHsgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFkZFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkO1xuICAgIHByb3RlY3RlZCBmaXhQb2ludChwb2ludDogSVBvaW50KTogdm9pZCB7fTtcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc2V0TGFzdFBvaW50KHBvaW50OiBJUG9pbnQpOiB2b2lkO1xufVxuIiwiLyoqXG4gKiBQb2ludEZpZ3VyZUNvbXBvbmVudCBjbGFzc1xuICovXG5pbXBvcnQgeyBGaWd1cmVDb21wb25lbnQsIElDaGFydEJvYXJkLCBJQ2hhcnRpbmdTZXR0aW5ncywgSUNoYXJ0U3RhY2ssIElFZGl0YWJsZSwgSUhvdmVyYWJsZSwgSVNlbGVjdGFibGUsIElTdGF0ZUNvbnRyb2xsZXIsIE51bWJlck1hcmtlciwgVGltZU1hcmtlciB9XG4gICAgZnJvbSAnLi4vY29tcG9uZW50L2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIENvbW1hbmQsIENvbnN0YW50cywgSUF4aXMsIElDaGFydFBvaW50LCBJQ29vcmRzQ29udmVydGVyLCBJTW91c2UsIElUaW1lQXhpcywgSVRpbWVDb29yZENvbnZlcnRlciwgSVRvdWNoLCBJVmFsdWVDb29yZENvbnZlcnRlciwgTW91c2UsIFN0b3JlQ29udGFpbmVyLCBWaXN1YWxDb250ZXh0IH1cbiAgICBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0QXJlYSB9IGZyb20gJy4uL2xheW91dC9pbmRleCc7XG5pbXBvcnQgeyBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJUmVuZGVyTG9jYXRvciB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBFdmVudCwgSUV2ZW50LCBJSGFzaFRhYmxlLCBJUG9pbnQsIElTaXplLCBQb2ludCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBGaWd1cmVFZGl0U3RhdGVCYXNlIH0gZnJvbSAnLi9GaWd1cmVFZGl0U3RhdGVCYXNlJztcblxuZXhwb3J0IGNsYXNzIFBvaW50Q2hhbmdlZEV2ZW50IGV4dGVuZHMgRXZlbnQ8dm9pZD4ge1xufVxuXG5leHBvcnQgY2xhc3MgUG9pbnRDaGFuZ2VkQXJndW1lbnQge1xuICAgIHByaXZhdGUgcDogSVBvaW50O1xuXG4gICAgY29uc3RydWN0b3IocDogSVBvaW50KSB7XG4gICAgICAgIHRoaXMucCA9IHA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2ludEZpZ3VyZUNvbXBvbmVudCBleHRlbmRzIEZpZ3VyZUNvbXBvbmVudCBpbXBsZW1lbnRzIElIb3ZlcmFibGUsIElFZGl0YWJsZSwgSVNlbGVjdGFibGUge1xuICAgIHByaXZhdGUgdGltZU1hcmtlcjogVGltZU1hcmtlcjtcbiAgICBwcml2YXRlIHZhbHVlTWFya2VyOiBOdW1iZXJNYXJrZXI7XG4gICAgcHJpdmF0ZSBzdG9yZTogUG9pbnRTdG9yZTtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogSUNoYXJ0UG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5wb2ludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50KHZhbHVlOiBJQ2hhcnRQb2ludCkge1xuICAgICAgICB0aGlzLnN0b3JlLnBvaW50LnVpZCA9IHZhbHVlLnVpZDtcbiAgICAgICAgdGhpcy5zdG9yZS5wb2ludC52ID0gdmFsdWUudjtcbiAgICAgICAgdGhpcy5zdG9yZS5zZXRDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZEV2ZW50LnRyaWdnZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBpeGVsKCk6IElQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnBpeGVsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcGl4ZWwodmFsdWU6IElQb2ludCkge1xuICAgICAgICB0aGlzLnN0b3JlLnBpeGVsLnggPSB2YWx1ZS54O1xuICAgICAgICB0aGlzLnN0b3JlLnBpeGVsLnkgPSB2YWx1ZS55O1xuICAgICAgICB0aGlzLmNoYW5nZWRFdmVudC50cmlnZ2VyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwaXhlbE1vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnBpeGVsTW9kZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2hhbmdlZEV2ZW50ID0gbmV3IFBvaW50Q2hhbmdlZEV2ZW50KCk7XG4gICAgcHVibGljIGdldCBjaGFuZ2VkKCk6IElFdmVudDx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZWRFdmVudDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcmVhOiBDaGFydEFyZWEsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgc2V0dGluZ3M6IElDaGFydGluZ1NldHRpbmdzLFxuICAgICAgICBwcml2YXRlIHRheGlzOiBJVGltZUNvb3JkQ29udmVydGVyLFxuICAgICAgICBwcml2YXRlIHlheGlzOiBJVmFsdWVDb29yZENvbnZlcnRlcjxudW1iZXI+LFxuICAgICAgICBjb250YWluZXI/OiBTdG9yZUNvbnRhaW5lcixcbiAgICAgICAgcGl4ZWxNb2RlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIoJ1BvaW50Jywgb2Zmc2V0LCBzaXplLCBjb250YWluZXIgfHwgbmV3IFN0b3JlQ29udGFpbmVyKCkpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUG9pbnRTdG9yZShjb250YWluZXIgfHwgbmV3IFN0b3JlQ29udGFpbmVyKCkpO1xuXG4gICAgICAgIHRoaXMuc3RvcmUucGl4ZWxNb2RlID0gcGl4ZWxNb2RlO1xuXG4gICAgICAgIHRoaXMudmFsdWVNYXJrZXIgPSBuZXcgTnVtYmVyTWFya2VyKHRoaXMuYXJlYS5nZXRZQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB5YXhpcywgc2V0dGluZ3MsIHRoaXMuZ2V0VmFsdWUpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudmFsdWVNYXJrZXIpO1xuXG4gICAgICAgIHRoaXMudGltZU1hcmtlciA9IG5ldyBUaW1lTWFya2VyKHRoaXMuYXJlYS5nZXRYQXJlYSgpLCB0aGlzLm9mZnNldCwgdGhpcy5zaXplLCB0YXhpcywgdGhpcy5nZXRVaWQpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGltZU1hcmtlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRVaWQgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbE1vZGUgPyB0aGlzLnRheGlzLnRvVmFsdWUodGhpcy5waXhlbC54KSA6IHRoaXMucG9pbnQudWlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWUgPSAoY3R4OiBWaXN1YWxDb250ZXh0LCBzaXplOiBJU2l6ZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbE1vZGUgPyB0aGlzLnlheGlzLnRvVmFsdWUodGhpcy5waXhlbC55KSA6IHRoaXMucG9pbnQudjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNIaXQocDogSVBvaW50KTogYm9vbGVhbiB7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBpeGVsTW9kZSkge1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguc3FydCgodGhpcy5waXhlbC54IC0gcC54KSAqICh0aGlzLnBpeGVsLnggLSBwLngpICsgKHRoaXMucGl4ZWwueSAtIHAueSkgKiAodGhpcy5waXhlbC55IC0gcC55KSk7XG4gICAgICAgICAgICByZXR1cm4gZGlmZiA8IDU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2ludC51aWQgJiYgdGhpcy5wb2ludC52KSB7XG4gICAgICAgICAgICBjb25zdCBweCA9IHRoaXMudGF4aXMudG9YKHRoaXMucG9pbnQudWlkKTtcbiAgICAgICAgICAgIGNvbnN0IHB5ID0gdGhpcy55YXhpcy50b1godGhpcy5wb2ludC52KTtcblxuICAgICAgICAgICAgaWYgKHB4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguc3FydCgocHggLSBwLngpICogKHB4IC0gcC54KSArIChweSAtIHAueSkgKiAocHkgLSBwLnkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlmZiA8IDU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZWxlY3RlZChzZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIHRoaXMudGltZU1hcmtlci52aXNpYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgIHRoaXMudmFsdWVNYXJrZXIudmlzaWJsZSA9IHNlbGVjdGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRYWSgpOiBJUG9pbnR8dW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXhlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb2ludC51aWQgJiYgdGhpcy5wb2ludC52KSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy50YXhpcy50b1godGhpcy5wb2ludC51aWQpO1xuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueWF4aXMudG9YKHRoaXMucG9pbnQudik7XG4gICAgICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNoaWZ0KGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnBpeGVsID0geyB4OiB0aGlzLnBpeGVsLnggKyBkeCwgeTogdGhpcy5waXhlbC55ICsgZHkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvaW50LnVpZCAmJiB0aGlzLnBvaW50LnYpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdQb2ludCA9IG5ldyBDaGFydFBvaW50KHRoaXMucG9pbnQudWlkLCB0aGlzLnBvaW50LnYpO1xuICAgICAgICAgICAgY29uc3QgcHggPSB0aGlzLnRheGlzLnRvWCh0aGlzLnBvaW50LnVpZCk7XG4gICAgICAgICAgICBjb25zdCBweSA9IHRoaXMueWF4aXMudG9YKHRoaXMucG9pbnQudik7XG5cbiAgICAgICAgICAgIGlmIChweCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnQgPSB7IHVpZDogdGhpcy50YXhpcy50b1ZhbHVlKHB4ICsgZHgpLCB2OiB0aGlzLnlheGlzLnRvVmFsdWUocHkgKyBkeSkgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnN0b3JlLnBvaW50LmVxdWFscyhvcmlnUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNvbnRleHQ6IFZpc3VhbENvbnRleHQsIHJlbmRlckxvY2F0b3I6IElSZW5kZXJMb2NhdG9yKSB7XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgb24gZnJvbnRcbiAgICAgICAgaWYgKCFjb250ZXh0LnJlbmRlckZyb250KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29vcmQ6IElQb2ludHx1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLnBpeGVsTW9kZSkge1xuICAgICAgICAgICAgY29vcmQgPSB0aGlzLnBpeGVsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9pbnQudWlkICYmIHRoaXMucG9pbnQudikge1xuICAgICAgICAgICAgY29vcmQgPSB0aGlzLmdldFhZKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29vcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuYXJlYS5mcm9udENhbnZhcztcblxuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSG92ZXJlZCB8fCB0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuYXJjKGNvb3JkLngsIGNvb3JkLnksIDUsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjRkZGRkZGJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNjA2MDYwJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmZpbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjQzkwMDFEJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlbmRlcihjb250ZXh0LCByZW5kZXJMb2NhdG9yKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q3JlYXRlU3RhdGUoKTogSVN0YXRlQ29udHJvbGxlciB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RWRpdFN0YXRlKCk6IElTdGF0ZUNvbnRyb2xsZXIge1xuICAgICAgICByZXR1cm4gRWRpdFBvaW50U3RhdGUuaW5zdGFuY2U7XG4gICAgfVxufVxuXG5jbGFzcyBFZGl0UG9pbnRTdGF0ZSBleHRlbmRzIEZpZ3VyZUVkaXRTdGF0ZUJhc2Uge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBFZGl0UG9pbnRTdGF0ZTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEVkaXRQb2ludFN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpZ3VyZT86IFBvaW50RmlndXJlQ29tcG9uZW50O1xuICAgIHByaXZhdGUgdW5kbz86ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBpc0NoYW5nZWQgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBhY3RpdmF0ZShib2FyZDogSUNoYXJ0Qm9hcmQsIG1vdXNlOiBJTW91c2UsIHN0YWNrPzogSUNoYXJ0U3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzPzogSUhhc2hUYWJsZTxhbnk+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmFjdGl2YXRlKGJvYXJkLCBtb3VzZSwgc3RhY2ssIGFjdGl2YXRpb25QYXJhbWV0ZXJzKTtcblxuICAgICAgICBpZiAoc3RhY2sgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnMgJiYgYWN0aXZhdGlvblBhcmFtZXRlcnNbJ2NvbXBvbmVudCddKSB7XG4gICAgICAgICAgICB0aGlzLmZpZ3VyZSA9IDxQb2ludEZpZ3VyZUNvbXBvbmVudD5hY3RpdmF0aW9uUGFyYW1ldGVyc1snY29tcG9uZW50J107XG5cbiAgICAgICAgICAgIC8vc2F2ZSBzdGF0ZVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzdGFjay5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51bmRvID0gKCkgPT4geyBzdGFjay5yZXN0b3JlKHN0YXRlKTsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWRpdGFibGUgY29tcG9uZW50IGlzIG5vdCBzcGVjaWZpZWQgZm9yIGVkaXQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2hpZnQoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZHggfHwgZHkpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maWd1cmUgPyB0aGlzLmZpZ3VyZS5zaGlmdChkeCwgZHkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGV4aXQoYm9hcmQ6IElDaGFydEJvYXJkKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZCBjb21tYW5kIHRvIGhpc3RvcnlcbiAgICAgICAgaWYgKHRoaXMuaXNDaGFuZ2VkICYmIHRoaXMudW5kbykge1xuICAgICAgICAgICAgYm9hcmQucHVzaDJoaXN0b3J5KFxuICAgICAgICAgICAgICAgIG5ldyBDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eSBleGVjdXRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kb1xuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWd1cmUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudW5kbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc3VwZXIuZXhpdChib2FyZCk7XG4gICAgfVxufVxuXG5jbGFzcyBQb2ludFN0b3JlIHtcblxuICAgIHB1YmxpYyBnZXQgcG9pbnQoKTogQ2hhcnRQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm9wZXJ0eSgncG9pbnQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBvaW50KHZhbHVlOiBDaGFydFBvaW50KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdwb2ludCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBpeGVsKCk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdwaXhlbCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcGl4ZWwodmFsdWU6IFBvaW50KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldFByb3BlcnR5KCdwaXhlbCcsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHBpeGVsTW9kZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmdldFByb3BlcnR5KCdwaXhlbG1vZGUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBpeGVsTW9kZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRQcm9wZXJ0eSgncGl4ZWxtb2RlJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcjogU3RvcmVDb250YWluZXJcbiAgICApIHtcbiAgICAgICAgLy8gZW5zdXJlIHZhbHVlcyBhcmUgaW5pdGlhbGl6ZWRcbiAgICAgICAgY29uc3QgZHRvID0gY29udGFpbmVyLmdldE9iamVjdFByb3BlcnR5KCdwb2ludCcpO1xuICAgICAgICBjb25zdCB1aWQgPSBkdG8uZ2V0T2JqZWN0UHJvcGVydHkoJ3VpZCcpO1xuICAgICAgICBjb25zdCBtb2RlbFVpZCA9IG5ldyBVaWQodWlkLmdldFByb3BlcnR5KCd0JyksIHVpZC5nZXRQcm9wZXJ0eSgnbicpKTtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBkdG8gPyBuZXcgQ2hhcnRQb2ludChtb2RlbFVpZCwgZHRvLmdldFByb3BlcnR5KCd2JykpIDogbmV3IENoYXJ0UG9pbnQoKTtcbiAgICAgICAgY29udGFpbmVyLnNldFByb3BlcnR5KCdwb2ludCcsIG1vZGVsKTtcblxuICAgICAgICBjb250YWluZXIuc2V0UHJvcGVydHkoJ3BpeGVsJywgbmV3IFBvaW50KCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDaGFuZ2VkKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zZXRDaGFuZ2VkKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQ3VydmVGaWd1cmVDb21wb25lbnQsIERyYXdDdXJ2ZVN0YXRlIH0gZnJvbSAnLi9EcmF3Q3VydmVTdGF0ZSc7XG5pbXBvcnQgeyBEYXRlUmFuZ2VGaWd1cmVDb21wb25lbnQsIERyYXdEYXRlUmFuZ2VTdGF0ZSB9IGZyb20gJy4vRHJhd0RhdGVSYW5nZVN0YXRlJztcbmltcG9ydCB7IERyYXdFbGxpcHNlU3RhdGUsIEVsbGlwc2VGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdFbGxpcHNlU3RhdGUnO1xuaW1wb3J0IHsgRHJhd0ZpYm9GYW5TdGF0ZSwgRmlib0ZhbkZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0ZpYm9GYW5TdGF0ZSc7XG5pbXBvcnQgeyBEcmF3Rmlib0xldmVsU3RhdGUsIEZpYm9MZXZlbEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0ZpYm9MZXZlbFN0YXRlJztcbmltcG9ydCB7IERyYXdGaWJvUHJvamVjdGlvblN0YXRlLCBGaWJvUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0ZpYm9Qcm9qZWN0aW9uU3RhdGUnO1xuaW1wb3J0IHsgRHJhd0ZpYm9UaW1lUHJvamVjdGlvblN0YXRlLCBGaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdGaWJvVGltZVByb2plY3Rpb25TdGF0ZSc7XG5pbXBvcnQgeyBEcmF3R2FubkZhblN0YXRlLCBHYW5uRmFuRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3R2FubkZhblN0YXRlJztcbmltcG9ydCB7IERyYXdIb3Jpem9udGFsTGluZVN0YXRlLCBIb3Jpem9udGFsTGluZUZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0hvcml6b250YWxMaW5lU3RhdGUnO1xuaW1wb3J0IHsgRHJhd0xpbmVTdGF0ZSwgTGluZUZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vRHJhd0xpbmVTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3T2hsY1Byb2pTdGF0ZSwgT2hsY1Byb2pGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdPaGxjUHJvalN0YXRlJztcbmltcG9ydCB7IERyYXdQYXRoU3RhdGUsIFBhdGhGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdQYXRoU3RhdGUnO1xuaW1wb3J0IHsgRHJhd1BpdGNoZm9ya1N0YXRlLCBQaXRjaGZvcmtGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdQaXRjaGZvcmtTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3UmVjdFN0YXRlLCBSZWN0RmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3UmVjdFN0YXRlJztcbmltcG9ydCB7IERyYXdUZXh0U3RhdGUsIFRleHRGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdUZXh0U3RhdGUnO1xuaW1wb3J0IHsgRHJhd1RyZW5kQ2hhbm5lbFN0YXRlLCBUcmVuZENoYW5uZWxGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdUcmVuZENoYW5uZWxTdGF0ZSc7XG5pbXBvcnQgeyBEcmF3VHJpYW5nbGVTdGF0ZSwgVHJpYW5nbGVGaWd1cmVDb21wb25lbnQgfSBmcm9tICcuL0RyYXdUcmlhbmdsZVN0YXRlJztcbmltcG9ydCB7IERyYXdWZXJ0aWNhbExpbmVTdGF0ZSwgVmVydGljYWxMaW5lRmlndXJlQ29tcG9uZW50IH0gZnJvbSAnLi9EcmF3VmVydGljYWxMaW5lU3RhdGUnO1xuXG5pbXBvcnQgeyBQb2ludEZpZ3VyZUNvbXBvbmVudCB9IGZyb20gJy4vUG9pbnRGaWd1cmVDb21wb25lbnQnO1xuXG5leHBvcnQge1xuICAgIERyYXdDdXJ2ZVN0YXRlLFxuICAgIERyYXdEYXRlUmFuZ2VTdGF0ZSxcbiAgICBEcmF3RWxsaXBzZVN0YXRlLFxuICAgIERyYXdGaWJvRmFuU3RhdGUsXG4gICAgRHJhd0ZpYm9MZXZlbFN0YXRlLFxuICAgIERyYXdGaWJvUHJvamVjdGlvblN0YXRlLFxuICAgIERyYXdGaWJvVGltZVByb2plY3Rpb25TdGF0ZSxcbiAgICBEcmF3R2FubkZhblN0YXRlLFxuICAgIERyYXdIb3Jpem9udGFsTGluZVN0YXRlLFxuICAgIERyYXdMaW5lU3RhdGUsXG4gICAgRHJhd09obGNQcm9qU3RhdGUsXG4gICAgRHJhd1BhdGhTdGF0ZSxcbiAgICBEcmF3UGl0Y2hmb3JrU3RhdGUsXG4gICAgRHJhd1JlY3RTdGF0ZSxcbiAgICBEcmF3VGV4dFN0YXRlLFxuICAgIERyYXdUcmVuZENoYW5uZWxTdGF0ZSxcbiAgICBEcmF3VHJpYW5nbGVTdGF0ZSxcbiAgICBEcmF3VmVydGljYWxMaW5lU3RhdGUsXG4gICAgUG9pbnRGaWd1cmVDb21wb25lbnQsXG4gICAgLy8gZmlndXJlc1xuICAgIEN1cnZlRmlndXJlQ29tcG9uZW50LFxuICAgIERhdGVSYW5nZUZpZ3VyZUNvbXBvbmVudCxcbiAgICBFbGxpcHNlRmlndXJlQ29tcG9uZW50LFxuICAgIEZpYm9GYW5GaWd1cmVDb21wb25lbnQsXG4gICAgRmlib0xldmVsRmlndXJlQ29tcG9uZW50LFxuICAgIEZpYm9Qcm9qZWN0aW9uRmlndXJlQ29tcG9uZW50LFxuICAgIEZpYm9UaW1lUHJvamVjdGlvbkZpZ3VyZUNvbXBvbmVudCxcbiAgICBHYW5uRmFuRmlndXJlQ29tcG9uZW50LFxuICAgIEhvcml6b250YWxMaW5lRmlndXJlQ29tcG9uZW50LFxuICAgIExpbmVGaWd1cmVDb21wb25lbnQsXG4gICAgT2hsY1Byb2pGaWd1cmVDb21wb25lbnQsXG4gICAgUGF0aEZpZ3VyZUNvbXBvbmVudCxcbiAgICBQaXRjaGZvcmtGaWd1cmVDb21wb25lbnQsXG4gICAgUmVjdEZpZ3VyZUNvbXBvbmVudCxcbiAgICBUZXh0RmlndXJlQ29tcG9uZW50LFxuICAgIFRyZW5kQ2hhbm5lbEZpZ3VyZUNvbXBvbmVudCxcbiAgICBUcmlhbmdsZUZpZ3VyZUNvbXBvbmVudCxcbiAgICBWZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnRcbn07XG4iLCIvKipcbiAqIEF2ZXJhZ2UgRGlyZWN0aW9uYWwgSW5kZXggSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7XG4gICAgRG93bkRpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24sXG4gICAgVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLFxuICAgIFRydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IERNSUNhbmRsZXN0aWNrLCBETUlJbmRpY2F0b3IgfSBmcm9tICcuL0RNSUluZGljYXRvcic7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBleHBvcnQgY2xhc3MgQURYQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4vLyAgICAgLyoqIFxuLy8gICAgICAqIFNtb290aGVkIFRSXG4vLyAgICAgICovXG4vLyAgICAgcHVibGljIFRSQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuLy8gICAgIC8qKlxuLy8gICAgICAqIFNtb290aGVkICtETVxuLy8gICAgICAqL1xuLy8gICAgIHB1YmxpYyBwRE1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4vLyAgICAgLyoqXG4vLyAgICAgICogU21vb3RoZWQgLURNXG4vLyAgICAgICovXG4vLyAgICAgcHVibGljIG1ETUE6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuLy8gICAgIHB1YmxpYyBEWDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuLy8gfVxuXG5leHBvcnQgY2xhc3MgQURYQ2FuZGxlc3RpY2sgZXh0ZW5kcyBETUlDYW5kbGVzdGljayB7XG4gICAgcHVibGljIERYOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuICdBRFg6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBRFhJbmRpY2F0b3IgZXh0ZW5kcyBETUlJbmRpY2F0b3Ige1xuXG4gICAgcHJpdmF0ZSBhZHhtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0FEWCc7XG5cbiAgICAgICAgdGhpcy5hZHhtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5BRFgpO1xuXG4gICAgICAgIC8vIEFEWCByZXF1aXJlcyBUUiwgK0RNLCAtRE1cbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKFRydWVSYW5nZUV4dGVuc2lvbi51bmFtZSwgbmV3IFRydWVSYW5nZUV4dGVuc2lvbigpKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbi51bmFtZSwgbmV3IFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbigpKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLnVuYW1lLCBuZXcgRG93bkRpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24oKSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PEFEWENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQURYQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZERNSSA9IHN1cGVyLmNvbXB1dGVPbmUoc291cmNlSXRlbXMsIGNvbXB1dGVkQXJyYXksIGFjY2Vzc29yKTtcblxuICAgICAgICAgICAgLy8gQ29weSB2YWx1ZXMgZnJvbSBjb21wdXRlZCBETUlcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IEFEWENhbmRsZXN0aWNrKGNvbXB1dGVkRE1JLmRhdGUpO1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gY29tcHV0ZWRETUkudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBjb21wdXRlZERNSS51aWQubjtcblxuICAgICAgICAgICAgY29tcHV0ZWQuVFJBID0gY29tcHV0ZWRETUkuVFJBO1xuICAgICAgICAgICAgY29tcHV0ZWQucERNQSA9IGNvbXB1dGVkRE1JLnBETUE7XG4gICAgICAgICAgICBjb21wdXRlZC5tRE1BID0gY29tcHV0ZWRETUkubURNQTtcbiAgICAgICAgICAgIGNvbXB1dGVkLkRYID0gY29tcHV0ZWRETUkuYztcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBBRFhcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEFEWCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5hZHhtYS5jb21wdXRlKE4sIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxBRFhDYW5kbGVzdGljaz5pdGVtKS5EWCwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEFEWCk7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEF2ZXJhZ2UgVHJ1ZSBSYW5nZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIEFUUiA9IChBVFIgcHJldiB4IChuIC0gMSkgKyBUUikgLyBuXG5cbmV4cG9ydCBjbGFzcyBBVFJJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQVRSJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkFEWCk7XG5cbiAgICAgICAgLy8gQURYIHJlcXVpcmVzIFRSXG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbihUcnVlUmFuZ2VFeHRlbnNpb24udW5hbWUsIG5ldyBUcnVlUmFuZ2VFeHRlbnNpb24oKSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IHZhbHVlID0gdGhpcy5hY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICAgICAgLy8gaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFZhbHVlID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXB1dGVkLmMgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGMgPT4gYy5leHRbJ3RyJ10sIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEFsbGlnYXRvckluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBUcmlwbGVDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrIHtcbiAgICBwdWJsaWMgamF3OiBDYW5kbGVzdGljaztcbiAgICBwdWJsaWMgdGVldGg6IENhbmRsZXN0aWNrO1xuICAgIHB1YmxpYyBsaXBzOiBDYW5kbGVzdGljaztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRlOiBEYXRlLCBjPzogbnVtYmVyLCBvPzogbnVtYmVyLCBoPzogbnVtYmVyLCBsPzogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKGRhdGUsIGMsIG8sIGgsIGwpO1xuXG4gICAgICAgIHRoaXMuamF3ID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgICAgICB0aGlzLnRlZXRoID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgICAgICB0aGlzLmxpcHMgPSBuZXcgQ2FuZGxlc3RpY2soZGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmphdyAmJiB0aGlzLmphdy5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmphdy5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyAvICdcbiAgICAgICAgICAgICsgYCR7dGhpcy50ZWV0aCAmJiB0aGlzLnRlZXRoLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMudGVldGguYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMubGlwcyAmJiB0aGlzLmxpcHMuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5saXBzLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbGxpZ2F0b3JJbmRpY2F0b3IgZXh0ZW5kcyBJbmRpY2F0b3JEYXRhU291cmNlPFRyaXBsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKFRyaXBsZUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnYWxsaWdhdG9yJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgdW5kZSAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcbiAgICAgICAgLy8gR2VuZXJhdGUgZnV0dXJlIHRpbWUgd2hlbiBzaGlmdCBpbmRpY2F0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlKTtcblxuICAgICAgICBjb25zdCBOID0gMTM7XG5cbiAgICAgICAgY29uc3QgZnNhcnJheSA9IG5ldyBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcblxuICAgICAgICAvLyBHZXQgc291cmNlIGRhdGEgd2l0aG91dCBsb2FkaW5nXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuc291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gU2VsZWN0IGxhc3Qgc291cmNlIHZhbHVlc1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgZG9lcyBub3QgY29udGFpbiB1cGRhdGVkIGRhdGEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBJbmRpY2F0b3JEYXRhU291cmNlLmdldFByZXZpb3VzSXRlbXMoaXRlcmF0b3IsIE4gLSAxKTtcbiAgICAgICAgICAgIGZzYXJyYXkucHVzaFJhbmdlKHByZXYpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByZXZKYXc6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByZXZUZWV0aDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJldkxpcHM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gR2V0IGxhdGVzdCBtb3ZpbmcgYXZlcmFnZSBmcm9tIHN0b3JhZ2UuIEFzIHJlc3VsdCB3aWxsIGJlIHNoaWZ0ZWQgdGhlIGxhc3QgTUEgd2UgYXJlIHRha2luZyBpcyBhbHNvIHNoaWZ0ZWQuXG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoaXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyLm1vdmVUaW1lcygzKSA9PT0gMykgeyAgLy8gdG90YWwgbW92ZSA9IDVcbiAgICAgICAgICAgICAgICAgICAgcHJldkxpcHMgPSBpdGVyLmN1cnJlbnQubGlwcy5jO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVyLm1vdmVUaW1lcygyKSA9PT0gMikgeyAgLy8gdG90YWwgbW92ZSA9IDVcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUZWV0aCA9IGl0ZXIuY3VycmVudC50ZWV0aC5jO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlci5tb3ZlVGltZXMoMykgPT09IDMpIHsgIC8vIHRvdGFsIG1vdmUgPSA4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkphdyA9IGl0ZXIuY3VycmVudC5qYXcuYztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWl0ZXJhdG9yLm1vdmVOZXh0KCkpIHsgcmV0dXJuOyB9IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gZ2VuZXJhdGUgamF3OiBhcnJheVtdXG4gICAgICAgIC8vIGdlbmVyYXRlIHRlZXRoOiBhcnJheVtdXG4gICAgICAgIC8vIGdlbmVyYXRlIGxpcHM6IGFycmF5W11cbiAgICAgICAgLy8gXG4gICAgICAgIGNvbnN0IGphdzogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuICAgICAgICBjb25zdCB0ZWV0aDogQ2FuZGxlc3RpY2tbXSA9IFtdO1xuICAgICAgICBjb25zdCBsaXBzOiBDYW5kbGVzdGlja1tdID0gW107XG5cbiAgICAgICAgY29uc3QgbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU21vb3RoZWQpO1xuXG4gICAgICAgIGNvbnN0IGZpcnN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG4gICAgICAgIGxldCBsYXN0VWlkO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsYXN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGl0ZXJhdG9yLmN1cnJlbnQ7XG4gICAgICAgICAgICBmc2FycmF5LnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IGogPSBuZXcgQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgai51aWQudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGoudWlkLm4gPSBzb3VyY2UudWlkLm47XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIHQudWlkLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICB0LnVpZC5uID0gc291cmNlLnVpZC5uO1xuICAgICAgICAgICAgY29uc3QgbCA9IG5ldyBDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBsLnVpZC50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgbC51aWQubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBqLmMgPSBtYS5jb21wdXRlKDEzLCBmc2FycmF5LCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBwcmV2SmF3KTsgIHByZXZKYXcgPSBqLmM7XG4gICAgICAgICAgICAgICAgdC5jID0gbWEuY29tcHV0ZSg4LCBmc2FycmF5LCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBwcmV2VGVldGgpOyBwcmV2VGVldGggPSB0LmM7XG4gICAgICAgICAgICAgICAgbC5jID0gbWEuY29tcHV0ZSg1LCBmc2FycmF5LCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBwcmV2TGlwcyk7ICBwcmV2TGlwcyA9IGwuYztcblxuICAgICAgICAgICAgICAgIGouaCA9IGouYztcbiAgICAgICAgICAgICAgICBqLmwgPSBqLmM7XG4gICAgICAgICAgICAgICAgdC5oID0gdC5jO1xuICAgICAgICAgICAgICAgIHQubCA9IHQuYztcbiAgICAgICAgICAgICAgICBsLmggPSBsLmM7XG4gICAgICAgICAgICAgICAgbC5sID0gbC5jO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBqYXcucHVzaChqKTtcbiAgICAgICAgICAgIHRlZXRoLnB1c2godCk7XG4gICAgICAgICAgICBsaXBzLnB1c2gobCk7XG5cbiAgICAgICAgfSB3aGlsZSAoaXRlcmF0b3IubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gU2hpZnQgYWxsIC8gU2hpZnQgVUlEIEFORCBUSU1FLiBNZXJnaW5nIHdpbGwgYmUgZG9uZSB3aXRoIFVJRCwgc28gVUlEIHNob3VsZCBzdGF5IG9uIHRoZSBzYW1lIHBsYWNlLlxuICAgICAgICAvLyAuLi4gQWRkIFggYmFycyBpbiB0aGUgZnV0dXJlXG4gICAgICAgIC8vIC4uLiBjb3B5IGRhdGEgdG8gcmlnaHRcbiAgICAgICAgLy8gLi4uIFxuICAgICAgICAvLyBqYXcgc2hpZnQgYnkgOCBiYXJzICBcbiAgICAgICAgLy8gdGVldGggc2hpZnQgYnkgNSBiYXJzXG4gICAgICAgIC8vIGxpcHMgc2hpZnQgYnkgMyBiYXJzXG5cbiAgICAgICAgLy8gTWFrZSBmYWtlIGNhbmRsZXMgb24gdGhlIHJpZ2h0IHNpZGUuXG4gICAgICAgIGxldCBsYXN0RGF0ZSA9IGphd1tqYXcubGVuZ3RoIC0gMV0uZGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGxhc3REYXRlID0gdGhpcy5hZGRJbnRlcnZhbChsYXN0RGF0ZSwgMSk7XG4gICAgICAgICAgICBjb25zdCBmYWtlID0gbmV3IENhbmRsZXN0aWNrKGxhc3REYXRlKTtcbiAgICAgICAgICAgIC8vZmFrZS51aWQudCA9IGxhc3REYXRlLmdldFRpbWUoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgamF3LnB1c2goZmFrZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdERhdGUgPSB0ZWV0aFt0ZWV0aC5sZW5ndGggLSAxXS5kYXRlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkgKz0gMSkge1xuICAgICAgICAgICAgbGFzdERhdGUgPSB0aGlzLmFkZEludGVydmFsKGxhc3REYXRlLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGZha2UgPSBuZXcgQ2FuZGxlc3RpY2sobGFzdERhdGUpO1xuICAgICAgICAgICAgLy9mYWtlLnVpZCA9IGxhc3REYXRlLmdldFRpbWUoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgdGVldGgucHVzaChmYWtlKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0RGF0ZSA9IGxpcHNbbGlwcy5sZW5ndGggLSAxXS5kYXRlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgICAgICAgICAgbGFzdERhdGUgPSB0aGlzLmFkZEludGVydmFsKGxhc3REYXRlLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGZha2UgPSBuZXcgQ2FuZGxlc3RpY2sobGFzdERhdGUpO1xuICAgICAgICAgICAgLy9mYWtlLnVpZCA9IGxhc3REYXRlLmdldFRpbWUoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgbGlwcy5wdXNoKGZha2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hpZnQgdmFsdWVzXG5cbiAgICAgICAgdGhpcy5zaGlmdChqYXcsIDgpO1xuICAgICAgICB0aGlzLnNoaWZ0KHRlZXRoLCA1KTtcbiAgICAgICAgdGhpcy5zaGlmdChsaXBzLCAzKTtcblxuICAgICAgICAvLyBSZW1vdmUgZmlyc3QgaXRlbXMgYXMgdGhleSBhcmUgZW1wdHlcbiAgICAgICAgamF3LnNwbGljZSgwLCA4KTtcbiAgICAgICAgdGVldGguc3BsaWNlKDAsIDUpO1xuICAgICAgICBsaXBzLnNwbGljZSgwLCAzKTtcblxuICAgICAgICAvLyBtZXJnZSBhbGwgMyB0byBvbmUuIEN1c3RvbSBtZXJnZSBvbmUgYnkgb25lLCBub3QgYWxsIDMgdG9nZXRoZXIuIEJlY2F1c2Ugb2YgdGhlaXIgZGlmZmVyZW50IHJlbGF0aXZlIHNoaWZ0LlxuICAgICAgICB0aGlzLm1lcmdlTGluZShqYXcsIDApO1xuICAgICAgICB0aGlzLm1lcmdlTGluZSh0ZWV0aCwgMSk7XG4gICAgICAgIHRoaXMubWVyZ2VMaW5lKGxpcHMsIDIpO1xuXG4gICAgICAgIC8vIE1lcmdlIG5ldyBkYXRhIGFuZCBub3RpZnkgc3Vic2NyaWJlcnNcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KGZpcnN0VWlkLCBsYXN0VWlkLCBqYXcubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1lcmdlTGluZShhcnJheTogQ2FuZGxlc3RpY2tbXSwgbGluZTogbnVtYmVyKSB7XG4gICAgICAgIC8vIFByZXBhcmUgVHJpcGxlQ2FuZGxlc3RpY2sgYXJyYXlcbiAgICAgICAgY29uc3QgdHJpcGxlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBUcmlwbGVDYW5kbGVzdGljayhpdGVtLmRhdGUpO1xuICAgICAgICAgICAgc3dpdGNoIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiB0LmphdyA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogdC50ZWV0aCA9IGl0ZW07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogdC5saXBzID0gaXRlbTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIHR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQudWlkLnQgPSBpdGVtLnVpZC50O1xuICAgICAgICAgICAgdC51aWQubiA9IGl0ZW0udWlkLm47XG4gICAgICAgICAgICAvL3QuYyA9IGl0ZW0uYztcbiAgICAgICAgICAgIHQuaCA9IGl0ZW0uaDtcbiAgICAgICAgICAgIHQubCA9IGl0ZW0ubDtcbiAgICAgICAgICAgIHRyaXBsZS5wdXNoKHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWVyZ2UgZWFjaCBwYXJ0IHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZSh0cmlwbGUsICh0YXJnZXQsIHVwZGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuamF3ID0gdXBkYXRlLmphdztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQudGVldGggPSB1cGRhdGUudGVldGg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmxpcHMgPSB1cGRhdGUubGlwcztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIHR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFyZ2V0LmggIT09IHVuZGVmaW5lZCAmJiB1cGRhdGUuaCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5oIDwgdXBkYXRlLmgpXG4gICAgICAgICAgICAgICAgfHwgKHRhcmdldC5oID09PSB1bmRlZmluZWQgJiYgdXBkYXRlLmggIT09IHVuZGVmaW5lZCkpIHsgdGFyZ2V0LmggPSB1cGRhdGUuaDsgfVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQubCAhPT0gdW5kZWZpbmVkICYmIHVwZGF0ZS5sICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LmwgPiB1cGRhdGUubClcbiAgICAgICAgICAgICAgICB8fCAodGFyZ2V0LmwgPT09IHVuZGVmaW5lZCAmJiB1cGRhdGUubCAhPT0gdW5kZWZpbmVkKSkgeyB0YXJnZXQubCA9IHVwZGF0ZS5sOyB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNoaWZ0KGFycmF5OiBDYW5kbGVzdGlja1tdLCBuOiBudW1iZXIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gbjsgaSAtPSAxKSB7XG4gICAgICAgICAgICBhcnJheVtpXS5jID0gYXJyYXlbaSAtIG5dLmM7XG4gICAgICAgICAgICBhcnJheVtpXS5vID0gYXJyYXlbaSAtIG5dLm87XG4gICAgICAgICAgICBhcnJheVtpXS5oID0gYXJyYXlbaSAtIG5dLmg7XG4gICAgICAgICAgICBhcnJheVtpXS5sID0gYXJyYXlbaSAtIG5dLmw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbGxpZ2F0b3JJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgLy9wcml2YXRlIHN0YXRpYyBpbnN0PzogQWxsaWdhdG9ySW5kaWNhdG9yUmVuZGVyZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIC8vIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlKCk6IEFsbGlnYXRvckluZGljYXRvclJlbmRlcmVyIHtcbiAgICAvLyAgICAgaWYgKCF0aGlzLmluc3QpIHtcbiAgICAvLyAgICAgICAgIHRoaXMuaW5zdCA9IG5ldyBBbGxpZ2F0b3JJbmRpY2F0b3JSZW5kZXJlcigpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgLy8gfVxuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIC8vIFJlbmRlclxuICAgICAgICAvL1xuICAgICAgICAvLyBib3JkZXIgbGluZXNcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcbiAgICAgICAgLy8gLi4uIGxlZnRcbiAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54LCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gYm90dG9tXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gcmlnaHRcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzAwMjZGRicpO1xuICAgICAgICAvLyBKYXdcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRyaXBsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJpcGxlID0gPFRyaXBsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKHRyaXBsZS5qYXcgJiYgdHJpcGxlLmphdy5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0cmlwbGUuamF3LmM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkYwODAwJyk7XG4gICAgICAgIC8vIFRlZXRoXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUcmlwbGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaXBsZSA9IDxUcmlwbGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmICh0cmlwbGUudGVldGggJiYgdHJpcGxlLnRlZXRoLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRyaXBsZS50ZWV0aC5jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzM5OUYxNicpO1xuICAgICAgICAvLyBMaXBzXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUcmlwbGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaXBsZSA9IDxUcmlwbGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmICh0cmlwbGUubGlwcyAmJiB0cmlwbGUubGlwcy5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0cmlwbGUubGlwcy5jO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCd2aXN1YWwnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIEFyb29uIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IENoYXJ0UmVuZGVyZXIsIElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuZXhwb3J0IGNsYXNzIERvdWJsZUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgcHVibGljIHVwOiBDYW5kbGVzdGljaztcbiAgICBwdWJsaWMgZG93bjogQ2FuZGxlc3RpY2s7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcblxuICAgICAgICB0aGlzLnVwID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgICAgICB0aGlzLmRvd24gPSBuZXcgQ2FuZGxlc3RpY2soZGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnVwICYmIHRoaXMudXAuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy51cC5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyAvICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5kb3duICYmIHRoaXMuZG93bi5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmRvd24uYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFyb29uSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERvdWJsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKERvdWJsZUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQVJPJztcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDE0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RG91YmxlQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVBcm9vbihzb3VyY2VJdGVtcywgdGhpcy5zZXR0aW5ncy5wZXJpb2QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd1cHBlcnRocmVzaG9sZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd1cHBlcnRocmVzaG9sZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy51cHBlclRocmVzaG9sZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1VwcGVyIHRocmVzaG9sZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2xvd2VydGhyZXNob2xkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2xvd2VydGhyZXNob2xkJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmxvd2VyVGhyZXNob2xkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTG93ZXIgdGhyZXNob2xkJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdXBwZXJ0aHJlc2hvbGQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnVwcGVydGhyZXNob2xkJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudXBwZXJUaHJlc2hvbGQgPVxuICAgICAgICAgICAgKHVwcGVydGhyZXNob2xkICYmIHVwcGVydGhyZXNob2xkLnZhbHVlKSA/IHBhcnNlSW50KHVwcGVydGhyZXNob2xkLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnVwcGVyVGhyZXNob2xkO1xuXG4gICAgICAgIGNvbnN0IGxvd2VydGhyZXNob2xkID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5sb3dlcnRocmVzaG9sZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmxvd2VyVGhyZXNob2xkID1cbiAgICAgICAgICAgIChsb3dlcnRocmVzaG9sZCAmJiBsb3dlcnRocmVzaG9sZC52YWx1ZSkgPyBwYXJzZUludChsb3dlcnRocmVzaG9sZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5sb3dlclRocmVzaG9sZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXJvb25Pc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERvdWJsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKERvdWJsZUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQU9TJztcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDE0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RG91YmxlQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVBcm9vbihzb3VyY2VJdGVtcywgdGhpcy5zZXR0aW5ncy5wZXJpb2QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAtMTAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXJvb25JbmRpY2F0b3JSZW5kZXJlciBleHRlbmRzIENoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICBjb25zdCB6b25ldmlzaWJsZSA9IHRoaXMuc2V0dGluZ3Muem9uZS52aXNpYmxlO1xuICAgICAgICBjb25zdCBmaWxsID0gdGhpcy5zZXR0aW5ncy56b25lLmZpbGw7XG4gICAgICAgIGNvbnN0IGZpbGxjb2xvciA9IHRoaXMuc2V0dGluZ3Muem9uZS5maWxsY29sb3I7XG4gICAgICAgIGNvbnN0IHNob3d0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLnpvbmUuc2hvd3RocmVzaG9sZDtcbiAgICAgICAgY29uc3QgdXB0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLnpvbmUudXB0aHJlc2hvbGQ7XG4gICAgICAgIGNvbnN0IGxvd3RocmVzaG9sZCA9IHRoaXMuc2V0dGluZ3Muem9uZS5sb3d0aHJlc2hvbGQ7XG5cbiAgICAgICAgY29uc3QgdXBwZXIgPSB5QXhpcy50b1godXB0aHJlc2hvbGQpO1xuICAgICAgICBjb25zdCBsb3dlciA9IHlBeGlzLnRvWChsb3d0aHJlc2hvbGQpO1xuXG4gICAgICAgIC8vIEZpbGwgYXJlYSBiL3cgdG9wIGFuZCBib3R0b20gem9uZSBsaW5lc1xuICAgICAgICBpZiAoem9uZXZpc2libGUgJiYgZmlsbCkge1xuICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZShmaWxsY29sb3IpO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KGZyYW1lLngsIE1hdGgubWluKHVwcGVyLCBsb3dlciksIGZyYW1lLnggKyBmcmFtZS53LCBNYXRoLmFicyh1cHBlciAtIGxvd2VyKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEcmF3IHpvbmUgbGluZXNcbiAgICAgICAgaWYgKHpvbmV2aXNpYmxlICYmIHNob3d0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLnpvbmUudGxpbmVjb2xvcik7XG4gICAgICAgICAgICBjYW52YXMuc2V0TGluZURhc2goUmVuZGVyVXRpbHMuUEFUVEVSTjJTRUcodGhpcy5zZXR0aW5ncy56b25lLnRsaW5lcGF0dGVybikpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCB1cHBlcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53LCB1cHBlcik7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSh0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVjb2xvcik7XG4gICAgICAgICAgICBjYW52YXMuc2V0TGluZURhc2goUmVuZGVyVXRpbHMuUEFUVEVSTjJTRUcodGhpcy5zZXR0aW5ncy56b25lLmJsaW5lcGF0dGVybikpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZXdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBsb3dlcik7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53LCBsb3dlcik7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGNTkwMCcpO1xuICAgICAgICBjYW52YXMuc2V0TGluZURhc2goW10pO1xuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gMTtcblxuICAgICAgICAvLyBVcFxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRG91YmxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gPERvdWJsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGQgJiYgZC51cCAmJiBkLnVwLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQudXAuYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzRDVBRkYnKTtcbiAgICAgICAgLy8gRG93blxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRG91YmxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gPERvdWJsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGQgJiYgZC5kb3duICYmIGQuZG93bi5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkLmRvd24uYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCB6b25lID0gc3VwZXIuZ2V0Wm9uZXNTZXR0aW5ncygpO1xuXG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IG5ldyBTZXR0aW5nU2V0KCd2aXN1YWwnKTtcbiAgICAgICAgdmlzdWFsLnNldFNldHRpbmcoJ3pvbmVzJywgem9uZSk7XG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSBzZXR0aW5ncy5nZXRTZXR0aW5nKCd2aXN1YWwuem9uZXMnKTtcbiAgICAgICAgaWYgKHpvbmUpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldFpvbmVzU2V0dGluZ3Moem9uZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVBcm9vbihzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LCBwZXJpb2Q6IG51bWJlcik6IERvdWJsZUNhbmRsZXN0aWNrIHtcblxuICAgIGNvbnN0IE4gPSBwZXJpb2Q7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuXG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgRG91YmxlQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICBjb25zdCBpbmRleE9mSGlnaGVzdCA9IHNvdXJjZUl0ZW1zLm1heEluZGV4KGl0ZW0gPT4gaXRlbS5oKTtcbiAgICBjb25zdCBpbmRleE9mTG93ZXN0ID0gc291cmNlSXRlbXMubWluSW5kZXgoaXRlbSA9PiBpdGVtLmwpO1xuXG4gICAgaWYgKGluZGV4T2ZIaWdoZXN0ID49IDApIHtcbiAgICAgICAgY29uc3QgZGF5U2luY2UgPSBzb3VyY2VJdGVtcy5sZW5ndGggLSAoaW5kZXhPZkhpZ2hlc3QgKyAxKTtcbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gMTAwICogKE4gLSBkYXlTaW5jZSkgLyBOO1xuICAgICAgICBjb21wdXRlZC51cC5jID0gaW5kaWNhdG9yO1xuICAgICAgICBjb21wdXRlZC51cC5oID0gaW5kaWNhdG9yO1xuICAgICAgICBjb21wdXRlZC51cC5sID0gaW5kaWNhdG9yO1xuICAgIH1cblxuICAgIGlmIChpbmRleE9mTG93ZXN0ID49IDApIHtcbiAgICAgICAgY29uc3QgZGF5U2luY2UgPSBzb3VyY2VJdGVtcy5sZW5ndGggLSAoaW5kZXhPZkxvd2VzdCArIDEpO1xuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSAxMDAgKiAoTiAtIGRheVNpbmNlKSAvIE47XG4gICAgICAgIGNvbXB1dGVkLmRvd24uYyA9IGluZGljYXRvcjtcbiAgICAgICAgY29tcHV0ZWQuZG93bi5oID0gaW5kaWNhdG9yO1xuICAgICAgICBjb21wdXRlZC5kb3duLmwgPSBpbmRpY2F0b3I7XG4gICAgfVxuXG4gICAgLy8gQXJvb24gb3NjaWxsYXRvciA9IEFyb29uLVVwIC0gQXJvb24tRG93blxuICAgIGlmIChjb21wdXRlZC51cC5jICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuZG93bi5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29tcHV0ZWQuYyA9IGNvbXB1dGVkLnVwLmMgLSBjb21wdXRlZC5kb3duLmM7XG4gICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG59XG4iLCIvKipcbiAqIEJvbGxpbmdlckluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgVHJpcGxlQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGljayB7XG4gICAgcHVibGljIHRvcDogQ2FuZGxlc3RpY2s7XG4gICAgcHVibGljIG1pZGRsZTogQ2FuZGxlc3RpY2s7XG4gICAgcHVibGljIGJvdHRvbTogQ2FuZGxlc3RpY2s7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcblxuICAgICAgICB0aGlzLnRvcCA9IG5ldyBDYW5kbGVzdGljayhkYXRlKTtcbiAgICAgICAgdGhpcy5taWRkbGUgPSBuZXcgQ2FuZGxlc3RpY2soZGF0ZSk7XG4gICAgICAgIHRoaXMuYm90dG9tID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50b3AgJiYgdGhpcy50b3AuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy50b3AuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMubWlkZGxlICYmIHRoaXMubWlkZGxlLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMubWlkZGxlLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmJvdHRvbSAmJiB0aGlzLmJvdHRvbS5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmJvdHRvbS5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm9sbGluZ2VySW5kaWNhdG9yIGV4dGVuZHMgSW5kaWNhdG9yRGF0YVNvdXJjZTxUcmlwbGVDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihUcmlwbGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ2JvbGxpbmdlcic7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGUoYXJnPzogRGF0YUNoYW5nZWRBcmd1bWVudCk6IERhdGFDaGFuZ2VkQXJndW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICAvLyBJZiBhcmcgaXMgbm90IGRlZmluZWQgYnVpbGQgYWxsIGRhdGFcbiAgICAgICAgLy8gQ29tcHV0ZSBkYXRhIHRpbGwgdGhlIGVuZCAodXBkYXRlIGRhdGEgZnJvbSBjdXJyZW50IHBsYWNlIHRvIGVuZClcbiAgICAgICAgY29uc3QgYWNjZXNzb3IgPSBWYWx1ZUFjY2Vzc29yRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2UpO1xuXG4gICAgICAgIGNvbnN0IE4gPSAyMDtcbiAgICAgICAgY29uc3QgSyA9IDI7XG4gICAgICAgIGNvbnN0IGZzYXJyYXkgPSBuZXcgRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+KE4sIChsaHMsIHJocykgPT4geyB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4nKTsgfSk7XG5cbiAgICAgICAgLy8gR2V0IHNvdXJjZSBkYXRhIHdpdGhvdXQgbG9hZGluZ1xuICAgICAgICBjb25zdCBpdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4gPSB0aGlzLnNvdXJjZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIC8vIFNlbGVjdCBsYXN0IHNvdXJjZSB2YWx1ZXNcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gSW5kaWNhdG9yRGF0YVNvdXJjZS5nZXRQcmV2aW91c0l0ZW1zKGl0ZXJhdG9yLCBOIC0gMSk7XG4gICAgICAgICAgICBmc2FycmF5LnB1c2hSYW5nZShwcmV2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBsYXRlc3QgbW92aW5nIGF2ZXJhZ2UgZnJvbSBzdG9yYWdlXG4gICAgICAgIGxldCBwcmV2TUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChpdGVyLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApICYmIGl0ZXIubW92ZVByZXYoKSkge1xuICAgICAgICAgICAgICAgIHByZXZNQSA9IGl0ZXIuY3VycmVudC5taWRkbGUuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaXRlcmF0b3IuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWl0ZXJhdG9yLm1vdmVOZXh0KCkpIHsgcmV0dXJuOyB9IC8vIEZpbmlzaCBpZiBubyBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGlvbnNcbiAgICAgICAgLy8gXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkQXJyYXk6IFRyaXBsZUNhbmRsZXN0aWNrW10gPSBbXTtcblxuICAgICAgICBjb25zdCBtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5TbW9vdGhlZCk7XG5cbiAgICAgICAgY29uc3QgZmlyc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcbiAgICAgICAgbGV0IGxhc3RVaWQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxhc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGl0ZXJhdG9yLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFRyaXBsZUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZC50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGZzYXJyYXkucHVzaChzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgeyAvLyBoYXMgdmFsdWVcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5taWRkbGUuYyA9IG1hLmNvbXB1dGUoTiwgZnNhcnJheSwgYWNjZXNzb3IsIHVuZGVmaW5lZCwgcHJldk1BKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5taWRkbGUuaCA9IGNvbXB1dGVkLm1pZGRsZS5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLm1pZGRsZS5sID0gY29tcHV0ZWQubWlkZGxlLmM7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQubWlkZGxlLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciBtb3ZpbmcgYXZnIGlzIGNvbXB1dGVkLCBjdXJyZW50IHZhbHVlIGNhbiBiZSBwdXNoZWQgdG8gYXJyYXksIHRvIGNhbGN1bGF0ZSBzdGQgZGV2aWF0aW9uLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFuZGFyZERldmlhdGlvbiA9IFV0aWxzLlNURERFVihmc2FycmF5LCBhY2Nlc3NvciwgY29tcHV0ZWQubWlkZGxlLmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFuZGFyZERldmlhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50b3AuYyA9IGNvbXB1dGVkLm1pZGRsZS5jICsgSyAqIHN0YW5kYXJkRGV2aWF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQudG9wLmggPSBjb21wdXRlZC50b3AuYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRvcC5sID0gY29tcHV0ZWQubWlkZGxlLmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmJvdHRvbS5jID0gY29tcHV0ZWQubWlkZGxlLmMgLSBLICogc3RhbmRhcmREZXZpYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5ib3R0b20uaCA9IGNvbXB1dGVkLmJvdHRvbS5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYm90dG9tLmwgPSBjb21wdXRlZC5ib3R0b20uYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IE1hdGgubWF4KGNvbXB1dGVkLnRvcC5oLCBjb21wdXRlZC5ib3R0b20uaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5taWRkbGUuaCAhPT0gdW5kZWZpbmVkID8gY29tcHV0ZWQubWlkZGxlLmggOiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IE1hdGgubWluKGNvbXB1dGVkLnRvcC5sLCBjb21wdXRlZC5ib3R0b20ubCwgY29tcHV0ZWQubWlkZGxlLmwgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TUEgPSBjb21wdXRlZC5taWRkbGUuYztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgfSB3aGlsZSAoaXRlcmF0b3IubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gTWVyZ2VcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZEFycmF5KTtcblxuICAgICAgICAvLyBNZXJnZSBuZXcgZGF0YSBhbmQgbm90aWZ5IHN1YnNjcmliZXJzXG4gICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgY29tcHV0ZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvbGxpbmdlckluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cblxuICAgICAgICAvLyBDb2xsZWN0IGNoYXJ0cyBwb2ludHNcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgdG9wOiBJUG9pbnRbXSA9IFtdO1xuICAgICAgICB0b3AubGVuZ3RoID0gdGltZUF4aXMuY291bnQ7IC8vIHByZWFsbG9jYXRlIG1lbW9yeVxuICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YSwgKGl0ZW0sIHgpID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVHJpcGxlQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gPFRyaXBsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKHQgJiYgdC50b3AgJiYgdC50b3AuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1godC50b3AuYyk7XG4gICAgICAgICAgICAgICAgICAgIHRvcFtpXSA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBib3R0b206IElQb2ludFtdID0gW107XG4gICAgICAgIGJvdHRvbS5sZW5ndGggPSB0aW1lQXhpcy5jb3VudDsgLy8gcHJlYWxsb2NhdGUgbWVtb3J5XG4gICAgICAgIGxldCBqID0gMDtcblxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhLCAoaXRlbSwgeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUcmlwbGVDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSA8VHJpcGxlQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAodCAmJiB0LmJvdHRvbSAmJiB0LmJvdHRvbS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWCh0LmJvdHRvbS5jKTtcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tW2pdID0geyB4OiB4LCB5OiB5IH07XG4gICAgICAgICAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEZpbGwgYXJlYSBiZXR3ZWVuIGxpbmVzXG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICB0b3AuZm9yRWFjaCgocCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICAgICAgKGluZGV4ID09PSAwKSA/IGNhbnZhcy5tb3ZlVG8ocC54LCBwLnkpIDogY2FudmFzLmxpbmVUbyhwLngsIHAueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSBib3R0b20ubGVuZ3RoIC0gMTsgayA+PSAwOyBrIC09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBib3R0b21ba107XG4gICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8ocC54LCBwLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCdyZ2JhKDAsIDEwMCwgMTUwLCAwLjMpJyk7XG4gICAgICAgIGNhbnZhcy5maWxsKCk7XG5cbiAgICAgICAgLy8gTGluZXNcbiAgICAgICAgLy9cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcblxuICAgICAgICAvLyBNaWRkbGVcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRyaXBsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJpcGxlID0gPFRyaXBsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKHRyaXBsZS5taWRkbGUgJiYgdHJpcGxlLm1pZGRsZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0cmlwbGUubWlkZGxlLmM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFRvcFxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzA0MDBGRicpO1xuICAgICAgICB0b3AuZm9yRWFjaCgocCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChwKSB7XG4gICAgICAgICAgICAgICAgKGluZGV4ID09PSAwKSA/IGNhbnZhcy5tb3ZlVG8ocC54LCBwLnkpIDogY2FudmFzLmxpbmVUbyhwLngsIHAueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gQm90dG9tXG4gICAgICAgIC8vXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMDQwMEZGJyk7XG4gICAgICAgIGJvdHRvbS5mb3JFYWNoKChwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICAoaW5kZXggPT09IDApID8gY2FudmFzLm1vdmVUbyhwLngsIHAueSkgOiBjYW52YXMubGluZVRvKHAueCwgcC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ29tbW9kaXR5IENoYW5uZWwgSW5kZXggb3NjaWxsYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBHYWluTG9zc0V4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBDQ0kgPSAoMS8wLjAxNSkgKiAoUHQgLSBTTUEoUHQpKSAvIERldmlhdGlvbihQdCksXG4vLyAgICBQdCAtIHR5cGljYWwgcHJpY2Vcbi8vICAgIERldmlhdGlvbiAtIE1lYW4gYWJzb2x1dGUgZGV2aWF0aW9uXG5cbmV4cG9ydCBjbGFzcyBDQ0lDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgU01BOiBudW1iZXJ8dW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgQ0NJT3NjaWxsYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDQ0lDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dDogR2Fpbkxvc3NFeHRlbnNpb247XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENDSUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ0NJJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAyMDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q0NJQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDQ0lDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ0NJQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGUgU01BXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5TTUEgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5TTUEgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFNNQSk7XG5cbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5TTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgZGV2aWF0aW9uIGFyb3VuZCBTTUEuXG4gICAgICAgICAgICAgICAgY29uc3QgbWFkID0gVXRpbHMuTUFEKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgY29tcHV0ZWQuU01BKTtcblxuICAgICAgICAgICAgICAgIGlmIChtYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIENDSVxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gKHZhbHVlIC0gY29tcHV0ZWQuU01BKSAvICgwLjAxNSAqIG1hZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ29ycmVsYXRpb24gSW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IFRydWVSYW5nZUV4dGVuc2lvbiB9IGZyb20gJy4uL2NvbXB1dGUvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRQb2ludCwgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSwgSW5kaWNhdG9yRGF0YVNvdXJjZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJZFZhbHVlLCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFZhcmlhbmNlKFApID0gQVZHKFAyKSAtIEFWRyhQKSAqIEFWRyhQKVxuLy8gVmFyaWFuY2UoUykgPSBBVkcoUzIpIC0gQVZHKFMpICogQVZHKFMpXG4vLyBDb3ZhcmlhbmNlKFAsUykgPSBBVkcoUCB4IFMpIC0gQVZHKFApIHggQVZHKFMpXG4vLyBDb3JyZWxhdGlvbihQLFMpID0gQ292YXJpYW5jZShQLFMpIC8gU1FSVChWYXJpYW5jZShQKSB4IFZhcmlhbmNlKFMpKVxuXG5leHBvcnQgY2xhc3MgQ09SQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICBwdWJsaWMgcDogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgczogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBhdmdwOiBudW1iZXJ8dW5kZWZpbmVkOyAvLyBhdmcgb2YgcFxuICAgIHB1YmxpYyBhdmdzOiBudW1iZXJ8dW5kZWZpbmVkOyAvLyBhdmcgb2Ygc1xuXG4gICAgcHVibGljIHAyOiBudW1iZXJ8dW5kZWZpbmVkOyAvLyBzcXVhcmUgb2YgcFxuICAgIHB1YmxpYyBzMjogbnVtYmVyfHVuZGVmaW5lZDsgLy8gc3F1YXJlIG9mIHNcblxuICAgIHB1YmxpYyBhdmdwMjogbnVtYmVyfHVuZGVmaW5lZDsgLy8gYXZnIG9mIHAyIFxuICAgIHB1YmxpYyBhdmdzMjogbnVtYmVyfHVuZGVmaW5lZDsgLy8gYXZnIG9mIHMyXG5cbiAgICBwdWJsaWMgcHhzOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyBhdmdweHM6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYyAhPT0gdW5kZWZpbmVkID8gdGhpcy5jLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ09SSW5kaWNhdG9yIGV4dGVuZHMgSW5kaWNhdG9yRGF0YVNvdXJjZTxDT1JDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dHNldHRpbmdzOiBDT1JTZXR0aW5ncyA9IG5ldyBDT1JTZXR0aW5ncygpO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDT1JDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NPUic7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5TaW1wbGUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlKGFyZz86IERhdGFDaGFuZ2VkQXJndW1lbnQpOiBEYXRhQ2hhbmdlZEFyZ3VtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gSWYgYXJnIGlzIG5vdCBkZWZpbmVkIGJ1aWxkIGFsbCBkYXRhXG4gICAgICAgIC8vIENvbXB1dGUgZGF0YSB0aWxsIHRoZSBlbmQgKHVwZGF0ZSBkYXRhIGZyb20gY3VycmVudCBwbGFjZSB0byBlbmQpXG5cbiAgICAgICAgY29uc3QgYWNjZXNzb3IgPSBWYWx1ZUFjY2Vzc29yRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUodGhpcy5leHRzZXR0aW5ncy52YWx1ZVR5cGUpO1xuXG4gICAgICAgIGxldCBjb21wdXRlZEFycmF5OiBDT1JDYW5kbGVzdGlja1tdID0gW107XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kO1xuICAgICAgICBjb25zdCBzb3VyY2VJdGVtcyA9IG5ldyBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcbiAgICAgICAgY29uc3QgY29tcGFyZUl0ZW1zID0gbmV3IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPihOLCAobGhzLCByaHMpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH0pO1xuICAgICAgICBjb25zdCBjb21wdXRlZEl0ZW1zID0gbmV3IEZpeGVkU2l6ZUFycmF5PENPUkNhbmRsZXN0aWNrPihOLCAobGhzLCByaHMpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH0pO1xuXG4gICAgICAgIC8vIEdldCBjb21wYXJlIGRhdGEgc291Y2VcblxuICAgICAgICBsZXQgY29tcGFyZUl0ZXI6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+fHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuZXh0c2V0dGluZ3MudWlkKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wYXJlRGF0YVNvdXJjZSA9IHRoaXMuY29udGV4dC5yZWdpc3Rlci5nZXRJdGVtKHRoaXMuZXh0c2V0dGluZ3MudWlkKTtcbiAgICAgICAgICAgIGlmIChjb21wYXJlRGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbXBhcmVJdGVyID0gY29tcGFyZURhdGFTb3VyY2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGNhbid0IGdldCBjb21wYXJlIGRhdGEgc291cmNlIHJldHVyblxuICAgICAgICBpZiAoIWNvbXBhcmVJdGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgLy8gR2V0IHNvdXJjZSBkYXRhIHdpdGhvdXQgbG9hZGluZ1xuICAgICAgICBjb25zdCBzb3VyY2VJdGVyOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuc291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gU2VsZWN0IGxhc3Qgc291cmNlIGl0ZW1zIGFuZCBjb21wYXJlIGl0ZW1zXG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGlmICghc291cmNlSXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGNvbnN0IHByZXY6IENhbmRsZXN0aWNrW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZDb21wYXJlOiBDYW5kbGVzdGlja1tdID0gW107XG4gICAgICAgICAgICBzb3VyY2VJdGVyLnNvbWViYWNrd2FyZCgoaXRlbSwgY291bnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID4gTikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgICAgICBpZiAoY291bnRlciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlSXRlciAmJiBjb21wYXJlSXRlci5nb1RvKGNpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoY2l0ZW0udWlkKSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZDb21wYXJlLnB1c2goY29tcGFyZUl0ZXIuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFNraXAgY3VycmVudCBpdGVtXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXYucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcHJldkNvbXBhcmUucmV2ZXJzZSgpO1xuICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAvL2NvbnN0IHByZXYgPSBJbmRpY2F0b3JEYXRhU291cmNlLmdldFByZXZpb3VzSXRlbXMoc291cmNlSXRlciwgTiAtIDEpO1xuICAgICAgICAgICAgc291cmNlSXRlbXMucHVzaFJhbmdlKHByZXYpO1xuICAgICAgICAgICAgY29tcGFyZUl0ZW1zLnB1c2hSYW5nZShwcmV2Q29tcGFyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgbGFzdCBjb21wdXRlZCBpdGVtc1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkT3JpZy5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheSA9IEluZGljYXRvckRhdGFTb3VyY2UuZ2V0UHJldmlvdXNJdGVtcyhpdGVyLCBOIC0gMSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRJdGVtcy5wdXNoUmFuZ2UoY29tcHV0ZWRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIHNvdXJjZUl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkLmNvbXBhcmUoYXJnLnVpZEZpcnN0KSA9PT0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUl0ZXIubW92ZU5leHQoKSkgeyByZXR1cm47IH0gLy8gRmluaXNoIGlmIG5vIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0aW9uc1xuICAgICAgICAvLyBcblxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZmlyc3RVaWQgPSBzb3VyY2VJdGVyLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlci5jdXJyZW50O1xuICAgICAgICAgICAgbGFzdFVpZCA9IHNvdXJjZS51aWQ7XG4gICAgICAgICAgICBzb3VyY2VJdGVtcy5wdXNoKHNvdXJjZSk7XG5cbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gY29tcGFyZUl0ZXIubW92ZVRvKGNpdGVtID0+IHNvdXJjZS51aWQuY29tcGFyZShjaXRlbS51aWQpID09PSAwKSAhPT0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gY29tcGFyZUl0ZXIuZ29UbyhjaXRlbSA9PiBzb3VyY2UudWlkLmNvbXBhcmUoY2l0ZW0udWlkKSA9PT0gMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29tcGFyZUl0ZW1zLnB1c2goZm91bmQgPyBjb21wYXJlSXRlci5jdXJyZW50IDogbmV3IENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gdGhpcy5jb21wdXRlT25lKHNvdXJjZUl0ZW1zLCBjb21wYXJlSXRlbXMsIGNvbXB1dGVkSXRlbXMsIGFjY2Vzc29yKTtcblxuICAgICAgICAgICAgY29tcHV0ZWRBcnJheS5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICAgIGNvbXB1dGVkSXRlbXMucHVzaChjb21wdXRlZCk7XG4gICAgICAgIH0gd2hpbGUgKHNvdXJjZUl0ZXIubW92ZU5leHQoKSk7XG5cbiAgICAgICAgLy8gTWVyZ2UgdXNpbmcgb3JpZ1VpZCwgbm90IHVpZFxuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGNvbXB1dGVkQXJyYXkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgY29tcHV0ZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q09SQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDT1JDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgY29tcGFyZSA9IGNvbXBhcmVJdGVtcy5sYXN0T3JEZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHAgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBjb25zdCBzID0gY29tcGFyZSA/IGFjY2Vzc29yKGNvbXBhcmUpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENPUkNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgLy8gQm90aCB2YWx1ZXMgc2hvdWxkIHByZXNlbnRcbiAgICAgICAgY29tcHV0ZWQucCA9IChwICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gdW5kZWZpbmVkKSA/IHAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLnMgPSAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCkgPyBzIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5wMiA9IChwICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gdW5kZWZpbmVkKSA/IHAgKiBwIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5zMiA9IChwICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gdW5kZWZpbmVkKSA/IHMgKiBzIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5weHMgPSAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCkgPyBwICogcyA6IHVuZGVmaW5lZDsgICAgLy8gUCB4IFNcblxuICAgICAgICAvLyBBVkcgb2Ygc291cmNlXG4gICAgICAgIGNvbnN0IGxhc3RBdmdQID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYXZncCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuYXZncCA9IHRoaXMubWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8Q09SQ2FuZGxlc3RpY2s+aXRlbSkucCwgY29tcHV0ZWQsIGxhc3RBdmdQKTtcblxuICAgICAgICAvLyBBVkcgb2YgY29tcGFyZVxuICAgICAgICBjb25zdCBsYXN0QXZnUyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z3MgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z3MgPSB0aGlzLm1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPENPUkNhbmRsZXN0aWNrPml0ZW0pLnMsIGNvbXB1dGVkLCBsYXN0QXZnUyk7XG5cbiAgICAgICAgLy8gQVZHIG9mIHNxdWFyZWQgc291cmNlXG4gICAgICAgIGNvbnN0IGxhc3RBdmdQMiA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmF2Z3AyIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5hdmdwMiA9IHRoaXMubWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8Q09SQ2FuZGxlc3RpY2s+aXRlbSkucDIsIGNvbXB1dGVkLCBsYXN0QXZnUDIpO1xuXG4gICAgICAgIC8vIEFWRyBvZiBzcXVhcmVkIGNvbXBhcmVcbiAgICAgICAgY29uc3QgbGFzdEF2Z1MyID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYXZnczIgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z3MyID0gdGhpcy5tYS5jb21wdXRlKE4sIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxDT1JDYW5kbGVzdGljaz5pdGVtKS5zMiwgY29tcHV0ZWQsIGxhc3RBdmdTMik7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBQIHggUyBhdmVyYWdlXG4gICAgICAgIGNvbnN0IGxhc3RBdmdQeFMgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5hdmdweHMgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLmF2Z3B4cyA9IHRoaXMubWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8Q09SQ2FuZGxlc3RpY2s+aXRlbSkucHhzLCBjb21wdXRlZCwgbGFzdEF2Z1B4Uyk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBjb3JyZWxhdGlvblxuICAgICAgICBpZiAoY29tcHV0ZWQuYXZncCAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLmF2Z3MgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5hdmdwMiAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLmF2Z3MyICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICYmIGNvbXB1dGVkLmF2Z3B4cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW5jZVAgPSBjb21wdXRlZC5hdmdwMiAtIChjb21wdXRlZC5hdmdwICogY29tcHV0ZWQuYXZncCk7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW5jZVMgPSBjb21wdXRlZC5hdmdzMiAtIChjb21wdXRlZC5hdmdzICogY29tcHV0ZWQuYXZncyk7XG4gICAgICAgICAgICBjb25zdCBjb3ZhcmlhbmNlID0gY29tcHV0ZWQuYXZncHhzIC0gKGNvbXB1dGVkLmF2Z3AgKiBjb21wdXRlZC5hdmdzKTtcbiAgICAgICAgICAgIGlmICh2YXJpYW5jZVAgIT09IDAgJiYgdmFyaWFuY2VTICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ycmVsYXRpb24gPSBjb3ZhcmlhbmNlIC8gTWF0aC5zcXJ0KHZhcmlhbmNlUCAqIHZhcmlhbmNlUyk7XG5cbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gaXNOYU4oY29ycmVsYXRpb24pID8gdW5kZWZpbmVkIDogY29ycmVsYXRpb247XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IC0xLCBlbmQ6IDEgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuY29udGV4dC5yZWdpc3Rlci5saXN0KCk7XG4gICAgICAgIHNvdXJjZXMucHVzaChuZXcgSWRWYWx1ZSgnJywgJycpKTtcbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndWlkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3VpZCcsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NvbXBhcmUnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MudWlkLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHNvdXJjZXMubWFwKGl0ZW0gPT4geyByZXR1cm4geyB2YWx1ZTogaXRlbS5pZCwgdGV4dDogaXRlbS52YWx1ZSB9OyB9KVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndmFsdWVUeXBlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGN1bGF0ZSB1c2luZycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy52YWx1ZVR5cGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2UudG9TdHJpbmcoKSwgdGV4dDogJ2Nsb3NlJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9wZW4udG9TdHJpbmcoKSwgdGV4dDogJ29wZW4nIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGlnaC50b1N0cmluZygpLCB0ZXh0OiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5sb3cudG9TdHJpbmcoKSwgdGV4dDogJ2xvdycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obDIudG9TdHJpbmcoKSwgdGV4dDogJ2hsMicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzLnRvU3RyaW5nKCksIHRleHQ6ICdobGMzJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9obGM0LnRvU3RyaW5nKCksIHRleHQ6ICdvaGxjNCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNC50b1N0cmluZygpLCB0ZXh0OiAnaGxjYzQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHVpZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudWlkJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MudWlkID0gKHVpZCAmJiB1aWQudmFsdWUpID8gdWlkLnZhbHVlIDogdGhpcy5leHRzZXR0aW5ncy51aWQ7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmNsYXNzIENPUlNldHRpbmdzIHtcbiAgICBwdWJsaWMgcGVyaW9kOiBudW1iZXIgPSAxMDtcbiAgICBwdWJsaWMgdWlkOiBzdHJpbmd8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyB2YWx1ZVR5cGU6IFZhbHVlQWNjZXNzb3JUeXBlID0gVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2U7XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbmRsZXN0aWNrRXh0IGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xyXG4gICAgcHVibGljIHVpZE9yaWc6IFVpZCA9IG5ldyBVaWQoKTtcclxuICAgIHB1YmxpYyBpc0Zha2U6IGJvb2xlYW4gPSBmYWxzZTtcclxufVxyXG4iLCIvKipcbiAqIERvdWJsZSBFeHBvbmVudGlhbCBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgREVNQUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBFTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgREVNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgREVNQUluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxERU1BQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgZW1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihERU1BQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdERU1BJztcblxuICAgICAgICB0aGlzLmVtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxERU1BQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBERU1BQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpOyAvLyBjb21wdXRlZCBjYW4gY29udGFpbiBubyBpdGVtcy5cblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgREVNQUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIDEuIENvbXB1dGUgRU1BXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRU1BID0gdGhpcy5lbWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkRU1BKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZC5FTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAyLiBDb21wdXRlIERFTUEuIE9uIGJhc2Ugb2YgY29tcHV0ZWQgRU1BXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkREVNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkRFTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkaW5nIGxhc3QgY29tcHV0ZWQgRU1BIHRvIGNhbGN1bGF0ZSBERU1BXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLkRFTUEgPSB0aGlzLmVtYS5jb21wdXRlKE4sIGNvbXB1dGVkQXJyYXksIGl0ZW0gPT4gKDxERU1BQ2FuZGxlc3RpY2s+aXRlbSkuRU1BLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkREVNQSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZC5ERU1BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSAyICogY29tcHV0ZWQuRU1BIC0gY29tcHV0ZWQuREVNQTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIERpc3Bhcml0eSBJbmRleCBvc2NpbGxhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gRElYID0gMTAwICogKGNsb3NlIC0gTUEpIC8gTUFcblxuZXhwb3J0IGNsYXNzIERJWE9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRElYJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFZhbHVlID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IG1hID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRWYWx1ZSk7XG4gICAgICAgICAgICBpZiAobWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSAxMDAgKiAodmFsdWUgLSBtYSkgLyBtYTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIERpcmVjdGlvbmFsIE1vdmVtZW50IEluZGV4IEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQge1xuICAgIERvd25EaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLFxuICAgIFVwRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbixcbiAgICBUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgRE1JQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgLyoqIFxuICAgICAqIFNtb290aGVkIFRSXG4gICAgICovXG4gICAgcHVibGljIFRSQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIFNtb290aGVkICtETVxuICAgICAqL1xuICAgIHB1YmxpYyBwRE1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogU21vb3RoZWQgLURNXG4gICAgICovXG4gICAgcHVibGljIG1ETUE6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFNtb290aGVkICtESVxuICAgICAqL1xuICAgIHB1YmxpYyBwREk6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBTbW9vdGhlZCAtRElcbiAgICAgKi9cbiAgICBwdWJsaWMgbURJOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuICdEWDogJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgK0RJOiAnXG4gICAgICAgICAgICArIGAke3RoaXMucERJICE9PSB1bmRlZmluZWQgPyB0aGlzLnBESS50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLURJICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5tREkgIT09IHVuZGVmaW5lZCA/IHRoaXMubURJLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRE1JSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERNSUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcm90ZWN0ZWQgd21hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihETUlDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RNSSc7XG5cbiAgICAgICAgdGhpcy53bWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuV2lsZGVyKTtcbiAgICAgICAgLy90aGlzLmFkeG1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkFEWCk7XG5cbiAgICAgICAgLy8gRE1JIHJlcXVpcmVzIFRSLCArRE0sIC1ETVxuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oVHJ1ZVJhbmdlRXh0ZW5zaW9uLnVuYW1lLCBuZXcgVHJ1ZVJhbmdlRXh0ZW5zaW9uKCkpO1xuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uLnVuYW1lLCBuZXcgVXBEaXJlY3Rpb25hbE1vdmVtZW50RXh0ZW5zaW9uKCkpO1xuICAgICAgICB0aGlzLnNvdXJjZS5hZGRFeHRlbnNpb24oRG93bkRpcmVjdGlvbmFsTW92ZW1lbnRFeHRlbnNpb24udW5hbWUsIG5ldyBEb3duRGlyZWN0aW9uYWxNb3ZlbWVudEV4dGVuc2lvbigpKTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDE0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RE1JQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBETUlDYW5kbGVzdGljayB7XG5cbiAgICAgICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IERNSUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIC8vIFVzaW5nIFdpbGRlciBmb3Igc21vb3RoaW5nICtETSwgLURNLCBUUlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkUERNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmV4dFsncGRtJ10gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQucERNQSA9IHRoaXMud21hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGl0ZW0gPT4gaXRlbS5leHRbJ3BkbSddLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFBETUEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkTURNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmV4dFsnbWRtJ10gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubURNQSA9IHRoaXMud21hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGl0ZW0gPT4gaXRlbS5leHRbJ21kbSddLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZE1ETUEpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVFJBID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuZXh0Wyd0ciddIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLlRSQSA9IHRoaXMud21hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGl0ZW0gPT4gaXRlbS5leHRbJ3RyJ10sIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVFJBKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZC5wRE1BICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQubURNQSAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLlRSQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgc21vb3RoZWQgK0RJLCAtRElcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcERJID0gKGNvbXB1dGVkLnBETUEgLyBjb21wdXRlZC5UUkEpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtREkgPSAoY29tcHV0ZWQubURNQSAvIGNvbXB1dGVkLlRSQSkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnBESSA9IHBESTtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubURJID0gbURJO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgRFhcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IDEwMCAqIE1hdGguYWJzKHBESSAtIG1ESSkgLyAocERJICsgbURJKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRE1JSW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMDAyNkZGJyk7XG4gICAgICAgIC8vIEphd1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRE1JQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkbWkgPSA8RE1JQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoZG1pICYmIGRtaS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkbWkuYztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNGRjA4MDAnKTtcbiAgICAgICAgLy8gVGVldGhcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERNSUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG1pID0gPERNSUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGRtaSAmJiBkbWkubURJICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkbWkubURJO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzM5OUYxNicpO1xuICAgICAgICAvLyBMaXBzXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBETUlDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRtaSA9IDxETUlDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkbWkgJiYgZG1pLnBESSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG1pLnBESTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIERvdWJsZSBTbW9vdGhlZCBTdG9jaGFzdGljIG9zY2lsbGF0b3IgY2xhc3MuXHJcbiAqL1xyXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxyXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xyXG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcclxuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcclxuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xyXG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcclxuXHJcbi8vIERTUyA9IDEwMCB4IChFTUF5KEVNQXgoQy1MKSkpIC8gRU1BeShFTUF4KEggLSBMKSlcclxuLy8gRFNTKHNsb3cpID0gRU1BKERTUylcclxuXHJcbmV4cG9ydCBjbGFzcyBEU1NCUkNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDIC0gTG5cclxuICAgICAqL1xyXG4gICAgcHVibGljIENMOiBudW1iZXJ8dW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSG4gLSBMblxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgSEw6IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIEVNQTFvZkNMOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICBwdWJsaWMgRU1BMW9mSEw6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgRU1BMm9mQ0w6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICAgIHB1YmxpYyBFTUEyb2ZITDogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBEU1M6IG51bWJlcnx1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIERTU3Nsb3c6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5EU1MgIT09IHVuZGVmaW5lZCA/IHRoaXMuRFNTLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcclxuICAgICAgICAgICAgKyAnIC8gJ1xyXG4gICAgICAgICAgICArIGAke3RoaXMuRFNTc2xvdyAhPT0gdW5kZWZpbmVkID8gdGhpcy5EU1NzbG93LnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEU1NCUk9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8RFNTQlJDYW5kbGVzdGljaz4ge1xyXG5cclxuICAgIHByaXZhdGUgZW1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xyXG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogRFNTQlJTZXR0aW5ncyA9IG5ldyBEU1NCUlNldHRpbmdzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKERTU0JSQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RTU0JSJztcclxuXHJcbiAgICAgICAgdGhpcy5lbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuRXhwb25lbnRpYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEssIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWCwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RaKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RFNTQlJDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IERTU0JSQ2FuZGxlc3RpY2sge1xyXG5cclxuICAgICAgICBjb25zdCBwZXJpb2RLID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLO1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZFggPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFg7XHJcbiAgICAgICAgY29uc3QgcGVyaW9kWiA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWjtcclxuXHJcbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxyXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpOyAvLyBjb21wdXRlZCBjYW4gY29udGFpbiBubyBpdGVtcy5cclxuXHJcbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgRFNTQlJDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XHJcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xyXG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2UuYzsgLy90aGlzLmFjY2Vzc29yKHNvdXJjZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0aW5nIG1pbi9tYXggd2l0aCBjdXJyZW50IHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IEggPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIHBlcmlvZEspOyAgIC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxyXG4gICAgICAgICAgICBjb25zdCBMID0gc291cmNlSXRlbXMubWluKGMgPT4gYy5sLCBwZXJpb2RLKTsgICAvLyBsb3dlc3QgbG93IGZvciB0aGUgcGVyaW9kXHJcblxyXG4gICAgICAgICAgICBpZiAoSCAhPT0gdW5kZWZpbmVkICYmIEwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuQ0wgPSB2YWx1ZSAtIEw7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5ITCA9IEggLSBMO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgZmlyc3QgRU1BeFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BMWNsID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1BMW9mQ0wgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5FTUExb2ZDTCA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kWCwgc291cmNlSXRlbXMsIGMgPT4gKDxEU1NCUkNhbmRsZXN0aWNrPmMpLkNMLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkRU1BMWNsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUExaGwgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUExb2ZITCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVNQTFvZkhMID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2RYLCBzb3VyY2VJdGVtcywgYyA9PiAoPERTU0JSQ2FuZGxlc3RpY2s+YykuSEwsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRFTUExaGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgc2Vjb25kIEVNQXlcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTJjbCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQTJvZkNMIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRU1BMm9mQ0wgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZFgsIHNvdXJjZUl0ZW1zLCBjID0+ICg8RFNTQlJDYW5kbGVzdGljaz5jKS5FTUExb2ZDTCwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEVNQTJjbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BMmhsID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1BMm9mSEwgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5FTUEyb2ZITCA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kWCwgc291cmNlSXRlbXMsIGMgPT4gKDxEU1NCUkNhbmRsZXN0aWNrPmMpLkVNQTFvZkhMLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkRU1BMmhsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuRU1BMm9mQ0wgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5FTUEyb2ZITCAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLkVNQTJvZkhMICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBEU1NcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5EU1MgPSAxMDAgKiBjb21wdXRlZC5FTUEyb2ZDTCAvIGNvbXB1dGVkLkVNQTJvZkhMO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIERTUyBzbG93XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRFNTc2xvdyA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkRTU3Nsb3cgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuRFNTc2xvdyA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kWiwgc291cmNlSXRlbXMsIGMgPT4gKDxEU1NCUkNhbmRsZXN0aWNrPmMpLkRTUywgY29tcHV0ZWQsIGxhc3RDb21wdXRlZERTU3Nsb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcclxuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZEsnLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RLJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSy50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdTdG9jaGFzdGljIHBlcmlvZCdcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZFgnLCBuZXcgU2V0dGluZ1NldCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RYJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdTbW9vdGhpbmcgcGVyaW9kJ1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kWicsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZFonLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RaLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxyXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1RyaWdnZXIgcGVyaW9kJ1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBlcmlvZEsgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZEsnKTtcclxuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEsgPSAocGVyaW9kSyAmJiBwZXJpb2RLLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZEsudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSztcclxuXHJcbiAgICAgICAgY29uc3QgcGVyaW9kWCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kWCcpO1xyXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kWCA9IChwZXJpb2RYICYmIHBlcmlvZFgudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kWC52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RYO1xyXG5cclxuICAgICAgICBjb25zdCBwZXJpb2RaID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RaJyk7XHJcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RaID0gKHBlcmlvZFogJiYgcGVyaW9kWi52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RaLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFo7XHJcblxyXG4gICAgICAgIC8vIHJlY29tcHV0ZVxyXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBEU1NCUlNldHRpbmdzIHtcclxuICAgIHB1YmxpYyBwZXJpb2RLOiBudW1iZXIgPSAxNDsgICAgLy8gc3RvY2hhc3RpYyBwZXJpb2RcclxuICAgIHB1YmxpYyBwZXJpb2RYOiBudW1iZXIgPSAzOyAgICAgLy8gc21vb3RoaW5nIHBlcmlvZHNcclxuICAgIC8vcHVibGljIHBlcmlvZFk6IG51bWJlciA9IDM7XHJcbiAgICBwdWJsaWMgcGVyaW9kWjogbnVtYmVyID0gMzsgICAgIC8vIFRyaWdnZXIgcGVyaW9kXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRFNTQlJPc2NpbGxhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzAwQjczMCcpO1xyXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERTU0JSQ2FuZGxlc3RpY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdWJsZSA9IDxEU1NCUkNhbmRsZXN0aWNrPml0ZW07XHJcbiAgICAgICAgICAgICAgICBpZiAoZG91YmxlLkRTUyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zdCB4ID0gdGltZUF4aXMudG9YKGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRvdWJsZS5EU1M7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0I1MDAyMScpO1xyXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERTU0JSQ2FuZGxlc3RpY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdWJsZSA9IDxEU1NCUkNhbmRsZXN0aWNrPml0ZW07XHJcbiAgICAgICAgICAgICAgICBpZiAoZG91YmxlLkRTU3Nsb3cgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZG91YmxlLkRTU3Nsb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xyXG5cclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxyXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgncmVuZGVyZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIEV4cG9uZW50aWFsIE1vdmluZyBBdmVyYWdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBFTUFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRU1BJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2UuZGF0ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVmFsdWUgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5jIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSB0aGlzLm1hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBIaWdoZXN0IEhpZ2ggLyBMb3dlc3QgTG93IEluZGljYXRvciBjbGFzcy5cclxuICovXHJcbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXHJcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xyXG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcclxuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcclxuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xyXG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEb3VibGVDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcclxuXHJcbiAgICBwdWJsaWMgaGg6IENhbmRsZXN0aWNrO1xyXG4gICAgcHVibGljIGxsOiBDYW5kbGVzdGljaztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGRhdGUsIGMsIG8sIGgsIGwpO1xyXG5cclxuICAgICAgICB0aGlzLmhoID0gbmV3IENhbmRsZXN0aWNrKGRhdGUpO1xyXG4gICAgICAgIHRoaXMubGwgPSBuZXcgQ2FuZGxlc3RpY2soZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuaGggJiYgdGhpcy5oaC5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmhoLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxyXG4gICAgICAgICAgICArICcgLyAnXHJcbiAgICAgICAgICAgICsgYCR7dGhpcy5sbCAmJiB0aGlzLmxsLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMubGwuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSEhMTEluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxEb3VibGVDYW5kbGVzdGljaz4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcclxuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnSEhMTCc7XHJcblxyXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHNldHRpbmdzXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxMDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RG91YmxlQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEb3VibGVDYW5kbGVzdGljayB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBEb3VibGVDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcclxuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGggPSBzb3VyY2VJdGVtcy5tYXgoaXRlbSA9PiBpdGVtLmgpO1xyXG4gICAgICAgICAgICBjb25zdCBsbCA9IHNvdXJjZUl0ZW1zLm1pbihpdGVtID0+IGl0ZW0ubCk7XHJcblxyXG4gICAgICAgICAgICBjb21wdXRlZC5oaC5jID0gaGg7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmhoLmggPSBoaDtcclxuICAgICAgICAgICAgY29tcHV0ZWQuaGgubCA9IGhoO1xyXG5cclxuICAgICAgICAgICAgY29tcHV0ZWQubGwuYyA9IGxsO1xyXG4gICAgICAgICAgICBjb21wdXRlZC5sbC5oID0gbGw7XHJcbiAgICAgICAgICAgIGNvbXB1dGVkLmxsLmwgPSBsbDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XHJcblxyXG4gICAgICAgIC8vIHJlY29tcHV0ZVxyXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSEhMTEluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXHJcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkY1OTAwJyk7XHJcbiAgICAgICAgLy8gVXBcclxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBEb3VibGVDYW5kbGVzdGljaykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgJiYgZC5oaCAmJiBkLmhoLmMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZC5oaC5jO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzRDVBRkYnKTtcclxuICAgICAgICAvLyBEb3duXHJcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRG91YmxlQ2FuZGxlc3RpY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSA8RG91YmxlQ2FuZGxlc3RpY2s+aXRlbTtcclxuICAgICAgICAgICAgICAgIGlmIChkICYmIGQubGwgJiYgZC5sbC5jICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGQubGwuYztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB1aWQ6IGl0ZW0udWlkLCB2OiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnJhbWUsIHRpbWVBeGlzLCB5QXhpcyk7XHJcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCd2aXN1YWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIEljaGltb2t1IEtpbmtvIEh5byBpbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBUZW5rYW4tc2VuIChDb252ZXJzaW9uIExpbmUpOiAoOS1wZXJpb2QgaGlnaCArIDktcGVyaW9kIGxvdykvMikpXG4vLyBLaWp1bi1zZW4gKEJhc2UgTGluZSk6ICgyNi1wZXJpb2QgaGlnaCArIDI2LXBlcmlvZCBsb3cpLzIpKVxuLy8gU2Vua291IFNwYW4gQSAoTGVhZGluZyBTcGFuIEEpOiAoQ29udmVyc2lvbiBMaW5lICsgQmFzZSBMaW5lKS8yKSlcbi8vIFNlbmtvdSBTcGFuIEIgKExlYWRpbmcgU3BhbiBCKTogKDUyLXBlcmlvZCBoaWdoICsgNTItcGVyaW9kIGxvdykvMikpXG4vLyBDaGlrb3UgU3BhbiAoTGFnZ2luZyBTcGFuKVxuXG5leHBvcnQgY2xhc3MgSUtIQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgLyoqXG4gICAgICogQ29udmVyc2lvbiBsaW5lXG4gICAgICovXG4gICAgcHVibGljIGNvbnZlcnNpb246IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIExpbmVcbiAgICAgKi9cbiAgICBwdWJsaWMgYmFzZTogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIExlYWRpbmcgU3BhbiBBXG4gICAgICovXG4gICAgcHVibGljIGxlYWRpbmdBOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIGxlYWRpbmdBU2hpZnRlZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogTGVhZGluZyBTcGFuIEJcbiAgICAgKi9cbiAgICBwdWJsaWMgbGVhZGluZ0I6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgbGVhZGluZ0JTaGlmdGVkOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBMYWdnaW5nIFNwYW5cbiAgICAgKi9cbiAgICBwdWJsaWMgbGFnZ2luZzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBsYWdnaW5nU2hpZnRlZDogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICAgICsgYCR7dGhpcy5jb252ZXJzaW9uICE9PSB1bmRlZmluZWQgPyB0aGlzLmNvbnZlcnNpb24udG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIC8gJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLmJhc2UgIT09IHVuZGVmaW5lZCA/IHRoaXMuYmFzZS50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMubGVhZGluZ0FTaGlmdGVkICE9PSB1bmRlZmluZWQgPyB0aGlzLmxlYWRpbmdBU2hpZnRlZC50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMubGVhZGluZ0JTaGlmdGVkICE9PSB1bmRlZmluZWQgPyB0aGlzLmxlYWRpbmdCU2hpZnRlZC50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArICcgLyAnXG4gICAgICAgICAgICArIGAke3RoaXMubGFnZ2luZ1NoaWZ0ZWQgIT09IHVuZGVmaW5lZCA/IHRoaXMubGFnZ2luZ1NoaWZ0ZWQudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJS0hJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8SUtIQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgZW1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IElLSFNldHRpbmdzID0gbmV3IElLSFNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKElLSENhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnSUtIJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQ29udmVyc2lvbiwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RCYXNlLCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNwYW5CKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PElLSENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogSUtIQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZENvbnZlcnNpb24gPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZENvbnZlcnNpb247XG4gICAgICAgIGNvbnN0IHBlcmlvZEJhc2UgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEJhc2U7XG4gICAgICAgIGNvbnN0IHBlcmlvZFNwYW5CID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTcGFuQjtcbiAgICAgICAgY29uc3QgaWtoRGlzcGxhY2VtZW50ID0gdGhpcy5leHRzZXR0aW5ncy5pa2hEaXNwbGFjZW1lbnQ7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgSUtIQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZS5jOyAvL3RoaXMuYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgLy8gY29tcHV0aW5nIENvbnZlcnNpb24gTGluZVxuICAgICAgICAgICAgY29uc3QgSDEgPSBzb3VyY2VJdGVtcy5tYXgoYyA9PiBjLmgsIHBlcmlvZENvbnZlcnNpb24pOyAgIC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgTDEgPSBzb3VyY2VJdGVtcy5taW4oYyA9PiBjLmwsIHBlcmlvZENvbnZlcnNpb24pOyAgIC8vIGxvd2VzdCBsb3cgZm9yIHRoZSBwZXJpb2RcbiAgICAgICAgICAgIGlmIChIMSAhPT0gdW5kZWZpbmVkICYmIEwxICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmNvbnZlcnNpb24gPSAoSDEgKyBMMSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wdXRpbmcgQmFzZSBMaW5lXG4gICAgICAgICAgICBjb25zdCBIMiA9IHNvdXJjZUl0ZW1zLm1heChjID0+IGMuaCwgcGVyaW9kQmFzZSk7ICAgLy8gaGlnaGVzdCBoaWdoIGZvciB0aGUgcGVyaW9kXG4gICAgICAgICAgICBjb25zdCBMMiA9IHNvdXJjZUl0ZW1zLm1pbihjID0+IGMubCwgcGVyaW9kQmFzZSk7ICAgLy8gbG93ZXN0IGxvdyBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgaWYgKEgyICE9PSB1bmRlZmluZWQgJiYgTDIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmJhc2UgPSAoSDIgKyBMMikgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wdXRpbmcgTGVhZGluZyBTcGFuIEFcbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5iYXNlICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuY29udmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubGVhZGluZ0EgPSAoY29tcHV0ZWQuYmFzZSArIGNvbXB1dGVkLmNvbnZlcnNpb24pIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29tcHV0aW5nIExlYWRpbmcgU3BhbiBCXG4gICAgICAgICAgICBjb25zdCBIMyA9IHNvdXJjZUl0ZW1zLm1heChjID0+IGMuaCwgcGVyaW9kU3BhbkIpOyAgIC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgTDMgPSBzb3VyY2VJdGVtcy5taW4oYyA9PiBjLmwsIHBlcmlvZFNwYW5CKTsgICAvLyBsb3dlc3QgbG93IGZvciB0aGUgcGVyaW9kXG4gICAgICAgICAgICBpZiAoSDMgIT09IHVuZGVmaW5lZCAmJiBMMyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubGVhZGluZ0IgPSAoSDMgKyBMMykgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wdXRpbmcgTGFnZ2luZyBTcGFuXG4gICAgICAgICAgICBjb21wdXRlZC5sYWdnaW5nID0gc291cmNlLmM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFmdGVyQ29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSB7XG4gICAgICAgIC8vIEFmdGVyIGNvbXB1dGUgc2hpZnQgTGFnZ2luZyBhbmQgTGVhZGluZyBsaW5lc1xuXG4gICAgICAgIC8vIExlYWRpbmcgc2hpZnRpbmcgdG8gcmlnaHRcbiAgICAgICAgdGhpcy5zaGlmdERhdGFFeHQodGhpcy5leHRzZXR0aW5ncy5pa2hEaXNwbGFjZW1lbnQsIChkZXN0LCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGlmIChkZXN0ICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGRlc3QubGVhZGluZ0FTaGlmdGVkID0gc291cmNlLmxlYWRpbmdBO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXN0KSB7XG4gICAgICAgICAgICAgICAgZGVzdC5sZWFkaW5nQVNoaWZ0ZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExlYWRpbmcgc2hpZnRpbmcgdG8gcmlnaHRcbiAgICAgICAgdGhpcy5zaGlmdERhdGFFeHQodGhpcy5leHRzZXR0aW5ncy5pa2hEaXNwbGFjZW1lbnQsIChkZXN0LCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGlmIChkZXN0ICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGRlc3QubGVhZGluZ0JTaGlmdGVkID0gc291cmNlLmxlYWRpbmdCO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkZXN0KSB7XG4gICAgICAgICAgICAgICAgZGVzdC5sZWFkaW5nQlNoaWZ0ZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExlYWRpbmcgc2hpZnRpbmcgdG8gcmlnaHRcbiAgICAgICAgdGhpcy5zaGlmdERhdGFFeHQoLXRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50LCAoZGVzdCwgc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVzdCAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmxhZ2dpbmdTaGlmdGVkID0gc291cmNlLmxhZ2dpbmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlc3QpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmxhZ2dpbmdTaGlmdGVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZENvbnZlcnNpb24nLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kQ29udmVyc2lvbicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RDb252ZXJzaW9uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVGVua2FuLVNlbiBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RCYXNlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZEJhc2UnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQmFzZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0tpanVuLVNlbiBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RTcGFuQicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RTcGFuQicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTcGFuQi50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1NlbmtvdSBTcGFuIEIgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnaWtoRGlzcGxhY2VtZW50JywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2lraERpc3BsYWNlbWVudCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5pa2hEaXNwbGFjZW1lbnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdEaXNwbGFjbWVudCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kQ29udmVyc2lvbiA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kQ29udmVyc2lvbicpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZENvbnZlcnNpb24gPSAocGVyaW9kQ29udmVyc2lvbiAmJiBwZXJpb2RDb252ZXJzaW9uLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZENvbnZlcnNpb24udmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQ29udmVyc2lvbjtcblxuICAgICAgICBjb25zdCBwZXJpb2RCYXNlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RCYXNlJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kQmFzZSA9IChwZXJpb2RCYXNlICYmIHBlcmlvZEJhc2UudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kQmFzZS52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RCYXNlO1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZFNwYW5CID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RTcGFuQicpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNwYW5CID0gKHBlcmlvZFNwYW5CICYmIHBlcmlvZFNwYW5CLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZFNwYW5CLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNwYW5CO1xuXG4gICAgICAgIGNvbnN0IGlraERpc3BsYWNlbWVudCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UuaWtoRGlzcGxhY2VtZW50Jyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MuaWtoRGlzcGxhY2VtZW50ID0gKGlraERpc3BsYWNlbWVudCAmJiBpa2hEaXNwbGFjZW1lbnQudmFsdWUpID8gcGFyc2VJbnQoaWtoRGlzcGxhY2VtZW50LnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLmlraERpc3BsYWNlbWVudDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBJS0hTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZENvbnZlcnNpb246IG51bWJlciA9IDk7ICAgIC8vIENvbnZlcnNpb24gTGluZSBwZXJpb2RcbiAgICBwdWJsaWMgcGVyaW9kQmFzZTogbnVtYmVyID0gMjY7ICAgICAvLyBCYXNlIExpbmUgcGVyaW9kXG4gICAgcHVibGljIHBlcmlvZFNwYW5COiBudW1iZXIgPSA1MjsgICAgIC8vIExlYWRpbmcgU3BhbiBCIHBlcmlvZFxuICAgIHB1YmxpYyBpa2hEaXNwbGFjZW1lbnQ6IG51bWJlciA9IDI2O1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBJS0hJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMjY3RjAwJyk7XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBJS0hDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlraCA9IDxJS0hDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChpa2guY29udmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaWtoLmNvbnZlcnNpb247XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNEMzAwMDAnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIElLSENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWtoID0gPElLSENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGlraC5iYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpa2guYmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0QzMDAwMCcpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSUtIQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpa2ggPSA8SUtIQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoaWtoLmxlYWRpbmdBU2hpZnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaWtoLmxlYWRpbmdBU2hpZnRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0QzMDAwMCcpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSUtIQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpa2ggPSA8SUtIQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoaWtoLmxlYWRpbmdCU2hpZnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaWtoLmxlYWRpbmdCU2hpZnRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgZHJhd2luZ1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzI2N0YwMCcpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSUtIQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpa2ggPSA8SUtIQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoaWtoLmxhZ2dpbmdTaGlmdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpa2gubGFnZ2luZ1NoaWZ0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHVpZDogaXRlbS51aWQsIHY6IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzKTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgIH1cbn1cbiIsIi8qKlxuICogSW5kaWNhdG9yRmFicmljIGNsYXNzLlxuICogXG4gKiBAY2xhc3NkZXNjIENyZWF0ZXMgaW5kaWNhdG9yIGluc3RhbmNlcy5cbiAqL1xuXG5pbXBvcnQgeyBJQ29udGV4dCwgSURhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUhhc2hUYWJsZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUluc3RhbmNlQ3JlYXRvciB7XG4gICAgbmV3KHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCk6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKFxuICAgIGluZGljYXRvcklkOiBzdHJpbmcsXG4gICAgY3JlYXRvcjogSUluc3RhbmNlQ3JlYXRvcikge1xuXG4gICAgSW5kaWNhdG9yRmFicmljLmluc3RhbmNlLnJlZ2lzdGVyKGluZGljYXRvcklkLCBjcmVhdG9yKTtcbn1cblxuZXhwb3J0IGNsYXNzIEluZGljYXRvckZhYnJpYyB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdD86IEluZGljYXRvckZhYnJpYztcbiAgICBwcml2YXRlIGN0b3JzOiBJSGFzaFRhYmxlPElJbnN0YW5jZUNyZWF0b3I+ID0ge307XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBJbmRpY2F0b3JGYWJyaWMge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IEluZGljYXRvckZhYnJpYygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyKGluZGljYXRvcklkOiBzdHJpbmcsIGNyZWF0b3I6IElJbnN0YW5jZUNyZWF0b3IpIHtcbiAgICAgICAgdGhpcy5jdG9yc1tpbmRpY2F0b3JJZF0gPSBjcmVhdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnN0YW50aWF0ZShcbiAgICAgICAgaW5kaWNhdG9ySWQ6IHN0cmluZyxcbiAgICAgICAgc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sXG4gICAgICAgIGNvbnRleHQ6IElDb250ZXh0KTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+IHtcblxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jdG9yc1tpbmRpY2F0b3JJZF07XG4gICAgICAgIGlmIChjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3Ioc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kaWNhdG9yIHdpdGggaWQ9JHtpbmRpY2F0b3JJZH0gaXMgbm90IHJlZ2lzdGVyZWQuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIE1vdmluZyBBdmVyYWdlIENvbnZlcmdlbmNlL0RpdmVyZ2VuY2Ugb3NjaWxsYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJSW5kaWNhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIE1BQ0QgTGluZSA9IEVNQSAxMiAtIEVNQSAyNlxuLy8gU2lnbmFsIGxpbmUgPSBFTUEoTUFDRClcbi8vIEhpc3RvcmdhbSA9IE1BQ0QgLSBTaWduYWxcblxuZXhwb3J0IGNsYXNzIE1BQ0RDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcblxuICAgIHB1YmxpYyBFTUFmYXN0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIEVNQXNsb3c6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBNQUNEIGxpbmVcbiAgICAgKi9cbiAgICBwdWJsaWMgTUFDRDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIFNpZ25hbCBsaW5lXG4gICAgICovXG4gICAgcHVibGljIFNJRzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIEhpc3RvZ3JhbVxuICAgICAqL1xuICAgIHB1YmxpYyBISVM6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gJ01BQ0Q6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5NQUNEICE9PSB1bmRlZmluZWQgPyB0aGlzLk1BQ0QudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIFNJRzogJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLlNJRyAhPT0gdW5kZWZpbmVkID8gdGhpcy5TSUcudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyAnIEhJUzogJ1xuICAgICAgICAgICAgKyBgJHt0aGlzLkhJUyAhPT0gdW5kZWZpbmVkID8gdGhpcy5ISVMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNQUNESW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPE1BQ0RDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJvdGVjdGVkIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dHNldHRpbmdzOiBNQUNEU2V0dGluZ3MgPSBuZXcgTUFDRFNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKE1BQ0RDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01BQ0QnO1xuXG4gICAgICAgIHRoaXMuZW1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRmFzdCwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTbG93LCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNpZ25hbCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxNQUNEQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBNQUNEQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZEZhc3QgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEZhc3Q7XG4gICAgICAgIGNvbnN0IHBlcmlvZFNsb3cgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNsb3c7XG4gICAgICAgIGNvbnN0IHBlcmlvZFNpZyA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU2lnbmFsO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgTUFDRENhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAvLyBDb21wdXRlIFNsb3cgRU1BXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUFzbG93ID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuRU1Bc2xvdyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXB1dGVkLkVNQXNsb3cgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZFNsb3csIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRFTUFzbG93KTtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBGYXN0IEVNQVxuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BZmFzdCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQWZhc3QgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5FTUFmYXN0ID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2RGYXN0LCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkRU1BZmFzdCk7XG5cbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5FTUFzbG93ICE9PSB1bmRlZmluZWQgJiYgY29tcHV0ZWQuRU1BZmFzdCAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIE1BQ0QgbGluZVxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLk1BQ0QgPSBjb21wdXRlZC5FTUFmYXN0IC0gY29tcHV0ZWQuRU1Bc2xvdztcblxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgU2lnbmFsIGxpbmVcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTaWcgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5TSUcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuU0lHID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2RTaWcsIGNvbXB1dGVkQXJyYXksIGMgPT4gKDxNQUNEQ2FuZGxlc3RpY2s+YykuTUFDRCwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZFNpZyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuU0lHICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZWQgSGlzdG9ncmFtXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLkhJUyA9IGNvbXB1dGVkLk1BQ0QgLSBjb21wdXRlZC5TSUc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IGNvbXB1dGVkLk1BQ0Q7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IE1hdGgubWF4KGNvbXB1dGVkLk1BQ0QsIGNvbXB1dGVkLlNJRyAhPT0gdW5kZWZpbmVkID8gY29tcHV0ZWQuU0lHIDogLUluZmluaXR5LCBjb21wdXRlZC5ISVMgIT09IHVuZGVmaW5lZCA/IGNvbXB1dGVkLkhJUyA6IC1JbmZpbml0eSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IE1hdGgubWluKGNvbXB1dGVkLk1BQ0QsIGNvbXB1dGVkLlNJRyAhPT0gdW5kZWZpbmVkID8gY29tcHV0ZWQuU0lHIDogLUluZmluaXR5LCBjb21wdXRlZC5ISVMgIT09IHVuZGVmaW5lZCA/IGNvbXB1dGVkLkhJUyA6IC1JbmZpbml0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RGYXN0JywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZEZhc3QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRmFzdC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0Zhc3QgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kU2xvdycsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RTbG93JyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNsb3cudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdTbG93IHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZFNpZ25hbCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2RTaWduYWwnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU2lnbmFsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnU2lnbmFsIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZEZhc3QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZEZhc3QnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RGYXN0ID0gKHBlcmlvZEZhc3QgJiYgcGVyaW9kRmFzdC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RGYXN0LnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEZhc3Q7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kU2xvdyA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kU2xvdycpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNsb3cgPSAocGVyaW9kU2xvdyAmJiBwZXJpb2RTbG93LnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZFNsb3cudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kU2xvdztcblxuICAgICAgICBjb25zdCBwZXJpb2RTaWduYWwgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZFNpZ25hbCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZFNpZ25hbCA9IChwZXJpb2RTaWduYWwgJiYgcGVyaW9kU2lnbmFsLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZFNpZ25hbC52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RTaWduYWw7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmNsYXNzIE1BQ0RTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZEZhc3Q6IG51bWJlciA9IDEyOyAgICAvLyBGYXN0IHBlcmlvZFxuICAgIHB1YmxpYyBwZXJpb2RTbG93OiBudW1iZXIgPSAyNjsgICAgIC8vIFNsb3cgcGVyaW9kXG4gICAgcHVibGljIHBlcmlvZFNpZ25hbDogbnVtYmVyID0gOTsgICAgIC8vIFNpZ25hbCBwZXJpb2RcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgTUFDREluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgLy8gTUFDRFxuICAgICAgICAvL1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzAwMjZGRicpO1xuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhLCBpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgTUFDRENhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IDxNQUNEQ2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICBpZiAoYyAmJiBjLk1BQ0QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGMuTUFDRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gU2lnbmFsXG4gICAgICAgIC8vXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjRkYwODAwJyk7XG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGEsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBNQUNEQ2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gPE1BQ0RDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChjICYmIGMuU0lHICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjLlNJRztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgLy8gSGlzdG9ncmFtXG4gICAgICAgIC8vXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzk5RjE2Jyk7XG5cbiAgICAgICAgY29uc3QgeTAgPSB5QXhpcy50b1goMCk7XG4gICAgICAgIGNvbnN0IHdpID0gZnJhbWUudyAvIHRpbWVBeGlzLmNvdW50O1xuXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGEsIChpdGVtLCB4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIE1BQ0RDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG0gPSA8TUFDRENhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKG0gJiYgbS5ISVMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKG0uSElTKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5yZWN0KHggLSB3aSAvIDIsIE1hdGgubWluKHksIHkwKSwgd2ksIE1hdGguYWJzKHkgLSB5MCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLm1vdmVUbyh4LCB5MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMubGluZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcbiAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCd2aXN1YWwnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1lYW4gRGV2aWF0aW9uIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlLCBJSW5kaWNhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIE1EID0gRU1BKEVNQShwcmljZSAtIEVNQShwcmljZSkpKVxuXG5leHBvcnQgY2xhc3MgTURDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgRU1BMTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBFTUEyOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIGRldjogbnVtYmVyIHwgdW5kZWZpbmVkOyAvLyA9IHByaWNlIC0gRU1BXG59XG5cbmV4cG9ydCBjbGFzcyBNREluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxNRENhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dHNldHRpbmdzOiBNRFNldHRpbmdzID0gbmV3IE1EU2V0dGluZ3MoKTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoTURDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01EJztcblxuICAgICAgICB0aGlzLmVtYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDEsIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMiwgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QzKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PE1EQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBNRENhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBwZXJpb2QxID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QxO1xuICAgICAgICBjb25zdCBwZXJpb2QyID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QyO1xuICAgICAgICBjb25zdCBwZXJpb2QzID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QzO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IE1EQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUExIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAvLyAxLiBDb21wdXRlIEVNQTFcbiAgICAgICAgICAgIGNvbXB1dGVkLkVNQTEgPSB0aGlzLmVtYS5jb21wdXRlKHBlcmlvZDEsIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRFTUExKTtcblxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkLkVNQTEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmRldiA9IHZhbHVlIC0gY29tcHV0ZWQuRU1BMTtcblxuICAgICAgICAgICAgICAgIC8vIDIuIENvbXB1dGUgRU1BIDIgb24gYmFzZSBvZiBFTUExXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkRU1BMiA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkVNQTIgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuRU1BMiA9IHRoaXMuZW1hLmNvbXB1dGUocGVyaW9kMiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPE1EQ2FuZGxlc3RpY2s+aXRlbSkuZGV2LCBjb21wdXRlZCwgbGFzdENvbXB1dGVkRU1BMik7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuRU1BMiAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSBFTUEzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEVNQTMgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5jIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5lbWEuY29tcHV0ZShwZXJpb2QzLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8TURDYW5kbGVzdGljaz5pdGVtKS5FTUEyLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkRU1BMyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QxJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZDEnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJzFzdCBzbW9vdGhpbmcgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kMicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QyJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcybmQgc21vb3RoaW5nIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZDMnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kMycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QzLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnM2Qgc21vb3RoaW5nIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZDEgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZDEnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QxID0gKHBlcmlvZDEgJiYgcGVyaW9kMS52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QxLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDE7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kMiA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kMicpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDIgPSAocGVyaW9kMiAmJiBwZXJpb2QyLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZDIudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMjtcblxuICAgICAgICBjb25zdCBwZXJpb2QzID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QzJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMyA9IChwZXJpb2QzICYmIHBlcmlvZDMudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kMy52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2QzO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBNRFNldHRpbmdzIHtcbiAgICBwdWJsaWMgcGVyaW9kMTogbnVtYmVyID0gMTQ7ICAgIC8vIHNtb290aGluZyBwZXJpb2QgMVxuICAgIHB1YmxpYyBwZXJpb2QyOiBudW1iZXIgPSAzOyAgICAgLy8gc21vb3RoaW5nIHBlcmlvZCAyXG4gICAgcHVibGljIHBlcmlvZDM6IG51bWJlciA9IDM7ICAgICAvLyBzbW9vdGhpbmcgcGVyaW9kIDNcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuIiwiLyoqXG4gKiBNb21lbnR1bSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSwgSUluZGljYXRvciB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIE1vbWVudHVtID0gQ2xvc2VbdF0gLSBDbG9zZVt0LU5dXG5cbmV4cG9ydCBjbGFzcyBNT01JbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNT00nO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wZXJpb2QgKyAxOyAvLyBNT00gcmVxdWlyZXMgb25lIGV4dHJhIGl0ZW1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3QgTCA9IHNvdXJjZUl0ZW1zLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCBpID0gTCAtIChOICsgMSk7XG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHNvdXJjZUl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IHNvdXJjZUl0ZW1zLmdldEl0ZW0oaSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1clZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IGFjY2Vzc29yKHByZXYpO1xuXG4gICAgICAgICAgICBpZiAoY3VyVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcmV2VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBjdXJWYWx1ZSAtIHByZXZWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXkgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgZW51bSBNb3ZpbmdBdmVyYWdlVHlwZSB7XG4gICAgQURYLFxuICAgIERvdWJsZUV4cG9uZW50aWFsLFxuICAgIEV4cG9uZW50aWFsLFxuICAgIFNpbXBsZSxcbiAgICBTbW9vdGhlZCxcbiAgICBUcmlhbmd1bGFyLFxuICAgIFRyaXBsZUV4cG9uZW50aWFsLFxuICAgIFdlaWdodCxcbiAgICBXaWxkZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5IHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbiBSYW5nZVxuICAgICAqIEBwYXJhbSB2YWx1ZSBDdXJyZW50IGl0ZW0gZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSBNQS4gSWYgbm90IHNwZWNpZmllZCwgdGhlbiBsYXN0IHZhbHVlIGZyb20gRlNBcnJheSBpcyBjb25zaWRlcmVkIGN1cnJlbnQuXG4gICAgICogQHBhcmFtIHByZWNlZGluZ1ZhbHVlcyBJdGVtcyBiZWZvcmUgY3VycmVudCBpdGVtLlxuICAgICAqIEBwYXJhbSBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlIE1BIHZhbHVlIGZvciBwcmV2aW91cyBpdGVtLlxuICAgICAqL1xuICAgIGNvbXB1dGUobjogbnVtYmVyLFxuICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU/OiBDYW5kbGVzdGljayxcbiAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgTW92aW5nQXZlcmFnZUZhY3Rvcnkge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3Q/OiBNb3ZpbmdBdmVyYWdlRmFjdG9yeTtcblxuICAgIHByaXZhdGUgYWR4bWEgPSBuZXcgQURYTW92aW5nQXZlcmFnZSgpO1xuICAgIHByaXZhdGUgZW1hID0gbmV3IEV4cG9uZW50aWFsTW92aW5nQXZlcmFnZSgpO1xuICAgIHByaXZhdGUgc21hID0gbmV3IFNpbXBsZU1vdmluZ0F2ZXJhZ2UoKTtcbiAgICBwcml2YXRlIHNtbWEgPSBuZXcgU21vb3RoZWRNb3ZpbmdBdmVyYWdlKCk7XG4gICAgcHJpdmF0ZSB0bWEgPSBuZXcgVHJpYW5ndWxhck1vdmluZ0F2ZXJhZ2UoKTtcbiAgICBwcml2YXRlIHdtYSA9IG5ldyBXZWlnaHRNb3ZpbmdBdmVyYWdlKCk7XG4gICAgcHJpdmF0ZSB3aWxkZXJtYSA9IG5ldyBXaWxkZXJNb3ZpbmdBdmVyYWdlKCk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBNb3ZpbmdBdmVyYWdlRmFjdG9yeSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0KSB7XG4gICAgICAgICAgICB0aGlzLmluc3QgPSBuZXcgTW92aW5nQXZlcmFnZUZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGUobWFUeXBlOiBNb3ZpbmdBdmVyYWdlVHlwZSk6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xuICAgICAgICBzd2l0Y2ggKG1hVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNb3ZpbmdBdmVyYWdlVHlwZS5BRFg6IHJldHVybiB0aGlzLmFkeG1hO1xuICAgICAgICAgICAgY2FzZSBNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbDogcmV0dXJuIHRoaXMuZW1hO1xuICAgICAgICAgICAgY2FzZSBNb3ZpbmdBdmVyYWdlVHlwZS5TaW1wbGU6IHJldHVybiB0aGlzLnNtYTtcbiAgICAgICAgICAgIGNhc2UgTW92aW5nQXZlcmFnZVR5cGUuU21vb3RoZWQ6IHJldHVybiB0aGlzLnNtbWE7XG4gICAgICAgICAgICBjYXNlIE1vdmluZ0F2ZXJhZ2VUeXBlLlRyaWFuZ3VsYXI6IHJldHVybiB0aGlzLnRtYTtcbiAgICAgICAgICAgIGNhc2UgTW92aW5nQXZlcmFnZVR5cGUuV2VpZ2h0OiByZXR1cm4gdGhpcy53bWE7XG4gICAgICAgICAgICBjYXNlIE1vdmluZ0F2ZXJhZ2VUeXBlLldpbGRlcjogcmV0dXJuIHRoaXMud2lsZGVybWE7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgbW92aW5nIGF2ZXJhZ2UgdHlwZT0nICsgbWFUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgRXhwb25lbnRpYWxNb3ZpbmdBdmVyYWdlIGltcGxlbWVudHMgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBzbWEgPSBuZXcgU2ltcGxlTW92aW5nQXZlcmFnZSgpO1xuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGhhdmVDb3VudCA9IHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggKyAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcblxuICAgICAgICBpZiAoaGF2ZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGZpcnN0IDQgTUEgYXMgU2ltcGxlIE1BXG4gICAgICAgIGlmIChwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlICE9PSB1bmRlZmluZWQgJiYgaGF2ZUNvdW50ID4gNCkge1xuICAgICAgICAgICAgLy8gU3QgPSBhICogWXQgKyAoMSAtIGEpICogU3QtMTtcbiAgICAgICAgICAgIGNvbnN0IGEgPSAyIC8gKG4gKyAxKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RWYWx1ZSA9IGFjY2Vzc29yKHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHByZWNlZGluZ1ZhbHVlcy5sYXN0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBhICogbGFzdFZhbHVlICsgKDEgLSBhKSAqIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2VcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBubyBwcmV2aW91cyBNQSB2YWx1ZSwgY2FsY3VsYXRlIGFzIHNpbXBsZSBtYTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNtYS5jb21wdXRlKG4sIHByZWNlZGluZ1ZhbHVlcywgYWNjZXNzb3IsIHZhbHVlLCBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgU2ltcGxlTW92aW5nQXZlcmFnZSBpbXBsZW1lbnRzIElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xuICAgICAgICBsZXQgdGFrZUNvdW50ID0gMDtcbiAgICAgICAgY29uc3QgaGF2ZUNvdW50ID0gcHJlY2VkaW5nVmFsdWVzLmxlbmd0aCArICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMSA6IDApO1xuICAgICAgICBpZiAocHJlY2VkaW5nVmFsdWVzLmxlbmd0aCA9PT0gMCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2UgaWYgKHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggPT09IDEgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gaWYgbm8gcHJldmlvdXMgdmFsdWVzLCByZXR1cm4gdGhlIG9ubHkgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiBhY2Nlc3NvcihwcmVjZWRpbmdWYWx1ZXMubGFzdCgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoID09PSAwICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vIHByZXZpb3VzIHZhbHVlcywgcmV0dXJuIHRoZSBvbmx5IHZhbHVlXG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzb3IodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKG4gPiBoYXZlQ291bnQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vdCBlbm91Z2ggdmFsdWVzIHRvIGJ1aWxkIG1vdmluZyBhdmVyYWdlIHVzZSBhcyBtdWNoIGFzIHdlIGNhbiBnZXRcbiAgICAgICAgICAgIHRha2VDb3VudCA9IGhhdmVDb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgZW5vdWdoIHZhbHVlcyBcbiAgICAgICAgICAgIHRha2VDb3VudCA9IG47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3VtID0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyBhY2Nlc3Nvcih2YWx1ZSkgfHwgMCA6IDApO1xuICAgICAgICBsZXQgY291bnRlciA9ICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gMSA6IDApO1xuICAgICAgICB0YWtlQ291bnQgPSB0YWtlQ291bnQgLSAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcbiAgICAgICAgLy8gQWRkIGxhc3QgdmFsdWVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFrZUNvdW50OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBhY2Nlc3NvcihwcmVjZWRpbmdWYWx1ZXMuZ2V0SXRlbShwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoIC0gKGkgKyAxKSkpO1xuICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN1bSArPSB2O1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtIC8gY291bnRlcjtcbiAgICB9XG59XG5cbmNsYXNzIFNtb290aGVkTW92aW5nQXZlcmFnZSBpbXBsZW1lbnRzIElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3kge1xuICAgIHByaXZhdGUgc21hID0gbmV3IFNpbXBsZU1vdmluZ0F2ZXJhZ2UoKTtcbiAgICBwdWJsaWMgY29tcHV0ZShuOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XG5cbiAgICAgICAgaWYgKGhhdmVDb3VudCA8IG4pIHtcbiAgICAgICAgICAgIC8vIHVzZSBTaW1wbGUgTW92aW5nIEF2ZXJhZ2UgaWYgbm90IGVub3VnaCBkYXRhXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbWEuY29tcHV0ZShuLCBwcmVjZWRpbmdWYWx1ZXMsIGFjY2Vzc29yLCB2YWx1ZSwgcHJlY2VkaW5nTW92aW5nQXZlcmFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXZpb3VzIG1vdmluZyBhdmVyYWdlIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VyVmFsdWUgPSBhY2Nlc3Nvcih2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBwcmVjZWRpbmdWYWx1ZXMubGFzdCgpKTtcbiAgICAgICAgcmV0dXJuIGN1clZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgID8gKHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UgKiAobiAtIDEpICsgY3VyVmFsdWUpIC8gblxuICAgICAgICAgICAgICAgOiBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlO1xuICAgIH1cbn1cblxuY2xhc3MgVHJpYW5ndWxhck1vdmluZ0F2ZXJhZ2UgaW1wbGVtZW50cyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5IHtcbiAgICBwdWJsaWMgY29tcHV0ZShuOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XG5cbiAgICAgICAgLy8gSWYgYW1vdW50IG9mIGl0ZW1zIGlzIG5vdCBlbm91Z2ggZG8gbm90IG1ha2UgY29tcHV0YXRpb24uXG4gICAgICAgIGlmIChuID4gaGF2ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWlkID0gTWF0aC5yb3VuZChuIC8gMik7XG5cbiAgICAgICAgbGV0IHN1bSA9ICh2YWx1ZSAhPT0gdW5kZWZpbmVkID8gbiAqIChhY2Nlc3Nvcih2YWx1ZSkgfHwgMCkgOiAwKTtcbiAgICAgICAgbGV0IGRpdmlkZXIgPSAwO1xuICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyAyIDogMSk7XG4gICAgICAgIGxldCB0cmlhbmc7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDw9IG47IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKGkgPD0gbWlkKSB7XG4gICAgICAgICAgICAgICAgdHJpYW5nID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJpYW5nID0gbWlkIC0gKGkgLSBtaWQpICsgKChuICsgMSkgJSAyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdiA9IGFjY2Vzc29yKHByZWNlZGluZ1ZhbHVlcy5nZXRJdGVtKHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggLSAoKGkgLSBzdGFydEluZGV4KSArIDEpKSk7XG4gICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHRyaWFuZyAqIHY7XG4gICAgICAgICAgICAgICAgZGl2aWRlciArPSB0cmlhbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VtIC8gZGl2aWRlcjtcbiAgICB9XG59XG5cbmNsYXNzIFdlaWdodE1vdmluZ0F2ZXJhZ2UgaW1wbGVtZW50cyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5IHtcbiAgICBwdWJsaWMgY29tcHV0ZShuOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nVmFsdWVzOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICB2YWx1ZT86IENhbmRsZXN0aWNrLFxuICAgICAgICAgICAgICAgICAgIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U/OiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBoYXZlQ291bnQgPSBwcmVjZWRpbmdWYWx1ZXMubGVuZ3RoICsgKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XG5cbiAgICAgICAgLy8gSWYgYW1vdW50IG9mIGl0ZW1zIGlzIG5vdCBlbm91Z2ggdGhlbiBjYWxjdWxhdGUgZm9yIGRlY3JlYXNlZCBOIHZhbHVlLlxuICAgICAgICBpZiAobiA+IGhhdmVDb3VudCkge1xuICAgICAgICAgICAgbiA9IGhhdmVDb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdW0gPSAodmFsdWUgIT09IHVuZGVmaW5lZCA/IG4gKiAoYWNjZXNzb3IodmFsdWUpIHx8IDApIDogMCk7XG4gICAgICAgIGxldCBjb3VudGVyID0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XG4gICAgICAgIG4gPSBuIC0gKHZhbHVlICE9PSB1bmRlZmluZWQgPyAxIDogMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gYWNjZXNzb3IocHJlY2VkaW5nVmFsdWVzLmdldEl0ZW0ocHJlY2VkaW5nVmFsdWVzLmxlbmd0aCAtIChpICsgMSkpKTtcbiAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gKG4gLSBjb3VudGVyKSAqIHY7XG4gICAgICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bSAvIHRoaXMuZGl2aWRlcihjb3VudGVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpdmlkZXIobjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuICogKG4gKyAxKSAvIDI7XG4gICAgfVxufVxuXG5jbGFzcyBXaWxkZXJNb3ZpbmdBdmVyYWdlIGltcGxlbWVudHMgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBzbWEgPSBuZXcgU2ltcGxlTW92aW5nQXZlcmFnZSgpO1xuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGhhdmVDb3VudCA9IHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggKyAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcblxuICAgICAgICBpZiAoaGF2ZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgcHJldmlvdXMgTUEgdGhlbiB1c2UgaXRcbiAgICAgICAgaWYgKHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3VyVmFsdWUgPSBhY2Nlc3Nvcih2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBwcmVjZWRpbmdWYWx1ZXMubGFzdCgpKTtcbiAgICAgICAgICAgIHJldHVybiBjdXJWYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSArIChwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlIC8gbikgKyBjdXJWYWx1ZSlcbiAgICAgICAgICAgICAgICA6IHByZWNlZGluZ01vdmluZ0F2ZXJhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGF2ZUNvdW50ID49IG4pIHtcbiAgICAgICAgICAgIC8vIEZpcnN0IGF2ZXJhZ2UgY2FsY3VsYXRlIGFzIHNpbXBsZSBhdmVyYWdlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbWEuY29tcHV0ZShuLCBwcmVjZWRpbmdWYWx1ZXMsIGFjY2Vzc29yLCB2YWx1ZSwgcHJlY2VkaW5nTW92aW5nQXZlcmFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdodCBkYXRhIGRvIG5vdCBjb21wdXRlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEZpcnN0IC0gc2ltcGxlIGF2ZXJhZ2UuXG4gKiBOZXh0IC0gKHByZXYgYXZnIHggKG4gLSAxKSArIGN1cnJlbnQpIC8gblxuICovXG5jbGFzcyBBRFhNb3ZpbmdBdmVyYWdlIGltcGxlbWVudHMgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSB7XG4gICAgcHJpdmF0ZSBzbWEgPSBuZXcgU2ltcGxlTW92aW5nQXZlcmFnZSgpO1xuICAgIHB1YmxpYyBjb21wdXRlKG46IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICBwcmVjZWRpbmdWYWx1ZXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPzogQ2FuZGxlc3RpY2ssXG4gICAgICAgICAgICAgICAgICAgcHJlY2VkaW5nTW92aW5nQXZlcmFnZT86IG51bWJlcik6IG51bWJlcnx1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGhhdmVDb3VudCA9IHByZWNlZGluZ1ZhbHVlcy5sZW5ndGggKyAodmFsdWUgIT09IHVuZGVmaW5lZCA/IDEgOiAwKTtcblxuICAgICAgICBpZiAoaGF2ZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgcHJldmlvdXMgTUEgdGhlbiB1c2UgaXRcbiAgICAgICAgaWYgKHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3VyVmFsdWUgPSBhY2Nlc3Nvcih2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBwcmVjZWRpbmdWYWx1ZXMubGFzdCgpKTtcbiAgICAgICAgICAgIHJldHVybiBjdXJWYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyAocHJlY2VkaW5nTW92aW5nQXZlcmFnZSAqIChuIC0gMSkgKyBjdXJWYWx1ZSkgLyBuXG4gICAgICAgICAgICAgICAgOiBwcmVjZWRpbmdNb3ZpbmdBdmVyYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhdmVDb3VudCA+PSBuKSB7XG4gICAgICAgICAgICAvLyBGaXJzdCBhdmVyYWdlIGNhbGN1bGF0ZSBhcyBzaW1wbGUgYXZlcmFnZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc21hLmNvbXB1dGUobiwgcHJlY2VkaW5nVmFsdWVzLCBhY2Nlc3NvciwgdmFsdWUsIHByZWNlZGluZ01vdmluZ0F2ZXJhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgbm90IGVub3VnaHQgZGF0YSBkbyBub3QgY29tcHV0ZVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogV2lsbGlhbSdzICVSIG9zY2lsbGF0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgR2Fpbkxvc3NFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBSYW5nZTogWy0xMDA7IDBdXG4vLyAlUiA9IChIaWdoZXN0IEhpZ2ggLSBDbG9zZSkvKEhpZ2hlc3QgSGlnaCAtIExvd2VzdCBMb3cpICogLTEwMFxuXG5leHBvcnQgY2xhc3MgUENST3NjaWxsYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDYW5kbGVzdGlja0V4dD4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dDogR2Fpbkxvc3NFeHRlbnNpb247XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUENSJztcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDE0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBpZiAoc291cmNlLmMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgSCA9IHNvdXJjZUl0ZW1zLm1heChjID0+IGMuaCwgTik7IC8vIGhpZ2hlc3QgaGlnaCBmb3IgdGhlIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgTCA9IHNvdXJjZUl0ZW1zLm1pbihjID0+IGMubCwgTik7IC8vIGxvd2VzdCBsb3cgZm9yIHRoZSBwZXJpb2RcblxuICAgICAgICAgICAgaWYgKEggIT09IHVuZGVmaW5lZCAmJiBMICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gSCAhPT0gTCA/ICgtMTAwKSAqIChIIC0gc291cmNlLmMpIC8gKEggLSBMKSA6IDA7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IC0xMDAsIGVuZDogMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICclUiBQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBQaXZvdCBQb2ludHMgaW5kaWNhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCwgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSUhhc2hUYWJsZSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IERhdGVVdGlscyB9IGZyb20gJy4uL3V0aWxzL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG4vLyBQaXZvdCBQb2ludCAoUCkgPSAoSGlnaCArIExvdyArIENsb3NlKS8zXG4vLyBTdXBwb3J0IDEgKFMxKSA9IChQIHggMikgLSBIaWdoXG4vLyBTdXBwb3J0IDIgKFMyKSA9IFAgIC0gIChIaWdoICAtICBMb3cpXG4vLyBSZXNpc3RhbmNlIDEgKFIxKSA9IChQIHggMikgLSBMb3dcbi8vIFJlc2lzdGFuY2UgMiAoUjIpID0gUCArIChIaWdoICAtICBMb3cpXG5cbmV4cG9ydCBjbGFzcyBQUENhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIGNvbnN0cnVjdG9yKGRhdGVTdGFydDogRGF0ZSwgZGF0ZUVuZD86IERhdGUpIHtcbiAgICAgICAgc3VwZXIoZGF0ZVN0YXJ0KTtcbiAgICAgICAgdGhpcy5kYXRlRW5kID0gbmV3IFVpZChkYXRlRW5kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGl2b3QgUG9pbnRcbiAgICAgKi9cbiAgICBwdWJsaWMgcDogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFN1cHBvcnQgMVxuICAgICAqL1xuICAgIHB1YmxpYyBzMTogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFN1cHBvcnQgMlxuICAgICAqL1xuICAgIHB1YmxpYyBzMjogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFJlc2lzdGFuY2UgMVxuICAgICAqL1xuICAgIHB1YmxpYyByMTogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFJlc2lzdGFuY2UgMlxuICAgICAqL1xuICAgIHB1YmxpYyByMjogbnVtYmVyfHVuZGVmaW5lZDtcblxuICAgIC8vcHVibGljIHBvc2l0aW9uID0gUG9pbnRUeXBlLk1pZGRsZTtcbiAgICBwdWJsaWMgcHJvbWlzZTogUHJvbWlzZTxDYW5kbGVzdGljaz4gfCB1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgZGF0ZUVuZDogVWlkO1xuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAnUFA6ICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5wICE9PSB1bmRlZmluZWQgPyB0aGlzLnAudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQUEluZGljYXRvciBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8UFBDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJvdGVjdGVkIHNldHRpbmdzOiBQUFNldHRpbmdzID0gbmV3IFBQU2V0dGluZ3MoKTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoUFBDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1BQJztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIGxldCBjb21wdXRlZEFycmF5OiBQUENhbmRsZXN0aWNrW10gPSBbXTtcblxuICAgICAgICAvLyBHZXQgc291cmNlIGRhdGEgd2l0aG91dCBsb2FkaW5nXG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPiA9IHRoaXMuc291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gR28gdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXRlcmF0b3IubW92ZU5leHQoKSkgeyByZXR1cm47IH0gLy8gRmluaXNoIGlmIG5vIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0aW9uc1xuICAgICAgICAvLyBcblxuICAgICAgICBjb25zdCBmaXJzdFVpZCA9IGl0ZXJhdG9yLmN1cnJlbnQudWlkO1xuICAgICAgICBsZXQgbGFzdFVpZDtcbiAgICAgICAgbGV0IGZvdW5kO1xuICAgICAgICBjb25zdCBzdG9yZUl0ZXIgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGxhc3RVaWQgPSBpdGVyYXRvci5jdXJyZW50LnVpZDtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gaXRlcmF0b3IuY3VycmVudDtcblxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBiYXNlIHRpbWVcbiAgICAgICAgICAgIC8vIFxuICAgICAgICAgICAgY29uc3Qgc291cmNlSW50ZXJ2YWwgPSB0aGlzLmNvbnRleHQuaW50ZXJ2YWwoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4dEludGVydmFsID0gdGhpcy5leHRlbmRJbnRlcnZhbChzb3VyY2VJbnRlcnZhbCk7XG4gICAgICAgICAgICAvLyBHZXQgY2FuZGxlIGZvciBwcmV2aW91cyBwZXJpb2RcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVEYXRlID0gRGF0ZVV0aWxzLnRydW5jYXRlVG9JbnRlcnZhbChzb3VyY2UudWlkLnQsIGV4dEludGVydmFsKTsgLy8gRGF0ZSBvZiBjdXJyZW50IGNvbXB1dGVkIGNhbmRsZVxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZVRpbWUgPSBjb21wdXRlRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBiYXNlRGF0ZSA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChjb21wdXRlRGF0ZSwgZXh0SW50ZXJ2YWwsIC0xKTsgLy8gRGF0ZSBmb3IgcHJldmlvdXMgcGVyaW9kXG4gICAgICAgICAgICBjb25zdCBiYXNlVGltZSA9IGJhc2VEYXRlLmdldFRpbWUoKTtcblxuICAgICAgICAgICAgLy8gRmluZCBleGlzdGluZyBpdGVtXG4gICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBzdG9yZUl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID09PSBjb21wdXRlVGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gc3RvcmVJdGVyLm1vdmVUbyhpdGVtID0+IGl0ZW0udWlkLnQuZ2V0VGltZSgpID09PSBjb21wdXRlVGltZSkgIT09IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHByb21pc2VcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFBQQ2FuZGxlc3RpY2soY29tcHV0ZURhdGUsIERhdGVVdGlscy5hZGRJbnRlcnZhbChjb21wdXRlRGF0ZSwgZXh0SW50ZXJ2YWwsIDEpKTtcblxuICAgICAgICAgICAgICAgIC8vIFByb21pc2Ugc2hvdWxkIGJlIGluIGNsb3N1cmVcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5jb250ZXh0LmdldENhbmRsZSh0aGlzLnNvdXJjZS5hc3NldCwgYmFzZURhdGUsIGV4dEludGVydmFsKTtcblxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihjYW5kbGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5kbGUgJiYgY2FuZGxlLmggIT09IHVuZGVmaW5lZCAmJiBjYW5kbGUubCAhPT0gdW5kZWZpbmVkICYmIGNhbmRsZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnAgPSAoY2FuZGxlLmggKyBjYW5kbGUubCArIGNhbmRsZS5jKSAvIDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5zMSA9IDIgKiBjb21wdXRlZC5wIC0gY2FuZGxlLmg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5zMiA9IGNvbXB1dGVkLnAgLSAoY2FuZGxlLmggLSBjYW5kbGUubCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5yMSA9IDIgKiBjb21wdXRlZC5wIC0gY2FuZGxlLmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5yMiA9IGNvbXB1dGVkLnAgKyAoY2FuZGxlLmggLSBjYW5kbGUubCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb21wdXRlZC5wcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKFtjb21wdXRlZF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vY29uc3Qgb3JpZ0FyZyA9IG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KGZpcnN0VWlkLCBsYXN0VWlkLCBjb21wdXRlZEFycmF5Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleHRlbmRJbnRlcnZhbChpbnRlcnZhbDogVGltZUludGVydmFsKTogVGltZUludGVydmFsIHtcbiAgICAgICAgc3dpdGNoIChpbnRlcnZhbCkge1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuc2VjOiByZXR1cm4gVGltZUludGVydmFsLmRheTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjogcmV0dXJuIFRpbWVJbnRlcnZhbC5kYXk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW41OiByZXR1cm4gVGltZUludGVydmFsLmRheTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjE1OiByZXR1cm4gVGltZUludGVydmFsLmRheTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjMwOiByZXR1cm4gVGltZUludGVydmFsLndlZWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiByZXR1cm4gVGltZUludGVydmFsLndlZWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyNDogcmV0dXJuIFRpbWVJbnRlcnZhbC53ZWVrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjY6IHJldHVybiBUaW1lSW50ZXJ2YWwud2VlaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXIxMjogcmV0dXJuIFRpbWVJbnRlcnZhbC5tb250aDtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTogcmV0dXJuIFRpbWVJbnRlcnZhbC5tb250aDtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTM6IHJldHVybiBUaW1lSW50ZXJ2YWwubW9udGg7XG4gICAgICAgICAgICAvL2Nhc2UgVGltZUludGVydmFsLmRheTEwOiByZXR1cm4gVGltZUludGVydmFsLnllYXI7XG4gICAgICAgICAgICAvLyBjYXNlIFRpbWVJbnRlcnZhbC53ZWVrOiByZXR1cm4gVGltZUludGVydmFsLnllYXI7XG4gICAgICAgICAgICAvLyBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDogcmV0dXJuIFRpbWVJbnRlcnZhbC55ZWFyO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHRpbWUgaW50ZXJ2YWwgJHtpbnRlcnZhbH1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBQU2V0dGluZ3Mge1xuICAgIHB1YmxpYyB2YWx1ZVR5cGU6IFZhbHVlQWNjZXNzb3JUeXBlID0gVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2U7XG59XG5cbmNsYXNzIExpbmUge1xuICAgIHB1YmxpYyB4MTogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgeDI6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgeTE6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHkyOiBudW1iZXJ8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyB5MzogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgeTQ6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHk1OiBudW1iZXJ8dW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgUFBJbmRpY2F0b3JSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xuXG4gICAgICAgIC8vIEdldCBmaXJzdCB0aW1lIGFuZCBsYXN0IHRpbWUgb2YgdmlzaWJsZSByYW5nZVxuXG4gICAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IHRpbWVBeGlzLnJhbmdlO1xuXG4gICAgICAgIC8vIEZpbmQgY2FuZGxlcyBqdXN0IGJlZm9yZSB0aGUgZmlyc3QsIGFuZCBqdXN0IGFmdGVyIHRoZSBsYXN0IHRpbWUuXG5cbiAgICAgICAgY29uc3QgZmlyc3RUaW1lID0gdGltZVJhbmdlLnN0YXJ0LnQuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBsYXN0VGltZSA9IHRpbWVSYW5nZS5lbmQudC5nZXRUaW1lKCk7XG5cbiAgICAgICAgLy8gR28gdG8gZmlyc3QgY2FuZGxlcyBqdXN0IGJlZm9yZSBmaXJzdCB2aXNpYmxlIG9yIGZpcnN0XG4gICAgICAgIGlmICghZGF0YS5nb1doaWxlKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPCBmaXJzdFRpbWUpKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEuZ29UbyhpdGVtID0+IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBuZXh0IHdoaWxlIGRhdGUgaXMgaW4gdmlzaWJsZSByYW5nZVxuICAgICAgICAvL1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBSZW5kZXIgY3VycmVudCBjYW5kbGVcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IChkYXRhLmN1cnJlbnQgaW5zdGFuY2VvZiBQUENhbmRsZXN0aWNrKSA/IDxQUENhbmRsZXN0aWNrPmRhdGEuY3VycmVudCA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgICAgIGxldCB4MSA9IHRpbWVBeGlzLnRvWChwb2ludHMudWlkKTtcbiAgICAgICAgICAgICAgICBsZXQgeDIgPSB0aW1lQXhpcy50b1gocG9pbnRzLmRhdGVFbmQpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgY2FuIG5vdCBnZXQgeCBjb29yZGluYXRlcyBieSB0aW1lIGF4aXMsIGRyYXcgbGluZSB0byB0aGUgYm9yZGVyXG4gICAgICAgICAgICAgICAgaWYgKHgxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50cy51aWQudC5nZXRUaW1lKCkgPCBmaXJzdFRpbWUpIHsgeDEgPSAtMTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzLnVpZC50LmdldFRpbWUoKSA8IGxhc3RUaW1lKSB7IHgxID0gZnJhbWUueCArIGZyYW1lLncgKyAxOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh4MiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMuZGF0ZUVuZC50LmdldFRpbWUoKSA8IGZpcnN0VGltZSkgeyB4MiA9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMuZGF0ZUVuZC50LmdldFRpbWUoKSA8IGxhc3RUaW1lKSB7IHgyID0gZnJhbWUueCArIGZyYW1lLncgKyAxOyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IG5ldyBMaW5lKCk7XG4gICAgICAgICAgICAgICAgbGluZS54MSA9IHgxO1xuICAgICAgICAgICAgICAgIGxpbmUueDIgPSB4MjtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzLnAgIT09IHVuZGVmaW5lZCAmJiBwb2ludHMucjEgIT09IHVuZGVmaW5lZCAmJiBwb2ludHMucjIgIT09IHVuZGVmaW5lZCAmJiBwb2ludHMuczEgIT09IHVuZGVmaW5lZCAmJiBwb2ludHMuczIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnkxID0geUF4aXMudG9YKHBvaW50cy5wKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS55MiA9IHlBeGlzLnRvWChwb2ludHMucjEpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnkzID0geUF4aXMudG9YKHBvaW50cy5yMik7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUueTQgPSB5QXhpcy50b1gocG9pbnRzLnMxKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS55NSA9IHlBeGlzLnRvWChwb2ludHMuczIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNTZCNTBFJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgbGluZS54MSwgbGluZS55MSwgbGluZS54MiwgbGluZS55MSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIGxpbmUueDEsIGxpbmUueTIsIGxpbmUueDIsIGxpbmUueTIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCBsaW5lLngxLCBsaW5lLnkzLCBsaW5lLngyLCBsaW5lLnkzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgbGluZS54MSwgbGluZS55NCwgbGluZS54MiwgbGluZS55NCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIGxpbmUueDEsIGxpbmUueTUsIGxpbmUueDIsIGxpbmUueTUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRhdGEubW92ZU5leHQoKSAmJiBkYXRhLmN1cnJlbnQudWlkLnQuZ2V0VGltZSgpIDw9IGxhc3RUaW1lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxpbmUoY2FudmFzOiBJQ2FudmFzLCB4MT86IG51bWJlciwgeTE/OiBudW1iZXIsIHgyPzogbnVtYmVyLCB5Mj86IG51bWJlcikge1xuICAgICAgICBpZiAoeDEgIT09IHVuZGVmaW5lZCAmJiB4MiAhPT0gdW5kZWZpbmVkICYmIHkxICE9PSB1bmRlZmluZWQgJiYgeTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIFBhcmFib2xpYyBTdG9wIGFuZCBSZXZlcnNlIGluZGljYXRvciBjbGFzcy5cclxuICovXHJcbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXHJcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xyXG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xyXG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcclxuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcclxuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xyXG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcclxuXHJcbi8vIFNBUihuKzEpID0gU0FSKG4pICsgQSB4IChFUCAtIFNBUihuKSlcclxuXHJcbmV4cG9ydCBlbnVtIFRyZW5kIHtcclxuICAgIE5vbmUgPSAwLFxyXG4gICAgVXAgPSAxLFxyXG4gICAgRG93biA9IDJcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBTQVJDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcclxuICAgIC8qKlxyXG4gICAgICogQWNjZWxlcmF0aW9uIGZhY3RvclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYTogbnVtYmVyfHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dHJlbWUgcG9pbnQuIEhpZ2hlc3QgaGlnaCAodXB0cmVuZCwgbG9uZykgb3IgTG93ZXN0IGxvdyAoZG93bnRyZW5kLCBzaG9ydCkuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBFUDogbnVtYmVyfHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExlYWRpbmcgU3BhbiBBXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBTQVI6IG51bWJlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgdHJlbmQ6IFRyZW5kID0gVHJlbmQuTm9uZTtcclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gJ1NBUjogJ1xyXG4gICAgICAgICAgICArIGAke3RoaXMuU0FSICE9PSB1bmRlZmluZWQgPyB0aGlzLlNBUi50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXHJcbiAgICAgICAgICAgICsgJyAvIEVQOiAnXHJcbiAgICAgICAgICAgICsgYCR7dGhpcy5FUCAhPT0gdW5kZWZpbmVkID8gdGhpcy5FUC50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUFNBUkluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxQU0FSQ2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcclxuICAgIHByaXZhdGUgZXh0c2V0dGluZ3M6IFBTQVJTZXR0aW5ncyA9IG5ldyBQU0FSU2V0dGluZ3MoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XHJcbiAgICAgICAgc3VwZXIoUFNBUkNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdQU0FSJztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8UFNBUkNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogUFNBUkNhbmRsZXN0aWNrIHtcclxuXHJcbiAgICAgICAgY29uc3QgaW5pdGlhbEZhY3RvciA9IHRoaXMuZXh0c2V0dGluZ3MuaW5pdGlhbEZhY3RvcjtcclxuICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSB0aGlzLmV4dHNldHRpbmdzLmluY3JlbWVudDtcclxuICAgICAgICBjb25zdCBtYXhGYWN0b3IgPSB0aGlzLmV4dHNldHRpbmdzLm1heEZhY3RvcjtcclxuXHJcbiAgICAgICAgY29uc3Qgc291cmNlQ3VyID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxyXG4gICAgICAgIGNvbnN0IHNvdXJjZVByZXYgPSBzb3VyY2VJdGVtcy5sZW5ndGggPiAxID8gc291cmNlSXRlbXMuZ2V0SXRlbShzb3VyY2VJdGVtcy5sZW5ndGggLSAyKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFBTQVJDYW5kbGVzdGljayhzb3VyY2VDdXIuZGF0ZSk7XHJcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlQ3VyLnVpZC50O1xyXG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZUN1ci51aWQubjtcclxuXHJcbiAgICAgICAgaWYgKHNvdXJjZUN1ci5oID09PSB1bmRlZmluZWQgfHwgc291cmNlQ3VyLmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAobGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmEgPSBsYXN0Q29tcHV0ZWQuYTtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVQID0gbGFzdENvbXB1dGVkLkVQO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuU0FSID0gbGFzdENvbXB1dGVkLlNBUjtcclxuICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kID0gbGFzdENvbXB1dGVkLnRyZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkICYmIGxhc3RDb21wdXRlZC5TQVIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gMS4gQ29tcHV0ZSBTQVJcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICBsZXQgU0FSO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgU0FScHJldiA9IGxhc3RDb21wdXRlZC5TQVI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gPG51bWJlcj5sYXN0Q29tcHV0ZWQuYTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IEVQID0gPG51bWJlcj5sYXN0Q29tcHV0ZWQuRVA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmVuZCA9IGxhc3RDb21wdXRlZC50cmVuZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHJlbmQgPT09IFRyZW5kLlVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU0FSID0gU0FScHJldiArIGEgKiAoRVAgLSBTQVJwcmV2KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJlbmQgPT09IFRyZW5kLkRvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBTQVIgPSBTQVJwcmV2IC0gYSAqIChTQVJwcmV2IC0gRVApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCB0cmVuZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyAyLiBDb3JyZWN0IFNBUi4gU0FSIGNhbid0IGdldCBpbnNpZGUgb3IgYmV5b3VuZCBwcmV2aW91cyAoMikgcmFuZ2UuXHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVByZXYgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2VQcmV2LmggIT09IHVuZGVmaW5lZCAmJiBzb3VyY2VQcmV2LmwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggdHJlbmQgPT09IFRyZW5kLlVwICYmIFNBUiA+IHNvdXJjZVByZXYubCApIHsgLy8gU0FSIGluIHByZXYgcmFuZ2Ugb3IgYmV5b25kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvcnJlY3QgU0FSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNBUiA9IHNvdXJjZVByZXYubDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyZW5kID09PSBUcmVuZC5Eb3duICYmIFNBUiA8IHNvdXJjZVByZXYuaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTQVIgPSBzb3VyY2VQcmV2Lmg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIDMuIENoZWNrIGlmIHRyZW5kIGNoYW5nZXMgb3IgY29udGludWVzXHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0cmVuZCA9PT0gVHJlbmQuVXAgJiYgU0FSID4gc291cmNlQ3VyLmwpXHJcbiAgICAgICAgICAgICAgICAgICAgIHx8ICh0cmVuZCA9PT0gVHJlbmQuRG93biAmJiBTQVIgPCBzb3VyY2VDdXIuaCkgKSB7IC8vIFNBUiBpbiBjdXIgcmFuZ2Ugb3IgYmV5b25kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJlbmQgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kID0gdHJlbmQgPT09IFRyZW5kLlVwID8gVHJlbmQuRG93biA6IFRyZW5kLlVwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmEgPSBpbml0aWFsRmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVQID0gdHJlbmQgPT09IFRyZW5kLlVwID8gc291cmNlQ3VyLmwgOiBzb3VyY2VDdXIuaDtcclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5TQVIgPSBFUDsgLy8gTmV3IFNBUiBpcyBFUCBmcm9tIHByZXZpb3VzIHRyZW5kXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyZW5kIGNvbnRpbnVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kID0gdHJlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQuU0FSID0gU0FSO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLkVQID0gdHJlbmQgPT09IFRyZW5kLlVwID8gTWF0aC5tYXgoRVAsIHNvdXJjZUN1ci5oKSA6IE1hdGgubWluKEVQLCBzb3VyY2VDdXIubCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IFwiYVwiIGlmIG5ldyBoaWdoZXN0IGhpZ2ggb3IgbG93ZXN0IGxvdy4gSWYgSEggLyBMTCBpcyBub3QgY2hhbmdlZCwgZG8gbm90IGluY3JlbWVudCBcImFcIi5cclxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5hID0gKGNvbXB1dGVkLkVQICE9PSBFUCkgPyBNYXRoLm1pbihhICsgaW5jcmVtZW50LCBtYXhGYWN0b3IpIDogYTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRpbmcgZmlyc3QgU0FSXHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IFRyZW5kLlVwO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYSA9IGluaXRpYWxGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5FUCA9IHNvdXJjZUN1ci5oO1xyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuU0FSID0gc291cmNlQ3VyLmw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnaW5pdGlhbEZhY3RvcicsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ2luaXRpYWxGYWN0b3InLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5pbml0aWFsRmFjdG9yLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxyXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0luaXRpYWwgZmFjdG9yJ1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnaW5jcmVtZW50JywgbmV3IFNldHRpbmdTZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiAnaW5jcmVtZW50JyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MuaW5jcmVtZW50LnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxyXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0luY3JlbWVudCdcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ21heEZhY3RvcicsIG5ldyBTZXR0aW5nU2V0KHtcclxuICAgICAgICAgICAgbmFtZTogJ21heEZhY3RvcicsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLm1heEZhY3Rvci50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdNYXhpbXVtIGZhY3RvcidcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBncm91cDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsRmFjdG9yID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5pbml0aWFsRmFjdG9yJyk7XHJcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5pbml0aWFsRmFjdG9yID0gKGluaXRpYWxGYWN0b3IgJiYgaW5pdGlhbEZhY3Rvci52YWx1ZSkgPyBwYXJzZUludChpbml0aWFsRmFjdG9yLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLmluaXRpYWxGYWN0b3I7XHJcblxyXG4gICAgICAgIGNvbnN0IGluY3JlbWVudCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UuaW5jcmVtZW50Jyk7XHJcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5pbmNyZW1lbnQgPSAoaW5jcmVtZW50ICYmIGluY3JlbWVudC52YWx1ZSkgPyBwYXJzZUludChpbmNyZW1lbnQudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MuaW5jcmVtZW50O1xyXG5cclxuICAgICAgICBjb25zdCBtYXhGYWN0b3IgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLm1heEZhY3RvcicpO1xyXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MubWF4RmFjdG9yID0gKG1heEZhY3RvciAmJiBtYXhGYWN0b3IudmFsdWUpID8gcGFyc2VJbnQobWF4RmFjdG9yLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLm1heEZhY3RvcjtcclxuXHJcbiAgICAgICAgLy8gcmVjb21wdXRlXHJcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFBTQVJTZXR0aW5ncyB7XHJcbiAgICBwdWJsaWMgaW5pdGlhbEZhY3RvcjogbnVtYmVyID0gMC4wMjtcclxuICAgIHB1YmxpYyBpbmNyZW1lbnQ6IG51bWJlciA9IDAuMDI7XHJcbiAgICBwdWJsaWMgbWF4RmFjdG9yOiBudW1iZXIgPSAwLjI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQU0FSSW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcclxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YSwgKGl0ZW0sIHgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1ckl0ZW0gPSAoaXRlbSBpbnN0YW5jZW9mIFBTQVJDYW5kbGVzdGljaykgPyA8UFNBUkNhbmRsZXN0aWNrPml0ZW06IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJJdGVtICYmIGN1ckl0ZW0uU0FSICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKGN1ckl0ZW0uU0FSKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VySXRlbS50cmVuZCA9PT0gVHJlbmQuVXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyM1NkI1MEUnKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjNTZCNTBFJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0VBMEUxQycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyNFQTBFMUMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjYW52YXMuYXJjKHgsIHksIDIsIDAsIDM2MCk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0aW1lQXhpcy5yZXNldCgpO1xyXG4gICAgICAgIC8vIHdoaWxlICh0aW1lQXhpcy5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clVpZCA9IHRpbWVBeGlzLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1clRpbWUgPSBjdXJVaWQudC5nZXRUaW1lKCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGN1cm4gPSBjdXJVaWQubjtcclxuICAgICAgICAvLyAgICAgY29uc3QgeCA9IHRpbWVBeGlzLmN1cnJlbnRYO1xyXG5cclxuICAgICAgICAvLyAgICAgaWYgKCFmb3VuZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgZm91bmQgPSBkYXRhLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY3VyVGltZSAmJiBpdGVtLnVpZC5uID09PSBjdXJuKTtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIGZvdW5kID0gZGF0YS5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY3VyVGltZSAmJiBpdGVtLnVpZC5uID09PSBjdXJuKSAhPT0gLTE7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIGlmIChmb3VuZCkge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGN1ckl0ZW0gPSAoZGF0YS5jdXJyZW50IGluc3RhbmNlb2YgUFNBUkNhbmRsZXN0aWNrKSA/IDxQU0FSQ2FuZGxlc3RpY2s+ZGF0YS5jdXJyZW50IDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGlmIChjdXJJdGVtICYmIGN1ckl0ZW0uU0FSICE9PSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChjdXJJdGVtLlNBUik7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoY3VySXRlbS50cmVuZCA9PT0gVHJlbmQuVXApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNTZCNTBFJyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyM1NkI1MEUnKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNFQTBFMUMnKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI0VBMEUxQycpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FudmFzLmFyYyh4LCB5LCAyLCAwLCAzNjApO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbnZhcy5maWxsKCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG4gICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBSYXRpb2NhdG9yIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBUcnVlUmFuZ2VFeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IENoYXJ0UG9pbnQsIElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UsIEluZGljYXRvckRhdGFTb3VyY2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElkVmFsdWUsIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuLi91dGlscy9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUkFUSU9DQVRPUiA9IDEwMCAqIChwYS9wYikgLyAoQTEvQjEpXG5cbmV4cG9ydCBjbGFzcyBSQVRJT0luZGljYXRvciBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogUkFUSU9TZXR0aW5ncyA9IG5ldyBSQVRJT1NldHRpbmdzKCk7XG4gICAgLy9wcml2YXRlIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3NvcjtcbiAgICBwcml2YXRlIGJhc2U6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUkFUSU8nO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlKTtcblxuICAgICAgICAvLyBHZXQgY29tcGFyZSBkYXRhIHNvdWNlXG4gICAgICAgIGNvbnN0IGNvbXBhcmVEYXRhU291cmNlID0gdGhpcy5leHRzZXR0aW5ncy51aWQgPyB0aGlzLmNvbnRleHQucmVnaXN0ZXIuZ2V0SXRlbSh0aGlzLmV4dHNldHRpbmdzLnVpZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghY29tcGFyZURhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUl0ZXIgPSB0aGlzLnNvdXJjZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBjb25zdCBjb21wYXJlSXRlciA9IGNvbXBhcmVEYXRhU291cmNlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgLy8gR2V0IGJhc2UgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuYmFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHRzZXR0aW5ncy5iYXNlZGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIGxvYWQgY2FuZGxlcyBvbiBzcGVjaWZpZWQgZGF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VBID0gdGhpcy5jb250ZXh0LmdldENhbmRsZSh0aGlzLnNvdXJjZS5hc3NldCwgdGhpcy5leHRzZXR0aW5ncy5iYXNlZGF0ZSwgdGhpcy5jb250ZXh0LmludGVydmFsKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VCID0gdGhpcy5jb250ZXh0LmdldENhbmRsZShjb21wYXJlRGF0YVNvdXJjZS5hc3NldCwgdGhpcy5leHRzZXR0aW5ncy5iYXNlZGF0ZSwgdGhpcy5jb250ZXh0LmludGVydmFsKCkpO1xuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtwcm9taXNlQSwgcHJvbWlzZUJdKS50aGVuKHRoaXMuaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIEdvIHRvIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgc291cmNlSXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlSXRlci5tb3ZlTmV4dCgpKSB7IHJldHVybjsgfSAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpb25zXG4gICAgICAgIC8vIFxuXG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmaXJzdFVpZCA9IHNvdXJjZUl0ZXIuY3VycmVudC51aWQ7XG4gICAgICAgIGxldCBsYXN0VWlkO1xuICAgICAgICBjb25zdCBjb21wdXRlZEFycmF5OiBDYW5kbGVzdGlja0V4dFtdID0gW107XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZXIuY3VycmVudDtcbiAgICAgICAgICAgIGxhc3RVaWQgPSBzb3VyY2UudWlkO1xuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbXBhcmVJdGVyLm1vdmVUbyhjaXRlbSA9PiBzb3VyY2UudWlkLmNvbXBhcmUoY2l0ZW0udWlkKSA9PT0gMCkgIT09IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbXBhcmVJdGVyLmdvVG8oY2l0ZW0gPT4gc291cmNlLnVpZC5jb21wYXJlKGNpdGVtLnVpZCkgPT09IDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZU9uZShzb3VyY2UsIGNvbXBhcmVJdGVyLmN1cnJlbnQsIHRoaXMuYmFzZSwgYWNjZXNzb3IpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXkucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSB3aGlsZSAoc291cmNlSXRlci5tb3ZlTmV4dCgpKTtcblxuICAgICAgICAvLyBNZXJnZSB1c2luZyBvcmlnVWlkLCBub3QgdWlkXG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UubWVyZ2UoY29tcHV0ZWRBcnJheSk7XG5cbiAgICAgICAgY29uc3Qgb3JpZ0FyZyA9IG5ldyBEYXRhQ2hhbmdlZEFyZ3VtZW50KGZpcnN0VWlkLCBsYXN0VWlkLCBjb21wdXRlZEFycmF5Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBvcmlnQXJnO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlciA9IChyZXM6IFtDYW5kbGVzdGljaywgQ2FuZGxlc3RpY2tdKSA9PiB7XG4gICAgICAgIGNvbnN0IFtjYW5kbGVBLCBjYW5kbGVCXSA9IHJlcztcbiAgICAgICAgaWYgKGNhbmRsZUEgIT09IHVuZGVmaW5lZCAmJiBjYW5kbGVCICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgYmFzZSBrb2VmZmljaWVudCBhbmQgcmVjb21wdXRlXG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NvciA9IFZhbHVlQWNjZXNzb3JGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZSh0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZSk7XG4gICAgICAgICAgICBjb25zdCBwID0gYWNjZXNzb3IoY2FuZGxlQSk7XG4gICAgICAgICAgICBjb25zdCBzID0gYWNjZXNzb3IoY2FuZGxlQik7XG4gICAgICAgICAgICBpZiAocCAhPT0gdW5kZWZpbmVkICYmIHMgIT09IHVuZGVmaW5lZCAmJiBzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlID0gcCAvIHM7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbTogQ2FuZGxlc3RpY2ssIGNvbXBhcmVJdGVtOiBDYW5kbGVzdGljaywgYmFzZTogbnVtYmVyLCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3QgcCA9IGFjY2Vzc29yKHNvdXJjZUl0ZW0pO1xuICAgICAgICBjb25zdCBzID0gYWNjZXNzb3IoY29tcGFyZUl0ZW0pO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZUl0ZW0uZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZUl0ZW0udWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZUl0ZW0udWlkLm47XG5cbiAgICAgICAgaWYgKHAgIT09IHVuZGVmaW5lZCAmJiBzICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gMCAmJiBiYXNlICE9PSAwKSB7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gMTAwICogKHAgLyBzKSAvIGJhc2U7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygnYmFzZWRhdGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnYmFzZWRhdGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdCYXNlIGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MuYmFzZWRhdGUgPyBEYXRlVXRpbHMuZm9ybWF0RGF0ZUlTTyh0aGlzLmV4dHNldHRpbmdzLmJhc2VkYXRlKSA6ICcnLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmRhdGVcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLmNvbnRleHQucmVnaXN0ZXIubGlzdCgpO1xuICAgICAgICBzb3VyY2VzLnB1c2gobmV3IElkVmFsdWUoJycsICcnKSk7XG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3VpZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd1aWQnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDb21wYXJlJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnVpZCxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBzb3VyY2VzLm1hcChpdGVtID0+IHsgcmV0dXJuIHsgdmFsdWU6IGl0ZW0uaWQsIHRleHQ6IGl0ZW0udmFsdWUgfTsgfSlcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgdWlkID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS51aWQnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy51aWQgPSAodWlkICYmIHVpZC52YWx1ZSkgPyB1aWQudmFsdWUgOiB0aGlzLmV4dHNldHRpbmdzLnVpZDtcblxuICAgICAgICBjb25zdCBkID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5iYXNlZGF0ZScpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLmJhc2VkYXRlID0gKGQgJiYgZC52YWx1ZSkgPyBEYXRlVXRpbHMucGFyc2VJU09EYXRlKGQudmFsdWUpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyBjbGVhcmUgc3RvcmVkIGJhc2UgdmFsdWVcbiAgICAgICAgdGhpcy5iYXNlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmNsYXNzIFJBVElPU2V0dGluZ3Mge1xuICAgIHB1YmxpYyBwZXJpb2Q6IG51bWJlciA9IDEwO1xuICAgIHB1YmxpYyB1aWQ6IHN0cmluZ3x1bmRlZmluZWQ7XG4gICAgcHVibGljIGJhc2VkYXRlOiBEYXRlfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgdmFsdWVUeXBlOiBWYWx1ZUFjY2Vzc29yVHlwZSA9IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlO1xufVxuIiwiLyoqXG4gKiBSYWluYm93IEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBSYWluYm93Q2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICBwdWJsaWMgbGluZTogKG51bWJlcnx1bmRlZmluZWQpW10gPSBbXTtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRlOiBEYXRlLCBjPzogbnVtYmVyLCBvPzogbnVtYmVyLCBoPzogbnVtYmVyLCBsPzogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKGRhdGUsIGMsIG8sIGgsIGwpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJCSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPFJhaW5ib3dDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIHN0YXRpYyBwZXJpb2RzID0gWzksIDEyLCAxNSwgMTgsIDIxLCAyNCwgMjcsIDMwLCAzNSwgNDAsIDQ1LCA1MCwgNTUsIDYwLCA2NSwgNzAsIDc1LCA4MCwgODUsIDkwLCAxMDBdO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSyA9IFJCSW5kaWNhdG9yLnBlcmlvZHMubGVuZ3RoOyAvLyBBbW91bnQgb2YgcGVyaW9kc1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihSYWluYm93Q2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdSQic7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5FeHBvbmVudGlhbCk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSBNYXRoLm1heCguLi5SQkluZGljYXRvci5wZXJpb2RzKTsgLy8gVGFraW5nIG1heCBpdGVtIGFzIHJlcXVpcmVkIGFtb3VudCBvZiBpdGVtc1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8UmFpbmJvd0NhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogUmFpbmJvd0NhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFJhaW5ib3dDYW5kbGVzdGljayhzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBSQkluZGljYXRvci5LOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmxpbmVbaV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubGluZVtpXSA9IHRoaXMubWEuY29tcHV0ZShSQkluZGljYXRvci5wZXJpb2RzW2ldLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJCSW5kaWNhdG9yUmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFJCSW5kaWNhdG9yLks7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLnJhaW5ib3coUkJJbmRpY2F0b3IuSywgaSk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZShjb2xvcik7XG4gICAgICAgICAgICAvLyBVcFxuICAgICAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSYWluYm93Q2FuZGxlc3RpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZCA9IDxSYWluYm93Q2FuZGxlc3RpY2s+aXRlbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgJiYgZC5saW5lW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZC5saW5lW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByYWluYm93KG51bU9mU3RlcHM6IG51bWJlciwgc3RlcDogbnVtYmVyKSB7XG4gICAgICAgICAgICBsZXQgciA9IDAuMDtcbiAgICAgICAgICAgIGxldCBnID0gMC4wO1xuICAgICAgICAgICAgbGV0IGIgPSAwLjA7XG4gICAgICAgICAgICBjb25zdCBoID0gc3RlcCAvIG51bU9mU3RlcHM7XG4gICAgICAgICAgICBjb25zdCBpID0gTWF0aC5mbG9vcihoICogNik7XG4gICAgICAgICAgICBjb25zdCBmID0gaCAqIDYuMCAtIGk7XG4gICAgICAgICAgICBjb25zdCBxID0gMSAtIGY7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSAlIDYpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBnID0gZjtcbiAgICAgICAgICAgICAgICAgICAgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgciA9IHE7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAxO1xuICAgICAgICAgICAgICAgICAgICBiID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZyA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBmO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBnID0gcTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgciA9IGY7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAwO1xuICAgICAgICAgICAgICAgICAgICBiID0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICByID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3BlcmF0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJyMnXG4gICAgICAgICAgICAgKyAoJzAwJyArIChwYXJzZUludCgociAqIDI1NSkudG9TdHJpbmcoKSwgMTApKS50b1N0cmluZygxNikpLnNsaWNlKC0yKVxuICAgICAgICAgICAgICsgKCcwMCcgKyAocGFyc2VJbnQoKGcgKiAyNTUpLnRvU3RyaW5nKCksIDEwKSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMilcbiAgICAgICAgICAgICArICgnMDAnICsgKHBhcnNlSW50KChiICogMjU1KS50b1N0cmluZygpLCAxMCkpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICAgICAgICB9XG59XG4iLCIvKipcbiAqIFJhdGUgb2YgQ2hhbmdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUm9jID0gMTAwIHggKCBDbG9zZVt0XSAtIENsb3NlW3QtTl0gKSAvIENsb3NlW3QtTl0gXG5cbmV4cG9ydCBjbGFzcyBST0NJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdST0MnO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wZXJpb2QgKyAxOyAvLyBST0MgcmVxdWlyZXMgb25lIGV4dHJhIGl0ZW1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrRXh0PiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogQ2FuZGxlc3RpY2tFeHQge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3QgTCA9IHNvdXJjZUl0ZW1zLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCBpID0gTCAtIChOICsgMSk7XG4gICAgICAgIGlmIChpID49IDAgJiYgaSA8IHNvdXJjZUl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IHNvdXJjZUl0ZW1zLmdldEl0ZW0oaSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1clZhbHVlID0gYWNjZXNzb3Ioc291cmNlKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IGFjY2Vzc29yKHByZXYpO1xuXG4gICAgICAgICAgICBpZiAoY3VyVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcmV2VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSAxMDAgKiAoY3VyVmFsdWUgLSBwcmV2VmFsdWUpIC8gcHJldlZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2QnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndmFsdWVUeXBlJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGN1bGF0ZSB1c2luZycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuY2xvc2UudG9TdHJpbmcoKSwgdGV4dDogJ2Nsb3NlJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9wZW4udG9TdHJpbmcoKSwgdGV4dDogJ29wZW4nIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGlnaC50b1N0cmluZygpLCB0ZXh0OiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5sb3cudG9TdHJpbmcoKSwgdGV4dDogJ2xvdycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obDIudG9TdHJpbmcoKSwgdGV4dDogJ2hsMicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzLnRvU3RyaW5nKCksIHRleHQ6ICdobGMzJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9obGM0LnRvU3RyaW5nKCksIHRleHQ6ICdvaGxjNCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNC50b1N0cmluZygpLCB0ZXh0OiAnaGxjYzQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyaW9kID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2QnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAocGVyaW9kICYmIHBlcmlvZC52YWx1ZSkgPyBwYXJzZUludChwZXJpb2QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UudmFsdWVUeXBlJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gKHZhbHVlVHlwZSAmJiB2YWx1ZVR5cGUudmFsdWUpID8gcGFyc2VJbnQodmFsdWVUeXBlLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZTtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBSZWxhdGl2ZSBTdHJlbmd0aCBPc2NpbGxhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IEdhaW5Mb3NzRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQsIFVpZCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUlMgPSBBVkcgKHVwd2FyZCkgLyBBVkcgKGRvd253YXJkKTsgIFxuLy8gUlNJID0gMTAwIC0gKDEwMCAvICgxICsgUlMpKTtcblxuZXhwb3J0IGNsYXNzIFJTSUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBhdmdHYWluOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIGF2Z0xvc3M6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFJTSU9zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8UlNJQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHQ6IEdhaW5Mb3NzRXh0ZW5zaW9uO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihSU0lDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JTSSc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5BRFgpO1xuXG4gICAgICAgIC8vIFJTSSByZXF1aXJlcyBHYWluL0xvc3NcbiAgICAgICAgdGhpcy5pbml0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wZXJpb2QgPSAxNDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PFJTSUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogUlNJQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFJTSUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBhdmVyYWdlIGdhaW4vbG9zc1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRHYWluID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYXZnR2FpbiA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuYXZnR2FpbiA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgY2FuZGxlID0+IHRoaXMuZXh0LnZhbHVlKGNhbmRsZSkuZ2FpbiwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRHYWluKTtcblxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRMb3NzID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYXZnTG9zcyA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29tcHV0ZWQuYXZnTG9zcyA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgY2FuZGxlID0+IHRoaXMuZXh0LnZhbHVlKGNhbmRsZSkubG9zcywgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRMb3NzKTtcblxuICAgICAgICBpZiAoY29tcHV0ZWQuYXZnR2FpbiAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLmF2Z0xvc3MgIT09IHVuZGVmaW5lZCAmJiBjb21wdXRlZC5hdmdMb3NzICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBSUyA9IGNvbXB1dGVkLmF2Z0dhaW4gLyBjb21wdXRlZC5hdmdMb3NzO1xuICAgICAgICAgICAgY29uc3QgUlNJID0gMTAwIC0gKDEwMCAvICgxICsgUlMpKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBSU0k7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlLWluaXQgZXh0ZW5zaW9uIHRvIG5ldyB2YWx1ZVxuICAgICAgICB0aGlzLmluaXRFeHRlbnNpb24oKTtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0RXh0ZW5zaW9uKCkge1xuICAgICAgICAvLyByZW1vdmUgb2xkIGV4dGVuc2lvbiBhbmQgYWRkIG5ldyBvbmVcbiAgICAgICAgLy9cbiAgICAgICAgaWYgKHRoaXMuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFeHRlbnNpb24odGhpcy5leHQudW5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWNjZXNzb3IgPSBWYWx1ZUFjY2Vzc29yRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUodGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUpO1xuICAgICAgICB0aGlzLmV4dCA9IG5ldyBHYWluTG9zc0V4dGVuc2lvbihhY2Nlc3Nvcik7XG4gICAgICAgIHRoaXMuc291cmNlLmFkZEV4dGVuc2lvbih0aGlzLmV4dC51bmFtZSwgdGhpcy5leHQpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogUmVsYXRpdmUgU3RyZW5ndGggTGV2eSBPc2NpbGxhdG9yIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IEdhaW5Mb3NzRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFJTTCA9IENsb3NlIC8gTUFcblxuZXhwb3J0IGNsYXNzIFJTTENhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgUlNMT3NjaWxsYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxSU0xDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dDogR2Fpbkxvc3NFeHRlbnNpb247XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKFJTTENhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUlNMJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLkV4cG9uZW50aWFsKTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDI3O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8UlNMQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBSU0xDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgUlNMQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBhdmVyYWdlIGdhaW4vbG9zc1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLk1BIDogdW5kZWZpbmVkO1xuICAgICAgICBjb21wdXRlZC5NQSA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkTUEpO1xuXG4gICAgICAgIGlmIChjb21wdXRlZC5NQSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBjb21wdXRlZC5NQSAhPT0gMCA/IHZhbHVlIC8gY29tcHV0ZWQuTUEgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxuICogU2ltcGxlIE1vdmluZyBBdmVyYWdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBTTUFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8Q2FuZGxlc3RpY2tFeHQ+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKENhbmRsZXN0aWNrRXh0LCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU01BJztcblxuICAgICAgICB0aGlzLm1hID0gTW92aW5nQXZlcmFnZUZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKE1vdmluZ0F2ZXJhZ2VUeXBlLlNpbXBsZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFZhbHVlID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFNtb290aGVkIE1vdmluZyBBdmVyYWdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBTTU1BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2tFeHQ+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NNTUEnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU21vb3RoZWQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTtcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRWYWx1ZSk7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cbn1cbiIsIi8qKlxuICogU3RhbmRhcmQgRGV2aWF0aW9uIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBTVERFVkluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDYW5kbGVzdGlja0V4dD4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTVERFVic7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5XZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTA7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZCA9IG5ldyBDYW5kbGVzdGlja0V4dChzb3VyY2UuZGF0ZSk7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gc291cmNlSXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwICYmIGFycmF5Lmxlbmd0aCA8IE4gOyBpIC09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3Ioc291cmNlSXRlbXMuZ2V0SXRlbShpKSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1bSArPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPCBOIHx8IGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXZnID0gc3VtIC8gYXJyYXkubGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IHN1bVNxcnREZXYgPSBhcnJheS5yZWR1Y2UoKHByZXYsIGN1cikgPT4geyByZXR1cm4gcHJldiArIE1hdGgucG93KGN1ciAtIGF2ZywgMik7IH0sIDApO1xuXG4gICAgICAgIGNvbXB1dGVkLmMgPSBNYXRoLnNxcnQoc3VtU3FydERldiAvIGFycmF5Lmxlbmd0aCk7XG4gICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3ZhbHVlVHlwZScsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICd2YWx1ZVR5cGUnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxjdWxhdGUgdXNpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vcGVuLnRvU3RyaW5nKCksIHRleHQ6ICdvcGVuJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2gudG9TdHJpbmcoKSwgdGV4dDogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGwyLnRvU3RyaW5nKCksIHRleHQ6ICdobDInIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjMy50b1N0cmluZygpLCB0ZXh0OiAnaGxjMycgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUuaGxjYzQudG9TdHJpbmcoKSwgdGV4dDogJ2hsY2M0JyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnZhbHVlVHlwZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSA9ICh2YWx1ZVR5cGUgJiYgdmFsdWVUeXBlLnZhbHVlKSA/IHBhcnNlSW50KHZhbHVlVHlwZS52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGU7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogU3VwZXJ0cmVuZCBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgVHJ1ZVJhbmdlRXh0ZW5zaW9uIH0gZnJvbSAnLi4vY29tcHV0ZS9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFBvaW50LCBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIFVwcGVyID0gaGwyICsgTSB4IEFUUiAoaWYgQ2xvc2UgPiBTVCBwcmV2IG9uIGRvd24gdHJlbmQpXG4vLyBMb3dlciA9IGhsMiAtIE0geCBBVFIgKGlmIENsb3NlIDwgU1QgcHJldiBvbiB1cHBlciB0cmVuZClcblxuZXhwb3J0IGVudW0gVHlwZSB7XG4gICAgVW5kZWYgPSAwLFxuICAgIFVwID0gMSxcbiAgICBEb3duID0gMlxufVxuXG5leHBvcnQgY2xhc3MgU1RDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICAvKipcbiAgICAgKiBBVFIgdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgQVRSOiBudW1iZXJ8dW5kZWZpbmVkO1xuXG4gICAgcHVibGljIHRyZW5kVXA6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIHRyZW5kRG93bjogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgdHJlbmQ6IFR5cGUgPSBUeXBlLlVuZGVmO1xuXG4gICAgcHVibGljIHRvU3RyaW5nKHByZWNpc2lvbjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmMgIT09IHVuZGVmaW5lZCA/IHRoaXMuYy50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNUSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPFNUQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogU1RTZXR0aW5ncyA9IG5ldyBTVFNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKFNUQ2FuZGxlc3RpY2ssIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTVCc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5BRFgpO1xuXG4gICAgICAgIC8vIEFkZGluZyBUUiB0byBidWlsZCBBVFJcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKFRydWVSYW5nZUV4dGVuc2lvbi51bmFtZSwgbmV3IFRydWVSYW5nZUV4dGVuc2lvbigpKTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IDEwO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8U1RDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFNUQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IHRoaXMuZXh0c2V0dGluZ3MubXVsdGlwbGllcjtcblxuICAgICAgICBjb25zdCBjdXJyZW50ID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICBjb25zdCBwcmV2ID0gc291cmNlSXRlbXMubGVuZ3RoID4gMSA/IHNvdXJjZUl0ZW1zLmdldEl0ZW0oc291cmNlSXRlbXMubGVuZ3RoIC0gMSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkQXJyYXkubGFzdE9yRGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IFNUQ2FuZGxlc3RpY2soY3VycmVudC5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gY3VycmVudC51aWQudDtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy5uID0gY3VycmVudC51aWQubjtcblxuICAgICAgICAvLyBCdWlsZCBBVFJcbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVmFsdWUgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5BVFIgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLkFUUiA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYyA9PiBjLmV4dFsndHInXSwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQuYyAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQuaCAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnQubCAhPT0gdW5kZWZpbmVkICYmIGNvbXB1dGVkLkFUUiAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIERlZmluaW5nIGN1cnJlbnQgdHJlbmRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IFR5cGUuVXA7IC8vIGRlZmF1bHQgdHJlbmRcbiAgICAgICAgICAgIGlmIChsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCAmJiBsYXN0Q29tcHV0ZWQuYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RDb21wdXRlZC50cmVuZCA9PT0gVHlwZS5VcCAmJiBjdXJyZW50LmMgPCBsYXN0Q29tcHV0ZWQuYykge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IFR5cGUuRG93bjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RDb21wdXRlZC50cmVuZCA9PT0gVHlwZS5Eb3duICYmIGN1cnJlbnQuYyA+IGxhc3RDb21wdXRlZC5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kID0gVHlwZS5VcDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhc3RDb21wdXRlZC50cmVuZCAhPT0gVHlwZS5VbmRlZikge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZCA9IGxhc3RDb21wdXRlZC50cmVuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENvbXB1dGluZyB1cC9kb3duIHRyZW5kIHZhbHVlc1xuICAgICAgICAgICAgY29uc3QgaGwyID0gKGN1cnJlbnQuaCArIGN1cnJlbnQubCkgLyAyO1xuICAgICAgICAgICAgY29uc3QgdXAgPSBobDIgLSBtdWx0aXBsaWVyICogY29tcHV0ZWQuQVRSO1xuICAgICAgICAgICAgY29uc3QgZG93biA9IGhsMiArIG11bHRpcGxpZXIgKiBjb21wdXRlZC5BVFI7XG5cbiAgICAgICAgICAgIC8vY29tcHV0ZWQudHJlbmRVcCA9ICggcHJldi5jID4gbGFzdENvbXB1dGVkLnRyZW5kVXAgKSA/IE1hdGgubWF4KHVwLCBsYXN0Q29tcHV0ZWQudHJlbmRVcCkgOiB1cDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kVXAgPSB1cDtcblxuICAgICAgICAgICAgLy9jb21wdXRlZC50cmVuZERvd24gPSAoIHNvdXJjZXByZXYuYyA8IGxhc3RDb21wdXRlZC50cmVuZERvd24gKSA/IE1hdGgubWluKGRvd24sIGxhc3RDb21wdXRlZC50cmVuZERvd24pIDogZG93bjtcbiAgICAgICAgICAgIGNvbXB1dGVkLnRyZW5kRG93biA9IGRvd247XG5cbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSB1bmRlZmluZWQgJiYgcHJldi5jICE9PSB1bmRlZmluZWQgJiYgbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgJiYgbGFzdENvbXB1dGVkLnRyZW5kVXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICYmIHByZXYuYyA+IGxhc3RDb21wdXRlZC50cmVuZFVwKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQudHJlbmRVcCA9IE1hdGgubWF4KHVwLCBsYXN0Q29tcHV0ZWQudHJlbmRVcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkICYmIHByZXYuYyAhPT0gdW5kZWZpbmVkICYmIGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkICYmIGxhc3RDb21wdXRlZC50cmVuZERvd24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICYmIHByZXYuYyA8IGxhc3RDb21wdXRlZC50cmVuZERvd24pIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC50cmVuZERvd24gPSBNYXRoLm1pbihkb3duLCBsYXN0Q29tcHV0ZWQudHJlbmREb3duKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ29tcHV0aW5nIHN1cGVydHJlbmRcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQudHJlbmQgPT09IFR5cGUuVXApIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gY29tcHV0ZWQudHJlbmRVcDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcHV0ZWQudHJlbmQgPT09IFR5cGUuRG93bikge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBjb21wdXRlZC50cmVuZERvd247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2QnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnBlcmlvZC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ211bHRpcGxpZXInLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbXVsdGlwbGllcicsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5tdWx0aXBsaWVyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnRmFjdG9yJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UubXVsdGlwbGllcicpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLm11bHRpcGxpZXIgPSAobXVsdGlwbGllciAmJiBtdWx0aXBsaWVyLnZhbHVlKSA/IHBhcnNlRmxvYXQobXVsdGlwbGllci52YWx1ZSkgOiB0aGlzLmV4dHNldHRpbmdzLm11bHRpcGxpZXI7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuY2xhc3MgU1RTZXR0aW5ncyB7XG4gICAgcHVibGljIG11bHRpcGxpZXI6IG51bWJlciA9IDM7XG59XG5cbmV4cG9ydCBjbGFzcyBTVEluZGljYXRvclJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPENhbmRsZXN0aWNrPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGxldCBjdXJQb2ludDogSVBvaW50fHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHByZXZQb2ludDogSVBvaW50fHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGN1ckl0ZW06IFNUQ2FuZGxlc3RpY2t8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJldkl0ZW06IFNUQ2FuZGxlc3RpY2t8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGEsIChpdGVtLCB4KSA9PiB7XG5cbiAgICAgICAgICAgIGN1ckl0ZW0gPSAoaXRlbSBpbnN0YW5jZW9mIFNUQ2FuZGxlc3RpY2spID8gPFNUQ2FuZGxlc3RpY2s+aXRlbSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgbGV0IGN1ciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjdXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3QgPSA8U1RDYW5kbGVzdGljaz5jdXJJdGVtO1xuICAgICAgICAgICAgICAgIGlmIChzdCAmJiBzdC5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyID0geyB1aWQ6IGN1ckl0ZW0udWlkLCB2OiBzdC5jIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChjdXIudik7XG4gICAgICAgICAgICAgICAgICAgIGN1clBvaW50ID0geyB4OiB4LCB5OiB5IH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VySXRlbS50cmVuZCA9PT0gVHlwZS5VcCAmJiBwcmV2SXRlbS50cmVuZCA9PT0gVHlwZS5VcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzU2QjUwRScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJJdGVtLnRyZW5kID09PSBUeXBlLkRvd24gJiYgcHJldkl0ZW0udHJlbmQgPT09IFR5cGUuRG93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0ZGMDAwMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyM2MDYwNjAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8ocHJldlBvaW50LngsIHByZXZQb2ludC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oY3VyUG9pbnQueCwgY3VyUG9pbnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcmV2SXRlbSA9IGN1ckl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHByZXZQb2ludCA9IGN1clBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICAgICBkYXRhOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgZnJhbWU6IElSZWN0LFxuICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgndmlzdWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBTaW1wbGVJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSwgSW5kaWNhdG9yRGF0YVNvdXJjZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW1wbGVJbmRpY2F0b3I8VCBleHRlbmRzIENhbmRsZXN0aWNrRXh0PiBleHRlbmRzIEluZGljYXRvckRhdGFTb3VyY2U8VD4ge1xuXG4gICAgcHJvdGVjdGVkIHNldHRpbmdzID0gbmV3IFNpbXBsZVNldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoZGF0YVR5cGU6IG5ldyhkYXRlOiBEYXRlKSA9PiBULCBzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoZGF0YVR5cGUsIHNvdXJjZSwgY29udGV4dCwgKGxoczogVCwgcmhzOiBUKSA9PiB7IHJldHVybiBsaHMudWlkT3JpZy5jb21wYXJlKHJocy51aWRPcmlnKTsgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCByZXF1aXJlZEl0ZW1zT25Db21wdXRlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBlcmlvZDsgLy8gQnkgZGVmYXVsdCBsb2FkaW5nIHBlcmlvZCBudW1iZXIgb2YgaXRlbXNcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KTogRGF0YUNoYW5nZWRBcmd1bWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIElmIGFyZyBpcyBub3QgZGVmaW5lZCBidWlsZCBhbGwgZGF0YVxuICAgICAgICAvLyBDb21wdXRlIGRhdGEgdGlsbCB0aGUgZW5kICh1cGRhdGUgZGF0YSBmcm9tIGN1cnJlbnQgcGxhY2UgdG8gZW5kKVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlKTtcblxuICAgICAgICAvLyBSZW1vdmUgZXh0ZW5kZWQgKGZha2UpIGl0ZW1zXG4gICAgICAgIHRoaXMuZGF0YVN0b3JhZ2UudHJpbVJpZ2h0KGl0ZW0gPT4gaXRlbS5pc0Zha2UpO1xuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLnRyaW1MZWZ0KGl0ZW0gPT4gaXRlbS5pc0Zha2UpO1xuXG4gICAgICAgIGxldCBjb21wdXRlZEFycmF5OiBUW10gPSBbXTtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5yZXF1aXJlZEl0ZW1zT25Db21wdXRlOyAvL3RoaXMuc2V0dGluZ3MucGVyaW9kO1xuICAgICAgICBjb25zdCBzb3VyY2VJdGVtcyA9IG5ldyBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4oTiwgKGxocywgcmhzKSA9PiB7IHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLicpOyB9KTtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRJdGVtcyA9IG5ldyBGaXhlZFNpemVBcnJheTxUPihOLCAobGhzLCByaHMpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7IH0pO1xuXG4gICAgICAgIC8vIEdldCBzb3VyY2UgZGF0YSB3aXRob3V0IGxvYWRpbmdcbiAgICAgICAgY29uc3QgaXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+ID0gdGhpcy5zb3VyY2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICAvLyBTZWxlY3QgbGFzdCBzb3VyY2UgaXRlbXNcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQuY29tcGFyZShhcmcudWlkRmlyc3QpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU291cmNlIGRvZXMgbm90IGNvbnRhaW4gdXBkYXRlZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gSW5kaWNhdG9yRGF0YVNvdXJjZS5nZXRQcmV2aW91c0l0ZW1zKGl0ZXJhdG9yLCBOIC0gMSk7XG4gICAgICAgICAgICBzb3VyY2VJdGVtcy5wdXNoUmFuZ2UocHJldik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgbGFzdCBjb21wdXRlZCBpdGVtc1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkT3JpZy5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheSA9IEluZGljYXRvckRhdGFTb3VyY2UuZ2V0UHJldmlvdXNJdGVtcyhpdGVyLCBOIC0gMSk7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWRJdGVtcy5wdXNoUmFuZ2UoY29tcHV0ZWRBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHbyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmdvVG8oaXRlbSA9PiBpdGVtLnVpZC5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRvci5tb3ZlTmV4dCgpKSB7IHJldHVybjsgfSAvLyBGaW5pc2ggaWYgbm8gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRpb25zXG4gICAgICAgIC8vIFxuXG4gICAgICAgIGNvbnN0IGZpcnN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG4gICAgICAgIGxldCBsYXN0VWlkO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsYXN0VWlkID0gaXRlcmF0b3IuY3VycmVudC51aWQ7XG4gICAgICAgICAgICBzb3VyY2VJdGVtcy5wdXNoKGl0ZXJhdG9yLmN1cnJlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZU9uZShzb3VyY2VJdGVtcywgY29tcHV0ZWRJdGVtcywgYWNjZXNzb3IpO1xuXG4gICAgICAgICAgICBjb21wdXRlZEFycmF5LnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgICAgY29tcHV0ZWRJdGVtcy5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICAgIC8vbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH0gd2hpbGUgKGl0ZXJhdG9yLm1vdmVOZXh0KCkpO1xuXG4gICAgICAgIC8vIE1lcmdlIHVzaW5nIG9yaWdVaWQsIG5vdCB1aWRcbiAgICAgICAgdGhpcy5kYXRhU3RvcmFnZS5tZXJnZShjb21wdXRlZEFycmF5KTtcblxuICAgICAgICB0aGlzLmFmdGVyQ29tcHV0ZShhcmcpO1xuXG4gICAgICAgIGNvbnN0IG9yaWdBcmcgPSBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChmaXJzdFVpZCwgbGFzdFVpZCwgY29tcHV0ZWRBcnJheS5sZW5ndGgpO1xuICAgICAgICAvLyBVcGRhdGUgc2hpZnRcbiAgICAgICAgY29uc3Qgc2hpZnRlZEFyZyA9IHRoaXMuc2hpZnRUaW1lKG9yaWdBcmcsIHRoaXMuc2V0dGluZ3MuZGlzcGxhY2VtZW50KTtcbiAgICAgICAgcmV0dXJuIHNoaWZ0ZWRBcmc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPiwgY29tcHV0ZWQ6IEZpeGVkU2l6ZUFycmF5PFQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBUO1xuXG4gICAgcHJvdGVjdGVkIGFmdGVyQ29tcHV0ZShhcmc/OiBEYXRhQ2hhbmdlZEFyZ3VtZW50KSB7IH1cblxuICAgIHByb3RlY3RlZCBzaGlmdFRpbWUoYXJnOiBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBzaGlmdDogbnVtYmVyKTogRGF0YUNoYW5nZWRBcmd1bWVudCB7XG4gICAgICAgIC8vIFRPRE86IGFyZyBjYW4gbmFycm93IHNoaWZ0IGFyZWFcblxuICAgICAgICBpZiAoc2hpZnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0VGltZVJpZ2h0KHNoaWZ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGlmdCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2hpZnRUaW1lTGVmdChzaGlmdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5vc2hpZnQoKTtcbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdWlsZCBuZXcgRGF0YUNoYW5nZUFyZ3VtZW50XG4gICAgICAgIGxldCBzaGlmdGVkRmlyc3RVaWQ7XG4gICAgICAgIGxldCBzaGlmdGVkTGFzdFVpZDtcbiAgICAgICAgY29uc3QgaXRlciA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IGl0ZW0udWlkT3JpZy5jb21wYXJlKGFyZy51aWRGaXJzdCkgPT09IDApICkge1xuICAgICAgICAgICAgc2hpZnRlZEZpcnN0VWlkID0gaXRlci5jdXJyZW50LnVpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlci5nb1RvKGl0ZW0gPT4gaXRlbS51aWRPcmlnLmNvbXBhcmUoYXJnLnVpZExhc3QpID09PSAwKSApIHtcbiAgICAgICAgICAgIHNoaWZ0ZWRMYXN0VWlkID0gaXRlci5jdXJyZW50LnVpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IEluaXQgbGFzdFVpZEJlZm9yZS9sYXN0VWlkQWZ0ZXIuXG4gICAgICAgIHJldHVybiBuZXcgRGF0YUNoYW5nZWRBcmd1bWVudChcbiAgICAgICAgICAgIHNoaWZ0ZWRGaXJzdFVpZCB8fCBhcmcudWlkRmlyc3QsXG4gICAgICAgICAgICBzaGlmdGVkTGFzdFVpZCB8fCBhcmcudWlkTGFzdCxcbiAgICAgICAgICAgIGFyZy5jb3VudFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9zaGlmdCgpIHtcbiAgICAgICAgLy8gSnVzdCBjb3B5IHVpZFxuICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAoaXRlci5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICBpdGVyLmN1cnJlbnQudWlkID0gaXRlci5jdXJyZW50LnVpZE9yaWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVbml0ZSB3aXRoIHNoaWZ0UmlnaHRcbiAgICBwcml2YXRlIHNoaWZ0VGltZUxlZnQoc2hpZnQ6IG51bWJlcikge1xuICAgICAgICBsZXQgaXNGYWtlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGl0ZXJGaXJzdCA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgaXRlckxhc3QgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG5cbiAgICAgICAgaWYgKCFpdGVyRmlyc3QuZ29Ub0xhc3QoKSB8fCAhaXRlckxhc3QuZ29Ub0xhc3QoKSkge1xuICAgICAgICAgICAgLy8gbm8gaXRlbXMgdG8gc2hpZnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNoaWZ0IGZpcnN0IGl0ZXJhdG9yIHRvIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgIC8vXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgbGV0IHVpZEZpcnN0ID0gaXRlckZpcnN0LmN1cnJlbnQudWlkT3JpZztcbiAgICAgICAgd2hpbGUgKGNvdW50ZXIgPCBNYXRoLmFicyhzaGlmdCkpIHtcbiAgICAgICAgICAgIGlzRmFrZSA9ICFpdGVyRmlyc3QubW92ZVByZXYoKTtcbiAgICAgICAgICAgIGlmIChpc0Zha2UpIHtcbiAgICAgICAgICAgICAgICB1aWRGaXJzdCA9IHRoaXMuc2hpZnRVaWQodWlkRmlyc3QsIC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSBpdGVyRmlyc3QuY3VycmVudC51aWRPcmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgY29weWluZyB1aWQgbG9vcCBcbiAgICAgICAgLy9cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gTW92ZSB1aWRcbiAgICAgICAgICAgIGl0ZXJMYXN0LmN1cnJlbnQudWlkID0gbmV3IFVpZCh1aWRGaXJzdC50LCB1aWRGaXJzdC5uKTtcblxuICAgICAgICAgICAgLy8gU2hpZnQgb25lIHN0ZXBcbiAgICAgICAgICAgIGlzRmFrZSA9ICFpdGVyRmlyc3QubW92ZVByZXYoKTtcbiAgICAgICAgICAgIGlmIChpc0Zha2UpIHtcbiAgICAgICAgICAgICAgICB1aWRGaXJzdCA9IHRoaXMuc2hpZnRVaWQodWlkRmlyc3QsIC0xKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSBpdGVyRmlyc3QuY3VycmVudC51aWRPcmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChpdGVyTGFzdC5tb3ZlUHJldigpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNoaWZ0VGltZVJpZ2h0KHNoaWZ0OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGlzRmFrZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBpdGVyRmlyc3QgPSB0aGlzLmRhdGFTdG9yYWdlLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IGl0ZXJMYXN0ID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIGlmICghaXRlckZpcnN0Lm1vdmVOZXh0KCkgfHwgIWl0ZXJMYXN0Lm1vdmVOZXh0KCkpIHtcbiAgICAgICAgICAgIC8vIG5vIGl0ZW1zIHRvIHNoaWZ0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaGlmdCBmaXJzdCBpdGVyYXRvciB0byBzdGFydCBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGxldCB1aWRGaXJzdCA9IGl0ZXJGaXJzdC5jdXJyZW50LnVpZE9yaWc7XG4gICAgICAgIHdoaWxlIChjb3VudGVyIDwgTWF0aC5hYnMoc2hpZnQpKSB7XG4gICAgICAgICAgICBpc0Zha2UgPSAhaXRlckZpcnN0Lm1vdmVOZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXNGYWtlKSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSB0aGlzLnNoaWZ0VWlkKHVpZEZpcnN0LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWlkRmlyc3QgPSBpdGVyRmlyc3QuY3VycmVudC51aWRPcmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgY29weWluZyB1aWQgbG9vcCBcbiAgICAgICAgLy9cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gTW92ZSB1aWRcbiAgICAgICAgICAgIGl0ZXJMYXN0LmN1cnJlbnQudWlkID0gbmV3IFVpZCh1aWRGaXJzdC50LCB1aWRGaXJzdC5uKTtcblxuICAgICAgICAgICAgLy8gU2hpZnQgb25lIHN0ZXBcbiAgICAgICAgICAgIGlzRmFrZSA9ICFpdGVyRmlyc3QubW92ZU5leHQoKTtcbiAgICAgICAgICAgIGlmIChpc0Zha2UpIHtcbiAgICAgICAgICAgICAgICB1aWRGaXJzdCA9IHRoaXMuc2hpZnRVaWQodWlkRmlyc3QsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1aWRGaXJzdCA9IGl0ZXJGaXJzdC5jdXJyZW50LnVpZE9yaWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGl0ZXJMYXN0Lm1vdmVOZXh0KCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hpZnRVaWQodWlkOiBVaWQsIHNoaWZ0OiBudW1iZXIpOiBVaWQge1xuICAgICAgICByZXR1cm4gbmV3IFVpZChcbiAgICAgICAgICAgIHRoaXMuYWRkSW50ZXJ2YWwodWlkLnQsIHNoaWZ0KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzaGlmdERhdGFFeHQoc2hpZnQ6IG51bWJlciwgcmVwbGFjZTogKGRlc3Q6IFQsIHNvdXJjZT86IFQpID0+IHZvaWQpIHtcblxuICAgICAgICBjb25zdCBpdGVyID0gdGhpcy5kYXRhU3RvcmFnZS5nZXRJdGVyYXRvcigpO1xuXG4gICAgICAgIHRoaXMuZXh0ZW5kKHNoaWZ0LCBpdGVyKTtcblxuICAgICAgICBjb25zdCBpdGVyTGVhZCA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgY29uc3QgaXRlckZvbGxvdyA9IHRoaXMuZGF0YVN0b3JhZ2UuZ2V0SXRlcmF0b3IoKTtcblxuICAgICAgICBpZiAoc2hpZnQgPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBsZWFkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgZm9sbG93ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgbGVhZCBpdGVyYXRvciB0byB0aGUgbGFzdCBub3QgZmFrZSBpdGVtXG4gICAgICAgICAgICBsZWFkID0gaXRlckxlYWQuZ29Ub0xhc3QoKTtcblxuICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgaXRlckxlYWQuc29tZWJhY2t3YXJkKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pc0Zha2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRm9sbG93IGl0ZXJhdG9yIHNob3VsZCBiZSBcInNoaWZ0XCIgaXRlbXMgYmFjayBmcm9tIGxlYWRcbiAgICAgICAgICAgIGZvbGxvdyA9IGl0ZXJGb2xsb3cuZ29Ub0xhc3QoKTtcbiAgICAgICAgICAgIGNvdW50ZXIgPSBjb3VudGVyIC0gKHNoaWZ0ICsgMSk7XG4gICAgICAgICAgICB3aGlsZSAoY291bnRlciA+IDApIHsgZm9sbG93ID0gaXRlckZvbGxvdy5tb3ZlUHJldigpOyBjb3VudGVyIC09IDE7IH1cblxuICAgICAgICAgICAgd2hpbGUgKGZvbGxvdykge1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbGVhZCA/IGl0ZXJMZWFkLmN1cnJlbnQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzdCA9IGl0ZXJGb2xsb3cuY3VycmVudDtcblxuICAgICAgICAgICAgICAgIHJlcGxhY2UoZGVzdCwgc291cmNlKTsgLy8gc291cmNlIGNhbiBiZSB1bmRlZmluZWRcblxuICAgICAgICAgICAgICAgIC8vIE1vdmUgYm90aCBpdGVyYXRvcnMgbGVmdFxuICAgICAgICAgICAgICAgIGxlYWQgPSBpdGVyTGVhZC5tb3ZlUHJldigpO1xuICAgICAgICAgICAgICAgIGZvbGxvdyA9IGl0ZXJGb2xsb3cubW92ZVByZXYoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0IDwgMCkge1xuXG4gICAgICAgICAgICBsZXQgbGVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGZvbGxvdyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBNb3ZlIGxlYWQgaXRlcmF0b3IgdG8gdGhlIGZpcnN0IG5vdCBmYWtlIGl0ZW1cbiAgICAgICAgICAgIGxldCBtb3ZlcyA9IGl0ZXJMZWFkLm1vdmVOZXh0KCkgPyBpdGVyTGVhZC5tb3ZlVG8oaXRlbSA9PiAhaXRlbS5pc0Zha2UpIDogLTE7IC8vIEJlZm9yZSBtb3ZlVG8sIG1vdmVOZXh0IHNob3VsZCBiZSBjYWxsZWRcbiAgICAgICAgICAgIGxlYWQgPSBtb3ZlcyA+IDA7XG5cbiAgICAgICAgICAgIC8vIEZvbGxvdyBpdGVyYXRvciBzaG91bGQgYmUgXCJzaGlmdFwiIGl0ZW1zIGJhY2sgZnJvbSBsZWFkXG4gICAgICAgICAgICBtb3ZlcyA9IG1vdmVzIC0gTWF0aC5hYnMoc2hpZnQpO1xuICAgICAgICAgICAgd2hpbGUgKG1vdmVzID4gMCkgeyBmb2xsb3cgPSBpdGVyRm9sbG93Lm1vdmVOZXh0KCk7IG1vdmVzIC09IDE7IH1cblxuICAgICAgICAgICAgd2hpbGUgKGZvbGxvdykge1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbGVhZCA/IGl0ZXJMZWFkLmN1cnJlbnQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzdCA9IGl0ZXJGb2xsb3cuY3VycmVudDtcblxuICAgICAgICAgICAgICAgIHJlcGxhY2UoZGVzdCwgc291cmNlKTsgLy8gc291cmNlIGNhbiBiZSB1bmRlZmluZWRcblxuICAgICAgICAgICAgICAgIC8vIE1vdmUgYm90aCBpdGVyYXRvcnMgbGVmdFxuICAgICAgICAgICAgICAgIGxlYWQgPSBpdGVyTGVhZC5tb3ZlTmV4dCgpO1xuICAgICAgICAgICAgICAgIGZvbGxvdyA9IGl0ZXJGb2xsb3cubW92ZU5leHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgeyAvLyBzaGlmdCA9PT0gMFxuICAgICAgICAgICAgLy8gU291cmNlIGFuZCBkZXN0IGlzIHRoZSBzYW1lIGVsZW1lbnRcbiAgICAgICAgICAgIHdoaWxlIChpdGVyTGVhZC5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZShpdGVyTGVhZC5jdXJyZW50LCBpdGVyTGVhZC5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXh0ZW5kKHNoaWZ0OiBudW1iZXIsIGl0ZXI6IElEYXRhSXRlcmF0b3I8VD4pIHtcbiAgICAgICAgaWYgKHNoaWZ0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZmFrZSBpdGVtcy4gV29ya2luZyB3aXRoIHVpZF9vcmlnXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbHJlYWR5IGZha2UgaXRlbXMsIHRoZXkgc2hvdWxkIG5vdCBiZSByZW1vdmVkLlxuXG4gICAgICAgIGNvbnN0IGV4dGVuZGVkOiBUW10gPSBbXTtcblxuICAgICAgICBpZiAoc2hpZnQgPCAwKSB7XG4gICAgICAgICAgICAvLyBHZXQgY291bnQgb2YgZmFrZSBpdGVtc1xuICAgICAgICAgICAgY29uc3QgbW92ZWQgPSBpdGVyLm1vdmVOZXh0KCkgPyBpdGVyLm1vdmVUbyhpdGVtID0+ICFpdGVtLmlzRmFrZSkgOiAtMTsgLy8gQmVmb3JlIG1vdmVUbywgbW92ZU5leHQgc2hvdWxkIGJlIGNhbGxlZFxuICAgICAgICAgICAgY29uc3QgZmFrZUl0ZW1zID0gKG1vdmVkICE9PSAtMSkgPyBtb3ZlZCAtIDEgOiAwO1xuXG4gICAgICAgICAgICAvLyBBZGQgZmFrZSBpdGVtc1xuICAgICAgICAgICAgY29uc3QgYWRkID0gTWF0aC5hYnMoc2hpZnQpIC0gZmFrZUl0ZW1zO1xuXG4gICAgICAgICAgICAvLyBHZXQgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgaWYgKGl0ZXIuZ29UbyhpdGVtID0+IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVpZCA9IGl0ZXIuY3VycmVudC51aWQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpZCA9IHRoaXMuc2hpZnRVaWQodWlkLCBzaGlmdCA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHQgPSA8VD5uZXcgdGhpcy5kYXRhVHlwZSh1aWQudCk7XG4gICAgICAgICAgICAgICAgICAgIGV4dC5pc0Zha2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBleHQudWlkT3JpZyA9IG5ldyBVaWQodWlkLnQpO1xuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZC5wdXNoKGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoaWZ0ID4gMCkge1xuICAgICAgICAgICAgaWYgKGl0ZXIuZ29Ub0xhc3QoKSkge1xuICAgICAgICAgICAgICAgIGxldCBtb3ZlZCA9IDA7XG4gICAgICAgICAgICAgICAgaXRlci5zb21lYmFja3dhcmQoKGl0ZW0sIGNvdW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pc0Zha2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmFrZUl0ZW1zID0gbW92ZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkID0gTWF0aC5hYnMoc2hpZnQpIC0gZmFrZUl0ZW1zO1xuXG4gICAgICAgICAgICAgICAgaXRlci5nb1RvTGFzdCgpO1xuICAgICAgICAgICAgICAgIGxldCB1aWQgPSBpdGVyLmN1cnJlbnQudWlkO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdWlkID0gdGhpcy5zaGlmdFVpZCh1aWQsIHNoaWZ0IDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IDxUPm5ldyB0aGlzLmRhdGFUeXBlKHVpZC50KTtcbiAgICAgICAgICAgICAgICAgICAgZXh0LmlzRmFrZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGV4dC51aWRPcmlnID0gbmV3IFVpZCh1aWQudCk7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkLnB1c2goZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGFTdG9yYWdlLm1lcmdlKGV4dGVuZGVkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnZGF0YXNvdXJjZScsXG4gICAgICAgICAgICBncm91cDogdHJ1ZSxcbiAgICAgICAgICAgIHNldHRpbmdzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGVyaW9kJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MucGVyaW9kLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1BlcmlvZCdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkaXNwbGFjZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5kaXNwbGFjZW1lbnQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnRGlzcGxhY2VtZW50J1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3ZhbHVlVHlwZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGN1bGF0ZSB1c2luZycsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmNsb3NlLnRvU3RyaW5nKCksIHRleHQ6ICdjbG9zZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLm9wZW4udG9TdHJpbmcoKSwgdGV4dDogJ29wZW4nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUubG93LnRvU3RyaW5nKCksIHRleHQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obDIudG9TdHJpbmcoKSwgdGV4dDogJ2hsMicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNC50b1N0cmluZygpLCB0ZXh0OiAnb2hsYzQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5obGNjNC50b1N0cmluZygpLCB0ZXh0OiAnaGxjYzQnIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignZGF0YXNvdXJjZS5wZXJpb2QnLCB0aGlzLnNldHRpbmdzLnBlcmlvZCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGlzcGxhY2VtZW50ID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignZGF0YXNvdXJjZS5kaXNwbGFjZW1lbnQnLCB0aGlzLnNldHRpbmdzLmRpc3BsYWNlbWVudCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlID0gdmFsdWUuZ2V0VmFsdWVPckRlZmF1bHQ8bnVtYmVyPignZGF0YXNvdXJjZS52YWx1ZVR5cGUnLCB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZSk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZVNldHRpbmdzIHtcbiAgICBwdWJsaWMgcGVyaW9kOiBudW1iZXIgPSAyMDtcbiAgICBwdWJsaWMgZGlzcGxhY2VtZW50OiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyB1cHBlclRocmVzaG9sZDogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgbG93ZXJUaHJlc2hvbGQ6IG51bWJlciA9IDA7XG4gICAgcHVibGljIHZhbHVlVHlwZTogVmFsdWVBY2Nlc3NvclR5cGUgPSBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZTtcbn1cbiIsIi8qKlxuICogU3RvY2hhc3RpY09zY2lsbGF0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50LCBVaWQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBDaGFydFJlbmRlcmVyLCBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbi8vIEZhc3QgJUsgPSAxMDAgeCAoQy1MKSAvIChILUwpIC8vIGhpZ2hlc3QgaGlnaCwgbG93ZXN0IGxvd1xuLy8gRmFzdCAlRCA9IFNNQSAoRmFzdCAlSywgMylcbi8vXG4vLyBTbG93ICVLID0gU01BIChGYXN0ICVLLCAzKVxuLy8gU2xvdyAlRCA9IFNNQSAoU2xvdyAlSywgMylcblxuZXhwb3J0IGNsYXNzIERvdWJsZUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBmYXN0SzogbnVtYmVyfHVuZGVmaW5lZDtcbiAgICBwdWJsaWMgZmFzdEQ6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIEs6IG51bWJlcnx1bmRlZmluZWQ7XG4gICAgcHVibGljIEQ6IG51bWJlcnx1bmRlZmluZWQ7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICBzdXBlcihkYXRlLCBjLCBvLCBoLCBsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcocHJlY2lzaW9uOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuSyAhPT0gdW5kZWZpbmVkID8gdGhpcy5LLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgJyAvICdcbiAgICAgICAgICAgICsgYCR7dGhpcy5EICE9PSB1bmRlZmluZWQgPyB0aGlzLkQudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGYXN0U3RvY2hhc3RpY09zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8RG91YmxlQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogRmFzdFN0b2NoYXN0aWNTZXR0aW5ncyA9IG5ldyBGYXN0U3RvY2hhc3RpY1NldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKERvdWJsZUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnRlNUT0MnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcblxuICAgICAgICAvLyBEZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSyA9IDE0O1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQgPSAzO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgcmVxdWlyZWRJdGVtc09uQ29tcHV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLLCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8RG91YmxlQ2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBEb3VibGVDYW5kbGVzdGljayB7XG5cbiAgICAgICAgY29uc3QgTiA9IHRoaXMuc2V0dGluZ3MucGVyaW9kO1xuICAgICAgICBjb25zdCBwZXJpb2RLID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLO1xuICAgICAgICBjb25zdCBwZXJpb2REID0gdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gY29tcHV0ZUZhc3RLKHNvdXJjZUl0ZW1zLCBwZXJpb2RLKTtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZS5jOyAvLyB0aGlzLmFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFNsb3cgJUsgc2hvdWxkIHN0YXJ0IGNvbXB1dGluZyBvbmx5IHdoZW4gdGhlcmUgaXMgZW5vdWdoIHZhbHVlcy4gTm90IGZyb20gdGhlIHN0YXJ0XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZEZhc3RLID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuSyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXB1dGVkLmZhc3REID0gdGhpcy5tYS5jb21wdXRlKHBlcmlvZEQsIGNvbXB1dGVkQXJyYXksIGMgPT4gKDxEb3VibGVDYW5kbGVzdGljaz5jKS5mYXN0SywgY29tcHV0ZWQsIGxhc3RDb21wdXRlZEZhc3RLKTtcblxuICAgICAgICAgICAgY29tcHV0ZWQuSyA9IGNvbXB1dGVkLmZhc3RLO1xuICAgICAgICAgICAgY29tcHV0ZWQuRCA9IGNvbXB1dGVkLmZhc3REO1xuXG4gICAgICAgICAgICAvLyBjb21wdXRlZC5jID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAvLyBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzUmFuZ2UocmFuZ2U6IElSYW5nZTxVaWQ+KTogSVJhbmdlPG51bWJlcj4ge1xuICAgICAgICByZXR1cm4geyBzdGFydDogMCwgZW5kOiAxMDAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFNldHRpbmdTZXQoeyBuYW1lOiAnZGF0YXNvdXJjZScsIGdyb3VwOiB0cnVlIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZEsnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kSycsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJUsgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kRCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwZXJpb2REJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICclRCBwZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZEsgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZEsnKTtcbiAgICAgICAgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLID0gKHBlcmlvZEsgJiYgcGVyaW9kSy52YWx1ZSkgPyBwYXJzZUludChwZXJpb2RLLnZhbHVlLCAxMCkgOiB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEs7XG5cbiAgICAgICAgY29uc3QgcGVyaW9kRCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRCA9IChwZXJpb2REICYmIHBlcmlvZEQudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kRC52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2REO1xuXG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbG93U3RvY2hhc3RpY09zY2lsbGF0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8RG91YmxlQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgbWE6IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3k7XG4gICAgcHJpdmF0ZSBleHRzZXR0aW5nczogU2xvd1N0b2NoYXN0aWNTZXR0aW5ncyA9IG5ldyBTbG93U3RvY2hhc3RpY1NldHRpbmdzKCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc291cmNlOiBJRGF0YVNvdXJjZTxDYW5kbGVzdGljaz4sIGNvbnRleHQ6IElDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKERvdWJsZUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU1NUT0MnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcblxuICAgICAgICAvLyBEZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSyA9IDE0O1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQgPSAzO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJEID0gMztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHJlcXVpcmVkSXRlbXNPbkNvbXB1dGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSywgdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RELCB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJEKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29tcHV0ZU9uZShzb3VyY2VJdGVtczogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkQXJyYXk6IEZpeGVkU2l6ZUFycmF5PERvdWJsZUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogRG91YmxlQ2FuZGxlc3RpY2sge1xuXG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcbiAgICAgICAgY29uc3QgcGVyaW9kSyA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSztcbiAgICAgICAgY29uc3QgcGVyaW9kRCA9IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRDtcbiAgICAgICAgY29uc3QgcGVyaW9kMkQgPSB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZDJEO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cbiAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7IC8vIGNvbXB1dGVkIGNhbiBjb250YWluIG5vIGl0ZW1zLlxuXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkID0gY29tcHV0ZUZhc3RLKHNvdXJjZUl0ZW1zLCBwZXJpb2RLKTtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZS5jOyAvLyB0aGlzLmFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFNsb3cgJUsgc2hvdWxkIHN0YXJ0IGNvbXB1dGluZyBvbmx5IHdoZW4gdGhlcmUgaXMgZW5vdWdoIHZhbHVlcy4gTm90IGZyb20gdGhlIHN0YXJ0XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFNsb3dLID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuSyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXB1dGVkLksgPSB0aGlzLm1hLmNvbXB1dGUocGVyaW9kRCwgY29tcHV0ZWRBcnJheSwgYyA9PiAoPERvdWJsZUNhbmRsZXN0aWNrPmMpLmZhc3RLLCBjb21wdXRlZCwgbGFzdENvbXB1dGVkU2xvd0spO1xuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTbG93RCA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb21wdXRlZC5EID0gdGhpcy5tYS5jb21wdXRlKHBlcmlvZDJELCBjb21wdXRlZEFycmF5LCBjID0+ICg8RG91YmxlQ2FuZGxlc3RpY2s+YykuSywgY29tcHV0ZWQsIGxhc3RDb21wdXRlZFNsb3dEKTtcblxuICAgICAgICAgICAgLy8gY29tcHV0ZWQuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgLy8gY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlc1JhbmdlKHJhbmdlOiBJUmFuZ2U8VWlkPik6IElSYW5nZTxudW1iZXI+IHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IDAsIGVuZDogMTAwIH07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2RhdGFzb3VyY2UnLCBncm91cDogdHJ1ZSB9KTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdwZXJpb2RLJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZEsnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSy50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJyVLIHBlcmlvZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3BlcmlvZEQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kRCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RELnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJUQgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kMkQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncGVyaW9kMkQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMkQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcybmQgJUQgcGVyaW9kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2RLID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS5wZXJpb2RLJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kSyA9IChwZXJpb2RLICYmIHBlcmlvZEsudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kSy52YWx1ZSwgMTApIDogdGhpcy5leHRzZXR0aW5ncy5wZXJpb2RLO1xuXG4gICAgICAgIGNvbnN0IHBlcmlvZEQgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLmV4dHNldHRpbmdzLnBlcmlvZEQgPSAocGVyaW9kRCAmJiBwZXJpb2RELnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZEQudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kRDtcblxuICAgICAgICBjb25zdCBwZXJpb2QyRCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMkQgPSAocGVyaW9kMkQgJiYgcGVyaW9kMkQudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kMkQudmFsdWUsIDEwKSA6IHRoaXMuZXh0c2V0dGluZ3MucGVyaW9kMkQ7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9CT1NPc2NpbGxhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPERvdWJsZUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihEb3VibGVDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ09CT1MnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcblxuICAgICAgICAvLyBEZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gMTQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxEb3VibGVDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IERvdWJsZUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBwZXJpb2RLID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBjb21wdXRlRmFzdEsoc291cmNlSXRlbXMsIHBlcmlvZEspO1xuXG4gICAgICAgIGlmIChjb21wdXRlZC5mYXN0SyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wdXRlZC5jID0gY29tcHV0ZWQuZmFzdEs7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWYWx1ZXNSYW5nZShyYW5nZTogSVJhbmdlPFVpZD4pOiBJUmFuZ2U8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiAwLCBlbmQ6IDEwMCB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHBlcmlvZCA9IHZhbHVlLmdldFNldHRpbmcoJ2RhdGFzb3VyY2UucGVyaW9kJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGVyaW9kID0gKHBlcmlvZCAmJiBwZXJpb2QudmFsdWUpID8gcGFyc2VJbnQocGVyaW9kLnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAvLyByZWNvbXB1dGVcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxufVxuXG5jbGFzcyBGYXN0U3RvY2hhc3RpY1NldHRpbmdzIHtcbiAgICBwdWJsaWMgcGVyaW9kSzogbnVtYmVyID0gMTQ7XG4gICAgcHVibGljIHBlcmlvZEQ6IG51bWJlciA9IDM7XG4gICAgY29uc3RydWN0b3IoKSB7IH1cbn1cblxuY2xhc3MgU2xvd1N0b2NoYXN0aWNTZXR0aW5ncyB7XG4gICAgcHVibGljIHBlcmlvZEs6IG51bWJlciA9IDE0O1xuICAgIHB1YmxpYyBwZXJpb2REOiBudW1iZXIgPSAzO1xuICAgIHB1YmxpYyBwZXJpb2QyRDogbnVtYmVyID0gMztcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RvY2hhc3RpY09zY2lsbGF0b3JSZW5kZXJlciBleHRlbmRzIENoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLFxuICAgICAgICAgICAgICAgICAgZGF0YTogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBvdmVybGFwZmlsbCA9IHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwZmlsbDtcbiAgICAgICAgY29uc3QgdXB0aHJlc2hvbGQgPSB0aGlzLnNldHRpbmdzLnpvbmUudXB0aHJlc2hvbGQ7XG4gICAgICAgIGNvbnN0IGxvd3RocmVzaG9sZCA9IHRoaXMuc2V0dGluZ3Muem9uZS5sb3d0aHJlc2hvbGQ7XG5cbiAgICAgICAgY29uc3QgdXBwZXIgPSB5QXhpcy50b1godXB0aHJlc2hvbGQpO1xuICAgICAgICBjb25zdCBsb3dlciA9IHlBeGlzLnRvWChsb3d0aHJlc2hvbGQpO1xuXG4gICAgICAgIC8vIENvbGxlY3QgY2hhcnRzIHBvaW50c1xuICAgICAgICAvL1xuICAgICAgICBjb25zdCBLOiBJUG9pbnRbXSA9IFtdO1xuICAgICAgICBLLmxlbmd0aCA9IHRpbWVBeGlzLmNvdW50OyAvLyBwcmVhbGxvY2F0ZSBtZW1vcnlcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGEsIChpdGVtLCB4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IDxEb3VibGVDYW5kbGVzdGljaz5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkICYmIGQuSyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goZC5LKTtcbiAgICAgICAgICAgICAgICAgICAgS1tpXSA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgSy5sZW5ndGggPSBpO1xuXG4gICAgICAgIGlmIChvdmVybGFwZmlsbCAmJiBLLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIFJlbmRlclV0aWxzLmZpbGxPdmVybGFwKGNhbnZhcywgSywgdXBwZXIsIHRydWUsICdncmVlbicpO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuZmlsbE92ZXJsYXAoY2FudmFzLCBLLCBsb3dlciwgZmFsc2UsICdyZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG91YmxlID0gPERvdWJsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGRvdWJsZS5LICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogZG91YmxlLksgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzAwQjczMCcpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNCNTAwMjEnKTtcbiAgICAgICAgUmVuZGVyVXRpbHMucmVuZGVyTGluZUNoYXJ0KGNhbnZhcywgZGF0YSwgaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvdWJsZUNhbmRsZXN0aWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG91YmxlID0gPERvdWJsZUNhbmRsZXN0aWNrPml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGRvdWJsZS5EICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkb3VibGUuRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogdmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMpO1xuXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXG4gICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXG4gICAgICAgICAgIGRhdGE6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSBzdXBlci5nZXRab25lc1NldHRpbmdzKCk7XG5cbiAgICAgICAgY29uc3QgdmlzdWFsID0gbmV3IFNldHRpbmdTZXQoJ3Zpc3VhbCcpO1xuICAgICAgICB2aXN1YWwuc2V0U2V0dGluZygnem9uZXMnLCB6b25lKTtcbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgem9uZSA9IHNldHRpbmdzLmdldFNldHRpbmcoJ3Zpc3VhbC56b25lcycpO1xuICAgICAgICBpZiAoem9uZSkge1xuICAgICAgICAgICAgc3VwZXIuc2V0Wm9uZXNTZXR0aW5ncyh6b25lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUZhc3RLKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sIHBlcmlvZEs6IG51bWJlcik6IERvdWJsZUNhbmRsZXN0aWNrIHtcblxuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUl0ZW1zLmxhc3QoKTsgLy8gc291cmNlIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS5cblxuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IERvdWJsZUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgY29tcHV0ZWQudWlkT3JpZy5uID0gc291cmNlLnVpZC5uO1xuXG4gICAgY29uc3QgdmFsdWUgPSBzb3VyY2UuYzsgLy8gYWNjZXNzb3Ioc291cmNlKVxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRpbmcgbWluL21heCB3aXRoIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgY29uc3QgSCA9IHNvdXJjZUl0ZW1zLm1heChjID0+IGMuaCwgcGVyaW9kSyk7ICAgLy8gaGlnaGVzdCBoaWdoIGZvciB0aGUgcGVyaW9kXG4gICAgICAgIGNvbnN0IEwgPSBzb3VyY2VJdGVtcy5taW4oYyA9PiBjLmwsIHBlcmlvZEspOyAgIC8vIGxvd2VzdCBsb3cgZm9yIHRoZSBwZXJpb2RcblxuICAgICAgICBpZiAoSCAhPT0gdW5kZWZpbmVkICYmIEwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQuZmFzdEsgPSAoTCAhPT0gSCkgPyAxMDAgKiAodmFsdWUgLSBMKSAvIChIIC0gTCkgOiAxMDA7IC8vIGZhc3QgJUtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wdXRlZDtcbn1cbiIsIi8qKlxuICogVHJpcGxlIEV4cG9uZW50aWFsIE1vdmluZyBBdmVyYWdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBURU1BQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDYW5kbGVzdGlja0V4dCB7XG4gICAgcHVibGljIEVNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBERU1BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgcHVibGljIFRFTUE6IG51bWJlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFRFTUFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8VEVNQUNhbmRsZXN0aWNrPiB7XG5cbiAgICBwcml2YXRlIGVtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoVEVNQUNhbmRsZXN0aWNrLCBzb3VyY2UsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVEVNQSc7XG5cbiAgICAgICAgdGhpcy5lbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuRXhwb25lbnRpYWwpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8VEVNQUNhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IElWYWx1ZUFjY2Vzc29yKTogVEVNQUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgVEVNQUNhbmRsZXN0aWNrKHNvdXJjZS5kYXRlKTtcbiAgICAgICAgY29tcHV0ZWQudWlkT3JpZy50ID0gc291cmNlLnVpZC50O1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLm4gPSBzb3VyY2UudWlkLm47XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRFTUEgPSBsYXN0Q29tcHV0ZWQgIT09IHVuZGVmaW5lZCA/IGxhc3RDb21wdXRlZC5FTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIC8vIDEuIENvbXB1dGUgRU1BXG4gICAgICAgICAgICBjb21wdXRlZC5FTUEgPSB0aGlzLmVtYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBhY2Nlc3NvciwgdW5kZWZpbmVkLCBsYXN0Q29tcHV0ZWRFTUEpO1xuXG4gICAgICAgICAgICBpZiAoY29tcHV0ZWQuRU1BICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyAyLiBDb21wdXRlIERFTUEuIE9uIGJhc2Ugb2YgY29tcHV0ZWQgRU1BXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkREVNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLkRFTUEgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcgbGFzdCBjb21wdXRlZCBFTUEgdG8gY2FsY3VsYXRlIERFTUFcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5ERU1BID0gdGhpcy5lbWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8VEVNQUNhbmRsZXN0aWNrPml0ZW0pLkVNQSwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZERFTUEpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wdXRlZC5ERU1BICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyAzLiBDb21wdXRlIFRFTUEuIE9uIGJhc2Ugb2YgY29tcHV0ZWQgREVNQVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRURU1BID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuVEVNQSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5URU1BID0gdGhpcy5lbWEuY29tcHV0ZShOLCBjb21wdXRlZEFycmF5LCBpdGVtID0+ICg8VEVNQUNhbmRsZXN0aWNrPml0ZW0pLkRFTUEsIGNvbXB1dGVkLCBsYXN0Q29tcHV0ZWRURU1BKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWQuVEVNQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gMyAqIGNvbXB1dGVkLkVNQSAtIDMgKiBjb21wdXRlZC5ERU1BICsgY29tcHV0ZWQuVEVNQTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUcmlhbmd1bGFyIE1vdmluZyBBdmVyYWdlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBUTUFDYW5kbGVzdGljayBleHRlbmRzIENhbmRsZXN0aWNrRXh0IHtcbiAgICBwdWJsaWMgU01BOiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBUTUFJbmRpY2F0b3IgZXh0ZW5kcyBTaW1wbGVJbmRpY2F0b3I8VE1BQ2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgc21hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuICAgIHByaXZhdGUgdG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihUTUFDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RNQSc7XG5cbiAgICAgICAgdGhpcy5zbWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcbiAgICAgICAgdGhpcy50bWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuVHJpYW5ndWxhcik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxUTUFDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFRNQUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgVE1BQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKHNvdXJjZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZFNNQSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLlNNQSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gMS4gQ29tcHV0ZSBTTUFcbiAgICAgICAgICAgIGNvbXB1dGVkLlNNQSA9IHRoaXMuc21hLmNvbXB1dGUoTiwgc291cmNlSXRlbXMsIGFjY2Vzc29yLCB1bmRlZmluZWQsIGxhc3RDb21wdXRlZFNNQSk7XG5cbiAgICAgICAgICAgIGlmIChjb21wdXRlZC5TTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIDIuIENvbXB1dGUgVE1BLiBPbiBiYXNlIG9mIGNvbXB1dGVkIFRNQVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkVE1BID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuYyA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIEFkZGluZyBsYXN0IGNvbXB1dGVkIEVNQSB0byBjYWxjdWxhdGUgREVNQVxuICAgICAgICAgICAgICAgIGNvbnN0IFRNQSA9IHRoaXMudG1hLmNvbXB1dGUoTiwgY29tcHV0ZWRBcnJheSwgaXRlbSA9PiAoPFRNQUNhbmRsZXN0aWNrPml0ZW0pLlNNQSwgY29tcHV0ZWQsIGxhc3RDb21wdXRlZFRNQSk7XG4gICAgICAgICAgICAgICAgaWYgKFRNQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmMgPSBUTUE7XG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZC5sID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUeXBpY2FsIFByaWNlIEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBBcnJheURhdGFTdG9yYWdlLCBEYXRhQ2hhbmdlZEFyZ3VtZW50LCBEYXRhU291cmNlLFxuICAgIERhdGFTb3VyY2VDb25maWcsIElDb250ZXh0LCBJRGF0YUl0ZXJhdG9yLCBJRGF0YVNvdXJjZSwgSURhdGFTdG9yYWdlIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIsIFJlbmRlclV0aWxzIH0gZnJvbSAnLi4vcmVuZGVyL2luZGV4JztcbmltcG9ydCB7IEZpeGVkU2l6ZUFycmF5LCBJUG9pbnQsIElSYW5nZSwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tFeHQgfSBmcm9tICcuL0NhbmRsZXN0aWNrRXh0JztcbmltcG9ydCB7IElNb3ZpbmdBdmVyYWdlU3RyYXRlZ3ksIE1vdmluZ0F2ZXJhZ2VGYWN0b3J5LCBNb3ZpbmdBdmVyYWdlVHlwZSB9IGZyb20gJy4vTW92aW5nQXZlcmFnZSc7XG5pbXBvcnQgeyBTaW1wbGVJbmRpY2F0b3IgfSBmcm9tICcuL1NpbXBsZUluZGljYXRvcic7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSVZhbHVlQWNjZXNzb3IsIFZhbHVlQWNjZXNzb3JGYWN0b3J5LCBWYWx1ZUFjY2Vzc29yVHlwZSB9IGZyb20gJy4vVmFsdWVBY2Nlc3Nvcic7XG5cbmV4cG9ydCBjbGFzcyBUUEluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxDYW5kbGVzdGlja0V4dD4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcblxuICAgIGNvbnN0cnVjdG9yIChzb3VyY2U6IElEYXRhU291cmNlPENhbmRsZXN0aWNrPiwgY29udGV4dDogSUNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoQ2FuZGxlc3RpY2tFeHQsIHNvdXJjZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUUCc7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGlja0V4dD4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IENhbmRsZXN0aWNrRXh0IHtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtcy5sYXN0KCk7XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgQ2FuZGxlc3RpY2tFeHQoc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBpZiAoc291cmNlLmggIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UubCAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZS5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXB1dGVkLmMgPSAoc291cmNlLmggKyBzb3VyY2UubCArIHNvdXJjZS5jKSAvIDM7XG4gICAgICAgICAgICBjb21wdXRlZC5oID0gY29tcHV0ZWQuYztcbiAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNldHRpbmdzKHZhbHVlOiBTZXR0aW5nU2V0KTogdm9pZCB7XG4gICAgICAgIC8vIHJlY29tcHV0ZVxuICAgICAgICB0aGlzLmNvbXB1dGUoKTtcbiAgICB9XG59XG4iLCIvKipcclxuICogVXRpbGl0eSBmdW5jdGlvbnNcclxuICovXHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XHJcblxyXG5leHBvcnQgY2xhc3MgVXRpbHMge1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFuZGFyZCBkZXZpYXRpb25cclxuICAgICAqIEBwYXJhbSBhcnJheVxyXG4gICAgICogQHBhcmFtIGF2ZXJhZ2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBTVERERVYoYXJyYXk6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPiwgYWNjZXNzb3I6IChjOiBDYW5kbGVzdGljaykgPT4gbnVtYmVyfHVuZGVmaW5lZCwgYXZlcmFnZTogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZCB7XHJcbiAgICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGFycmF5LmdldEl0ZW0oaSkpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3VtICs9IE1hdGgucG93KHZhbHVlIC0gYXZlcmFnZSwgMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5Lmxlbmd0aCA+IDAgPyBNYXRoLnNxcnQoc3VtIC8gYXJyYXkubGVuZ3RoKSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNQUQgPSBTVU0ofFBpIC0gbXwpIC8gTlxyXG4gICAgLyoqXHJcbiAgICAgKiBNZWFuIGFic29sdXRlIGRldmlhdGlvblxyXG4gICAgICogQHBhcmFtIE4gTnVtYmVyIG9mIGl0ZW1zIHRvIHRha2VcclxuICAgICAqIEBwYXJhbSBhcnJheSBTb3VyY2UgaXRlbXNcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvciBBY2Nlc3NvciBmb3IgYSBpdGVtJ3MgdmFsdWVcclxuICAgICAqIEBwYXJhbSBtZWFuIE1lYW4gdmFsdWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBNQUQoTjogbnVtYmVyLCBhcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2s+LCBhY2Nlc3NvcjogKGM6IENhbmRsZXN0aWNrKSA9PiBudW1iZXJ8dW5kZWZpbmVkLCBtZWFuOiBudW1iZXIpOiBudW1iZXJ8dW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgc3VtID0gMDtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgLy8gVGFraW5nIE4gaXRlbXMgZnJvbSBlbmRcclxuICAgICAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwICYmIGNvdW50ZXIgPCBOOyBpIC09IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihhcnJheS5nZXRJdGVtKGkpKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN1bSArPSBNYXRoLmFicyh2YWx1ZSAtIG1lYW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb3VudGVyID4gMCA/IHN1bSAvIGNvdW50ZXIgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLyoqXHJcbiAgICAvLyAgKiBTdGFuZGFyZCBkZXZpYXRpb25cclxuICAgIC8vICAqIEBwYXJhbSBhcnJheSBcclxuICAgIC8vICAqIEBwYXJhbSBhdmVyYWdlIFxyXG4gICAgLy8gICovXHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIFNURERFVk4oYXJyYXk6IG51bWJlciwpIHtcclxuICAgIC8vICAgICBsZXQgc3VtID0gMDtcclxuICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3IoYXJyYXkuZ2V0SXRlbShpKSk7XHJcbiAgICAvLyAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBzdW0gKz0gTWF0aC5wb3codmFsdWUgLSBhdmVyYWdlLCAyKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gYXJyYXkubGVuZ3RoID4gMCA/IE1hdGguc3FydChzdW0gLyBhcnJheS5sZW5ndGgpIDogMDtcclxuICAgIC8vIH0gICAgXHJcbn1cclxuIiwiLyoqXG4gKiBIaXN0b3JpYyBWb2xhdGlsaXR5IEluZGljYXRvciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBMb2dSZXR1cm5FeHRlbnNpb24gfSBmcm9tICcuLi9jb21wdXRlL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlLCBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IEFycmF5RGF0YVN0b3JhZ2UsIERhdGFDaGFuZ2VkQXJndW1lbnQsIERhdGFTb3VyY2UsXG4gICAgRGF0YVNvdXJjZUNvbmZpZywgSUNvbnRleHQsIElEYXRhSXRlcmF0b3IsIElEYXRhU291cmNlLCBJRGF0YVN0b3JhZ2UgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgUmVuZGVyVXRpbHMgfSBmcm9tICcuLi9yZW5kZXIvaW5kZXgnO1xuaW1wb3J0IHsgRml4ZWRTaXplQXJyYXksIElQb2ludCwgSVJhbmdlLCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGlja0V4dCB9IGZyb20gJy4vQ2FuZGxlc3RpY2tFeHQnO1xuaW1wb3J0IHsgSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneSwgTW92aW5nQXZlcmFnZUZhY3RvcnksIE1vdmluZ0F2ZXJhZ2VUeXBlIH0gZnJvbSAnLi9Nb3ZpbmdBdmVyYWdlJztcbmltcG9ydCB7IFNpbXBsZUluZGljYXRvciB9IGZyb20gJy4vU2ltcGxlSW5kaWNhdG9yJztcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi9VdGlscyc7XG5pbXBvcnQgeyBJVmFsdWVBY2Nlc3NvciwgVmFsdWVBY2Nlc3NvckZhY3RvcnksIFZhbHVlQWNjZXNzb3JUeXBlIH0gZnJvbSAnLi9WYWx1ZUFjY2Vzc29yJztcblxuLy8gUmkgPSBMb2cgKFBpIC8gUChpLTEpKVxuLy8gQXZnID0gU1VNKFJpKSAvIG4gICAgIG9yIG1vdmluZyBhdmVyYWdlXG4vLyBTU0QgPSBTVU0gKFJpIC0gQXZnKVxuLy8gSFYgPSBTUVJUKFNTRCAvIChuIC0gMSkpICogU1FSVChUUClcbi8vIFxuLy8gVFAgaXNcbi8vIE1vbnRobHkgLSAxMlxuLy8gV2Vla2x5IC0gIDUyXG4vLyBEYWlseSAtIDI1MlxuLy8gSW50cmFkYXkgLSAyNTIgKiBiYXJzIHBlciBkYXlcblxuZXhwb3J0IGNsYXNzIFJTSUNhbmRsZXN0aWNrIGV4dGVuZHMgQ2FuZGxlc3RpY2tFeHQge1xuICAgIHB1YmxpYyBNQTogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY2xhc3MgVk9MQUluZGljYXRvciBleHRlbmRzIFNpbXBsZUluZGljYXRvcjxSU0lDYW5kbGVzdGljaz4ge1xuXG4gICAgcHJpdmF0ZSBtYTogSU1vdmluZ0F2ZXJhZ2VTdHJhdGVneTtcbiAgICBwcml2YXRlIGV4dDogTG9nUmV0dXJuRXh0ZW5zaW9uO1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihSU0lDYW5kbGVzdGljaywgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1ZPTEEnO1xuXG4gICAgICAgIHRoaXMubWEgPSBNb3ZpbmdBdmVyYWdlRmFjdG9yeS5pbnN0YW5jZS5jcmVhdGUoTW92aW5nQXZlcmFnZVR5cGUuU2ltcGxlKTtcblxuICAgICAgICAvLyBWT0xBIHJlcXVpcmVzIFwiUmV0dXJuXCJcbiAgICAgICAgdGhpcy5pbml0RXh0ZW5zaW9uKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbXB1dGVPbmUoc291cmNlSXRlbXM6IEZpeGVkU2l6ZUFycmF5PENhbmRsZXN0aWNrPixcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZEFycmF5OiBGaXhlZFNpemVBcnJheTxSU0lDYW5kbGVzdGljaz4sIGFjY2Vzc29yOiBJVmFsdWVBY2Nlc3Nvcik6IFJTSUNhbmRsZXN0aWNrIHtcblxuICAgICAgICBjb25zdCBOID0gdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpOyAvLyBzb3VyY2UgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBpdGVtLlxuICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZEFycmF5Lmxhc3RPckRlZmF1bHQoKTsgLy8gY29tcHV0ZWQgY2FuIGNvbnRhaW4gbm8gaXRlbXMuXG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgUlNJQ2FuZGxlc3RpY2soc291cmNlLmRhdGUpO1xuICAgICAgICBjb21wdXRlZC51aWRPcmlnLnQgPSBzb3VyY2UudWlkLnQ7XG4gICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICBjb25zdCBleHQgPSB0aGlzLmV4dDtcblxuICAgICAgICAvLyBDb21wdXRlIG1vdmluZyBhdmVyYWdlXG4gICAgICAgIGNvbnN0IGxhc3RDb21wdXRlZE1BID0gbGFzdENvbXB1dGVkICE9PSB1bmRlZmluZWQgPyBsYXN0Q29tcHV0ZWQuTUEgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbXB1dGVkLk1BID0gdGhpcy5tYS5jb21wdXRlKE4sIHNvdXJjZUl0ZW1zLCBjYW5kbGUgPT4gZXh0LnZhbHVlKGNhbmRsZSksIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkTUEpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgZGl2ZXJzZVxuICAgICAgICBpZiAoY29tcHV0ZWQuTUEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYXZnID0gY29tcHV0ZWQuTUE7XG4gICAgICAgICAgICBjb25zdCBTU0QgPSBzb3VyY2VJdGVtcy5zdW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0ID0gZXh0LnZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAocmV0ICE9PSB1bmRlZmluZWQpID8gTWF0aC5hYnMocmV0IC0gYXZnKSA6IDA7XG4gICAgICAgICAgICB9LCBOKTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aGlzLmdldFRQQnlJbnRlcnZhbCh0aGlzLmNvbnRleHQuaW50ZXJ2YWwoKSk7XG5cbiAgICAgICAgICAgIGlmIChTU0QgIT09IHVuZGVmaW5lZCAmJiBOID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgSFZcbiAgICAgICAgICAgICAgICBjb21wdXRlZC5jID0gU1NEICE9PSAwID8gTWF0aC5zcXJ0KFNTRCAvIChOIC0gMSkpICogTWF0aC5zcXJ0KGludGVydmFsKSA6IDA7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuaCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQubCA9IGNvbXB1dGVkLmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgVHJhZGluZyBQZXJpb2RcbiAgICAgKiBAcGFyYW0gaW50ZXJ2YWwgXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRUUEJ5SW50ZXJ2YWwoaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IG51bWJlciB7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1vbnRoOiByZXR1cm4gMTI7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC53ZWVrOiByZXR1cm4gNTI7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogcmV0dXJuIDI1O1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiByZXR1cm4gMjUyO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjEyOiByZXR1cm4gMjUyICogMjtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiByZXR1cm4gMjUyICogNDtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI0OiByZXR1cm4gMjUyICogNjtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI6IHJldHVybiAyNTIgKiAyNDtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjMwOiByZXR1cm4gMjUyICogMjQgKiAyO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluMTU6IHJldHVybiAyNTIgKiAyNCAqIDQ7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW41OiByZXR1cm4gMjUyICogMjQgKiAxMjtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjogcmV0dXJuIDI1MiAqIDI0ICogNjA7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5zZWM6IHJldHVybiAyNTIgKiAyNCAqIDYwICogNjA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHRpbWUgaW50ZXJ2YWwgJHtpbnRlcnZhbH1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdkYXRhc291cmNlJywgZ3JvdXA6IHRydWUgfSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncGVyaW9kJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BlcmlvZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy5wZXJpb2QudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdQZXJpb2QnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCd2YWx1ZVR5cGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmFsdWVUeXBlJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ2FsY3VsYXRlIHVzaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnZhbHVlVHlwZS50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLnNlbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZS50b1N0cmluZygpLCB0ZXh0OiAnY2xvc2UnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub3Blbi50b1N0cmluZygpLCB0ZXh0OiAnb3BlbicgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBWYWx1ZUFjY2Vzc29yVHlwZS5oaWdoLnRvU3RyaW5nKCksIHRleHQ6ICdoaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmxvdy50b1N0cmluZygpLCB0ZXh0OiAnbG93JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsMi50b1N0cmluZygpLCB0ZXh0OiAnaGwyJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsYzMudG9TdHJpbmcoKSwgdGV4dDogJ2hsYzMnIH0sXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogVmFsdWVBY2Nlc3NvclR5cGUub2hsYzQudG9TdHJpbmcoKSwgdGV4dDogJ29obGM0JyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0LnRvU3RyaW5nKCksIHRleHQ6ICdobGNjNCcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwZXJpb2QgPSB2YWx1ZS5nZXRTZXR0aW5nKCdkYXRhc291cmNlLnBlcmlvZCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBlcmlvZCA9IChwZXJpb2QgJiYgcGVyaW9kLnZhbHVlKSA/IHBhcnNlSW50KHBlcmlvZC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy5wZXJpb2Q7XG5cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdmFsdWUuZ2V0U2V0dGluZygnZGF0YXNvdXJjZS52YWx1ZVR5cGUnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy52YWx1ZVR5cGUgPSAodmFsdWVUeXBlICYmIHZhbHVlVHlwZS52YWx1ZSkgPyBwYXJzZUludCh2YWx1ZVR5cGUudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlO1xuXG4gICAgICAgIC8vIHJlLWluaXQgZXh0ZW5zaW9uIHdpdGggbmV3IHZhbHVlIHR5cGVcbiAgICAgICAgdGhpcy5pbml0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlXG4gICAgICAgIHRoaXMuY29tcHV0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEV4dGVuc2lvbigpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBleHRlbnNpb24gYW5kIGFkZCBuZXcgb25lXG4gICAgICAgIC8vXG4gICAgICAgIGlmICh0aGlzLmV4dCkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXh0ZW5zaW9uKHRoaXMuZXh0LnVuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjY2Vzc29yID0gVmFsdWVBY2Nlc3NvckZhY3RvcnkuaW5zdGFuY2UuY3JlYXRlKHRoaXMuc2V0dGluZ3MudmFsdWVUeXBlKTtcbiAgICAgICAgdGhpcy5leHQgPSBuZXcgTG9nUmV0dXJuRXh0ZW5zaW9uKGFjY2Vzc29yKTtcbiAgICAgICAgdGhpcy5zb3VyY2UuYWRkRXh0ZW5zaW9uKHRoaXMuZXh0LnVuYW1lLCB0aGlzLmV4dCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBWYWx1ZUFjY2Vzc29yRmFjdG9yeSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XG5cbmV4cG9ydCBlbnVtIFZhbHVlQWNjZXNzb3JUeXBlIHtcbiAgICBvcGVuLFxuICAgIGhpZ2gsXG4gICAgbG93LFxuICAgIGNsb3NlLFxuICAgIGhsMixcbiAgICBobGMzLFxuICAgIG9obGM0LFxuICAgIGhsY2M0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZhbHVlQWNjZXNzb3Ige1xuICAgIChjYW5kbGU6IENhbmRsZXN0aWNrKTogbnVtYmVyfHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNsYXNzIFZhbHVlQWNjZXNzb3JGYWN0b3J5IHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0PzogVmFsdWVBY2Nlc3NvckZhY3Rvcnk7XG5cbiAgICBwcml2YXRlIG9wZW4gPSAoYzogQ2FuZGxlc3RpY2spID0+IHsgcmV0dXJuIGMubzsgfTtcbiAgICBwcml2YXRlIGhpZ2ggPSAoYzogQ2FuZGxlc3RpY2spID0+IHsgcmV0dXJuIGMuaDsgfTtcbiAgICBwcml2YXRlIGxvdyA9IChjOiBDYW5kbGVzdGljaykgPT4geyByZXR1cm4gYy5sOyB9O1xuICAgIHByaXZhdGUgY2xvc2UgPSAoYzogQ2FuZGxlc3RpY2spID0+IHsgcmV0dXJuIGMuYzsgfTtcbiAgICBwcml2YXRlIGhsMiA9IChjOiBDYW5kbGVzdGljaykgPT4ge1xuICAgICAgICByZXR1cm4gIChjLmggIT09IHVuZGVmaW5lZCAmJiBjLmwgIT09IHVuZGVmaW5lZCkgPyAoYy5oISArIGMubCkgLyAyIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBwcml2YXRlIGhsYzMgPSAoYzogQ2FuZGxlc3RpY2spID0+IHtcbiAgICAgICAgcmV0dXJuIChjLmggIT09IHVuZGVmaW5lZCAmJiBjLmwgIT09IHVuZGVmaW5lZCAmJiBjLmMgIT09IHVuZGVmaW5lZCkgPyAoYy5oICsgYy5sICsgYy5jKSAvIDMgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHByaXZhdGUgb2hsYzQgPSAoYzogQ2FuZGxlc3RpY2spID0+IHtcbiAgICAgICAgcmV0dXJuIChjLm8gIT09IHVuZGVmaW5lZCAmJiBjLmggIT09IHVuZGVmaW5lZCAmJiBjLmwgIT09IHVuZGVmaW5lZCAmJiBjLmMgIT09IHVuZGVmaW5lZCkgPyAoYy5vICsgYy5oICsgYy5sICsgYy5jKSAvIDQgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHByaXZhdGUgaGxjYzQgPSAoYzogQ2FuZGxlc3RpY2spID0+IHtcbiAgICAgICAgcmV0dXJuIChjLmggIT09IHVuZGVmaW5lZCAmJiBjLmwgIT09IHVuZGVmaW5lZCAmJiBjLmMgIT09IHVuZGVmaW5lZCkgPyAoYy5oICsgYy5sICsgYy5jICsgYy5jKSAvIDQgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogVmFsdWVBY2Nlc3NvckZhY3Rvcnkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0ID0gbmV3IFZhbHVlQWNjZXNzb3JGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKHZhVHlwZTogVmFsdWVBY2Nlc3NvclR5cGUpOiBJVmFsdWVBY2Nlc3NvciB7XG4gICAgICAgIHN3aXRjaCAodmFUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFZhbHVlQWNjZXNzb3JUeXBlLm9wZW46IHJldHVybiB0aGlzLm9wZW47XG4gICAgICAgICAgICBjYXNlIFZhbHVlQWNjZXNzb3JUeXBlLmhpZ2g6IHJldHVybiB0aGlzLmhpZ2g7XG4gICAgICAgICAgICBjYXNlIFZhbHVlQWNjZXNzb3JUeXBlLmxvdzogcmV0dXJuIHRoaXMubG93O1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5jbG9zZTogcmV0dXJuIHRoaXMuY2xvc2U7XG4gICAgICAgICAgICBjYXNlIFZhbHVlQWNjZXNzb3JUeXBlLmhsMjogcmV0dXJuIHRoaXMuaGwyO1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5obGMzOiByZXR1cm4gdGhpcy5obGMzO1xuICAgICAgICAgICAgY2FzZSBWYWx1ZUFjY2Vzc29yVHlwZS5vaGxjNDogcmV0dXJuIHRoaXMub2hsYzQ7XG4gICAgICAgICAgICBjYXNlIFZhbHVlQWNjZXNzb3JUeXBlLmhsY2M0OiByZXR1cm4gdGhpcy5obGNjNDtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCB2YWx1ZSBhY2Nlc3NvciB0eXBlPScgKyB2YVR5cGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBXZWlnaHRlZCBNb3ZpbmcgQXZlcmFnZSBJbmRpY2F0b3IgY2xhc3MuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUsIFRpbWVJbnRlcnZhbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgQXJyYXlEYXRhU3RvcmFnZSwgRGF0YUNoYW5nZWRBcmd1bWVudCwgRGF0YVNvdXJjZSxcbiAgICBEYXRhU291cmNlQ29uZmlnLCBJQ29udGV4dCwgSURhdGFJdGVyYXRvciwgSURhdGFTb3VyY2UsIElEYXRhU3RvcmFnZSB9IGZyb20gJy4uL2RhdGEvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2ssIFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyLCBSZW5kZXJVdGlscyB9IGZyb20gJy4uL3JlbmRlci9pbmRleCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSwgSVBvaW50LCBJUmFuZ2UsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrRXh0IH0gZnJvbSAnLi9DYW5kbGVzdGlja0V4dCc7XG5pbXBvcnQgeyBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5LCBNb3ZpbmdBdmVyYWdlRmFjdG9yeSwgTW92aW5nQXZlcmFnZVR5cGUgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2UnO1xuaW1wb3J0IHsgU2ltcGxlSW5kaWNhdG9yIH0gZnJvbSAnLi9TaW1wbGVJbmRpY2F0b3InO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL1V0aWxzJztcbmltcG9ydCB7IElWYWx1ZUFjY2Vzc29yLCBWYWx1ZUFjY2Vzc29yRmFjdG9yeSwgVmFsdWVBY2Nlc3NvclR5cGUgfSBmcm9tICcuL1ZhbHVlQWNjZXNzb3InO1xuXG5leHBvcnQgY2xhc3MgV01BSW5kaWNhdG9yIGV4dGVuZHMgU2ltcGxlSW5kaWNhdG9yPENhbmRsZXN0aWNrRXh0PiB7XG5cbiAgICBwcml2YXRlIG1hOiBJTW92aW5nQXZlcmFnZVN0cmF0ZWd5O1xuXG4gICAgY29uc3RydWN0b3IgKHNvdXJjZTogSURhdGFTb3VyY2U8Q2FuZGxlc3RpY2s+LCBjb250ZXh0OiBJQ29udGV4dCkge1xuICAgICAgICBzdXBlcihDYW5kbGVzdGlja0V4dCwgc291cmNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1dNQSc7XG5cbiAgICAgICAgdGhpcy5tYSA9IE1vdmluZ0F2ZXJhZ2VGYWN0b3J5Lmluc3RhbmNlLmNyZWF0ZShNb3ZpbmdBdmVyYWdlVHlwZS5XZWlnaHQpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wdXRlT25lKHNvdXJjZUl0ZW1zOiBGaXhlZFNpemVBcnJheTxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRBcnJheTogRml4ZWRTaXplQXJyYXk8Q2FuZGxlc3RpY2tFeHQ+LCBhY2Nlc3NvcjogSVZhbHVlQWNjZXNzb3IpOiBDYW5kbGVzdGlja0V4dCB7XG5cbiAgICAgICAgICAgIGNvbnN0IE4gPSB0aGlzLnNldHRpbmdzLnBlcmlvZDtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXMubGFzdCgpO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkID0gY29tcHV0ZWRBcnJheS5sYXN0T3JEZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IENhbmRsZXN0aWNrRXh0KHNvdXJjZS5kYXRlKTtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcudCA9IHNvdXJjZS51aWQudDtcbiAgICAgICAgICAgIGNvbXB1dGVkLnVpZE9yaWcubiA9IHNvdXJjZS51aWQubjtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3Nvcihzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRWYWx1ZSA9IGxhc3RDb21wdXRlZCAhPT0gdW5kZWZpbmVkID8gbGFzdENvbXB1dGVkLmMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQuYyA9IHRoaXMubWEuY29tcHV0ZShOLCBzb3VyY2VJdGVtcywgYWNjZXNzb3IsIHVuZGVmaW5lZCwgbGFzdENvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmggPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkLmwgPSBjb21wdXRlZC5jO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZWQ7XG4gICAgfVxufVxuIiwiLyoqXHJcbiAqIFxyXG4gKi9cclxuaW1wb3J0IHsgQURYSW5kaWNhdG9yIH0gZnJvbSAnLi9BRFhJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBBbGxpZ2F0b3JJbmRpY2F0b3IsIEFsbGlnYXRvckluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9BbGxpZ2F0b3JJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBBcm9vbkluZGljYXRvciwgQXJvb25JbmRpY2F0b3JSZW5kZXJlciwgQXJvb25Pc2NpbGxhdG9yIH0gZnJvbSAnLi9Bcm9vbkluZGljYXRvcic7XHJcbmltcG9ydCB7IEFUUkluZGljYXRvciB9IGZyb20gJy4vQVRSSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgQm9sbGluZ2VySW5kaWNhdG9yLCBCb2xsaW5nZXJJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vQm9sbGluZ2VySW5kaWNhdG9yJztcclxuaW1wb3J0IHsgQ0NJT3NjaWxsYXRvciB9IGZyb20gJy4vQ0NJT3NjaWxsYXRvcic7XHJcbmltcG9ydCB7IENPUkluZGljYXRvciB9IGZyb20gJy4vQ09SSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgREVNQUluZGljYXRvciB9IGZyb20gJy4vREVNQUluZGljYXRvcic7XHJcbmltcG9ydCB7IERJWE9zY2lsbGF0b3IgfSBmcm9tICcuL0RJWE9zY2lsbGF0b3InO1xyXG5pbXBvcnQgeyBETUlJbmRpY2F0b3IsIERNSUluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9ETUlJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBEU1NCUk9zY2lsbGF0b3IsIERTU0JST3NjaWxsYXRvclJlbmRlcmVyfSBmcm9tICcuL0RTU0JST3NjaWxsYXRvcic7XHJcbmltcG9ydCB7IEVNQUluZGljYXRvciB9IGZyb20gJy4vRU1BSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgSEhMTEluZGljYXRvciwgSEhMTEluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9ISExMSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgSUtISW5kaWNhdG9yLCBJS0hJbmRpY2F0b3JSZW5kZXJlciB9IGZyb20gJy4vSUtISW5kaWNhdG9yJztcclxuaW1wb3J0IHsgSW5kaWNhdG9yRmFicmljLCByZWdpc3RlciB9IGZyb20gJy4vSW5kaWNhdG9yRmFicmljJztcclxuaW1wb3J0IHsgTUFDREluZGljYXRvciwgTUFDREluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9NQUNESW5kaWNhdG9yJztcclxuaW1wb3J0IHsgTURJbmRpY2F0b3IgfSBmcm9tICcuL01ESW5kaWNhdG9yJztcclxuaW1wb3J0IHsgTU9NSW5kaWNhdG9yIH0gZnJvbSAnLi9NT01JbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBQQ1JPc2NpbGxhdG9yIH0gZnJvbSAnLi9QQ1JPc2NpbGxhdG9yJztcclxuaW1wb3J0IHsgUFBJbmRpY2F0b3IsIFBQSW5kaWNhdG9yUmVuZGVyZXIgfSBmcm9tICcuL1BQSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUFNBUkluZGljYXRvciwgUFNBUkluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9QU0FSSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUkFUSU9JbmRpY2F0b3IgfSBmcm9tICcuL1JBVElPSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUkJJbmRpY2F0b3IsIFJCSW5kaWNhdG9yUmVuZGVyZXIgfSBmcm9tICcuL1JCSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgUk9DSW5kaWNhdG9yIH0gZnJvbSAnLi9ST0NJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBSU0lPc2NpbGxhdG9yIH0gZnJvbSAnLi9SU0lPc2NpbGxhdG9yJztcclxuaW1wb3J0IHsgUlNMT3NjaWxsYXRvciB9IGZyb20gJy4vUlNMT3NjaWxsYXRvcic7XHJcbmltcG9ydCB7IFNNQUluZGljYXRvciB9IGZyb20gJy4vU01BSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgU01NQUluZGljYXRvciB9IGZyb20gJy4vU01NQUluZGljYXRvcic7XHJcbmltcG9ydCB7IFNUREVWSW5kaWNhdG9yIH0gZnJvbSAnLi9TVERFVkluZGljYXRvcic7XHJcbmltcG9ydCB7IFNUSW5kaWNhdG9yLCBTVEluZGljYXRvclJlbmRlcmVyIH0gZnJvbSAnLi9TVEluZGljYXRvcic7XHJcbmltcG9ydCB7IEZhc3RTdG9jaGFzdGljT3NjaWxsYXRvciwgT0JPU09zY2lsbGF0b3IsIFNsb3dTdG9jaGFzdGljT3NjaWxsYXRvciwgU3RvY2hhc3RpY09zY2lsbGF0b3JSZW5kZXJlciB9IGZyb20gJy4vU3RvY2hhc3RpY09zY2lsbGF0b3InO1xyXG5pbXBvcnQgeyBURU1BSW5kaWNhdG9yIH0gZnJvbSAnLi9URU1BSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgVE1BSW5kaWNhdG9yIH0gZnJvbSAnLi9UTUFJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBUUEluZGljYXRvciB9IGZyb20gJy4vVFBJbmRpY2F0b3InO1xyXG5pbXBvcnQgeyBWT0xBSW5kaWNhdG9yIH0gZnJvbSAnLi9WT0xBSW5kaWNhdG9yJztcclxuaW1wb3J0IHsgV01BSW5kaWNhdG9yIH0gZnJvbSAnLi9XTUFJbmRpY2F0b3InO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEFEWEluZGljYXRvcixcclxuICAgIEFsbGlnYXRvckluZGljYXRvciwgQWxsaWdhdG9ySW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBBcm9vbkluZGljYXRvciwgQXJvb25JbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIEFyb29uT3NjaWxsYXRvcixcclxuICAgIEFUUkluZGljYXRvcixcclxuICAgIEJvbGxpbmdlckluZGljYXRvciwgQm9sbGluZ2VySW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBDQ0lPc2NpbGxhdG9yLFxyXG4gICAgQ09SSW5kaWNhdG9yLFxyXG4gICAgREVNQUluZGljYXRvcixcclxuICAgIERJWE9zY2lsbGF0b3IsXHJcbiAgICBETUlJbmRpY2F0b3IsIERNSUluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgRFNTQlJPc2NpbGxhdG9yLCBEU1NCUk9zY2lsbGF0b3JSZW5kZXJlcixcclxuICAgIEVNQUluZGljYXRvcixcclxuICAgIEhITExJbmRpY2F0b3IsIEhITExJbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIElLSEluZGljYXRvciwgSUtISW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBJbmRpY2F0b3JGYWJyaWMsXHJcbiAgICBNQUNESW5kaWNhdG9yLCBNQUNESW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICBNREluZGljYXRvcixcclxuICAgIE1PTUluZGljYXRvcixcclxuICAgIFBDUk9zY2lsbGF0b3IsXHJcbiAgICBQUEluZGljYXRvciwgUFBJbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIFBTQVJJbmRpY2F0b3IsIFBTQVJJbmRpY2F0b3JSZW5kZXJlcixcclxuICAgIFJBVElPSW5kaWNhdG9yLFxyXG4gICAgUkJJbmRpY2F0b3IsIFJCSW5kaWNhdG9yUmVuZGVyZXIsXHJcbiAgICByZWdpc3RlcixcclxuICAgIFJPQ0luZGljYXRvcixcclxuICAgIFJTSU9zY2lsbGF0b3IsXHJcbiAgICBSU0xPc2NpbGxhdG9yLFxyXG4gICAgU01BSW5kaWNhdG9yLFxyXG4gICAgU01NQUluZGljYXRvcixcclxuICAgIFNUSW5kaWNhdG9yLCBTVEluZGljYXRvclJlbmRlcmVyLFxyXG4gICAgU1RERVZJbmRpY2F0b3IsXHJcbiAgICBGYXN0U3RvY2hhc3RpY09zY2lsbGF0b3IsIE9CT1NPc2NpbGxhdG9yLCBTbG93U3RvY2hhc3RpY09zY2lsbGF0b3IsIFN0b2NoYXN0aWNPc2NpbGxhdG9yUmVuZGVyZXIsXHJcbiAgICBURU1BSW5kaWNhdG9yLFxyXG4gICAgVE1BSW5kaWNhdG9yLFxyXG4gICAgVFBJbmRpY2F0b3IsXHJcbiAgICBWT0xBSW5kaWNhdG9yLFxyXG4gICAgV01BSW5kaWNhdG9yXHJcbn07XHJcbiIsIi8qKlxuICogQXJlYSBjbGFzc1xuICovXG5pbXBvcnQgeyBDYW52YXNXcmFwcGVyIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElFdmVudCwgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBTaXplQ2hhbmdlZEFyZ3VtZW50LCBTaXplQ2hhbmdlZEV2ZW50IH0gZnJvbSAnLi9TaXplQ2hhbmdlZEV2ZW50JztcblxuZXhwb3J0IGNsYXNzIEFyZWEge1xuICAgIHByb3RlY3RlZCBfZGl2OiBIVE1MRGl2RWxlbWVudHx1bmRlZmluZWQ7XG4gICAgcHJvdGVjdGVkIF9vZmZzZXQ6IElQb2ludDtcbiAgICBwcm90ZWN0ZWQgX3NpemU6IElTaXplO1xuXG4gICAgcHJvdGVjdGVkIF9iYXNlQ2FudmFzOiBDYW52YXNXcmFwcGVyO1xuICAgIHByb3RlY3RlZCBfZnJvbnRDYW52YXM6IENhbnZhc1dyYXBwZXI7XG4gICAgcHJvdGVjdGVkIF9iYXNlQ2FudmFzRWw6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfZnJvbnRDYW52YXNFbDogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICBwcm90ZWN0ZWQgX2Jhc2VDYW52YXNTaGFkb3c6IENhbnZhc1dyYXBwZXI7XG4gICAgcHJvdGVjdGVkIF9mcm9udENhbnZhc1NoYWRvdzogQ2FudmFzV3JhcHBlcjtcbiAgICBwcm90ZWN0ZWQgX2Jhc2VDYW52YXNFbFNoYWRvdzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIF9mcm9udENhbnZhc0VsU2hhZG93OiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgIHByb3RlY3RlZCBzaXplQ2hhbmdlZEV2ZW50PSBuZXcgU2l6ZUNoYW5nZWRFdmVudCgpO1xuXG4gICAgcHJpdmF0ZSBzaGFkb3cgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBnZXQgc2l6ZUNoYW5nZWQoKTogSUV2ZW50PFNpemVDaGFuZ2VkQXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZUNoYW5nZWRFdmVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZVxuICAgICkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgYmFzZUNhbnZhcygpOiBDYW52YXNXcmFwcGVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZG93ID8gdGhpcy5fYmFzZUNhbnZhc1NoYWRvdyA6IHRoaXMuX2Jhc2VDYW52YXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmcm9udENhbnZhcygpOiBDYW52YXNXcmFwcGVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZG93ID8gdGhpcy5fZnJvbnRDYW52YXNTaGFkb3cgOiB0aGlzLl9mcm9udENhbnZhcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IG9mZnNldCgpOiBJUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgb2Zmc2V0KHZhbHVlOiBJUG9pbnQpICB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2l6ZSgpOiBJU2l6ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckJhc2UoKSB7XG4gICAgICAgIHRoaXMuYmFzZUNhbnZhcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckZyb250KCkge1xuICAgICAgICB0aGlzLmZyb250Q2FudmFzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhcy5jbGVhcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzLmRyYXdJbWFnZSh0aGlzLl9iYXNlQ2FudmFzRWxTaGFkb3csIDAsIDAsIHRoaXMuX3NpemUud2lkdGgsIHRoaXMuX3NpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX2Zyb250Q2FudmFzLmRyYXdJbWFnZSh0aGlzLl9mcm9udENhbnZhc0VsU2hhZG93LCAwLCAwLCB0aGlzLl9zaXplLndpZHRoLCB0aGlzLl9zaXplLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzaXplKHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsLndpZHRoID0gdyAqIGRwcjtcbiAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsLmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB3ICsgJ3B4Jyk7XG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgaCArICdweCcpO1xuXG4gICAgICAgIHRoaXMuX2Zyb250Q2FudmFzRWwud2lkdGggPSB3ICogZHByO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsLmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgIHRoaXMuX2Zyb250Q2FudmFzRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG5cbiAgICAgICAgdGhpcy5fYmFzZUNhbnZhcy5yZXNpemUodywgaCk7XG4gICAgICAgIHRoaXMuX2Zyb250Q2FudmFzLnJlc2l6ZSh3LCBoKTtcblxuICAgICAgICBpZiAodGhpcy5zaGFkb3cpIHtcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbFNoYWRvdy53aWR0aCA9IHcgKiBkcHI7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWxTaGFkb3cuaGVpZ2h0ID0gaCAqIGRwcjtcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VDYW52YXNFbFNoYWRvdy5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB3ICsgJ3B4Jyk7XG4gICAgICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWxTaGFkb3cuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICAgICAgdGhpcy5fZnJvbnRDYW52YXNFbFNoYWRvdy53aWR0aCA9IHcgKiBkcHI7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsU2hhZG93LmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsU2hhZG93LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgICAgIHRoaXMuX2Zyb250Q2FudmFzRWxTaGFkb3cuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhc1NoYWRvdy5yZXNpemUodywgaCk7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc1NoYWRvdy5yZXNpemUodywgaCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaXplID0geyB3aWR0aDogdywgaGVpZ2h0OiBoIH07XG5cbiAgICAgICAgdGhpcy5zaXplQ2hhbmdlZEV2ZW50LnRyaWdnZXIobmV3IFNpemVDaGFuZ2VkQXJndW1lbnQodGhpcy5fc2l6ZSkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhcHBlbmRDYW52YXNlcyhkaXY6IEhUTUxEaXZFbGVtZW50LCB3OiBudW1iZXIsIGg6IG51bWJlcikge1xuXG4gICAgICAgIHRoaXMuX2RpdiA9IGRpdjtcbiAgICAgICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgICBjb25zdCBiYXNlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGJhc2VDYW52YXMud2lkdGggPSB3ICogZHByO1xuICAgICAgICBiYXNlQ2FudmFzLmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgIGJhc2VDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICBiYXNlQ2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCBoICsgJ3B4Jyk7XG4gICAgICAgIGJhc2VDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ2xlZnQnLCAnMCcpO1xuICAgICAgICBiYXNlQ2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCd0b3AnLCAnMCcpO1xuICAgICAgICBiYXNlQ2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCd6LWluZGV4JywgJzAnKTtcbiAgICAgICAgYmFzZUNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcblxuICAgICAgICBjb25zdCBmcm9udENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBmcm9udENhbnZhcy53aWR0aCA9IHcgKiBkcHI7XG4gICAgICAgIGZyb250Q2FudmFzLmhlaWdodCA9IGggKiBkcHI7XG4gICAgICAgIGZyb250Q2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHcgKyAncHgnKTtcbiAgICAgICAgZnJvbnRDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcbiAgICAgICAgZnJvbnRDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ2xlZnQnLCAnMCcpO1xuICAgICAgICBmcm9udENhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywgJzAnKTtcbiAgICAgICAgZnJvbnRDYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ3otaW5kZXgnLCAnMScpO1xuICAgICAgICBmcm9udENhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKTtcblxuICAgICAgICB0aGlzLl9iYXNlQ2FudmFzRWwgPSBiYXNlQ2FudmFzO1xuICAgICAgICB0aGlzLl9mcm9udENhbnZhc0VsID0gZnJvbnRDYW52YXM7XG4gICAgICAgIHRoaXMuX2Jhc2VDYW52YXMgPSB0aGlzLmdldENvbnRleHQoYmFzZUNhbnZhcywgdywgaCk7XG4gICAgICAgIHRoaXMuX2Zyb250Q2FudmFzID0gdGhpcy5nZXRDb250ZXh0KGZyb250Q2FudmFzLCB3LCBoKTtcblxuICAgICAgICBpZiAodGhpcy5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VDYW52YXNTaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGJhc2VDYW52YXNTaGFkb3cud2lkdGggPSB3ICogZHByO1xuICAgICAgICAgICAgYmFzZUNhbnZhc1NoYWRvdy5oZWlnaHQgPSBoICogZHByO1xuXG4gICAgICAgICAgICBjb25zdCBmcm9udENhbnZhc1NoYWRvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgZnJvbnRDYW52YXNTaGFkb3cud2lkdGggPSB3ICogZHByO1xuICAgICAgICAgICAgZnJvbnRDYW52YXNTaGFkb3cuaGVpZ2h0ID0gaCAqIGRwcjtcblxuICAgICAgICAgICAgdGhpcy5fYmFzZUNhbnZhc0VsU2hhZG93ID0gYmFzZUNhbnZhc1NoYWRvdztcbiAgICAgICAgICAgIHRoaXMuX2Zyb250Q2FudmFzRWxTaGFkb3cgPSBmcm9udENhbnZhc1NoYWRvdztcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VDYW52YXNTaGFkb3cgPSB0aGlzLmdldENvbnRleHQoYmFzZUNhbnZhc1NoYWRvdywgdywgaCk7XG4gICAgICAgICAgICB0aGlzLl9mcm9udENhbnZhc1NoYWRvdyA9IHRoaXMuZ2V0Q29udGV4dChmcm9udENhbnZhc1NoYWRvdywgdywgaCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChiYXNlQ2FudmFzKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGZyb250Q2FudmFzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENvbnRleHQoZWw6IEhUTUxDYW52YXNFbGVtZW50LCB3OiBudW1iZXIsIGg6IG51bWJlcik6IENhbnZhc1dyYXBwZXIge1xuICAgICAgICBjb25zdCBjdHggPSBlbC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoY3R4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGV4dCBpcyBudWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNXcmFwcGVyKGN0eCwgdywgaCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBCb2FyZEFyZWEgY2xhc3NcbiAqL1xuaW1wb3J0IHsgSVNpemUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2hhcnRBcmVhLCBYQXJlYSB9IGZyb20gJy4vQ2hhcnRBcmVhJztcblxuZXhwb3J0IGNsYXNzIEJvYXJkQXJlYSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSB0YWJsZTogSFRNTFRhYmxlRWxlbWVudDtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgeUF4aXNXaWR0aCA9IDkwO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgeEF4aXNIZWlnaHQgPSAyNTtcblxuICAgIHByaXZhdGUgY2hhcnRXaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgY2hhcnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhcnRBcmVhczogQ2hhcnRBcmVhW10gPSBbXTtcbiAgICBwcml2YXRlIHRpbWVBcmVhOiBYQXJlYTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgc2l6ZTogSVNpemVcbiAgICApIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gICAgICAgIHRoaXMudGFibGUuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICAgIHRoaXMudGFibGUuc3R5bGUuc2V0UHJvcGVydHkoJ2JvcmRlci1zcGFjaW5nJywgJzAnKTtcbiAgICAgICAgdGhpcy50YWJsZS5zdHlsZS5zZXRQcm9wZXJ0eSgnYm9yZGVyLWNvbGxhcHNlJywgJ2NvbGxhcHNlJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGFibGUpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRXaWR0aCA9IHRoaXMuc2l6ZS53aWR0aCAtIHRoaXMueUF4aXNXaWR0aDtcbiAgICAgICAgdGhpcy5jaGFydEhlaWdodCA9IHRoaXMuc2l6ZS5oZWlnaHQgLSB0aGlzLnhBeGlzSGVpZ2h0O1xuXG4gICAgICAgIC8vIGNyZWF0ZSB4IGF4aXMgYXJlYVxuICAgICAgICBjb25zdCB4cm93ID0gdGhpcy50YWJsZS5pbnNlcnRSb3coLTEpOyAvLyB0byBlbmRcbiAgICAgICAgdGhpcy50aW1lQXJlYSA9IG5ldyBYQXJlYSh4cm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgeDogMCwgeTogdGhpcy5jaGFydEhlaWdodCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgd2lkdGg6IHRoaXMuY2hhcnRXaWR0aCwgaGVpZ2h0OiB0aGlzLnhBeGlzSGVpZ2h0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhpc0hlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENoYXJ0KCkgOiBDaGFydEFyZWEge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGFydEFyZWFzLmxlbmd0aDtcblxuICAgICAgICBjb25zdCByb3cgPSB0aGlzLnRhYmxlLmluc2VydFJvdyhpbmRleCk7XG5cbiAgICAgICAgY29uc3QgYXJlYSA9IG5ldyBDaGFydEFyZWEocm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHg6IDAsIHk6IDB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHdpZHRoOiB0aGlzLmNoYXJ0V2lkdGgsIGhlaWdodDogdGhpcy5jaGFydEhlaWdodCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGlzV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUFyZWEpO1xuICAgICAgICB0aGlzLmNoYXJ0QXJlYXMucHVzaChhcmVhKTtcbiAgICAgICAgcmV0dXJuIGFyZWE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgZm9yIChjb25zdCBhcmVhIG9mIHRoaXMuY2hhcnRBcmVhcykge1xuICAgICAgICAgICAgYXJlYS5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVBcmVhLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUoYXJlYTogQ2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGFydEFyZWFzLmluZGV4T2YoYXJlYSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRBcmVhcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy50YWJsZS5kZWxldGVSb3coaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFhBcmVhKCk6IFhBcmVhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZUFyZWE7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyQmFzZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBhcmVhIG9mIHRoaXMuY2hhcnRBcmVhcykge1xuICAgICAgICAgICAgYXJlYS5jbGVhckJhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVBcmVhLmNsZWFyQmFzZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckZyb250KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGFyZWEgb2YgdGhpcy5jaGFydEFyZWFzKSB7XG4gICAgICAgICAgICBhcmVhLmNsZWFyRnJvbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVBcmVhLmNsZWFyRnJvbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoYXJ0TGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFdpZHRoO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNpemUodzogbnVtYmVyLCBoOiBudW1iZXIpOiB2b2lkIHtcblxuICAgICAgICAvLyByZXNpemUgaW5uZXIgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBkaCA9IE1hdGguZmxvb3IoKGggLSB0aGlzLnhBeGlzSGVpZ2h0KSAvICh0aGlzLmNoYXJ0QXJlYXMubGVuZ3RoICsgMSkpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRXaWR0aCA9IHcgLSB0aGlzLnlBeGlzV2lkdGg7XG4gICAgICAgIC8vdGhpcy5jaGFydEhlaWdodCA9IHRoaXMuc2l6ZS5oZWlnaHQgLSB0aGlzLnhBeGlzSGVpZ2h0O1xuXG4gICAgICAgIGxldCB5T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IHRoaXMuY2hhcnRBcmVhcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgLy8gcmVzaXplIGNoYXJ0c1xuICAgICAgICAgICAgLy8gdXBkYXRlIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIG9mZnNldFxuICAgICAgICAgICAgdGhpcy5jaGFydEFyZWFzW2ldLm9mZnNldCA9IHsgeDogdGhpcy5jaGFydEFyZWFzW2ldLm9mZnNldC54LCB5OiB5T2Zmc2V0IH07XG4gICAgICAgICAgICB0aGlzLmNoYXJ0QXJlYXNbaV0ucmVzaXplKHRoaXMuY2hhcnRXaWR0aCwgaSA9PT0gMCA/IGRoICogMiA6IGRoKTtcblxuICAgICAgICAgICAgeU9mZnNldCArPSAoaSA9PT0gMCA/IGRoICogMiA6IGRoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNpemUgdGltZSBheGlzXG5cbiAgICAgICAgdGhpcy50aW1lQXJlYS5vZmZzZXQgPSB7IHg6IHRoaXMudGltZUFyZWEub2Zmc2V0LngsIHk6IHlPZmZzZXQgfTtcbiAgICAgICAgdGhpcy50aW1lQXJlYS5yZXNpemUodGhpcy5jaGFydFdpZHRoLCB0aGlzLnhBeGlzSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q3Vyc29yKHN0eWxlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy50YWJsZS5zZXRBdHRyaWJ1dGUoJ2N1cnNvcicsIHN0eWxlKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIENoYXJ0QXJlYSBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBBcmVhIH0gZnJvbSAnLi9BcmVhJztcblxuZXhwb3J0IGNsYXNzIFlBcmVhIGV4dGVuZHMgQXJlYSB7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNlbGw6IEhUTUxUYWJsZUNlbGxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNlbGw6IEhUTUxUYWJsZUNlbGxFbGVtZW50LFxuICAgICAgICBvZmZzZXQ6IElQb2ludCxcbiAgICAgICAgc2l6ZTogSVNpemVcbiAgICAgICAgKSB7XG4gICAgICAgIHN1cGVyKG9mZnNldCwgc2l6ZSk7XG4gICAgICAgIHRoaXMuY2VsbCA9IGNlbGw7XG5cbiAgICAgICAgY2VsbC5zdHlsZS5zZXRQcm9wZXJ0eSgncGFkZGluZycsICcwJyk7XG5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB0aGlzLnNpemUud2lkdGggKyAncHgnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCdoZWlnaHQnLCB0aGlzLl9zaXplLmhlaWdodCArICdweCcpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2FudmFzZXMoZGl2LCB0aGlzLl9zaXplLndpZHRoLCB0aGlzLl9zaXplLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcikge1xuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLmNlbGwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzBdO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICBzdXBlci5yZXNpemUodywgaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgWEFyZWEgZXh0ZW5kcyBBcmVhIHtcblxuICAgIHByaXZhdGUgcm93OiBIVE1MVGFibGVSb3dFbGVtZW50O1xuICAgIHByaXZhdGUgeEF4aXNIZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByb3c6IEhUTUxUYWJsZVJvd0VsZW1lbnQsXG4gICAgICAgIG9mZnNldDogSVBvaW50LFxuICAgICAgICBzaXplOiBJU2l6ZSxcbiAgICAgICAgeEF4aXNIZWlnaHQ6IG51bWJlclxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcblxuICAgICAgICB0aGlzLnJvdyA9IHJvdztcbiAgICAgICAgdGhpcy54QXhpc0hlaWdodCA9IHhBeGlzSGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgwKTtcbiAgICAgICAgY2VsbC5zdHlsZS5zZXRQcm9wZXJ0eSgncGFkZGluZycsICcwJyk7XG5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCB0aGlzLl9zaXplLndpZHRoICsgJ3B4Jyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgdGhpcy5fc2l6ZS5oZWlnaHQgKyAncHgnKTtcblxuICAgICAgICB0aGlzLmFwcGVuZENhbnZhc2VzKGRpdiwgdGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNpemUodzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgLy8gcmVzaXplIEhUTUwgZWxlbWVudFxuICAgICAgICBjb25zdCBjZWxsc0NvdW50ID0gdGhpcy5yb3cuY2VsbHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBkaXYgPSB0aGlzLnJvdy5jZWxsc1tjZWxsc0NvdW50IC0gMV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzBdO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICBzdXBlci5yZXNpemUodywgaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcnRBcmVhIGV4dGVuZHMgQXJlYSB7XG5cbiAgICBwcml2YXRlIHJvdzogSFRNTFRhYmxlUm93RWxlbWVudDtcbiAgICBwcml2YXRlIHlBcmVhOiBZQXJlYTtcbiAgICBwcml2YXRlIHhBcmVhOiBYQXJlYTtcbiAgICBwcml2YXRlIHlBeGlzV2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIHF0Q29udGF0ZXI6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJvdzogSFRNTFRhYmxlUm93RWxlbWVudCxcbiAgICAgICAgb2Zmc2V0OiBJUG9pbnQsXG4gICAgICAgIHNpemU6IElTaXplLFxuICAgICAgICB5QXhpc1dpZHRoOiBudW1iZXIsXG4gICAgICAgIHhBcmVhOiBYQXJlYVxuICAgICAgICApIHtcbiAgICAgICAgc3VwZXIob2Zmc2V0LCBzaXplKTtcblxuICAgICAgICB0aGlzLnJvdyA9IHJvdztcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0geUF4aXNXaWR0aDtcbiAgICAgICAgdGhpcy54QXJlYSA9IHhBcmVhO1xuXG4gICAgICAgIGNvbnN0IGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgwKTtcbiAgICAgICAgY2VsbC5zdHlsZS5zZXRQcm9wZXJ0eSgncGFkZGluZycsICcwJyk7XG4gICAgICAgIGNlbGwuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICAgIGRpdi5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgdGhpcy5fc2l6ZS5oZWlnaHQgKyAncHgnKTtcbiAgICAgICAgZGl2LnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIHRoaXMuX3NpemUud2lkdGggKyAncHgnKTtcblxuICAgICAgICB0aGlzLmFwcGVuZENhbnZhc2VzKGRpdiwgdGhpcy5fc2l6ZS53aWR0aCwgdGhpcy5fc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIHF1aWNrdGlwc1xuICAgICAgICB0aGlzLnF0Q29udGF0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5xdENvbnRhdGVyLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgICB0aGlzLnF0Q29udGF0ZXIuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsICc1cHgnKTtcbiAgICAgICAgdGhpcy5xdENvbnRhdGVyLnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgJzVweCcpO1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKHRoaXMucXRDb250YXRlcik7XG5cbiAgICAgICAgLy8gY3JlYXRlIHkgYXhpcyBhcmVhXG4gICAgICAgIGNvbnN0IHljZWxsID0gdGhpcy5yb3cuaW5zZXJ0Q2VsbCgtMSk7XG4gICAgICAgIHRoaXMueUFyZWEgPSBuZXcgWUFyZWEoeWNlbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHdpZHRoOiB0aGlzLnlBeGlzV2lkdGgsIGhlaWdodDogdGhpcy5zaXplLmhlaWdodCB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHF0aXBDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5xdENvbnRhdGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRYQXJlYSgpIDogWEFyZWEge1xuICAgICAgICByZXR1cm4gdGhpcy54QXJlYTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WUFyZWEoKSA6IFlBcmVhIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueUFyZWE7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyQmFzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMueUFyZWEpIHtcbiAgICAgICAgICAgIHRoaXMueUFyZWEuY2xlYXJCYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuY2xlYXJCYXNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyRnJvbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnlBcmVhKSB7XG4gICAgICAgICAgICB0aGlzLnlBcmVhLmNsZWFyRnJvbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5jbGVhckZyb250KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG4gICAgICAgIHRoaXMueUFyZWEucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2l6ZSh3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xuXG4gICAgICAgIC8vIHJlc2l6ZSBIVE1MIGVsZW1lbnRzXG4gICAgICAgIC8vIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaiArPSAxKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBkaXYgPSB0aGlzLnRhYmxlLnJvd3MuaXRlbShpKS5jZWxsc1tqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JylbMF07XG4gICAgICAgIC8vICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIChpID09PSAwID8gZGggKiAyIDogZGgpICsgJ3B4Jyk7XG4gICAgICAgIC8vICAgICBpZiAoaiA9PT0gMSkgeyBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgZHcgKyAncHgnKTsgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5yb3cuY2VsbHNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpWzBdO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgdyArICdweCcpO1xuICAgICAgICBkaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIGggKyAncHgnKTtcblxuICAgICAgICBpZiAodGhpcy55QXJlYSkge1xuICAgICAgICAgICAgdGhpcy55QXJlYS5yZXNpemUodGhpcy55QXhpc1dpZHRoLCBoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlc2l6ZSh3LCBoKTtcbiAgICB9XG59XG4iLCIvKipcclxuICogU2l6ZUNoYW5nZWRFdmVudCBjbGFzc1xyXG4gKi9cclxuaW1wb3J0IHsgRXZlbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaXplQ2hhbmdlZEV2ZW50IGV4dGVuZHMgRXZlbnQ8U2l6ZUNoYW5nZWRBcmd1bWVudD4ge1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2l6ZUNoYW5nZWRBcmd1bWVudCB7XHJcbiAgICBwcml2YXRlIHM6IElTaXplO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNpemU6IElTaXplKSB7XHJcbiAgICAgICAgdGhpcy5zID0gc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucztcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogRXhwb3J0cyBvZiBMYXlvdXQgbW9kdWxlLlxyXG4gKi9cclxuaW1wb3J0IHsgQXJlYSB9IGZyb20gJy4vQXJlYSc7XHJcbmltcG9ydCB7IEJvYXJkQXJlYSB9IGZyb20gJy4vQm9hcmRBcmVhJztcclxuaW1wb3J0IHsgQ2hhcnRBcmVhLCBYQXJlYSwgWUFyZWEgfSBmcm9tICcuL0NoYXJ0QXJlYSc7XHJcbmltcG9ydCB7IFNpemVDaGFuZ2VkQXJndW1lbnQsIFNpemVDaGFuZ2VkRXZlbnQgfSBmcm9tICcuL1NpemVDaGFuZ2VkRXZlbnQnO1xyXG5leHBvcnQge1xyXG4gICAgQXJlYSxcclxuICAgIEJvYXJkQXJlYSxcclxuICAgIENoYXJ0QXJlYSxcclxuICAgIFNpemVDaGFuZ2VkQXJndW1lbnQsXHJcbiAgICBTaXplQ2hhbmdlZEV2ZW50LFxyXG4gICAgWEFyZWEsXHJcbiAgICBZQXJlYVxyXG59XHJcbiIsIi8qKlxuICogQ2FuZGxlIGNsYXNzLlxuICovXG5pbXBvcnQgeyBJSGFzaFRhYmxlIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElUaW1lVmFsdWUsIElVaWRWYWx1ZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBVaWQge1xuICAgIHB1YmxpYyB0OiBEYXRlO1xuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIHVuaXF1ZW5lc3Mgd2hlbiB0IGRhdGUgaXMgcmVwZWF0ZWQuXG4gICAgICovXG4gICAgcHVibGljIG46IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih0PzogRGF0ZSwgbj86IG51bWJlcikge1xuICAgICAgICB0aGlzLnQgPSB0IHx8IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubiA9IG4gfHwgMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB0d28gVWlkcy5cbiAgICAgKiBSZXR1cm5zIC0xIGlmIHRoaXMgb2JqZWN0IGlzIGxlc3MsIDAgLSBpZiBlcXVhbCwgMSAtIGlmIGdyZWF0ZXIgdGhhbiBvdGhlci5cbiAgICAgKiBAcGFyYW0gb3RoZXIgVWlkIHRvIGNvbXBhcmUgd2l0aC5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29tcGFyZShvdGhlcjogVWlkKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKG90aGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0aGlzVGltZSA9IHRoaXMudC5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBvdGhlclRpbWUgPSBvdGhlci50LmdldFRpbWUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzVGltZSA+IG90aGVyVGltZSB8fCAodGhpc1RpbWUgPT09IG90aGVyVGltZSAmJiB0aGlzLm4gPiBvdGhlci5uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzVGltZSA9PT0gb3RoZXJUaW1lICYmIHRoaXMubiA9PT0gb3RoZXIubikgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBpcyBub3QgZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogVWlkKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChvdGhlcikge1xuICAgICAgICAgICAgaWYgKG90aGVyID09PSB0aGlzKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICBpZiAob3RoZXIudC5nZXRUaW1lKCkgPT09IHRoaXMudC5nZXRUaW1lKCkgJiYgb3RoZXIubiA9PT0gdGhpcy5uKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbWluKC4uLnVpZHM6IFVpZFtdKTogVWlkIHtcbiAgICAgICAgaWYgKHVpZHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBpcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWluOiBVaWQgPSB1aWRzWzBdO1xuICAgICAgICB1aWRzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgbWluID0gbWluID8gKG1pbi5jb21wYXJlKHZhbHVlKSA8PSAwID8gbWluIDogdmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbWF4KC4uLnVpZHM6IFVpZFtdKTogVWlkIHtcbiAgICAgICAgaWYgKHVpZHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBpcyBub3Qgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4OiBVaWQgPSB1aWRzWzBdO1xuICAgICAgICB1aWRzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgbWF4ID0gbWF4ID8gKG1heC5jb21wYXJlKHZhbHVlKSA+PSAwID8gbWF4IDogdmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhbmRsZXN0aWNrIGltcGxlbWVudHMgSVRpbWVWYWx1ZSwgSVVpZFZhbHVlIHtcblxuICAgIHB1YmxpYyB1aWQ6IFVpZCA9IG5ldyBVaWQoKTtcbiAgICBwdWJsaWMgYz86IG51bWJlcjtcbiAgICBwdWJsaWMgbz86IG51bWJlcjtcbiAgICBwdWJsaWMgaD86IG51bWJlcjtcbiAgICBwdWJsaWMgbD86IG51bWJlcjtcbiAgICBwdWJsaWMgZXh0OiBJSGFzaFRhYmxlPG51bWJlcj4gPSB7fTtcblxuICAgIHB1YmxpYyBnZXQgZGF0ZSgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWlkLnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBkYXRlKGQ6IERhdGUpIHtcbiAgICAgICAgdGhpcy51aWQudCA9IGQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZGF0ZTogRGF0ZSwgYz86IG51bWJlciwgbz86IG51bWJlciwgaD86IG51bWJlciwgbD86IG51bWJlcikge1xuICAgICAgICB0aGlzLnVpZC50ID0gZGF0ZTtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5vID0gbztcbiAgICAgICAgdGhpcy5oID0gaDtcbiAgICAgICAgdGhpcy5sID0gbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWVzKCk6IG51bWJlcltdIHtcbiAgICAgICAgY29uc3QgYXI6IG51bWJlcltdID0gW107XG4gICAgICAgIGlmICh0aGlzLmMgIT09IHVuZGVmaW5lZCkgeyBhci5wdXNoKHRoaXMuYyk7IH1cbiAgICAgICAgaWYgKHRoaXMubyAhPT0gdW5kZWZpbmVkKSB7IGFyLnB1c2godGhpcy5vKTsgfVxuICAgICAgICBpZiAodGhpcy5oICE9PSB1bmRlZmluZWQpIHsgYXIucHVzaCh0aGlzLmgpOyB9XG4gICAgICAgIGlmICh0aGlzLmwgIT09IHVuZGVmaW5lZCkgeyBhci5wdXNoKHRoaXMubCk7IH1cbiAgICAgICAgcmV0dXJuIGFyO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXNlcmlhbGl6ZShkYXRhOiBhbnkpIHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmMgIT09IHVuZGVmaW5lZCkgeyB0aGlzLmMgPSBkYXRhLmM7IH1cbiAgICAgICAgICAgIGlmIChkYXRhLm8gIT09IHVuZGVmaW5lZCkgeyB0aGlzLm8gPSBkYXRhLm87IH1cbiAgICAgICAgICAgIGlmIChkYXRhLmggIT09IHVuZGVmaW5lZCkgeyB0aGlzLmggPSBkYXRhLmg7IH1cbiAgICAgICAgICAgIGlmIChkYXRhLmwgIT09IHVuZGVmaW5lZCkgeyB0aGlzLmwgPSBkYXRhLmw7IH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZyhwcmVjaXNpb246IG51bWJlcikge1xuICAgICAgICByZXR1cm4gYCBPOiR7dGhpcy5vICE9PSB1bmRlZmluZWQgPyB0aGlzLm8udG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YFxuICAgICAgICAgICAgKyBgIEg6JHt0aGlzLmggIT09IHVuZGVmaW5lZCA/IHRoaXMuaC50b0ZpeGVkKHByZWNpc2lvbikgOiAnbi9hJ31gXG4gICAgICAgICAgICArIGAgTDoke3RoaXMubCAhPT0gdW5kZWZpbmVkID8gdGhpcy5sLnRvRml4ZWQocHJlY2lzaW9uKSA6ICduL2EnfWBcbiAgICAgICAgICAgICsgYCBDOiR7dGhpcy5jICE9PSB1bmRlZmluZWQgPyB0aGlzLmMudG9GaXhlZChwcmVjaXNpb24pIDogJ24vYSd9YDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFBvaW50IGNsYXNzLlxuICovXG5pbXBvcnQgeyBJVGltZVZhbHVlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFBvaW50IGltcGxlbWVudHMgSVRpbWVWYWx1ZSB7XG4gICAgcHVibGljIHVpZDogc3RyaW5nID0gJzAnO1xuICAgIHB1YmxpYyBkYXRlOiBEYXRlO1xuICAgIHB1YmxpYyB2YWx1ZT86IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGQ6IERhdGUsIHY/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlcygpOiBudW1iZXJbXSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMudmFsdWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc2VyaWFsaXplKGRhdGE6IGFueSkge1xuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcblxyXG5pbXBvcnQgeyBDYW5kbGVzdGljaywgVWlkIH0gZnJvbSAnLi9DYW5kbGVzdGljayc7XHJcbmltcG9ydCB7IElUaW1lVmFsdWUsIElVaWRWYWx1ZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XHJcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi9Qb2ludCc7XHJcblxyXG5leHBvcnQge1xyXG4gICAgQ2FuZGxlc3RpY2ssXHJcbiAgICBJVGltZVZhbHVlLFxyXG4gICAgSVVpZFZhbHVlLFxyXG4gICAgUG9pbnQsXHJcbiAgICBVaWRcclxufTtcclxuIiwi77u/LyoqXG4gKiBDYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXJcbiAqIFxuICogQGNsYXNzZGVzYyBSZW5kZXJzIHNwZWNpZmllZCBkYXRhIGluIGEgZm9ybSBvZiBjYW5kbGVzdGljayBjaGFydC5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJVGltZUF4aXMsIFNldHRpbmdTZXQsIFNldHRpbmdUeXBlIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljayB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IFJlbmRlclV0aWxzIH0gZnJvbSAnLi9SZW5kZXJVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBDYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+ICB7XG5cbiAgICBwcml2YXRlIHNldHRpbmdzID0gbmV3IENhbmRsZVJlbmRlclNldHRpbmdzKCk7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbkNhbmRsZVdpZHRoID0gMTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heENhbmRsZVdpZHRoID0gMjE7XG5cbiAgICBwdWJsaWMgcmVuZGVyKFxuICAgICAgICBjYW52YXM6IElDYW52YXMsXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcblxuICAgICAgICAvLyBSZW5kZXJcbiAgICAgICAgLy9cblxuICAgICAgICAvLyBib3JkZXIgbGluZXNcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMzMzMzMzMnKTtcbiAgICAgICAgLy8gLi4uIGxlZnRcbiAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54LCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gYm90dG9tXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xuICAgICAgICAvLyAuLi4gcmlnaHRcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkpO1xuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgY29uc3QgY29sb3JEb3duID0gdGhpcy5zZXR0aW5ncy5jb2xvckRvd247XG4gICAgICAgIGNvbnN0IGNvbG9yVXAgPSB0aGlzLnNldHRpbmdzLmNvbG9yVXA7XG4gICAgICAgIGNvbnN0IGNvbG9yQm9yZGVyID0gdGhpcy5zZXR0aW5ncy5jb2xvckJvcmRlcjtcblxuICAgICAgICBjb25zdCBjYW5kbGVXID0gdGhpcy5jYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xuXG4gICAgICAgIGNhbnZhcy5saW5lV2lkdGggPSAxO1xuXG4gICAgICAgIC8vIFNlcGFyYXRlIHJlbmRlcmluZyBvZiBsaW5lcyB3aXRoIGRpZmZlcmVudCBjb2xvcnNcbiAgICAgICAgLy8gdG8gbWluaW1pemUgc3RhdGUgY2hhbmdlcy5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKGNhbmRsZVcgPiAyKSB7XG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoY29sb3JCb3JkZXIpO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTaGFkb3dzKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuXG4gICAgICAgICAgICAvLyB1cCBib2RpZXNcbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoY29sb3JVcCk7XG4gICAgICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChjYW5kbGUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJvZHkoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGNhbmRsZVcsIHgsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGRvd24gYm9kaWVzXG4gICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKGNvbG9yRG93bik7XG4gICAgICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChjYW5kbGUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJvZHkoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGNhbmRsZVcsIHgsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW5kZXIgZG93biBsaW5lc1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yRG93bik7XG4gICAgICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChjYW5kbGUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxpbmUoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGNhbmRsZVcsIHgsIGNvbG9yRG93biwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIC8vIHJlbmRlciB1cCBsaW5lc1xuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yVXApO1xuICAgICAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMaW5lKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4LCBjb2xvclVwLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcbiAgICAgICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXG4gICAgICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXG4gICAgICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgbGV0IGNhbmRsZUhpdDogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcblxuICAgICAgICAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnRlc3RIaXRBcmVhQ2FuZGxlKGhpdFBvaW50LCB0aW1lQXhpcywgeUF4aXMsIGRhdGFJdGVyYXRvci5jdXJyZW50LCBjYW5kbGVXKSkge1xuICAgICAgICAvLyAgICAgICAgIGNhbmRsZUhpdCA9IGRhdGFJdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgcmV0dXJuIGNhbmRsZUhpdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRlc3RIaXRBcmVhQ2FuZGxlKFxuICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPixcbiAgICAgICAgY2FuZGxlOiBDYW5kbGVzdGljayxcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSB0aW1lQXhpcy50b1goY2FuZGxlLnVpZCk7XG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xuICAgICAgICAgICAgcmV0dXJuIChoaXRQb2ludC54ID49IGJvZHkueCAmJiBoaXRQb2ludC54IDw9IChib2R5LnggKyBib2R5LncpXG4gICAgICAgICAgICAgICAgICAgICYmIGhpdFBvaW50LnkgPj0gYm9keS55ICYmIGhpdFBvaW50LnkgPD0gKGJvZHkueSArIGJvZHkuaCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclNoYWRvd3MoXG4gICAgICAgIGNhbnZhczogSUNhbnZhcywgdGltZUF4aXM6IElUaW1lQXhpcywgeUF4aXM6IElBeGlzPG51bWJlcj4sIGNhbmRsZTogQ2FuZGxlc3RpY2ssIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyLCB4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcbiAgICAgICAgY29uc3QgaCA9IHlBeGlzLnRvWChjYW5kbGUuaCk7XG4gICAgICAgIGNvbnN0IGwgPSB5QXhpcy50b1goY2FuZGxlLmwpO1xuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBsLCB4LCBoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckJvZHkoXG4gICAgICAgIGNhbnZhczogSUNhbnZhcywgdGltZUF4aXM6IElUaW1lQXhpcywgeUF4aXM6IElBeGlzPG51bWJlcj4sIGNhbmRsZTogQ2FuZGxlc3RpY2ssIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyLCB4OiBudW1iZXIsIHVwOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNhbGN1bGF0ZUJvZHkoeCwgeUF4aXMsIGNhbmRsZS5vLCBjYW5kbGUuYywgY2FuZGxlVyk7XG5cbiAgICAgICAgaWYgKCh1cCAmJiBjYW5kbGUuYyA+IGNhbmRsZS5vKSB8fCAoIXVwICYmIGNhbmRsZS5jIDw9IGNhbmRsZS5vKSkge1xuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckxpbmUoXG4gICAgICAgIGNhbnZhczogSUNhbnZhcywgdGltZUF4aXM6IElUaW1lQXhpcywgeUF4aXM6IElBeGlzPG51bWJlcj4sIGNhbmRsZTogQ2FuZGxlc3RpY2ssIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyLCB4OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIHVwOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcblxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xuXG4gICAgICAgIGlmICgodXAgJiYgY2FuZGxlLmMgPiBjYW5kbGUubykgfHwgKCF1cCAmJiBjYW5kbGUuYyA8PSBjYW5kbGUubykpIHtcbiAgICAgICAgICAgIHRoaXMubGluZShjYW52YXMsIHgsIGJvZHkueSwgeCwgYm9keS55ICsgYm9keS5oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlQm9keSh4OiBudW1iZXIsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBvOiBudW1iZXIsIGM6IG51bWJlciwgY2FuZGxlVzogbnVtYmVyKTogSVJlY3Qge1xuICAgICAgICBjb25zdCBvY01pbiA9IHlBeGlzLnRvWChNYXRoLm1heChvLCBjKSk7IC8vIEludmVydGVkIFlcbiAgICAgICAgY29uc3Qgb2NNYXggPSB5QXhpcy50b1goTWF0aC5taW4obywgYykpO1xuICAgICAgICByZXR1cm4geyB4OiB4IC0gTWF0aC5mbG9vcihjYW5kbGVXIC8gMiksIHk6IG9jTWluLCB3OiBjYW5kbGVXLCBoOiBvY01heCAtIG9jTWluIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXM6IElUaW1lQXhpcywgZnJhbWVXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcblxuICAgICAgICBjb25zdCBjYW5kbGVzQ291bnQgPSB0aW1lQXhpcy5jb3VudDsgLy8gIHJhbmdlIC8gdGltZUF4aXMuaW50ZXJ2YWw7XG4gICAgICAgIGxldCB3ID0gZnJhbWVXaWR0aCAvICgzICogY2FuZGxlc0NvdW50KTtcblxuICAgICAgICBpZiAodyA8IDEuMykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ID0gTWF0aC5jZWlsKHcpO1xuICAgICAgICAgICAgdyA9IHcgKyAoKHcgKyAxKSAlIDIpO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5tYXhDYW5kbGVXaWR0aCwgdyk7XG4gICAgICAgIH1cbiAgIH1cblxuICAgIHByaXZhdGUgbGluZShjYW52YXM6IElDYW52YXMsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY2FudmFzLm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICBjYW52YXMubGluZVRvKHgyLCB5Mik7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ3Zpc3VhbCcsIGdyb3VwOiB0cnVlLCBkaXNwbGF5TmFtZTogJ3Zpc3VhbCcgfSk7XG5cbiAgICAgICAgc2V0dGluZ3Muc2V0U2V0dGluZygnY29sb3JVcCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvclVwJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUmlzaW5nIGNvbG9yJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yVXAudG9TdHJpbmcoKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgc2V0dGluZ3Muc2V0U2V0dGluZygnY29sb3JEb3duJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yRG93bicsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0ZhbGxpbmcgY29sb3InLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3JEb3duLnRvU3RyaW5nKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHNldHRpbmdzLnNldFNldHRpbmcoJ2NvbG9yQm9yZGVyJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yQm9yZGVyJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQm9yZGVyIGNvbG9yJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLmNvbG9yQm9yZGVyLnRvU3RyaW5nKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBzZXR0aW5ncztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U2V0dGluZ3ModmFsdWU6IFNldHRpbmdTZXQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29sb3JVcCA9IHZhbHVlLmdldFNldHRpbmcoJ3Zpc3VhbC5jb2xvclVwJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3JVcCA9IChjb2xvclVwICYmIGNvbG9yVXAudmFsdWUpID8gY29sb3JVcC52YWx1ZSA6IHRoaXMuc2V0dGluZ3MuY29sb3JVcDtcblxuICAgICAgICBjb25zdCBjb2xvckRvd24gPSB2YWx1ZS5nZXRTZXR0aW5nKCd2aXN1YWwuY29sb3JEb3duJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3JEb3duID0gKGNvbG9yRG93biAmJiBjb2xvckRvd24udmFsdWUpID8gY29sb3JEb3duLnZhbHVlIDogdGhpcy5zZXR0aW5ncy5jb2xvckRvd247XG5cbiAgICAgICAgY29uc3QgY29sb3JCb3JkZXIgPSB2YWx1ZS5nZXRTZXR0aW5nKCd2aXN1YWwuY29sb3JCb3JkZXInKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5jb2xvckJvcmRlciA9IChjb2xvckJvcmRlciAmJiBjb2xvckJvcmRlci52YWx1ZSkgPyBjb2xvckJvcmRlci52YWx1ZSA6IHRoaXMuc2V0dGluZ3MuY29sb3JCb3JkZXI7XG4gICAgfVxufVxuXG5jbGFzcyBDYW5kbGVSZW5kZXJTZXR0aW5ncyB7XG4gICAgcHVibGljIGNvbG9yVXAgPSAgJyM1OUU0NTknO1xuICAgIHB1YmxpYyBjb2xvckRvd24gPSAnI0YwM0EzRCc7XG4gICAgcHVibGljIGNvbG9yQm9yZGVyID0gJyMzMzMzMzMnO1xufVxuIiwiLyoqXHJcbiAqIENhbmRsZXN0aWNrUG9wdXBSZW5kZXJlciBjbGFzcy5cclxuICovXHJcbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSVBvcHVwUmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDYW5kbGVzdGlja1BvcHVwUmVuZGVyZXIgaW1wbGVtZW50cyBJUG9wdXBSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFkZGluZ0xlZnQgPSA1O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nVG9wID0gNTtcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgbW9kZWw6IENhbmRsZXN0aWNrLCBwb2ludDogSVBvaW50LCBmcmFtZVNpemU6IElTaXplLCBwcmVjaXNpb246IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSAyMDtcclxuICAgICAgICBjb25zdCB3ID0gOTA7XHJcbiAgICAgICAgY29uc3QgaCA9IGxpbmVIZWlnaHQgKiA0ICsgdGhpcy5wYWRkaW5nVG9wICogMjtcclxuICAgICAgICBjb25zdCB4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9pbnQueCwgZnJhbWVTaXplLndpZHRoIC0gdykpO1xyXG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb2ludC55LCBmcmFtZVNpemUuaGVpZ2h0IC0gaCkpO1xyXG5cclxuICAgICAgICBjb25zdCBhbHBoYSA9IGNhbnZhcy5nbG9iYWxBbHBoYTtcclxuICAgICAgICBjYW52YXMuZ2xvYmFsQWxwaGEgPSAwLjg7XHJcblxyXG4gICAgICAgIC8vIGJvcmRlclxyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnI0MwQzBDMCcpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2VSZWN0KHgsIHksIHcsIGgpO1xyXG5cclxuICAgICAgICAvLyBmaWxsXHJcbiAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI0YyRjJGMicpO1xyXG4gICAgICAgIGNhbnZhcy5maWxsUmVjdCh4LCB5LCB3LCBoKTtcclxuXHJcbiAgICAgICAgLy8gdGV4dFxyXG4gICAgICAgIGNhbnZhcy5mb250ID0gJzEwcHggQXJpYWwnO1xyXG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnYmxhY2snO1xyXG4gICAgICAgIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLlRvcCk7XHJcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KGBPOiAkeyB0aGlzLmZvcm1hdFZhbHVlKG1vZGVsLm8sIHByZWNpc2lvbikgfWAsIHggKyB0aGlzLnBhZGRpbmdMZWZ0LCB5ICsgdGhpcy5wYWRkaW5nVG9wKTtcclxuICAgICAgICBjYW52YXMuZmlsbFRleHQoYEM6ICR7IHRoaXMuZm9ybWF0VmFsdWUobW9kZWwuYywgcHJlY2lzaW9uKSB9YCwgeCArIHRoaXMucGFkZGluZ0xlZnQsIHkgKyB0aGlzLnBhZGRpbmdUb3AgKyBsaW5lSGVpZ2h0KTtcclxuICAgICAgICBjYW52YXMuZmlsbFRleHQoYEg6ICR7IHRoaXMuZm9ybWF0VmFsdWUobW9kZWwuaCwgcHJlY2lzaW9uKSB9YCwgeCArIHRoaXMucGFkZGluZ0xlZnQsIHkgKyB0aGlzLnBhZGRpbmdUb3AgKyAyICogbGluZUhlaWdodCk7XHJcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KGBMOiAkeyB0aGlzLmZvcm1hdFZhbHVlKG1vZGVsLmwsIHByZWNpc2lvbikgfWAsIHggKyB0aGlzLnBhZGRpbmdMZWZ0LCB5ICsgdGhpcy5wYWRkaW5nVG9wICsgMyAqIGxpbmVIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyByZXN0b3JlIGdsb2JhbCB2YWx1ZVxyXG4gICAgICAgIGNhbnZhcy5nbG9iYWxBbHBoYSA9IGFscGhhO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZm9ybWF0VmFsdWUobjogbnVtYmVyIHwgdW5kZWZpbmVkLCBwcmVjaXNpb246IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIChuICE9PSB1bmRlZmluZWQpID8gbi50b0ZpeGVkKHByZWNpc2lvbikgOiAnJztcclxuICAgIH1cclxufVxyXG4iLCIvKipcbiAqIFxuICovXG5pbXBvcnQgeyBJQ2FudmFzLCBMaW5lUGF0dGVybiB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0LCBTZXR0aW5nVHlwZSwgVGltZUludGVydmFsIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcnRSZW5kZXJlciB7XG5cbiAgICBwcm90ZWN0ZWQgc2V0dGluZ3MgPSBuZXcgUmVuZGVyU2V0dGluZ3MoKTtcblxuICAgIHByb3RlY3RlZCBnZXRab25lc1NldHRpbmdzKCk6IFNldHRpbmdTZXQge1xuXG4gICAgICAgIGNvbnN0IHRvcGxpbmVHcm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ3RvcGxpbmUnLCBncm91cDogdHJ1ZSwgZGlzcGxheU5hbWU6ICdUb3AgbGluZScgfSk7XG5cbiAgICAgICAgdG9wbGluZUdyb3VwLnNldFNldHRpbmcoJ2NvbG9yJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmVjb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0b3BsaW5lR3JvdXAuc2V0U2V0dGluZygncGF0dGVybicsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdwYXR0ZXJuJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmVwYXR0ZXJuLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuc2VsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgdmFsdWU6IExpbmVQYXR0ZXJuLlNvbGlkLnRvU3RyaW5nKCksIHRleHQ6ICdzb2xpZCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBMaW5lUGF0dGVybi5EYXNoZWQudG9TdHJpbmcoKSwgdGV4dDogJ2Rhc2hlZCcgfSxcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiBMaW5lUGF0dGVybi5Qb2ludGVkLnRvU3RyaW5nKCksIHRleHQ6ICdwb2ludGVkJyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0b3BsaW5lR3JvdXAuc2V0U2V0dGluZygnd2lkdGgnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXdpZHRoLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgYm90dG9tR3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdib3R0b21saW5lJywgZ3JvdXA6IHRydWUsIGRpc3BsYXlOYW1lOiAnQm90dG9tIGxpbmUnIH0pO1xuXG4gICAgICAgIGJvdHRvbUdyb3VwLnNldFNldHRpbmcoJ2NvbG9yJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVjb2xvci50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBib3R0b21Hcm91cC5zZXRTZXR0aW5nKCdwYXR0ZXJuJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3BhdHRlcm4nLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZXBhdHRlcm4udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5zZWxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogTGluZVBhdHRlcm4uU29saWQudG9TdHJpbmcoKSwgdGV4dDogJ3NvbGlkJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IExpbmVQYXR0ZXJuLkRhc2hlZC50b1N0cmluZygpLCB0ZXh0OiAnZGFzaGVkJyB9LFxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IExpbmVQYXR0ZXJuLlBvaW50ZWQudG9TdHJpbmcoKSwgdGV4dDogJ3BvaW50ZWQnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGJvdHRvbUdyb3VwLnNldFNldHRpbmcoJ3dpZHRoJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3dpZHRoJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmV3aWR0aC50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLm51bWVyaWMsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IGZpbGxHcm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ2ZpbGwnLCBncm91cDogdHJ1ZSwgZGlzcGxheU5hbWU6ICdGaWxsIGNvbG9yJyB9KTtcblxuICAgICAgICBmaWxsR3JvdXAuc2V0U2V0dGluZygnZmlsbGVkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2ZpbGxlZCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLmZpbGwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jaGVjayxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZmlsbEdyb3VwLnNldFNldHRpbmcoJ2NvbG9yJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUuZmlsbGNvbG9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY29sb3IsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IGZpbGxPdmVybGFwR3JvdXAgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICdmaWxsb3ZlcmxhcCcsIGdyb3VwOiB0cnVlLCBkaXNwbGF5TmFtZTogJ0ZpbGwgY29sb3JzJyB9KTtcblxuICAgICAgICBmaWxsT3ZlcmxhcEdyb3VwLnNldFNldHRpbmcoJ2ZpbGwnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnZmlsbCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBmaWxsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJydcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGZpbGxPdmVybGFwR3JvdXAuc2V0U2V0dGluZygnY29sb3J1cCcsIG5ldyBTZXR0aW5nU2V0KHtcbiAgICAgICAgICAgIG5hbWU6ICdjb2xvcnVwJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yVXAudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZmlsbE92ZXJsYXBHcm91cC5zZXRTZXR0aW5nKCdjb2xvcmRvd24nLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnY29sb3Jkb3duJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yRG93bi50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICcnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nU2V0KHsgbmFtZTogJ3pvbmVzJywgZ3JvdXA6IHRydWUsIGRpc3BsYXlOYW1lOiAnWm9uZXMnIH0pO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3Zpc2libGUnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAndmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZXR0aW5ncy56b25lLnZpc2libGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5jaGVjayxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVmlzaWJsZSdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ3VwdGhyZXNob2xkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3VwdGhyZXNob2xkJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUudXB0aHJlc2hvbGQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdVcHBlciB0aHJlc2hvbGQnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdsb3d0aHJlc2hvbGQnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnbG93dGhyZXNob2xkJyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNldHRpbmdzLnpvbmUubG93dGhyZXNob2xkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUubnVtZXJpYyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTG93ZXIgdGhyZXNob2xkJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygncHJpY2V2YWx1ZXMnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAncHJpY2V2YWx1ZXMnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS5wcmljZXZhbHVlcy50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNoZWNrLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdWYWx1ZXMgb24gcHJpY2Ugc2NhbGUnXG4gICAgICAgIH0pKTtcblxuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdzaG93dGhyZXNob2xkJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ3Nob3d0aHJlc2hvbGQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Muem9uZS5zaG93dGhyZXNob2xkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBzZXR0aW5nVHlwZTogU2V0dGluZ1R5cGUuY2hlY2ssXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1Nob3cgdGhyZXNob2xkIGxpbmVzJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgZ3JvdXAuc2V0U2V0dGluZygndG9wbGluZScsIHRvcGxpbmVHcm91cCk7XG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2JvdHRvbWxpbmUnLCBib3R0b21Hcm91cCk7XG4gICAgICAgIGdyb3VwLnNldFNldHRpbmcoJ2ZpbGwnLCBmaWxsR3JvdXApO1xuICAgICAgICBncm91cC5zZXRTZXR0aW5nKCdmaWxsb3ZlcmxhcCcsIGZpbGxPdmVybGFwR3JvdXApO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0Wm9uZXNTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCkge1xuICAgICAgICBsZXQgc3Q6IFNldHRpbmdTZXR8dW5kZWZpbmVkO1xuXG4gICAgICAgIHN0ID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMudmlzaWJsZScpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUudmlzaWJsZSA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA9PT0gJ3RydWUnIDogdGhpcy5zZXR0aW5ncy56b25lLnZpc2libGU7XG5cbiAgICAgICAgLy8gc2hvd3RocmVzaG9sZFxuICAgICAgICBzdCA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLnNob3d0aHJlc2hvbGQnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnNob3d0aHJlc2hvbGQgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgPT09ICd0cnVlJyA6IHRoaXMuc2V0dGluZ3Muem9uZS5zaG93dGhyZXNob2xkO1xuXG4gICAgICAgIC8vIHVwdGhyZXNob2xkXG4gICAgICAgIHN0ID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMudXB0aHJlc2hvbGQnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnVwdGhyZXNob2xkID0gKHN0ICYmIHN0LnZhbHVlKSA/IHBhcnNlSW50KHN0LnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnpvbmUudXB0aHJlc2hvbGQ7XG5cbiAgICAgICAgLy8gbG93dGhyZXNob2xkXG4gICAgICAgIHN0ID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMubG93dGhyZXNob2xkJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5sb3d0aHJlc2hvbGQgPSAoc3QgJiYgc3QudmFsdWUpID8gcGFyc2VJbnQoc3QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3Muem9uZS5sb3d0aHJlc2hvbGQ7XG5cbiAgICAgICAgLy8gcHJpY2V2YWx1ZXNcbiAgICAgICAgc3QgPSB2YWx1ZS5nZXRTZXR0aW5nKCd6b25lcy5wcmljZXZhbHVlcycpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUucHJpY2V2YWx1ZXMgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgPT09ICd0cnVlJyA6IHRoaXMuc2V0dGluZ3Muem9uZS5wcmljZXZhbHVlcztcblxuICAgICAgICAvLyB0b3BsaW5lIChjb2xvciwgcGF0dGVybiwgd2lkdGgpXG4gICAgICAgIGNvbnN0IHRvcGxpbmUgPSB2YWx1ZS5nZXRTZXR0aW5nKCd6b25lcy50b3BsaW5lJyk7XG4gICAgICAgIGlmICh0b3BsaW5lKSB7XG4gICAgICAgICAgICBzdCA9IHRvcGxpbmUuZ2V0U2V0dGluZygndG9wbGluZS5jb2xvcicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lY29sb3IgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgOiB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmVjb2xvcjtcblxuICAgICAgICAgICAgc3QgPSB0b3BsaW5lLmdldFNldHRpbmcoJ3RvcGxpbmUucGF0dGVybicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lcGF0dGVybiA9IChzdCAmJiBzdC52YWx1ZSkgPyBwYXJzZUludChzdC52YWx1ZSwgMTApIDogdGhpcy5zZXR0aW5ncy56b25lLnRsaW5lcGF0dGVybjtcblxuICAgICAgICAgICAgc3QgPSB0b3BsaW5lLmdldFNldHRpbmcoJ3RvcGxpbmUud2lkdGgnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS50bGluZXdpZHRoID0gKHN0ICYmIHN0LnZhbHVlKSA/IHBhcnNlSW50KHN0LnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnpvbmUudGxpbmV3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJvdHRvbWxpbmUgKGNvbG9yLCBwYXR0ZXJuLCB3aWR0aClcbiAgICAgICAgY29uc3QgYm90dG9tbGluZSA9IHZhbHVlLmdldFNldHRpbmcoJ3pvbmVzLmJvdHRvbWxpbmUnKTtcbiAgICAgICAgaWYgKGJvdHRvbWxpbmUpIHtcbiAgICAgICAgICAgIHN0ID0gYm90dG9tbGluZS5nZXRTZXR0aW5nKCdib3R0b21saW5lLmNvbG9yJyk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVjb2xvciA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA6IHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZWNvbG9yO1xuXG4gICAgICAgICAgICBzdCA9IGJvdHRvbWxpbmUuZ2V0U2V0dGluZygnYm90dG9tbGluZS5wYXR0ZXJuJyk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVwYXR0ZXJuID0gKHN0ICYmIHN0LnZhbHVlKSA/IHBhcnNlSW50KHN0LnZhbHVlLCAxMCkgOiB0aGlzLnNldHRpbmdzLnpvbmUuYmxpbmVwYXR0ZXJuO1xuXG4gICAgICAgICAgICBzdCA9IGJvdHRvbWxpbmUuZ2V0U2V0dGluZygnYm90dG9tbGluZS53aWR0aCcpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLmJsaW5ld2lkdGggPSAoc3QgJiYgc3QudmFsdWUpID8gcGFyc2VJbnQoc3QudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3Muem9uZS5ibGluZXdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsbCAoZmlsbCwgY29sb3IpXG4gICAgICAgIGNvbnN0IGZpbGwgPSB2YWx1ZS5nZXRTZXR0aW5nKCd6b25lcy5maWxsJyk7XG4gICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICBzdCA9IGZpbGwuZ2V0U2V0dGluZygnZmlsbC5jb2xvcicpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLmZpbGxjb2xvciA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA6IHRoaXMuc2V0dGluZ3Muem9uZS5maWxsY29sb3I7XG5cbiAgICAgICAgICAgIHN0ID0gZmlsbC5nZXRTZXR0aW5nKCdmaWxsLmZpbGxlZCcpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLmZpbGwgPSAoc3QgJiYgc3QudmFsdWUpID8gc3QudmFsdWUgPT09ICd0cnVlJyA6IHRoaXMuc2V0dGluZ3Muem9uZS5maWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsbG92ZXJsYXAgKGZpbGwsIGNvbG9ydXAsIGNvbG9yZG93bilcbiAgICAgICAgY29uc3Qgb3ZybGFwID0gdmFsdWUuZ2V0U2V0dGluZygnem9uZXMuZmlsbG92ZXJsYXAnKTtcbiAgICAgICAgaWYgKG92cmxhcCkge1xuICAgICAgICAgICAgc3QgPSBvdnJsYXAuZ2V0U2V0dGluZygnZmlsbG92ZXJsYXAuZmlsbCcpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy56b25lLm92ZXJsYXBmaWxsID0gKHN0ICYmIHN0LnZhbHVlKSA/IHN0LnZhbHVlID09PSAndHJ1ZScgOiB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGZpbGw7XG5cbiAgICAgICAgICAgIHN0ID0gb3ZybGFwLmdldFNldHRpbmcoJ2ZpbGxvdmVybGFwLmNvbG9ydXAnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwY29sb3JVcCA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA6IHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwY29sb3JVcDtcblxuICAgICAgICAgICAgc3QgPSBvdnJsYXAuZ2V0U2V0dGluZygnZmlsbG92ZXJsYXAuY29sb3Jkb3duJyk7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnpvbmUub3ZlcmxhcGNvbG9yRG93biA9IChzdCAmJiBzdC52YWx1ZSkgPyBzdC52YWx1ZSA6IHRoaXMuc2V0dGluZ3Muem9uZS5vdmVybGFwY29sb3JEb3duO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyU2V0dGluZ3Mge1xuICAgIHB1YmxpYyB6b25lID0gbmV3IFpvbmVTZXR0aW5ncygpO1xufVxuXG5leHBvcnQgY2xhc3MgWm9uZVNldHRpbmdzIHtcbiAgICBwdWJsaWMgdmlzaWJsZSA9IHRydWU7XG4gICAgcHVibGljIHNob3d0aHJlc2hvbGQgPSB0cnVlO1xuICAgIHB1YmxpYyB1cHRocmVzaG9sZCA9IDgwO1xuICAgIHB1YmxpYyBsb3d0aHJlc2hvbGQgPSAyMDtcbiAgICBwdWJsaWMgcHJpY2V2YWx1ZXMgPSBmYWxzZTtcblxuICAgIC8vIFRvcCBsaW5lXG4gICAgcHVibGljIHRsaW5lY29sb3IgPSAnIzU1NTU1NSc7XG4gICAgcHVibGljIHRsaW5lcGF0dGVybiA9IExpbmVQYXR0ZXJuLlNvbGlkO1xuICAgIHB1YmxpYyB0bGluZXdpZHRoID0gMTtcblxuICAgIC8vIEJvdHRvbSBsaW5lXG4gICAgcHVibGljIGJsaW5lY29sb3IgPSAnIzU1NTU1NSc7XG4gICAgcHVibGljIGJsaW5lcGF0dGVybiA9IExpbmVQYXR0ZXJuLlNvbGlkO1xuICAgIHB1YmxpYyBibGluZXdpZHRoID0gMTtcblxuICAgIC8vIEZpbGxcbiAgICBwdWJsaWMgZmlsbCA9IGZhbHNlO1xuICAgIHB1YmxpYyBmaWxsY29sb3IgPSAnIzc3Nzc3Nyc7XG5cbiAgICAvLyBPdmVybGFwXG4gICAgcHVibGljIG92ZXJsYXBmaWxsID0gZmFsc2U7XG4gICAgcHVibGljIG92ZXJsYXBjb2xvclVwID0gJyMzQUEwMDAnO1xuICAgIHB1YmxpYyBvdmVybGFwY29sb3JEb3duID0gJyNDRTAwMDAnO1xufVxuIiwiLyoqXG4gKiBDcm9zc2hhaXJSZW5kZXJlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIENyb3NzaGFpclJlbmRlcmVyIHtcbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgcG9pbnQ6IElQb2ludCwgZnJhbWVTaXplOiBJU2l6ZSk6IHZvaWQge1xuXG4gICAgICAgIC8vIERyYXcgY3Jvc3NoYWlyXG4gICAgICAgIC8vXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnYmxhY2snKTtcbiAgICAgICAgY29uc3QgY3VyRGFzaCA9IGNhbnZhcy5nZXRMaW5lRGFzaCgpO1xuICAgICAgICBjYW52YXMuc2V0TGluZURhc2goWzUsIDVdKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKHBvaW50LnggPiAwICYmIHBvaW50LnggPCBmcmFtZVNpemUud2lkdGgpIHtcbiAgICAgICAgICAgIC8vIGRyYXcgdmVydGljYWwgbGluZVxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyhwb2ludC54LCAwKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8ocG9pbnQueCwgZnJhbWVTaXplLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvaW50LnkgPiAwICYmIHBvaW50LnkgPCBmcmFtZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBkcmF3IGhvcml6b250YWwgbGluZVxuICAgICAgICAgICAgY2FudmFzLm1vdmVUbygwLCBwb2ludC55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWVTaXplLndpZHRoLCBwb2ludC55KTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldExpbmVEYXNoKGN1ckRhc2gpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQXhpc1JlbmRlcmVyXG4gKiBcbiAqIEBjbGFzc2Rlc2MgQ29udGFpbnMgbWV0aG9kcyBmb3IgcmVuZGVyaW5nIGF4ZXMuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgVWlkIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgR3JpZFJlbmRlcmVyIHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLCBmcmFtZTogSVJlY3QsIHhBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyNFQUVBRUEnKTtcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDE7XG5cbiAgICAgICAgLy8gVmVydGljYWwgbGluZXNcbiAgICAgICAgY29uc3QgZ3JpZFggPSB4QXhpcy5nZXRHcmlkKCk7XG4gICAgICAgIGdyaWRYLnJlc2V0KCk7XG4gICAgICAgIHdoaWxlIChncmlkWC5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZ3JpZFguY3VycmVudC54O1xuICAgICAgICAgICAgY2FudmFzLm1vdmVUbyh4LCBmcmFtZS55KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oeCwgZnJhbWUueSArIGZyYW1lLmgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lc1xuICAgICAgICBjb25zdCBncmlkWSA9IHlBeGlzLmdldEdyaWQoKTtcbiAgICAgICAgZm9yIChjb25zdCBiYXIgb2YgZ3JpZFkuYmFycykge1xuICAgICAgICAgICAgaWYgKGJhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChiYXIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3ZlVG8oZnJhbWUueCwgeSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudywgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcbiAgICB9XG59XG4iLCLvu78vKipcclxuICogSG9sbG93c3RpY2tDaGFydFJlbmRlcmVyXHJcbiAqIFxyXG4gKiBAY2xhc3NkZXNjIFJlbmRlcnMgc3BlY2lmaWVkIGRhdGEgaW4gYSBmb3JtIG9mIGhvbGxvdyBjYW5kbGVzIGNoYXJ0LlxyXG4gKi9cclxuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgUmVuZGVyVXRpbHMgfSBmcm9tICcuL1JlbmRlclV0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIb2xsb3dzdGlja0NoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+ICB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtaW5DYW5kbGVXaWR0aCA9IDE7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1heENhbmRsZVdpZHRoID0gMjE7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihcclxuICAgICAgICBjYW52YXM6IElDYW52YXMsXHJcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcclxuICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kbGVXID0gdGhpcy5jYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xyXG5cclxuICAgICAgICBSZW5kZXJVdGlscy5pdGVyYXRlKHRpbWVBeGlzLCBkYXRhSXRlcmF0b3IsIChjYW5kbGUsIHgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW5kbGUoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGNhbmRsZVcsIHgsIGRhdGFJdGVyYXRvci5wcmV2aW91cyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRpbWVBeGlzLnJlc2V0KCk7XHJcbiAgICAgICAgLy8gd2hpbGUgKHRpbWVBeGlzLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VyVWlkID0gdGltZUF4aXMuY3VycmVudDtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VyVGltZSA9IGN1clVpZC50LmdldFRpbWUoKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VybiA9IGN1clVpZC5uO1xyXG4gICAgICAgIC8vICAgICBjb25zdCB4ID0gdGltZUF4aXMuY3VycmVudFg7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3VuZCA9IGRhdGFJdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3Vybik7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3VuZCA9IGRhdGFJdGVyYXRvci5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY3VyVGltZSAmJiBpdGVtLnVpZC5uID09PSBjdXJuKSAhPT0gLTE7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgY2FuZGxlID0gZGF0YUl0ZXJhdG9yLmN1cnJlbnQ7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5yZW5kZXJDYW5kbGUoY2FudmFzLCB0aW1lQXhpcywgeUF4aXMsIGNhbmRsZSwgZnJhbWUsIGNhbmRsZVcsIHgsIGRhdGFJdGVyYXRvci5wcmV2aW91cyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxyXG4gICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXHJcbiAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGxldCBjYW5kbGVIaXQ6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kbGVXID0gdGhpcy5jYWxjdWxhdGVCb2R5V2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xyXG5cclxuICAgICAgICAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMudGVzdEhpdEFyZWFDYW5kbGUoaGl0UG9pbnQsIHRpbWVBeGlzLCB5QXhpcywgZGF0YUl0ZXJhdG9yLmN1cnJlbnQsIGNhbmRsZVcpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjYW5kbGVIaXQgPSBkYXRhSXRlcmF0b3IuY3VycmVudDtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FuZGxlSGl0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGVzdEhpdEFyZWFDYW5kbGUoXHJcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+LFxyXG4gICAgICAgIGNhbmRsZTogQ2FuZGxlc3RpY2ssXHJcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgeCA9IHRpbWVBeGlzLnRvWChjYW5kbGUudWlkKTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcclxuICAgICAgICAgICAgcmV0dXJuIChoaXRQb2ludC54ID49IGJvZHkueCAmJiBoaXRQb2ludC54IDw9IChib2R5LnggKyBib2R5LncpXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgaGl0UG9pbnQueSA+PSBib2R5LnkgJiYgaGl0UG9pbnQueSA8PSAoYm9keS55ICsgYm9keS5oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlckNhbmRsZShcclxuICAgICAgICBjYW52YXM6IElDYW52YXMsIHRpbWVBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBjYW5kbGU6IENhbmRsZXN0aWNrLCBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyLCB4OiBudW1iZXIsXHJcbiAgICAgICAgcHJldkNhbmRsZT86IENhbmRsZXN0aWNrKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbG9yVXAgPSAnIzAwQjcxMic7IC8vIGJsYWNrXHJcbiAgICAgICAgY29uc3QgY29sb3JEb3duID0gJyNFQTAwMDAnOyAvLyByZWRcclxuICAgICAgICBjb25zdCB3aGl0ZSA9ICcjRkZGRkZGJztcclxuXHJcbiAgICAgICAgbGV0IGNvbG9yID0gY29sb3JEb3duOyAvLyBkZWZhdWx0IGNvbG9yXHJcbiAgICAgICAgaWYgKHByZXZDYW5kbGUgJiYgcHJldkNhbmRsZS5jKSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gKGNhbmRsZS5jID4gcHJldkNhbmRsZS5jKSA/IGNvbG9yVXAgOiBjb2xvckRvd247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpc0hvbGxvdyA9IGNhbmRsZS5jID4gY2FuZGxlLm87XHJcblxyXG4gICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xyXG5cclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xyXG4gICAgICAgIGNvbnN0IGggPSB5QXhpcy50b1goY2FuZGxlLmgpO1xyXG4gICAgICAgIGNvbnN0IGwgPSB5QXhpcy50b1goY2FuZGxlLmwpO1xyXG5cclxuICAgICAgICAvLyBTdGFydGluIGRyYXdpbmdcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yKTtcclxuXHJcbiAgICAgICAgaWYgKGJvZHkudyA+IDIpIHtcclxuICAgICAgICAgICAgLy8gRHJhd2luZyB1cHBlciBzaGFkb3dcclxuICAgICAgICAgICAgdGhpcy5saW5lKGNhbnZhcywgeCwgYm9keS55LCB4LCBoICk7XHJcblxyXG4gICAgICAgICAgICAvLyBEcmF3aW5nIGxvd2VyIHNoYWRvd1xyXG4gICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBsLCB4LCBib2R5LnkgKyBib2R5LmggLSAxKTtcclxuXHJcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERyYXdpbmcgYm9keVxyXG4gICAgICAgIGlmIChib2R5LncgPiAyKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0hvbGxvdykge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSh3aGl0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKGNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FudmFzLmZpbGxSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2VSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoY29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBib2R5LnksIHgsIGJvZHkueSArIGJvZHkuaCk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCb2R5KHg6IG51bWJlciwgeUF4aXM6IElBeGlzPG51bWJlcj4sIG86IG51bWJlciwgYzogbnVtYmVyLCBjYW5kbGVXOiBudW1iZXIpOiBJUmVjdCB7XHJcbiAgICAgICAgY29uc3Qgb2NNaW4gPSB5QXhpcy50b1goTWF0aC5tYXgobywgYykpOyAvLyBJbnZlcnRlZCBZXHJcbiAgICAgICAgY29uc3Qgb2NNYXggPSB5QXhpcy50b1goTWF0aC5taW4obywgYykpO1xyXG4gICAgICAgIHJldHVybiB7IHg6IHggLSBNYXRoLmZsb29yKGNhbmRsZVcgLyAyKSwgeTogb2NNaW4sIHc6IGNhbmRsZVcsIGg6IG9jTWF4IC0gb2NNaW4gfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZUJvZHlXaWR0aCh0aW1lQXhpczogSVRpbWVBeGlzLCBmcmFtZVdpZHRoOiBudW1iZXIpOiBudW1iZXIge1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kbGVzQ291bnQgPSB0aW1lQXhpcy5jb3VudDtcclxuICAgICAgICBsZXQgdyA9IGZyYW1lV2lkdGggLyAoMyAqIGNhbmRsZXNDb3VudCk7XHJcblxyXG4gICAgICAgIGlmICh3IDwgMS4zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHcgPSBNYXRoLmNlaWwodyk7XHJcbiAgICAgICAgICAgIHcgPSB3ICsgKCh3ICsgMSkgJSAyKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLm1heENhbmRsZVdpZHRoLCB3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaW5lKGNhbnZhczogSUNhbnZhcywgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICBjYW52YXMubGluZVRvKHgyLCB5Mik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9ICAgIFxyXG59XHJcbiIsIu+7vy8qKlxyXG4gKiBMaW5lQ2hhcnRSZW5kZXJlclxyXG4gKiBcclxuICogQGNsYXNzZGVzYyBSZW5kZXJzIHBvaW50cyBpbiBhIGZvcm0gb2YgbGluZSBjaGFydC5cclxuICovXHJcbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBTZXR0aW5nU2V0IH0gZnJvbSBcIi4uL2NvcmUvU2V0dGluZ1NldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpbmVDaGFydFJlbmRlcmVyIGltcGxlbWVudHMgSUNoYXJ0UmVuZGVyPFBvaW50PiB7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihcclxuICAgICAgICBjYW52YXM6IElDYW52YXMsXHJcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPFBvaW50PixcclxuICAgICAgICAvL2RhdGE6IFBvaW50W10sXHJcbiAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgLy8gLy8gUmVuZGVyXHJcbiAgICAgICAgLy8gLy9cclxuICAgICAgICAvLyAvLyBib3JkZXIgbGluZXNcclxuICAgICAgICAvLyBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgLy8gY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzMzMzMzJyk7XHJcbiAgICAgICAgLy8gLy8gLi4uIGxlZnRcclxuICAgICAgICAvLyBjYW52YXMubW92ZVRvKGZyYW1lLngsIGZyYW1lLnkpO1xyXG4gICAgICAgIC8vIGNhbnZhcy5saW5lVG8oZnJhbWUueCwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcclxuICAgICAgICAvLyAvLyAuLi4gYm90dG9tXHJcbiAgICAgICAgLy8gY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XHJcbiAgICAgICAgLy8gLy8gLi4uIHJpZ2h0XHJcbiAgICAgICAgLy8gY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkpO1xyXG4gICAgICAgIC8vIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgLy8gLy8gU3RhcnQgZHJhd2luZ1xyXG4gICAgICAgIC8vIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICAvLyBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyM1NTU1NTUnKTtcclxuXHJcbiAgICAgICAgLy8gaWYgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgIGxldCB4ID0gdGltZUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmRhdGUpO1xyXG4gICAgICAgIC8vICAgICBsZXQgeSA9IHlBeGlzLnRvWCg8bnVtYmVyPmRhdGFJdGVyYXRvci5jdXJyZW50LnZhbHVlKTtcclxuICAgICAgICAvLyAgICAgY2FudmFzLm1vdmVUbyh4LCB5KTtcclxuICAgICAgICAvLyAgICAgd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZGF0YUl0ZXJhdG9yLmN1cnJlbnQudmFsdWUpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB4ID0gdGltZUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmRhdGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHkgPSB5QXhpcy50b1goPG51bWJlcj5kYXRhSXRlcmF0b3IuY3VycmVudC52YWx1ZSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FudmFzLmxpbmVUbyh4LCB5KTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBjYW52YXMuc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxyXG4gICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPFBvaW50PixcclxuICAgICAgICAvL2RhdGE6IFBvaW50W10sXHJcbiAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBQb2ludCB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIC8vIHdoaWxlIChkYXRhSXRlcmF0b3IubW92ZU5leHQoKSkge1xyXG4gICAgICAgIC8vICAgICBpZiAoZGF0YUl0ZXJhdG9yLmN1cnJlbnQudmFsdWUpIHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCB4ID0gdGltZUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmRhdGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgeSA9IHlBeGlzLnRvWChkYXRhSXRlcmF0b3IuY3VycmVudC52YWx1ZSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgUiA9IE1hdGguc3FydChNYXRoLnBvdyhNYXRoLmFicyh4IC0gaGl0UG9pbnQueCksIDIpICsgTWF0aC5wb3coTWF0aC5hYnMoeSAtIGhpdFBvaW50LnkpLCAyKSk7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoUiA8IDIpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gZGF0YUl0ZXJhdG9yLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFNldHRpbmdzKCk6IFNldHRpbmdTZXQge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2V0dGluZ1NldCgncmVuZGVyZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNldHRpbmdTZXQpOiB2b2lkIHtcclxuICAgIH0gICAgXHJcbn1cclxuIiwiLyoqXG4gKiBMaW5lUG9wdXBSZW5kZXJlciBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJUG9wdXBSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgTGluZVBvcHVwUmVuZGVyZXIgaW1wbGVtZW50cyBJUG9wdXBSZW5kZXI8UG9pbnQ+IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZGRpbmdMZWZ0ID0gNTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZGRpbmdUb3AgPSA1O1xuXG4gICAgcHVibGljIHJlbmRlcihjYW52YXM6IElDYW52YXMsIG1vZGVsOiBQb2ludCwgcG9pbnQ6IElQb2ludCwgZnJhbWVTaXplOiBJU2l6ZSwgcHJlY2lzaW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IDIwO1xuICAgICAgICBjb25zdCB3ID0gOTA7XG4gICAgICAgIGNvbnN0IGggPSBsaW5lSGVpZ2h0ICsgdGhpcy5wYWRkaW5nVG9wICogMjtcbiAgICAgICAgY29uc3QgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvaW50LngsIGZyYW1lU2l6ZS53aWR0aCAtIHcpKTtcbiAgICAgICAgY29uc3QgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvaW50LnksIGZyYW1lU2l6ZS5oZWlnaHQgLSBoKSk7XG5cbiAgICAgICAgY29uc3QgYWxwaGEgPSBjYW52YXMuZ2xvYmFsQWxwaGE7XG4gICAgICAgIGNhbnZhcy5nbG9iYWxBbHBoYSA9IDAuODtcblxuICAgICAgICAvLyBib3JkZXJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjQzBDMEMwJyk7XG4gICAgICAgIGNhbnZhcy5zdHJva2VSZWN0KHgsIHksIHcsIGgpO1xuXG4gICAgICAgIC8vIGZpbGxcbiAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI0YyRjJGMicpO1xuICAgICAgICBjYW52YXMuZmlsbFJlY3QoeCwgeSwgdywgaCk7XG5cbiAgICAgICAgLy8gdGV4dFxuICAgICAgICBjYW52YXMuZm9udCA9ICcxMHB4IEFyaWFsJztcbiAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLlRvcCk7XG4gICAgICAgIGNhbnZhcy5maWxsVGV4dChgJHsgKG1vZGVsLnZhbHVlICE9PSB1bmRlZmluZWQgPyBtb2RlbC52YWx1ZS50b0ZpeGVkKHByZWNpc2lvbikgOiAnJyApIH1gLCB4ICsgdGhpcy5wYWRkaW5nTGVmdCwgeSArIHRoaXMucGFkZGluZ1RvcCk7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBnbG9iYWwgdmFsdWVcbiAgICAgICAgY2FudmFzLmdsb2JhbEFscGhhID0gYWxwaGE7XG4gICAgfVxufVxuIiwi77u/LyoqXG4gKiBMaW5lc3RpY2tDaGFydFJlbmRlcmVyXG4gKiBcbiAqIEBjbGFzc2Rlc2MgUmVuZGVycyBjYW5kbGVzdGlja3MgaW4gYSBmb3JtIG9mIGxpbmUgY2hhcnQuXG4gKi9cbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCwgU2V0dGluZ1R5cGUgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgUmVuZGVyVXRpbHMgfSBmcm9tICcuL1JlbmRlclV0aWxzJztcblxuZXhwb3J0IGNsYXNzIExpbmVzdGlja0NoYXJ0UmVuZGVyZXIgaW1wbGVtZW50cyBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IHtcblxuICAgIHByaXZhdGUgc2V0dGluZ3MgPSBuZXcgUmVuZGVyU2V0dGluZ3MoKTtcblxuICAgIHB1YmxpYyByZW5kZXIoXG4gICAgICAgIGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxuICAgICAgICBmcmFtZTogSVJlY3QsXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XG5cbiAgICAgICAgLy8gUmVuZGVyXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGJvcmRlciBsaW5lc1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzMzMzMzMycpO1xuICAgICAgICAvLyAuLi4gbGVmdFxuICAgICAgICBjYW52YXMubW92ZVRvKGZyYW1lLngsIGZyYW1lLnkpO1xuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLngsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XG4gICAgICAgIC8vIC4uLiBib3R0b21cbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XG4gICAgICAgIC8vIC4uLiByaWdodFxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLnggKyBmcmFtZS53IC0gMSwgZnJhbWUueSk7XG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcblxuICAgICAgICAvLyBTdGFydCBkcmF3aW5nXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKHRoaXMuc2V0dGluZ3MuY29sb3IpO1xuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gdGhpcy5zZXR0aW5ncy53aWR0aDtcblxuICAgICAgICBSZW5kZXJVdGlscy5yZW5kZXJMaW5lQ2hhcnQoY2FudmFzLCBkYXRhSXRlcmF0b3IsIGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogaXRlbS5jIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZyYW1lLCB0aW1lQXhpcywgeUF4aXMsIGZhbHNlKTtcblxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxuICAgICAgICBoaXRQb2ludDogSVBvaW50LFxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxuICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgLy8gd2hpbGUgKGRhdGFJdGVyYXRvci5tb3ZlTmV4dCgpKSB7XG4gICAgICAgIC8vICAgICBpZiAoZGF0YUl0ZXJhdG9yLmN1cnJlbnQuYyAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgLy8gICAgICAgICBjb25zdCB4ID0gdGltZUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmRhdGUpO1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IHkgPSB5QXhpcy50b1goZGF0YUl0ZXJhdG9yLmN1cnJlbnQuYyk7XG5cbiAgICAgICAgLy8gICAgICAgICBjb25zdCBSID0gTWF0aC5zcXJ0KE1hdGgucG93KE1hdGguYWJzKHggLSBoaXRQb2ludC54KSwgMikgKyBNYXRoLnBvdyhNYXRoLmFicyh5IC0gaGl0UG9pbnQueSksIDIpKTtcbiAgICAgICAgLy8gICAgICAgICBpZiAoUiA8IDIpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVyYXRvci5jdXJyZW50O1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ1NldCh7IG5hbWU6ICd2aXN1YWwnLCBncm91cDogdHJ1ZSwgZGlzcGxheU5hbWU6ICd2aXN1YWwnIH0pO1xuXG4gICAgICAgIHNldHRpbmdzLnNldFNldHRpbmcoJ2NvbG9yJywgbmV3IFNldHRpbmdTZXQoe1xuICAgICAgICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ29sb3InLFxuICAgICAgICAgICAgc2V0dGluZ1R5cGU6IFNldHRpbmdUeXBlLmNvbG9yLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3MuY29sb3IudG9TdHJpbmcoKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgc2V0dGluZ3Muc2V0U2V0dGluZygnd2lkdGgnLCBuZXcgU2V0dGluZ1NldCh7XG4gICAgICAgICAgICBuYW1lOiAnd2lkdGgnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdMaW5lIHdpZHRoJyxcbiAgICAgICAgICAgIHNldHRpbmdUeXBlOiBTZXR0aW5nVHlwZS5udW1lcmljLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyh2YWx1ZTogU2V0dGluZ1NldCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb2xvclVwID0gdmFsdWUuZ2V0U2V0dGluZygndmlzdWFsLmNvbG9yJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuY29sb3IgPSAoY29sb3JVcCAmJiBjb2xvclVwLnZhbHVlKSA/IGNvbG9yVXAudmFsdWUgOiB0aGlzLnNldHRpbmdzLmNvbG9yO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdmFsdWUuZ2V0U2V0dGluZygndmlzdWFsLndpZHRoJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mud2lkdGggPSAod2lkdGggJiYgd2lkdGgudmFsdWUpID8gcGFyc2VJbnQod2lkdGgudmFsdWUsIDEwKSA6IHRoaXMuc2V0dGluZ3Mud2lkdGg7XG5cbiAgICAgICAgXG4gICAgfVxufVxuXG5jbGFzcyBSZW5kZXJTZXR0aW5ncyB7XG4gICAgcHVibGljIGNvbG9yID0gJyM1NTU1NTUnO1xuICAgIHB1YmxpYyB3aWR0aCA9IDE7XG59XG4iLCLvu78vKipcclxuICogTW91bnRhaW5DaGFydFJlbmRlcmVyXHJcbiAqIFxyXG4gKiBAY2xhc3NkZXNjIFJlbmRlcnMgY2FuZGxlc3RpY2tzIGluIGEgZm9ybSBvZiBtb3VudGFpbiBjaGFydC5cclxuICovXHJcbmltcG9ydCB7IElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBSZW5kZXJVdGlscyB9IGZyb20gJy4vUmVuZGVyVXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdW50YWluQ2hhcnRSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4ge1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogdm9pZCB7XHJcblxyXG4gICAgICAgIC8vIFJlbmRlclxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gYm9yZGVyIGxpbmVzXHJcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzMzMzMzMycpO1xyXG4gICAgICAgIC8vIC4uLiBsZWZ0XHJcbiAgICAgICAgY2FudmFzLm1vdmVUbyhmcmFtZS54LCBmcmFtZS55KTtcclxuICAgICAgICBjYW52YXMubGluZVRvKGZyYW1lLngsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XHJcbiAgICAgICAgLy8gLi4uIGJvdHRvbVxyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55ICsgZnJhbWUuaCAtIDEpO1xyXG4gICAgICAgIC8vIC4uLiByaWdodFxyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCArIGZyYW1lLncgLSAxLCBmcmFtZS55KTtcclxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IGRyYXdpbmdcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjNTU1NTU1Jyk7XHJcblxyXG4gICAgICAgIFJlbmRlclV0aWxzLnJlbmRlckxpbmVDaGFydChjYW52YXMsIGRhdGFJdGVyYXRvciwgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdWlkOiBpdGVtLnVpZCwgdjogaXRlbS5jIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmcmFtZSwgdGltZUF4aXMsIHlBeGlzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjQ0NFQUYwJztcclxuICAgICAgICBjYW52YXMuZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0ZXN0SGl0QXJlYShcclxuICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgLy9kYXRhOiBDYW5kbGVzdGlja1tdLFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+KTogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQge1xyXG5cclxuICAgICAgICAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKGRhdGFJdGVyYXRvci5jdXJyZW50LmMgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IHggPSB0aW1lQXhpcy50b1goZGF0YUl0ZXJhdG9yLmN1cnJlbnQuZGF0ZSk7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKGRhdGFJdGVyYXRvci5jdXJyZW50LmMpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGNvbnN0IFIgPSBNYXRoLnNxcnQoTWF0aC5wb3coTWF0aC5hYnMoeCAtIGhpdFBvaW50LngpLCAyKSArIE1hdGgucG93KE1hdGguYWJzKHkgLSBoaXRQb2ludC55KSwgMikpO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKFIgPCAyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIGRhdGFJdGVyYXRvci5jdXJyZW50O1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBOdW1iZXJBeGlzUmVuZGVyZXJcbiAqIFxuICogQGNsYXNzZGVzYyBDb250YWlucyBtZXRob2RzIGZvciByZW5kZXJpbmcgYXhlcy5cbiAqL1xuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQXhlc1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJBeGlzUmVuZGVyZXIgaW1wbGVtZW50cyBJQXhlc1JlbmRlcjxudW1iZXI+IHtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLCBheGlzOiBJQXhpczxudW1iZXI+LCBmcmFtZTogSVJlY3QpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBncmlkID0gYXhpcy5nZXRHcmlkKCk7XG5cbiAgICAgICAgY2FudmFzLmZvbnQgPSAnMTFweCBBcmlhbCc7XG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgICAgIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnYmxhY2snKTtcbiAgICAgICAgY2FudmFzLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgYmFyIG9mIGdyaWQuYmFycykge1xuICAgICAgICAgICAgaWYgKGJhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGF4aXMudG9YKGJhcik7XG4gICAgICAgICAgICAgICAgaWYgKHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdCYXIoY2FudmFzLCBiYXIsIHksIGdyaWQucHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMuc3Ryb2tlKCk7XG4gICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdCYXIoY2FudmFzOiBJQ2FudmFzLCB2YWx1ZTogbnVtYmVyLCB5OiBudW1iZXIsIHByZWNpc2lvbjogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICBjYW52YXMubW92ZVRvKDAsIHkpO1xuICAgICAgICBjYW52YXMubGluZVRvKDMsIHkpO1xuXG4gICAgICAgIC8vIGRyYXcgdGltZSBtYXJrXG4gICAgICAgIGNvbnN0IG1hcmtUZXh0ID0gdmFsdWUudG9GaXhlZChwcmVjaXNpb24pO1xuICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5NaWRkbGUpO1xuICAgICAgICBjYW52YXMuZmlsbFRleHQobWFya1RleHQsIDQsIHkpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTnVtYmVyTWFya1JlbmRlcmVyIGNsYXNzLlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJU2l6ZSB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJTWFya1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJNYXJrUmVuZGVyZXIgaW1wbGVtZW50cyBJTWFya1JlbmRlcjxudW1iZXI+IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZGRpbmdMZWZ0ID0gNDtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLCB2YWx1ZTogbnVtYmVyLCBwb2ludDogSVBvaW50LCBmcmFtZVNpemU6IElTaXplLCBwcmVjaXNpb246IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCB0ZXh0ID0gdmFsdWUudG9GaXhlZChwcmVjaXNpb24pLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gY2FudmFzLm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJyMzRjNGM0YnO1xuICAgICAgICBjYW52YXMuZmlsbFJlY3QocG9pbnQueCwgcG9pbnQueSAtIDgsIHRleHRXaWR0aCArIHRoaXMucGFkZGluZ0xlZnQgKiAyLCAxNik7XG5cbiAgICAgICAgY2FudmFzLmZvbnQgPSAnMTFweCBBcmlhbCc7XG4gICAgICAgIGNhbnZhcy5maWxsU3R5bGUgPSAnI0VBRUFFQSc7XG4gICAgICAgIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLk1pZGRsZSk7XG4gICAgICAgIGNhbnZhcy5maWxsVGV4dCh0ZXh0LCBwb2ludC54ICsgdGhpcy5wYWRkaW5nTGVmdCwgcG9pbnQueSk7XG4gICAgfVxufVxuIiwi77u/LyoqXHJcbiAqIE9obGNDaGFydFJlbmRlcmVyIGNsYXNzLlxyXG4gKiBcclxuICogQGNsYXNzZGVzYyBSZW5kZXJzIHNwZWNpZmllZCBkYXRhIGluIGEgZm9ybSBvZiBPSExDIGNoYXJ0LlxyXG4gKi9cclxuaW1wb3J0IHsgQ2FudmFzVGV4dEJhc2VMaW5lLCBJQ2FudmFzIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcclxuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcywgU2V0dGluZ1NldCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xyXG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XHJcbmltcG9ydCB7IENhbmRsZXN0aWNrIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xyXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSUNoYXJ0UmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgUmVuZGVyVXRpbHMgfSBmcm9tICcuL1JlbmRlclV0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPaGxjQ2hhcnRSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4gIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbkNhbmRsZVdpZHRoID0gMTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWF4Q2FuZGxlV2lkdGggPSAzO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLFxyXG4gICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIHRpbWVBeGlzOiBJVGltZUF4aXMsXHJcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbGluZVcgPSB0aGlzLmNhbGN1bGF0ZUxpbmVXaWR0aCh0aW1lQXhpcywgZnJhbWUudyk7XHJcblxyXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGFJdGVyYXRvciwgKGNhbmRsZSwgeCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhbmRsZShjYW52YXMsIHRpbWVBeGlzLCB5QXhpcywgY2FuZGxlLCBmcmFtZSwgbGluZVcsIHgsIGRhdGFJdGVyYXRvci5wcmV2aW91cyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxldCBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRpbWVBeGlzLnJlc2V0KCk7XHJcbiAgICAgICAgLy8gd2hpbGUgKHRpbWVBeGlzLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VyVWlkID0gdGltZUF4aXMuY3VycmVudDtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VyVGltZSA9IGN1clVpZC50LmdldFRpbWUoKTtcclxuICAgICAgICAvLyAgICAgY29uc3QgY3VybiA9IGN1clVpZC5uO1xyXG4gICAgICAgIC8vICAgICBjb25zdCB4ID0gdGltZUF4aXMuY3VycmVudFg7XHJcblxyXG4gICAgICAgIC8vICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3VuZCA9IGRhdGFJdGVyYXRvci5nb1RvKGl0ZW0gPT4gaXRlbS51aWQudC5nZXRUaW1lKCkgPT09IGN1clRpbWUgJiYgaXRlbS51aWQubiA9PT0gY3Vybik7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3VuZCA9IGRhdGFJdGVyYXRvci5tb3ZlVG8oaXRlbSA9PiBpdGVtLnVpZC50LmdldFRpbWUoKSA9PT0gY3VyVGltZSAmJiBpdGVtLnVpZC5uID09PSBjdXJuKSAhPT0gLTE7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgY2FuZGxlID0gZGF0YUl0ZXJhdG9yLmN1cnJlbnQ7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnJlbmRlckNhbmRsZShjYW52YXMsIHRpbWVBeGlzLCB5QXhpcywgY2FuZGxlLCBmcmFtZSwgbGluZVcsIHgsIGRhdGFJdGVyYXRvci5wcmV2aW91cyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRlc3RIaXRBcmVhKFxyXG4gICAgICAgICAgICBoaXRQb2ludDogSVBvaW50LFxyXG4gICAgICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgICAgICAvL2RhdGE6IENhbmRsZXN0aWNrW10sXHJcbiAgICAgICAgICAgIGZyYW1lOiBJUmVjdCxcclxuICAgICAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4pOiBDYW5kbGVzdGljayB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGxldCBjYW5kbGVIaXQ6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kbGVXID0gdGhpcy5jYWxjdWxhdGVMaW5lV2lkdGgodGltZUF4aXMsIGZyYW1lLncpO1xyXG5cclxuICAgICAgICAvLyB3aGlsZSAoZGF0YUl0ZXJhdG9yLm1vdmVOZXh0KCkpIHtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMudGVzdEhpdEFyZWFDYW5kbGUoaGl0UG9pbnQsIHRpbWVBeGlzLCB5QXhpcywgZGF0YUl0ZXJhdG9yLmN1cnJlbnQsIGNhbmRsZVcpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjYW5kbGVIaXQgPSBkYXRhSXRlcmF0b3IuY3VycmVudDtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FuZGxlSGl0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGVzdEhpdEFyZWFDYW5kbGUoXHJcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+LFxyXG4gICAgICAgIGNhbmRsZTogQ2FuZGxlc3RpY2ssXHJcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgeCA9IHRpbWVBeGlzLnRvWChjYW5kbGUudWlkKTtcclxuICAgICAgICAvLyBpZiAoeCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLy8gICAgIHggPSBNYXRoLnJvdW5kKHgpO1xyXG5cclxuICAgICAgICAvLyAgICAgY29uc3QgYm9keSA9IHRoaXMuY2FsY3VsYXRlQm9keSh4LCB5QXhpcywgY2FuZGxlLm8sIGNhbmRsZS5jLCBjYW5kbGVXKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIChoaXRQb2ludC54ID49IGJvZHkueCAmJiBoaXRQb2ludC54IDw9IChib2R5LnggKyBib2R5LncpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgJiYgaGl0UG9pbnQueSA+PSBib2R5LnkgJiYgaGl0UG9pbnQueSA8PSAoYm9keS55ICsgYm9keS5oKSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlckNhbmRsZShcclxuICAgICAgICBjYW52YXM6IElDYW52YXMsIHRpbWVBeGlzOiBJVGltZUF4aXMsIHlBeGlzOiBJQXhpczxudW1iZXI+LCBjYW5kbGU6IENhbmRsZXN0aWNrLFxyXG4gICAgICAgIGZyYW1lOiBJUmVjdCwgbGluZVc6IG51bWJlciwgeDogbnVtYmVyLFxyXG4gICAgICAgIHByZXZDYW5kbGU/OiBDYW5kbGVzdGlja1xyXG4gICAgICAgICk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoY2FuZGxlLmMgPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5oID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb2xvclVwID0gJyMwMEI3MTInO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yRG93biA9ICcjRUEwMDAwJztcclxuXHJcbiAgICAgICAgbGV0IGNvbG9yO1xyXG4gICAgICAgIGlmIChwcmV2Q2FuZGxlICYmIHByZXZDYW5kbGUuYykge1xyXG4gICAgICAgICAgICBjb2xvciA9IChjYW5kbGUuYyA+IHByZXZDYW5kbGUuYykgPyBjb2xvclVwIDogY29sb3JEb3duO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9yID0gKGNhbmRsZS5jID4gY2FuZGxlLm8pID8gY29sb3JVcCA6IGNvbG9yRG93bjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xyXG4gICAgICAgIGNvbnN0IGggPSB5QXhpcy50b1goY2FuZGxlLmgpO1xyXG4gICAgICAgIGNvbnN0IGwgPSB5QXhpcy50b1goY2FuZGxlLmwpO1xyXG4gICAgICAgIGNvbnN0IG8gPSB5QXhpcy50b1goY2FuZGxlLm8pO1xyXG4gICAgICAgIGNvbnN0IGMgPSB5QXhpcy50b1goY2FuZGxlLmMpO1xyXG4gICAgICAgIGNvbnN0IHcgPSBsaW5lVyArIDM7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0aW4gZHJhd2luZ1xyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gbGluZVc7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKGNvbG9yKTtcclxuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4LCBoLCB4LCBsKTtcclxuICAgICAgICB0aGlzLmxpbmUoY2FudmFzLCB4IC0gdywgbywgeCwgbyk7IC8vIG9wZW4gc2lkZVxyXG4gICAgICAgIHRoaXMubGluZShjYW52YXMsIHgsIGMsIHggKyB3LCBjKTsgLy8gY2xvc2Ugc2lkZVxyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZUxpbmVXaWR0aCh0aW1lQXhpczogSVRpbWVBeGlzLCBmcmFtZVdpZHRoOiBudW1iZXIpOiBudW1iZXIge1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kbGVzQ291bnQgPSB0aW1lQXhpcy5jb3VudDtcclxuICAgICAgICBsZXQgdyA9IGZyYW1lV2lkdGggLyAoMyAqIGNhbmRsZXNDb3VudCk7XHJcblxyXG4gICAgICAgIGlmICh3IDwgNikge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3ID0gTWF0aC5jZWlsKHcpO1xyXG4gICAgICAgICAgICB3ID0gdyArICgodyArIDEpICUgMik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5tYXhDYW5kbGVXaWR0aCwgdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGluZShjYW52YXM6IElDYW52YXMsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjYW52YXMubW92ZVRvKHgxLCB5MSk7XHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4MiwgeTIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2V0dGluZ3MoKTogU2V0dGluZ1NldCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTZXR0aW5nU2V0KCdyZW5kZXJlcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2V0dGluZ1NldCk6IHZvaWQge1xyXG4gICAgfSAgICBcclxufVxyXG4iLCIvKipcbiAqIEF4aXNSZW5kZXJlclxuICogXG4gKiBAY2xhc3NkZXNjIENvbnRhaW5zIG1ldGhvZHMgZm9yIHJlbmRlcmluZyBheGVzLlxuICovXG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElBeGVzUmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFByaWNlQXhpc1JlbmRlcmVyIGltcGxlbWVudHMgSUF4ZXNSZW5kZXI8bnVtYmVyPiB7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgYXhpczogSUF4aXM8bnVtYmVyPiwgZnJhbWU6IElSZWN0KTogdm9pZCB7XG5cbiAgICAgICAgY29uc3QgZ3JpZCA9IGF4aXMuZ2V0R3JpZCgpO1xuXG4gICAgICAgIGNhbnZhcy5mb250ID0gJzExcHggQXJpYWwnO1xuICAgICAgICBjYW52YXMuZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJ2JsYWNrJyk7XG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGJhciBvZiBncmlkLmJhcnMpIHtcbiAgICAgICAgICAgIGlmIChiYXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBheGlzLnRvWChiYXIpO1xuICAgICAgICAgICAgICAgIGlmICh5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3QmFyKGNhbnZhcywgYmFyLCB5LCBncmlkLnByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLnN0cm9rZSgpO1xuICAgICAgICBjYW52YXMuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3QmFyKGNhbnZhczogSUNhbnZhcywgdmFsdWU6IG51bWJlciwgeTogbnVtYmVyLCBwcmVjaXNpb246IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgY2FudmFzLm1vdmVUbygwLCB5KTtcbiAgICAgICAgY2FudmFzLmxpbmVUbygzLCB5KTtcblxuICAgICAgICAvLyBkcmF3IHRpbWUgbWFya1xuICAgICAgICBjb25zdCBtYXJrVGV4dCA9IHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICAgICAgY2FudmFzLnNldFRleHRCYXNlTGluZShDYW52YXNUZXh0QmFzZUxpbmUuTWlkZGxlKTtcbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KG1hcmtUZXh0LCA0LCB5KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFJlbmRlckxvY2F0b3Igc2luZ2xldG9uLlxuICovXG5pbXBvcnQgeyBDaGFydFR5cGUgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IENhbmRsZXN0aWNrLCBQb2ludCB9IGZyb20gJy4uL21vZGVsL2luZGV4JztcbmltcG9ydCB7IElIYXNoVGFibGUgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9DYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tQb3B1cFJlbmRlcmVyIH0gZnJvbSAnLi9DYW5kbGVzdGlja1BvcHVwUmVuZGVyZXInO1xuaW1wb3J0IHsgQ3Jvc3NoYWlyUmVuZGVyZXIgfSBmcm9tICcuL0Nyb3NzaGFpclJlbmRlcmVyJztcbmltcG9ydCB7IEdyaWRSZW5kZXJlciB9IGZyb20gJy4vR3JpZFJlbmRlcmVyJztcbmltcG9ydCB7IEhvbGxvd3N0aWNrQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vSG9sbG93c3RpY2tDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IElDaGFydFJlbmRlciwgSVJlbmRlckxvY2F0b3IgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTGluZUNoYXJ0UmVuZGVyZXIgfSBmcm9tICcuL0xpbmVDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IExpbmVQb3B1cFJlbmRlcmVyIH0gZnJvbSAnLi9MaW5lUG9wdXBSZW5kZXJlcic7XG5pbXBvcnQgeyBMaW5lc3RpY2tDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9MaW5lc3RpY2tDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IE1vdW50YWluQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vTW91bnRhaW5DaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IE51bWJlckF4aXNSZW5kZXJlciB9IGZyb20gJy4vTnVtYmVyQXhpc1JlbmRlcmVyJztcbmltcG9ydCB7IE51bWJlck1hcmtSZW5kZXJlciB9IGZyb20gJy4vTnVtYmVyTWFya1JlbmRlcmVyJztcbmltcG9ydCB7IE9obGNDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9PaGxjQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBQcmljZUF4aXNSZW5kZXJlciB9IGZyb20gJy4vUHJpY2VBeGlzUmVuZGVyZXInO1xuaW1wb3J0IHsgUmVua29DaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5rb0NoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgVGltZUF4aXNSZW5kZXJlciB9IGZyb20gJy4vVGltZUF4aXNSZW5kZXJlcic7XG5pbXBvcnQgeyBUaW1lTWFya1JlbmRlcmVyIH0gZnJvbSAnLi9UaW1lTWFya1JlbmRlcmVyJztcblxuZXhwb3J0IGNsYXNzIFJlbmRlckxvY2F0b3IgaW1wbGVtZW50cyBJUmVuZGVyTG9jYXRvciB7XG5cbiAgICBwcml2YXRlIGxpbmVDaGFydFJlbmRlciA9IG5ldyBMaW5lQ2hhcnRSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgdGltZUF4aXNSZW5kZXIgPSBuZXcgVGltZUF4aXNSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgcHJpY2VBeGlzUmVuZGVyID0gbmV3IFByaWNlQXhpc1JlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSBudW1iZXJBeGlzUmVuZGVyID0gbmV3IE51bWJlckF4aXNSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgY2FuZGxlUG9wdXBSZW5kZXJlciA9IG5ldyBDYW5kbGVzdGlja1BvcHVwUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIGxpbmVQb3B1cFJlbmRlcmVyID0gbmV3IExpbmVQb3B1cFJlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSB0aW1lTWFya1JlbmRlciA9IG5ldyBUaW1lTWFya1JlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSBudW1iZXJNYXJrUmVuZGVyID0gbmV3IE51bWJlck1hcmtSZW5kZXJlcigpO1xuICAgIHByaXZhdGUgY3Jvc3NoYWlyUmVuZGVyZXIgPSBuZXcgQ3Jvc3NoYWlyUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIGdyaWRSZW5kZXJlciA9IG5ldyBHcmlkUmVuZGVyZXIoKTtcblxuICAgIHByaXZhdGUgcmVuZGVyczogSUhhc2hUYWJsZTx7IG5ldygpOiBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IH0+ID0ge307XG4gICAgcHJpdmF0ZSBidWlsdGluUmVuZGVyczogSUhhc2hUYWJsZTx7IG5ldygpOiBJQ2hhcnRSZW5kZXI8Q2FuZGxlc3RpY2s+IH0+ID0geyB9O1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFJlbmRlckxvY2F0b3I7XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBJbnN0YW5jZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZSB8fCAodGhpcy5pbnN0YW5jZSA9IG5ldyB0aGlzKCkpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5jYW5kbGVdID0gQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5oZWlraW5hc2hpXSA9IENhbmRsZXN0aWNrQ2hhcnRSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUuaG9sbG93XSA9IEhvbGxvd3N0aWNrQ2hhcnRSZW5kZXJlcjtcbiAgICAgICAgdGhpcy5idWlsdGluUmVuZGVyc1tDaGFydFR5cGUubGluZV0gPSBMaW5lc3RpY2tDaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5tb3VudGFpbl0gPSBNb3VudGFpbkNoYXJ0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYnVpbHRpblJlbmRlcnNbQ2hhcnRUeXBlLm9obGNdID0gT2hsY0NoYXJ0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYnVpbHRpblJlbmRlcnNbQ2hhcnRUeXBlLnJhbmdlYmFyXSA9IE9obGNDaGFydFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmJ1aWx0aW5SZW5kZXJzW0NoYXJ0VHlwZS5yZW5rb10gPSBSZW5rb0NoYXJ0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYnVpbHRpblJlbmRlcnNbQ2hhcnRUeXBlLmxpbmVicmVha10gPSBSZW5rb0NoYXJ0UmVuZGVyZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyKGNoYXJ0VHlwZTogc3RyaW5nLCByZW5kZXI6IHsgbmV3KCk6IElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4gfSkge1xuICAgICAgICB0aGlzLnJlbmRlcnNbY2hhcnRUeXBlXSA9IHJlbmRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q2hhcnRSZW5kZXI8VD4oZGF0YVR5cGU6IHsgbmV3KGQ6IERhdGUpOiBUIH0sIGNoYXJ0VHlwZTogc3RyaW5nKTogYW55IHtcblxuICAgICAgICAvLyBGaXJzdCBjaGVjayByZWdpc3RlcmVkIHJlbmRlcnNcbiAgICAgICAgY29uc3QgcmVuZGVyID0gdGhpcy5yZW5kZXJzW2NoYXJ0VHlwZV07XG4gICAgICAgIGlmIChyZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvYmogPSBuZXcgZGF0YVR5cGUobmV3IERhdGUoKSk7XG5cbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgICAgICBpZiAoY2hhcnRUeXBlID09PSBDaGFydFR5cGUubGluZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVDaGFydFJlbmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLmJ1aWx0aW5SZW5kZXJzW2NoYXJ0VHlwZV07XG4gICAgICAgICAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHJlbmRlcmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZGF0YSB0eXBlOiAnICsgZGF0YVR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGNoYXJ0IHR5cGUgJyArIGNoYXJ0VHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEF4ZXNSZW5kZXIodWlkOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHVpZCkge1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6IHJldHVybiB0aGlzLnRpbWVBeGlzUmVuZGVyO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzogcmV0dXJuIHRoaXMubnVtYmVyQXhpc1JlbmRlcjtcbiAgICAgICAgICAgIGNhc2UgJ3ByaWNlJzogcmV0dXJuIHRoaXMucHJpY2VBeGlzUmVuZGVyO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgYXhlcyByZW5kZXIgdWlkOiAnICsgdWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRQb3B1cFJlbmRlcjxUPihkYXRhVHlwZTogeyBuZXcoZDogRGF0ZSk6IFQgfSk6IGFueSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IG5ldyBkYXRhVHlwZShuZXcgRGF0ZSgpKTtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lUG9wdXBSZW5kZXJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBDYW5kbGVzdGljaykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuZGxlUG9wdXBSZW5kZXJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBkYXRhIHR5cGU6ICcgKyBkYXRhVHlwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWFya1JlbmRlcih1aWQ6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHN3aXRjaCAodWlkKSB7XG4gICAgICAgICAgICBjYXNlICdkYXRlJzogcmV0dXJuIHRoaXMudGltZU1hcmtSZW5kZXI7XG4gICAgICAgICAgICBjYXNlICdudW1iZXInOiByZXR1cm4gdGhpcy5udW1iZXJNYXJrUmVuZGVyO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgYXhlcyByZW5kZXIgdWlkOiAnICsgdWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDcm9zc2hhaXJSZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Jvc3NoYWlyUmVuZGVyZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyaWRSZW5kZXIoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZFJlbmRlcmVyO1xuICAgIH1cbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IElDYW52YXMsIExpbmVQYXR0ZXJuIH0gZnJvbSAnLi4vY2FudmFzL2luZGV4JztcbmltcG9ydCB7IElBeGlzLCBJQ2hhcnRQb2ludCwgSVRpbWVBeGlzIH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBJRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vZGF0YS9pbmRleCc7XG5pbXBvcnQgeyBDYW5kbGVzdGljaywgSVVpZFZhbHVlIH0gZnJvbSAnLi4vbW9kZWwvaW5kZXgnO1xuaW1wb3J0IHsgSVBvaW50LCBJUmVjdCB9IGZyb20gJy4uL3NoYXJlZC9pbmRleCc7XG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyVXRpbHMge1xuXG4gICAgcHVibGljIHN0YXRpYyByZW5kZXJMaW5lQ2hhcnQoXG4gICAgICAgIGNhbnZhczogSUNhbnZhcyxcbiAgICAgICAgZGF0YUl0ZXJhdG9yOiBJRGF0YUl0ZXJhdG9yPENhbmRsZXN0aWNrPixcbiAgICAgICAgZ2V0UG9pbnQ6IChpdGVtOiBDYW5kbGVzdGljaykgPT4gSUNoYXJ0UG9pbnQgfCB1bmRlZmluZWQsXG4gICAgICAgIGZyYW1lOiBJUmVjdCxcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcbiAgICAgICAgeUF4aXM6IElBeGlzPG51bWJlcj4sXG4gICAgICAgIGNsb3NlUGF0aD86IGJvb2xlYW5cbiAgICApIHtcblxuICAgICAgICBsZXQgaXNGaXJzdFBvaW50ID0gdHJ1ZTtcbiAgICAgICAgbGV0IGZpcnN0UG9pbnQ6IElQb2ludCB8IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxhc3RQb2ludDogSVBvaW50IHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIFJlbmRlclV0aWxzLml0ZXJhdGUodGltZUF4aXMsIGRhdGFJdGVyYXRvciwgKGRhdGEsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gZ2V0UG9pbnQoZGF0YSk7XG4gICAgICAgICAgICBpZiAocG9pbnQgIT09IHVuZGVmaW5lZCAmJiBwb2ludC51aWQgIT09IHVuZGVmaW5lZCAmJiBwb2ludC52ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0geUF4aXMudG9YKHBvaW50LnYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFBvaW50ID0geyB4OiB4LCB5OiB5IH07XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RQb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQb2ludCA9IHsgeDogeCwgeTogeSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNsb3NlUGF0aCAmJiBmaXJzdFBvaW50ICYmIGxhc3RQb2ludCkge1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhsYXN0UG9pbnQueCwgZnJhbWUuaCAtIDEpO1xuICAgICAgICAgICAgY2FudmFzLmxpbmVUbyhmaXJzdFBvaW50LngsIGZyYW1lLmggLSAxKTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpdGVyYXRlPFQgZXh0ZW5kcyBJVWlkVmFsdWU+KHRpbWVheGlzOiBJVGltZUF4aXMsIGl0ZXI6IElEYXRhSXRlcmF0b3I8VD4sIGFjdGlvbjogKGRhdGE6IFQsIHg6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuXG4gICAgICAgIGlmICghaXRlci5nb1RvKGl0ZW0gPT4gdHJ1ZSkpIHtcbiAgICAgICAgICAgIC8vIGVuZCByZW5kZXJpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICB0aW1lYXhpcy5yZXNldCgpO1xuICAgICAgICB3aGlsZSAodGltZWF4aXMubW92ZU5leHQoKSkge1xuXG4gICAgICAgICAgICBjb25zdCB0aW1lVWlkID0gdGltZWF4aXMuY3VycmVudC51aWQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGltZWF4aXMuY3VycmVudC54O1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGl0ZXIuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS51aWQuY29tcGFyZSh0aW1lVWlkKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS51aWQuY29tcGFyZSh0aW1lVWlkKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXRlci5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuZCByZW5kZXJpbmdcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24oaXRlci5jdXJyZW50LCB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIG92ZXJsYXAgb2YgdGhlIGxpbmUgb3ZlciBzcGVjaWZpZWQgbGV2ZWwuXG4gICAgICogQHBhcmFtIGNhbnZhcyBcbiAgICAgKiBAcGFyYW0gcG9pbnRzIFBvaW50cyBvZiBsaW5lXG4gICAgICogQHBhcmFtIGxldmVsIFkgY29vcmRpbmF0ZSB0byBjYWxjdWxhdGUgb3ZlcmxhcHBpbmdcbiAgICAgKiBAcGFyYW0gdXAgSWYgdHJ1ZSAtIG92ZXJsYXBwaW5nIGZyb20gdXAsIGZhbHNlIC0gZnJvbSBib3R0b20uXG4gICAgICogQHBhcmFtIGZpbGxTdHlsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZmlsbE92ZXJsYXAoY2FudmFzOiBJQ2FudmFzLCBwb2ludHM6IElQb2ludFtdLCBsZXZlbDogbnVtYmVyLCB1cDogYm9vbGVhbiwgZmlsbFN0eWxlOiBhbnkpIHtcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IHBvaW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBwb2ludHMuZm9yRWFjaCgocCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgICAgICAgICAoaW5kZXggPT09IDApID8gY2FudmFzLm1vdmVUbyhwLngsIHAueSkgOiBjYW52YXMubGluZVRvKHAueCwgcC55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbnZhcy5saW5lVG8obGFzdC54LCB1cCA/IGNhbnZhcy5oIDogMCk7XG4gICAgICAgICAgICBjYW52YXMubGluZVRvKGZpcnN0LngsIHVwID8gY2FudmFzLmggOiAwKTtcbiAgICAgICAgICAgIGNhbnZhcy5jbG9zZVBhdGgoKTtcblxuICAgICAgICAgICAgY2FudmFzLnNhdmUoKTtcbiAgICAgICAgICAgIGNhbnZhcy5jbGlwKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoZmlsbFN0eWxlKTtcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdCgwLCB1cCA/IDAgOiBsZXZlbCwgY2FudmFzLncsIHVwID8gbGV2ZWwgOiAoY2FudmFzLmggLSBsZXZlbCkpO1xuXG4gICAgICAgICAgICBjYW52YXMucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBQQVRURVJOMlNFRyhwYXR0ZXJuOiBMaW5lUGF0dGVybikge1xuICAgICAgICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIGNhc2UgTGluZVBhdHRlcm4uU29saWQ6IHJldHVybiBbXTtcbiAgICAgICAgICAgIGNhc2UgTGluZVBhdHRlcm4uRGFzaGVkOiByZXR1cm4gWzUsIDEwXTtcbiAgICAgICAgICAgIGNhc2UgTGluZVBhdHRlcm4uUG9pbnRlZDogcmV0dXJuIFsyLCA4XTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBsaW5lIHBhdHRlcm46ICR7cGF0dGVybn1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIu+7vy8qKlxyXG4gKiBSZW5rb0NoYXJ0UmVuZGVyZXJcclxuICogXHJcbiAqIEBjbGFzc2Rlc2MgUmVuZGVycyBzcGVjaWZpZWQgZGF0YSBpbiBhIGZvcm0gb2YgcmVua28gY2hhcnQuXHJcbiAqL1xyXG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQXhpcywgSVRpbWVBeGlzLCBTZXR0aW5nU2V0IH0gZnJvbSAnLi4vY29yZS9pbmRleCc7XHJcbmltcG9ydCB7IElEYXRhSXRlcmF0b3IgfSBmcm9tICcuLi9kYXRhL2luZGV4JztcclxuaW1wb3J0IHsgQ2FuZGxlc3RpY2sgfSBmcm9tICcuLi9tb2RlbC9pbmRleCc7XHJcbmltcG9ydCB7IElQb2ludCwgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xyXG5pbXBvcnQgeyBJQ2hhcnRSZW5kZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBSZW5kZXJVdGlscyB9IGZyb20gJy4vUmVuZGVyVXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbmtvQ2hhcnRSZW5kZXJlciBpbXBsZW1lbnRzIElDaGFydFJlbmRlcjxDYW5kbGVzdGljaz4gIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1pbkNhbmRsZVdpZHRoID0gMztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWF4Q2FuZGxlV2lkdGggPSAyMTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKFxyXG4gICAgICAgIGNhbnZhczogSUNhbnZhcyxcclxuICAgICAgICBkYXRhSXRlcmF0b3I6IElEYXRhSXRlcmF0b3I8Q2FuZGxlc3RpY2s+LFxyXG4gICAgICAgIC8vZGF0YTogQ2FuZGxlc3RpY2tbXSxcclxuICAgICAgICBmcmFtZTogSVJlY3QsXHJcbiAgICAgICAgdGltZUF4aXM6IElUaW1lQXhpcyxcclxuICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICAvLyBSZW5kZXJcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICAvLyBib3JkZXIgbGluZXNcclxuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCcjMzMzMzMzJyk7XHJcbiAgICAgICAgLy8gLi4uIGxlZnRcclxuICAgICAgICBjYW52YXMubW92ZVRvKGZyYW1lLngsIGZyYW1lLnkpO1xyXG4gICAgICAgIGNhbnZhcy5saW5lVG8oZnJhbWUueCwgZnJhbWUueSArIGZyYW1lLmggLSAxKTtcclxuICAgICAgICAvLyAuLi4gYm90dG9tXHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkgKyBmcmFtZS5oIC0gMSk7XHJcbiAgICAgICAgLy8gLi4uIHJpZ2h0XHJcbiAgICAgICAgY2FudmFzLmxpbmVUbyhmcmFtZS54ICsgZnJhbWUudyAtIDEsIGZyYW1lLnkpO1xyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGxlVyA9IHRoaXMuY2FsY3VsYXRlQm9keVdpZHRoKHRpbWVBeGlzLCBmcmFtZS53KTtcclxuXHJcbiAgICAgICAgUmVuZGVyVXRpbHMuaXRlcmF0ZSh0aW1lQXhpcywgZGF0YUl0ZXJhdG9yLCAoY2FuZGxlLCB4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FuZGxlKGNhbnZhcywgdGltZUF4aXMsIHlBeGlzLCBjYW5kbGUsIGZyYW1lLCBjYW5kbGVXLCB4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGVzdEhpdEFyZWEoXHJcbiAgICAgICAgICAgIGhpdFBvaW50OiBJUG9pbnQsXHJcbiAgICAgICAgICAgIGRhdGFJdGVyYXRvcjogSURhdGFJdGVyYXRvcjxDYW5kbGVzdGljaz4sXHJcbiAgICAgICAgICAgIC8vZGF0YTogQ2FuZGxlc3RpY2tbXSxcclxuICAgICAgICAgICAgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgICAgICB5QXhpczogSUF4aXM8bnVtYmVyPik6IENhbmRsZXN0aWNrIHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgbGV0IGNhbmRsZUhpdDogQ2FuZGxlc3RpY2sgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IGNhbmRsZVcgPSB0aGlzLmNhbGN1bGF0ZUJvZHlXaWR0aCh0aW1lQXhpcywgZnJhbWUudyk7XHJcblxyXG4gICAgICAgIC8vIC8vIHdoaWxlIChkYXRhSXRlcmF0b3IubW92ZU5leHQoKSkge1xyXG4gICAgICAgIC8vIC8vICAgICBpZiAodGhpcy50ZXN0SGl0QXJlYUNhbmRsZShoaXRQb2ludCwgdGltZUF4aXMsIHlBeGlzLCBkYXRhSXRlcmF0b3IuY3VycmVudCwgY2FuZGxlVykpIHtcclxuICAgICAgICAvLyAvLyAgICAgICAgIGNhbmRsZUhpdCA9IGRhdGFJdGVyYXRvci5jdXJyZW50O1xyXG4gICAgICAgIC8vIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gLy8gICAgIH1cclxuICAgICAgICAvLyAvLyB9XHJcblxyXG4gICAgICAgIC8vIGRhdGEuZm9yRWFjaCgodmFsdWU6IENhbmRsZXN0aWNrLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnRlc3RIaXRBcmVhQ2FuZGxlKGhpdFBvaW50LCB0aW1lQXhpcywgeUF4aXMsIHZhbHVlLCBpbmRleCwgY2FuZGxlVykpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FuZGxlSGl0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGVzdEhpdEFyZWFDYW5kbGUoXHJcbiAgICAgICAgaGl0UG9pbnQ6IElQb2ludCxcclxuICAgICAgICB0aW1lQXhpczogSVRpbWVBeGlzLFxyXG4gICAgICAgIHlBeGlzOiBJQXhpczxudW1iZXI+LFxyXG4gICAgICAgIGNhbmRsZTogQ2FuZGxlc3RpY2ssXHJcbiAgICAgICAgY2FuZGxlVzogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBVc2UgcHJlcGFpcmVkIFhcclxuICAgICAgICBsZXQgeCA9IHRpbWVBeGlzLnRvWChjYW5kbGUudWlkKTtcclxuICAgICAgICAvLyBsZXQgeCA9IHRpbWVBeGlzLnRvWChpbmRleCk7XHJcbiAgICAgICAgaWYgKHggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNhbGN1bGF0ZUJvZHkoeCwgeUF4aXMsIGNhbmRsZS5vLCBjYW5kbGUuYywgY2FuZGxlVyk7XHJcbiAgICAgICAgICAgIHJldHVybiAoaGl0UG9pbnQueCA+PSBib2R5LnggJiYgaGl0UG9pbnQueCA8PSAoYm9keS54ICsgYm9keS53KVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGhpdFBvaW50LnkgPj0gYm9keS55ICYmIGhpdFBvaW50LnkgPD0gKGJvZHkueSArIGJvZHkuaCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSByZW5kZXJDYW5kbGUoXHJcbiAgICAvLyAgICAgY2FudmFzOiBJQ2FudmFzLCB0aW1lQXhpczogSVRpbWVBeGlzLCB5QXhpczogSUF4aXM8bnVtYmVyPiwgY2FuZGxlOiBDYW5kbGVzdGljaywgZnJhbWU6IElSZWN0LCBjYW5kbGVXOiBudW1iZXIpOiB2b2lkIHtcclxuXHJcbiAgICAvLyAgICAgaWYgKGNhbmRsZS5jID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLm8gPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUuaCA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5sID09PSB1bmRlZmluZWQpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgLy8gLy8gU3RhcnRpbiBkcmF3aW5nXHJcbiAgICAvLyAgICAgLy8gY2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5saW5lV2lkdGggPSAxO1xyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5zZXRTdHJva2VTdHlsZSgnIzMzMzMzMycpO1xyXG5cclxuICAgIC8vICAgICAvLyAvL2xldCB4ID0gdGltZUF4aXMudG9YKGNhbmRsZS5kYXRlKTtcclxuICAgIC8vICAgICAvLyBsZXQgeCA9IHRpbWVBeGlzLnRvWChpbmRleCk7XHJcbiAgICAvLyAgICAgLy8geCA9IE1hdGgucm91bmQoeCk7XHJcblxyXG4gICAgLy8gICAgIC8vIGNvbnN0IGJvZHkgPSB0aGlzLmNhbGN1bGF0ZUJvZHkoeCwgeUF4aXMsIGNhbmRsZS5vLCBjYW5kbGUuYywgY2FuZGxlVyk7XHJcbiAgICAvLyAgICAgLy8gY29uc3QgaCA9IHlBeGlzLnRvWChjYW5kbGUuaCk7XHJcbiAgICAvLyAgICAgLy8gY29uc3QgbCA9IHlBeGlzLnRvWChjYW5kbGUubCk7XHJcblxyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAvLyAgICAgLy8gLy8gRHJhd2luZyBib2R5XHJcbiAgICAvLyAgICAgLy8gaWYgKGNhbmRsZS5jID4gY2FuZGxlLm8pIHtcclxuICAgIC8vICAgICAvLyAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI2ZmZmZmZicpO1xyXG4gICAgLy8gICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgLy8gICAgIGNhbnZhcy5zZXRGaWxsU3R5bGUoJyMwMDAwMDAnKTtcclxuICAgIC8vICAgICAvLyB9XHJcblxyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5maWxsUmVjdChib2R5LngsIGJvZHkueSwgYm9keS53LCBib2R5LmgpO1xyXG4gICAgLy8gICAgIC8vIGNhbnZhcy5zdHJva2VSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXJDYW5kbGUoXHJcbiAgICAgICAgY2FudmFzOiBJQ2FudmFzLCB0aW1lQXhpczogSVRpbWVBeGlzLCB5QXhpczogSUF4aXM8bnVtYmVyPiwgY2FuZGxlOiBDYW5kbGVzdGljaywgZnJhbWU6IElSZWN0LFxyXG4gICAgICAgIGNhbmRsZVc6IG51bWJlciwgeDogbnVtYmVyKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmIChjYW5kbGUuYyA9PT0gdW5kZWZpbmVkIHx8IGNhbmRsZS5vID09PSB1bmRlZmluZWQgfHwgY2FuZGxlLmggPT09IHVuZGVmaW5lZCB8fCBjYW5kbGUubCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0aW4gZHJhd2luZ1xyXG4gICAgICAgIGNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgICAgICBjYW52YXMubGluZVdpZHRoID0gMTtcclxuICAgICAgICBjYW52YXMuc2V0U3Ryb2tlU3R5bGUoJyMxOTE5MTknKTtcclxuXHJcbiAgICAgICAgLy8gV2UgYXJlIG5vdCBjYWxjdWxhdGluZyB4LCBhcyBjdXJyZW50WCBpcyBmYXN0ZXJcclxuICAgICAgICAvLyBsZXQgeCA9IHRpbWVBeGlzLnRvWChjYW5kbGUudWlkKTtcclxuICAgICAgICAvLyBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xyXG5cclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5jYWxjdWxhdGVCb2R5KHgsIHlBeGlzLCBjYW5kbGUubywgY2FuZGxlLmMsIGNhbmRsZVcpO1xyXG4gICAgICAgIGNvbnN0IGggPSB5QXhpcy50b1goY2FuZGxlLmgpO1xyXG4gICAgICAgIGNvbnN0IGwgPSB5QXhpcy50b1goY2FuZGxlLmwpO1xyXG5cclxuICAgICAgICAvLyBEcmF3aW5nIHVwcGVyIHNoYWRvd1xyXG4gICAgICAgIHRoaXMubGluZShjYW52YXMsIHgsIGJvZHkueSwgeCwgaCApO1xyXG5cclxuICAgICAgICAvLyBEcmF3aW5nIGxvd2VyIHNoYWRvd1xyXG4gICAgICAgIHRoaXMubGluZShjYW52YXMsIHgsIGwsIHgsIGJvZHkueSArIGJvZHkuaCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgLy8gRHJhd2luZyBib2R5XHJcbiAgICAgICAgaWYgKGNhbmRsZS5jID4gY2FuZGxlLm8pIHtcclxuICAgICAgICAgICAgY2FudmFzLnNldEZpbGxTdHlsZSgnI0Y3RjdGNycpOyAvLyMwMDg5MTAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXMuc2V0RmlsbFN0eWxlKCcjMTkxOTE5Jyk7IC8vI0Q4MDMwMCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FudmFzLmZpbGxSZWN0KGJvZHkueCwgYm9keS55LCBib2R5LncsIGJvZHkuaCk7XHJcbiAgICAgICAgY2FudmFzLnN0cm9rZVJlY3QoYm9keS54LCBib2R5LnksIGJvZHkudywgYm9keS5oKTtcclxuXHJcbiAgICAgICAgLy8gLy8gRHJhdyB1aWRcclxuICAgICAgICAvLyBjYW52YXMuc2V0RmlsbFN0eWxlKCcjMTExMTExJyk7XHJcbiAgICAgICAgLy8gY29uc3QgbWFya1RleHQgPSBjYW5kbGUudWlkO1xyXG4gICAgICAgIC8vIGNvbnN0IHcgPSBjYW52YXMubWVhc3VyZVRleHQobWFya1RleHQpLndpZHRoO1xyXG4gICAgICAgIC8vIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLlRvcCk7XHJcbiAgICAgICAgLy8gY2FudmFzLmZpbGxUZXh0KG1hcmtUZXh0LCB4IC0gdyAvIDIsIGJvZHkueSk7XHJcbiAgICAgICAgLy8gY2FudmFzLmZpbGxUZXh0KG1hcmtUZXh0LCB4IC0gdyAvIDIsIGJvZHkueSArIGJvZHkuaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVCb2R5KHg6IG51bWJlciwgeUF4aXM6IElBeGlzPG51bWJlcj4sIG86IG51bWJlciwgYzogbnVtYmVyLCBjYW5kbGVXOiBudW1iZXIpOiBJUmVjdCB7XHJcbiAgICAgICAgY29uc3Qgb2NNaW4gPSB5QXhpcy50b1goTWF0aC5tYXgobywgYykpOyAvLyBJbnZlcnRlZCBZXHJcbiAgICAgICAgY29uc3Qgb2NNYXggPSB5QXhpcy50b1goTWF0aC5taW4obywgYykpO1xyXG4gICAgICAgIHJldHVybiB7IHg6IHggLSBNYXRoLmZsb29yKGNhbmRsZVcgLyAyKSwgeTogb2NNaW4sIHc6IGNhbmRsZVcsIGg6IG9jTWF4IC0gb2NNaW4gfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZUJvZHlXaWR0aCh0aW1lQXhpczogSVRpbWVBeGlzLCBmcmFtZVdpZHRoOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAodGltZUF4aXMuY291bnQgPiAwKSA/IGZyYW1lV2lkdGggLyB0aW1lQXhpcy5jb3VudCA6IDA7XHJcblxyXG4gICAgICAgIC8vIC8vIGNvbnN0IHJhbmdlID0gdGltZUF4aXMucmFuZ2UuZW5kLmdldFRpbWUoKSAtIHRpbWVBeGlzLnJhbmdlLnN0YXJ0LmdldFRpbWUoKTtcclxuICAgICAgICAvLyAvLyBpZiAocmFuZ2UgPT09IDAgfHwgdGltZUF4aXMuaW50ZXJ2YWwgPT09IDApIHtcclxuICAgICAgICAvLyAvLyAgICAgcmV0dXJuIHRoaXMubWluQ2FuZGxlV2lkdGg7XHJcbiAgICAgICAgLy8gLy8gfVxyXG4gICAgICAgIC8vIC8vIGNvbnN0IGNhbmRsZXNDb3VudCA9IHJhbmdlIC8gdGltZUF4aXMuaW50ZXJ2YWw7XHJcbiAgICAgICAgLy8gY29uc3QgY2FuZGxlc0NvdW50ID0gdGltZUF4aXMuY291bnQ7IC8vICByYW5nZSAvIHRpbWVBeGlzLmludGVydmFsO1xyXG4gICAgICAgIC8vIGxldCB3ID0gTWF0aC5mbG9vcihmcmFtZVdpZHRoIC8gY2FuZGxlc0NvdW50KTtcclxuICAgICAgICAvLyAvLyBtYWtlIHdpZHRoIG9kZCAoMSwgMywgNSwgLi4uKVxyXG4gICAgICAgIC8vIHcgPSB3IC0gKCh3ICsgMSkgJSAyKTtcclxuICAgICAgICAvLyAvLyBiZXR3ZWVuIG1pbkNhbmRsZVdpZHRoIGFuZCBtYXhDYW5kbGVXaWR0aFxyXG4gICAgICAgIC8vIHJldHVybiBNYXRoLm1pbih0aGlzLm1heENhbmRsZVdpZHRoLCBNYXRoLm1heCh0aGlzLm1pbkNhbmRsZVdpZHRoLCB3KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaW5lKGNhbnZhczogSUNhbnZhcywgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNhbnZhcy5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICBjYW52YXMubGluZVRvKHgyLCB5Mik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRTZXR0aW5ncygpOiBTZXR0aW5nU2V0IHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdTZXQoJ3JlbmRlcmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nU2V0KTogdm9pZCB7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBBeGlzUmVuZGVyZXJcbiAqIFxuICogQGNsYXNzZGVzYyBDb250YWlucyBtZXRob2RzIGZvciByZW5kZXJpbmcgYXhlcy5cbiAqL1xuaW1wb3J0IHsgVGltZUF1dG9HcmlkIH0gZnJvbSAnLi4vYXhlcy9pbmRleCc7XG5pbXBvcnQgeyBDYW52YXNUZXh0QmFzZUxpbmUsIElDYW52YXMgfSBmcm9tICcuLi9jYW52YXMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4aXMsIElUaW1lQXhpcyB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSVJlY3QgfSBmcm9tICcuLi9zaGFyZWQvaW5kZXgnO1xuaW1wb3J0IHsgRGF0ZVV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgSUF4ZXNSZW5kZXIsIElUaW1lQXhpc1JlbmRlciB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lQXhpc1JlbmRlcmVyIGltcGxlbWVudHMgSVRpbWVBeGlzUmVuZGVyIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgbW9udGhOYW1lcyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuICAgIHB1YmxpYyByZW5kZXIoY2FudmFzOiBJQ2FudmFzLCBheGlzOiBJVGltZUF4aXMsIGZyYW1lOiBJUmVjdCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IGdyaWQgPSBheGlzLmdldEdyaWQoKTtcblxuICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMucmFuZ2U7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gVGltZUF1dG9HcmlkLnNlbGVjdFNjYWxlKGZyYW1lLncsIGF4aXMuaW50ZXJ2YWwsIHJhbmdlKTtcblxuICAgICAgICBjYW52YXMuZm9udCA9ICcxMXB4IEFyaWFsJztcbiAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICAgICAgY2FudmFzLnNldFN0cm9rZVN0eWxlKCdibGFjaycpO1xuICAgICAgICBjYW52YXMuc2V0VGV4dEJhc2VMaW5lKENhbnZhc1RleHRCYXNlTGluZS5Ub3ApO1xuICAgICAgICBjYW52YXMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZ3JpZC5yZXNldCgpO1xuICAgICAgICB3aGlsZSAoZ3JpZC5tb3ZlTmV4dCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdCYXIoY2FudmFzLCBncmlkLmN1cnJlbnQudWlkLnQsIGdyaWQuY3VycmVudC54KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy5zdHJva2UoKTtcbiAgICAgICAgY2FudmFzLmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd0JhcihjYW52YXM6IElDYW52YXMsIGRhdGU6IERhdGUsIHg6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgY2FudmFzLm1vdmVUbyh4LCAwKTtcbiAgICAgICAgY2FudmFzLmxpbmVUbyh4LCAzKTtcblxuICAgICAgICAvLyBkcmF3IHRpbWUgbWFya1xuICAgICAgICBjb25zdCBtYXJrVGV4dCA9IHRoaXMuZm9ybWF0RGF0ZShkYXRlKTtcbiAgICAgICAgY29uc3QgdyA9IGNhbnZhcy5tZWFzdXJlVGV4dChtYXJrVGV4dCkud2lkdGg7XG5cbiAgICAgICAgY2FudmFzLmZpbGxUZXh0KG1hcmtUZXh0LCB4IC0gdyAvIDIsIDUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0RGF0ZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgICAgICAgLy8gSWYgaG91cnMgYXJlIG5vdCAwIG9yIG1pbnV0ZXMgYXJlIG5vdCAwIHRoZW4gcmVuZGVyIGhoOm1tXG4gICAgICAgIC8vIGVsc2UgaWYgMSBKYW4gdGhlbiByZW5kZXIgWWVhclxuICAgICAgICAvLyBlbHNlIGlmIDEgZGF5IHRoZW4gcmVuZGVyIE1vbnRoXG4gICAgICAgIC8vIGVsc2UgcmVuZGVyIGRheVxuICAgICAgICBpZiAoZGF0ZS5nZXRVVENIb3VycygpICE9PSAwIHx8IGRhdGUuZ2V0VVRDTWludXRlcygpICE9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBoaCA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgICAgIGNvbnN0IG1tID0gZGF0ZS5nZXRVVENNaW51dGVzKCk7XG4gICAgICAgICAgICByZXR1cm4gKCcwJyArIGhoLnRvRml4ZWQoMCkpLnNsaWNlKC0yKSArICc6JyArICgnMCcgKyBtbS50b0ZpeGVkKDApKS5zbGljZSgtMik7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0ZS5nZXRVVENEYXRlKCkgPT09IDEgJiYgZGF0ZS5nZXRVVENNb250aCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSB9YDtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRlLmdldFVUQ0RhdGUoKSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGAkeyB0aGlzLm1vbnRoTmFtZXNbZGF0ZS5nZXRVVENNb250aCgpXSB9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgJHsgZGF0ZS5nZXRVVENEYXRlKCkgfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFRpbWVNYXJrUmVuZGVyZXIgY2xhc3MuXG4gKi9cbmltcG9ydCB7IENhbnZhc1RleHRCYXNlTGluZSwgSUNhbnZhcyB9IGZyb20gJy4uL2NhbnZhcy9pbmRleCc7XG5pbXBvcnQgeyBJUG9pbnQsIElTaXplIH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcbmltcG9ydCB7IElNYXJrUmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIFRpbWVNYXJrUmVuZGVyZXIgaW1wbGVtZW50cyBJTWFya1JlbmRlcjxEYXRlPiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nTGVmdCA9IDM7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwYWRkaW5nVG9wICA9IDU7XG5cbiAgICBwdWJsaWMgcmVuZGVyKGNhbnZhczogSUNhbnZhcywgZGF0YTogRGF0ZSwgcG9pbnQ6IElQb2ludCwgZnJhbWVTaXplOiBJU2l6ZSk6IHZvaWQge1xuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgaGggPSBkYXRhLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgICAgICBjb25zdCBtbSA9IGRhdGEuZ2V0VVRDTWludXRlcygpO1xuICAgICAgICAgICAgY29uc3QgaGhtbSA9ICgnMCcgKyBoaC50b0ZpeGVkKDApKS5zbGljZSgtMikgKyAnOicgKyAoJzAnICsgbW0udG9GaXhlZCgwKSkuc2xpY2UoLTIpO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGAke2RhdGEuZ2V0VVRDRnVsbFllYXIoKX0tJHtkYXRhLmdldFVUQ01vbnRoKCkgKyAxfS0ke2RhdGEuZ2V0VVRDRGF0ZSgpfSAke2hobW19YDtcblxuICAgICAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gY2FudmFzLm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjM0YzRjNGJztcbiAgICAgICAgICAgIGNhbnZhcy5maWxsUmVjdChwb2ludC54IC0gdGV4dFdpZHRoIC8gMiAtIHRoaXMucGFkZGluZ0xlZnQsIHBvaW50LnksIHRleHRXaWR0aCArIHRoaXMucGFkZGluZ0xlZnQgKiAyLCAxOCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy5mb250ID0gJzExcHggQXJpYWwnO1xuICAgICAgICAgICAgY2FudmFzLmZpbGxTdHlsZSA9ICcjRUFFQUVBJztcbiAgICAgICAgICAgIGNhbnZhcy5zZXRUZXh0QmFzZUxpbmUoQ2FudmFzVGV4dEJhc2VMaW5lLlRvcCk7XG4gICAgICAgICAgICBjYW52YXMuZmlsbFRleHQodGV4dCwgcG9pbnQueCAtIHRleHRXaWR0aCAvIDIsIHBvaW50LnkgKyB0aGlzLnBhZGRpbmdUb3ApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQ2FuZGxlc3RpY2tDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9DYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXInO1xuaW1wb3J0IHsgQ2hhcnRSZW5kZXJlciB9IGZyb20gJy4vQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBJQXhlc1JlbmRlciwgSUNoYXJ0UmVuZGVyLCBJTWFya1JlbmRlciwgSVBvcHVwUmVuZGVyLCBJUmVuZGVyTG9jYXRvciwgSVRpbWVBeGlzUmVuZGVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IExpbmVDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9MaW5lQ2hhcnRSZW5kZXJlcic7XG5pbXBvcnQgeyBMaW5lc3RpY2tDaGFydFJlbmRlcmVyIH0gZnJvbSAnLi9MaW5lc3RpY2tDaGFydFJlbmRlcmVyJztcbmltcG9ydCB7IFByaWNlQXhpc1JlbmRlcmVyIH0gZnJvbSAnLi9QcmljZUF4aXNSZW5kZXJlcic7XG5pbXBvcnQgeyBSZW5kZXJMb2NhdG9yIH0gZnJvbSAnLi9SZW5kZXJMb2NhdG9yJztcbmltcG9ydCB7IFJlbmRlclV0aWxzIH0gZnJvbSAnLi9SZW5kZXJVdGlscyc7XG5pbXBvcnQgeyBUaW1lQXhpc1JlbmRlcmVyIH0gZnJvbSAnLi9UaW1lQXhpc1JlbmRlcmVyJztcblxuZXhwb3J0IHtcbiAgICBDYW5kbGVzdGlja0NoYXJ0UmVuZGVyZXIsXG4gICAgQ2hhcnRSZW5kZXJlcixcbiAgICBJQXhlc1JlbmRlcixcbiAgICBJQ2hhcnRSZW5kZXIsXG4gICAgSU1hcmtSZW5kZXIsXG4gICAgSVBvcHVwUmVuZGVyLFxuICAgIElSZW5kZXJMb2NhdG9yLFxuICAgIElUaW1lQXhpc1JlbmRlcixcbiAgICBMaW5lQ2hhcnRSZW5kZXJlcixcbiAgICBMaW5lc3RpY2tDaGFydFJlbmRlcmVyLFxuICAgIFByaWNlQXhpc1JlbmRlcmVyLFxuICAgIFJlbmRlckxvY2F0b3IsXG4gICAgUmVuZGVyVXRpbHMsXG4gICAgVGltZUF4aXNSZW5kZXJlclxuIH07XG4iLCIvKipcbiAqIFR5cGVkIGV2ZW50cyBmb3IgVHlwZVNjcmlwdC5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIElFdmVudEhhbmRsZXI8VD4ge1xuICAgIChhcmc/OiBUKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnQ8VD4ge1xuICAgIG9uKGhhbmRsZXI6IElFdmVudEhhbmRsZXI8VD4pOiB2b2lkO1xuICAgIG9mZihoYW5kbGVyOiBJRXZlbnRIYW5kbGVyPFQ+KTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50PFQ+IGltcGxlbWVudHMgSUV2ZW50PFQ+IHtcbiAgICBwcml2YXRlIGhhbmRsZXJzOiBJRXZlbnRIYW5kbGVyPFQ+W10gPSBbXTtcblxuICAgIHB1YmxpYyBvbihoYW5kbGVyOiBJRXZlbnRIYW5kbGVyPFQ+KSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2ZmKGhhbmRsZXI6IElFdmVudEhhbmRsZXI8VD4pIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGggPT4gaCAhPT0gaGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHVibGljIHRyaWdnZXIoZGF0YT86IFQpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyc1xuICAgICAgICAgICAgLnNsaWNlKDApXG4gICAgICAgICAgICAuZm9yRWFjaChoID0+IGgoZGF0YSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaHJvdHRsZXMgZXZlbnQuXG4gKiBAcGFyYW0gY2FsbGJhY2sgRXZlbnQgaGFuZGxlclxuICogQHBhcmFtIGxpbWl0IExpbWl0IGluIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoY2FsbGJhY2s6IChlOiBhbnkpID0+IHZvaWQsIGxpbWl0OiBudW1iZXIpIHtcbiAgICBsZXQgd2FpdCA9IGZhbHNlO1xuICAgIHJldHVybiAoZTogYW55KSA9PiB7XG4gICAgICAgIGlmICghd2FpdCkge1xuICAgICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgICAgICB3YWl0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB3YWl0ID0gZmFsc2U7IH0sIGxpbWl0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCIvKipcclxuICogRml4ZWRTaXplQXJyYXkgY2xhc3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRml4ZWRTaXplQXJyYXk8VD4ge1xyXG4gICAgcHJpdmF0ZSBzaXplOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9sZW5ndGg6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGNvbnRhaW5lcjogVFtdID0gW107XHJcbiAgICBwcml2YXRlIGNvbXBhcmVyOiAobGhzOiBULCByaHM6IFQpID0+IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBpbnN0YW5jZSBvZiBhcnJheVxyXG4gICAgICogQHBhcmFtIHNpemUgTWF4aW11bSBhbW91bnQgb2YgZWxlbWVudHMuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHNpemU6IG51bWJlciwgY29tcGFyZXI6IChsaHM6IFQsIHJoczogVCkgPT4gbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLmNvbXBhcmVyID0gY29tcGFyZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXJyZW50IGFtb3VudCBvZiBpdGVtcyBpbiB0aGUgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRleGVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRJdGVtKGluZGV4OiBudW1iZXIpOiBUIHtcclxuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX2xlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4IGlzIG91dCBvZiByYW5nZS4gaW5kZXg9JHtpbmRleH0sIGxlbmd0aD0ke3RoaXMuX2xlbmd0aH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyW2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGFzdCgpOiBUIHtcclxuICAgICAgICBpZiAodGhpcy5fbGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJbdGhpcy5fbGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBpcyBlbXB0eS4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxhc3RPckRlZmF1bHQoKTogVHx1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lclt0aGlzLl9sZW5ndGggLSAxXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgc3BlY2lmaWVkIGVsZW1lbnQgdG8gdGhlIGVuZCBvZiBhcnJheS5cclxuICAgICAqIElmIGFtb3VudCBvZiBlbGVtZW50cyBleGNlZWRzIGFsbG93ZWQgYW1vdW50LCBmaXJzdCBlbGVtZW50IGlzIHJlbW92ZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwdXNoKGVsZW1lbnQ6IFQpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGVuZ3RoIDwgdGhpcy5zaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyW3RoaXMuX2xlbmd0aF0gPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLl9sZW5ndGggKz0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaGlmdCBsZWZ0XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5fbGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyW2kgLSAxXSA9IHRoaXMuY29udGFpbmVyW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyW3RoaXMuX2xlbmd0aCAtIDFdID0gZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2hSYW5nZShlbGVtZW50czogVFtdKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGlzIG51bGwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBtYXhpbXVtIHZhbHVlLlxyXG4gICAgICogQHBhcmFtIGFjY2Vzc29yIFxyXG4gICAgICogQHBhcmFtIHRha2UgSWYgc3BlY2lmaWVkLCBjaGVja3Mgb25seSBsYXN0IEB0YWtlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtYXgoYWNjZXNzb3I6IChpdGVtOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkLCB0YWtlPzogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgbWF4OiBudW1iZXJ8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IEwgPSB0aGlzLmNvbnRhaW5lci5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0YWtlICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPCAoTCAtIHRha2UpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIGlnbm9yZSBlbGVtZW50IGlmIHRha2UgaXMgc3BlY2lmaWVkIGFuZCBpdCBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGVsKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KHZhbHVlLCBtYXggIT09IHVuZGVmaW5lZCA/IG1heCA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBtaW5pbXVtIHZhbHVlLlxyXG4gICAgICogQHBhcmFtIGFjY2Vzc29yIFxyXG4gICAgICogQHBhcmFtIHRha2UgSWYgc3BlY2lmaWVkLCBjaGVja3Mgb25seSBsYXN0IEB0YWtlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtaW4oYWNjZXNzb3I6IChpdGVtOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkLCB0YWtlPzogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgbWluOiBudW1iZXJ8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IEwgPSB0aGlzLmNvbnRhaW5lci5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0YWtlICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPCAoTCAtIHRha2UpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIGlnbm9yZSBlbGVtZW50IGlmIHRha2UgaXMgc3BlY2lmaWVkIGFuZCBpdCBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGVsKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKHZhbHVlLCBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWluO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpbmRleCBvZiBtYXggZWxlbWVudCBvciAtMVxyXG4gICAgICogQHBhcmFtIGFjY2Vzc29yXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtYXhJbmRleChhY2Nlc3NvcjogKGl0ZW06IFQpID0+IG51bWJlcnx1bmRlZmluZWQpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtYXg6IG51bWJlcnx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IG1heEluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYWNjZXNzb3IoZWwpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAobWF4ID09PSB1bmRlZmluZWQgfHwgKG1heCAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID4gbWF4KSkpIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXhJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaW5kZXggb2YgbWluIGVsZW1lbnQgb3IgLTFcclxuICAgICAqIEBwYXJhbSBhY2Nlc3NvclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWluSW5kZXgoYWNjZXNzb3I6IChpdGVtOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbWluOiBudW1iZXJ8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBtaW5JbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjY2Vzc29yKGVsKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG1pbiA9PT0gdW5kZWZpbmVkIHx8IChtaW4gIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA8IG1pbikpKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWluSW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIHN1bSBvZiBpdGVtc1xyXG4gICAgICogQHBhcmFtIGFjY2Vzc29yIFxyXG4gICAgICogQHBhcmFtIHRha2UgSWYgc3BlY2lmaWVkLCBjaGVja3Mgb25seSBsYXN0IEB0YWtlIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdW0oYWNjZXNzb3I6IChpdGVtOiBUKSA9PiBudW1iZXJ8dW5kZWZpbmVkLCB0YWtlPzogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgc3VtID0gMDtcclxuICAgICAgICBjb25zdCBMID0gdGhpcy5jb250YWluZXIubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZvckVhY2goKGVsLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFrZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4IDwgKEwgLSB0YWtlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBpZ25vcmUgZWxlbWVudCBpZiB0YWtlIGlzIHNwZWNpZmllZCBhbmQgaXQgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhY2Nlc3NvcihlbCk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgfVxyXG59XHJcbiIsIu+7vy8qKlxuICogQ29tbW9ubHkgdXNlZCBpbnRlcmZhY2VzLCB0aGF0IGNhbiBiZSB1c2VkIGluIG90aGVyIHByb2plY3RzLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJhbmdlPFQ+IHtcbiAgICByZWFkb25seSBzdGFydDogVDtcbiAgICByZWFkb25seSBlbmQ6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBvaW50IHtcbiAgICByZWFkb25seSB4OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUG9pbnQge1xuICAgIHB1YmxpYyB4OiBudW1iZXI7XG4gICAgcHVibGljIHk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg/OiBudW1iZXIsIHk/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geCA/IHggOiAwO1xuICAgICAgICB0aGlzLnkgPSB5ID8geSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBuZXcgcG9pbnQgd2hpY2ggaXMgYSBzdW0gb2YgdGhpcyBhbmQgb3RoZXIgcG9pbnQuIE9yaWdpbmFsIHBvaW50IGlzIG5vdCBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSBwXG4gICAgICovXG4gICAgcHVibGljIGFkZChwOiBJUG9pbnQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgcC54LCB0aGlzLnkgKyBwLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbmV3IHBvaW50IHdoaWNoIGlzIGRpZmZlcmVuY2UgYi93IHRoaXMgYW5kIG90aGVyIHBvaW50LiBPcmlnaW5hbCBwb2ludCBpcyBub3QgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0gcFxuICAgICAqL1xuICAgIHB1YmxpYyBzdWIocDogSVBvaW50KTogUG9pbnQge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAtIHAueCwgdGhpcy55IC0gcC55KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aWFsUG9pbnQge1xuICAgIHB1YmxpYyB4PzogbnVtYmVyO1xuICAgIHB1YmxpYyB5PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTaXplIHtcbiAgICByZWFkb25seSB3aWR0aDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgU2l6ZSB7XG4gICAgcHVibGljIHdpZHRoOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3Rvcih3PzogbnVtYmVyLCBoPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3ID8gdyA6IDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaCA/IGggOiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUmVjdCB7XG4gICAgcmVhZG9ubHkgeDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHk6IG51bWJlcjtcbiAgICByZWFkb25seSB3OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgaDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElIYXNoVGFibGU8VD4ge1xuICAgIFtrZXk6IHN0cmluZ106IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURpc3Bvc2FibGUge1xuICAgIGRpc3Bvc2UoKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIElkVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaWQ6IHN0cmluZyxcbiAgICAgICAgcHVibGljIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEl0ZXJhdG9yPFQ+IHtcbiAgICByZXNldCgpOiB2b2lkO1xuICAgIG1vdmVOZXh0KCk6IGJvb2xlYW47XG4gICAgY3VycmVudDogVDtcbn1cbiIsIi8qKlxuICogXG4gKi9cbmltcG9ydCB7IEV2ZW50LCBJRXZlbnQsIElFdmVudEhhbmRsZXIsIHRocm90dGxlIH0gZnJvbSAnLi9FdmVudCc7XG5pbXBvcnQgeyBGaXhlZFNpemVBcnJheSB9IGZyb20gJy4vRml4ZWRTaXplQXJyYXknO1xuaW1wb3J0IHsgSURpc3Bvc2FibGUsIElkVmFsdWUsIElIYXNoVGFibGUsIElQb2ludCwgSVJhbmdlLCBJUmVjdCwgSVNpemUsIEl0ZXJhdG9yLCBQYXJ0aWFsUG9pbnQsIFBvaW50LCBTaXplIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuZXhwb3J0IHtcbiAgICBFdmVudCxcbiAgICBGaXhlZFNpemVBcnJheSxcbiAgICBJRGlzcG9zYWJsZSxcbiAgICBJZFZhbHVlLFxuICAgIElFdmVudCxcbiAgICBJRXZlbnRIYW5kbGVyLFxuICAgIElIYXNoVGFibGUsXG4gICAgSVBvaW50LFxuICAgIElSYW5nZSxcbiAgICBJUmVjdCxcbiAgICBJU2l6ZSxcbiAgICBJdGVyYXRvcixcbiAgICBQYXJ0aWFsUG9pbnQsXG4gICAgUG9pbnQsXG4gICAgU2l6ZSxcbiAgICB0aHJvdHRsZVxufTtcbiIsIi8qKlxuICogQXJyYXlVdGlscyBjbGFzcy5cbiAqL1xuaW1wb3J0IHsgSUNvbXBhcmVyIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcblxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBhcnJheXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcnJheVV0aWxzIHtcbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdXBkYXRlIGFycmF5IGludG8gdGFyZ2V0IGFycmF5IHVzaW5nIHNwZWNpZmllZCBjb21wYXJhcmVyLlxuICAgICAqIEVxdWFsIGVsZW1lbnRzIGZyb20gdXBkYXRlIG92ZXJyaWRlIGVsZW1lbnRzIGZyb20gdGFyZ2V0LlxuICAgICAqIE1ldGhvZCBleHBlY3RzIHRhcmdldCBhbmQgdXBkYXRlIGFycmF5cyB0byBiZSBpbiBzb3J0ZWQgb3JkZXIuXG4gICAgICogXG4gICAgICogQHJldHVybnMgTmV3IGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgZnJvbSB0YXJnZXQgYW5kIHVwZGF0ZSBhcnJheXMuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBNRVJHRTxUPih0YXJnZXQ6IFRbXSwgdXBkYXRlOiBUW10sIGNvbXBhcmVyOiBJQ29tcGFyZXI8VD4sIHVwZGF0ZUZ1bmN0aW9uPzogKHRhcmdldDogVCwgdXBkYXRlOiBUKSA9PiBUKSA6IFRbXSB7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IEFycmF5PFQ+KHRhcmdldC5sZW5ndGggKyB1cGRhdGUubGVuZ3RoKTsgLy8gcHJlYWxsb2NhdGUgbWVtb3J5XG5cbiAgICAgICAgbGV0IGlhID0gMDtcbiAgICAgICAgbGV0IGliID0gMDtcbiAgICAgICAgbGV0IGFjdHVhbFNpemU6IG51bWJlciA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGlhIDwgdGFyZ2V0Lmxlbmd0aCB8fCBpYiA8IHVwZGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpYSA8IHRhcmdldC5sZW5ndGggJiYgaWIgPCB1cGRhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcGFyZSBkYXRlc1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlcih0YXJnZXRbaWFdLCB1cGRhdGVbaWJdKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2FjdHVhbFNpemVdID0gdGFyZ2V0W2lhXTtcbiAgICAgICAgICAgICAgICAgICAgaWEgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVyKHRhcmdldFtpYV0sIHVwZGF0ZVtpYl0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWRbYWN0dWFsU2l6ZV0gPSB1cGRhdGVbaWJdO1xuICAgICAgICAgICAgICAgICAgICBpYiArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRha2UgbmV3ZXN0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2FjdHVhbFNpemVdID0gdXBkYXRlRnVuY3Rpb24odGFyZ2V0W2lhXSwgdXBkYXRlW2liXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZWRbYWN0dWFsU2l6ZV0gPSB1cGRhdGVbaWJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlhICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGliICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpYSA8IHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IEEgbGVmdFxuICAgICAgICAgICAgICAgIG1lcmdlZFthY3R1YWxTaXplXSA9IHRhcmdldFtpYV07XG4gICAgICAgICAgICAgICAgaWEgKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWIgPCB1cGRhdGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBCIGxlZnRcbiAgICAgICAgICAgICAgICBtZXJnZWRbYWN0dWFsU2l6ZV0gPSB1cGRhdGVbaWJdO1xuICAgICAgICAgICAgICAgIGliICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY3R1YWxTaXplICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgbWVyZ2VkLmxlbmd0aCA9IGFjdHVhbFNpemU7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hpZnRzIGVsZW1lbnQgd2l0aCBzcGVjaWZpZWQgaW5kZXggYnkgdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAgKiBJZiBcImluZGV4ICsgc2hpZnRcIiBpcyBvdXQgb2YgYXJyYXkgcmFuZ2UsIHRoYW4gZWxlbWVudCBpcyBqdXN0IHNoaWZ0ZWQgdG8gdGhlIHN0YXJ0IG9yIHRoZSBlbmQgb2YgYXJyYXkuXG4gICAgICogVGhlIHNpemUgb2YgYXJyYXkgaXMgbm90IGNoYW5nZWQuXG4gICAgICogQHBhcmFtIGFycmF5IENvbnRhaW5pbmcgYXJyYXkuXG4gICAgICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHNoaWZ0LlxuICAgICAqIEBwYXJhbSBzaGlmdCBQb3NpdGl2ZSBvciBuZWdhdGl2ZSB2YWx1ZSB0aGF0IHNwZWNpZmllcyBzaGlmdCB2YWx1ZS4gXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBTSElGVDxUPihhcnJheTogVFtdLCBpbmRleDogbnVtYmVyLCBzaGlmdDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgc2hpZnQgIT09IDApIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTcGVjaWZpZWQgaW5kZXggaXMgb3V0IG9mIHJhbmdlLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdGVwID0gc2hpZnQgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgY29uc3QgZmluID0gTWF0aC5taW4oTWF0aC5tYXgoaW5kZXggKyBzaGlmdCwgMCksIGFycmF5Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBpICE9PSBmaW47IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBhcnJheVtpXTtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2kgKyBzdGVwXTtcbiAgICAgICAgICAgICAgICBhcnJheVtpICsgc3RlcF0gPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBVdGlsaXR5IG9wZXJhdGlvbnMgZm9yIGRhdGVzLlxuICovXG5pbXBvcnQgeyBUaW1lSW50ZXJ2YWwgfSBmcm9tICcuLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IFRpbWVTcGFuIH0gZnJvbSAnLi9UaW1lU3Bhbic7XG5cbmV4cG9ydCBjbGFzcyBEYXRlVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgdXRjTm93KCk6IERhdGUge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFV0Y0RhdGUoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk/OiBudW1iZXIsIGhvdXI/OiBudW1iZXIsIG1pbnV0ZT86IG51bWJlciwgc2Vjb25kPzogbnVtYmVyLCBtcz86IG51bWJlcikgOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoLCBkYXkgfHwgMSwgaG91ciB8fCAwLCBtaW51dGUgfHwgMCwgc2Vjb25kIHx8IDAsIG1zIHx8IDApKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdDE0KGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKCcwMDAwMDAwMDAwMDAwMCcgKyBkYXRlLmdldFRpbWUoKSkuc2xpY2UoLTE0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdERhdGVJU08oZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IG1vbnRoID0gKCcwMCcgKyAoZGF0ZS5nZXRVVENNb250aCgpICsgMSkpLnNsaWNlKC0yKTtcbiAgICAgICAgY29uc3QgZGF5ID0gKCcwMCcgKyBkYXRlLmdldFVUQ0RhdGUoKSkuc2xpY2UoLTIpO1xuICAgICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHBhcnNlSVNPRGF0ZSh0ZXh0OiBzdHJpbmcpOiBEYXRlIHtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgXCJ0ZXh0XCIgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvdW50IG9mIGludGVydmFscyBiL3cgdHdvIGRhdGVzLiBCb3RoIGRhdGVzIHNob3VsZCBiZSBVVEMuXG4gICAgICogQHBhcmFtIGRhdGUxIFxuICAgICAqIEBwYXJhbSBkYXRlMiBcbiAgICAgKiBAcGFyYW0gaW50ZXJ2YWwgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkaWZmSW50ZXJ2YWxzKGRhdGUxOiBEYXRlLCBkYXRlMjogRGF0ZSwgaW50ZXJ2YWw6IFRpbWVJbnRlcnZhbCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhkYXRlMS5nZXRUaW1lKCkgLSBkYXRlMi5nZXRUaW1lKCkpO1xuXG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLnNlYzogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvIDEwMDApO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluNTogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA1KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4xNTogcmV0dXJuIE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiAxNSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluMzA6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogMzApKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjApKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI0OiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogNCkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjY6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjAgKiA2KSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyMTI6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjAgKiAxMikpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTM6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDMpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLndlZWs6IHJldHVybiBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDcpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTEwOiByZXR1cm4gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQgKiAxMCkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubW9udGg6XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZU1pbiA9IGRhdGUxIDwgZGF0ZTIgPyBkYXRlMSA6IGRhdGUyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVNYXggPSBkYXRlMSA8IGRhdGUyID8gZGF0ZTIgOiBkYXRlMTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb250aHMgPSBkYXRlTWF4LmdldE1vbnRoKCkgLSBkYXRlTWluLmdldE1vbnRoKClcbiAgICAgICAgICAgICAgICAgICAgKyAoMTIgKiAoZGF0ZU1heC5nZXRGdWxsWWVhcigpIC0gZGF0ZU1pbi5nZXRGdWxsWWVhcigpKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IGFkZGluZyBkaWZmIHdpbGwgbm90IGV4Y2VlZCBncmVhdGVyIGRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wdXRlZCA9IERhdGVVdGlscy5hZGRJbnRlcnZhbChkYXRlTWluLCBpbnRlcnZhbCwgbW9udGhzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGNvbXB1dGVkIDw9IGRhdGVNYXgpID8gbW9udGhzIDogTWF0aC5tYXgobW9udGhzIC0gMSwgMCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnZhbCAkeyBpbnRlcnZhbCB9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFkZEludGVydmFsKGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwsIHRpbWVzOiBudW1iZXIgPSAxKTogRGF0ZSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHZhbmlsbGEgSlMgY2FuIGluY29ycmVjdGx5IGhhbmRsZSBcInNldCpcIiBmdW5jdGlvbnMuIENoZWNrIHdpdGggXCJkYXlsaWdodCBzYXZpbmcgdGltZVwiLlxuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuc2VjOiBuZXdEYXRlLnNldFNlY29uZHMoZGF0ZS5nZXRTZWNvbmRzKCkgKyB0aW1lcyAqIDEpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjogbmV3RGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgdGltZXMgKiAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW41OiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyB0aW1lcyAqIDUpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjE1OiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyB0aW1lcyAqIDE1KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW4zMDogbmV3RGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgdGltZXMgKiAzMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyB0aW1lcyAqIDEpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI0OiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSArIHRpbWVzICogNCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjY6IG5ld0RhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpICsgdGltZXMgKiA2KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyMTI6IG5ld0RhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpICsgdGltZXMgKiAxMik7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiBuZXdEYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyB0aW1lcyAqIDEpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmRheTM6IG5ld0RhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHRpbWVzICogMyk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwud2VlazogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgdGltZXMgKiA3KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgdGltZXMgKiAxMCk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubW9udGg6IG5ld0RhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgdGltZXMgKiAxKTsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnRlcnZhbCAkeyBpbnRlcnZhbCB9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzdWJzdHJhY3RJbnRlcnZhbChkYXRlOiBEYXRlLCBpbnRlcnZhbDogVGltZUludGVydmFsKTogRGF0ZSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgIHN3aXRjaCAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHZhbmlsbGEgSlMgY2FuIGluY29ycmVjdGx5IGhhbmRsZSBcInNldCpcIiBmdW5jdGlvbnMuIENoZWNrIHdpdGggXCJkYXlsaWdodCBzYXZpbmcgdGltZVwiLlxuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuc2VjOiBuZXdEYXRlLnNldFNlY29uZHMoZGF0ZS5nZXRTZWNvbmRzKCkgLSAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5taW46IG5ld0RhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIDEpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjU6IG5ld0RhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIDUpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjE1OiBuZXdEYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgLSAxNSk7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluMzA6IG5ld0RhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIDMwKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5ob3VyOiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSAtIDEpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI0OiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSAtIDQpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI2OiBuZXdEYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSAtIDYpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXIxMjogbmV3RGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgLSAxMik7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuZGF5OiBuZXdEYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSAxKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkzOiBuZXdEYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSAzKTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC53ZWVrOiBuZXdEYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSA3KTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogbmV3RGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gMTApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1vbnRoOiBuZXdEYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSAtIDEpOyBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGludGVydmFsICR7IGludGVydmFsIH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgc3BlY2lmaWVkIGRhdGUgdG8gdGhlIHNwZWNpZmllZCBpbnRlcnZhbC4gRGF0ZSBpcyBleHBlY3RlZCB0byBiZSBVVEMuXG4gICAgICogQHBhcmFtIGRhdGUgXG4gICAgICogQHBhcmFtIGludGVydmFsIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdHJ1bmNhdGVUb0ludGVydmFsKGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpOiBEYXRlIHtcbiAgICAgICAgc3dpdGNoIChpbnRlcnZhbCkge1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuc2VjOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX1NFQ09ORFMoMSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX01JTlVURVMoMSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwubWluNTogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9NSU5VVEVTKDUpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjE1OiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX01JTlVURVMoMTUpKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLm1pbjMwOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX01JTlVURVMoMzApKTtcbiAgICAgICAgICAgIGNhc2UgVGltZUludGVydmFsLmhvdXI6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fSE9VUlMoMSkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjQ6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fSE9VUlMoNCkpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjY6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fSE9VUlMoNikpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwuaG91cjEyOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0hPVVJTKDEyKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXk6IHJldHVybiBEYXRlVXRpbHMudHJ1bmNhdGVUb1RpbWVTcGFuKGRhdGUsIFRpbWVTcGFuLkZST01fREFZUygxKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkzOiByZXR1cm4gRGF0ZVV0aWxzLnRydW5jYXRlVG9UaW1lU3BhbihkYXRlLCBUaW1lU3Bhbi5GUk9NX0RBWVMoMykpO1xuICAgICAgICAgICAgY2FzZSBUaW1lSW50ZXJ2YWwud2VlazpcbiAgICAgICAgICAgICAgICBjb25zdCBkYXkgPSBkYXRlLmdldERheSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRydW5jYXRlZCA9IERhdGVVdGlscy5nZXRVdGNEYXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgZGF0ZS5nZXRVVENNb250aCgpLCBkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgICAgICAgICAgdHJ1bmNhdGVkLnNldERhdGUodHJ1bmNhdGVkLmdldERhdGUoKSAtIChkYXkgIT09IDAgPyBkYXkgLSAxIDogNikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVuY2F0ZWQ7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5kYXkxMDogcmV0dXJuIERhdGVVdGlscy50cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZSwgVGltZVNwYW4uRlJPTV9EQVlTKDEwKSk7XG4gICAgICAgICAgICBjYXNlIFRpbWVJbnRlcnZhbC5tb250aDpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZVV0aWxzLmdldFV0Y0RhdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIDEpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW50ZXJ2YWwgJHsgaW50ZXJ2YWwgfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0cnVuY2F0ZVRvVGltZVNwYW4oZGF0ZTogRGF0ZSwgdGltZVNwYW46IFRpbWVTcGFuKTogRGF0ZSB7XG4gICAgICAgIGlmICh0aW1lU3Bhbi50b3RhbE1pbGxpc2Vjb25kcyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0ZU1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZU1pbGxpc2Vjb25kcyAtIChkYXRlTWlsbGlzZWNvbmRzICUgdGltZVNwYW4udG90YWxNaWxsaXNlY29uZHMpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzVHJ1bmNhdGVkKGRhdGU6IERhdGUsIHRpbWVTcGFuOiBUaW1lU3Bhbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGltZVNwYW4udG90YWxNaWxsaXNlY29uZHMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGVNaWxsaXNlY29uZHMgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuICgoZGF0ZU1pbGxpc2Vjb25kcyAlIHRpbWVTcGFuLnRvdGFsTWlsbGlzZWNvbmRzKSA9PT0gMCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc1JvdW5kKGRhdGU6IERhdGUsIGludGVydmFsOiBUaW1lSW50ZXJ2YWwpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdHJ1bmNhdGVkID0gRGF0ZVV0aWxzLnRydW5jYXRlVG9JbnRlcnZhbChkYXRlLCBpbnRlcnZhbCk7XG4gICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA9PT0gdHJ1bmNhdGVkLmdldFRpbWUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIERyYXdVdGlscyBjbGFzc1xuICovXG5pbXBvcnQgeyBJUG9pbnQsIElSZWN0IH0gZnJvbSAnLi4vc2hhcmVkL2luZGV4JztcblxuY29uc3QgTUlORElTVCA9IDAuMDAxO1xuXG5leHBvcnQgY2xhc3MgRHJhd1V0aWxzIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2V0aGVyIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBzcGVjaWZpZWQgbGluZS5cbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0gcDEgU3RhcnQgcG9pbnQgb2YgbGluZS5cbiAgICAgKiBAcGFyYW0gcDIgRW5kIHBvaW50IG9mIGxpbmUuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBJU19QT0lOVF9PTl9MSU5FKHA6IElQb2ludCwgcGE6IElQb2ludCwgcGI6IElQb2ludCwgcHJlY2lzaW9uOiBudW1iZXIpOiBib29sZWFuIHtcblxuICAgICAgICBjb25zdCBtaW54ID0gTWF0aC5taW4ocGEueCwgcGIueCk7XG4gICAgICAgIGNvbnN0IG1heHggPSBNYXRoLm1heChwYS54LCBwYi54KTtcbiAgICAgICAgY29uc3QgbWlueSA9IE1hdGgubWluKHBhLnksIHBiLnkpO1xuICAgICAgICBjb25zdCBtYXh5ID0gTWF0aC5tYXgocGEueSwgcGIueSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaGl0dGluZyB0aGUgcmVjdGFuZ2xlIGFyZWEgYXJvdW5kIHRoZSBsaW5lXG4gICAgICAgIGlmIChwLnggPCBtaW54IC0gcHJlY2lzaW9uIHx8IHAueCA+IG1heHggKyBwcmVjaXNpb24gfHwgcC55IDwgbWlueSAtIHByZWNpc2lvbiB8fCBwLnkgPiBtYXh5ICsgcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkaXN0eCA9IHBiLnggLSBwYS54O1xuICAgICAgICBjb25zdCBkaXN0eSA9IHBiLnkgLSBwYS55O1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkaXN0eCkgPiBNSU5ESVNUICYmIE1hdGguYWJzKGRpc3R5KSA+IE1JTkRJU1QpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgZGlzdGFuY2UgZnJvbSBhIHBvaW50IHRvIGEgbGluZVxuICAgICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKCBkaXN0eSAqIHAueCAtIGRpc3R4ICogcC55ICsgcGIueCAqIHBhLnkgLSBwYi55ICogcGEueCApXG4gICAgICAgICAgICAgICAgLyBNYXRoLnNxcnQoIGRpc3R5ICogZGlzdHkgKyBkaXN0eCAqIGRpc3R4ICk7XG4gICAgICAgICAgICByZXR1cm4gZGlzdCA8IHByZWNpc2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIElTX1BPSU5UX09OX1FVQURDVVJWRShwOiBJUG9pbnQsIHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQsIHBjOiBJUG9pbnQsIHByZWNpc2lvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHggPSBwLng7IGNvbnN0IHkgPSBwLnk7XG4gICAgICAgIGNvbnN0IHgxID0gcGEueDsgY29uc3QgeTEgPSBwYS55O1xuICAgICAgICBjb25zdCB4MiA9IHBiLng7IGNvbnN0IHkyID0gcGIueTtcbiAgICAgICAgY29uc3QgeDMgPSBwYy54OyBjb25zdCB5MyA9IHBjLnk7XG5cbiAgICAgICAgY29uc3QgYSA9ICh4MSAtIDIgKiB4MiArIHgzKTtcbiAgICAgICAgY29uc3QgYiA9IDIgKiB4MiAtIDIgKiB4MTtcblxuICAgICAgICAvLyBGaW5kIHBvc3NpYmxlIFwidFwiIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBEcmF3VXRpbHMuU09MVkVfUVVBRChhLCBiLCB4MSAtIHgpLnNvcnQoKTtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXB1dGUgY29ycmVzcG9uZGVudCBcInlcIiB2YWx1ZXMgd2l0aCBcInRcIiB2YWx1ZXNcbiAgICAgICAgY29uc3QgdGVzdGVkWTogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgdmFsdWVzLmZvckVhY2godCA9PiB7XG4gICAgICAgICAgICB0ZXN0ZWRZLnB1c2goKDEgLSB0KSAqICgxIC0gdCkgKiB5MSArIDIgKiAoMSAtIHQpICogdCAqIHkyICsgdCAqIHQgKiB5Myk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRlc3QgcG9pbnQgXCJ5XCIgdmFsdWUgXG4gICAgICAgIHJldHVybiB0ZXN0ZWRZLnNvbWUoeXQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh5ID49IHl0IC0gcHJlY2lzaW9uICYmIHkgPD0geXQgKyBwcmVjaXNpb24pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTb2x2ZXMgcXVhZHJhdGljIGVxdWF0aW9uLlxuICAgICAqIEBwYXJhbSBhXG4gICAgICogQHBhcmFtIGJcbiAgICAgKiBAcGFyYW0gY1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgU09MVkVfUVVBRChhOiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgICAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGIgIT09IDAgPyBbLWMgLyBiXSA6IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZCA9IGIgKiBiIC0gNCAqIGEgKiBjO1xuICAgICAgICBpZiAoZCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkID09PSAwXG4gICAgICAgICAgICAgICAgPyAoWy1iIC8gKDIgKiBhKV0pXG4gICAgICAgICAgICAgICAgOiBbKC1iICsgTWF0aC5zcXJ0KGQpKSAvICgyICogYSksXG4gICAgICAgICAgICAgICAgICAgKC1iIC0gTWF0aC5zcXJ0KGQpKSAvICgyICogYSldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgZGlzdGFuY2UgZnJvbSBhIHBvaW50IHRvIHRoZSBzcGVjaWZpZWQgbGluZVxuICAgICAqIEBwYXJhbSBwIFxuICAgICAqIEBwYXJhbSBwYSBcbiAgICAgKiBAcGFyYW0gcGIgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBESVNUX1RPX0xJTkUocDogSVBvaW50LCBwYTogSVBvaW50LCBwYjogSVBvaW50KTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGlzdHggPSBwYi54IC0gcGEueDtcbiAgICAgICAgY29uc3QgZGlzdHkgPSBwYi55IC0gcGEueTtcblxuICAgICAgICByZXR1cm4gKGRpc3R4ICE9PSAwIHx8IGRpc3R5ICE9PSAwKVxuICAgICAgICAgICAgPyBNYXRoLmFicyggZGlzdHkgKiBwLnggLSBkaXN0eCAqIHAueSArIHBiLnggKiBwYS55IC0gcGIueSAqIHBhLnggKVxuICAgICAgICAgICAgICAvIE1hdGguc3FydCggZGlzdHkgKiBkaXN0eSArIGRpc3R4ICogZGlzdHggKVxuICAgICAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgRElTVChwYTogSVBvaW50LCBwYjogSVBvaW50KTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZGlzdHggPSBwYi54IC0gcGEueDtcbiAgICAgICAgY29uc3QgZGlzdHkgPSBwYi55IC0gcGEueTtcblxuICAgICAgICByZXR1cm4gKGRpc3R4ICE9PSAwIHx8IGRpc3R5ICE9PSAwKVxuICAgICAgICAgICAgPyBNYXRoLnNxcnQoTWF0aC5wb3cocGIueCAtIHBhLngsIDIpICsgTWF0aC5wb3cocGIueSAtIHBhLnksIDIpKVxuICAgICAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTUlEKHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQpOiBJUG9pbnQge1xuICAgICAgICByZXR1cm4geyB4OiAocGEueCArIHBiLngpIC8gMiwgeTogKHBhLnkgKyBwYi55KSAvIDIgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuZ2xlIG9mIHRoZSBzcGVjaWZpZWQgbGluZSBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHBhXG4gICAgICogQHBhcmFtIHBiIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgQU5HTEUocGE6IElQb2ludCwgcGI6IElQb2ludCk6IG51bWJlciB7XG4gICAgICAgIC8vIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIocGIueSAtIHBhLnksIHBiLnggLSBwYS54KTsgLy8gaW4gZGVncmVlczogXG5cbiAgICAgICAgLy8gLy8gYW5nbGUgaW4gZGVncmVlc1xuICAgICAgICAvLyB2YXIgYW5nbGVEZWcgPSBNYXRoLmF0YW4yKHAyLnkgLSBwMS55LCBwMi54IC0gcDEueCkgKiAxODAgLyBNYXRoLlBJO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgcG9pbnQgQSBpcyBuZWFyIHBvaW50IEIgKGkuZS4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgaXMgbGVzcyB0aGVuIHByZWNpc2lvbikuXG4gICAgICogQHBhcmFtIHBhIFxuICAgICAqIEBwYXJhbSBwYiBcbiAgICAgKiBAcGFyYW0gcHJlY2lzaW9uIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgSVNfUE9JTlRfT1ZFUihwYTogSVBvaW50LCBwYjogSVBvaW50LCBwcmVjaXNpb246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMocGEueCAtIHBiLngpIDwgcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAmJiBNYXRoLmFicyhwYS55IC0gcGIueSkgPCBwcmVjaXNpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdldGhlciB0aGUgcG9pbnQgbGllcyBvbiB0aGUgc3BlY2lmaWVkIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIElTX1BPSU5UX09WRVJfUkVDVChwOiBJUG9pbnQsIHJlY3Q6IElSZWN0LCBwcmVjaXNpb246IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHAueCA+PSByZWN0LnggLSBwcmVjaXNpb24gJiYgcC54IDw9IHJlY3QueCArIHJlY3QudyArIHByZWNpc2lvblxuICAgICAgICAgICAmJiBwLnkgPj0gcmVjdC55IC0gcHJlY2lzaW9uICYmIHAueSA8PSByZWN0LnkgKyByZWN0LmggKyBwcmVjaXNpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpbmVhciBmdW5jdGlvbiBieSB0d28gcG9pbnRzLiBSZXR1cm5zIFkgdmFsdWUgZm9yIHRoZSBzcGVjaWZlZCBYIHZhbHVlLlxuICAgICAqIEBwYXJhbSBwYSBcbiAgICAgKiBAcGFyYW0gcGIgXG4gICAgICogQHBhcmFtIHggXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBMSU5FQVIocGE6IElQb2ludCwgcGI6IElQb2ludCwgeDogbnVtYmVyKTogbnVtYmVyfHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGRpc3R4ID0gcGIueCAtIHBhLng7XG5cbiAgICAgICAgcmV0dXJuIChNYXRoLmFicyhkaXN0eCkgPiBNSU5ESVNUKVxuICAgICAgICAgICAgPyAoKHBiLnggKiBwYS55IC0gcGEueCAqIHBiLnkpIC0gKHBhLnkgLSBwYi55KSAqIHgpIC8gZGlzdHhcbiAgICAgICAgICAgIDogdW5kZWZpbmVkOyAvLyBmb3IgdmVydGljYWwgbGluZVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgRVhURU5EKHBhOiBJUG9pbnQsIHBiOiBJUG9pbnQsIGZyYW1lOiBJUmVjdCk6IElQb2ludCB7XG4gICAgICAgIGNvbnN0IHgxID0gcGEueDsgY29uc3QgeTEgPSBwYS55O1xuICAgICAgICBjb25zdCB4MiA9IHBiLng7IGNvbnN0IHkyID0gcGIueTtcblxuICAgICAgICBjb25zdCBhID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYiA9IHgxIC0geDI7XG4gICAgICAgIGNvbnN0IGMgPSB4MiAqIHkxIC0geDEgKiB5MjtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoYSkgPiBNYXRoLmFicyhiKSkge1xuICAgICAgICAgICAgLy8gZXh0ZW5kaW5nIFlcbiAgICAgICAgICAgIGxldCB5O1xuICAgICAgICAgICAgaWYgKHkxID4geTIpIHtcbiAgICAgICAgICAgICAgICAvLyB0byBsb3dlciB2YWx1ZXNcbiAgICAgICAgICAgICAgICB5ID0gZnJhbWUueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gZ3JlYXRlciB2YWx1ZXNcbiAgICAgICAgICAgICAgICB5ID0gZnJhbWUueSArIGZyYW1lLmg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB4ID0gKGEgIT09IDApID8gLShiICogeSArIGMpIC8gYSA6IHkxO1xuICAgICAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZXh0ZW5kaW5nIFhcbiAgICAgICAgICAgIGxldCB4O1xuICAgICAgICAgICAgaWYgKHgxID4geDIpIHtcbiAgICAgICAgICAgICAgICAvLyB0byBsb3dlciB2YWx1ZXNcbiAgICAgICAgICAgICAgICB4ID0gZnJhbWUueDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gZ3JlYXRlciB2YWx1ZXNcbiAgICAgICAgICAgICAgICB4ID0gZnJhbWUueCArIGZyYW1lLnc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB5ID0gKGIgIT09IDApID8gLShhICogeCArIGMpIC8gYiA6IHgxO1xuICAgICAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBKU09OIHV0aWxzXG4gKi9cbmNvbnN0IHJlSVNPID0gL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVQoXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KD86XFwuXFxkKikpKD86WnwoXFwrfC0pKFtcXGR8Ol0qKSk/JC87XG5jb25zdCByZU1zQWpheCA9IC9eXFwvRGF0ZVxcKChkfC18LiopXFwpW1xcL3xcXFxcXSQvO1xuXG5leHBvcnQgY2xhc3MgSnNvblV0aWxzIHtcbiAgICAvKipcbiAgICAgKiBQYXJzZXMgZGF0ZSBmcm9tIHN0cmluZyB0byBEYXRlIG9iamVjdC5cbiAgICAgKiBVc2VkIHdpdGggSlNPTiBwYXJzZXIuXG4gICAgICogQHBhcmFtIGtleSBQcm9wZXJ0eSBuYW1lLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBTdHJpbmcgdmFsdWUgdG8gcGFyc2UuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBEQVRFUEFSU0VSKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBsZXQgYSA9IHJlSVNPLmV4ZWModmFsdWUpO1xuICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9IHJlTXNBamF4LmV4ZWModmFsdWUpO1xuICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gYVsxXS5zcGxpdCgvWy0rLC5dLyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGJbMF0gPyArYlswXSA6IDAgLSArYlsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59XG4iLCIvKipcbiAqIE51bWJlclV0aWxzIGNsYXNzLlxuICogXG4gKiBAY2xhc3MgVXRpbGl0aWVzIGZvciBudW1iZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTnVtYmVyVXRpbHMge1xuICAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbnVtYmVyIHJvdW5kZWQgdG8gZnJhY3Rpb25EaWdpdHMgYWZ0ZXIgcG9pbnQuXG4gICAgICogXG4gICAgICogQHBhcmFtIG4gbnVtYmVyIHRvIHJvdW5kXG4gICAgICogQHBhcmFtIGZyYWN0aW9uRGlnaXRzIGhvdyBtYW55IGRpZ2l0cyBhZnRlciBwb2ludC5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJvdW5kVG8objogbnVtYmVyLCBmcmFjdGlvbkRpZ2l0czogbnVtYmVyID0gMCkge1xuICAgICAgICBpZiAodHlwZW9mIG4gPT09ICdudW1iZXInICYmIHR5cGVvZiBmcmFjdGlvbkRpZ2l0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTogYW55ID0gKG4gKyAnZSsnICsgZnJhY3Rpb25EaWdpdHMpO1xuICAgICAgICAgICAgcmV0dXJuICsoTWF0aC5yb3VuZChudW0pICsgJ2UtJyArIGZyYWN0aW9uRGlnaXRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbn1cbiIsIi8qKlxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdHJpbmdVdGlscyB7XHJcbiAgICAvKipcclxuICAgICAqIENvbXBhcmVzIHN0cmluZ3MgYmVmb3JlIHNwZWNpZmllZCBjaGFyYWN0ZXIuXHJcbiAgICAgKiBAcGFyYW0gbGhzXHJcbiAgICAgKiBAcGFyYW0gcmhzIFxyXG4gICAgICogQHBhcmFtIGNoYXJhY3RlciBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjb21wYXJlKGxoczogc3RyaW5nLCByaHM6IHN0cmluZywgY2hhcmFjdGVyOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBpMSA9IGxocy5pbmRleE9mKGNoYXJhY3Rlcik7XHJcbiAgICAgICAgY29uc3QgaTIgPSByaHMuaW5kZXhPZihjaGFyYWN0ZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gKChpMSAhPT0gLTEgKSA/IGxocy5zdWJzdHJpbmcoMCwgaTEpIDogbGhzKVxyXG4gICAgICAgICAgICAgICAgPT09ICgoaTIgIT09IC0xICkgPyByaHMuc3Vic3RyaW5nKDAsIGkyKSA6IHJocyk7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogVGltZVNwYW4gY2xhc3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGltZVNwYW4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfdG90YWxNaWxsaXNlY29uZHM6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHRvdGFsTWlsbGlzZWNvbmRzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsTWlsbGlzZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodmFsdWU6IG51bWJlciwgdW5pdDogVGltZVVuaXQpIHtcclxuICAgICAgICBzd2l0Y2ggKHVuaXQpIHtcclxuICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5TZWNvbmRzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxNaWxsaXNlY29uZHMgPSB2YWx1ZSAqIDEwMDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5NaW51dGVzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxNaWxsaXNlY29uZHMgPSB2YWx1ZSAqIDYwMDAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuSG91cnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b3RhbE1pbGxpc2Vjb25kcyA9IHZhbHVlICogMzYwMDAwMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRpbWVVbml0LkRheXM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b3RhbE1pbGxpc2Vjb25kcyA9IHZhbHVlICogODY0MDAwMDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBUaW1lVW5pdCB2YWx1ZSAkeyB1bml0IH1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBGUk9NX0RBWVModmFsdWU6IG51bWJlcik6IFRpbWVTcGFuIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTcGFuKHZhbHVlLCBUaW1lVW5pdC5EYXlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEZST01fSE9VUlModmFsdWU6IG51bWJlcik6IFRpbWVTcGFuIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTcGFuKHZhbHVlLCBUaW1lVW5pdC5Ib3Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBGUk9NX01JTlVURVModmFsdWU6IG51bWJlcik6IFRpbWVTcGFuIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRpbWVTcGFuKHZhbHVlLCBUaW1lVW5pdC5NaW51dGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEZST01fU0VDT05EUyh2YWx1ZTogbnVtYmVyKTogVGltZVNwYW4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgVGltZVNwYW4odmFsdWUsIFRpbWVVbml0LlNlY29uZHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgQ09NUEFSRShsOiBUaW1lU3BhbiwgcjogVGltZVNwYW4pOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBsLl90b3RhbE1pbGxpc2Vjb25kcyAtIHIuX3RvdGFsTWlsbGlzZWNvbmRzO1xyXG4gICAgfVxyXG59XHJcblxyXG5lbnVtIFRpbWVVbml0IHtcclxuICAgIFNlY29uZHMsXHJcbiAgICBNaW51dGVzLFxyXG4gICAgSG91cnMsXHJcbiAgICBEYXlzLFxyXG4gICAgTW9udGhzXHJcbn1cclxuIiwiLyoqXG4gKiBQcmV2ZW50IGdob3N0IGNsaWNrIGZ1bmN0aW9uLlxuICogU291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qdGFuZ2VsZGVyLzM2MTA1Mjk3NmYwNDQyMDBlYTE3XG4gKi9cbmNvbnN0IHRocmVzaG9sZCA9IDI1O1xuY29uc3QgdGltZW91dCA9IDI1MDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdob3N0Q2xpY2tTdXBwcmVzc29yIHtcbiAgICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmNsYXNzIEdob3N0Q2xpY2tTdXBwcmVzc29yIHtcblxuICAgIHByaXZhdGUgY29vcmRpbmF0ZXM6IGFueVtdID0gW107XG4gICAgcHJpdmF0ZSBlbD86IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHsgLy8gaWYgdG91Y2ggc3VwcG9ydFxuICAgICAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5yZXNldENvb3JkaW5hdGVzLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnJlZ2lzdGVyQ29vcmRpbmF0ZXMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucHJldmVudEdob3N0Q2xpY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmVsKSB7XG4gICAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnJlc2V0Q29vcmRpbmF0ZXMsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMucmVnaXN0ZXJDb29yZGluYXRlcywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wcmV2ZW50R2hvc3RDbGljaywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVsID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcHJldmVudCBjbGlja3MgaWYgdGhleSdyZSBpbiBhIHJlZ2lzdGVyZWQgWFkgcmVnaW9uXG4gICAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldlxuICAgICAqL1xuICAgIHByaXZhdGUgcHJldmVudEdob3N0Q2xpY2sgPSAoZXY6IGFueSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5jb29yZGluYXRlcykge1xuICAgICAgICAgICAgY29uc3QgeCA9IGl0ZW1bMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gaXRlbVsxXTtcblxuICAgICAgICAgICAgLy8gd2l0aGluIHRoZSByYW5nZSwgc28gcHJldmVudCB0aGUgY2xpY2tcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhldi5jbGllbnRYIC0geCkgPCB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoZXYuY2xpZW50WSAtIHkpIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGlmIGl0IGlzIGFuIGZpbmFsIHRvdWNoZW5kLCB3ZSB3YW50IHRvIHJlZ2lzdGVyIGl0J3MgcGxhY2VcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGV2XG4gICAgICovXG4gICAgcHJpdmF0ZSByZWdpc3RlckNvb3JkaW5hdGVzID0gKGV2OiBhbnkpID0+IHtcbiAgICAgICAgLy8gdG91Y2hlbmQgaXMgdHJpZ2dlcmVkIG9uIGV2ZXJ5IHJlbGVhc2luZyBmaW5nZXJcbiAgICAgICAgLy8gY2hhbmdlZCB0b3VjaGVzIGFsd2F5cyBjb250YWluIHRoZSByZW1vdmVkIHRvdWNoZXMgb24gYSB0b3VjaGVuZFxuICAgICAgICAvLyB0aGUgdG91Y2hlcyBvYmplY3QgbWlnaHQgY29udGFpbiB0aGVzZSBhbHNvIGF0IHNvbWUgYnJvd3NlcnMgKGZpcmVmb3ggb3MpXG4gICAgICAgIC8vIHNvIHRvdWNoZXMgLSBjaGFuZ2VkVG91Y2hlcyB3aWxsIGJlIDAgb3IgbG93ZXIsIGxpa2UgLTEsIG9uIHRoZSBmaW5hbCB0b3VjaGVuZFxuICAgICAgICBpZiAoZXYudG91Y2hlcy5sZW5ndGggLSBldi5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgY29uc3QgdG91Y2ggPSBldi5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChbdG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WV0pO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucG9wQ29vcmRpbmF0ZXMsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVzZXQgdGhlIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldENvb3JkaW5hdGVzID0gKCkgPT4ge1xuICAgICAgICAvL2Nvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIHNldCBmcm9tIHRoZSBhcnJheVxuICAgICAqL1xuICAgIHByaXZhdGUgcG9wQ29vcmRpbmF0ZXMgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMuc3BsaWNlKDAsIDEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvdWNoVXRpbHMge1xuICAgIHB1YmxpYyBzdGF0aWMgUFJFVkVOVF9HSE9TVF9DTElDSyhlbDogSFRNTEVsZW1lbnQpOiBJR2hvc3RDbGlja1N1cHByZXNzb3Ige1xuICAgICAgICByZXR1cm4gbmV3IEdob3N0Q2xpY2tTdXBwcmVzc29yKGVsKTtcbiAgICB9XG59XG4iLCIvKipcclxuICogXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVWlkVXRpbHMge1xyXG4gICAgcHVibGljIHN0YXRpYyBORVdVSUQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgKiAxMDAwMDApLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXG4gKiBcbiAqL1xuaW1wb3J0IHsgQXJyYXlVdGlscyB9IGZyb20gJy4vQXJyYXlVdGlscyc7XG5pbXBvcnQgeyBEYXRlVXRpbHMgfSBmcm9tICcuL0RhdGVVdGlscyc7XG5pbXBvcnQgeyBEcmF3VXRpbHMgfSBmcm9tICcuL0RyYXdVdGlscyc7XG5pbXBvcnQgeyBJQ29tcGFyZXIgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSnNvblV0aWxzIH0gZnJvbSAnLi9Kc29uVXRpbHMnO1xuaW1wb3J0IHsgTnVtYmVyVXRpbHMgfSBmcm9tICcuL051bWJlclV0aWxzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi9TdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBUaW1lU3BhbiB9IGZyb20gJy4vVGltZVNwYW4nO1xuaW1wb3J0IHsgSUdob3N0Q2xpY2tTdXBwcmVzc29yLCBUb3VjaFV0aWxzIH0gZnJvbSAnLi9Ub3VjaFV0aWxzJztcbmltcG9ydCB7IFVpZFV0aWxzIH0gZnJvbSAnLi9VaWRVdGlscyc7XG5cbmV4cG9ydCB7XG4gICAgQXJyYXlVdGlscyxcbiAgICBEYXRlVXRpbHMsXG4gICAgRHJhd1V0aWxzLFxuICAgIElDb21wYXJlcixcbiAgICBJR2hvc3RDbGlja1N1cHByZXNzb3IsXG4gICAgSnNvblV0aWxzLFxuICAgIE51bWJlclV0aWxzLFxuICAgIFN0cmluZ1V0aWxzLFxuICAgIFRpbWVTcGFuLFxuICAgIFRvdWNoVXRpbHMsXG4gICAgVWlkVXRpbHNcbn07XG4iLCIvKipcbiAqIE1haW4gbW9kdWxlLlxuICovXG5pbXBvcnQge1xuICAgIENoYXJ0LFxuICAgIENoYXJ0Qm9hcmQsXG4gICAgRmlndXJlQ29tcG9uZW50LFxuICAgIEZpZ3VyZUZhY3RvcnksXG4gICAgRmlndXJlVHlwZSxcbiAgICBIb3ZlclN0YXRlLFxuICAgIElTdGF0ZUNvbnRyb2xsZXIsXG4gICAgTW92ZUNoYXJ0U3RhdGUsXG4gICAgU3RhdGVGYWJyaWNcbn0gZnJvbSAnLi9saWIvY29tcG9uZW50JztcblxuaW1wb3J0ICogYXMgYXhlcyBmcm9tICcuL2xpYi9heGVzJztcbmltcG9ydCAqIGFzIGNhbnZhcyBmcm9tICcuL2xpYi9jYW52YXMnO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tICcuL2xpYi9jb3JlJztcbmltcG9ydCAqIGFzIGRhdGEgZnJvbSAnLi9saWIvZGF0YSc7XG5pbXBvcnQgKiBhcyBkcmF3aW5nIGZyb20gJy4vbGliL2RyYXdpbmcnO1xuaW1wb3J0ICogYXMgaW5kaWNhdG9yIGZyb20gJy4vbGliL2luZGljYXRvcic7XG5pbXBvcnQgKiBhcyBtb2RlbCBmcm9tICcuL2xpYi9tb2RlbCc7XG5pbXBvcnQgKiBhcyByZW5kZXIgZnJvbSAnLi9saWIvcmVuZGVyJztcbmltcG9ydCAqIGFzIHNoYXJlZCBmcm9tICcuL2xpYi9zaGFyZWQnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9saWIvdXRpbHMnO1xuXG5mdW5jdGlvbiByZWdpc3RlcihzdGF0ZUlkOiBzdHJpbmcsIHN0YXRlOiB7IG5ldygpOiBJU3RhdGVDb250cm9sbGVyIH0pIHtcbiAgICBTdGF0ZUZhYnJpYy5SRUdJU1RFUihzdGF0ZUlkLCBzdGF0ZSk7XG59XG5cbi8vIFJlZ2lzdGVyIGJ1aWx0LWluIHN0YXRlc1xucmVnaXN0ZXIoJ2hvdmVyJywgSG92ZXJTdGF0ZSk7XG5yZWdpc3RlcignbW92ZWNoYXJ0JywgTW92ZUNoYXJ0U3RhdGUpO1xuXG4vLyBSZWdpc3RlciBidWlsdC1pbiBkcmF3aW5nIHRvb2xzXG5yZWdpc3RlcignY3VydmUnLCBkcmF3aW5nLkRyYXdDdXJ2ZVN0YXRlKTtcbnJlZ2lzdGVyKCdsaW5lJywgZHJhd2luZy5EcmF3TGluZVN0YXRlKTtcbnJlZ2lzdGVyKCdobGluZScsIGRyYXdpbmcuRHJhd0hvcml6b250YWxMaW5lU3RhdGUpO1xucmVnaXN0ZXIoJ3ZsaW5lJywgZHJhd2luZy5EcmF3VmVydGljYWxMaW5lU3RhdGUpO1xucmVnaXN0ZXIoJ3JlY3QnLCBkcmF3aW5nLkRyYXdSZWN0U3RhdGUpO1xucmVnaXN0ZXIoJ3RyaWFuZ2xlJywgZHJhd2luZy5EcmF3VHJpYW5nbGVTdGF0ZSk7XG5yZWdpc3RlcigncGF0aCcsIGRyYXdpbmcuRHJhd1BhdGhTdGF0ZSk7XG5yZWdpc3RlcigncGl0Y2hmb3JrJywgZHJhd2luZy5EcmF3UGl0Y2hmb3JrU3RhdGUpO1xucmVnaXN0ZXIoJ3RleHQnLCBkcmF3aW5nLkRyYXdUZXh0U3RhdGUpO1xucmVnaXN0ZXIoJ2VsbGlwc2UnLCBkcmF3aW5nLkRyYXdFbGxpcHNlU3RhdGUpO1xucmVnaXN0ZXIoJ3RyZW5kY2hhbm5lbCcsIGRyYXdpbmcuRHJhd1RyZW5kQ2hhbm5lbFN0YXRlKTtcbnJlZ2lzdGVyKCdkYXRlcmFuZ2UnLCBkcmF3aW5nLkRyYXdEYXRlUmFuZ2VTdGF0ZSk7XG5yZWdpc3RlcignZmlib2ZhbicsIGRyYXdpbmcuRHJhd0ZpYm9GYW5TdGF0ZSk7XG5yZWdpc3RlcignZmlib2xldmVsJywgZHJhd2luZy5EcmF3Rmlib0xldmVsU3RhdGUpO1xucmVnaXN0ZXIoJ2ZpYm9wcm9qZWN0aW9uJywgZHJhd2luZy5EcmF3Rmlib1Byb2plY3Rpb25TdGF0ZSk7XG5yZWdpc3RlcignZmlib3RpbWVwcm9qZWN0aW9uJywgZHJhd2luZy5EcmF3Rmlib1RpbWVQcm9qZWN0aW9uU3RhdGUpO1xucmVnaXN0ZXIoJ2dhbm5mYW4nLCBkcmF3aW5nLkRyYXdHYW5uRmFuU3RhdGUpO1xucmVnaXN0ZXIoJ29obGNwcm9qJywgZHJhd2luZy5EcmF3T2hsY1Byb2pTdGF0ZSk7XG5cbi8vIFJlZ2lzdGVyIGRyYXdpbmcgZmlndXJlc1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmN1cnZlLCBkcmF3aW5nLkN1cnZlRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5saW5lLCBkcmF3aW5nLkxpbmVGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmhsaW5lLCBkcmF3aW5nLkhvcml6b250YWxMaW5lRmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS52bGluZSwgZHJhd2luZy5WZXJ0aWNhbExpbmVGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLnJlY3QsIGRyYXdpbmcuUmVjdEZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUudHJpYW5nbGUsIGRyYXdpbmcuVHJpYW5nbGVGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLnBhdGgsIGRyYXdpbmcuUGF0aEZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUucGl0Y2hmb3JrLCBkcmF3aW5nLlBpdGNoZm9ya0ZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUudGV4dCwgZHJhd2luZy5UZXh0RmlndXJlQ29tcG9uZW50KTtcbkZpZ3VyZUZhY3RvcnkuaW5zdGFuY2UucmVnaXN0ZXIoRmlndXJlVHlwZS5lbGxpcHNlLCBkcmF3aW5nLkVsbGlwc2VGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLnRyZW5kY2hhbm5lbCwgZHJhd2luZy5UcmVuZENoYW5uZWxGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmRhdGVyYW5nZSwgZHJhd2luZy5EYXRlUmFuZ2VGaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmZpYm9mYW4sIGRyYXdpbmcuRmlib0ZhbkZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZmlib2xldmVsLCBkcmF3aW5nLkZpYm9MZXZlbEZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUuZmlib3Byb2plY3Rpb24sIGRyYXdpbmcuRmlib1Byb2plY3Rpb25GaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmZpYm90aW1lcHJvamVjdGlvbiwgZHJhd2luZy5GaWJvVGltZVByb2plY3Rpb25GaWd1cmVDb21wb25lbnQpO1xuRmlndXJlRmFjdG9yeS5pbnN0YW5jZS5yZWdpc3RlcihGaWd1cmVUeXBlLmdhbm5mYW4sIGRyYXdpbmcuR2FubkZhbkZpZ3VyZUNvbXBvbmVudCk7XG5GaWd1cmVGYWN0b3J5Lmluc3RhbmNlLnJlZ2lzdGVyKEZpZ3VyZVR5cGUub2hsY3Byb2osIGRyYXdpbmcuT2hsY1Byb2pGaWd1cmVDb21wb25lbnQpO1xuXG5jb25zdCBzdGF0ZXMgPSB7XG4gICAgcmVnaXN0ZXI6IHJlZ2lzdGVyXG59O1xuXG4vLyBSZWdpc3RlciBidWlsdC1pbiBpbmRpY2F0b3JzXG5pbmRpY2F0b3IucmVnaXN0ZXIoJ2FsbGlnYXRvcicsIGluZGljYXRvci5BbGxpZ2F0b3JJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdib2xsaW5nZXInLCBpbmRpY2F0b3IuQm9sbGluZ2VySW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignU1NUT0MnLCBpbmRpY2F0b3IuU2xvd1N0b2NoYXN0aWNPc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignRlNUT0MnLCBpbmRpY2F0b3IuRmFzdFN0b2NoYXN0aWNPc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignQ0NJJywgaW5kaWNhdG9yLkNDSU9zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdDT1InLCBpbmRpY2F0b3IuQ09SSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignREVNQScsIGluZGljYXRvci5ERU1BSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignRElYJywgaW5kaWNhdG9yLkRJWE9zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdETUknLCBpbmRpY2F0b3IuRE1JSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignRFNTQlInLCBpbmRpY2F0b3IuRFNTQlJPc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignRU1BJywgaW5kaWNhdG9yLkVNQUluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ01BQ0QnLCBpbmRpY2F0b3IuTUFDREluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ01PTScsIGluZGljYXRvci5NT01JbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdNRCcsIGluZGljYXRvci5NREluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0FEWCcsIGluZGljYXRvci5BRFhJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdBVFInLCBpbmRpY2F0b3IuQVRSSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignQVJPJywgaW5kaWNhdG9yLkFyb29uSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignQU9TJywgaW5kaWNhdG9yLkFyb29uT3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0hITEwnLCBpbmRpY2F0b3IuSEhMTEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ0lLSCcsIGluZGljYXRvci5JS0hJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdPQk9TJywgaW5kaWNhdG9yLk9CT1NPc2NpbGxhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUENSJywgaW5kaWNhdG9yLlBDUk9zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdQUCcsIGluZGljYXRvci5QUEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1BTQVInLCBpbmRpY2F0b3IuUFNBUkluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1JCJywgaW5kaWNhdG9yLlJCSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignU1RERVYnLCBpbmRpY2F0b3IuU1RERVZJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdUUCcsIGluZGljYXRvci5UUEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1JBVElPJywgaW5kaWNhdG9yLlJBVElPSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignUlNJJywgaW5kaWNhdG9yLlJTSU9zY2lsbGF0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdSU0wnLCBpbmRpY2F0b3IuUlNMT3NjaWxsYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1JPQycsIGluZGljYXRvci5ST0NJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdTVCcsIGluZGljYXRvci5TVEluZGljYXRvcik7XG5pbmRpY2F0b3IucmVnaXN0ZXIoJ1NNQScsIGluZGljYXRvci5TTUFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdTTU1BJywgaW5kaWNhdG9yLlNNTUFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdURU1BJywgaW5kaWNhdG9yLlRFTUFJbmRpY2F0b3IpO1xuaW5kaWNhdG9yLnJlZ2lzdGVyKCdUTUEnLCBpbmRpY2F0b3IuVE1BSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignVk9MQScsIGluZGljYXRvci5WT0xBSW5kaWNhdG9yKTtcbmluZGljYXRvci5yZWdpc3RlcignV01BJywgaW5kaWNhdG9yLldNQUluZGljYXRvcik7XG5cbi8vIFJlZ2lzdGVyIGJ1aWx0LWluIHJlbmRlcmVyc1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ2FsbGlnYXRvcicsIGluZGljYXRvci5BbGxpZ2F0b3JJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignYm9sbGluZ2VyJywgaW5kaWNhdG9yLkJvbGxpbmdlckluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdTU1RPQycsIGluZGljYXRvci5TdG9jaGFzdGljT3NjaWxsYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdGU1RPQycsIGluZGljYXRvci5TdG9jaGFzdGljT3NjaWxsYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdDQ0knLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignQ09SJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0RFTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignRE1JJywgaW5kaWNhdG9yLkRNSUluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdFTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignU01BJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1NNTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignVEVNQScsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdUTUEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignV01BJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0FEWCcsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdBVFInLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignQVJPJywgaW5kaWNhdG9yLkFyb29uSW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0FPUycsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdISExMJywgaW5kaWNhdG9yLkhITExJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignSUtIJywgaW5kaWNhdG9yLklLSEluZGljYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdQU0FSJywgaW5kaWNhdG9yLlBTQVJJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUkInLCBpbmRpY2F0b3IuUkJJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignU1RERVYnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignVFAnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUkFUSU8nLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUlNJJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1JTTCcsIHJlbmRlci5MaW5lc3RpY2tDaGFydFJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdNT00nLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUk9DJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ09CT1MnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignRElYJywgcmVuZGVyLkxpbmVzdGlja0NoYXJ0UmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ0RTU0JSJywgaW5kaWNhdG9yLkRTU0JST3NjaWxsYXRvclJlbmRlcmVyKTtcbnJlbmRlci5SZW5kZXJMb2NhdG9yLkluc3RhbmNlLnJlZ2lzdGVyKCdQQ1InLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignUFAnLCBpbmRpY2F0b3IuUFBJbmRpY2F0b3JSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignTUQnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5yZW5kZXIuUmVuZGVyTG9jYXRvci5JbnN0YW5jZS5yZWdpc3RlcignTUFDRCcsIGluZGljYXRvci5NQUNESW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1NUJywgaW5kaWNhdG9yLlNUSW5kaWNhdG9yUmVuZGVyZXIpO1xucmVuZGVyLlJlbmRlckxvY2F0b3IuSW5zdGFuY2UucmVnaXN0ZXIoJ1ZPTEEnLCByZW5kZXIuTGluZXN0aWNrQ2hhcnRSZW5kZXJlcik7XG5cbmNvbnN0IGx5Y2hhcnQgPSB7XG4gICAgLy8gdHlwZXM6XG4gICAgQ2hhcnQ6IENoYXJ0LFxuICAgIENoYXJ0Qm9hcmQ6IENoYXJ0Qm9hcmQsXG4gICAgRmlndXJlQ29tcG9uZW50OiBGaWd1cmVDb21wb25lbnQsXG4gICAgLy8gbmFtZXNwYWNlczpcbiAgICBheGVzOiBheGVzLFxuICAgIGNhbnZhczogY2FudmFzLFxuICAgIGNvcmU6IGNvcmUsXG4gICAgZGF0YTogZGF0YSxcbiAgICBkcmF3aW5nOiBkcmF3aW5nLFxuICAgIGluZGljYXRvcjogaW5kaWNhdG9yLFxuICAgIG1vZGVsOiBtb2RlbCxcbiAgICByZW5kZXI6IHJlbmRlcixcbiAgICBzdGF0ZXM6IHN0YXRlcyxcbiAgICBzaGFyZWQ6IHNoYXJlZCxcbiAgICB1dGlsczogdXRpbHNcbn07XG5cbig8YW55PndpbmRvdykubHljaGFydCA9IGx5Y2hhcnQ7XG5cbmV4cG9ydCB7XG4gICAgLy8gdHlwZXM6XG4gICAgQ2hhcnQsXG4gICAgQ2hhcnRCb2FyZCxcbiAgICBGaWd1cmVDb21wb25lbnQsXG4gICAgLy8gbmFtZXNwYWNlczpcbiAgICBheGVzLFxuICAgIGNhbnZhcyxcbiAgICBjb3JlLFxuICAgIGRhdGEsXG4gICAgZHJhd2luZyxcbiAgICBpbmRpY2F0b3IsXG4gICAgbW9kZWwsXG4gICAgcmVuZGVyLFxuICAgIHN0YXRlcyxcbiAgICBzaGFyZWQsXG4gICAgdXRpbHNcbn07XG4iXX0=
